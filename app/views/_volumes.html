<!--
  Expects the following variables:
  volumes
  namespace
 -->
<div ng-repeat="volume in volumes">
  <h4>
    {{volume.name}}
    <span ng-if="canRemove" class="header-actions">
      <a href="" ng-click="removeFn({volume: volume})">删除</a>
    </span>
  </h4>
  <dl class="dl-horizontal left">
    <div ng-if="volume.secret">
      <dt>类别:</dt>
      <dd>
        密钥
        <span class="small text-muted">(创建pod时填充一个密钥)</span>
      </dd>
      <dt>密钥:</dt>
      <dd>
        <span ng-if="secretsVersion | canI : 'get'">
          <a ng-href="{{volume.secret.secretName | navigateResourceURL : 'Secret' : namespace}}">{{volume.secret.secretName}}</a>
        </span>
        <span ng-if="!(secretsVersion | canI : 'get')">
          {{volume.secret.secretName}}
        </span>
      </dd>
      <div ng-repeat="item in volume.secret.items">
        <dt>关键文件:</dt>
        <dd>{{item.key}}&#8201;&#8594;&#8201;{{item.path}}</dd>
      </div>
    </div>
    <div ng-if="volume.persistentVolumeClaim">
      <dt>Type:</dt>
      <dd>
        持久卷声明
        <span class="small text-muted">(引用持久卷声明)</span>
      </dd>
      <dt>Claim name:</dt>
      <dd><a ng-href="{{volume.persistentVolumeClaim.claimName | navigateResourceURL : 'PersistentVolumeClaim' : namespace}}">{{volume.persistentVolumeClaim.claimName}}</a></dd>
      <dt>模式:</dt>
      <dd>
        <span ng-if="volume.persistentVolumeClaim.readOnly">只读</span>
        <span ng-if="!volume.persistentVolumeClaim.readOnly">读写</span>
      </dd>
    </div>
    <div ng-if="volume.hostPath">
      <dt>类别:</dt>
      <dd>
        主机路径
        <span class="small text-muted">(裸主机目录卷)</span>
       </dd>
      <dt>路径:</dt>
      <dd>{{volume.hostPath.path}}</dd>
    </div>
    <div ng-if="volume.emptyDir">
      <dt>类别:</dt>
      <dd>
        空目录
       <span class="small text-muted">(临时目录随pod一起销毁)</span>
       </dd>
      <dt>媒介:</dt>
      <dd>
        <span ng-if="!volume.emptyDir.medium">节点默认</span>
        <span ng-if="volume.emptyDir.medium">{{volume.emptyDir.medium}}</span>
      </dd>
    </div>
    <div ng-if="volume.gitRepo">
      <dt>类别:</dt>
      <dd>
        git存储库
       <span class="small text-muted">(创建pod时从git中提取)</span>
      </dd>
      <dt>存储库:</dt>
      <dd>{{volume.gitRepo.repository}}</dd>
      <dt ng-if-start="volume.gitRepo.revision">版本:</dt>
      <dd ng-if-end>{{volume.gitRepo.revision}}</dd>
    </div>
    <div ng-if="volume.downwardAPI">
      <dt>类别:</dt>
      <dd>
        downward API
        <span class="small text-muted">(填充有关pod的信息)</span>
       </dd>
      <div ng-repeat="item in volume.downwardAPI.items">
        <dt>Volume File:</dt>
        <dd>{{item.fieldRef.fieldPath}}&#8201;&#8594;&#8201;{{item.path}}</dd>
      </div>
    </div>
    <div ng-if="volume.configMap">
      <dt>类别:</dt>
      <dd>
        配置映射
        <span class="small text-muted">(由配置映射填充)</span>
       </dd>
      <dt>配置映射:</dt>
      <dd><a ng-href="{{volume.configMap.name | navigateResourceURL : 'ConfigMap' : namespace}}">{{volume.configMap.name}}</a></dd>
      <div ng-repeat="item in volume.configMap.items">
        <dt>关键文件:</dt>
        <dd>{{item.key}}&#8201;&#8594;&#8201;{{item.path}}</dd>
      </div>
    </div>
  </dl>
</div>
