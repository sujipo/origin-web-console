<!-- Always show `<div class="list-pf-actions">` so everything lines up even if the kebab is hidden.  -->
<div class="list-pf-actions">
  <div ng-if="row.canIDoAny()">
    <div ng-switch="row.apiObject.kind">
      <div ng-switch-when="DeploymentConfig">
        <div uib-dropdown class="dropdown-kebab-pf">
          <button uib-dropdown-toggle class="btn btn-link dropdown-toggle">
            <i class="fa fa-ellipsis-v" aria-hidden="true"></i><span class="sr-only">动作</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role="menu">
            <li ng-if="row.showStartPipelineAction()" role="menuitem">
              <a href="" ng-click="row.startBuild(row.pipelines[0])">开始流水线</a>
            </li>
            <li ng-if="row.showStartBuildAction()" role="menuitem">
              <a href="" ng-click="row.startBuild(row.buildConfigs[0])">开始构建</a>
            </li>
            <li ng-if="row.deploymentConfigsInstantiateVersion | canI : '创建'" role="menuitem">
              <a href="" ng-if="row.canDeploy()" ng-click="row.startDeployment()">部署</a>
              <a href="" ng-if="!(row.canDeploy())" class="disabled-link" aria-disabled="true">
                部署 <span ng-if="row.isPaused()">(暂停)</span>
              </a>
            </li>
            <li ng-if="row.deploymentConfigsVersion | canI : '更新'" role="menuitem">
              <a ng-href="{{row.apiObject | editResourceURL}}">编辑</a>
            </li>
            <li ng-if="('pod_presets' | enableTechPreviewFeature)
                      && row.state.bindableServiceInstances.length
                      && (row.serviceBindingsVersion | canI : '创建')" role="menuitem">
              <a href="" ng-click="row.showOverlayPanel('bindService', {target: row.apiObject})">添加绑定</a>
            </li>
            <li ng-if="('pod_presets' | enableTechPreviewFeature)
                      && row.state.deleteableBindingsByApplicationUID[row.apiObject.metadata.uid].length
                      && (row.serviceBindingsVersion | canI : '删除')" role="menuitem">
              <a href="" ng-click="row.showOverlayPanel('unbindService', {target: row.apiObject})">删除绑定</a>
            </li>
            <li ng-if="row.current && (row.deploymentConfigsLogVersion | canI : '获取')" role="menuitem">
              <a ng-href="{{row.current | navigateResourceURL}}?tab=logs">查看日志</a>
            </li>
          </ul>
        </div>
      </div>
      <div ng-switch-when="Pod">
        <div uib-dropdown class="dropdown-kebab-pf">
          <button uib-dropdown-toggle class="btn btn-link dropdown-toggle">
            <i class="fa fa-ellipsis-v" aria-hidden="true"></i><span class="sr-only">动作</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role="menu">
            <li role="menuitem" ng-if="row.podsVersion | canI : '更新'">
              <a ng-href="{{row.apiObject | editYamlURL}}">编辑YAML</a>
            </li>
            <li role="menuitem" ng-if="(row.podsLogVersion | canI : '获取')">
              <a ng-href="{{row.apiObject | navigateResourceURL}}?tab=logs">查看日志</a>
            </li>
          </ul>
        </div>
      </div>
      <div ng-switch-default>
        <div uib-dropdown class="dropdown-kebab-pf">
          <button uib-dropdown-toggle class="btn btn-link dropdown-toggle">
            <i class="fa fa-ellipsis-v" aria-hidden="true"></i><span class="sr-only">动作</span>
          </button>
          <ul class="dropdown-menu dropdown-menu-right" uib-dropdown-menu role="menu">
            <li role="menuitem" ng-if="row.rgv | canI : '更新'">
              <a ng-href="{{row.apiObject | editYamlURL}}">编辑YAML</a>
            </li>
            <li ng-if="('pod_presets' | enableTechPreviewFeature)
                      && row.state.bindableServiceInstances.length
                      && (row.serviceBindingsVersion | canI : '创建')" role="menuitem">
              <a href="" ng-click="row.showOverlayPanel('bindService', {target: row.apiObject})">添加绑定</a>
            </li>
            <li ng-if="('pod_presets' | enableTechPreviewFeature)
                      && row.state.deleteableBindingsByApplicationUID[row.apiObject.metadata.uid].length
                      && (row.serviceBindingsVersion | canI : '删除')" role="menuitem">
              <a href="" ng-click="row.showOverlayPanel('unbindService', {target: row.apiObject})">删除绑定</a>
            </li>
            <li ng-if="(pod = row.firstPod(row.current)) && (row.podsLogVersion | canI : '获取')" role="menuitem">
              <a ng-href="{{pod | navigateResourceURL}}?tab=logs">查看日志</a>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div><!-- /list-pf-actions-->
