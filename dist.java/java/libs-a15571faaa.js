if(function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(f,e){var t=[],u=t.slice,g=t.concat,s=t.push,r=t.indexOf,n={},i=n.toString,m=n.hasOwnProperty,v={},y=f.document,o="2.1.4",S=function(e,t){return new S.fn.init(e,t)},a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi,d=function(e,t){return t.toUpperCase()};function h(e){var t="length"in e&&e.length,n=S.type(e);return"function"!==n&&!S.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e))}S.fn=S.prototype={jquery:o,constructor:S,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return S.each(this,e,t)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:s,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||S.isFunction(a)||(a={}),s===l&&(a=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(i=e[t])&&(c&&i&&(S.isPlainObject(i)||(r=S.isArray(i)))?(r?(r=!1,o=n&&S.isArray(n)?n:[]):o=n&&S.isPlainObject(n)?n:{},a[t]=S.extend(c,o,i)):void 0!==i&&(a[t]=i));return a},S.extend({expando:"jQuery"+(o+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===S.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!S.isArray(e)&&0<=e-parseFloat(e)+1},isPlainObject:function(e){return"object"===S.type(e)&&!e.nodeType&&!S.isWindow(e)&&!(e.constructor&&!m.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[i.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=S.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(l,"ms-").replace(c,d)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var i=0,r=e.length,o=h(e);if(n){if(o)for(;i<r&&!1!==t.apply(e[i],n);i++);else for(i in e)if(!1===t.apply(e[i],n))break}else if(o)for(;i<r&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(a,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(h(Object(e))?S.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:r.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,a=!n;r<o;r++)!t(e[r],r)!==a&&i.push(e[r]);return i},map:function(e,t,n){var i,r=0,o=e.length,a=[];if(h(e))for(;r<o;r++)null!=(i=t(e[r],r,n))&&a.push(i);else for(r in e)null!=(i=t(e[r],r,n))&&a.push(i);return g.apply([],a)},guid:1,proxy:function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),S.isFunction(e))return i=u.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(u.call(arguments)))}).guid=e.guid=e.guid||S.guid++,r},now:Date.now,support:v}),S.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var p=function(n){var e,f,w,o,i,g,d,m,x,c,u,v,C,r,y,b,a,s,S,k="sizzle"+1*new Date,_=n.document,T=0,h=0,l=oe(),p=oe(),D=oe(),A=function(e,t){return e===t&&(u=!0),0},E={}.hasOwnProperty,t=[],I=t.pop,P=t.push,$=t.push,M=t.slice,O=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",R=j.replace("w","w#"),F="\\["+L+"*("+j+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+L+"*\\]",q=":("+j+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(L+"+","g"),B=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),V=new RegExp("^"+L+"*,"+L+"*"),U=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),z=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),W=new RegExp(q),G=new RegExp("^"+R+"$"),Y={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ne=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},ie=function(){v()};try{$.apply(t=M.call(_.childNodes),_.childNodes),t[_.childNodes.length].nodeType}catch(e){$={apply:t.length?function(e,t){P.apply(e,M.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function re(e,t,n,i){var r,o,a,s,l,c,u,d,h,p;if((t?t.ownerDocument||t:_)!==C&&v(t),n=n||[],s=(t=t||C).nodeType,"string"!=typeof e||!e||1!==s&&9!==s&&11!==s)return n;if(!i&&y){if(11!==s&&(r=Q.exec(e)))if(a=r[1]){if(9===s){if(!(o=t.getElementById(a))||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&S(t,o)&&o.id===a)return n.push(o),n}else{if(r[2])return $.apply(n,t.getElementsByTagName(e)),n;if((a=r[3])&&f.getElementsByClassName)return $.apply(n,t.getElementsByClassName(a)),n}if(f.qsa&&(!b||!b.test(e))){if(d=u=k,h=t,p=1!==s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=g(e),(u=t.getAttribute("id"))?d=u.replace(ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+ge(c[l]);h=Z.test(e)&&pe(t.parentNode)||t,p=c.join(",")}if(p)try{return $.apply(n,h.querySelectorAll(p)),n}catch(e){}finally{u||t.removeAttribute("id")}}}return m(e.replace(B,"$1"),t,n,i)}function oe(){var i=[];return function e(t,n){return i.push(t+" ")>w.cacheLength&&delete e[i.shift()],e[t+" "]=n}}function ae(e){return e[k]=!0,e}function se(e){var t=C.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var n=e.split("|"),i=e.length;i--;)w.attrHandle[n[i]]=t}function ce(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ue(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function de(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function he(a){return ae(function(o){return o=+o,ae(function(e,t){for(var n,i=a([],e.length,o),r=i.length;r--;)e[n=i[r]]&&(e[n]=!(t[n]=e[n]))})})}function pe(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=re.support={},i=re.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=re.setDocument=function(e){var t,n,l=e?e.ownerDocument||e:_;return l!==C&&9===l.nodeType&&l.documentElement?(r=(C=l).documentElement,(n=l.defaultView)&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",ie,!1):n.attachEvent&&n.attachEvent("onunload",ie)),y=!i(l),f.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=se(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=K.test(l.getElementsByClassName),f.getById=se(function(e){return r.appendChild(e).id=k,!l.getElementsByName||!l.getElementsByName(k).length}),f.getById?(w.find.ID=function(e,t){if(void 0!==t.getElementById&&y){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},w.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}}),w.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;n=o[r++];)1===n.nodeType&&i.push(n);return i},w.find.CLASS=f.getElementsByClassName&&function(e,t){if(y)return t.getElementsByClassName(e)},a=[],b=[],(f.qsa=K.test(l.querySelectorAll))&&(se(function(e){r.appendChild(e).innerHTML="<a id='"+k+"'></a><select id='"+k+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&b.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+L+"*(?:value|"+N+")"),e.querySelectorAll("[id~="+k+"-]").length||b.push("~="),e.querySelectorAll(":checked").length||b.push(":checked"),e.querySelectorAll("a#"+k+"+*").length||b.push(".#.+[+~]")}),se(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=K.test(s=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.oMatchesSelector||r.msMatchesSelector))&&se(function(e){f.disconnectedMatch=s.call(e,"div"),s.call(e,"[s!='']:x"),a.push("!=",q)}),b=b.length&&new RegExp(b.join("|")),a=a.length&&new RegExp(a.join("|")),t=K.test(r.compareDocumentPosition),S=t||K.test(r.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},A=t?function(e,t){if(e===t)return u=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===n?e===l||e.ownerDocument===_&&S(_,e)?-1:t===l||t.ownerDocument===_&&S(_,t)?1:c?O(c,e)-O(c,t):0:4&n?-1:1)}:function(e,t){if(e===t)return u=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!r||!o)return e===l?-1:t===l?1:r?-1:o?1:c?O(c,e)-O(c,t):0;if(r===o)return ce(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[i]===s[i];)i++;return i?ce(a[i],s[i]):a[i]===_?-1:s[i]===_?1:0},l):C},re.matches=function(e,t){return re(e,null,null,t)},re.matchesSelector=function(e,t){if((e.ownerDocument||e)!==C&&v(e),t=t.replace(z,"='$1']"),f.matchesSelector&&y&&(!a||!a.test(t))&&(!b||!b.test(t)))try{var n=s.call(e,t);if(n||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){}return 0<re(t,C,null,[e]).length},re.contains=function(e,t){return(e.ownerDocument||e)!==C&&v(e),S(e,t)},re.attr=function(e,t){(e.ownerDocument||e)!==C&&v(e);var n=w.attrHandle[t.toLowerCase()],i=n&&E.call(w.attrHandle,t.toLowerCase())?n(e,t,!y):void 0;return void 0!==i?i:f.attributes||!y?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},re.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},re.uniqueSort=function(e){var t,n=[],i=0,r=0;if(u=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(A),u){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return c=null,e},o=re.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=o(t);return n},(w=re.selectors={cacheLength:50,createPseudo:ae,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||re.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&re.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&W.test(n)&&(t=g(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,i,r){return function(e){var t=re.attr(e,n);return null==t?"!="===i:!i||(t+="","="===i?t===r:"!="===i?t!==r:"^="===i?r&&0===t.indexOf(r):"*="===i?r&&-1<t.indexOf(r):"$="===i?r&&t.slice(-r.length)===r:"~="===i?-1<(" "+t.replace(H," ")+" ").indexOf(r):"|="===i&&(t===r||t.slice(0,r.length+1)===r+"-"))}},CHILD:function(p,e,t,f,g){var m="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===f&&0===g?function(e){return!!e.parentNode}:function(e,t,n){var i,r,o,a,s,l,c=m!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!n&&!y;if(u){if(m){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===d:1===o.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(s=(i=(r=u[k]||(u[k]={}))[p]||[])[0]===T&&i[1],a=i[0]===T&&i[2],o=s&&u.childNodes[s];o=++s&&o&&o[c]||(a=s=0)||l.pop();)if(1===o.nodeType&&++a&&o===e){r[p]=[T,s,a];break}}else if(h&&(i=(e[k]||(e[k]={}))[p])&&i[0]===T)a=i[1];else for(;(o=++s&&o&&o[c]||(a=s=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==d:1!==o.nodeType)||!++a||(h&&((o[k]||(o[k]={}))[p]=[T,a]),o!==e)););return(a-=g)===f||a%f==0&&0<=a/f}}},PSEUDO:function(e,o){var t,a=w.pseudos[e]||w.setFilters[e.toLowerCase()]||re.error("unsupported pseudo: "+e);return a[k]?a(o):1<a.length?(t=[e,e,"",o],w.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var n,i=a(e,o),r=i.length;r--;)e[n=O(e,i[r])]=!(t[n]=i[r])}):function(e){return a(e,0,t)}):a}},pseudos:{not:ae(function(e){var i=[],r=[],s=d(e.replace(B,"$1"));return s[k]?ae(function(e,t,n,i){for(var r,o=s(e,null,i,[]),a=e.length;a--;)(r=o[a])&&(e[a]=!(t[a]=r))}):function(e,t,n){return i[0]=e,s(i,null,n,r),i[0]=null,!r.pop()}}),has:ae(function(t){return function(e){return 0<re(t,e).length}}),contains:ae(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||e.innerText||o(e)).indexOf(t)}}),lang:ae(function(n){return G.test(n||"")||re.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===r},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var i=n<0?n+t:n;0<=--i;)e.push(i);return e}),gt:he(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ue(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=de(e);function fe(){}function ge(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function me(a,e,t){var s=e.dir,l=t&&"parentNode"===s,c=h++;return e.first?function(e,t,n){for(;e=e[s];)if(1===e.nodeType||l)return a(e,t,n)}:function(e,t,n){var i,r,o=[T,c];if(n){for(;e=e[s];)if((1===e.nodeType||l)&&a(e,t,n))return!0}else for(;e=e[s];)if(1===e.nodeType||l){if((i=(r=e[k]||(e[k]={}))[s])&&i[0]===T&&i[1]===c)return o[2]=i[2];if((r[s]=o)[2]=a(e,t,n))return!0}}}function ve(r){return 1<r.length?function(e,t,n){for(var i=r.length;i--;)if(!r[i](e,t,n))return!1;return!0}:r[0]}function ye(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,c=null!=t;s<l;s++)(o=e[s])&&(n&&!n(o,i,r)||(a.push(o),c&&t.push(s)));return a}function be(p,f,g,m,v,e){return m&&!m[k]&&(m=be(m)),v&&!v[k]&&(v=be(v,e)),ae(function(e,t,n,i){var r,o,a,s=[],l=[],c=t.length,u=e||function(e,t,n){for(var i=0,r=t.length;i<r;i++)re(e,t[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),d=!p||!e&&f?u:ye(u,s,p,n,i),h=g?v||(e?p:c||m)?[]:t:d;if(g&&g(d,h,n,i),m)for(r=ye(h,l),m(r,[],n,i),o=r.length;o--;)(a=r[o])&&(h[l[o]]=!(d[l[o]]=a));if(e){if(v||p){if(v){for(r=[],o=h.length;o--;)(a=h[o])&&r.push(d[o]=a);v(null,h=[],r,i)}for(o=h.length;o--;)(a=h[o])&&-1<(r=v?O(e,a):s[o])&&(e[r]=!(t[r]=a))}}else h=ye(h===t?h.splice(c,h.length):h),v?v(null,t,h,i):$.apply(t,h)})}function we(e){for(var r,t,n,i=e.length,o=w.relative[e[0].type],a=o||w.relative[" "],s=o?1:0,l=me(function(e){return e===r},a,!0),c=me(function(e){return-1<O(r,e)},a,!0),u=[function(e,t,n){var i=!o&&(n||t!==x)||((r=t).nodeType?l(e,t,n):c(e,t,n));return r=null,i}];s<i;s++)if(t=w.relative[e[s].type])u=[me(ve(u),t)];else{if((t=w.filter[e[s].type].apply(null,e[s].matches))[k]){for(n=++s;n<i&&!w.relative[e[n].type];n++);return be(1<s&&ve(u),1<s&&ge(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&we(e.slice(s,n)),n<i&&we(e=e.slice(n)),n<i&&ge(e))}u.push(t)}return ve(u)}return fe.prototype=w.filters=w.pseudos,w.setFilters=new fe,g=re.tokenize=function(e,t){var n,i,r,o,a,s,l,c=p[e+" "];if(c)return t?0:c.slice(0);for(a=e,s=[],l=w.preFilter;a;){for(o in n&&!(i=V.exec(a))||(i&&(a=a.slice(i[0].length)||a),s.push(r=[])),n=!1,(i=U.exec(a))&&(n=i.shift(),r.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),w.filter)!(i=Y[o].exec(a))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?re.error(e):p(e,s).slice(0)},d=re.compile=function(e,t){var n,m,v,y,b,i,r=[],o=[],a=D[e+" "];if(!a){for(t||(t=g(e)),n=t.length;n--;)(a=we(t[n]))[k]?r.push(a):o.push(a);(a=D(e,(m=o,y=0<(v=r).length,b=0<m.length,i=function(e,t,n,i,r){var o,a,s,l=0,c="0",u=e&&[],d=[],h=x,p=e||b&&w.find.TAG("*",r),f=T+=null==h?1:Math.random()||.1,g=p.length;for(r&&(x=t!==C&&t);c!==g&&null!=(o=p[c]);c++){if(b&&o){for(a=0;s=m[a++];)if(s(o,t,n)){i.push(o);break}r&&(T=f)}y&&((o=!s&&o)&&l--,e&&u.push(o))}if(l+=c,y&&c!==l){for(a=0;s=v[a++];)s(u,d,t,n);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=I.call(i));d=ye(d)}$.apply(i,d),r&&!e&&0<d.length&&1<l+v.length&&re.uniqueSort(i)}return r&&(T=f,x=h),u},y?ae(i):i))).selector=e}return a},m=re.select=function(e,t,n,i){var r,o,a,s,l,c="function"==typeof e&&e,u=!i&&g(e=c.selector||e);if(n=n||[],1===u.length){if(2<(o=u[0]=u[0].slice(0)).length&&"ID"===(a=o[0]).type&&f.getById&&9===t.nodeType&&y&&w.relative[o[1].type]){if(!(t=(w.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;c&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=Y.needsContext.test(e)?0:o.length;r--&&(a=o[r],!w.relative[s=a.type]);)if((l=w.find[s])&&(i=l(a.matches[0].replace(te,ne),Z.test(o[0].type)&&pe(t.parentNode)||t))){if(o.splice(r,1),!(e=i.length&&ge(o)))return $.apply(n,i),n;break}}return(c||d(e,u))(i,t,!y,n,Z.test(e)&&pe(t.parentNode)||t),n},f.sortStable=k.split("").sort(A).join("")===k,f.detectDuplicates=!!u,v(),f.sortDetached=se(function(e){return 1&e.compareDocumentPosition(C.createElement("div"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(N,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),re}(f);S.find=p,S.expr=p.selectors,S.expr[":"]=S.expr.pseudos,S.unique=p.uniqueSort,S.text=p.getText,S.isXMLDoc=p.isXML,S.contains=p.contains;var b=S.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,x=/^.[^:#\[\.,]*$/;function C(e,n,i){if(S.isFunction(n))return S.grep(e,function(e,t){return!!n.call(e,t,e)!==i});if(n.nodeType)return S.grep(e,function(e){return e===n!==i});if("string"==typeof n){if(x.test(n))return S.filter(n,e,i);n=S.filter(n,e)}return S.grep(e,function(e){return 0<=r.call(n,e)!==i})}S.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?S.find.matchesSelector(i,e)?[i]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n=this.length,i=[],r=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<n;t++)if(S.contains(r[t],this))return!0}));for(t=0;t<n;t++)S.find(e,r[t],i);return(i=this.pushStack(1<n?S.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},filter:function(e){return this.pushStack(C(this,e||[],!1))},not:function(e){return this.pushStack(C(this,e||[],!0))},is:function(e){return!!C(this,"string"==typeof e&&b.test(e)?S(e):e||[],!1).length}});var k,_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(S.fn.init=function(e,t){var n,i;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):S.isFunction(e)?void 0!==k.ready?k.ready(e):e(S):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),S.makeArray(e,this));if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:_.exec(e))||!n[1]&&t)return!t||t.jquery?(t||k).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),w.test(n[1])&&S.isPlainObject(t))for(n in t)S.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=y.getElementById(n[2]))&&i.parentNode&&(this.length=1,this[0]=i),this.context=y,this.selector=e,this}).prototype=S.fn,k=S(y);var T=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function A(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}S.extend({dir:function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&S(e).is(n))break;i.push(e)}return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=b.test(e)||"string"!=typeof e?S(e,t||this.context):0;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.unique(o):o)},index:function(e){return e?"string"==typeof e?r.call(S(e),this[0]):r.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.unique(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return S.dir(e,"parentNode")},parentsUntil:function(e,t,n){return S.dir(e,"parentNode",n)},next:function(e){return A(e,"nextSibling")},prev:function(e){return A(e,"previousSibling")},nextAll:function(e){return S.dir(e,"nextSibling")},prevAll:function(e){return S.dir(e,"previousSibling")},nextUntil:function(e,t,n){return S.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return S.dir(e,"previousSibling",n)},siblings:function(e){return S.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return S.sibling(e.firstChild)},contents:function(e){return e.contentDocument||S.merge([],e.childNodes)}},function(i,r){S.fn[i]=function(e,t){var n=S.map(this,r,e);return"Until"!==i.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(D[i]||S.unique(n),T.test(i)&&n.reverse()),this.pushStack(n)}});var E,I=/\S+/g,P={};function $(){y.removeEventListener("DOMContentLoaded",$,!1),f.removeEventListener("load",$,!1),S.ready()}S.Callbacks=function(r){var e,n;r="string"==typeof r?P[r]||(n=P[e=r]={},S.each(e.match(I)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var t,i,o,a,s,l,c=[],u=!r.once&&[],d=function(e){for(t=r.memory&&e,i=!0,l=a||0,a=0,s=c.length,o=!0;c&&l<s;l++)if(!1===c[l].apply(e[0],e[1])&&r.stopOnFalse){t=!1;break}o=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function i(e){S.each(e,function(e,t){var n=S.type(t);"function"===n?r.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==n&&i(t)})}(arguments),o?s=c.length:t&&(a=e,d(t))}return this},remove:function(){return c&&S.each(arguments,function(e,t){for(var n;-1<(n=S.inArray(t,c,n));)c.splice(n,1),o&&(n<=s&&s--,n<=l&&l--)}),this},has:function(e){return e?-1<S.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],s=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||i&&!u||(t=[e,(t=t||[]).slice?t.slice():t],o?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},S.extend({Deferred:function(e){var o=[["resolve","done",S.Callbacks("once memory"),"resolved"],["reject","fail",S.Callbacks("once memory"),"rejected"],["notify","progress",S.Callbacks("memory")]],r="pending",a={state:function(){return r},always:function(){return s.done(arguments).fail(arguments),this},then:function(){var r=arguments;return S.Deferred(function(i){S.each(o,function(e,t){var n=S.isFunction(r[e])&&r[e];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&S.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[t[0]+"With"](this===a?i.promise():this,n?[e]:arguments)})}),r=null}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return a.pipe=a.then,S.each(o,function(e,t){var n=t[2],i=t[3];a[t[1]]=n.add,i&&n.add(function(){r=i},o[1^e][2].disable,o[2][2].lock),s[t[0]]=function(){return s[t[0]+"With"](this===s?a:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var r,t,n,i=0,o=u.call(arguments),a=o.length,s=1!==a||e&&S.isFunction(e.promise)?a:0,l=1===s?e:S.Deferred(),c=function(t,n,i){return function(e){n[t]=this,i[t]=1<arguments.length?u.call(arguments):e,i===r?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(1<a)for(r=new Array(a),t=new Array(a),n=new Array(a);i<a;i++)o[i]&&S.isFunction(o[i].promise)?o[i].promise().done(c(i,n,o)).fail(l.reject).progress(c(i,t,r)):--s;return s||l.resolveWith(n,o),l.promise()}}),S.fn.ready=function(e){return S.ready.promise().done(e),this},S.extend({isReady:!1,readyWait:1,holdReady:function(e){e?S.readyWait++:S.ready(!0)},ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||(E.resolveWith(y,[S]),S.fn.triggerHandler&&(S(y).triggerHandler("ready"),S(y).off("ready")))}}),S.ready.promise=function(e){return E||(E=S.Deferred(),"complete"===y.readyState?setTimeout(S.ready):(y.addEventListener("DOMContentLoaded",$,!1),f.addEventListener("load",$,!1))),E.promise(e)},S.ready.promise();var M=S.access=function(e,t,n,i,r,o,a){var s=0,l=e.length,c=null==n;if("object"===S.type(n))for(s in r=!0,n)S.access(e,t,s,n[s],!0,o,a);else if(void 0!==i&&(r=!0,S.isFunction(i)||(a=!0),c&&(a?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(S(e),n)})),t))for(;s<l;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:c?t.call(e):l?t(e[0],n):o};function O(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=S.expando+O.uid++}S.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},O.uid=1,O.accepts=S.acceptData,O.prototype={key:function(t){if(!O.accepts(t))return 0;var n={},i=t[this.expando];if(!i){i=O.uid++;try{n[this.expando]={value:i},Object.defineProperties(t,n)}catch(e){n[this.expando]=i,S.extend(t,n)}}return this.cache[i]||(this.cache[i]={}),i},set:function(e,t,n){var i,r=this.key(e),o=this.cache[r];if("string"==typeof t)o[t]=n;else if(S.isEmptyObject(o))S.extend(this.cache[r],t);else for(i in t)o[i]=t[i];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var i;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(i=this.get(e,t))?i:this.get(e,S.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i,r,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{S.isArray(t)?i=t.concat(t.map(S.camelCase)):(r=S.camelCase(t),i=t in a?[t,r]:(i=r)in a?[i]:i.match(I)||[]),n=i.length;for(;n--;)delete a[i[n]]}},hasData:function(e){return!S.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var N=new O,L=new O,j=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,R=/([A-Z])/g;function F(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(R,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:j.test(n)?S.parseJSON(n):n)}catch(e){}L.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return L.hasData(e)||N.hasData(e)},data:function(e,t,n){return L.access(e,t,n)},removeData:function(e,t){L.remove(e,t)},_data:function(e,t,n){return N.access(e,t,n)},_removeData:function(e,t){N.remove(e,t)}}),S.fn.extend({data:function(i,e){var t,n,r,o=this[0],a=o&&o.attributes;if(void 0!==i)return"object"==typeof i?this.each(function(){L.set(this,i)}):M(this,function(t){var e,n=S.camelCase(i);if(o&&void 0===t)return void 0!==(e=L.get(o,i))?e:void 0!==(e=L.get(o,n))?e:void 0!==(e=F(o,n,void 0))?e:void 0;this.each(function(){var e=L.get(this,n);L.set(this,n,t),-1!==i.indexOf("-")&&void 0!==e&&L.set(this,i,t)})},null,e,1<arguments.length,null,!0);if(this.length&&(r=L.get(o),1===o.nodeType&&!N.get(o,"hasDataAttrs"))){for(t=a.length;t--;)a[t]&&0===(n=a[t].name).indexOf("data-")&&(n=S.camelCase(n.slice(5)),F(o,n,r[n]));N.set(o,"hasDataAttrs",!0)}return r},removeData:function(e){return this.each(function(){L.remove(this,e)})}}),S.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=N.get(e,t),n&&(!i||S.isArray(n)?i=N.access(e,t,S.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),i=n.length,r=n.shift(),o=S._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){S.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return N.get(e,n)||N.access(e,n,{empty:S.Callbacks("once memory").add(function(){N.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=S.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=N.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}});var q,H,B=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,V=["Top","Right","Bottom","Left"],U=function(e,t){return e=t||e,"none"===S.css(e,"display")||!S.contains(e.ownerDocument,e)},z=/^(?:checkbox|radio)$/i;q=y.createDocumentFragment().appendChild(y.createElement("div")),(H=y.createElement("input")).setAttribute("type","radio"),H.setAttribute("checked","checked"),H.setAttribute("name","t"),q.appendChild(H),v.checkClone=q.cloneNode(!0).cloneNode(!0).lastChild.checked,q.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!q.cloneNode(!0).lastChild.defaultValue;var W="undefined";v.focusinBubbles="onfocusin"in f;var G=/^key/,Y=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,J=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Q(){return!1}function Z(){try{return y.activeElement}catch(e){}}S.event={global:{},add:function(t,e,n,i,r){var o,a,s,l,c,u,d,h,p,f,g,m=N.get(t);if(m)for(n.handler&&(n=(o=n).handler,r=o.selector),n.guid||(n.guid=S.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof S!==W&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(I)||[""]).length;c--;)p=g=(s=J.exec(e[c])||[])[1],f=(s[2]||"").split(".").sort(),p&&(d=S.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=S.event.special[p]||{},u=S.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&S.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,i,f,a)||t.addEventListener&&t.addEventListener(p,a,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),S.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,a,s,l,c,u,d,h,p,f,g,m=N.hasData(e)&&N.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(I)||[""]).length;c--;)if(p=g=(s=J.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),p){for(d=S.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=h.length;o--;)u=h[o],!r&&g!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));a&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||S.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)S.event.remove(e,p+t[c],n,i,!0);S.isEmptyObject(l)&&(delete m.handle,N.remove(e,"events"))}},trigger:function(e,t,n,i){var r,o,a,s,l,c,u,d=[n||y],h=m.call(e,"type")?e.type:e,p=m.call(e,"namespace")?e.namespace.split("."):[];if(o=a=n=n||y,3!==n.nodeType&&8!==n.nodeType&&!X.test(h+S.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[S.expando]?e:new S.Event(h,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),u=S.event.special[h]||{},i||!u.trigger||!1!==u.trigger.apply(n,t))){if(!i&&!u.noBubble&&!S.isWindow(n)){for(s=u.delegateType||h,X.test(s+h)||(o=o.parentNode);o;o=o.parentNode)d.push(o),a=o;a===(n.ownerDocument||y)&&d.push(a.defaultView||a.parentWindow||f)}for(r=0;(o=d[r++])&&!e.isPropagationStopped();)e.type=1<r?s:u.bindType||h,(c=(N.get(o,"events")||{})[e.type]&&N.get(o,"handle"))&&c.apply(o,t),(c=l&&o[l])&&c.apply&&S.acceptData(o)&&(e.result=c.apply(o,t),!1===e.result&&e.preventDefault());return e.type=h,i||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!S.acceptData(n)||l&&S.isFunction(n[h])&&!S.isWindow(n)&&((a=n[l])&&(n[l]=null),n[S.event.triggered=h](),S.event.triggered=void 0,a&&(n[l]=a)),e.result}},dispatch:function(e){e=S.event.fix(e);var t,n,i,r,o,a,s=u.call(arguments),l=(N.get(this,"events")||{})[e.type]||[],c=S.event.special[e.type]||{};if((s[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=S.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(o.namespace)||(e.handleObj=o,e.data=o.data,void 0!==(i=((S.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(i=[],n=0;n<s;n++)void 0===i[r=(o=t[n]).selector+" "]&&(i[r]=o.needsContext?0<=S(r,this).index(l):S.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||y).documentElement,r=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||r&&r.scrollLeft||0)-(i&&i.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||r&&r.scrollTop||0)-(i&&i.clientTop||r&&r.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[S.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=Y.test(r)?this.mouseHooks:G.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new S.Event(o),t=i.length;t--;)e[n=i[t]]=o[n];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Z()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&S.nodeName(this,"input"))return this.click(),!1},_default:function(e){return S.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,i){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?S.event.trigger(r,null,t):S.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Q):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||S.now(),this[S.expando]=!0},S.Event.prototype={isDefaultPrevented:Q,isPropagationStopped:Q,isImmediatePropagationStopped:Q,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,r){S.event.special[e]={delegateType:r,bindType:r,handle:function(e){var t,n=e.relatedTarget,i=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=i.origType,t=i.handler.apply(this,arguments),e.type=r),t}}}),v.focusinBubbles||S.each({focus:"focusin",blur:"focusout"},function(n,i){var r=function(e){S.event.simulate(i,e.target,S.event.fix(e),!0)};S.event.special[i]={setup:function(){var e=this.ownerDocument||this,t=N.access(e,i);t||e.addEventListener(n,r,!0),N.access(e,i,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=N.access(e,i)-1;t?N.access(e,i,t):(e.removeEventListener(n,r,!0),N.remove(e,i))}}}),S.fn.extend({on:function(e,t,n,i,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],r);return this}if(null==n&&null==i?(i=t,n=t=void 0):null==i&&("string"==typeof t?(i=n,n=void 0):(i=n,n=t,t=void 0)),!1===i)i=Q;else if(!i)return this;return 1===r&&(o=i,(i=function(e){return S().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=S.guid++)),this.each(function(){S.event.add(this,e,i,n,t)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,S(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Q),this.each(function(){S.event.remove(this,e,n,t)});for(r in e)this.off(r,t,e[r]);return this},trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ne=/<|&#?\w+;/,ie=/<(?:script|style|link)/i,re=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,ae=/^true\/(.*)/,se=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return S.nodeName(e,"table")&&S.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function de(e){var t=ae.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=0,i=e.length;n<i;n++)N.set(e[n],"globalEval",!t||N.get(t[n],"globalEval"))}function pe(e,t){var n,i,r,o,a,s,l,c;if(1===t.nodeType){if(N.hasData(e)&&(o=N.access(e),a=N.set(t,o),c=o.events))for(r in delete a.handle,a.events={},c)for(n=0,i=c[r].length;n<i;n++)S.event.add(t,r,c[r][n]);L.hasData(e)&&(s=L.access(e),l=S.extend({},s),L.set(t,l))}}function fe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&S.nodeName(e,t)?S.merge([e],n):n}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,S.extend({clone:function(e,t,n){var i,r,o,a,s,l,c,u=e.cloneNode(!0),d=S.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=fe(u),i=0,r=(o=fe(e)).length;i<r;i++)s=o[i],l=a[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&z.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(o=o||fe(e),a=a||fe(u),i=0,r=o.length;i<r;i++)pe(o[i],a[i]);else pe(e,u);return 0<(a=fe(u,"script")).length&&he(a,!d&&fe(e,"script")),u},buildFragment:function(e,t,n,i){for(var r,o,a,s,l,c,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((r=e[h])||0===r)if("object"===S.type(r))S.merge(d,r.nodeType?[r]:r);else if(ne.test(r)){for(o=o||u.appendChild(t.createElement("div")),a=(te.exec(r)||["",""])[1].toLowerCase(),s=le[a]||le._default,o.innerHTML=s[1]+r.replace(ee,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;S.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(r));for(u.textContent="",h=0;r=d[h++];)if((!i||-1===S.inArray(r,i))&&(l=S.contains(r.ownerDocument,r),o=fe(u.appendChild(r),"script"),l&&he(o),n))for(c=0;r=o[c++];)oe.test(r.type||"")&&n.push(r);return u},cleanData:function(e){for(var t,n,i,r,o=S.event.special,a=0;void 0!==(n=e[a]);a++){if(S.acceptData(n)&&(r=n[N.expando])&&(t=N.cache[r])){if(t.events)for(i in t.events)o[i]?S.event.remove(n,i):S.removeEvent(n,i,t.handle);N.cache[r]&&delete N.cache[r]}delete L.cache[n[L.expando]]}}}),S.fn.extend({text:function(e){return M(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,i=e?S.filter(e,this):this,r=0;null!=(n=i[r]);r++)t||1!==n.nodeType||S.cleanData(fe(n)),n.parentNode&&(t&&S.contains(n.ownerDocument,n)&&he(fe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ie.test(e)&&!le[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,S.cleanData(fe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(n,i){n=g.apply([],n);var e,t,r,o,a,s,l=0,c=this.length,u=this,d=c-1,h=n[0],p=S.isFunction(h);if(p||1<c&&"string"==typeof h&&!v.checkClone&&re.test(h))return this.each(function(e){var t=u.eq(e);p&&(n[0]=h.call(this,e,t.html())),t.domManip(n,i)});if(c&&(t=(e=S.buildFragment(n,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(o=(r=S.map(fe(e,"script"),ue)).length;l<c;l++)a=e,l!==d&&(a=S.clone(a,!0,!0),o&&S.merge(r,fe(a,"script"))),i.call(this[l],a,l);if(o)for(s=r[r.length-1].ownerDocument,S.map(r,de),l=0;l<o;l++)a=r[l],oe.test(a.type||"")&&!N.access(a,"globalEval")&&S.contains(s,a)&&(a.src?S._evalUrl&&S._evalUrl(a.src):S.globalEval(a.textContent.replace(se,"")))}return this}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],i=S(e),r=i.length-1,o=0;o<=r;o++)t=o===r?this:this.clone(!0),S(i[o])[a](t),s.apply(n,t.get());return this.pushStack(n)}});var ge,me={};function ve(e,t){var n,i=S(t.createElement(e)).appendTo(t.body),r=f.getDefaultComputedStyle&&(n=f.getDefaultComputedStyle(i[0]))?n.display:S.css(i[0],"display");return i.detach(),r}function ye(e){var t=y,n=me[e];return n||("none"!==(n=ve(e,t))&&n||((t=(ge=(ge||S("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ve(e,t),ge.detach()),me[e]=n),n}var be=/^margin/,we=new RegExp("^("+B+")(?!px)[a-z%]+$","i"),xe=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):f.getComputedStyle(e,null)};function Ce(e,t,n){var i,r,o,a,s=e.style;return(n=n||xe(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||S.contains(e.ownerDocument,e)||(a=S.style(e,t)),we.test(a)&&be.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o)),void 0!==a?a+"":a}function Se(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,i=y.documentElement,r=y.createElement("div"),o=y.createElement("div");function e(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",i.appendChild(r);var e=f.getComputedStyle(o,null);t="1%"!==e.top,n="4px"===e.width,i.removeChild(r)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===o.style.backgroundClip,r.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",r.appendChild(o),f.getComputedStyle&&S.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==n&&e(),n},reliableMarginRight:function(){var e,t=o.appendChild(y.createElement("div"));return t.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",o.style.width="1px",i.appendChild(r),e=!parseFloat(f.getComputedStyle(t,null).marginRight),i.removeChild(r),o.removeChild(t),e}}))}(),S.swap=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=a[o];return r};var ke=/^(none|table(?!-c[ea]).+)/,_e=new RegExp("^("+B+")(.*)$","i"),Te=new RegExp("^([+-])=("+B+")","i"),De={position:"absolute",visibility:"hidden",display:"block"},Ae={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"];function Ie(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),i=t,r=Ee.length;r--;)if((t=Ee[r]+n)in e)return t;return i}function Pe(e,t,n){var i=_e.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function $e(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=S.css(e,n+V[o],!0,r)),i?("content"===n&&(a-=S.css(e,"padding"+V[o],!0,r)),"margin"!==n&&(a-=S.css(e,"border"+V[o]+"Width",!0,r))):(a+=S.css(e,"padding"+V[o],!0,r),"padding"!==n&&(a+=S.css(e,"border"+V[o]+"Width",!0,r)));return a}function Me(e,t,n){var i=!0,r="width"===t?e.offsetWidth:e.offsetHeight,o=xe(e),a="border-box"===S.css(e,"boxSizing",!1,o);if(r<=0||null==r){if(((r=Ce(e,t,o))<0||null==r)&&(r=e.style[t]),we.test(r))return r;i=a&&(v.boxSizingReliable()||r===e.style[t]),r=parseFloat(r)||0}return r+$e(e,t,n||(a?"border":"content"),i,o)+"px"}function Oe(e,t){for(var n,i,r,o=[],a=0,s=e.length;a<s;a++)(i=e[a]).style&&(o[a]=N.get(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&U(i)&&(o[a]=N.access(i,"olddisplay",ye(i.nodeName)))):(r=U(i),"none"===n&&r||N.set(i,"olddisplay",r?n:S.css(i,"display"))));for(a=0;a<s;a++)(i=e[a]).style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function Ne(e,t,n,i,r){return new Ne.prototype.init(e,t,n,i,r)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ce(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=S.camelCase(t),l=e.style;if(t=S.cssProps[s]||(S.cssProps[s]=Ie(l,s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];"string"===(o=typeof n)&&(r=Te.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(S.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||S.cssNumber[s]||(n+="px"),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,i))||(l[t]=n))}},css:function(e,t,n,i){var r,o,a,s=S.camelCase(t);return t=S.cssProps[s]||(S.cssProps[s]=Ie(e.style,s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(r=a.get(e,!0,n)),void 0===r&&(r=Ce(e,t,i)),"normal"===r&&t in Ae&&(r=Ae[t]),""===n||n?(o=parseFloat(r),!0===n||S.isNumeric(o)?o||0:r):r}}),S.each(["height","width"],function(e,r){S.cssHooks[r]={get:function(e,t,n){if(t)return ke.test(S.css(e,"display"))&&0===e.offsetWidth?S.swap(e,De,function(){return Me(e,r,n)}):Me(e,r,n)},set:function(e,t,n){var i=n&&xe(e);return Pe(0,t,n?$e(e,r,n,"border-box"===S.css(e,"boxSizing",!1,i),i):0)}}}),S.cssHooks.marginRight=Se(v.reliableMarginRight,function(e,t){if(t)return S.swap(e,{display:"inline-block"},Ce,[e,"marginRight"])}),S.each({margin:"",padding:"",border:"Width"},function(r,o){S.cssHooks[r+o]={expand:function(e){for(var t=0,n={},i="string"==typeof e?e.split(" "):[e];t<4;t++)n[r+V[t]+o]=i[t]||i[t-2]||i[0];return n}},be.test(r)||(S.cssHooks[r+o].set=Pe)}),S.fn.extend({css:function(e,t){return M(this,function(e,t,n){var i,r,o={},a=0;if(S.isArray(t)){for(i=xe(e),r=t.length;a<r;a++)o[t[a]]=S.css(e,t[a],!1,i);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)},show:function(){return Oe(this,!0)},hide:function(){return Oe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){U(this)?S(this).show():S(this).hide()})}}),((S.Tween=Ne).prototype={constructor:Ne,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ne.propHooks[this.prop];return e&&e.get?e.get(this):Ne.propHooks._default.get(this)},run:function(e){var t,n=Ne.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ne.propHooks._default.set(this),this}}).init.prototype=Ne.prototype,(Ne.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[S.cssProps[e.prop]]||S.cssHooks[e.prop])?S.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Ne.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},S.fx=Ne.prototype.init,S.fx.step={};var Le,je,Re,Fe,qe,He=/^(?:toggle|show|hide)$/,Be=new RegExp("^(?:([+-])=|)("+B+")([a-z%]*)$","i"),Ve=/queueHooks$/,Ue=[function(t,e,n){var i,r,o,a,s,l,c,u=this,d={},h=t.style,p=t.nodeType&&U(t),f=N.get(t,"fxshow");n.queue||(null==(s=S._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,S.queue(t,"fx").length||s.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],c=S.css(t,"display"),"inline"===("none"===c?N.get(t,"olddisplay")||ye(t.nodeName):c)&&"none"===S.css(t,"float")&&(h.display="inline-block"));n.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],He.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(p?"hide":"show")){if("show"!==r||!f||void 0===f[i])continue;p=!0}d[i]=f&&f[i]||S.style(t,i)}else c=void 0;if(S.isEmptyObject(d))"inline"===("none"===c?ye(t.nodeName):c)&&(h.display=c);else for(i in f?"hidden"in f&&(p=f.hidden):f=N.access(t,"fxshow",{}),o&&(f.hidden=!p),p?S(t).show():u.done(function(){S(t).hide()}),u.done(function(){var e;for(e in N.remove(t,"fxshow"),d)S.style(t,e,d[e])}),d)a=Ye(p?f[i]:0,i,u),i in f||(f[i]=a.start,p&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}],ze={"*":[function(e,t){var n=this.createTween(e,t),i=n.cur(),r=Be.exec(t),o=r&&r[3]||(S.cssNumber[e]?"":"px"),a=(S.cssNumber[e]||"px"!==o&&+i)&&Be.exec(S.css(n.elem,e)),s=1,l=20;if(a&&a[3]!==o)for(o=o||a[3],r=r||[],a=+i||1;a/=s=s||".5",S.style(n.elem,e,a+o),s!==(s=n.cur()/i)&&1!==s&&--l;);return r&&(a=n.start=+a||+i||0,n.unit=o,n.end=r[1]?a+(r[1]+1)*r[2]:+r[2]),n}]};function We(){return setTimeout(function(){Le=void 0}),Le=S.now()}function Ge(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=V[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function Ye(e,t,n){for(var i,r=(ze[t]||[]).concat(ze["*"]),o=0,a=r.length;o<a;o++)if(i=r[o].call(n,t,e))return i}function Xe(o,e,t){var n,a,i=0,r=Ue.length,s=S.Deferred().always(function(){delete l.elem}),l=function(){if(a)return!1;for(var e=Le||We(),t=Math.max(0,c.startTime+c.duration-e),n=1-(t/c.duration||0),i=0,r=c.tweens.length;i<r;i++)c.tweens[i].run(n);return s.notifyWith(o,[c,n,t]),n<1&&r?t:(s.resolveWith(o,[c]),!1)},c=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Le||We(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(n),n},stop:function(e){var t=0,n=e?c.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)c.tweens[t].run(1);return e?s.resolveWith(o,[c,e]):s.rejectWith(o,[c,e]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,a;for(n in e)if(r=t[i=S.camelCase(n)],o=e[n],S.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(a=S.cssHooks[i])&&"expand"in a)for(n in o=a.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);i<r;i++)if(n=Ue[i].call(c,o,u,c.opts))return n;return S.map(u,Ye,c),S.isFunction(c.opts.start)&&c.opts.start.call(o,c),S.fx.timer(S.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}S.Animation=S.extend(Xe,{tweener:function(e,t){S.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;i<r;i++)n=e[i],ze[n]=ze[n]||[],ze[n].unshift(t)},prefilter:function(e,t){t?Ue.unshift(e):Ue.push(e)}}),S.speed=function(e,t,n){var i=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||S.isFunction(e)&&e,duration:e,easing:n&&t||t&&!S.isFunction(t)&&t};return i.duration=S.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in S.fx.speeds?S.fx.speeds[i.duration]:S.fx.speeds._default,null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){S.isFunction(i.old)&&i.old.call(this),i.queue&&S.dequeue(this,i.queue)},i},S.fn.extend({fadeTo:function(e,t,n,i){return this.filter(U).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(t,e,n,i){var r=S.isEmptyObject(t),o=S.speed(e,n,i),a=function(){var e=Xe(this,S.extend({},t),o);(r||N.get(this,"finish"))&&e.stop(!0)};return a.finish=a,r||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(r,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof r&&(o=e,e=r,r=void 0),e&&!1!==r&&this.queue(r||"fx",[]),this.each(function(){var e=!0,t=null!=r&&r+"queueHooks",n=S.timers,i=N.get(this);if(t)i[t]&&i[t].stop&&a(i[t]);else for(t in i)i[t]&&i[t].stop&&Ve.test(t)&&a(i[t]);for(t=n.length;t--;)n[t].elem!==this||null!=r&&n[t].queue!==r||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,r)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=N.get(this),n=t[a+"queue"],i=t[a+"queueHooks"],r=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),i&&i.stop&&i.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===a&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,i){var r=S.fn[i];S.fn[i]=function(e,t,n){return null==e||"boolean"==typeof e?r.apply(this,arguments):this.animate(Ge(i,!0),e,t,n)}}),S.each({slideDown:Ge("show"),slideUp:Ge("hide"),slideToggle:Ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,i){S.fn[e]=function(e,t,n){return this.animate(i,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Le=S.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Le=void 0},S.fx.timer=function(e){S.timers.push(e),e()?S.fx.start():S.timers.pop()},S.fx.interval=13,S.fx.start=function(){je||(je=setInterval(S.fx.tick,S.fx.interval))},S.fx.stop=function(){clearInterval(je),je=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(i,e){return i=S.fx&&S.fx.speeds[i]||i,e=e||"fx",this.queue(e,function(e,t){var n=setTimeout(e,i);t.stop=function(){clearTimeout(n)}})},Re=y.createElement("input"),Fe=y.createElement("select"),qe=Fe.appendChild(y.createElement("option")),Re.type="checkbox",v.checkOn=""!==Re.value,v.optSelected=qe.selected,Fe.disabled=!0,v.optDisabled=!qe.disabled,(Re=y.createElement("input")).value="t",Re.type="radio",v.radioValue="t"===Re.value;var Je,Ke=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return M(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===W?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(t=t.toLowerCase(),i=S.attrHooks[t]||(S.expr.match.bool.test(t)?Je:void 0)),void 0===n?i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r:null!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):void S.removeAttr(e,t))},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(I);if(o&&1===e.nodeType)for(;n=o[r++];)i=S.propFix[n]||n,S.expr.match.bool.test(n)&&(e[i]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&S.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Je={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ke[t]||S.find.attr;Ke[t]=function(e,t,n){var i,r;return n||(r=Ke[t],Ke[t]=i,i=null!=o(e,t,n)?t.toLowerCase():null,Ke[t]=r),i}});var Qe=/^(?:input|select|textarea|button)$/i;S.fn.extend({prop:function(e,t){return M(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var i,r,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!S.isXMLDoc(e))&&(t=S.propFix[t]||t,r=S.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Qe.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this});var Ze=/[\t\r\n\f]/g;S.fn.extend({addClass:function(t){var e,n,i,r,o,a,s="string"==typeof t&&t,l=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(I)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");a=S.trim(i),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,i,r,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(S.isFunction(t))return this.each(function(e){S(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(I)||[];l<c;l++)if(i=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Ze," "):"")){for(o=0;r=e[o++];)for(;0<=i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," ");a=t?S.trim(i):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(r,t){var o=typeof r;return"boolean"==typeof t&&"string"===o?t?this.addClass(r):this.removeClass(r):S.isFunction(r)?this.each(function(e){S(this).toggleClass(r.call(this,e,this.className,t),t)}):this.each(function(){if("string"===o)for(var e,t=0,n=S(this),i=r.match(I)||[];e=i[t++];)n.hasClass(e)?n.removeClass(e):n.addClass(e);else o!==W&&"boolean"!==o||(this.className&&N.set(this,"__className__",this.className),this.className=this.className||!1===r?"":N.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;n<i;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Ze," ").indexOf(t))return!0;return!1}});var et=/\r/g;S.fn.extend({val:function(n){var i,e,r,t=this[0];return arguments.length?(r=S.isFunction(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=r?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":S.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(i=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in i&&void 0!==i.set(this,t,"value")||(this.value=t))})):t?(i=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in i&&void 0!==(e=i.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:S.trim(S.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||r<0,a=o?null:[],s=o?r+1:i.length,l=r<0?s:o?r:0;l<s;l++)if(((n=i[l]).selected||l===r)&&(v.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!S.nodeName(n.parentNode,"optgroup"))){if(t=S(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=S.makeArray(t),a=r.length;a--;)((i=r[a]).selected=0<=S.inArray(i.value,o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(S.isArray(t))return e.checked=0<=S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),S.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}}),S.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var tt=S.now(),nt=/\?/;S.parseJSON=function(e){return JSON.parse(e+"")},S.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||S.error("Invalid XML: "+e),t};var it=/#.*$/,rt=/([?&])_=[^&]*/,ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,at=/^(?:GET|HEAD)$/,st=/^\/\//,lt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ct={},ut={},dt="*/".concat("*"),ht=f.location.href,pt=lt.exec(ht.toLowerCase())||[];function ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,i=0,r=e.toLowerCase().match(I)||[];if(S.isFunction(t))for(;n=r[i++];)"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function gt(t,r,o,a){var s={},l=t===ut;function c(e){var i;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(r,o,a);return"string"!=typeof n||l||s[n]?l?!(i=n):void 0:(r.dataTypes.unshift(n),c(n),!1)}),i}return c(r.dataTypes[0])||!s["*"]&&c("*")}function mt(e,t){var n,i,r=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&S.extend(!0,e,i),e}S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ht,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(pt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":dt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":S.parseJSON,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?mt(mt(e,S.ajaxSettings),t):mt(S.ajaxSettings,e)},ajaxPrefilter:ft(ct),ajaxTransport:ft(ut),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,h,n,p,i,f,r,g=S.ajaxSetup({},t),m=g.context||g,v=g.context&&(m.nodeType||m.jquery)?S(m):S.event,y=S.Deferred(),b=S.Callbacks("once memory"),w=g.statusCode||{},o={},a={},x=0,s="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!n)for(n={};t=ot.exec(h);)n[t[1].toLowerCase()]=t[2];t=n[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?h:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=a[n]=a[n]||e,o[e]=t),this},overrideMimeType:function(e){return x||(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(x<2)for(t in e)w[t]=[w[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||s;return u&&u.abort(t),l(0,t),this}};if(y.promise(C).complete=b.add,C.success=C.done,C.error=C.fail,g.url=((e||g.url||ht)+"").replace(it,"").replace(st,pt[1]+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=S.trim(g.dataType||"*").toLowerCase().match(I)||[""],null==g.crossDomain&&(i=lt.exec(g.url.toLowerCase()),g.crossDomain=!(!i||i[1]===pt[1]&&i[2]===pt[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(pt[3]||("http:"===pt[1]?"80":"443")))),g.data&&g.processData&&"string"!=typeof g.data&&(g.data=S.param(g.data,g.traditional)),gt(ct,g,t,C),2===x)return C;for(r in(f=S.event&&g.global)&&0==S.active++&&S.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!at.test(g.type),d=g.url,g.hasContent||(g.data&&(d=g.url+=(nt.test(d)?"&":"?")+g.data,delete g.data),!1===g.cache&&(g.url=rt.test(d)?d.replace(rt,"$1_="+tt++):d+(nt.test(d)?"&":"?")+"_="+tt++)),g.ifModified&&(S.lastModified[d]&&C.setRequestHeader("If-Modified-Since",S.lastModified[d]),S.etag[d]&&C.setRequestHeader("If-None-Match",S.etag[d])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&C.setRequestHeader("Content-Type",g.contentType),C.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+dt+"; q=0.01":""):g.accepts["*"]),g.headers)C.setRequestHeader(r,g.headers[r]);if(g.beforeSend&&(!1===g.beforeSend.call(m,C,g)||2===x))return C.abort();for(r in s="abort",{success:1,error:1,complete:1})C[r](g[r]);if(u=gt(ut,g,t,C)){C.readyState=1,f&&v.trigger("ajaxSend",[C,g]),g.async&&0<g.timeout&&(p=setTimeout(function(){C.abort("timeout")},g.timeout));try{x=1,u.send(o,l)}catch(e){if(!(x<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,i){var r,o,a,s,l,c=t;2!==x&&(x=2,p&&clearTimeout(p),u=void 0,h=i||"",C.readyState=0<e?4:0,r=200<=e&&e<300||304===e,n&&(s=function(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in s)if(s[r]&&s[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}a||(a=r)}o=o||a}if(o)return o!==l[0]&&l.unshift(o),n[o]}(g,C,n)),s=function(e,t,n,i){var r,o,a,s,l,c={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(a=c[l+" "+o]||c["* "+o]))for(r in c)if((s=r.split(" "))[1]===o&&(a=c[l+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[r]:!0!==c[r]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(g,s,C,r),r?(g.ifModified&&((l=C.getResponseHeader("Last-Modified"))&&(S.lastModified[d]=l),(l=C.getResponseHeader("etag"))&&(S.etag[d]=l)),204===e||"HEAD"===g.type?c="nocontent":304===e?c="notmodified":(c=s.state,o=s.data,r=!(a=s.error))):(a=c,!e&&c||(c="error",e<0&&(e=0))),C.status=e,C.statusText=(t||c)+"",r?y.resolveWith(m,[o,c,C]):y.rejectWith(m,[C,c,a]),C.statusCode(w),w=void 0,f&&v.trigger(r?"ajaxSuccess":"ajaxError",[C,g,r?o:a]),b.fireWith(m,[C,c]),f&&(v.trigger("ajaxComplete",[C,g]),--S.active||S.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,r){S[r]=function(e,t,n,i){return S.isFunction(t)&&(i=i||n,n=t,t=void 0),S.ajax({url:e,type:r,dataType:i,data:t,success:n})}}),S._evalUrl=function(e){return S.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},S.fn.extend({wrapAll:function(t){var e;return S.isFunction(t)?this.each(function(e){S(this).wrapAll(t.call(this,e))}):(this[0]&&(e=S(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(n){return S.isFunction(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=S.isFunction(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){S.nodeName(this,"body")||S(this).replaceWith(this.childNodes)}).end()}}),S.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},S.expr.filters.visible=function(e){return!S.expr.filters.hidden(e)};var vt=/%20/g,yt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,xt=/^(?:input|select|textarea|keygen)/i;function Ct(n,e,i,r){var t;if(S.isArray(e))S.each(e,function(e,t){i||yt.test(n)?r(n,t):Ct(n+"["+("object"==typeof t?e:"")+"]",t,i,r)});else if(i||"object"!==S.type(e))r(n,e);else for(t in e)Ct(n+"["+t+"]",e[t],i,r)}S.param=function(e,t){var n,i=[],r=function(e,t){t=S.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=S.ajaxSettings&&S.ajaxSettings.traditional),S.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){r(this.name,this.value)});else for(n in e)Ct(n,e[n],t,r);return i.join("&").replace(vt,"+")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&xt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!z.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:S.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:n.replace(bt,"\r\n")}}).get()}}),S.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var St=0,kt={},_t={0:200,1223:204},Tt=S.ajaxSettings.xhr();f.attachEvent&&f.attachEvent("onunload",function(){for(var e in kt)kt[e]()}),v.cors=!!Tt&&"withCredentials"in Tt,v.ajax=Tt=!!Tt,S.ajaxTransport(function(o){var a;if(v.cors||Tt&&!o.crossDomain)return{send:function(e,t){var n,i=o.xhr(),r=++St;if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)i.setRequestHeader(n,e[n]);a=function(e){return function(){a&&(delete kt[r],a=i.onload=i.onerror=null,"abort"===e?i.abort():"error"===e?t(i.status,i.statusText):t(_t[i.status]||i.status,i.statusText,"string"==typeof i.responseText?{text:i.responseText}:void 0,i.getAllResponseHeaders()))}},i.onload=a(),i.onerror=a("error"),a=kt[r]=a("abort");try{i.send(o.hasContent&&o.data||null)}catch(e){if(a)throw e}},abort:function(){a&&a()}}}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var i,r;if(n.crossDomain)return{send:function(e,t){i=S("<script>").prop({async:!0,charset:n.scriptCharset,src:n.url}).on("load error",r=function(e){i.remove(),r=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(i[0])},abort:function(){r&&r()}}});var Dt=[],At=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||S.expando+"_"+tt++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var i,r,o,a=!1!==e.jsonp&&(At.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&At.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=S.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(At,"$1"+i):!1!==e.jsonp&&(e.url+=(nt.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||S.error(i+" was not called"),o[0]},e.dataTypes[0]="json",r=f[i],f[i]=function(){o=arguments},n.always(function(){f[i]=r,e[i]&&(e.jsonpCallback=t.jsonpCallback,Dt.push(i)),o&&S.isFunction(r)&&r(o[0]),o=r=void 0}),"script"}),S.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||y;var i=w.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=S.buildFragment([e],t,r),r&&r.length&&S(r).remove(),S.merge([],i.childNodes))};var Et=S.fn.load;S.fn.load=function(e,t,n){if("string"!=typeof e&&Et)return Et.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return 0<=s&&(i=S.trim(e.slice(s)),e=e.slice(0,s)),S.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),0<a.length&&S.ajax({url:e,type:r,dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?S("<div>").append(S.parseHTML(e)).find(i):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.expr.filters.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length};var It=f.document.documentElement;function Pt(e){return S.isWindow(e)?e:9===e.nodeType&&e.defaultView}S.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,c=S.css(e,"position"),u=S(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),o=S.css(e,"top"),l=S.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(o+l).indexOf("auto")?(a=(i=u.position()).top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),S.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+r),"using"in t?t.using.call(e,d):u.css(d)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,i=this[0],r={top:0,left:0},o=i&&i.ownerDocument;return o?(e=o.documentElement,S.contains(e,i)?(typeof i.getBoundingClientRect!==W&&(r=i.getBoundingClientRect()),n=Pt(o),{top:r.top+n.pageYOffset-e.clientTop,left:r.left+n.pageXOffset-e.clientLeft}):r):void 0},position:function(){if(this[0]){var e,t,n=this[0],i={top:0,left:0};return"fixed"===S.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),S.nodeName(e[0],"html")||(i=e.offset()),i.top+=S.css(e[0],"borderTopWidth",!0),i.left+=S.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-S.css(n,"marginTop",!0),left:t.left-i.left-S.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||It;e&&!S.nodeName(e,"html")&&"static"===S.css(e,"position");)e=e.offsetParent;return e||It})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,r){var o="pageYOffset"===r;S.fn[t]=function(e){return M(this,function(e,t,n){var i=Pt(e);if(void 0===n)return i?i[r]:e[t];i?i.scrollTo(o?f.pageXOffset:n,o?n:f.pageYOffset):e[t]=n},t,e,arguments.length,null)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Se(v.pixelPosition,function(e,t){if(t)return t=Ce(e,n),we.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(o,a){S.each({padding:"inner"+o,content:a,"":"outer"+o},function(i,e){S.fn[e]=function(e,t){var n=arguments.length&&(i||"boolean"!=typeof e),r=i||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,n){var i;return S.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+o],i["scroll"+o],e.body["offset"+o],i["offset"+o],i["client"+o])):void 0===n?S.css(e,t,r):S.style(e,t,n,r)},a,n?e:void 0,n,null)}})}),S.fn.size=function(){return this.length},S.fn.andSelf=S.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var $t=f.jQuery,Mt=f.$;return S.noConflict=function(e){return f.$===S&&(f.$=Mt),e&&f.jQuery===S&&(f.jQuery=$t),S},typeof e===W&&(f.jQuery=f.$=S),S}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=jQuery.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1||3<t[0])throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(),function(i){"use strict";i.fn.emulateTransitionEnd=function(e){var t=!1,n=this;i(this).one("bsTransitionEnd",function(){t=!0});return setTimeout(function(){t||i(n).trigger(i.support.transition.end)},e),this},i(function(){i.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),i.support.transition&&(i.event.special.bsTransitionEnd={bindType:i.support.transition.end,delegateType:i.support.transition.end,handle:function(e){if(i(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(o){"use strict";var t='[data-dismiss="alert"]',a=function(e){o(e).on("click",t,this.close)};a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.close=function(e){var t=o(this),n=t.attr("data-target");n||(n=(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,""));var i=o("#"===n?[]:n);function r(){i.detach().trigger("closed.bs.alert").remove()}e&&e.preventDefault(),i.length||(i=t.closest(".alert")),i.trigger(e=o.Event("close.bs.alert")),e.isDefaultPrevented()||(i.removeClass("in"),o.support.transition&&i.hasClass("fade")?i.one("bsTransitionEnd",r).emulateTransitionEnd(a.TRANSITION_DURATION):r())};var e=o.fn.alert;o.fn.alert=function(n){return this.each(function(){var e=o(this),t=e.data("bs.alert");t||e.data("bs.alert",t=new a(this)),"string"==typeof n&&t[n].call(e)})},o.fn.alert.Constructor=a,o.fn.alert.noConflict=function(){return o.fn.alert=e,this},o(document).on("click.bs.alert.data-api",t,a.prototype.close)}(jQuery),function(o){"use strict";var r=function(e,t){this.$element=o(e),this.options=o.extend({},r.DEFAULTS,t),this.isLoading=!1};function n(i){return this.each(function(){var e=o(this),t=e.data("bs.button"),n="object"==typeof i&&i;t||e.data("bs.button",t=new r(this,n)),"toggle"==i?t.toggle():i&&t.setState(i)})}r.VERSION="3.3.7",r.DEFAULTS={loadingText:"loading..."},r.prototype.setState=function(e){var t="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();e+="Text",null==r.resetText&&n.data("resetText",n[i]()),setTimeout(o.proxy(function(){n[i](null==r[e]?this.options[e]:r[e]),"loadingText"==e?(this.isLoading=!0,n.addClass(t).attr(t,t).prop(t,!0)):this.isLoading&&(this.isLoading=!1,n.removeClass(t).removeAttr(t).prop(t,!1))},this),0)},r.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(e=!1),t.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(e=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),e&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=n,o.fn.button.Constructor=r,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(e){var t=o(e.target).closest(".btn");n.call(t,"toggle"),o(e.target).is('input[type="radio"], input[type="checkbox"]')||(e.preventDefault(),t.is("input,button")?t.trigger("focus"):t.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){o(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(d){"use strict";var h=function(e,t){this.$element=d(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",d.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",d.proxy(this.pause,this)).on("mouseleave.bs.carousel",d.proxy(this.cycle,this))};function a(r){return this.each(function(){var e=d(this),t=e.data("bs.carousel"),n=d.extend({},h.DEFAULTS,e.data(),"object"==typeof r&&r),i="string"==typeof r?r:n.slide;t||e.data("bs.carousel",t=new h(this,n)),"number"==typeof r?t.to(r):i?t[i]():n.interval&&t.pause().cycle()})}h.VERSION="3.3.7",h.TRANSITION_DURATION=600,h.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},h.prototype.keydown=function(e){if(!/input|textarea/i.test(e.target.tagName)){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()}},h.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(d.proxy(this.next,this),this.options.interval)),this},h.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},h.prototype.getItemForDirection=function(e,t){var n=this.getItemIndex(t);if(("prev"==e&&0===n||"next"==e&&n==this.$items.length-1)&&!this.options.wrap)return t;var i=(n+("prev"==e?-1:1))%this.$items.length;return this.$items.eq(i)},h.prototype.to=function(e){var t=this,n=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){t.to(e)}):n==e?this.pause().cycle():this.slide(n<e?"next":"prev",this.$items.eq(e))},h.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&d.support.transition&&(this.$element.trigger(d.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},h.prototype.next=function(){if(!this.sliding)return this.slide("next")},h.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},h.prototype.slide=function(e,t){var n=this.$element.find(".item.active"),i=t||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",a=this;if(i.hasClass("active"))return this.sliding=!1;var s=i[0],l=d.Event("slide.bs.carousel",{relatedTarget:s,direction:o});if(this.$element.trigger(l),!l.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var c=d(this.$indicators.children()[this.getItemIndex(i)]);c&&c.addClass("active")}var u=d.Event("slid.bs.carousel",{relatedTarget:s,direction:o});return d.support.transition&&this.$element.hasClass("slide")?(i.addClass(e),i[0].offsetWidth,n.addClass(o),i.addClass(o),n.one("bsTransitionEnd",function(){i.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger(u)},0)}).emulateTransitionEnd(h.TRANSITION_DURATION)):(n.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var e=d.fn.carousel;d.fn.carousel=a,d.fn.carousel.Constructor=h,d.fn.carousel.noConflict=function(){return d.fn.carousel=e,this};var t=function(e){var t,n=d(this),i=d(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""));if(i.hasClass("carousel")){var r=d.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),a.call(i,r),o&&i.data("bs.carousel").to(o),e.preventDefault()}};d(document).on("click.bs.carousel.data-api","[data-slide]",t).on("click.bs.carousel.data-api","[data-slide-to]",t),d(window).on("load",function(){d('[data-ride="carousel"]').each(function(){var e=d(this);a.call(e,e.data())})})}(jQuery),function(a){"use strict";var s=function(e,t){this.$element=a(e),this.options=a.extend({},s.DEFAULTS,t),this.$trigger=a('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function r(e){var t,n=e.attr("data-target")||(t=e.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"");return a(n)}function l(i){return this.each(function(){var e=a(this),t=e.data("bs.collapse"),n=a.extend({},s.DEFAULTS,e.data(),"object"==typeof i&&i);!t&&n.toggle&&/show|hide/.test(i)&&(n.toggle=!1),t||e.data("bs.collapse",t=new s(this,n)),"string"==typeof i&&t[i]()})}s.VERSION="3.3.7",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,t=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(t&&t.length&&(e=t.data("bs.collapse"))&&e.transitioning)){var n=a.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){t&&t.length&&(l.call(t,"hide"),e||t.data("bs.collapse",null));var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return r.call(this);var o=a.camelCase(["scroll",i].join("-"));this.$element.one("bsTransitionEnd",a.proxy(r,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[i](this.$element[0][o])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=a.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var t=this.dimension();this.$element[t](this.$element[t]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!a.support.transition)return n.call(this);this.$element[t](0).one("bsTransitionEnd",a.proxy(n,this)).emulateTransitionEnd(s.TRANSITION_DURATION)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return a(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(a.proxy(function(e,t){var n=a(t);this.addAriaAndCollapsedClass(r(n),n)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var e=a.fn.collapse;a.fn.collapse=l,a.fn.collapse.Constructor=s,a.fn.collapse.noConflict=function(){return a.fn.collapse=e,this},a(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(e){var t=a(this);t.attr("data-target")||e.preventDefault();var n=r(t),i=n.data("bs.collapse")?"toggle":t.data();l.call(n,i)})}(jQuery),function(a){"use strict";var s='[data-toggle="dropdown"]',i=function(e){a(e).on("click.bs.dropdown",this.toggle)};function l(e){var t=e.attr("data-target");t||(t=(t=e.attr("href"))&&/#[A-Za-z]/.test(t)&&t.replace(/.*(?=#[^\s]*$)/,""));var n=t&&a(t);return n&&n.length?n:e.parent()}function o(i){i&&3===i.which||(a(".dropdown-backdrop").remove(),a(s).each(function(){var e=a(this),t=l(e),n={relatedTarget:this};t.hasClass("open")&&(i&&"click"==i.type&&/input|textarea/i.test(i.target.tagName)&&a.contains(t[0],i.target)||(t.trigger(i=a.Event("hide.bs.dropdown",n)),i.isDefaultPrevented()||(e.attr("aria-expanded","false"),t.removeClass("open").trigger(a.Event("hidden.bs.dropdown",n)))))}))}i.VERSION="3.3.7",i.prototype.toggle=function(e){var t=a(this);if(!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(o(),!i){"ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&a(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(a(this)).on("click",o);var r={relatedTarget:this};if(n.trigger(e=a.Event("show.bs.dropdown",r)),e.isDefaultPrevented())return;t.trigger("focus").attr("aria-expanded","true"),n.toggleClass("open").trigger(a.Event("shown.bs.dropdown",r))}return!1}},i.prototype.keydown=function(e){if(/(38|40|27|32)/.test(e.which)&&!/input|textarea/i.test(e.target.tagName)){var t=a(this);if(e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled")){var n=l(t),i=n.hasClass("open");if(!i&&27!=e.which||i&&27==e.which)return 27==e.which&&n.find(s).trigger("focus"),t.trigger("click");var r=n.find(".dropdown-menu li:not(.disabled):visible a");if(r.length){var o=r.index(e.target);38==e.which&&0<o&&o--,40==e.which&&o<r.length-1&&o++,~o||(o=0),r.eq(o).trigger("focus")}}}};var e=a.fn.dropdown;a.fn.dropdown=function(n){return this.each(function(){var e=a(this),t=e.data("bs.dropdown");t||e.data("bs.dropdown",t=new i(this)),"string"==typeof n&&t[n].call(e)})},a.fn.dropdown.Constructor=i,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=e,this},a(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",s,i.prototype.toggle).on("keydown.bs.dropdown.data-api",s,i.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",i.prototype.keydown)}(jQuery),function(o){"use strict";var a=function(e,t){this.options=t,this.$body=o(document.body),this.$element=o(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,o.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function s(i,r){return this.each(function(){var e=o(this),t=e.data("bs.modal"),n=o.extend({},a.DEFAULTS,e.data(),"object"==typeof i&&i);t||e.data("bs.modal",t=new a(this,n)),"string"==typeof i?t[i](r):n.show&&t.show(r)})}a.VERSION="3.3.7",a.TRANSITION_DURATION=300,a.BACKDROP_TRANSITION_DURATION=150,a.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},a.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},a.prototype.show=function(n){var i=this,e=o.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',o.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){o(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var e=o.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),e&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var t=o.Event("shown.bs.modal",{relatedTarget:n});e?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(t)}).emulateTransitionEnd(a.TRANSITION_DURATION):i.$element.trigger("focus").trigger(t)}))},a.prototype.hide=function(e){e&&e.preventDefault(),e=o.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),o(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),o.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",o.proxy(this.hideModal,this)).emulateTransitionEnd(a.TRANSITION_DURATION):this.hideModal())},a.prototype.enforceFocus=function(){o(document).off("focusin.bs.modal").on("focusin.bs.modal",o.proxy(function(e){document===e.target||this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},a.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},a.prototype.resize=function(){this.isShown?o(window).on("resize.bs.modal",o.proxy(this.handleUpdate,this)):o(window).off("resize.bs.modal")},a.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},a.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},a.prototype.backdrop=function(e){var t=this,n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=o.support.transition&&n;if(this.$backdrop=o(document.createElement("div")).addClass("modal-backdrop "+n).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",o.proxy(function(e){this.ignoreBackdropClick?this.ignoreBackdropClick=!1:e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide())},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var r=function(){t.removeBackdrop(),e&&e()};o.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",r).emulateTransitionEnd(a.BACKDROP_TRANSITION_DURATION):r()}else e&&e()},a.prototype.handleUpdate=function(){this.adjustDialog()},a.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},a.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},a.prototype.checkScrollbar=function(){var e=window.innerWidth;if(!e){var t=document.documentElement.getBoundingClientRect();e=t.right-Math.abs(t.left)}this.bodyIsOverflowing=document.body.clientWidth<e,this.scrollbarWidth=this.measureScrollbar()},a.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},a.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},a.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var e=o.fn.modal;o.fn.modal=s,o.fn.modal.Constructor=a,o.fn.modal.noConflict=function(){return o.fn.modal=e,this},o(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var t=o(this),n=t.attr("href"),i=o(t.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),r=i.data("bs.modal")?"toggle":o.extend({remote:!/#/.test(n)&&n},i.data(),t.data());t.is("a")&&e.preventDefault(),i.one("show.bs.modal",function(e){e.isDefaultPrevented()||i.one("hidden.bs.modal",function(){t.is(":visible")&&t.trigger("focus")})}),s.call(i,r,this)})}(jQuery),function(g){"use strict";var m=function(e,t){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",e,t)};m.VERSION="3.3.7",m.TRANSITION_DURATION=150,m.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},m.prototype.init=function(e,t,n){if(this.enabled=!0,this.type=e,this.$element=g(t),this.options=this.getOptions(n),this.$viewport=this.options.viewport&&g(g.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var i=this.options.trigger.split(" "),r=i.length;r--;){var o=i[r];if("click"==o)this.$element.on("click."+this.type,this.options.selector,g.proxy(this.toggle,this));else if("manual"!=o){var a="hover"==o?"mouseenter":"focusin",s="hover"==o?"mouseleave":"focusout";this.$element.on(a+"."+this.type,this.options.selector,g.proxy(this.enter,this)),this.$element.on(s+"."+this.type,this.options.selector,g.proxy(this.leave,this))}}this.options.selector?this._options=g.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},m.prototype.getDefaults=function(){return m.DEFAULTS},m.prototype.getOptions=function(e){return(e=g.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},m.prototype.getDelegateOptions=function(){var n={},i=this.getDefaults();return this._options&&g.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)}),n},m.prototype.enter=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusin"==e.type?"focus":"hover"]=!0),t.tip().hasClass("in")||"in"==t.hoverState)t.hoverState="in";else{if(clearTimeout(t.timeout),t.hoverState="in",!t.options.delay||!t.options.delay.show)return t.show();t.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)}},m.prototype.isInStateTrue=function(){for(var e in this.inState)if(this.inState[e])return!0;return!1},m.prototype.leave=function(e){var t=e instanceof this.constructor?e:g(e.currentTarget).data("bs."+this.type);if(t||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t)),e instanceof g.Event&&(t.inState["focusout"==e.type?"focus":"hover"]=!1),!t.isInStateTrue()){if(clearTimeout(t.timeout),t.hoverState="out",!t.options.delay||!t.options.delay.hide)return t.hide();t.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)}},m.prototype.show=function(){var e=g.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var t=g.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!t)return;var n=this,i=this.tip(),r=this.getUID(this.type);this.setContent(),i.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&i.addClass("fade");var o="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,s=a.test(o);s&&(o=o.replace(a,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(o).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var l=this.getPosition(),c=i[0].offsetWidth,u=i[0].offsetHeight;if(s){var d=o,h=this.getPosition(this.$viewport);o="bottom"==o&&l.bottom+u>h.bottom?"top":"top"==o&&l.top-u<h.top?"bottom":"right"==o&&l.right+c>h.width?"left":"left"==o&&l.left-c<h.left?"right":o,i.removeClass(d).addClass(o)}var p=this.getCalculatedOffset(o,l,c,u);this.applyPlacement(p,o);var f=function(){var e=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==e&&n.leave(n)};g.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(m.TRANSITION_DURATION):f()}},m.prototype.applyPlacement=function(e,t){var n=this.tip(),i=n[0].offsetWidth,r=n[0].offsetHeight,o=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(a)&&(a=0),e.top+=o,e.left+=a,g.offset.setOffset(n[0],g.extend({using:function(e){n.css({top:Math.round(e.top),left:Math.round(e.left)})}},e),0),n.addClass("in");var s=n[0].offsetWidth,l=n[0].offsetHeight;"top"==t&&l!=r&&(e.top=e.top+r-l);var c=this.getViewportAdjustedDelta(t,e,s,l);c.left?e.left+=c.left:e.top+=c.top;var u=/top|bottom/.test(t),d=u?2*c.left-i+s:2*c.top-r+l,h=u?"offsetWidth":"offsetHeight";n.offset(e),this.replaceArrow(d,n[0][h],u)},m.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},m.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},m.prototype.hide=function(e){var t=this,n=g(this.$tip),i=g.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&n.detach(),t.$element&&t.$element.removeAttr("aria-describedby").trigger("hidden.bs."+t.type),e&&e()}if(this.$element.trigger(i),!i.isDefaultPrevented())return n.removeClass("in"),g.support.transition&&n.hasClass("fade")?n.one("bsTransitionEnd",r).emulateTransitionEnd(m.TRANSITION_DURATION):r(),this.hoverState=null,this},m.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},m.prototype.hasContent=function(){return this.getTitle()},m.prototype.getPosition=function(e){var t=(e=e||this.$element)[0],n="BODY"==t.tagName,i=t.getBoundingClientRect();null==i.width&&(i=g.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var r=window.SVGElement&&t instanceof window.SVGElement,o=n?{top:0,left:0}:r?null:e.offset(),a={scroll:n?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},s=n?{width:g(window).width(),height:g(window).height()}:null;return g.extend({},i,a,s,o)},m.prototype.getCalculatedOffset=function(e,t,n,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-n}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},m.prototype.getViewportAdjustedDelta=function(e,t,n,i){var r={top:0,left:0};if(!this.$viewport)return r;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,l=t.top+o-a.scroll+i;s<a.top?r.top=a.top-s:l>a.top+a.height&&(r.top=a.top+a.height-l)}else{var c=t.left-o,u=t.left+o+n;c<a.left?r.left=a.left-c:u>a.right&&(r.left=a.left+a.width-u)}return r},m.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},m.prototype.getUID=function(e){for(;e+=~~(1e6*Math.random()),document.getElementById(e););return e},m.prototype.tip=function(){if(!this.$tip&&(this.$tip=g(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},m.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},m.prototype.enable=function(){this.enabled=!0},m.prototype.disable=function(){this.enabled=!1},m.prototype.toggleEnabled=function(){this.enabled=!this.enabled},m.prototype.toggle=function(e){var t=this;e&&((t=g(e.currentTarget).data("bs."+this.type))||(t=new this.constructor(e.currentTarget,this.getDelegateOptions()),g(e.currentTarget).data("bs."+this.type,t))),e?(t.inState.click=!t.inState.click,t.isInStateTrue()?t.enter(t):t.leave(t)):t.tip().hasClass("in")?t.leave(t):t.enter(t)},m.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type),e.$tip&&e.$tip.detach(),e.$tip=null,e.$arrow=null,e.$viewport=null,e.$element=null})};var e=g.fn.tooltip;g.fn.tooltip=function(i){return this.each(function(){var e=g(this),t=e.data("bs.tooltip"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.tooltip",t=new m(this,n)),"string"==typeof i&&t[i]())})},g.fn.tooltip.Constructor=m,g.fn.tooltip.noConflict=function(){return g.fn.tooltip=e,this}}(jQuery),function(r){"use strict";var o=function(e,t){this.init("popover",e,t)};if(!r.fn.tooltip)throw new Error("Popover requires tooltip.js");o.VERSION="3.3.7",o.DEFAULTS=r.extend({},r.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),((o.prototype=r.extend({},r.fn.tooltip.Constructor.prototype)).constructor=o).prototype.getDefaults=function(){return o.DEFAULTS},o.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},o.prototype.hasContent=function(){return this.getTitle()||this.getContent()},o.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},o.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var e=r.fn.popover;r.fn.popover=function(i){return this.each(function(){var e=r(this),t=e.data("bs.popover"),n="object"==typeof i&&i;!t&&/destroy|hide/.test(i)||(t||e.data("bs.popover",t=new o(this,n)),"string"==typeof i&&t[i]())})},r.fn.popover.Constructor=o,r.fn.popover.noConflict=function(){return r.fn.popover=e,this}}(jQuery),function(o){"use strict";function r(e,t){this.$body=o(document.body),this.$scrollElement=o(e).is(document.body)?o(window):o(e),this.options=o.extend({},r.DEFAULTS,t),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",o.proxy(this.process,this)),this.refresh(),this.process()}function t(i){return this.each(function(){var e=o(this),t=e.data("bs.scrollspy"),n="object"==typeof i&&i;t||e.data("bs.scrollspy",t=new r(this,n)),"string"==typeof i&&t[i]()})}r.VERSION="3.3.7",r.DEFAULTS={offset:10},r.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},r.prototype.refresh=function(){var e=this,i="offset",r=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),o.isWindow(this.$scrollElement[0])||(i="position",r=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=o(this),t=e.data("target")||e.attr("href"),n=/^#./.test(t)&&o(t);return n&&n.length&&n.is(":visible")&&[[n[i]().top+r,t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},r.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),r=this.offsets,o=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),i<=t)return a!=(e=o[o.length-1])&&this.activate(e);if(a&&t<r[0])return this.activeTarget=null,this.clear();for(e=r.length;e--;)a!=o[e]&&t>=r[e]&&(void 0===r[e+1]||t<r[e+1])&&this.activate(o[e])},r.prototype.activate=function(e){this.activeTarget=e,this.clear();var t=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=o(t).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")},r.prototype.clear=function(){o(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var e=o.fn.scrollspy;o.fn.scrollspy=t,o.fn.scrollspy.Constructor=r,o.fn.scrollspy.noConflict=function(){return o.fn.scrollspy=e,this},o(window).on("load.bs.scrollspy.data-api",function(){o('[data-spy="scroll"]').each(function(){var e=o(this);t.call(e,e.data())})})}(jQuery),function(s){"use strict";var a=function(e){this.element=s(e)};function t(n){return this.each(function(){var e=s(this),t=e.data("bs.tab");t||e.data("bs.tab",t=new a(this)),"string"==typeof n&&t[n]()})}a.VERSION="3.3.7",a.TRANSITION_DURATION=150,a.prototype.show=function(){var e=this.element,t=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var i=t.find(".active:last a"),r=s.Event("hide.bs.tab",{relatedTarget:e[0]}),o=s.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),e.trigger(o),!o.isDefaultPrevented()&&!r.isDefaultPrevented()){var a=s(n);this.activate(e.closest("li"),t),this.activate(a,a.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},a.prototype.activate=function(e,t,n){var i=t.find("> .active"),r=n&&s.support.transition&&(i.length&&i.hasClass("fade")||!!t.find("> .fade").length);function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu").length&&e.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),n&&n()}i.length&&r?i.one("bsTransitionEnd",o).emulateTransitionEnd(a.TRANSITION_DURATION):o(),i.removeClass("in")};var e=s.fn.tab;s.fn.tab=t,s.fn.tab.Constructor=a,s.fn.tab.noConflict=function(){return s.fn.tab=e,this};var n=function(e){e.preventDefault(),t.call(s(this),"show")};s(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',n).on("click.bs.tab.data-api",'[data-toggle="pill"]',n)}(jQuery),function(l){"use strict";var c=function(e,t){this.options=l.extend({},c.DEFAULTS,t),this.$target=l(this.options.target).on("scroll.bs.affix.data-api",l.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",l.proxy(this.checkPositionWithEventLoop,this)),this.$element=l(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};function n(i){return this.each(function(){var e=l(this),t=e.data("bs.affix"),n="object"==typeof i&&i;t||e.data("bs.affix",t=new c(this,n)),"string"==typeof i&&t[i]()})}c.VERSION="3.3.7",c.RESET="affix affix-top affix-bottom",c.DEFAULTS={offset:0,target:window},c.prototype.getState=function(e,t,n,i){var r=this.$target.scrollTop(),o=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return r<n&&"top";if("bottom"==this.affixed)return null!=n?!(r+this.unpin<=o.top)&&"bottom":!(r+a<=e-i)&&"bottom";var s=null==this.affixed,l=s?r:o.top;return null!=n&&r<=n?"top":null!=i&&e-i<=l+(s?a:t)&&"bottom"},c.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(c.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},c.prototype.checkPositionWithEventLoop=function(){setTimeout(l.proxy(this.checkPosition,this),1)},c.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),t=this.options.offset,n=t.top,i=t.bottom,r=Math.max(l(document).height(),l(document.body).height());"object"!=typeof t&&(i=n=t),"function"==typeof n&&(n=t.top(this.$element)),"function"==typeof i&&(i=t.bottom(this.$element));var o=this.getState(r,e,n,i);if(this.affixed!=o){null!=this.unpin&&this.$element.css("top","");var a="affix"+(o?"-"+o:""),s=l.Event(a+".bs.affix");if(this.$element.trigger(s),s.isDefaultPrevented())return;this.affixed=o,this.unpin="bottom"==o?this.getPinnedOffset():null,this.$element.removeClass(c.RESET).addClass(a).trigger(a.replace("affix","affixed")+".bs.affix")}"bottom"==o&&this.$element.offset({top:r-e-i})}};var e=l.fn.affix;l.fn.affix=n,l.fn.affix.Constructor=c,l.fn.affix.noConflict=function(){return l.fn.affix=e,this},l(window).on("load",function(){l('[data-spy="affix"]').each(function(){var e=l(this),t=e.data();t.offset=t.offset||{},null!=t.offsetBottom&&(t.offset.bottom=t.offsetBottom),null!=t.offsetTop&&(t.offset.top=t.offsetTop),n.call(e,t)})})}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(k,_){function T(){return new Date(Date.UTC.apply(Date,arguments))}function S(){var e=new Date;return T(e.getFullYear(),e.getMonth(),e.getDate())}function e(e){return function(){return this[e].apply(this,arguments)}}var t,n=(t={get:function(e){return this.slice(e)[0]},contains:function(e){for(var t=e&&e.valueOf(),n=0,i=this.length;n<i;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(e){e&&(k.isArray(e)||(e=[e]),this.clear(),this.push.apply(this,e))},clear:function(){this.length=0},copy:function(){var e=new n;return e.replace(this),e}},function(){var e=[];return e.push.apply(e,arguments),k.extend(e,t),e}),D=function(e,t){k(e).data("datepicker",this),this._process_options(t),this.dates=new n,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=k(e),this.isInput=this.element.is("input"),this.inputField=this.isInput?this.element:this.element.find("input"),this.component=!!this.element.hasClass("date")&&this.element.find(".add-on, .input-group-addon, .btn"),this.hasInput=this.component&&this.inputField.length,this.component&&0===this.component.length&&(this.component=!1),this.isInline=!this.component&&this.element.is("div"),this.picker=k(E.template),this._check_template(this.o.templates.leftArrow)&&this.picker.find(".prev").html(this.o.templates.leftArrow),this._check_template(this.o.templates.rightArrow)&&this.picker.find(".next").html(this.o.templates.rightArrow),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDaysOfWeekHighlighted(this.o.daysOfWeekHighlighted),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};D.prototype={constructor:D,_resolveViewName:function(e,t){return 0===e||"days"===e||"month"===e?0:1===e||"months"===e||"year"===e?1:2===e||"years"===e||"decade"===e?2:3===e||"decades"===e||"century"===e?3:4===e||"centuries"===e||"millennium"===e?4:t!==_&&t},_check_template:function(e){try{return e!==_&&""!==e&&((e.match(/[<>]/g)||[]).length<=0||0<k(e).length)}catch(e){return!1}},_process_options:function(e){this._o=k.extend({},this._o,e);var t=this.o=k.extend({},this._o),n=t.language;A[n]||(n=n.split("-")[0],A[n]||(n=u.language)),t.language=n,t.startView=this._resolveViewName(t.startView,0),t.minViewMode=this._resolveViewName(t.minViewMode,0),t.maxViewMode=this._resolveViewName(t.maxViewMode,4),t.startView=Math.min(t.startView,t.maxViewMode),t.startView=Math.max(t.startView,t.minViewMode),!0!==t.multidate&&(t.multidate=Number(t.multidate)||!1,!1!==t.multidate&&(t.multidate=Math.max(0,t.multidate))),t.multidateSeparator=String(t.multidateSeparator),t.weekStart%=7,t.weekEnd=(t.weekStart+6)%7;var i=E.parseFormat(t.format);t.startDate!==-1/0&&(t.startDate?t.startDate instanceof Date?t.startDate=this._local_to_utc(this._zero_time(t.startDate)):t.startDate=E.parseDate(t.startDate,i,t.language,t.assumeNearbyYear):t.startDate=-1/0),t.endDate!==1/0&&(t.endDate?t.endDate instanceof Date?t.endDate=this._local_to_utc(this._zero_time(t.endDate)):t.endDate=E.parseDate(t.endDate,i,t.language,t.assumeNearbyYear):t.endDate=1/0),t.daysOfWeekDisabled=t.daysOfWeekDisabled||[],k.isArray(t.daysOfWeekDisabled)||(t.daysOfWeekDisabled=t.daysOfWeekDisabled.split(/[,\s]*/)),t.daysOfWeekDisabled=k.map(t.daysOfWeekDisabled,function(e){return parseInt(e,10)}),t.daysOfWeekHighlighted=t.daysOfWeekHighlighted||[],k.isArray(t.daysOfWeekHighlighted)||(t.daysOfWeekHighlighted=t.daysOfWeekHighlighted.split(/[,\s]*/)),t.daysOfWeekHighlighted=k.map(t.daysOfWeekHighlighted,function(e){return parseInt(e,10)}),t.datesDisabled=t.datesDisabled||[],k.isArray(t.datesDisabled)||(t.datesDisabled=[t.datesDisabled]),t.datesDisabled=k.map(t.datesDisabled,function(e){return E.parseDate(e,i,t.language,t.assumeNearbyYear)});var r=String(t.orientation).toLowerCase().split(/\s+/g),o=t.orientation.toLowerCase();if(r=k.grep(r,function(e){return/^auto|left|right|top|bottom$/.test(e)}),t.orientation={x:"auto",y:"auto"},o&&"auto"!==o)if(1===r.length)switch(r[0]){case"top":case"bottom":t.orientation.y=r[0];break;case"left":case"right":t.orientation.x=r[0]}else o=k.grep(r,function(e){return/^left|right$/.test(e)}),t.orientation.x=o[0]||"auto",o=k.grep(r,function(e){return/^top|bottom$/.test(e)}),t.orientation.y=o[0]||"auto";if(t.defaultViewDate){var a=t.defaultViewDate.year||(new Date).getFullYear(),s=t.defaultViewDate.month||0,l=t.defaultViewDate.day||1;t.defaultViewDate=T(a,s,l)}else t.defaultViewDate=S()},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(n=_,i=e[r][1]):3===e[r].length&&(n=e[r][1],i=e[r][2]),t.on(i,n)},_unapplyEvents:function(e){for(var t,n,i,r=0;r<e.length;r++)t=e[r][0],2===e[r].length?(i=_,n=e[r][1]):3===e[r].length&&(i=e[r][1],n=e[r][2]),t.off(n,i)},_buildEvents:function(){var e={keyup:k.proxy(function(e){-1===k.inArray(e.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:k.proxy(this.keydown,this),paste:k.proxy(this.paste,this)};!0===this.o.showOnFocus&&(e.focus=k.proxy(this.show,this)),this.isInput?this._events=[[this.element,e]]:this.component&&this.hasInput?this._events=[[this.inputField,e],[this.component,{click:k.proxy(this.show,this)}]]:this._events=[[this.element,{click:k.proxy(this.show,this),keydown:k.proxy(this.keydown,this)}]],this._events.push([this.element,"*",{blur:k.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:k.proxy(function(e){this._focused_from=e.target},this)}]),this.o.immediateUpdates&&this._events.push([this.element,{"changeYear changeMonth":k.proxy(function(e){this.update(e.date)},this)}]),this._secondaryEvents=[[this.picker,{click:k.proxy(this.click,this)}],[k(window),{resize:k.proxy(this.place,this)}],[k(document),{mousedown:k.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.isInline||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(e,t){var n=t||this.dates.get(-1),i=this._utc_to_local(n);this.element.trigger({type:e,date:i,dates:k.map(this.dates,this._utc_to_local),format:k.proxy(function(e,t){0===arguments.length?(e=this.dates.length-1,t=this.o.format):"string"==typeof e&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return E.formatDate(n,t,this.o.language)},this)})},show:function(){return this.inputField.prop("disabled")||this.inputField.prop("readonly")&&!1===this.o.enableOnReadonly?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart"in document)&&this.o.disableTouchKeyboard&&k(this.element).blur(),this)},hide:function(){return this.isInline||!this.picker.is(":visible")||(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&this.inputField.val()&&this.setValue(),this._trigger("hide")),this},destroy:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},paste:function(e){var t;if(e.originalEvent.clipboardData&&e.originalEvent.clipboardData.types&&-1!==k.inArray("text/plain",e.originalEvent.clipboardData.types))t=e.originalEvent.clipboardData.getData("text/plain");else{if(!window.clipboardData)return;t=window.clipboardData.getData("Text")}this.setDate(t),this.update(),e.preventDefault()},_utc_to_local:function(e){return e&&new Date(e.getTime()+6e4*e.getTimezoneOffset())},_local_to_utc:function(e){return e&&new Date(e.getTime()-6e4*e.getTimezoneOffset())},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return k.map(this.dates,this._utc_to_local)},getUTCDates:function(){return k.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var e=this.dates.get(-1);return void 0!==e?new Date(e):null},clearDates:function(){this.inputField&&this.inputField.val(""),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var e=k.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,e),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var e=k.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,k.map(e,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:e("setDates"),setUTCDate:e("setUTCDates"),remove:e("destroy"),setValue:function(){var e=this.getFormattedDate();return this.inputField.val(e),this},getFormattedDate:function(t){t===_&&(t=this.o.format);var n=this.o.language;return k.map(this.dates,function(e){return E.formatDate(e,t,n)}).join(this.o.multidateSeparator)},getStartDate:function(){return this.o.startDate},setStartDate:function(e){return this._process_options({startDate:e}),this.update(),this.updateNavArrows(),this},getEndDate:function(){return this.o.endDate},setEndDate:function(e){return this._process_options({endDate:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(e){return this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows(),this},setDaysOfWeekHighlighted:function(e){return this._process_options({daysOfWeekHighlighted:e}),this.update(),this},setDatesDisabled:function(e){this._process_options({datesDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return this;var e=this.picker.outerWidth(),t=this.picker.outerHeight(),n=k(this.o.container),i=n.width(),r="body"===this.o.container?k(document).scrollTop():n.scrollTop(),o=n.offset(),a=[];this.element.parents().each(function(){var e=k(this).css("z-index");"auto"!==e&&0!==e&&a.push(parseInt(e))});var s=Math.max.apply(Math,a)+this.o.zIndexOffset,l=this.component?this.component.parent().offset():this.element.offset(),c=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),u=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),d=l.left-o.left,h=l.top-o.top;"body"!==this.o.container&&(h+=r),this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(d-=e-u)):l.left<0?(this.picker.addClass("datepicker-orient-left"),d-=l.left-10):i<d+e?(this.picker.addClass("datepicker-orient-right"),d+=u-e):this.picker.addClass("datepicker-orient-left");var p=this.o.orientation.y;if("auto"===p&&(p=-r+h-t<0?"bottom":"top"),this.picker.addClass("datepicker-orient-"+p),"top"===p?h-=t+parseInt(this.picker.css("padding-top")):h+=c,this.o.rtl){var f=i-(d+u);this.picker.css({top:h,right:f,zIndex:s})}else this.picker.css({top:h,left:d,zIndex:s});return this},_allow_update:!0,update:function(){if(!this._allow_update)return this;var e=this.dates.copy(),n=[],t=!1;return arguments.length?(k.each(arguments,k.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),t=!0):(n=(n=this.isInput?this.element.val():this.element.data("date")||this.inputField.val())&&this.o.multidate?n.split(this.o.multidateSeparator):[n],delete this.element.data().date),n=k.map(n,k.proxy(function(e){return E.parseDate(e,this.o.format,this.o.language,this.o.assumeNearbyYear)},this)),n=k.grep(n,k.proxy(function(e){return!this.dateWithinRange(e)||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate?this.viewDate=new Date(this.o.endDate):this.viewDate=this.o.defaultViewDate,t?this.setValue():n.length&&String(e)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&e.length&&this._trigger("clearDate"),this.fill(),this.element.change(),this},fillDow:function(){var e=this.o.weekStart,t="<tr>";for(this.o.calendarWeeks&&(this.picker.find(".datepicker-days .datepicker-switch").attr("colspan",function(e,t){return parseInt(t)+1}),t+='<th class="cw">&#160;</th>');e<this.o.weekStart+7;)t+='<th class="dow',-1<k.inArray(e,this.o.daysOfWeekDisabled)&&(t+=" disabled"),t+='">'+A[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){for(var e=this._utc_to_local(this.viewDate),t="",n=0;n<12;){t+='<span class="month'+(e&&e.getMonth()===n?" focused":"")+'">'+A[this.o.language].monthsShort[n++]+"</span>"}this.picker.find(".datepicker-months td").html(t)},setRange:function(e){e&&e.length?this.range=k.map(e,function(e){return e.valueOf()}):delete this.range,this.fill()},getClassNames:function(e){var t=[],n=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),r=new Date;return e.getUTCFullYear()<n||e.getUTCFullYear()===n&&e.getUTCMonth()<i?t.push("old"):(e.getUTCFullYear()>n||e.getUTCFullYear()===n&&e.getUTCMonth()>i)&&t.push("new"),this.focusDate&&e.valueOf()===this.focusDate.valueOf()&&t.push("focused"),this.o.todayHighlight&&e.getUTCFullYear()===r.getFullYear()&&e.getUTCMonth()===r.getMonth()&&e.getUTCDate()===r.getDate()&&t.push("today"),-1!==this.dates.contains(e)&&t.push("active"),this.dateWithinRange(e)||t.push("disabled"),this.dateIsDisabled(e)&&t.push("disabled","disabled-date"),-1!==k.inArray(e.getUTCDay(),this.o.daysOfWeekHighlighted)&&t.push("highlighted"),this.range&&(e>this.range[0]&&e<this.range[this.range.length-1]&&t.push("range"),-1!==k.inArray(e.valueOf(),this.range)&&t.push("selected"),e.valueOf()===this.range[0]&&t.push("range-start"),e.valueOf()===this.range[this.range.length-1]&&t.push("range-end")),t},_fill_yearsView:function(e,t,n,i,r,o,a,s){var l,c,u,d,h,p,f,g,m,v,y;for(l="",c=this.picker.find(e),u=parseInt(r/n,10)*n,h=parseInt(o/i,10)*i,p=parseInt(a/i,10)*i,d=k.map(this.dates,function(e){return parseInt(e.getUTCFullYear()/i,10)*i}),c.find(".datepicker-switch").text(u+"-"+(u+9*i)),f=u-i,g=-1;g<11;g+=1)m=[t],v=null,-1===g?m.push("old"):10===g&&m.push("new"),-1!==k.inArray(f,d)&&m.push("active"),(f<h||p<f)&&m.push("disabled"),f===this.viewDate.getFullYear()&&m.push("focused"),s!==k.noop&&((y=s(new Date(f,0,1)))===_?y={}:"boolean"==typeof y?y={enabled:y}:"string"==typeof y&&(y={classes:y}),!1===y.enabled&&m.push("disabled"),y.classes&&(m=m.concat(y.classes.split(/\s+/))),y.tooltip&&(v=y.tooltip)),l+='<span class="'+m.join(" ")+'"'+(v?' title="'+v+'"':"")+">"+f+"</span>",f+=i;c.find("td").html(l)},fill:function(){var e,t,n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),o=this.o.startDate!==-1/0?this.o.startDate.getUTCFullYear():-1/0,a=this.o.startDate!==-1/0?this.o.startDate.getUTCMonth():-1/0,s=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,l=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,c=A[this.o.language].today||A.en.today||"",u=A[this.o.language].clear||A.en.clear||"",d=A[this.o.language].titleFormat||A.en.titleFormat;if(!isNaN(r)&&!isNaN(i)){this.picker.find(".datepicker-days .datepicker-switch").text(E.formatDate(n,d,this.o.language)),this.picker.find("tfoot .today").text(c).toggle(!1!==this.o.todayBtn),this.picker.find("tfoot .clear").text(u).toggle(!1!==this.o.clearBtn),this.picker.find("thead .datepicker-title").text(this.o.title).toggle(""!==this.o.title),this.updateNavArrows(),this.fillMonths();var h=T(r,i-1,28),p=E.getDaysInMonth(h.getUTCFullYear(),h.getUTCMonth());h.setUTCDate(p),h.setUTCDate(p-(h.getUTCDay()-this.o.weekStart+7)%7);var f=new Date(h);h.getUTCFullYear()<100&&f.setUTCFullYear(h.getUTCFullYear()),f.setUTCDate(f.getUTCDate()+42),f=f.valueOf();for(var g,m=[];h.valueOf()<f;){if(h.getUTCDay()===this.o.weekStart&&(m.push("<tr>"),this.o.calendarWeeks)){var v=new Date(+h+(this.o.weekStart-h.getUTCDay()-7)%7*864e5),y=new Date(Number(v)+(11-v.getUTCDay())%7*864e5),b=new Date(Number(b=T(y.getUTCFullYear(),0,1))+(11-b.getUTCDay())%7*864e5),w=(y-b)/864e5/7+1;m.push('<td class="cw">'+w+"</td>")}(g=this.getClassNames(h)).push("day"),this.o.beforeShowDay!==k.noop&&((t=this.o.beforeShowDay(this._utc_to_local(h)))===_?t={}:"boolean"==typeof t?t={enabled:t}:"string"==typeof t&&(t={classes:t}),!1===t.enabled&&g.push("disabled"),t.classes&&(g=g.concat(t.classes.split(/\s+/))),t.tooltip&&(e=t.tooltip)),g=k.isFunction(k.uniqueSort)?k.uniqueSort(g):k.unique(g),m.push('<td class="'+g.join(" ")+'"'+(e?' title="'+e+'"':"")+">"+h.getUTCDate()+"</td>"),e=null,h.getUTCDay()===this.o.weekEnd&&m.push("</tr>"),h.setUTCDate(h.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(m.join(""));var x=A[this.o.language].monthsTitle||A.en.monthsTitle||"Months",C=this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode<2?x:r).end().find("span").removeClass("active");if(k.each(this.dates,function(e,t){t.getUTCFullYear()===r&&C.eq(t.getUTCMonth()).addClass("active")}),(r<o||s<r)&&C.addClass("disabled"),r===o&&C.slice(0,a).addClass("disabled"),r===s&&C.slice(l+1).addClass("disabled"),this.o.beforeShowMonth!==k.noop){var S=this;k.each(C,function(e,t){var n=new Date(r,e,1),i=S.o.beforeShowMonth(n);i===_?i={}:"boolean"==typeof i?i={enabled:i}:"string"==typeof i&&(i={classes:i}),!1!==i.enabled||k(t).hasClass("disabled")||k(t).addClass("disabled"),i.classes&&k(t).addClass(i.classes),i.tooltip&&k(t).prop("title",i.tooltip)})}this._fill_yearsView(".datepicker-years","year",10,1,r,o,s,this.o.beforeShowYear),this._fill_yearsView(".datepicker-decades","decade",100,10,r,o,s,this.o.beforeShowDecade),this._fill_yearsView(".datepicker-centuries","century",1e3,100,r,o,s,this.o.beforeShowCentury)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:case 3:case 4:this.o.startDate!==-1/0&&t<=this.o.startDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&t>=this.o.endDate.getUTCFullYear()||this.o.maxViewMode<2?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(e){var t,n,i,r,o,a,s;e.preventDefault(),e.stopPropagation(),(t=k(e.target)).hasClass("datepicker-switch")&&this.showMode(1);var l=t.closest(".prev, .next");0<l.length&&(n=E.modes[this.viewMode].navStep*(l.hasClass("prev")?-1:1),0===this.viewMode?(this.viewDate=this.moveMonth(this.viewDate,n),this._trigger("changeMonth",this.viewDate)):(this.viewDate=this.moveYear(this.viewDate,n),1===this.viewMode&&this._trigger("changeYear",this.viewDate)),this.fill()),t.hasClass("today")&&!t.hasClass("day")&&(this.showMode(-2),this._setDate(S(),"linked"===this.o.todayBtn?null:"view")),t.hasClass("clear")&&this.clearDates(),t.hasClass("disabled")||(t.hasClass("day")&&(i=parseInt(t.text(),10)||1,r=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),t.hasClass("old")&&(0===o?(o=11,r-=1,s=a=!0):(o-=1,a=!0)),t.hasClass("new")&&(11===o?(r+=1,s=a=!(o=0)):(o+=1,a=!0)),this._setDate(T(r,o,i)),s&&this._trigger("changeYear",this.viewDate),a&&this._trigger("changeMonth",this.viewDate)),t.hasClass("month")&&(this.viewDate.setUTCDate(1),i=1,o=t.parent().find("span").index(t),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode?(this._setDate(T(r,o,i)),this.showMode()):this.showMode(-1),this.fill()),(t.hasClass("year")||t.hasClass("decade")||t.hasClass("century"))&&(this.viewDate.setUTCDate(1),i=1,o=0,r=parseInt(t.text(),10)||0,this.viewDate.setUTCFullYear(r),t.hasClass("year")&&(this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(T(r,o,i))),t.hasClass("decade")&&(this._trigger("changeDecade",this.viewDate),3===this.o.minViewMode&&this._setDate(T(r,o,i))),t.hasClass("century")&&(this._trigger("changeCentury",this.viewDate),4===this.o.minViewMode&&this._setDate(T(r,o,i))),this.showMode(-1),this.fill())),this.picker.is(":visible")&&this._focused_from&&k(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);if(e||this.dates.clear(),-1!==t?(!0===this.o.multidate||1<this.o.multidate||this.o.toggleActive)&&this.dates.remove(t):(!1===this.o.multidate&&this.dates.clear(),this.dates.push(e)),"number"==typeof this.o.multidate)for(;this.dates.length>this.o.multidate;)this.dates.remove(0)},_setDate:function(e,t){t&&"date"!==t||this._toggle_multidate(e&&new Date(e)),t&&"view"!==t||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),t&&"view"===t||this._trigger("changeDate"),this.inputField&&this.inputField.change(),!this.o.autoclose||t&&"date"!==t||this.hide()},moveDay:function(e,t){var n=new Date(e);return n.setUTCDate(e.getUTCDate()+t),n},moveWeek:function(e,t){return this.moveDay(e,7*t)},moveMonth:function(e,t){if(!(n=e)||isNaN(n.getTime()))return this.o.defaultViewDate;var n;if(!t)return e;var i,r,o=new Date(e.valueOf()),a=o.getUTCDate(),s=o.getUTCMonth(),l=Math.abs(t);if(t=0<t?1:-1,1===l)r=-1===t?function(){return o.getUTCMonth()===s}:function(){return o.getUTCMonth()!==i},i=s+t,o.setUTCMonth(i),(i<0||11<i)&&(i=(i+12)%12);else{for(var c=0;c<l;c++)o=this.moveMonth(o,t);i=o.getUTCMonth(),o.setUTCDate(a),r=function(){return i!==o.getUTCMonth()}}for(;r();)o.setUTCDate(--a),o.setUTCMonth(i);return o},moveYear:function(e,t){return this.moveMonth(e,12*t)},moveAvailableDate:function(e,t,n){do{if(e=this[n](e,t),!this.dateWithinRange(e))return!1;n="moveDay"}while(this.dateIsDisabled(e));return e},weekOfDateIsDisabled:function(e){return-1!==k.inArray(e.getUTCDay(),this.o.daysOfWeekDisabled)},dateIsDisabled:function(i){return this.weekOfDateIsDisabled(i)||0<k.grep(this.o.datesDisabled,function(e){return n=e,(t=i).getUTCFullYear()===n.getUTCFullYear()&&t.getUTCMonth()===n.getUTCMonth()&&t.getUTCDate()===n.getUTCDate();var t,n}).length},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":visible")){var t,n,i=!1,r=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault(),e.stopPropagation();break;case 37:case 38:case 39:case 40:if(!this.o.keyboardNavigation||7===this.o.daysOfWeekDisabled.length)break;t=37===e.keyCode||38===e.keyCode?-1:1,0===this.viewMode?e.ctrlKey?(n=this.moveAvailableDate(r,t,"moveYear"))&&this._trigger("changeYear",this.viewDate):e.shiftKey?(n=this.moveAvailableDate(r,t,"moveMonth"))&&this._trigger("changeMonth",this.viewDate):37===e.keyCode||39===e.keyCode?n=this.moveAvailableDate(r,t,"moveDay"):this.weekOfDateIsDisabled(r)||(n=this.moveAvailableDate(r,t,"moveWeek")):1===this.viewMode?((38===e.keyCode||40===e.keyCode)&&(t*=4),n=this.moveAvailableDate(r,t,"moveMonth")):2===this.viewMode&&((38===e.keyCode||40===e.keyCode)&&(t*=4),n=this.moveAvailableDate(r,t,"moveYear")),n&&(this.focusDate=this.viewDate=n,this.setValue(),this.fill(),e.preventDefault());break;case 13:if(!this.o.forceParse)break;r=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(r),i=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),e.stopPropagation(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}i&&(this.dates.length?this._trigger("changeDate"):this._trigger("clearDate"),this.inputField&&this.inputField.change())}else(40===e.keyCode||27===e.keyCode)&&(this.show(),e.stopPropagation())},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(this.o.maxViewMode,this.viewMode+e))),this.picker.children("div").hide().filter(".datepicker-"+E.modes[this.viewMode].clsName).show(),this.updateNavArrows()}};var c=function(e,t){k(e).data("datepicker",this),this.element=k(e),this.inputs=k.map(t.inputs,function(e){return e.jquery?e[0]:e}),delete t.inputs,r.call(k(this.inputs),t).on("changeDate",k.proxy(this.dateUpdated,this)),this.pickers=k.map(this.inputs,function(e){return k(e).data("datepicker")}),this.updateDates()};c.prototype={updateDates:function(){this.dates=k.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var n=k.map(this.dates,function(e){return e.valueOf()});k.each(this.pickers,function(e,t){t.setRange(n)})},dateUpdated:function(e){if(!this.updating){this.updating=!0;var t=k(e.target).data("datepicker");if(void 0!==t){var n=t.getUTCDate(),i=k.inArray(e.target,this.inputs),r=i-1,o=i+1,a=this.inputs.length;if(-1!==i){if(k.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(n)}),n<this.dates[r])for(;0<=r&&n<this.dates[r];)this.pickers[r--].setUTCDate(n);else if(n>this.dates[o])for(;o<a&&n>this.dates[o];)this.pickers[o++].setUTCDate(n);this.updateDates(),delete this.updating}}}},remove:function(){k.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var i=k.fn.datepicker,r=function(a){var s,l=Array.apply(null,arguments);if(l.shift(),this.each(function(){var e=k(this),t=e.data("datepicker"),n="object"==typeof a&&a;if(!t){var i=function(e,t){function n(e,t){return t.toLowerCase()}var i=k(e).data(),r={},o=new RegExp("^"+t.toLowerCase()+"([A-Z])");for(var a in t=new RegExp("^"+t.toLowerCase()),i)t.test(a)&&(r[a.replace(o,n)]=i[a]);return r}(this,"date"),r=function(e){var n={};if(A[e]||(e=e.split("-")[0],A[e])){var i=A[e];return k.each(d,function(e,t){t in i&&(n[t]=i[t])}),n}}(k.extend({},u,i,n).language),o=k.extend({},u,r,i,n);e.hasClass("input-daterange")||o.inputs?(k.extend(o,{inputs:o.inputs||e.find("input").toArray()}),t=new c(this,o)):t=new D(this,o),e.data("datepicker",t)}"string"==typeof a&&"function"==typeof t[a]&&(s=t[a].apply(t,l))}),s===_||s instanceof D||s instanceof c)return this;if(1<this.length)throw new Error("Using only allowed for the collection of a single element ("+a+" function)");return s};k.fn.datepicker=r;var u=k.fn.datepicker.defaults={assumeNearbyYear:!1,autoclose:!1,beforeShowDay:k.noop,beforeShowMonth:k.noop,beforeShowYear:k.noop,beforeShowDecade:k.noop,beforeShowCentury:k.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],daysOfWeekHighlighted:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,maxViewMode:4,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-1/0,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,showOnFocus:!0,zIndexOffset:10,container:"body",immediateUpdates:!1,title:"",templates:{leftArrow:"&laquo;",rightArrow:"&raquo;"}},d=k.fn.datepicker.locale_opts=["format","rtl","weekStart"];k.fn.datepicker.Constructor=D;var A=k.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear",titleFormat:"MM yyyy"}},E={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10},{clsName:"decades",navFnc:"FullDecade",navStep:100},{clsName:"centuries",navFnc:"FullCentury",navStep:1e3}],isLeapYear:function(e){return e%4==0&&e%100!=0||e%400==0},getDaysInMonth:function(e,t){return[31,E.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g,parseFormat:function(e){if("function"==typeof e.toValue&&"function"==typeof e.toDisplay)return e;var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||0===n.length)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(e,t,n,i){function r(e,t){return!0===t&&(t=10),e<100&&((e+=2e3)>(new Date).getFullYear()+t&&(e-=100)),e}function o(){var e=this.slice(0,d[l].length),t=d[l].slice(0,e.length);return e.toLowerCase()===t.toLowerCase()}if(!e)return _;if(e instanceof Date)return e;if("string"==typeof t&&(t=E.parseFormat(t)),t.toValue)return t.toValue(e,t,n);var a,s,l,c,u=/([\-+]\d+)([dmwy])/,d=e.match(/([\-+]\d+)([dmwy])/g),h={d:"moveDay",m:"moveMonth",w:"moveWeek",y:"moveYear"},p={yesterday:"-1d",today:"+0d",tomorrow:"+1d"};if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e)){for(e=new Date,l=0;l<d.length;l++)a=u.exec(d[l]),s=parseInt(a[1]),c=h[a[2]],e=D.prototype[c](e,s);return T(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}if(void 0!==p[e]&&(d=(e=p[e]).match(/([\-+]\d+)([dmwy])/g),/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(e))){for(e=new Date,l=0;l<d.length;l++)a=u.exec(d[l]),s=parseInt(a[1]),c=h[a[2]],e=D.prototype[c](e,s);return T(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate())}d=e&&e.match(this.nonpunctuation)||[],e=new Date;var f,g,m={},v=["yyyy","yy","M","MM","m","mm","d","dd"],y={yyyy:function(e,t){return e.setUTCFullYear(i?r(t,i):t)},yy:function(e,t){return e.setUTCFullYear(i?r(t,i):t)},m:function(e,t){if(isNaN(e))return e;for(t-=1;t<0;)t+=12;for(t%=12,e.setUTCMonth(t);e.getUTCMonth()!==t;)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}};y.M=y.MM=y.mm=y.m,y.dd=y.d,e=S();var b=t.parts.slice();if(d.length!==b.length&&(b=k(b).filter(function(e,t){return-1!==k.inArray(t,v)}).toArray()),d.length===b.length){var w,x,C;for(l=0,w=b.length;l<w;l++){if(f=parseInt(d[l],10),a=b[l],isNaN(f))switch(a){case"MM":g=k(A[n].months).filter(o),f=k.inArray(g[0],A[n].months)+1;break;case"M":g=k(A[n].monthsShort).filter(o),f=k.inArray(g[0],A[n].monthsShort)+1}m[a]=f}for(l=0;l<v.length;l++)(C=v[l])in m&&!isNaN(m[C])&&(x=new Date(e),y[C](x,m[C]),isNaN(x)||(e=x))}return e},formatDate:function(e,t,n){if(!e)return"";if("string"==typeof t&&(t=E.parseFormat(t)),t.toDisplay)return t.toDisplay(e,t,n);var i={d:e.getUTCDate(),D:A[n].daysShort[e.getUTCDay()],DD:A[n].days[e.getUTCDay()],m:e.getUTCMonth()+1,M:A[n].monthsShort[e.getUTCMonth()],MM:A[n].months[e.getUTCMonth()],yy:e.getUTCFullYear().toString().substring(2),yyyy:e.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,e=[];for(var r=k.extend([],t.separators),o=0,a=t.parts.length;o<=a;o++)r.length&&e.push(r.shift()),e.push(i[t.parts[o]]);return e.join("")},headTemplate:'<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">&laquo;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&raquo;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};E.template='<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">'+E.headTemplate+"<tbody></tbody>"+E.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-decades"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+'</table></div><div class="datepicker-centuries"><table class="table-condensed">'+E.headTemplate+E.contTemplate+E.footTemplate+"</table></div></div>",k.fn.datepicker.DPGlobal=E,k.fn.datepicker.noConflict=function(){return k.fn.datepicker=i,this},k.fn.datepicker.version="1.6.4",k(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(e){var t=k(this);t.data("datepicker")||(e.preventDefault(),r.call(t,"show"))}),k(function(){r.call(k('[data-provide="datepicker-inline"]'))})}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e)}):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(0,function(e){!function(S){"use strict";var s,e,l,t,n,c,i;function b(e){return S.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){e=e.replace(this.re,this.ch)}),e}function u(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n="(?:"+Object.keys(t).join("|")+")",i=new RegExp(n),r=new RegExp(n,"g"),o=null==e?"":""+e;return i.test(o)?o.replace(r,function(e){return t[e]}):o}String.prototype.includes||(s={}.toString,e=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),l="".indexOf,t=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==s.call(e))throw new TypeError;var n=t.length,i=String(e),r=i.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;return a!=a&&(a=0),!(n<r+Math.min(Math.max(a,0),n))&&-1!=l.call(t,i,a)},e?e(String.prototype,"includes",{value:t,configurable:!0,writable:!0}):String.prototype.includes=t),String.prototype.startsWith||(n=function(){try{var e={},t=Object.defineProperty,n=t(e,e,e)&&t}catch(e){}return n}(),c={}.toString,i=function(e){if(null==this)throw new TypeError;var t=String(this);if(e&&"[object RegExp]"==c.call(e))throw new TypeError;var n=t.length,i=String(e),r=i.length,o=1<arguments.length?arguments[1]:void 0,a=o?Number(o):0;a!=a&&(a=0);var s=Math.min(Math.max(a,0),n);if(n<r+s)return!1;for(var l=-1;++l<r;)if(t.charCodeAt(s+l)!=i.charCodeAt(l))return!1;return!0},n?n(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),Object.keys||(Object.keys=function(e,t,n){for(t in n=[],e)n.hasOwnProperty.call(e,t)&&n.push(t);return n}),S.fn.triggerNative=function(e){var t,n=this[0];n.dispatchEvent?("function"==typeof Event?t=new Event(e,{bubbles:!0}):(t=document.createEvent("Event")).initEvent(e,!0,!1),n.dispatchEvent(t)):(n.fireEvent&&((t=document.createEventObject()).eventType=e,n.fireEvent("on"+e,t)),this.trigger(e))},S.expr[":"].icontains=function(e,t,n){var i=S(e);return(i.data("tokens")||i.text()).toUpperCase().includes(n[3].toUpperCase())},S.expr[":"].ibegins=function(e,t,n){var i=S(e);return(i.data("tokens")||i.text()).toUpperCase().startsWith(n[3].toUpperCase())},S.expr[":"].aicontains=function(e,t,n){var i=S(e);return(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase().includes(n[3].toUpperCase())},S.expr[":"].aibegins=function(e,t,n){var i=S(e);return(i.data("tokens")||i.data("normalizedText")||i.text()).toUpperCase().startsWith(n[3].toUpperCase())};var d=function(e,t,n){n&&(n.stopPropagation(),n.preventDefault()),this.$element=S(e),this.$newElement=null,this.$button=null,this.$menu=null,this.$lis=null,this.options=t,null===this.options.title&&(this.options.title=this.$element.attr("title")),this.val=d.prototype.val,this.render=d.prototype.render,this.refresh=d.prototype.refresh,this.setStyle=d.prototype.setStyle,this.selectAll=d.prototype.selectAll,this.deselectAll=d.prototype.deselectAll,this.destroy=d.prototype.destroy,this.remove=d.prototype.remove,this.show=d.prototype.show,this.hide=d.prototype.hide,this.init()};function r(e,t){var o,a=arguments,s=e,l=t;[].shift.apply(a);var n=this.each(function(){var e=S(this);if(e.is("select")){var t=e.data("selectpicker"),n="object"==typeof s&&s;if(t){if(n)for(var i in n)n.hasOwnProperty(i)&&(t.options[i]=n[i])}else{var r=S.extend({},d.DEFAULTS,S.fn.selectpicker.defaults||{},e.data(),n);r.template=S.extend({},d.DEFAULTS.template,S.fn.selectpicker.defaults?S.fn.selectpicker.defaults.template:{},e.data().template,n.template),e.data("selectpicker",t=new d(this,r,l))}"string"==typeof s&&(o=t[s]instanceof Function?t[s].apply(t,a):t.options[s])}});return void 0!==o?o:n}d.VERSION="1.10.0",d.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(e,t){return 1==e?"{0} item selected":"{0} items selected"},maxOptionsText:function(e,t){return[1==e?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==t?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1},d.prototype={constructor:d,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.liObj={},this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createView(),this.$element.after(this.$newElement).appendTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),this.options.dropdownAlignRight&&this.$menu.addClass("dropdown-menu-right"),void 0!==e&&(this.$button.attr("data-id",e),S('label[for="'+e+'"]').click(function(e){e.preventDefault(),t.$button.focus()})),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container&&this.selectPosition(),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid").focus(),t.$element.on({"focus.bs.select":function(){t.$button.focus(),t.$element.off("focus.bs.select")},"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",t=this.$element.parent().hasClass("input-group")?" input-group-btn":"",n=this.autofocus?" autofocus":"",i=this.options.header?'<div class="popover-title"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+u(this.options.liveSearchPlaceholder)+'"')+"></div>":"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn btn-default">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn btn-default">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm btn-default">'+this.options.doneButtonText+"</button></div></div>":"",s='<div class="btn-group bootstrap-select'+e+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+'><span class="filter-option pull-left"></span>&nbsp;<span class="bs-caret">'+this.options.template.caret+'</span></button><div class="dropdown-menu open">'+i+r+o+'<ul class="dropdown-menu inner" role="menu"></ul>'+a+"</div></div>";return S(s)},createView:function(){var e=this.createDropdown(),t=this.createLi();return e.find("ul")[0].innerHTML=t,e},reloadLi:function(){this.destroyLi();var e=this.createLi();this.$menuInner[0].innerHTML=e},destroyLi:function(){this.$menu.find("li").remove()},createLi:function(){var p=this,f=[],g=0,e=document.createElement("option"),m=-1,v=function(e,t,n,i){return"<li"+(void 0!==n&""!==n?' class="'+n+'"':"")+(void 0!==t&null!==t?' data-original-index="'+t+'"':"")+(void 0!==i&null!==i?'data-optgroup="'+i+'"':"")+">"+e+"</li>"},y=function(e,t,n,i){return'<a tabindex="0"'+(void 0!==t?' class="'+t+'"':"")+(void 0!==n?' style="'+n+'"':"")+(p.options.liveSearchNormalize?' data-normalized-text="'+b(u(e))+'"':"")+(void 0!==i||null!==i?' data-tokens="'+i+'"':"")+">"+e+'<span class="'+p.options.iconBase+" "+p.options.tickIcon+' check-mark"></span></a>'};if(this.options.title&&!this.multiple&&(m--,!this.$element.find(".bs-title-option").length)){var t=this.$element[0];e.className="bs-title-option",e.appendChild(document.createTextNode(this.options.title)),e.value="",t.insertBefore(e,t.firstChild),void 0===S(t.options[t.selectedIndex]).attr("selected")&&(e.selected=!0)}return this.$element.find("option").each(function(e){var t=S(this);if(m++,!t.hasClass("bs-title-option")){var n=this.className||"",i=this.style.cssText,r=t.data("content")?t.data("content"):t.html(),o=t.data("tokens")?t.data("tokens"):null,a=void 0!==t.data("subtext")?'<small class="text-muted">'+t.data("subtext")+"</small>":"",s=void 0!==t.data("icon")?'<span class="'+p.options.iconBase+" "+t.data("icon")+'"></span> ':"",l="OPTGROUP"===this.parentNode.tagName,c=this.disabled||l&&this.parentNode.disabled;if(""!==s&&c&&(s="<span>"+s+"</span>"),p.options.hideDisabled&&c&&!l)m--;else{if(t.data("content")||(r=s+'<span class="text">'+r+a+"</span>"),l&&!0!==t.data("divider")){var u=" "+this.parentNode.className||"";if(0===t.index()){g+=1;var d=this.parentNode.label,h=void 0!==t.parent().data("subtext")?'<small class="text-muted">'+t.parent().data("subtext")+"</small>":"";d=(t.parent().data("icon")?'<span class="'+p.options.iconBase+" "+t.parent().data("icon")+'"></span> ':"")+'<span class="text">'+d+h+"</span>",0!==e&&0<f.length&&(m++,f.push(v("",null,"divider",g+"div"))),m++,f.push(v(d,null,"dropdown-header"+u,g))}if(p.options.hideDisabled&&c)return void m--;f.push(v(y(r,"opt "+n+u,i,o),e,"",g))}else!0===t.data("divider")?f.push(v("",e,"divider")):!0===t.data("hidden")?f.push(v(y(r,n,i,o),e,"hidden is-hidden")):(this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName&&(m++,f.push(v("",null,"divider",g+"div"))),f.push(v(y(r,n,i,o),e)));p.liObj[e]=m}}}),this.multiple||0!==this.$element.find("option:selected").length||this.options.title||this.$element.find("option").eq(0).prop("selected",!0).attr("selected","selected"),f.join("")},findLis:function(){return null==this.$lis&&(this.$lis=this.$menu.find("li")),this.$lis},render:function(e){var t,i=this;!1!==e&&this.$element.find("option").each(function(e){var t=i.findLis().eq(i.liObj[e]);i.setDisabled(e,this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled,t),i.setSelected(e,this.selected,t)}),this.tabIndex();var n=this.$element.find("option").map(function(){if(this.selected){if(i.options.hideDisabled&&(this.disabled||"OPTGROUP"===this.parentNode.tagName&&this.parentNode.disabled))return;var e,t=S(this),n=t.data("icon")&&i.options.showIcon?'<i class="'+i.options.iconBase+" "+t.data("icon")+'"></i> ':"";return e=i.options.showSubtext&&t.data("subtext")&&!i.multiple?' <small class="text-muted">'+t.data("subtext")+"</small>":"",void 0!==t.attr("title")?t.attr("title"):t.data("content")&&i.options.showContent?t.data("content"):n+t.html()+e}}).toArray(),r=this.multiple?n.join(this.options.multipleSeparator):n[0];if(this.multiple&&-1<this.options.selectedTextFormat.indexOf("count")){var o=this.options.selectedTextFormat.split(">");if(1<o.length&&n.length>o[1]||1==o.length&&2<=n.length){t=this.options.hideDisabled?", [disabled]":"";var a=this.$element.find("option").not('[data-divider="true"], [data-hidden="true"]'+t).length;r=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(n.length,a):this.options.countSelectedText).replace("{0}",n.length.toString()).replace("{1}",a.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(r=this.options.title),r||(r=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button.attr("title",S.trim(r.replace(/<[^>]*>?/g,""))),this.$button.children(".filter-option").html(r),this.$element.trigger("rendered.bs.select")},setStyle:function(e,t){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=e||this.options.style;"add"==t?this.$button.addClass(n):"remove"==t?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){var t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("ul"),r=document.createElement("li"),o=document.createElement("li"),a=document.createElement("a"),s=document.createElement("span"),l=this.options.header&&0<this.$menu.find(".popover-title").length?this.$menu.find(".popover-title")[0].cloneNode(!0):null,c=this.options.liveSearch?document.createElement("div"):null,u=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,d=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(s.className="text",t.className=this.$menu[0].parentNode.className+" open",n.className="dropdown-menu open",i.className="dropdown-menu inner",r.className="divider",s.appendChild(document.createTextNode("Inner text")),a.appendChild(s),o.appendChild(a),i.appendChild(o),i.appendChild(r),l&&n.appendChild(l),c){var h=document.createElement("span");c.className="bs-searchbox",h.className="form-control",c.appendChild(h),n.appendChild(c)}u&&n.appendChild(u),n.appendChild(i),d&&n.appendChild(d),t.appendChild(n),document.body.appendChild(t);var p=a.offsetHeight,f=l?l.offsetHeight:0,g=c?c.offsetHeight:0,m=u?u.offsetHeight:0,v=d?d.offsetHeight:0,y=S(r).outerHeight(!0),b="function"==typeof getComputedStyle&&getComputedStyle(n),w=b?null:S(n),x=parseInt(b?b.paddingTop:w.css("paddingTop"))+parseInt(b?b.paddingBottom:w.css("paddingBottom"))+parseInt(b?b.borderTopWidth:w.css("borderTopWidth"))+parseInt(b?b.borderBottomWidth:w.css("borderBottomWidth")),C=x+parseInt(b?b.marginTop:w.css("marginTop"))+parseInt(b?b.marginBottom:w.css("marginBottom"))+2;document.body.removeChild(t),this.sizeInfo={liHeight:p,headerHeight:f,searchHeight:g,actionsHeight:m,doneButtonHeight:v,dividerHeight:y,menuPadding:x,menuExtras:C}}},setSize:function(){if(this.findLis(),this.liHeight(),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var o,a,s,l,c=this,u=this.$menu,d=this.$menuInner,e=S(window),t=this.$newElement[0].offsetHeight,h=this.sizeInfo.liHeight,p=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,g=this.sizeInfo.actionsHeight,m=this.sizeInfo.doneButtonHeight,n=this.sizeInfo.dividerHeight,v=this.sizeInfo.menuPadding,y=this.sizeInfo.menuExtras,i=this.options.hideDisabled?".disabled":"",b=function(){s=c.$newElement.offset().top-e.scrollTop(),l=e.height()-s-t};if(b(),"auto"===this.options.size){var r=function(){var e,t=function(t,n){return function(e){return n?e.classList?e.classList.contains(t):S(e).hasClass(t):!(e.classList?e.classList.contains(t):S(e).hasClass(t))}},n=c.$menuInner[0].getElementsByTagName("li"),i=Array.prototype.filter?Array.prototype.filter.call(n,t("hidden",!1)):c.$lis.not(".hidden"),r=Array.prototype.filter?Array.prototype.filter.call(i,t("dropdown-header",!0)):i.filter(".dropdown-header");b(),o=l-y,c.options.container?(u.data("height")||u.data("height",u.height()),a=u.data("height")):a=u.height(),c.options.dropupAuto&&c.$newElement.toggleClass("dropup",l<s&&o-y<a),c.$newElement.hasClass("dropup")&&(o=s-y),e=3<i.length+r.length?3*h+y-2:0,u.css({"max-height":o+"px",overflow:"hidden","min-height":e+p+f+g+m+"px"}),d.css({"max-height":o-p-f-g-m-v+"px","overflow-y":"auto","min-height":Math.max(e-v,0)+"px"})};r(),this.$searchbox.off("input.getSize propertychange.getSize").on("input.getSize propertychange.getSize",r),e.off("resize.getSize scroll.getSize").on("resize.getSize scroll.getSize",r)}else if(this.options.size&&"auto"!=this.options.size&&this.$lis.not(i).length>this.options.size){var w=this.$lis.not(".divider").not(i).children().slice(0,this.options.size).last().parent().index(),x=this.$lis.slice(0,w+1).filter(".divider").length;o=h*this.options.size+x*n+v,c.options.container?(u.data("height")||u.data("height",u.height()),a=u.data("height")):a=u.height(),c.options.dropupAuto&&this.$newElement.toggleClass("dropup",l<s&&o-y<a),u.css({"max-height":o+p+f+g+m+"px",overflow:"hidden","min-height":""}),d.css({"max-height":o-v+"px","overflow-y":"auto","min-height":""})}}},setWidth:function(){if("auto"===this.options.width){this.$menu.css("min-width","0");var e=this.$menu.parent().clone().appendTo("body"),t=this.options.container?this.$newElement.clone().appendTo("body"):e,n=e.children(".dropdown-menu").outerWidth(),i=t.css("width","auto").children("button").outerWidth();e.remove(),t.remove(),this.$newElement.css("width",Math.max(n,i)+"px")}else"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width",""));this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=S('<div class="bs-container" />');var t,n,i=this,r=function(e){i.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass("dropup",e.hasClass("dropup")),t=e.offset(),n=e.hasClass("dropup")?0:e[0].offsetHeight,i.$bsContainer.css({top:t.top+n,left:t.left,width:e[0].offsetWidth})};this.$button.on("click",function(){var e=S(this);i.isDisabled()||(r(i.$newElement),i.$bsContainer.appendTo(i.options.container).toggleClass("open",!e.hasClass("open")).append(i.$menu))}),S(window).on("resize scroll",function(){r(i.$newElement)}),this.$element.on("hide.bs.select",function(){i.$menu.data("height",i.$menu.height()),i.$bsContainer.detach()})},setSelected:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),n.toggleClass("selected",t)},setDisabled:function(e,t,n){n||(n=this.findLis().eq(this.liObj[e])),t?n.addClass("disabled").children("a").attr("href","#").attr("tabindex",-1):n.removeClass("disabled").children("a").removeAttr("href").attr("tabindex",0)},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var e=this;this.isDisabled()?(this.$newElement.addClass("disabled"),this.$button.addClass("disabled").attr("tabindex",-1)):(this.$button.hasClass("disabled")&&(this.$newElement.removeClass("disabled"),this.$button.removeClass("disabled")),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click(function(){return!e.isDisabled()})},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var y=this,t=S(document);this.$newElement.on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),t.data("spaceSelect",!1),this.$button.on("keyup",function(e){/(32)/.test(e.keyCode.toString(10))&&t.data("spaceSelect")&&(e.preventDefault(),t.data("spaceSelect",!1))}),this.$button.on("click",function(){y.setSize()}),this.$element.on("shown.bs.select",function(){if(y.options.liveSearch||y.multiple){if(!y.multiple){var e=y.liObj[y.$element[0].selectedIndex];if("number"!=typeof e||!1===y.options.size)return;var t=y.$lis.eq(e)[0].offsetTop-y.$menuInner[0].offsetTop;t=t-y.$menuInner[0].offsetHeight/2+y.sizeInfo.liHeight/2,y.$menuInner[0].scrollTop=t}}else y.$menuInner.find(".selected a").focus()}),this.$menuInner.on("click","li a",function(e){var t=S(this),n=t.parent().data("originalIndex"),i=y.$element.val(),r=y.$element.prop("selectedIndex");if(y.multiple&&e.stopPropagation(),e.preventDefault(),!y.isDisabled()&&!t.parent().hasClass("disabled")){var o=y.$element.find("option"),a=o.eq(n),s=a.prop("selected"),l=a.parent("optgroup"),c=y.options.maxOptions,u=l.data("maxOptions")||!1;if(y.multiple){if(a.prop("selected",!s),y.setSelected(n,!s),t.blur(),!1!==c||!1!==u){var d=c<o.filter(":selected").length,h=u<l.find("option:selected").length;if(c&&d||u&&h)if(c&&1==c)o.prop("selected",!1),a.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(n,!0);else if(u&&1==u){l.find("option:selected").prop("selected",!1),a.prop("selected",!0);var p=t.parent().data("optgroup");y.$menuInner.find('[data-optgroup="'+p+'"]').removeClass("selected"),y.setSelected(n,!0)}else{var f="function"==typeof y.options.maxOptionsText?y.options.maxOptionsText(c,u):y.options.maxOptionsText,g=f[0].replace("{n}",c),m=f[1].replace("{n}",u),v=S('<div class="notify"></div>');f[2]&&(g=g.replace("{var}",f[2][1<c?0:1]),m=m.replace("{var}",f[2][1<u?0:1])),a.prop("selected",!1),y.$menu.append(v),c&&d&&(v.append(S("<div>"+g+"</div>")),y.$element.trigger("maxReached.bs.select")),u&&h&&(v.append(S("<div>"+m+"</div>")),y.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){y.setSelected(n,!1)},10),v.delay(750).fadeOut(300,function(){S(this).remove()})}}}else o.prop("selected",!1),a.prop("selected",!0),y.$menuInner.find(".selected").removeClass("selected"),y.setSelected(n,!0);y.multiple?y.options.liveSearch&&y.$searchbox.focus():y.$button.focus(),(i!=y.$element.val()&&y.multiple||r!=y.$element.prop("selectedIndex")&&!y.multiple)&&y.$element.trigger("changed.bs.select",[n,a.prop("selected"),s]).triggerNative("change")}}),this.$menu.on("click","li.disabled a, .popover-title, .popover-title :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),y.options.liveSearch&&!S(e.target).hasClass("close")?y.$searchbox.focus():y.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),y.options.liveSearch?y.$searchbox.focus():y.$button.focus()}),this.$menu.on("click",".popover-title .close",function(){y.$button.click()}),this.$searchbox.on("click",function(e){e.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){y.options.liveSearch?y.$searchbox.focus():y.$button.focus(),e.preventDefault(),e.stopPropagation(),S(this).hasClass("bs-select-all")?y.selectAll():y.deselectAll()}),this.$element.change(function(){y.render(!1)})},liveSearchListener:function(){var i=this,t=S('<li class="no-results"></li>');this.$button.on("click.dropdown.data-api touchstart.dropdown.data-api",function(){i.$menuInner.find(".active").removeClass("active"),i.$searchbox.val()&&(i.$searchbox.val(""),i.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length&&t.remove()),i.multiple||i.$menuInner.find(".selected").addClass("active"),setTimeout(function(){i.$searchbox.focus()},10)}),this.$searchbox.on("click.dropdown.data-api focus.dropdown.data-api touchend.dropdown.data-api",function(e){e.stopPropagation()}),this.$searchbox.on("input propertychange",function(){if(i.$searchbox.val()){var e=i.$lis.not(".is-hidden").removeClass("hidden").children("a");(e=i.options.liveSearchNormalize?e.not(":a"+i._searchStyle()+'("'+b(i.$searchbox.val())+'")'):e.not(":"+i._searchStyle()+'("'+i.$searchbox.val()+'")')).parent().addClass("hidden"),i.$lis.filter(".dropdown-header").each(function(){var e=S(this),t=e.data("optgroup");0===i.$lis.filter("[data-optgroup="+t+"]").not(e).not(".hidden").length&&(e.addClass("hidden"),i.$lis.filter("[data-optgroup="+t+"div]").addClass("hidden"))});var n=i.$lis.not(".hidden");n.each(function(e){var t=S(this);t.hasClass("divider")&&(t.index()===n.first().index()||t.index()===n.last().index()||n.eq(e+1).hasClass("divider"))&&t.addClass("hidden")}),i.$lis.not(".hidden, .no-results").length?t.parent().length&&t.remove():(t.parent().length&&t.remove(),t.html(i.options.noneResultsText.replace("{0}",'"'+u(i.$searchbox.val())+'"')).show(),i.$menuInner.append(t))}else i.$lis.not(".is-hidden").removeClass("hidden"),t.parent().length&&t.remove();i.$lis.filter(".active").removeClass("active"),i.$searchbox.val()&&i.$lis.not(".hidden, .divider, .dropdown-header").eq(0).addClass("active").children("a").focus(),S(this).focus()})},_searchStyle:function(){return{begins:"ibegins",startsWith:"ibegins"}[this.options.liveSearchStyle]||"icontains"},val:function(e){return void 0!==e?(this.$element.val(e),this.render(),this.$element):this.$element.val()},changeAll:function(e){void 0===e&&(e=!0),this.findLis();for(var t=this.$element.find("option"),n=this.$lis.not(".divider, .dropdown-header, .disabled, .hidden").toggleClass("selected",e),i=n.length,r=[],o=0;o<i;o++){var a=n[o].getAttribute("data-original-index");r[r.length]=t.eq(a)[0]}S(r).prop("selected",e),this.render(!1),this.$element.trigger("changed.bs.select").triggerNative("change")},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(e){(e=e||window.event)&&e.stopPropagation(),this.$button.trigger("click")},keydown:function(e){var t,n,i,r,o,a,s,l,c,u=S(this),d=u.is("input")?u.parent().parent():u.parent(),h=d.data("this"),p=":not(.disabled, .hidden, .dropdown-header, .divider)",f={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"};if(h.options.liveSearch&&(d=u.parent().parent()),h.options.container&&(d=h.$menu),t=S("[role=menu] li",d),!(c=h.$newElement.hasClass("open"))&&(48<=e.keyCode&&e.keyCode<=57||96<=e.keyCode&&e.keyCode<=105||65<=e.keyCode&&e.keyCode<=90)&&(h.options.container?h.$button.trigger("click"):(h.setSize(),h.$menu.parent().addClass("open"),c=!0),h.$searchbox.focus()),h.options.liveSearch&&(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&0===h.$menu.find(".active").length&&(e.preventDefault(),h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus()),t=S("[role=menu] li"+p,d),u.val()||/(38|40)/.test(e.keyCode.toString(10))||0===t.filter(".active").length&&(t=h.$menuInner.find("li"),t=h.options.liveSearchNormalize?t.filter(":a"+h._searchStyle()+"("+b(f[e.keyCode])+")"):t.filter(":"+h._searchStyle()+"("+f[e.keyCode]+")"))),t.length){if(/(38|40)/.test(e.keyCode.toString(10)))n=t.index(t.find("a").filter(":focus").parent()),r=t.filter(p).first().index(),o=t.filter(p).last().index(),i=t.eq(n).nextAll(p).eq(0).index(),a=t.eq(n).prevAll(p).eq(0).index(),s=t.eq(i).prevAll(p).eq(0).index(),h.options.liveSearch&&(t.each(function(e){S(this).hasClass("disabled")||S(this).data("index",e)}),n=t.index(t.filter(".active")),r=t.first().data("index"),o=t.last().data("index"),i=t.eq(n).nextAll().eq(0).data("index"),a=t.eq(n).prevAll().eq(0).data("index"),s=t.eq(i).prevAll().eq(0).data("index")),l=u.data("prevIndex"),38==e.keyCode?(h.options.liveSearch&&n--,n!=s&&a<n&&(n=a),n<r&&(n=r),n==l&&(n=o)):40==e.keyCode&&(h.options.liveSearch&&n++,-1==n&&(n=0),n!=s&&n<i&&(n=i),o<n&&(n=o),n==l&&(n=r)),u.data("prevIndex",n),h.options.liveSearch?(e.preventDefault(),u.hasClass("dropdown-toggle")||(t.removeClass("active").eq(n).addClass("active").children("a").focus(),u.focus())):t.eq(n).children("a").focus();else if(!u.is("input")){var g,m=[];t.each(function(){S(this).hasClass("disabled")||S.trim(S(this).children("a").text().toLowerCase()).substring(0,1)==f[e.keyCode]&&m.push(S(this).index())}),g=S(document).data("keycount"),g++,S(document).data("keycount",g),S.trim(S(":focus").text().toLowerCase()).substring(0,1)!=f[e.keyCode]?(g=1,S(document).data("keycount",g)):g>=m.length&&(S(document).data("keycount",0),g>m.length&&(g=1)),t.eq(m[g-1]).children("a").focus()}if((/(13|32)/.test(e.keyCode.toString(10))||/(^9$)/.test(e.keyCode.toString(10))&&h.options.selectOnTab)&&c){if(/(32)/.test(e.keyCode.toString(10))||e.preventDefault(),h.options.liveSearch)/(32)/.test(e.keyCode.toString(10))||(h.$menuInner.find(".active a").click(),u.focus());else{var v=S(":focus");v.click(),v.focus(),e.preventDefault(),S(document).data("spaceSelect",!0)}S(document).data("keycount",0)}(/(^9$|27)/.test(e.keyCode.toString(10))&&c&&(h.multiple||h.options.liveSearch)||/(27)/.test(e.keyCode.toString(10))&&!c)&&(h.$menu.parent().removeClass("open"),h.options.container&&h.$newElement.removeClass("open"),h.$button.focus())}},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){this.$lis=null,this.liObj={},this.reloadLi(),this.render(),this.checkDisabled(),this.liHeight(!0),this.setStyle(),this.setWidth(),this.$lis&&this.$searchbox.trigger("propertychange"),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var o=S.fn.selectpicker;S.fn.selectpicker=r,S.fn.selectpicker.Constructor=d,S.fn.selectpicker.noConflict=function(){return S.fn.selectpicker=o,this},S(document).data("keycount",0).on("keydown.bs.select",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',d.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle=dropdown], .bootstrap-select [role="menu"], .bs-searchbox input',function(e){e.stopPropagation()}),S(window).on("load.bs.select.data-api",function(){S(".selectpicker").each(function(){var e=S(this);r.call(e,e.data())})})}(e)}),function(e,t){if("function"==typeof define&&define.amd)define(["jquery"],t);else if("undefined"!=typeof exports)t(require("jquery"));else{t(e.jquery),e.bootstrapSwitch={}}}(this,function(e){"use strict";var t,n=(t=e)&&t.__esModule?t:{default:t};var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};var r=function(){function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}}(),s=n.default||window.jQuery||window.$,l=function(){function t(i){var r=this,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$element=s(i),this.options=s.extend({},s.fn.bootstrapSwitch.defaults,this._getElementOptions(),e),this.prevOptions={},this.$wrapper=s("<div>",{class:function(){var e=[];return e.push(r.options.state?"on":"off"),r.options.size&&e.push(r.options.size),r.options.disabled&&e.push("disabled"),r.options.readonly&&e.push("readonly"),r.options.indeterminate&&e.push("indeterminate"),r.options.inverse&&e.push("inverse"),r.$element.attr("id")&&e.push("id-"+r.$element.attr("id")),e.map(r._getClass.bind(r)).concat([r.options.baseClass],r._getClasses(r.options.wrapperClass)).join(" ")}}),this.$container=s("<div>",{class:this._getClass("container")}),this.$on=s("<span>",{html:this.options.onText,class:this._getClass("handle-on")+" "+this._getClass(this.options.onColor)}),this.$off=s("<span>",{html:this.options.offText,class:this._getClass("handle-off")+" "+this._getClass(this.options.offColor)}),this.$label=s("<span>",{html:this.options.labelText,class:this._getClass("label")}),this.$element.on("init.bootstrapSwitch",this.options.onInit.bind(this,i)),this.$element.on("switchChange.bootstrapSwitch",function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];!1===r.options.onSwitchChange.apply(i,t)&&(r.$element.is(":radio")?s('[name="'+r.$element.attr("name")+'"]').trigger("previousState.bootstrapSwitch",!0):r.$element.trigger("previousState.bootstrapSwitch",!0))}),this.$container=this.$element.wrap(this.$container).parent(),this.$wrapper=this.$container.wrap(this.$wrapper).parent(),this.$element.before(this.options.inverse?this.$off:this.$on).before(this.$label).before(this.options.inverse?this.$on:this.$off),this.options.indeterminate&&this.$element.prop("indeterminate",!0),this._init(),this._elementHandlers(),this._handleHandlers(),this._labelHandlers(),this._formHandler(),this._externalLabelHandler(),this.$element.trigger("init.bootstrapSwitch",this.options.state)}return r(t,[{key:"setPrevOptions",value:function(){this.prevOptions=i({},this.options)}},{key:"state",value:function(e,t){return void 0===e?this.options.state:(this.options.disabled||this.options.readonly||this.options.state&&!this.options.radioAllOff&&this.$element.is(":radio")||(this.$element.is(":radio")?s('[name="'+this.$element.attr("name")+'"]').trigger("setPreviousOptions.bootstrapSwitch"):this.$element.trigger("setPreviousOptions.bootstrapSwitch"),this.options.indeterminate&&this.indeterminate(!1),this.$element.prop("checked",Boolean(e)).trigger("change.bootstrapSwitch",t)),this.$element)}},{key:"toggleState",value:function(e){return this.options.disabled||this.options.readonly?this.$element:this.options.indeterminate?(this.indeterminate(!1),this.state(!0)):this.$element.prop("checked",!this.options.state).trigger("change.bootstrapSwitch",e)}},{key:"size",value:function(e){return void 0===e?this.options.size:(null!=this.options.size&&this.$wrapper.removeClass(this._getClass(this.options.size)),e&&this.$wrapper.addClass(this._getClass(e)),this._width(),this._containerPosition(),this.options.size=e,this.$element)}},{key:"animate",value:function(e){return void 0===e?this.options.animate:this.options.animate===Boolean(e)?this.$element:this.toggleAnimate()}},{key:"toggleAnimate",value:function(){return this.options.animate=!this.options.animate,this.$wrapper.toggleClass(this._getClass("animate")),this.$element}},{key:"disabled",value:function(e){return void 0===e?this.options.disabled:this.options.disabled===Boolean(e)?this.$element:this.toggleDisabled()}},{key:"toggleDisabled",value:function(){return this.options.disabled=!this.options.disabled,this.$element.prop("disabled",this.options.disabled),this.$wrapper.toggleClass(this._getClass("disabled")),this.$element}},{key:"readonly",value:function(e){return void 0===e?this.options.readonly:this.options.readonly===Boolean(e)?this.$element:this.toggleReadonly()}},{key:"toggleReadonly",value:function(){return this.options.readonly=!this.options.readonly,this.$element.prop("readonly",this.options.readonly),this.$wrapper.toggleClass(this._getClass("readonly")),this.$element}},{key:"indeterminate",value:function(e){return void 0===e?this.options.indeterminate:this.options.indeterminate===Boolean(e)?this.$element:this.toggleIndeterminate()}},{key:"toggleIndeterminate",value:function(){return this.options.indeterminate=!this.options.indeterminate,this.$element.prop("indeterminate",this.options.indeterminate),this.$wrapper.toggleClass(this._getClass("indeterminate")),this._containerPosition(),this.$element}},{key:"inverse",value:function(e){return void 0===e?this.options.inverse:this.options.inverse===Boolean(e)?this.$element:this.toggleInverse()}},{key:"toggleInverse",value:function(){this.$wrapper.toggleClass(this._getClass("inverse"));var e=this.$on.clone(!0),t=this.$off.clone(!0);return this.$on.replaceWith(t),this.$off.replaceWith(e),this.$on=t,this.$off=e,this.options.inverse=!this.options.inverse,this.$element}},{key:"onColor",value:function(e){return void 0===e?this.options.onColor:(this.options.onColor&&this.$on.removeClass(this._getClass(this.options.onColor)),this.$on.addClass(this._getClass(e)),this.options.onColor=e,this.$element)}},{key:"offColor",value:function(e){return void 0===e?this.options.offColor:(this.options.offColor&&this.$off.removeClass(this._getClass(this.options.offColor)),this.$off.addClass(this._getClass(e)),this.options.offColor=e,this.$element)}},{key:"onText",value:function(e){return void 0===e?this.options.onText:(this.$on.html(e),this._width(),this._containerPosition(),this.options.onText=e,this.$element)}},{key:"offText",value:function(e){return void 0===e?this.options.offText:(this.$off.html(e),this._width(),this._containerPosition(),this.options.offText=e,this.$element)}},{key:"labelText",value:function(e){return void 0===e?this.options.labelText:(this.$label.html(e),this._width(),this.options.labelText=e,this.$element)}},{key:"handleWidth",value:function(e){return void 0===e?this.options.handleWidth:(this.options.handleWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"labelWidth",value:function(e){return void 0===e?this.options.labelWidth:(this.options.labelWidth=e,this._width(),this._containerPosition(),this.$element)}},{key:"baseClass",value:function(e){return this.options.baseClass}},{key:"wrapperClass",value:function(e){return void 0===e?this.options.wrapperClass:(e||(e=s.fn.bootstrapSwitch.defaults.wrapperClass),this.$wrapper.removeClass(this._getClasses(this.options.wrapperClass).join(" ")),this.$wrapper.addClass(this._getClasses(e).join(" ")),this.options.wrapperClass=e,this.$element)}},{key:"radioAllOff",value:function(e){if(void 0===e)return this.options.radioAllOff;var t=Boolean(e);return this.options.radioAllOff===t||(this.options.radioAllOff=t),this.$element}},{key:"onInit",value:function(e){return void 0===e?this.options.onInit:(e||(e=s.fn.bootstrapSwitch.defaults.onInit),this.options.onInit=e,this.$element)}},{key:"onSwitchChange",value:function(e){return void 0===e?this.options.onSwitchChange:(e||(e=s.fn.bootstrapSwitch.defaults.onSwitchChange),this.options.onSwitchChange=e,this.$element)}},{key:"destroy",value:function(){var e=this.$element.closest("form");return e.length&&e.off("reset.bootstrapSwitch").removeData("bootstrap-switch"),this.$container.children().not(this.$element).remove(),this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"),this.$element}},{key:"_getElementOptions",value:function(){return{state:this.$element.is(":checked"),size:this.$element.data("size"),animate:this.$element.data("animate"),disabled:this.$element.is(":disabled"),readonly:this.$element.is("[readonly]"),indeterminate:this.$element.data("indeterminate"),inverse:this.$element.data("inverse"),radioAllOff:this.$element.data("radio-all-off"),onColor:this.$element.data("on-color"),offColor:this.$element.data("off-color"),onText:this.$element.data("on-text"),offText:this.$element.data("off-text"),labelText:this.$element.data("label-text"),handleWidth:this.$element.data("handle-width"),labelWidth:this.$element.data("label-width"),baseClass:this.$element.data("base-class"),wrapperClass:this.$element.data("wrapper-class")}}},{key:"_width",value:function(){var n=this,e=this.$on.add(this.$off).add(this.$label).css("width",""),i="auto"===this.options.handleWidth?Math.round(Math.max(this.$on.width(),this.$off.width())):this.options.handleWidth;return e.width(i),this.$label.width(function(e,t){return"auto"!==n.options.labelWidth?n.options.labelWidth:t<i?i:t}),this._handleWidth=this.$on.outerWidth(),this._labelWidth=this.$label.outerWidth(),this.$container.width(2*this._handleWidth+this._labelWidth),this.$wrapper.width(this._handleWidth+this._labelWidth)}},{key:"_containerPosition",value:function(){var t=this,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.options.state;arguments[1];this.$container.css("margin-left",function(){var e=[0,"-"+t._handleWidth+"px"];return t.options.indeterminate?"-"+t._handleWidth/2+"px":n?t.options.inverse?e[1]:e[0]:t.options.inverse?e[0]:e[1]})}},{key:"_init",value:function(){var e=this,t=function(){e.setPrevOptions(),e._width(),e._containerPosition(),setTimeout(function(){if(e.options.animate)return e.$wrapper.addClass(e._getClass("animate"))},50)};if(this.$wrapper.is(":visible"))t();else var n=window.setInterval(function(){if(e.$wrapper.is(":visible"))return t(),window.clearInterval(n)},50)}},{key:"_elementHandlers",value:function(){var i=this;return this.$element.on({"setPreviousOptions.bootstrapSwitch":this.setPrevOptions.bind(this),"previousState.bootstrapSwitch":function(){i.options=i.prevOptions,i.options.indeterminate&&i.$wrapper.addClass(i._getClass("indeterminate")),i.$element.prop("checked",i.options.state).trigger("change.bootstrapSwitch",!0)},"change.bootstrapSwitch":function(e,t){e.preventDefault(),e.stopImmediatePropagation();var n=i.$element.is(":checked");i._containerPosition(n),n!==i.options.state&&(i.options.state=n,i.$wrapper.toggleClass(i._getClass("off")).toggleClass(i._getClass("on")),t||(i.$element.is(":radio")&&s('[name="'+i.$element.attr("name")+'"]').not(i.$element).prop("checked",!1).trigger("change.bootstrapSwitch",!0),i.$element.trigger("switchChange.bootstrapSwitch",[n])))},"focus.bootstrapSwitch":function(e){e.preventDefault(),i.$wrapper.addClass(i._getClass("focused"))},"blur.bootstrapSwitch":function(e){e.preventDefault(),i.$wrapper.removeClass(i._getClass("focused"))},"keydown.bootstrapSwitch":function(e){!e.which||i.options.disabled||i.options.readonly||37!==e.which&&39!==e.which||(e.preventDefault(),e.stopImmediatePropagation(),i.state(39===e.which))}})}},{key:"_handleHandlers",value:function(){var t=this;return this.$on.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!1),t.$element.trigger("focus.bootstrapSwitch")}),this.$off.on("click.bootstrapSwitch",function(e){return e.preventDefault(),e.stopPropagation(),t.state(!0),t.$element.trigger("focus.bootstrapSwitch")})}},{key:"_labelHandlers",value:function(){var n=this,e={click:function(e){e.stopPropagation()},"mousedown.bootstrapSwitch touchstart.bootstrapSwitch":function(e){n._dragStart||n.options.disabled||n.options.readonly||(e.preventDefault(),e.stopPropagation(),n._dragStart=(e.pageX||e.originalEvent.touches[0].pageX)-parseInt(n.$container.css("margin-left"),10),n.options.animate&&n.$wrapper.removeClass(n._getClass("animate")),n.$element.trigger("focus.bootstrapSwitch"))},"mousemove.bootstrapSwitch touchmove.bootstrapSwitch":function(e){if(null!=n._dragStart){var t=(e.pageX||e.originalEvent.touches[0].pageX)-n._dragStart;e.preventDefault(),t<-n._handleWidth||0<t||(n._dragEnd=t,n.$container.css("margin-left",n._dragEnd+"px"))}},"mouseup.bootstrapSwitch touchend.bootstrapSwitch":function(e){if(n._dragStart){if(e.preventDefault(),n.options.animate&&n.$wrapper.addClass(n._getClass("animate")),n._dragEnd){var t=n._dragEnd>-n._handleWidth/2;n._dragEnd=!1,n.state(n.options.inverse?!t:t)}else n.state(!n.options.state);n._dragStart=!1}},"mouseleave.bootstrapSwitch":function(){n.$label.trigger("mouseup.bootstrapSwitch")}};this.$label.on(e)}},{key:"_externalLabelHandler",value:function(){var t=this,n=this.$element.closest("label");n.on("click",function(e){e.preventDefault(),e.stopImmediatePropagation(),e.target===n[0]&&t.toggleState()})}},{key:"_formHandler",value:function(){var e=this.$element.closest("form");e.data("bootstrap-switch")||e.on("reset.bootstrapSwitch",function(){window.setTimeout(function(){e.find("input").filter(function(){return s(this).data("bootstrap-switch")}).each(function(){return s(this).bootstrapSwitch("state",this.checked)})},1)}).data("bootstrap-switch",!0)}},{key:"_getClass",value:function(e){return this.options.baseClass+"-"+e}},{key:"_getClasses",value:function(e){return s.isArray(e)?e.map(this._getClass.bind(this)):[this._getClass(e)]}}]),t}();s.fn.bootstrapSwitch=function(o){for(var e=arguments.length,a=Array(1<e?e-1:0),t=1;t<e;t++)a[t-1]=arguments[t];return Array.prototype.reduce.call(this,function(e,t){var n=s(t),i=n.data("bootstrap-switch"),r=i||new l(t,o);return i||n.data("bootstrap-switch",r),"string"==typeof o?r[o].apply(r,a):e},this)},s.fn.bootstrapSwitch.Constructor=l,s.fn.bootstrapSwitch.defaults={state:!0,size:null,animate:!0,disabled:!1,readonly:!1,indeterminate:!1,inverse:!1,radioAllOff:!1,onColor:"primary",offColor:"default",onText:"ON",offText:"OFF",labelText:"&nbsp",handleWidth:"auto",labelWidth:"auto",baseClass:"bootstrap-switch",wrapperClass:"wrapper",onInit:function(){},onSwitchChange:function(){}}}),function(C){"use strict";var S=0;function k(e,t){return C.map(e,function(e){return e+".touchspin_"+t})}C.fn.TouchSpin=function(b){if("destroy"!==b){var w={min:0,max:100,initval:"",replacementval:"",step:1,decimals:0,stepinterval:100,forcestepdivisibility:"round",stepintervaldelay:500,verticalbuttons:!1,verticalupclass:"glyphicon glyphicon-chevron-up",verticaldownclass:"glyphicon glyphicon-chevron-down",prefix:"",postfix:"",prefix_extraclass:"",postfix_extraclass:"",booster:!0,boostat:10,maxboostedstep:!1,mousewheel:!0,buttondown_class:"btn btn-default",buttonup_class:"btn btn-default",buttondown_txt:"-",buttonup_txt:"+"},x={min:"min",max:"max",initval:"init-val",replacementval:"replacement-val",step:"step",decimals:"decimals",stepinterval:"step-interval",verticalbuttons:"vertical-buttons",verticalupclass:"vertical-up-class",verticaldownclass:"vertical-down-class",forcestepdivisibility:"force-step-divisibility",stepintervaldelay:"step-interval-delay",prefix:"prefix",postfix:"postfix",prefix_extraclass:"prefix-extra-class",postfix_extraclass:"postfix-extra-class",booster:"booster",boostat:"boostat",maxboostedstep:"max-boosted-step",mousewheel:"mouse-wheel",buttondown_class:"button-down-class",buttonup_class:"button-up-class",buttondown_txt:"button-down-txt",buttonup_txt:"button-up-txt"};return this.each(function(){var s,l,r,n,e,t,i,o,c=C(this),a=c.data(),u=0,d=!1;function h(){var e,t,n;""!==(e=c.val())?0<s.decimals&&"."===e||(t=parseFloat(e),isNaN(t)&&(t=""!==s.replacementval?s.replacementval:0),(n=t).toString()!==e&&(n=t),t<s.min&&(n=s.min),t>s.max&&(n=s.max),n=function(e){switch(s.forcestepdivisibility){case"round":return(Math.round(e/s.step)*s.step).toFixed(s.decimals);case"floor":return(Math.floor(e/s.step)*s.step).toFixed(s.decimals);case"ceil":return(Math.ceil(e/s.step)*s.step).toFixed(s.decimals);default:return e}}(n),Number(e).toString()!==n.toString()&&(c.val(n),c.trigger("change"))):""!==s.replacementval&&(c.val(s.replacementval),c.trigger("change"))}function p(){if(s.booster){var e=Math.pow(2,Math.floor(u/s.boostat))*s.step;return s.maxboostedstep&&e>s.maxboostedstep&&(e=s.maxboostedstep,n=Math.round(n/e)*e),Math.max(s.step,e)}return s.step}function f(){h(),n=parseFloat(r.input.val()),isNaN(n)&&(n=0);var e=n,t=p();(n+=t)>s.max&&(n=s.max,c.trigger("touchspin.on.max"),y()),r.input.val(Number(n).toFixed(s.decimals)),e!==n&&c.trigger("change")}function g(){h(),n=parseFloat(r.input.val()),isNaN(n)&&(n=0);var e=n,t=p();(n-=t)<s.min&&(n=s.min,c.trigger("touchspin.on.min"),y()),r.input.val(n.toFixed(s.decimals)),e!==n&&c.trigger("change")}function m(){y(),u=0,d="down",c.trigger("touchspin.on.startspin"),c.trigger("touchspin.on.startdownspin"),i=setTimeout(function(){e=setInterval(function(){u++,g()},s.stepinterval)},s.stepintervaldelay)}function v(){y(),u=0,d="up",c.trigger("touchspin.on.startspin"),c.trigger("touchspin.on.startupspin"),o=setTimeout(function(){t=setInterval(function(){u++,f()},s.stepinterval)},s.stepintervaldelay)}function y(){switch(clearTimeout(i),clearTimeout(o),clearInterval(e),clearInterval(t),d){case"up":c.trigger("touchspin.on.stopupspin"),c.trigger("touchspin.on.stopspin");break;case"down":c.trigger("touchspin.on.stopdownspin"),c.trigger("touchspin.on.stopspin")}u=0,d=!1}!function(){if(c.data("alreadyinitialized"))return;if(c.data("alreadyinitialized",!0),S+=1,c.data("spinnerid",S),!c.is("input"))return console.log("Must be an input.");s=C.extend({},w,a,(i={},C.each(x,function(e,t){var n="bts-"+t;c.is("[data-"+n+"]")&&(i[e]=c.data(n))}),i),b),""!==s.initval&&""===c.val()&&c.val(s.initval),h(),function(){var e=c.val(),t=c.parent();""!==e&&(e=Number(e).toFixed(s.decimals));c.data("initvalue",e).val(e),c.addClass("form-control"),t.hasClass("input-group")?function(e){e.addClass("bootstrap-touchspin");var t,n,i=c.prev(),r=c.next(),o='<span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+"</span>",a='<span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+"</span>";i.hasClass("input-group-btn")?(t='<button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button>",i.append(t)):(t='<span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+"</button></span>",C(t).insertBefore(c));r.hasClass("input-group-btn")?(n='<button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button>",r.prepend(n)):(n='<span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span>",C(n).insertAfter(c));C(o).insertBefore(c),C(a).insertAfter(c),l=e}(t):function(){var e;e=s.verticalbuttons?'<div class="input-group bootstrap-touchspin"><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn-vertical"><button class="'+s.buttondown_class+' bootstrap-touchspin-up" type="button"><i class="'+s.verticalupclass+'"></i></button><button class="'+s.buttonup_class+' bootstrap-touchspin-down" type="button"><i class="'+s.verticaldownclass+'"></i></button></span></div>':'<div class="input-group bootstrap-touchspin"><span class="input-group-btn"><button class="'+s.buttondown_class+' bootstrap-touchspin-down" type="button">'+s.buttondown_txt+'</button></span><span class="input-group-addon bootstrap-touchspin-prefix">'+s.prefix+'</span><span class="input-group-addon bootstrap-touchspin-postfix">'+s.postfix+'</span><span class="input-group-btn"><button class="'+s.buttonup_class+' bootstrap-touchspin-up" type="button">'+s.buttonup_txt+"</button></span></div>";l=C(e).insertBefore(c),C(".bootstrap-touchspin-prefix",l).after(c),c.hasClass("input-sm")?l.addClass("input-group-sm"):c.hasClass("input-lg")&&l.addClass("input-group-lg")}()}(),r={down:C(".bootstrap-touchspin-down",l),up:C(".bootstrap-touchspin-up",l),input:C("input",l),prefix:C(".bootstrap-touchspin-prefix",l).addClass(s.prefix_extraclass),postfix:C(".bootstrap-touchspin-postfix",l).addClass(s.postfix_extraclass)},function(){""===s.prefix&&r.prefix.hide();""===s.postfix&&r.postfix.hide()}(),c.on("keydown",function(e){var t=e.keyCode||e.which;38===t?("up"!==d&&(f(),v()),e.preventDefault()):40===t&&("down"!==d&&(g(),m()),e.preventDefault())}),c.on("keyup",function(e){var t=e.keyCode||e.which;38===t?y():40===t&&y()}),c.on("blur",function(){h()}),r.down.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("down"!==d&&(g(),m()),e.preventDefault())}),r.down.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||y()}),r.up.on("keydown",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||("up"!==d&&(f(),v()),e.preventDefault())}),r.up.on("keyup",function(e){var t=e.keyCode||e.which;32!==t&&13!==t||y()}),r.down.on("mousedown.touchspin",function(e){r.down.off("touchstart.touchspin"),c.is(":disabled")||(g(),m(),e.preventDefault(),e.stopPropagation())}),r.down.on("touchstart.touchspin",function(e){r.down.off("mousedown.touchspin"),c.is(":disabled")||(g(),m(),e.preventDefault(),e.stopPropagation())}),r.up.on("mousedown.touchspin",function(e){r.up.off("touchstart.touchspin"),c.is(":disabled")||(f(),v(),e.preventDefault(),e.stopPropagation())}),r.up.on("touchstart.touchspin",function(e){r.up.off("mousedown.touchspin"),c.is(":disabled")||(f(),v(),e.preventDefault(),e.stopPropagation())}),r.up.on("mouseout touchleave touchend touchcancel",function(e){d&&(e.stopPropagation(),y())}),r.down.on("mouseout touchleave touchend touchcancel",function(e){d&&(e.stopPropagation(),y())}),r.down.on("mousemove touchmove",function(e){d&&(e.stopPropagation(),e.preventDefault())}),r.up.on("mousemove touchmove",function(e){d&&(e.stopPropagation(),e.preventDefault())}),C(document).on(k(["mouseup","touchend","touchcancel"],S).join(" "),function(e){d&&(e.preventDefault(),y())}),C(document).on(k(["mousemove","touchmove","scroll","scrollstart"],S).join(" "),function(e){d&&(e.preventDefault(),y())}),c.on("mousewheel DOMMouseScroll",function(e){if(s.mousewheel&&c.is(":focus")){var t=e.originalEvent.wheelDelta||-e.originalEvent.deltaY||-e.originalEvent.detail;e.stopPropagation(),e.preventDefault(),t<0?g():f()}}),c.on("touchspin.uponce",function(){y(),f()}),c.on("touchspin.downonce",function(){y(),g()}),c.on("touchspin.startupspin",function(){v()}),c.on("touchspin.startdownspin",function(){m()}),c.on("touchspin.stopspin",function(){y()}),c.on("touchspin.updatesettings",function(e,t){!function(e){var t;t=e,s=C.extend({},s,t),t.postfix&&c.parent().find(".bootstrap-touchspin-postfix").text(t.postfix),t.prefix&&c.parent().find(".bootstrap-touchspin-prefix").text(t.prefix),h();var n=r.input.val();""!==n&&(n=Number(r.input.val()),r.input.val(n.toFixed(s.decimals)))}(t)}),r.input.css("display","block");var i}()})}this.each(function(){var e=C(this).data();C(document).off(k(["mouseup","touchend","touchcancel","mousemove","touchmove","scroll","scrollstart"],e.spinnerid).join(" "))})}}(jQuery),function(){var O={version:"3.5.17"},o=[].slice,h=function(e){return o.call(e)},b=this.document;function s(e){return e&&(e.ownerDocument||e.document||e).documentElement}function N(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(b)try{h(b.documentElement.childNodes)[0].nodeType}catch(e){h=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),b)try{b.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var t=this.Element.prototype,n=t.setAttribute,i=t.setAttributeNS,r=this.CSSStyleDeclaration.prototype,a=r.setProperty;t.setAttribute=function(e,t){n.call(this,e,t+"")},t.setAttributeNS=function(e,t,n){i.call(this,e,t,n+"")},r.setProperty=function(e,t,n){a.call(this,e,t+"",n)}}function l(e,t){return e<t?-1:t<e?1:t<=e?0:NaN}function c(e){return null===e?NaN:+e}function u(e){return!isNaN(e)}function e(o){return{left:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;o(e[r],t)<0?n=r+1:i=r}return n},right:function(e,t,n,i){for(arguments.length<3&&(n=0),arguments.length<4&&(i=e.length);n<i;){var r=n+i>>>1;0<o(e[r],t)?i=r:n=r+1}return n}}}O.ascending=l,O.descending=function(e,t){return t<e?-1:e<t?1:e<=t?0:NaN},O.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i<n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i<n&&(n=i)}return n},O.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i<=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n<i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i<=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n<i&&(n=i)}return n},O.extent=function(e,t){var n,i,r,o=-1,a=e.length;if(1===arguments.length){for(;++o<a;)if(null!=(i=e[o])&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=e[o])&&(i<n&&(n=i),r<i&&(r=i))}else{for(;++o<a;)if(null!=(i=t.call(e,e[o],o))&&i<=i){n=r=i;break}for(;++o<a;)null!=(i=t.call(e,e[o],o))&&(i<n&&(n=i),r<i&&(r=i))}return[n,r]},O.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=+e[o])&&(i+=n);else for(;++o<r;)u(n=+t.call(e,e[o],o))&&(i+=n);return i},O.mean=function(e,t){var n,i=0,r=e.length,o=-1,a=r;if(1===arguments.length)for(;++o<r;)u(n=c(e[o]))?i+=n:--a;else for(;++o<r;)u(n=c(t.call(e,e[o],o)))?i+=n:--a;if(a)return i/a},O.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},O.median=function(e,t){var n,i=[],r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)u(n=c(e[o]))&&i.push(n);else for(;++o<r;)u(n=c(t.call(e,e[o],o)))&&i.push(n);if(i.length)return O.quantile(i.sort(l),.5)},O.variance=function(e,t){var n,i,r=e.length,o=0,a=0,s=-1,l=0;if(1===arguments.length)for(;++s<r;)u(n=c(e[s]))&&(a+=(i=n-o)*(n-(o+=i/++l)));else for(;++s<r;)u(n=c(t.call(e,e[s],s)))&&(a+=(i=n-o)*(n-(o+=i/++l)));if(1<l)return a/(l-1)},O.deviation=function(){var e=O.variance.apply(this,arguments);return e?Math.sqrt(e):e};var d=e(l);function p(e){return e.length}O.bisectLeft=d.left,O.bisect=O.bisectRight=d.right,O.bisector=function(n){return e(1===n.length?function(e,t){return l(n(e),t)}:n)},O.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},O.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},O.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},O.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=O.min(e,p),i=new Array(n);++t<n;)for(var r,o=-1,a=i[t]=new Array(r);++o<r;)a[o]=e[o][t];return i},O.zip=function(){return O.transpose(arguments)},O.keys=function(e){var t=[];for(var n in e)t.push(n);return t},O.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},O.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},O.merge=function(e){for(var t,n,i,r=e.length,o=-1,a=0;++o<r;)a+=e[o].length;for(n=new Array(a);0<=--r;)for(t=(i=e[r]).length;0<=--t;)n[--a]=i[t];return n};var M=Math.abs;function f(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function y(){this._=Object.create(null)}O.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(e){var t=1;for(;e*t%1;)t*=10;return t}(M(n)),a=-1;if(e*=o,t*=o,(n*=o)<0)for(;(i=e+n*++a)>t;)r.push(i/o);else for(;(i=e+n*++a)<t;)r.push(i/o);return r},O.map=function(e,t){var n=new y;if(e instanceof y)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var a in e)n.set(a,e[a]);return n};var g="__proto__",m="\0";function v(e){return(e+="")===g||e[0]===m?m+e:e}function w(e){return(e+="")[0]===m?e.slice(1):e}function x(e){return v(e)in this._}function C(e){return(e=v(e))in this._&&delete this._[e]}function S(){var e=[];for(var t in this._)e.push(w(t));return e}function k(){var e=0;for(var t in this._)++e;return e}function _(){for(var e in this._)return!1;return!0}function T(){this._=Object.create(null)}function L(e){return e}function D(t,n,i){return function(){var e=i.apply(n,arguments);return e===n?t:e}}function A(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=E.length;n<i;++n){var r=E[n]+t;if(r in e)return r}}f(y,{has:x,get:function(e){return this._[v(e)]},set:function(e,t){return this._[v(e)]=t},remove:C,keys:S,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:w(t),value:this._[t]});return e},size:k,empty:_,forEach:function(e){for(var t in this._)e.call(this,w(t),this._[t])}}),O.nest=function(){var d,h,p={},f=[],t=[];function g(n,e,i){if(i>=f.length)return h?h.call(p,e):d?e.sort(d):e;for(var t,r,o,a,s=-1,l=e.length,c=f[i++],u=new y;++s<l;)(a=u.get(t=c(r=e[s])))?a.push(r):u.set(t,[r]);return n?(r=n(),o=function(e,t){r.set(e,g(n,t,i))}):(r={},o=function(e,t){r[e]=g(n,t,i)}),u.forEach(o),r}return p.map=function(e,t){return g(t,e,0)},p.entries=function(e){return function n(e,i){if(i>=f.length)return e;var r=[],o=t[i++];return e.forEach(function(e,t){r.push({key:e,values:n(t,i)})}),o?r.sort(function(e,t){return o(e.key,t.key)}):r}(g(O.map,e,0),0)},p.key=function(e){return f.push(e),p},p.sortKeys=function(e){return t[f.length-1]=e,p},p.sortValues=function(e){return d=e,p},p.rollup=function(e){return h=e,p},p},O.set=function(e){var t=new T;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},f(T,{has:x,add:function(e){return this._[v(e+="")]=!0,e},remove:C,values:S,size:k,empty:_,forEach:function(e){for(var t in this._)e.call(this,w(t))}}),O.behavior={},O.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=D(e,t,t[n]);return e};var E=["webkit","ms","moz","Moz","o","O"];function I(){}function P(){}function $(r){var o=[],a=new y;function e(){for(var e,t=o,n=-1,i=t.length;++n<i;)(e=t[n].on)&&e.apply(this,arguments);return r}return e.on=function(e,t){var n,i=a.get(e);return arguments.length<2?i&&i.on:(i&&(i.on=null,o=o.slice(0,n=o.indexOf(i)).concat(o.slice(n+1)),a.remove(e)),t&&o.push(a.set(e,{on:t})),r)},e}function j(){O.event.preventDefault()}function R(){for(var e,t=O.event;e=t.sourceEvent;)t=e;return t}function F(r){for(var o=new P,e=0,t=arguments.length;++e<t;)o[arguments[e]]=$(o);return o.of=function(n,i){return function(e){try{var t=e.sourceEvent=O.event;e.target=r,O.event=e,o[e.type].apply(n,i)}finally{O.event=t}}},o}O.dispatch=function(){for(var e=new P,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=$(e);return e},P.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(0<=n&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},O.event=null,O.requote=function(e){return e.replace(q,"\\$&")};var q=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,H={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function B(e){return H(e,W),e}var V=function(e,t){return t.querySelector(e)},U=function(e,t){return t.querySelectorAll(e)},z=function(e,t){var n=e.matches||e[A(e,"matchesSelector")];return(z=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(V=function(e,t){return Sizzle(e,t)[0]||null},U=Sizzle,z=Sizzle.matchesSelector),O.selection=function(){return O.select(b.documentElement)};var W=O.selection.prototype=[];function G(e){return"function"==typeof e?e:function(){return V(e,this)}}function Y(e){return"function"==typeof e?e:function(){return U(e,this)}}W.select=function(e){var t,n,i,r,o=[];e=G(e);for(var a=-1,s=this.length;++a<s;){o.push(t=[]),t.parentNode=(i=this[a]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,a)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return B(o)},W.selectAll=function(e){var t,n,i=[];e=Y(e);for(var r=-1,o=this.length;++r<o;)for(var a=this[r],s=-1,l=a.length;++s<l;)(n=a[s])&&(i.push(t=h(e.call(n,n.__data__,s,r))),t.parentNode=n);return B(i)};var X="http://www.w3.org/1999/xhtml",J={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function K(t,n){return t=O.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function Q(e){return e.trim().replace(/\s+/g," ")}function Z(e){return new RegExp("(?:^|\\s+)"+O.requote(e)+"(?:\\s+|$)","g")}function ee(e){return(e+"").trim().split(/^|\s+/)}function te(n,i){var r=(n=ee(n).map(ne)).length;return"function"==typeof i?function(){for(var e=-1,t=i.apply(this,arguments);++e<r;)n[e](this,t)}:function(){for(var e=-1;++e<r;)n[e](this,i)}}function ne(i){var r=Z(i);return function(e,t){if(n=e.classList)return t?n.add(i):n.remove(i);var n=e.getAttribute("class")||"";t?(r.lastIndex=0,r.test(n)||e.setAttribute("class",Q(n+" "+i))):e.setAttribute("class",Q(n.replace(r," ")))}}function ie(t,n,i){return null==n?function(){this.style.removeProperty(t)}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?this.style.removeProperty(t):this.style.setProperty(t,e,i)}:function(){this.style.setProperty(t,n,i)}}function re(t,n){return null==n?function(){delete this[t]}:"function"==typeof n?function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}:function(){this[t]=n}}function oe(n){return"function"==typeof n?n:(n=O.ns.qualify(n)).local?function(){return this.ownerDocument.createElementNS(n.space,n.local)}:function(){var e=this.ownerDocument,t=this.namespaceURI;return t===X&&e.documentElement.namespaceURI===X?e.createElement(n):e.createElementNS(t,n)}}function ae(){var e=this.parentNode;e&&e.removeChild(this)}function se(e){return{__data__:e}}function le(e){return function(){return z(this,e)}}function ce(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],a=0,s=o.length;a<s;a++)(r=o[a])&&t(r,a,n);return e}function ue(e){return H(e,de),e}O.ns={prefix:J,qualify:function(e){var t=e.indexOf(":"),n=e;return 0<=t&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),J.hasOwnProperty(n)?{space:J[n],local:e}:e}},W.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=O.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(K(t,e[t]));return this}return this.each(K(e,t))},W.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=ee(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!Z(e[r]).test(t))return!1;return!0}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},W.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(ie(n,e[n],t));return this}if(i<2){var r=this.node();return N(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(ie(e,t,n))},W.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(re(t,e[t]));return this}return this.each(re(e,t))},W.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},W.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},W.append=function(e){return e=oe(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},W.insert=function(e,t){return e=oe(e),t=G(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},W.remove=function(){return this.each(ae)},W.data=function(e,f){var t,n,i=-1,r=this.length;if(!arguments.length){for(e=new Array(r=(t=this[0]).length);++i<r;)(n=t[i])&&(e[i]=n.__data__);return e}function o(e,t){var n,i,r,o=e.length,a=t.length,s=Math.min(o,a),l=new Array(a),c=new Array(a),u=new Array(o);if(f){var d,h=new y,p=new Array(o);for(n=-1;++n<o;)(i=e[n])&&(h.has(d=f.call(i,i.__data__,n))?u[n]=i:h.set(d,i),p[n]=d);for(n=-1;++n<a;)(i=h.get(d=f.call(t,r=t[n],n)))?!0!==i&&((l[n]=i).__data__=r):c[n]=se(r),h.set(d,!0);for(n=-1;++n<o;)n in p&&!0!==h.get(p[n])&&(u[n]=e[n])}else{for(n=-1;++n<s;)i=e[n],r=t[n],i?(i.__data__=r,l[n]=i):c[n]=se(r);for(;n<a;++n)c[n]=se(t[n]);for(;n<o;++n)u[n]=e[n]}c.update=l,c.parentNode=l.parentNode=u.parentNode=e.parentNode,g.push(c),m.push(l),v.push(u)}var g=ue([]),m=B([]),v=B([]);if("function"==typeof e)for(;++i<r;)o(t=this[i],e.call(t,t.parentNode.__data__,i));else for(;++i<r;)o(t=this[i],e);return m.enter=function(){return g},m.exit=function(){return v},m},W.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},W.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=le(e));for(var o=0,a=this.length;o<a;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&e.call(i,i.__data__,s,o)&&t.push(i)}return B(r)},W.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];0<=--r;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},W.sort=function(e){e=function(n){arguments.length||(n=l);return function(e,t){return e&&t?n(e.__data__,t.__data__):!e-!t}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},W.each=function(i){return ce(this,function(e,t,n){i.call(e,e.__data__,t,n)})},W.call=function(e){var t=h(arguments);return e.apply(t[0]=this,t),this},W.empty=function(){return!this.node()},W.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},W.size=function(){var e=0;return ce(this,function(){++e}),e};var de=[];function he(r,t,n){var i="__on"+r,e=r.indexOf("."),o=fe;0<e&&(r=r.slice(0,e));var a=pe.get(r);function s(){var e=this[i];e&&(this.removeEventListener(r,e,e.$),delete this[i])}return a&&(r=a,o=ge),e?t?function(){var e=o(t,h(arguments));s.call(this),this.addEventListener(r,this[i]=e,e.$=n),e._=t}:s:t?I:function(){var e,t=new RegExp("^__on([^.]+)"+O.requote(r)+"$");for(var n in this)if(e=n.match(t)){var i=this[n];this.removeEventListener(e[1],i,i.$),delete this[n]}}}O.selection.enter=ue,(O.selection.enter.prototype=de).append=W.append,de.empty=W.empty,de.node=W.node,de.call=W.call,de.size=W.size,de.select=function(e){for(var t,n,i,r,o,a=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,a.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,s)),n.__data__=o.__data__):t.push(null)}return B(a)},de.insert=function(e,t){var a,s,l;return arguments.length<2&&(a=this,t=function(e,t,n){var i,r=a[n].update,o=r.length;for(n!=l&&(l=n,s=0),s<=t&&(s=t+1);!(i=r[s])&&++s<o;);return i}),W.insert.call(this,e,t)},O.select=function(e){var t;return"string"==typeof e?(t=[V(e,b)]).parentNode=b.documentElement:(t=[e]).parentNode=s(e),B([t])},O.selectAll=function(e){var t;return"string"==typeof e?(t=h(U(e,b))).parentNode=b.documentElement:(t=h(e)).parentNode=null,B([t])},W.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(he(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(he(e,t,n))};var pe=O.map({mouseenter:"mouseover",mouseleave:"mouseout"});function fe(n,i){return function(e){var t=O.event;O.event=e,i[0]=this.__data__;try{n.apply(this,i)}finally{O.event=t}}}function ge(e,t){var n=fe(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}b&&pe.forEach(function(e){"on"+e in b&&pe.remove(e)});var me,ve=0;function ye(e){var n=".dragsuppress-"+ ++ve,i="click"+n,r=O.select(N(e)).on("touchmove"+n,j).on("dragstart"+n,j).on("selectstart"+n,j);if(null==me&&(me=!("onselectstart"in e)&&A(e.style,"userSelect")),me){var o=s(e).style,a=o[me];o[me]="none"}return function(e){if(r.on(n,null),me&&(o[me]=a),e){var t=function(){r.on(i,null)};r.on(i,function(){j(),t()},!0),setTimeout(t,0)}}}O.mouse=function(e){return we(e,R())};var be=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function we(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(be<0){var r=N(e);if(r.scrollX||r.scrollY){var o=(n=O.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();be=!(o.f||o.e),n.remove()}}return be?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function xe(){return O.event.changedTouches[0].identifier}O.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=R().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return we(e,i)},O.behavior.drag=function(){var g=F(n,"drag","dragstart","dragend"),m=null,e=i(I,O.mouse,N,"mousemove","mouseup"),t=i(xe,O.touch,L,"touchmove","touchend");function n(){this.on("mousedown.drag",e).on("touchstart.drag",t)}function i(u,d,h,p,f){return function(){var i,e=O.event.target.correspondingElement||O.event.target,r=this.parentNode,o=g.of(this,arguments),a=0,s=u(),t=".drag"+(null==s?"":"-"+s),n=O.select(h(e)).on(p+t,function(){var e,t,n=d(r,s);if(!n)return;e=n[0]-c[0],t=n[1]-c[1],a|=e|t,o({type:"drag",x:(c=n)[0]+i[0],y:n[1]+i[1],dx:e,dy:t})}).on(f+t,function(){if(!d(r,s))return;n.on(p+t,null).on(f+t,null),l(a),o({type:"dragend"})}),l=ye(e),c=d(r,s);i=m?[(i=m.apply(this,arguments)).x-c[0],i.y-c[1]]:[0,0],o({type:"dragstart"})}}return n.origin=function(e){return arguments.length?(m=e,n):m},O.rebind(n,g,"on")},O.touches=function(n,e){return arguments.length<2&&(e=R().touches),e?h(e).map(function(e){var t=we(n,e);return t.identifier=e.identifier,t}):[]};var Ce=1e-6,Se=Ce*Ce,ke=Math.PI,_e=2*ke,Te=_e-Ce,De=ke/2,Ae=ke/180,Ee=180/ke;function Ie(e){return 0<e?1:e<0?-1:0}function Pe(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function $e(e){return 1<e?0:e<-1?ke:Math.acos(e)}function Me(e){return 1<e?De:e<-1?-De:Math.asin(e)}function Oe(e){return((e=Math.exp(e))+1/e)/2}function Ne(e){return(e=Math.sin(e/2))*e}var Le=Math.SQRT2;O.interpolateZoom=function(e,t){var n,a,s=e[0],l=e[1],c=e[2],i=t[0],r=t[1],o=t[2],u=i-s,d=r-l,h=u*u+d*d;if(h<Se)a=Math.log(o/c)/Le,n=function(e){return[s+e*u,l+e*d,c*Math.exp(Le*e*a)]};else{var p=Math.sqrt(h),f=(o*o-c*c+4*h)/(2*c*2*p),g=(o*o-c*c-4*h)/(2*o*2*p),m=Math.log(Math.sqrt(f*f+1)-f),v=Math.log(Math.sqrt(g*g+1)-g);a=(v-m)/Le,n=function(e){var t,n,i=e*a,r=Oe(m),o=c/(2*p)*(r*(n=Le*i+m,((n=Math.exp(2*n))-1)/(n+1))-(t=m,((t=Math.exp(t))-1/t)/2));return[s+o*u,l+o*d,c*r/Oe(Le*i+m)]}}return n.duration=1e3*a,n},O.behavior.zoom=function(){var t,l,n,i,w,r,o,a,s,x={x:0,y:0,k:1},c=[960,500],u=Fe,d=250,h=0,C="mousedown.zoom",p="mousemove.zoom",f="mouseup.zoom",S="touchstart.zoom",k=F(g,"zoomstart","zoom","zoomend");function g(e){e.on(C,$).on(Re+".zoom",v).on("dblclick.zoom",y).on(S,M)}function _(e){return[(e[0]-x.x)/x.k,(e[1]-x.y)/x.k]}function T(e){x.k=Math.max(u[0],Math.min(u[1],e))}function D(e,t){var n;t=[(n=t)[0]*x.k+x.x,n[1]*x.k+x.y],x.x+=e[0]-t[0],x.y+=e[1]-t[1]}function A(e,t,n,i){e.__chart__={x:x.x,y:x.y,k:x.k},T(Math.pow(2,i)),D(l=t,n),e=O.select(e),0<d&&(e=e.transition().duration(d)),e.call(g.event)}function m(){o&&o.domain(r.range().map(function(e){return(e-x.x)/x.k}).map(r.invert)),s&&s.domain(a.range().map(function(e){return(e-x.y)/x.k}).map(a.invert))}function E(e){h++||e({type:"zoomstart"})}function I(e){m(),e({type:"zoom",scale:x.k,translate:[x.x,x.y]})}function P(e){--h||(e({type:"zoomend"}),l=null)}function $(){var e=this,t=k.of(e,arguments),n=0,i=O.select(N(e)).on(p,function(){n=1,D(O.mouse(e),r),I(t)}).on(f,function(){i.on(p,null).on(f,null),o(n),P(t)}),r=_(O.mouse(e)),o=ye(e);cs.call(e),E(t)}function M(){var c,u=this,d=k.of(u,arguments),h={},p=0,r=".zoom-"+O.event.changedTouches[0].identifier,f="touchmove"+r,g="touchend"+r,m=[],o=O.select(u),a=ye(u);function v(){var e=O.touches(u);return c=x.k,e.forEach(function(e){e.identifier in h&&(h[e.identifier]=_(e))}),e}function e(){var e=O.event.target;O.select(e).on(f,y).on(g,b),m.push(e);for(var t=O.event.changedTouches,n=0,i=t.length;n<i;++n)h[t[n].identifier]=null;var r=v(),o=Date.now();if(1===r.length){if(o-w<500){var a=r[0];A(u,a,h[a.identifier],Math.floor(Math.log(x.k)/Math.LN2)+1),j()}w=o}else if(1<r.length){a=r[0];var s=r[1],l=a[0]-s[0],c=a[1]-s[1];p=l*l+c*c}}function y(){var e,t,n,i,r=O.touches(u);cs.call(u);for(var o=0,a=r.length;o<a;++o,i=null)if(n=r[o],i=h[n.identifier]){if(t)break;e=n,t=i}if(i){var s=(s=n[0]-e[0])*s+(s=n[1]-e[1])*s,l=p&&Math.sqrt(s/p);e=[(e[0]+n[0])/2,(e[1]+n[1])/2],t=[(t[0]+i[0])/2,(t[1]+i[1])/2],T(l*c)}w=null,D(e,t),I(d)}function b(){if(O.event.touches.length){for(var e=O.event.changedTouches,t=0,n=e.length;t<n;++t)delete h[e[t].identifier];for(var i in h)return void v()}O.selectAll(m).on(r,null),o.on(C,$).on(S,M),a(),P(d)}e(),E(d),o.on(C,null).on(S,e)}function v(){var e=k.of(this,arguments);i?clearTimeout(i):(cs.call(this),t=_(l=n||O.mouse(this)),E(e)),i=setTimeout(function(){i=null,P(e)},50),j(),T(Math.pow(2,.002*je())*x.k),D(l,t),I(e)}function y(){var e=O.mouse(this),t=Math.log(x.k)/Math.LN2;A(this,e,_(e),O.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Re||(Re="onwheel"in b?(je=function(){return-O.event.deltaY*(O.event.deltaMode?120:1)},"wheel"):"onmousewheel"in b?(je=function(){return O.event.wheelDelta},"mousewheel"):(je=function(){return-O.event.detail},"MozMousePixelScroll")),g.event=function(e){e.each(function(){var s=k.of(this,arguments),t=x;hs?O.select(this).transition().each("start.zoom",function(){x=this.__chart__||{x:0,y:0,k:1},E(s)}).tween("zoom:zoom",function(){var i=c[0],e=c[1],r=l?l[0]:i/2,o=l?l[1]:e/2,a=O.interpolateZoom([(r-x.x)/x.k,(o-x.y)/x.k,i/x.k],[(r-t.x)/t.k,(o-t.y)/t.k,i/t.k]);return function(e){var t=a(e),n=i/t[2];this.__chart__=x={x:r-t[0]*n,y:o-t[1]*n,k:n},I(s)}}).each("interrupt.zoom",function(){P(s)}).each("end.zoom",function(){P(s)}):(this.__chart__=x,E(s),I(s),P(s))})},g.translate=function(e){return arguments.length?(x={x:+e[0],y:+e[1],k:x.k},m(),g):[x.x,x.y]},g.scale=function(e){return arguments.length?(x={x:x.x,y:x.y,k:null},T(+e),m(),g):x.k},g.scaleExtent=function(e){return arguments.length?(u=null==e?Fe:[+e[0],+e[1]],g):u},g.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],g):n},g.size=function(e){return arguments.length?(c=e&&[+e[0],+e[1]],g):c},g.duration=function(e){return arguments.length?(d=+e,g):d},g.x=function(e){return arguments.length?(r=(o=e).copy(),x={x:0,y:0,k:1},g):o},g.y=function(e){return arguments.length?(a=(s=e).copy(),x={x:0,y:0,k:1},g):s},O.rebind(g,k,"on")};var je,Re,Fe=[0,1/0];function qe(){}function He(e,t,n){return this instanceof He?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof He?new He(e.h,e.s,e.l):ct(""+e,ut,He):new He(e,t,n)}(O.color=qe).prototype.toString=function(){return this.rgb()+""};var Be=(O.hsl=He).prototype=new qe;function Ve(e,t,n){var i,r;function o(e){return Math.round(255*(360<(t=e)?t-=360:t<0&&(t+=360),t<60?i+(r-i)*t/60:t<180?r:t<240?i+(r-i)*(240-t)/60:i));var t}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:1<t?1:t,i=2*(n=n<0?0:1<n?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new rt(o(e+120),o(e),o(e-120))}function Ue(e,t,n){return this instanceof Ue?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Ue?new Ue(e.h,e.c,e.l):et(e instanceof Ge?e.l:(e=dt((e=O.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Ue(e,t,n)}Be.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,this.l/e)},Be.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new He(this.h,this.s,e*this.l)},Be.rgb=function(){return Ve(this.h,this.s,this.l)};var ze=(O.hcl=Ue).prototype=new qe;function We(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Ge(n,Math.cos(e*=Ae)*t,Math.sin(e)*t)}function Ge(e,t,n){return this instanceof Ge?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Ge?new Ge(e.l,e.a,e.b):e instanceof Ue?We(e.h,e.c,e.l):dt((e=rt(e)).r,e.g,e.b):new Ge(e,t,n)}ze.brighter=function(e){return new Ue(this.h,this.c,Math.min(100,this.l+Ye*(arguments.length?e:1)))},ze.darker=function(e){return new Ue(this.h,this.c,Math.max(0,this.l-Ye*(arguments.length?e:1)))},ze.rgb=function(){return We(this.h,this.c,this.l).rgb()},O.lab=Ge;var Ye=18,Xe=.95047,Je=1,Ke=1.08883,Qe=Ge.prototype=new qe;function Ze(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return new rt(it(3.2404542*(r=tt(r)*Xe)-1.5371385*(i=tt(i)*Je)-.4985314*(o=tt(o)*Ke)),it(-.969266*r+1.8760108*i+.041556*o),it(.0556434*r-.2040259*i+1.0572252*o))}function et(e,t,n){return 0<e?new Ue(Math.atan2(n,t)*Ee,Math.sqrt(t*t+n*n),e):new Ue(NaN,NaN,e)}function tt(e){return.206893034<e?e*e*e:(e-4/29)/7.787037}function nt(e){return.008856<e?Math.pow(e,1/3):7.787037*e+4/29}function it(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function rt(e,t,n){return this instanceof rt?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof rt?new rt(e.r,e.g,e.b):ct(""+e,rt,Ve):new rt(e,t,n)}function ot(e){return new rt(e>>16,e>>8&255,255&e)}function at(e){return ot(e)+""}Qe.brighter=function(e){return new Ge(Math.min(100,this.l+Ye*(arguments.length?e:1)),this.a,this.b)},Qe.darker=function(e){return new Ge(Math.max(0,this.l-Ye*(arguments.length?e:1)),this.a,this.b)},Qe.rgb=function(){return Ze(this.l,this.a,this.b)};var st=(O.rgb=rt).prototype=new qe;function lt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ct(e,t,n){var i,r,o,a=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(pt(r[0]),pt(r[1]),pt(r[2]))}return(o=ft.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(a=(3840&o)>>4,a|=a>>4,s=240&o,s|=s>>4,l=15&o,l|=l<<4):7===e.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),t(a,s,l))}function ut(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),a=Math.max(e,t,n),s=a-o,l=(a+o)/2;return s?(r=l<.5?s/(a+o):s/(2-a-o),i=e==a?(t-n)/s+(t<n?6:0):t==a?(n-e)/s+2:(e-t)/s+4,i*=60):(i=NaN,r=0<l&&l<1?0:i),new He(i,r,l)}function dt(e,t,n){var i=nt((.4124564*(e=ht(e))+.3575761*(t=ht(t))+.1804375*(n=ht(n)))/Xe),r=nt((.2126729*e+.7151522*t+.072175*n)/Je);return Ge(116*r-16,500*(i-r),200*(r-nt((.0193339*e+.119192*t+.9503041*n)/Ke)))}function ht(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function pt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}st.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b;return t||n||i?(t&&t<30&&(t=30),n&&n<30&&(n=30),i&&i<30&&(i=30),new rt(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new rt(30,30,30)},st.darker=function(e){return new rt((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},st.hsl=function(){return ut(this.r,this.g,this.b)},st.toString=function(){return"#"+lt(this.r)+lt(this.g)+lt(this.b)};var ft=O.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function gt(e){return"function"==typeof e?e:function(){return e}}function mt(i){return function(e,t,n){return 2===arguments.length&&"function"==typeof t&&(n=t,t=null),vt(e,t,i,n)}}function vt(r,o,a,e){var n,s={},l=O.dispatch("beforesend","progress","load","error"),c={},u=new XMLHttpRequest,d=null;function t(){var e,t,n,i=u.status;if(!i&&((n=(t=u).responseType)&&"text"!==n?t.response:t.responseText)||200<=i&&i<300||304===i){try{e=a.call(s,u)}catch(e){return void l.error.call(s,e)}l.load.call(s,e)}else l.error.call(s,u)}return!this.XDomainRequest||"withCredentials"in u||!/^(http(s)?:)?\/\//.test(r)||(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=t:u.onreadystatechange=function(){3<u.readyState&&t()},u.onprogress=function(e){var t=O.event;O.event=e;try{l.progress.call(s,u)}finally{O.event=t}},s.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?c[e]:(null==t?delete c[e]:c[e]=t+"",s)},s.mimeType=function(e){return arguments.length?(o=null==e?null:e+"",s):o},s.responseType=function(e){return arguments.length?(d=e,s):d},s.response=function(e){return a=e,s},["get","post"].forEach(function(e){s[e]=function(){return s.send.apply(s,[e].concat(h(arguments)))}}),s.send=function(e,t,n){if(2===arguments.length&&"function"==typeof t&&(n=t,t=null),u.open(e,r,!0),null==o||"accept"in c||(c.accept=o+",*/*"),u.setRequestHeader)for(var i in c)u.setRequestHeader(i,c[i]);return null!=o&&u.overrideMimeType&&u.overrideMimeType(o),null!=d&&(u.responseType=d),null!=n&&s.on("error",n).on("load",function(e){n(null,e)}),l.beforesend.call(s,u),u.send(null==t?null:t),s},s.abort=function(){return u.abort(),s},O.rebind(s,l,"on"),null==e?s:s.get(1===(n=e).length?function(e,t){n(null==e?t:null)}:n)}ft.forEach(function(e,t){ft.set(e,ot(t))}),O.functor=gt,O.xhr=mt(L),O.dsv=function(r,o){var t=new RegExp('["'+r+"\n]"),h=r.charCodeAt(0);function a(e,t,n){arguments.length<3&&(n=t,t=null);var i=vt(e,o,null==t?s:l(t),n);return i.row=function(e){return arguments.length?i.response(null==(t=e)?s:l(e)):t},i}function s(e){return a.parse(e.responseText)}function l(t){return function(e){return a.parse(e.responseText,t)}}function n(e){return e.map(c).join(r)}function c(e){return t.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return a.parse=function(e,i){var r;return a.parseRows(e,function(e,t){if(r)return r(e,t-1);var n=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");r=i?function(e,t){return i(n(e),t)}:n})},a.parseRows=function(r,e){var t,o,a={},s={},n=[],l=r.length,c=0,i=0;function u(){if(l<=c)return s;if(o)return o=!1,a;var e=c;if(34===r.charCodeAt(e)){for(var t=e;t++<l;)if(34===r.charCodeAt(t)){if(34!==r.charCodeAt(t+1))break;++t}return c=t+2,13===(n=r.charCodeAt(t+1))?(o=!0,10===r.charCodeAt(t+2)&&++c):10===n&&(o=!0),r.slice(e+1,t).replace(/""/g,'"')}for(;c<l;){var n,i=1;if(10===(n=r.charCodeAt(c++)))o=!0;else if(13===n)o=!0,10===r.charCodeAt(c)&&(++c,++i);else if(n!==h)continue;return r.slice(e,c-i)}return r.slice(e)}for(;(t=u())!==s;){for(var d=[];t!==a&&t!==s;)d.push(t),t=u();e&&null==(d=e(d,i++))||n.push(d)}return n},a.format=function(e){if(Array.isArray(e[0]))return a.formatRows(e);var n=new T,i=[];return e.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(c).join(r)].concat(e.map(function(t){return i.map(function(e){return c(t[e])}).join(r)})).join("\n")},a.formatRows=function(e){return e.map(n).join("\n")},a},O.csv=O.dsv(",","text/csv"),O.tsv=O.dsv("\t","text/tab-separated-values");var yt,bt,wt,xt,Ct=this[A(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function St(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r={c:e,t:n+t,n:null};return bt?bt.n=r:yt=r,bt=r,wt||(xt=clearTimeout(xt),wt=1,Ct(kt)),r}function kt(){var e=_t(),t=Tt()-e;24<t?(isFinite(t)&&(clearTimeout(xt),xt=setTimeout(kt,t)),wt=0):(wt=1,Ct(kt))}function _t(){for(var e=Date.now(),t=yt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Tt(){for(var e,t=yt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:yt=t.n;return bt=e,n}function Dt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}O.timer=function(){St.apply(this,arguments)},O.timer.flush=function(){_t(),Tt()},O.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var At=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*M(8-t));return{scale:8<t?function(e){return e/n}:function(e){return e*n},symbol:e}});O.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=O.round(e,Dt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),At[8+n/3]};var Et=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,It=O.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=O.round(e,Dt(e,t))).toFixed(Math.max(0,Math.min(20,Dt(e*(1+1e-15),t))))}});function Pt(e){return e+""}var $t=O.time={},Mt=Date;function Ot(){this._=new Date(1<arguments.length?Date.UTC.apply(this,arguments):arguments[0])}Ot.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Nt.setUTCDate.apply(this._,arguments)},setDay:function(){Nt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Nt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Nt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Nt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Nt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Nt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Nt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Nt.setTime.apply(this._,arguments)}};var Nt=Date.prototype;function Lt(i,o,a){function e(e){var t=i(e),n=r(t,1);return e-t<n-e?t:n}function s(e){return o(e=i(new Mt(e-1)),1),e}function r(e,t){return o(e=new Mt(+e),t),e}function l(e,t,n){var i=s(e),r=[];if(1<n)for(;i<t;)a(i)%n||r.push(new Date(+i)),o(i,1);else for(;i<t;)r.push(new Date(+i)),o(i,1);return r}(i.floor=i).round=e,i.ceil=s,i.offset=r,i.range=l;var t=i.utc=jt(i);return(t.floor=t).round=jt(e),t.ceil=jt(s),t.offset=jt(r),t.range=function(e,t,n){try{var i=new(Mt=Ot);return i._=e,l(i,t,n)}finally{Mt=Date}},i}function jt(i){return function(e,t){try{var n=new(Mt=Ot);return n._=e,i(n,t)._}finally{Mt=Date}}}$t.year=Lt(function(e){return(e=$t.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),$t.years=$t.year.range,$t.years.utc=$t.year.utc.range,$t.day=Lt(function(e){var t=new Mt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),$t.days=$t.day.range,$t.days.utc=$t.day.utc.range,$t.dayOfYear=function(e){var t=$t.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,n){n=7-n;var t=$t[e]=Lt(function(e){return(e=$t.day(e)).setDate(e.getDate()-(e.getDay()+n)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var t=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(t+n)%7)/7)-(t!==n)});$t[e+"s"]=t.range,$t[e+"s"].utc=t.utc.range,$t[e+"OfYear"]=function(e){var t=$t.year(e).getDay();return Math.floor(($t.dayOfYear(e)+(t+n)%7)/7)}}),$t.week=$t.sunday,$t.weeks=$t.sunday.range,$t.weeks.utc=$t.sunday.utc.range,$t.weekOfYear=$t.sundayOfYear;var Rt={"-":"",_:" ",0:"0"},Ft=/^\s*\d+/,qt=/^%/;function Ht(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Bt(e){return new RegExp("^(?:"+e.map(O.requote).join("|")+")","i")}function Vt(e){for(var t=new y,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Ut(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function zt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Wt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Gt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Yt(e,t,n){Ft.lastIndex=0;var i,r=Ft.exec(t.slice(n,n+2));return r?(e.y=(i=+r[0])+(68<i?1900:2e3),n+r[0].length):-1}function Xt(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function Jt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function Kt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function Qt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function Zt(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function en(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function tn(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function nn(e,t,n){Ft.lastIndex=0;var i=Ft.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function rn(e){var t=e.getTimezoneOffset(),n=0<t?"-":"+",i=M(t)/60|0,r=M(t)%60;return n+Ht(i,"0",2)+Ht(r,"0",2)}function on(e,t,n){qt.lastIndex=0;var i=qt.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function an(i){for(var e=i.length,t=-1;++t<e;)i[t][0]=this(i[t][0]);return function(e){for(var t=0,n=i[t];!n[1](e);)n=i[++t];return n[0](e)}}O.locale=function(e){return{numberFormat:(t=e,k=t.decimal,s=t.thousands,l=t.grouping,i=t.currency,_=l&&s?function(e,t){for(var n=e.length,i=[],r=0,o=l[0],a=0;0<n&&0<o&&(t<a+o+1&&(o=Math.max(1,t-a)),i.push(e.substring(n-=o,n+o)),!((a+=o+1)>t));)o=l[r=(r+1)%l.length];return i.reverse().join(s)}:L,function(e){var t=Et.exec(e),u=t[1]||" ",d=t[2]||">",h=t[3]||"-",n=t[4]||"",p=t[5],f=+t[6],g=t[7],m=t[8],v=t[9],y=1,b="",w="",x=!1,C=!0;switch(m&&(m=+m.substring(1)),(p||"0"===u&&"="===d)&&(p=u="0",d="="),v){case"n":g=!0,v="g";break;case"%":y=100,w="%",v="f";break;case"p":y=100,w="%",v="r";break;case"b":case"o":case"x":case"X":"#"===n&&(b="0"+v.toLowerCase());case"c":C=!1;case"d":x=!0,m=0;break;case"s":y=-1,v="r"}"$"===n&&(b=i[0],w=i[1]),"r"!=v||m||(v="g"),null!=m&&("g"==v?m=Math.max(1,Math.min(21,m)):"e"!=v&&"f"!=v||(m=Math.max(0,Math.min(20,m)))),v=It.get(v)||Pt;var S=p&&g;return function(e){var t=w;if(x&&e%1)return"";var n=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===h?"":h;if(y<0){var i=O.formatPrefix(e,m);e=i.scale(e),t=i.symbol+w}else e*=y;var r,o,a=(e=v(e,m)).lastIndexOf(".");if(a<0){var s=C?e.lastIndexOf("e"):-1;s<0?(r=e,o=""):(r=e.substring(0,s),o=e.substring(s))}else r=e.substring(0,a),o=k+e.substring(a+1);!p&&g&&(r=_(r,1/0));var l=b.length+r.length+o.length+(S?0:n.length),c=l<f?new Array(l=f-l+1).join(u):"";return S&&(r=_(c+r,c.length?f-o.length:1/0)),n+=b,e=r+o,("<"===d?n+e+c:">"===d?c+n+e:"^"===d?c.substring(0,l>>=1)+n+e+c.substring(l):n+(S?e:c+e))+t}}),timeFormat:function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,o=e.days,a=e.shortDays,s=e.months,l=e.shortMonths;function c(s){var l=s.length;function e(e){for(var t,n,i,r=[],o=-1,a=0;++o<l;)37===s.charCodeAt(o)&&(r.push(s.slice(a,o)),null!=(n=Rt[t=s.charAt(++o)])&&(t=s.charAt(++o)),(i=w[t])&&(t=i(e,null==n?"e"===t?" ":"0":n)),r.push(t),a=o+1);return r.push(s.slice(a,o)),r.join("")}return e.parse=function(e){var t={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(u(t,s,e,0)!=e.length)return null;"p"in t&&(t.H=t.H%12+12*t.p);var n=null!=t.Z&&Mt!==Ot,i=new(n?Ot:Mt);return"j"in t?i.setFullYear(t.y,0,t.j):"W"in t||"U"in t?("w"in t||(t.w="W"in t?1:0),i.setFullYear(t.y,0,1),i.setFullYear(t.y,0,"W"in t?(t.w+6)%7+7*t.W-(i.getDay()+5)%7:t.w+7*t.U-(i.getDay()+6)%7)):i.setFullYear(t.y,t.m,t.d),i.setHours(t.H+(t.Z/100|0),t.M+t.Z%100,t.S,t.L),n?i._:i},e.toString=function(){return s},e}function u(e,t,n,i){for(var r,o,a,s=0,l=t.length,c=n.length;s<l;){if(c<=i)return-1;if(37===(r=t.charCodeAt(s++))){if(a=t.charAt(s++),!(o=x[a in Rt?t.charAt(s++):a])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}c.multi=(c.utc=function(e){var n=c(e);function t(e){try{var t=new(Mt=Ot);return t._=e,n(t)}finally{Mt=Date}}return t.parse=function(e){try{Mt=Ot;var t=n.parse(e);return t&&t._}finally{Mt=Date}},t.toString=n.toString,t}).multi=an;var d=O.map(),h=Bt(o),p=Vt(o),f=Bt(a),g=Vt(a),m=Bt(s),v=Vt(s),y=Bt(l),b=Vt(l);r.forEach(function(e,t){d.set(e.toLowerCase(),t)});var w={a:function(e){return a[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:c(t),d:function(e,t){return Ht(e.getDate(),t,2)},e:function(e,t){return Ht(e.getDate(),t,2)},H:function(e,t){return Ht(e.getHours(),t,2)},I:function(e,t){return Ht(e.getHours()%12||12,t,2)},j:function(e,t){return Ht(1+$t.dayOfYear(e),t,3)},L:function(e,t){return Ht(e.getMilliseconds(),t,3)},m:function(e,t){return Ht(e.getMonth()+1,t,2)},M:function(e,t){return Ht(e.getMinutes(),t,2)},p:function(e){return r[+(12<=e.getHours())]},S:function(e,t){return Ht(e.getSeconds(),t,2)},U:function(e,t){return Ht($t.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Ht($t.mondayOfYear(e),t,2)},x:c(n),X:c(i),y:function(e,t){return Ht(e.getFullYear()%100,t,2)},Y:function(e,t){return Ht(e.getFullYear()%1e4,t,4)},Z:rn,"%":function(){return"%"}},x={a:function(e,t,n){f.lastIndex=0;var i=f.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){h.lastIndex=0;var i=h.exec(t.slice(n));return i?(e.w=p.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return u(e,w.c.toString(),t,n)},d:Kt,e:Kt,H:Zt,I:Zt,j:Qt,L:nn,m:Jt,M:en,p:function(e,t,n){var i=d.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:tn,U:zt,w:Ut,W:Wt,x:function(e,t,n){return u(e,w.x.toString(),t,n)},X:function(e,t,n){return u(e,w.X.toString(),t,n)},y:Yt,Y:Gt,Z:Xt,"%":on};return c}(e)};var t,k,s,l,i,_};var sn=O.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ln(){}O.format=sn.numberFormat,O.geo={},ln.prototype={s:0,t:0,add:function(e){un(e,this.t,cn),un(cn.s,this.s,this),this.s?this.t+=cn.t:this.s=cn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cn=new ln;function un(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function dn(e,t){e&&pn.hasOwnProperty(e.type)&&pn[e.type](e,t)}O.geo.stream=function(e,t){e&&hn.hasOwnProperty(e.type)?hn[e.type](e,t):dn(e,t)};var hn={Feature:function(e,t){dn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)dn(n[i].geometry,t)}},pn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){fn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)fn(n[i],t,0)},Polygon:function(e,t){gn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)gn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)dn(n[i],t)}};function fn(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function gn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)fn(e[n],t,1);t.polygonEnd()}O.geo.area=function(e){return mn=0,O.geo.stream(e,En),mn};var mn,vn,yn,bn,wn,xn,Cn,Sn,kn,_n,Tn,Dn,An=new ln,En={sphere:function(){mn+=4*ke},point:I,lineStart:I,lineEnd:I,polygonStart:function(){An.reset(),En.lineStart=In},polygonEnd:function(){var e=2*An;mn+=e<0?4*ke+e:e,En.lineStart=En.lineEnd=En.point=I}};function In(){var n,i,u,d,h;function r(e,t){t=t*Ae/2+ke/4;var n=(e*=Ae)-u,i=0<=n?1:-1,r=i*n,o=Math.cos(t),a=Math.sin(t),s=h*a,l=d*o+s*Math.cos(r),c=s*i*Math.sin(r);An.add(Math.atan2(c,l)),u=e,d=o,h=a}En.point=function(e,t){En.point=r,u=(n=e)*Ae,d=Math.cos(t=(i=t)*Ae/2+ke/4),h=Math.sin(t)},En.lineEnd=function(){r(n,i)}}function Pn(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function $n(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Mn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function On(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Nn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ln(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function jn(e){return[Math.atan2(e[1],e[0]),Me(e[2])]}function Rn(e,t){return M(e[0]-t[0])<Ce&&M(e[1]-t[1])<Ce}O.geo.bounds=function(){var u,d,h,p,f,i,r,g,o,l,c,m={point:v,lineStart:e,lineEnd:t,polygonStart:function(){m.point=n,m.lineStart=s,m.lineEnd=y,o=0,En.polygonStart()},polygonEnd:function(){En.polygonEnd(),m.point=v,m.lineStart=e,m.lineEnd=t,An<0?(u=-(h=180),d=-(p=90)):Ce<o?p=90:o<-Ce&&(d=-90),c[0]=u,c[1]=h}};function v(e,t){l.push(c=[u=e,h=e]),t<d&&(d=t),p<t&&(p=t)}function a(e,t){var n=Pn([e*Ae,t*Ae]);if(g){var i=Mn(g,n),r=Mn([i[1],-i[0],0],i);Ln(r),r=jn(r);var o=e-f,a=0<o?1:-1,s=r[0]*Ee*a,l=180<M(o);if(l^(a*f<s&&s<a*e)){var c=r[1]*Ee;p<c&&(p=c)}else if(l^(a*f<(s=(s+360)%360-180)&&s<a*e)){(c=-r[1]*Ee)<d&&(d=c)}else t<d&&(d=t),p<t&&(p=t);l?e<f?b(u,e)>b(u,h)&&(h=e):b(e,h)>b(u,h)&&(u=e):u<=h?(e<u&&(u=e),h<e&&(h=e)):f<e?b(u,e)>b(u,h)&&(h=e):b(e,h)>b(u,h)&&(u=e)}else v(e,t);g=n,f=e}function e(){m.point=a}function t(){c[0]=u,c[1]=h,m.point=v,g=null}function n(e,t){if(g){var n=e-f;o+=180<M(n)?n+(0<n?360:-360):n}else i=e,r=t;En.point(e,t),a(e,t)}function s(){En.lineStart()}function y(){n(i,r),En.lineEnd(),M(o)>Ce&&(u=-(h=180)),c[0]=u,c[1]=h,g=null}function b(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function x(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(e){if(p=h=-(u=d=1/0),l=[],O.geo.stream(e,m),r=l.length){l.sort(w);for(var t=1,n=[s=l[0]];t<r;++t)x((o=l[t])[0],s)||x(o[1],s)?(b(s[0],o[1])>b(s[0],s[1])&&(s[1]=o[1]),b(o[0],s[1])>b(s[0],s[1])&&(s[0]=o[0])):n.push(s=o);for(var i,r,o,a=-1/0,s=(t=0,n[r=n.length-1]);t<=r;s=o,++t)o=n[t],(i=b(s[1],o[0]))>a&&(a=i,u=o[0],h=s[1])}return l=c=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[h,p]]}}(),O.geo.centroid=function(e){vn=yn=bn=wn=xn=Cn=Sn=kn=_n=Tn=Dn=0,O.geo.stream(e,Fn);var t=_n,n=Tn,i=Dn,r=t*t+n*n+i*i;return r<Se&&(t=Cn,n=Sn,i=kn,yn<Ce&&(t=bn,n=wn,i=xn),(r=t*t+n*n+i*i)<Se)?[NaN,NaN]:[Math.atan2(n,t)*Ee,Me(i/Math.sqrt(r))*Ee]};var Fn={sphere:I,point:qn,lineStart:Bn,lineEnd:Vn,polygonStart:function(){Fn.lineStart=Un},polygonEnd:function(){Fn.lineStart=Bn}};function qn(e,t){e*=Ae;var n=Math.cos(t*=Ae);Hn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Hn(e,t,n){bn+=(e-bn)/++vn,wn+=(t-wn)/vn,xn+=(n-xn)/vn}function Bn(){var s,l,c;function i(e,t){e*=Ae;var n=Math.cos(t*=Ae),i=n*Math.cos(e),r=n*Math.sin(e),o=Math.sin(t),a=Math.atan2(Math.sqrt((a=l*o-c*r)*a+(a=c*i-s*o)*a+(a=s*r-l*i)*a),s*i+l*r+c*o);yn+=a,Cn+=a*(s+(s=i)),Sn+=a*(l+(l=r)),kn+=a*(c+(c=o)),Hn(s,l,c)}Fn.point=function(e,t){e*=Ae;var n=Math.cos(t*=Ae);s=n*Math.cos(e),l=n*Math.sin(e),c=Math.sin(t),Fn.point=i,Hn(s,l,c)}}function Vn(){Fn.point=qn}function Un(){var i,r,p,f,g;function o(e,t){e*=Ae;var n=Math.cos(t*=Ae),i=n*Math.cos(e),r=n*Math.sin(e),o=Math.sin(t),a=f*o-g*r,s=g*i-p*o,l=p*r-f*i,c=Math.sqrt(a*a+s*s+l*l),u=p*i+f*r+g*o,d=c&&-$e(u)/c,h=Math.atan2(c,u);_n+=d*a,Tn+=d*s,Dn+=d*l,yn+=h,Cn+=h*(p+(p=i)),Sn+=h*(f+(f=r)),kn+=h*(g+(g=o)),Hn(p,f,g)}Fn.point=function(e,t){i=e,r=t,Fn.point=o,e*=Ae;var n=Math.cos(t*=Ae);p=n*Math.cos(e),f=n*Math.sin(e),g=Math.sin(t),Hn(p,f,g)},Fn.lineEnd=function(){o(i,r),Fn.lineEnd=Vn,Fn.point=qn}}function zn(n,i){function e(e,t){return e=n(e,t),i(e[0],e[1])}return n.invert&&i.invert&&(e.invert=function(e,t){return(e=i.invert(e,t))&&n.invert(e[0],e[1])}),e}function Wn(){return!0}function Gn(e,t,n,i,s){var l=[],c=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(Rn(n,i)){s.lineStart();for(var r=0;r<t;++r)s.point((n=e[r])[0],n[1]);s.lineEnd()}else{var o=new Xn(n,e,null,!0),a=new Xn(n,null,o,!1);o.o=a,l.push(o),c.push(a),a=new Xn(i,null,o=new Xn(i,e,null,!1),!0),o.o=a,l.push(o),c.push(a)}}}),c.sort(t),Yn(l),Yn(c),l.length){for(var r=0,o=n,a=c.length;r<a;++r)c[r].e=o=!o;for(var u,d,h=l[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;u=p.z,s.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(r=0,a=u.length;r<a;++r)s.point((d=u[r])[0],d[1]);else i(p.x,p.n.x,1,s);p=p.n}else{if(f)for(r=(u=p.p.z).length-1;0<=r;--r)s.point((d=u[r])[0],d[1]);else i(p.x,p.p.x,-1,s);p=p.p}u=(p=p.o).z,f=!f}while(!p.v);s.lineEnd()}}}function Yn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function Xn(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Jn(y,b,w,x){return function(i,a){var s,r=b(a),t=i.invert(x[0],x[1]),n={point:o,lineStart:l,lineEnd:c,polygonStart:function(){n.point=g,n.lineStart=m,n.lineEnd=v,s=[],u=[]},polygonEnd:function(){n.point=o,n.lineStart=l,n.lineEnd=c,s=O.merge(s);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,a=0;An.reset();for(var s=0,l=t.length;s<l;++s){var c=t[s],u=c.length;if(u)for(var d=c[0],h=d[0],p=d[1]/2+ke/4,f=Math.sin(p),g=Math.cos(p),m=1;;){m===u&&(m=0);var v=(e=c[m])[0],y=e[1]/2+ke/4,b=Math.sin(y),w=Math.cos(y),x=v-h,C=0<=x?1:-1,S=C*x,k=ke<S,_=f*b;if(An.add(Math.atan2(_*C*Math.sin(S),g*w+_*Math.cos(S))),o+=k?x+C*_e:x,k^n<=h^n<=v){var T=Mn(Pn(d),Pn(e));Ln(T);var D=Mn(r,T);Ln(D);var A=(k^0<=x?-1:1)*Me(D[2]);(A<i||i===A&&(T[0]||T[1]))&&(a+=k^0<=x?1:-1)}if(!m++)break;h=v,f=b,g=w,d=e}}return(o<-Ce||o<Ce&&An<-Ce)^1&a}(t,u);s.length?(f||(a.polygonStart(),f=!0),Gn(s,Zn,e,w,a)):e&&(f||(a.polygonStart(),f=!0),a.lineStart(),w(null,null,1,a),a.lineEnd()),f&&(a.polygonEnd(),f=!1),s=u=null},sphere:function(){a.polygonStart(),a.lineStart(),w(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function o(e,t){var n=i(e,t);y(e=n[0],t=n[1])&&a.point(e,t)}function e(e,t){var n=i(e,t);r.point(n[0],n[1])}function l(){n.point=e,r.lineStart()}function c(){n.point=o,r.lineEnd()}var u,d,h=Qn(),p=b(h),f=!1;function g(e,t){d.push([e,t]);var n=i(e,t);p.point(n[0],n[1])}function m(){p.lineStart(),d=[]}function v(){g(d[0][0],d[0][1]),p.lineEnd();var e,t=p.clean(),n=h.buffer(),i=n.length;if(d.pop(),u.push(d),d=null,i)if(1&t){var r,o=-1;if(0<(i=(e=n[0]).length-1)){for(f||(a.polygonStart(),f=!0),a.lineStart();++o<i;)a.point((r=e[o])[0],r[1]);a.lineEnd()}}else 1<i&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(Kn))}return n}}function Kn(e){return 1<e.length}function Qn(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(e,t){n.push([e,t])},lineEnd:I,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){1<t.length&&t.push(t.pop().concat(t.shift()))}}}function Zn(e,t){return((e=e.x)[0]<0?e[1]-De-Ce:De-e[1])-((t=t.x)[0]<0?t[1]-De-Ce:De-t[1])}var ei=Jn(Wn,function(d){var h,p=NaN,f=NaN,g=NaN;return{lineStart:function(){d.lineStart(),h=1},point:function(e,t){var n,i,r,o,a,s,l,c=0<e?ke:-ke,u=M(e-p);M(u-ke)<Ce?(d.point(p,f=0<(f+t)/2?De:-De),d.point(g,f),d.lineEnd(),d.lineStart(),d.point(c,f),d.point(e,f),h=0):g!==c&&ke<=u&&(M(p-g)<Ce&&(p-=g*Ce),M(e-c)<Ce&&(e-=c*Ce),n=p,i=f,r=e,o=t,l=Math.sin(n-r),f=M(l)>Ce?Math.atan((Math.sin(i)*(s=Math.cos(o))*Math.sin(r)-Math.sin(o)*(a=Math.cos(i))*Math.sin(n))/(a*s*l)):(i+o)/2,d.point(g,f),d.lineEnd(),d.lineStart(),d.point(c,f),h=0),d.point(p=e,f=t),g=c},lineEnd:function(){d.lineEnd(),p=f=NaN},clean:function(){return 2-h}}},function(e,t,n,i){var r;if(null==e)r=n*De,i.point(-ke,r),i.point(0,r),i.point(ke,r),i.point(ke,0),i.point(ke,-r),i.point(0,-r),i.point(-ke,-r),i.point(-ke,0),i.point(-ke,r);else if(M(e[0]-t[0])>Ce){var o=e[0]<t[0]?ke:-ke;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-ke,-ke/2]);function ti(u,d,h,p){return function(e){var t,n=e.a,i=e.b,r=n.x,o=n.y,a=0,s=1,l=i.x-r,c=i.y-o;if(t=u-r,l||!(0<t)){if(t/=l,l<0){if(t<a)return;t<s&&(s=t)}else if(0<l){if(s<t)return;a<t&&(a=t)}if(t=h-r,l||!(t<0)){if(t/=l,l<0){if(s<t)return;a<t&&(a=t)}else if(0<l){if(t<a)return;t<s&&(s=t)}if(t=d-o,c||!(0<t)){if(t/=c,c<0){if(t<a)return;t<s&&(s=t)}else if(0<c){if(s<t)return;a<t&&(a=t)}if(t=p-o,c||!(t<0)){if(t/=c,c<0){if(s<t)return;a<t&&(a=t)}else if(0<c){if(t<a)return;t<s&&(s=t)}return 0<a&&(e.a={x:r+a*l,y:o+a*c}),s<1&&(e.b={x:r+s*l,y:o+s*c}),e}}}}}}var ni=1e9;function ii(w,x,C,S){return function(r){var i,u,o,a,s,l,c,d,h,p,f,g=r,e=Qn(),m=ti(w,x,C,S),t={point:n,lineStart:function(){t.point=b,u&&u.push(o=[]);p=!0,h=!1,c=d=NaN},lineEnd:function(){i&&(b(a,s),l&&h&&e.rejoin(),i.push(e.buffer()));t.point=n,h&&r.lineEnd()},polygonStart:function(){r=e,i=[],u=[],f=!0},polygonEnd:function(){r=g,i=O.merge(i);var e=function(e){for(var t=0,n=u.length,i=e[1],r=0;r<n;++r)for(var o,a=1,s=u[r],l=s.length,c=s[0];a<l;++a)o=s[a],c[1]<=i?o[1]>i&&0<Pe(c,o,e)&&++t:o[1]<=i&&Pe(c,o,e)<0&&--t,c=o;return 0!==t}([w,S]),t=f&&e,n=i.length;(t||n)&&(r.polygonStart(),t&&(r.lineStart(),v(null,null,1,r),r.lineEnd()),n&&Gn(i,_,e,v,r),r.polygonEnd()),i=u=o=null}};function v(e,t,n,i){var r=0,o=0;if(null==e||(r=k(e,n))!==(o=k(t,n))||T(e,t)<0^0<n)for(;i.point(0===r||3===r?w:C,1<r?S:x),(r=(r+n+4)%4)!==o;);else i.point(t[0],t[1])}function y(e,t){return w<=e&&e<=C&&x<=t&&t<=S}function n(e,t){y(e,t)&&r.point(e,t)}function b(e,t){var n=y(e=Math.max(-ni,Math.min(ni,e)),t=Math.max(-ni,Math.min(ni,t)));if(u&&o.push([e,t]),p)a=e,s=t,p=!1,(l=n)&&(r.lineStart(),r.point(e,t));else if(n&&h)r.point(e,t);else{var i={a:{x:c,y:d},b:{x:e,y:t}};m(i)?(h||(r.lineStart(),r.point(i.a.x,i.a.y)),r.point(i.b.x,i.b.y),n||r.lineEnd(),f=!1):n&&(r.lineStart(),r.point(e,t),f=!1)}c=e,d=t,h=n}return t};function k(e,t){return M(e[0]-w)<Ce?0<t?0:3:M(e[0]-C)<Ce?0<t?2:1:M(e[1]-x)<Ce?0<t?1:0:0<t?3:2}function _(e,t){return T(e.x,t.x)}function T(e,t){var n=k(e,1),i=k(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ri(e){var t=0,n=ke/3,i=Ai(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*ke/180,n=e[1]*ke/180):[t/ke*180,n/ke*180]},r}function oi(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function a(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}return a.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,Me((r-(e*e+n*n)*i*i)/(2*i))]},a}O.geo.clipExtent=function(){var t,n,i,r,o,a,s={stream:function(e){return o&&(o.valid=!1),(o=a(e)).valid=!0,o},extent:function(e){return arguments.length?(a=ii(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),o&&(o.valid=!1,o=null),s):[[t,n],[i,r]]}};return s.extent([[0,0],[960,500]])},(O.geo.conicEqualArea=function(){return ri(oi)}).raw=oi,O.geo.albers=function(){return O.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},O.geo.albersUsa=function(){var i,r,o,a,s=O.geo.albers(),l=O.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=O.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u={point:function(e,t){i=[e,t]}};function d(e){var t=e[0],n=e[1];return i=null,r(t,n),i||(o(t,n),i)||a(t,n),i}return d.invert=function(e){var t=s.scale(),n=s.translate(),i=(e[0]-n[0])/t,r=(e[1]-n[1])/t;return(.12<=r&&r<.234&&-.425<=i&&i<-.214?l:.166<=r&&r<.234&&-.214<=i&&i<-.115?c:s).invert(e)},d.stream=function(e){var n=s.stream(e),i=l.stream(e),r=c.stream(e);return{point:function(e,t){n.point(e,t),i.point(e,t),r.point(e,t)},sphere:function(){n.sphere(),i.sphere(),r.sphere()},lineStart:function(){n.lineStart(),i.lineStart(),r.lineStart()},lineEnd:function(){n.lineEnd(),i.lineEnd(),r.lineEnd()},polygonStart:function(){n.polygonStart(),i.polygonStart(),r.polygonStart()},polygonEnd:function(){n.polygonEnd(),i.polygonEnd(),r.polygonEnd()}}},d.precision=function(e){return arguments.length?(s.precision(e),l.precision(e),c.precision(e),d):s.precision()},d.scale=function(e){return arguments.length?(s.scale(e),l.scale(.35*e),c.scale(e),d.translate(s.translate())):s.scale()},d.translate=function(e){if(!arguments.length)return s.translate();var t=s.scale(),n=+e[0],i=+e[1];return r=s.translate(e).clipExtent([[n-.455*t,i-.238*t],[n+.455*t,i+.238*t]]).stream(u).point,o=l.translate([n-.307*t,i+.201*t]).clipExtent([[n-.425*t+Ce,i+.12*t+Ce],[n-.214*t-Ce,i+.234*t-Ce]]).stream(u).point,a=c.translate([n-.205*t,i+.212*t]).clipExtent([[n-.214*t+Ce,i+.166*t+Ce],[n-.115*t-Ce,i+.234*t-Ce]]).stream(u).point,d},d.scale(1070)};var ai,si,li,ci,ui,di,hi={point:I,lineStart:I,lineEnd:I,polygonStart:function(){si=0,hi.lineStart=pi},polygonEnd:function(){hi.lineStart=hi.lineEnd=hi.point=I,ai+=M(si/2)}};function pi(){var n,i,r,o;function a(e,t){si+=o*e-r*t,r=e,o=t}hi.point=function(e,t){hi.point=a,n=r=e,i=o=t},hi.lineEnd=function(){a(n,i)}}var fi={point:function(e,t){e<li&&(li=e);ui<e&&(ui=e);t<ci&&(ci=t);di<t&&(di=t)},lineStart:I,lineEnd:I,polygonStart:I,polygonEnd:I};function gi(){var n=mi(4.5),i=[],r={point:e,lineStart:function(){r.point=t},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=e},pointRadius:function(e){return n=mi(e),r},result:function(){if(i.length){var e=i.join("");return i=[],e}}};function e(e,t){i.push("M",e,",",t,n)}function t(e,t){i.push("M",e,",",t),r.point=o}function o(e,t){i.push("L",e,",",t)}function a(){r.point=e}function s(){i.push("Z")}return r}function mi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var vi,yi={point:bi,lineStart:wi,lineEnd:xi,polygonStart:function(){yi.lineStart=Ci},polygonEnd:function(){yi.point=bi,yi.lineStart=wi,yi.lineEnd=xi}};function bi(e,t){bn+=e,wn+=t,++xn}function wi(){var o,a;function n(e,t){var n=e-o,i=t-a,r=Math.sqrt(n*n+i*i);Cn+=r*(o+e)/2,Sn+=r*(a+t)/2,kn+=r,bi(o=e,a=t)}yi.point=function(e,t){yi.point=n,bi(o=e,a=t)}}function xi(){yi.point=bi}function Ci(){var n,i,o,a;function r(e,t){var n=e-o,i=t-a,r=Math.sqrt(n*n+i*i);Cn+=r*(o+e)/2,Sn+=r*(a+t)/2,kn+=r,_n+=(r=a*e-o*t)*(o+e),Tn+=r*(a+t),Dn+=3*r,bi(o=e,a=t)}yi.point=function(e,t){yi.point=r,bi(n=o=e,i=a=t)},yi.lineEnd=function(){r(n,i)}}function Si(n){var i=4.5,r={point:e,lineStart:function(){r.point=t},lineEnd:a,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=a,r.point=e},pointRadius:function(e){return i=e,r},result:I};function e(e,t){n.moveTo(e+i,t),n.arc(e,t,i,0,_e)}function t(e,t){n.moveTo(e,t),r.point=o}function o(e,t){n.lineTo(e,t)}function a(){r.point=e}function s(){n.closePath()}return r}function ki(E){var I=.5,P=Math.cos(30*Ae),x=16;function t(e){return(x?function(r){var n,i,o,a,s,l,c,u,d,h,p,f,g={point:e,lineStart:t,lineEnd:v,polygonStart:function(){r.polygonStart(),g.lineStart=y},polygonEnd:function(){r.polygonEnd(),g.lineStart=t}};function e(e,t){e=E(e,t),r.point(e[0],e[1])}function t(){u=NaN,g.point=m,r.lineStart()}function m(e,t){var n=Pn([e,t]),i=E(e,t);$(u,d,c,h,p,f,u=i[0],d=i[1],c=e,h=n[0],p=n[1],f=n[2],x,r),r.point(u,d)}function v(){g.point=e,r.lineEnd()}function y(){t(),g.point=b,g.lineEnd=w}function b(e,t){m(n=e,t),i=u,o=d,a=h,s=p,l=f,g.point=m}function w(){$(u,d,c,h,p,f,i,o,n,a,s,l,x,r),(g.lineEnd=v)()}return g}:function(n){return Ti(n,function(e,t){e=E(e,t),n.point(e[0],e[1])})})(e)}function $(e,t,n,i,r,o,a,s,l,c,u,d,h,p){var f=a-e,g=s-t,m=f*f+g*g;if(4*I<m&&h--){var v=i+c,y=r+u,b=o+d,w=Math.sqrt(v*v+y*y+b*b),x=Math.asin(b/=w),C=M(M(b)-1)<Ce||M(n-l)<Ce?(n+l)/2:Math.atan2(y,v),S=E(C,x),k=S[0],_=S[1],T=k-e,D=_-t,A=g*T-f*D;(I<A*A/m||.3<M((f*T+g*D)/m-.5)||i*c+r*u+o*d<P)&&($(e,t,n,i,r,o,k,_,C,v/=w,y/=w,b,h,p),p.point(k,_),$(k,_,C,v,y,b,a,s,l,c,u,d,h,p))}}return t.precision=function(e){return arguments.length?(x=0<(I=e*e)&&16,t):Math.sqrt(I)},t}function _i(e){this.stream=e}function Ti(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Di(e){return Ai(function(){return e})()}function Ai(e){var n,t,i,r,o,a,s=ki(function(e,t){return[(e=n(e,t))[0]*l+r,o-e[1]*l]}),l=150,c=480,u=250,d=0,h=0,p=0,f=0,g=0,m=ei,v=L,y=null,b=null;function w(e){return[(e=i(e[0]*Ae,e[1]*Ae))[0]*l+r,o-e[1]*l]}function x(e){return(e=i.invert((e[0]-r)/l,(o-e[1])/l))&&[e[0]*Ee,e[1]*Ee]}function C(){i=zn(t=$i(p,f,g),n);var e=n(d,h);return r=c-e[0]*l,o=u+e[1]*l,S()}function S(){return a&&(a.valid=!1,a=null),w}return w.stream=function(e){return a&&(a.valid=!1),(a=Ei(m(t,s(v(e))))).valid=!0,a},w.clipAngle=function(e){return arguments.length?(m=null==e?(y=e,ei):function(r){var T=Math.cos(r),p=0<T,f=M(T)>Ce;return Jn(g,function(s){var l,c,u,d,h;return{lineStart:function(){d=u=!1,h=1},point:function(e,t){var n,i=[e,t],r=g(e,t),o=p?r?0:v(e,t):r?v(e+(e<0?ke:-ke),t):0;if(!l&&(d=u=r)&&s.lineStart(),r!==u&&(n=m(l,i),(Rn(l,n)||Rn(i,n))&&(i[0]+=Ce,i[1]+=Ce,r=g(i[0],i[1]))),r!==u)h=0,r?(s.lineStart(),n=m(i,l),s.point(n[0],n[1])):(n=m(l,i),s.point(n[0],n[1]),s.lineEnd()),l=n;else if(f&&l&&p^r){var a;o&c||!(a=m(i,l,!0))||(h=0,p?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!r||l&&Rn(l,i)||s.point(i[0],i[1]),l=i,u=r,c=o},lineEnd:function(){u&&s.lineEnd(),l=null},clean:function(){return h|(d&&u)<<1}}},Li(r,6*Ae),p?[0,-r]:[-ke,r-ke]);function g(e,t){return Math.cos(e)*Math.cos(t)>T}function m(e,t,n){var i=[1,0,0],r=Mn(Pn(e),Pn(t)),o=$n(r,r),a=r[0],s=o-a*a;if(!s)return!n&&e;var l=T*o/s,c=-T*a/s,u=Mn(i,r),d=Nn(i,l);On(d,Nn(r,c));var h=u,p=$n(d,h),f=$n(h,h),g=p*p-f*($n(d,d)-1);if(!(g<0)){var m=Math.sqrt(g),v=Nn(h,(-p-m)/f);if(On(v,d),v=jn(v),!n)return v;var y,b=e[0],w=t[0],x=e[1],C=t[1];w<b&&(y=b,b=w,w=y);var S=w-b,k=M(S-ke)<Ce;if(!k&&C<x&&(y=x,x=C,C=y),k||S<Ce?k?0<x+C^v[1]<(M(v[0]-b)<Ce?x:C):x<=v[1]&&v[1]<=C:ke<S^(b<=v[0]&&v[0]<=w)){var _=Nn(h,(-p+m)/f);return On(_,d),[v,jn(_)]}}}function v(e,t){var n=p?r:ke-r,i=0;return e<-n?i|=1:n<e&&(i|=2),t<-n?i|=4:n<t&&(i|=8),i}}((y=+e)*Ae),S()):y},w.clipExtent=function(e){return arguments.length?(v=(b=e)?ii(e[0][0],e[0][1],e[1][0],e[1][1]):L,S()):b},w.scale=function(e){return arguments.length?(l=+e,C()):l},w.translate=function(e){return arguments.length?(c=+e[0],u=+e[1],C()):[c,u]},w.center=function(e){return arguments.length?(d=e[0]%360*Ae,h=e[1]%360*Ae,C()):[d*Ee,h*Ee]},w.rotate=function(e){return arguments.length?(p=e[0]%360*Ae,f=e[1]%360*Ae,g=2<e.length?e[2]%360*Ae:0,C()):[p*Ee,f*Ee,g*Ee]},O.rebind(w,s,"precision"),function(){return n=e.apply(this,arguments),w.invert=n.invert&&x,C()}}function Ei(n){return Ti(n,function(e,t){n.point(e*Ae,t*Ae)})}function Ii(e,t){return[e,t]}function Pi(e,t){return[ke<e?e-_e:e<-ke?e+_e:e,t]}function $i(e,t,n){return e?t||n?zn(Oi(e),Ni(t,n)):Oi(e):t||n?Ni(t,n):Pi}function Mi(n){return function(e,t){return[ke<(e+=n)?e-_e:e<-ke?e+_e:e,t]}}function Oi(e){var t=Mi(e);return t.invert=Mi(-e),t}function Ni(e,t){var s=Math.cos(e),l=Math.sin(e),c=Math.cos(t),u=Math.sin(t);function n(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,o=Math.sin(t),a=o*s+i*l;return[Math.atan2(r*c-a*u,i*s-o*l),Me(a*c+r*u)]}return n.invert=function(e,t){var n=Math.cos(t),i=Math.cos(e)*n,r=Math.sin(e)*n,o=Math.sin(t),a=o*c-r*u;return[Math.atan2(r*c+o*u,i*s+a*l),Me(a*s-i*l)]},n}function Li(s,l){var c=Math.cos(s),u=Math.sin(s);return function(e,t,n,i){var r=n*l;null!=e?(e=ji(c,e),t=ji(c,t),(0<n?e<t:t<e)&&(e+=n*_e)):(e=s+n*_e,t=s-.5*r);for(var o,a=e;0<n?t<a:a<t;a-=r)i.point((o=jn([c,-u*Math.cos(a),-u*Math.sin(a)]))[0],o[1])}}function ji(e,t){var n=Pn(t);n[0]-=e,Ln(n);var i=$e(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ce)%(2*Math.PI)}function Ri(e,t,n){var i=O.range(e,t-Ce,n).concat(t);return function(t){return i.map(function(e){return[t,e]})}}function Fi(e,t,n){var i=O.range(e,t-Ce,n).concat(t);return function(t){return i.map(function(e){return[e,t]})}}function qi(e){return e.source}function Hi(e){return e.target}O.geo.path=function(){var i,t,r,n,o,a=4.5;function s(e){return e&&("function"==typeof a&&n.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(n)),O.geo.stream(e,o)),n.result()}function l(){return o=null,s}return s.area=function(e){return ai=0,O.geo.stream(e,r(hi)),ai},s.centroid=function(e){return bn=wn=xn=Cn=Sn=kn=_n=Tn=Dn=0,O.geo.stream(e,r(yi)),Dn?[_n/Dn,Tn/Dn]:kn?[Cn/kn,Sn/kn]:xn?[bn/xn,wn/xn]:[NaN,NaN]},s.bounds=function(e){return ui=di=-(li=ci=1/0),O.geo.stream(e,r(fi)),[[li,ci],[ui,di]]},s.projection=function(e){return arguments.length?(r=(i=e)?e.stream||(n=e,t=ki(function(e,t){return n([e*Ee,t*Ee])}),function(e){return Ei(t(e))}):L,l()):i;var n,t},s.context=function(e){return arguments.length?(n=null==(t=e)?new gi:new Si(e),"function"!=typeof a&&n.pointRadius(a),l()):t},s.pointRadius=function(e){return arguments.length?(a="function"==typeof e?e:(n.pointRadius(+e),+e),s):a},s.projection(O.geo.albersUsa()).context(null)},O.geo.transform=function(i){return{stream:function(e){var t=new _i(e);for(var n in i)t[n]=i[n];return t}}},_i.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},O.geo.projection=Di,O.geo.projectionMutator=Ai,(O.geo.equirectangular=function(){return Di(Ii)}).raw=Ii.invert=Ii,O.geo.rotation=function(t){function e(e){return(e=t(e[0]*Ae,e[1]*Ae))[0]*=Ee,e[1]*=Ee,e}return t=$i(t[0]%360*Ae,t[1]*Ae,2<t.length?t[2]*Ae:0),e.invert=function(e){return(e=t.invert(e[0]*Ae,e[1]*Ae))[0]*=Ee,e[1]*=Ee,e},e},Pi.invert=Ii,O.geo.circle=function(){var t,r,o=[0,0],n=6;function i(){var e="function"==typeof o?o.apply(this,arguments):o,n=$i(-e[0]*Ae,-e[1]*Ae,0).invert,i=[];return r(null,null,1,{point:function(e,t){i.push(e=n(e,t)),e[0]*=Ee,e[1]*=Ee}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(o=e,i):o},i.angle=function(e){return arguments.length?(r=Li((t=+e)*Ae,n*Ae),i):t},i.precision=function(e){return arguments.length?(r=Li(t*Ae,(n=+e)*Ae),i):n},i.angle(90)},O.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Ae,r=e[1]*Ae,o=t[1]*Ae,a=Math.sin(i),s=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*a)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},O.geo.graticule=function(){var t,n,i,r,o,a,s,l,c,u,d,h,p=10,f=p,g=90,m=360,v=2.5;function y(){return{type:"MultiLineString",coordinates:e()}}function e(){return O.range(Math.ceil(r/g)*g,i,g).map(d).concat(O.range(Math.ceil(l/m)*m,s,m).map(h)).concat(O.range(Math.ceil(n/p)*p,t,p).filter(function(e){return M(e%g)>Ce}).map(c)).concat(O.range(Math.ceil(a/f)*f,o,f).filter(function(e){return M(e%m)>Ce}).map(u))}return y.lines=function(){return e().map(function(e){return{type:"LineString",coordinates:e}})},y.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(h(s).slice(1),d(i).reverse().slice(1),h(l).reverse().slice(1))]}},y.extent=function(e){return arguments.length?y.majorExtent(e).minorExtent(e):y.minorExtent()},y.majorExtent=function(e){return arguments.length?(r=+e[0][0],i=+e[1][0],l=+e[0][1],s=+e[1][1],i<r&&(e=r,r=i,i=e),s<l&&(e=l,l=s,s=e),y.precision(v)):[[r,l],[i,s]]},y.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],t<n&&(e=n,n=t,t=e),o<a&&(e=a,a=o,o=e),y.precision(v)):[[n,a],[t,o]]},y.step=function(e){return arguments.length?y.majorStep(e).minorStep(e):y.minorStep()},y.majorStep=function(e){return arguments.length?(g=+e[0],m=+e[1],y):[g,m]},y.minorStep=function(e){return arguments.length?(p=+e[0],f=+e[1],y):[p,f]},y.precision=function(e){return arguments.length?(v=+e,c=Ri(a,o,90),u=Fi(n,t,v),d=Ri(l,s,90),h=Fi(r,i,v),y):v},y.majorExtent([[-180,-90+Ce],[180,90-Ce]]).minorExtent([[-180,-80-Ce],[180,80+Ce]])},O.geo.greatArc=function(){var t,n,i=qi,r=Hi;function o(){return{type:"LineString",coordinates:[t||i.apply(this,arguments),n||r.apply(this,arguments)]}}return o.distance=function(){return O.geo.distance(t||i.apply(this,arguments),n||r.apply(this,arguments))},o.source=function(e){return arguments.length?(t="function"==typeof(i=e)?null:e,o):i},o.target=function(e){return arguments.length?(n="function"==typeof(r=e)?null:e,o):r},o.precision=function(){return arguments.length?o:0},o},O.geo.interpolate=function(e,t){return n=e[0]*Ae,i=e[1]*Ae,r=t[0]*Ae,o=t[1]*Ae,a=Math.cos(i),s=Math.sin(i),l=Math.cos(o),c=Math.sin(o),u=a*Math.cos(n),d=a*Math.sin(n),h=l*Math.cos(r),p=l*Math.sin(r),f=2*Math.asin(Math.sqrt(Ne(o-i)+a*l*Ne(r-n))),g=1/Math.sin(f),(m=f?function(e){var t=Math.sin(e*=f)*g,n=Math.sin(f-e)*g,i=n*u+t*h,r=n*d+t*p,o=n*s+t*c;return[Math.atan2(r,i)*Ee,Math.atan2(o,Math.sqrt(i*i+r*r))*Ee]}:function(){return[n*Ee,i*Ee]}).distance=f,m;var n,i,r,o,a,s,l,c,u,d,h,p,f,g,m},O.geo.length=function(e){return vi=0,O.geo.stream(e,Bi),vi};var Bi={sphere:I,point:I,lineStart:function(){var a,s,l;function n(e,t){var n=Math.sin(t*=Ae),i=Math.cos(t),r=M((e*=Ae)-a),o=Math.cos(r);vi+=Math.atan2(Math.sqrt((r=i*Math.sin(r))*r+(r=l*n-s*i*o)*r),s*n+l*i*o),a=e,s=n,l=i}Bi.point=function(e,t){a=e*Ae,s=Math.sin(t*=Ae),l=Math.cos(t),Bi.point=n},Bi.lineEnd=function(){Bi.point=Bi.lineEnd=I}},lineEnd:I,polygonStart:I,polygonEnd:I};function Vi(o,a){function e(e,t){var n=Math.cos(e),i=Math.cos(t),r=o(n*i);return[r*i*Math.sin(e),r*Math.sin(t)]}return e.invert=function(e,t){var n=Math.sqrt(e*e+t*t),i=a(n),r=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*r,n*o),Math.asin(n&&t*r/n)]},e}var Ui=Vi(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(O.geo.azimuthalEqualArea=function(){return Di(Ui)}).raw=Ui;var zi=Vi(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},L);function Wi(e,t){var n=Math.cos(e),i=function(e){return Math.tan(ke/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;if(!r)return Xi;function a(e,t){0<o?t<-De+Ce&&(t=-De+Ce):De-Ce<t&&(t=De-Ce);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=o-t,i=Ie(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-De]},a}function Gi(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(M(i)<Ce)return Ii;function o(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-Ie(i)*Math.sqrt(e*e+n*n)]},o}(O.geo.azimuthalEquidistant=function(){return Di(zi)}).raw=zi,(O.geo.conicConformal=function(){return ri(Wi)}).raw=Wi,(O.geo.conicEquidistant=function(){return ri(Gi)}).raw=Gi;var Yi=Vi(function(e){return 1/e},Math.atan);function Xi(e,t){return[e,Math.log(Math.tan(ke/4+t/2))]}function Ji(e){var r,o=Di(e),a=o.scale,s=o.translate,l=o.clipExtent;return o.scale=function(){var e=a.apply(o,arguments);return e===o?r?o.clipExtent(null):o:e},o.translate=function(){var e=s.apply(o,arguments);return e===o?r?o.clipExtent(null):o:e},o.clipExtent=function(e){var t=l.apply(o,arguments);if(t===o){if(r=null==e){var n=ke*a(),i=s();l([[i[0]-n,i[1]-n],[i[0]+n,i[1]+n]])}}else r&&(t=null);return t},o.clipExtent(null)}(O.geo.gnomonic=function(){return Di(Yi)}).raw=Yi,Xi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-De]},(O.geo.mercator=function(){return Ji(Xi)}).raw=Xi;var Ki=Vi(function(){return 1},Math.asin);(O.geo.orthographic=function(){return Di(Ki)}).raw=Ki;var Qi=Vi(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function Zi(e,t){return[Math.log(Math.tan(ke/4+t/2)),-e]}function er(e){return e[0]}function tr(e){return e[1]}function nr(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;1<i&&Pe(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function ir(e,t){return e[0]-t[0]||e[1]-t[1]}(O.geo.stereographic=function(){return Di(Qi)}).raw=Qi,Zi.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-De]},(O.geo.transverseMercator=function(){var e=Ji(Zi),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],2<e.length?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=Zi,O.geom={},O.geom.hull=function(e){var h=er,p=tr;if(arguments.length)return t(e);function t(e){if(e.length<3)return[];var t,n=gt(h),i=gt(p),r=e.length,o=[],a=[];for(t=0;t<r;t++)o.push([+n.call(this,e[t],t),+i.call(this,e[t],t),t]);for(o.sort(ir),t=0;t<r;t++)a.push([o[t][0],-o[t][1]]);var s=nr(o),l=nr(a),c=l[0]===s[0],u=l[l.length-1]===s[s.length-1],d=[];for(t=s.length-1;0<=t;--t)d.push(e[o[s[t]][2]]);for(t=+c;t<l.length-u;++t)d.push(e[o[l[t]][2]]);return d}return t.x=function(e){return arguments.length?(h=e,t):h},t.y=function(e){return arguments.length?(p=e,t):p},t},O.geom.polygon=function(e){return H(e,rr),e};var rr=O.geom.polygon.prototype=[];function or(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function ar(e,t,n,i){var r=e[0],o=n[0],a=t[0]-r,s=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(s*(l-c)-d*(r-o))/(d*a-s*u);return[r+h*a,l+h*u]}function sr(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}rr.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},rr.centroid=function(e){var t,n,i=-1,r=this.length,o=0,a=0,s=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=s,s=this[i],n=t[0]*s[1]-s[0]*t[1],o+=(t[0]+s[0])*n,a+=(t[1]+s[1])*n;return[o*e,a*e]},rr.clip=function(e){for(var t,n,i,r,o,a,s=sr(e),l=-1,c=this.length-sr(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-s)-1],n=-1;++n<i;)or(a=t[n],u,r)?(or(o,u,r)||e.push(ar(o,a,u,r)),e.push(a)):or(o,u,r)&&e.push(ar(o,a,u,r)),o=a;s&&e.push(e[0]),u=r}return e};var lr,cr,ur,dr,hr,pr=[],fr=[];function gr(){Mr(this),this.edge=this.site=this.circle=null}function mr(e){var t=pr.pop()||new gr;return t.site=e,t}function vr(e){Tr(e),ur.remove(e),pr.push(e),Mr(e)}function yr(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,a=e.N,s=[e];vr(e);for(var l=o;l.circle&&M(n-l.circle.x)<Ce&&M(i-l.circle.cy)<Ce;)o=l.P,s.unshift(l),vr(l),l=o;s.unshift(l),Tr(l);for(var c=a;c.circle&&M(n-c.circle.x)<Ce&&M(i-c.circle.cy)<Ce;)a=c.N,s.push(c),vr(c),c=a;s.push(c),Tr(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],Ir(c.edge,l.site,c.site,r);l=s[0],(c=s[d-1]).edge=Er(l.site,c.site,null,r),_r(l),_r(c)}function br(e){for(var t,n,i,r,o=e.x,a=e.y,s=ur._;s;)if(i=wr(s,a)-o,Ce<i)s=s.L;else{if(r=o-xr(s,a),!(Ce<r)){-Ce<i?(t=s.P,n=s):-Ce<r?n=(t=s).N:t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=mr(e);if(ur.insert(t,l),t||n){if(t===n)return Tr(t),n=mr(t.site),ur.insert(l,n),l.edge=n.edge=Er(t.site,l.site),_r(t),void _r(n);if(n){Tr(t),Tr(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,p=e.y-d,f=n.site,g=f.x-u,m=f.y-d,v=2*(h*m-p*g),y=h*h+p*p,b=g*g+m*m,w={x:(m*y-p*b)/v+u,y:(h*b-g*y)/v+d};Ir(n.edge,c,f,w),l.edge=Er(c,e,null,w),n.edge=Er(e,f,null,w),_r(t),_r(n)}else l.edge=Er(t.site,l.site)}}function wr(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var a=e.P;if(!a)return-1/0;var s=(n=a.site).x,l=n.y,c=l-t;if(!c)return s;var u=s-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+s)/2}function xr(e,t){var n=e.N;if(n)return wr(n,t);var i=e.site;return i.y===t?i.x:1/0}function Cr(e){this.site=e,this.edges=[]}function Sr(e,t){return t.angle-e.angle}function kr(){Mr(this),this.x=this.y=this.arc=this.site=this.cy=null}function _r(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var a=r.x,s=r.y,l=i.x-a,c=i.y-s,u=o.x-a,d=2*(l*(m=o.y-s)-c*u);if(!(-Se<=d)){var h=l*l+c*c,p=u*u+m*m,f=(m*h-c*p)/d,g=(l*p-u*h)/d,m=g+s,v=fr.pop()||new kr;v.arc=e,v.site=r,v.x=f+a,v.y=m+Math.sqrt(f*f+g*g),v.cy=m,e.circle=v;for(var y=null,b=hr._;b;)if(v.y<b.y||v.y===b.y&&v.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}hr.insert(y,v),y||(dr=v)}}}}function Tr(e){var t=e.circle;t&&(t.P||(dr=t.N),hr.remove(t),fr.push(t),Mr(t),e.circle=null)}function Dr(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,a=t[0][0],s=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,p=u.y,f=d.x,g=d.y,m=(h+f)/2,v=(p+g)/2;if(g===p){if(m<a||s<=m)return;if(f<h){if(o){if(o.y>=c)return}else o={x:m,y:l};n={x:m,y:c}}else{if(o){if(o.y<l)return}else o={x:m,y:c};n={x:m,y:l}}}else if(r=v-(i=(h-f)/(g-p))*m,i<-1||1<i)if(f<h){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(p<g){if(o){if(o.x>=s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}else{if(o){if(o.x<a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}return e.a=o,e.b=n,!0}function Ar(e,t){this.l=e,this.r=t,this.a=this.b=null}function Er(e,t,n,i){var r=new Ar(e,t);return lr.push(r),n&&Ir(r,e,t,n),i&&Ir(r,t,e,i),cr[e.i].edges.push(new Pr(r,e,t)),cr[t.i].edges.push(new Pr(r,t,e)),r}function Ir(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Pr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function $r(){this._=null}function Mr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Or(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Nr(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Lr(e){for(;e.L;)e=e.L;return e}function jr(e,t){var n,i,r,o=e.sort(Rr).pop();for(lr=[],cr=new Array(e.length),ur=new $r,hr=new $r;;)if(r=dr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(cr[o.i]=new Cr(o),br(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;yr(r.arc)}t&&(function(e){for(var t,n=lr,i=ti(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Dr(t=n[r],e)||!i(t)||M(t.a.x-t.b.x)<Ce&&M(t.a.y-t.b.y)<Ce)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,o,a,s,l,c,u,d=e[0][0],h=e[1][0],p=e[0][1],f=e[1][1],g=cr,m=g.length;m--;)if((o=g[m])&&o.prepare())for(l=(s=o.edges).length,a=0;a<l;)i=(u=s[a].end()).x,r=u.y,t=(c=s[++a%l].start()).x,n=c.y,(M(i-t)>Ce||M(r-n)>Ce)&&(s.splice(a,0,new Pr((v=o.site,y=u,b=M(i-d)<Ce&&Ce<f-r?{x:d,y:M(t-d)<Ce?n:f}:M(r-f)<Ce&&Ce<h-i?{x:M(n-f)<Ce?t:h,y:f}:M(i-h)<Ce&&Ce<r-p?{x:h,y:M(t-h)<Ce?n:p}:M(r-p)<Ce&&Ce<i-d?{x:M(n-p)<Ce?t:d,y:p}:null,w=void 0,w=new Ar(v,null),w.a=y,w.b=b,lr.push(w),w),o.site,null)),++l);var v,y,b,w}(t));var a={cells:cr,edges:lr};return ur=hr=lr=cr=null,a}function Rr(e,t){return t.y-e.y||t.x-e.x}Cr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Sr),t.length},Pr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},$r.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Lr(this._),t.P=null,(t.N=e).P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(Or(this,n),n=(e=n).U),n.C=!1,i.C=!0,Nr(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Nr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Or(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,a=e.R;if(n=o?a?Lr(a):o:a,r?r.L===e?r.L=n:r.R=n:this._=n,o&&a?(i=n.C,n.C=e.C,((n.L=o).U=n)!==a?(r=n.U,n.U=e.U,e=n.R,r.L=e,(n.R=a).U=n):(n.U=r,e=(r=n).R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,Or(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Nr(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,Or(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Nr(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Or(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Nr(this,r),e=this._;break}t.C=!0,r=(e=r).U}while(!e.C);e&&(e.C=!1)}}},O.geom.voronoi=function(e){var t=er,n=tr,i=t,r=n,u=Fr;if(e)return o(e);function o(r){var o=new Array(r.length),a=u[0][0],s=u[0][1],l=u[1][0],c=u[1][1];return jr(d(r),u).cells.forEach(function(e,t){var n=e.edges,i=e.site;(o[t]=n.length?n.map(function(e){var t=e.start();return[t.x,t.y]}):i.x>=a&&i.x<=l&&i.y>=s&&i.y<=c?[[a,c],[l,c],[l,s],[a,s]]:[]).point=r[t]}),o}function d(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Ce)*Ce,y:Math.round(r(e,t)/Ce)*Ce,i:t}})}return o.links=function(t){return jr(d(t)).edges.filter(function(e){return e.l&&e.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},o.triangles=function(h){var p=[];return jr(d(h)).cells.forEach(function(e,t){for(var n,i,r,o,a=e.site,s=e.edges.sort(Sr),l=-1,c=s.length,u=s[c-1].edge,d=u.l===a?u.r:u.l;++l<c;)u,n=d,d=(u=s[l].edge).l===a?u.r:u.l,t<n.i&&t<d.i&&(r=n,o=d,((i=a).x-o.x)*(r.y-i.y)-(i.x-r.x)*(o.y-i.y)<0)&&p.push([h[t],h[n.i],h[d.i]])}),p},o.x=function(e){return arguments.length?(i=gt(t=e),o):t},o.y=function(e){return arguments.length?(r=gt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(u=null==e?Fr:e,o):u===Fr?null:u},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):u===Fr?null:u&&u[1]},o};var Fr=[[-1e6,-1e6],[1e6,1e6]];function qr(e){return e.x}function Hr(e){return e.y}function Br(e,t){e=O.rgb(e),t=O.rgb(t);var n=e.r,i=e.g,r=e.b,o=t.r-n,a=t.g-i,s=t.b-r;return function(e){return"#"+lt(Math.round(n+o*e))+lt(Math.round(i+a*e))+lt(Math.round(r+s*e))}}function Vr(e,t){var n,i={},r={};for(n in e)n in t?i[n]=Yr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function Ur(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}function zr(e,i){var t,n,r,o=Wr.lastIndex=Gr.lastIndex=0,a=-1,s=[],l=[];for(e+="",i+="";(t=Wr.exec(e))&&(n=Gr.exec(i));)(r=n.index)>o&&(r=i.slice(o,r),s[a]?s[a]+=r:s[++a]=r),(t=t[0])===(n=n[0])?s[a]?s[a]+=n:s[++a]=n:(s[++a]=null,l.push({i:a,x:Ur(t,n)})),o=Gr.lastIndex;return o<i.length&&(r=i.slice(o),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?(i=l[0].x,function(e){return i(e)+""}):function(){return i}:(i=l.length,function(e){for(var t,n=0;n<i;++n)s[(t=l[n]).i]=t.x(e);return s.join("")})}O.geom.delaunay=function(e){return O.geom.voronoi().triangles(e)},O.geom.quadtree=function(e,y,b,w,x){var C,S=er,_=tr;if(C=arguments.length)return S=qr,_=Hr,3===C&&(x=b,w=y,b=y=0),t(e);function t(e){var t,n,i,r,o,a,s,l,c,u=gt(S),d=gt(_);if(null!=y)a=y,s=b,l=w,c=x;else if(l=c=-(a=s=1/0),n=[],i=[],o=e.length,C)for(r=0;r<o;++r)(t=e[r]).x<a&&(a=t.x),t.y<s&&(s=t.y),t.x>l&&(l=t.x),t.y>c&&(c=t.y),n.push(t.x),i.push(t.y);else for(r=0;r<o;++r){var h=+u(t=e[r],r),p=+d(t,r);h<a&&(a=h),p<s&&(s=p),l<h&&(l=h),c<p&&(c=p),n.push(h),i.push(p)}var f=l-a,g=c-s;function m(e,t,n,i,r,o,a,s){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(M(l-n)+M(c-i)<.01)v(e,t,n,i,r,o,a,s);else{var u=e.point;e.x=e.y=e.point=null,v(e,u,l,c,r,o,a,s),v(e,t,n,i,r,o,a,s)}else e.x=n,e.y=i,e.point=t}else v(e,t,n,i,r,o,a,s)}function v(e,t,n,i,r,o,a,s){var l=.5*(r+a),c=.5*(o+s),u=l<=n,d=c<=i,h=d<<1|u;e.leaf=!1,u?r=l:a=l,d?o=c:s=c,m(e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,i,r,o,a,s)}g<f?c=s+f:l=a+g;var k={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){m(k,e,+u(e,++r),+d(e,r),a,s,l,c)}};if(k.visit=function(e){!function e(t,n,i,r,o,a){if(!t(n,i,r,o,a)){var s=.5*(i+o),l=.5*(r+a),c=n.nodes;c[0]&&e(t,c[0],i,r,s,l),c[1]&&e(t,c[1],s,r,o,l),c[2]&&e(t,c[2],i,l,s,a),c[3]&&e(t,c[3],s,l,o,a)}}(e,k,a,s,l,c)},k.find=function(e){return t=k,m=e[0],v=e[1],S=1/0,function e(t,n,i,r,o){if(!(w<n||x<i||r<y||o<b)){if(a=t.point){var a,s=m-t.x,l=v-t.y,c=s*s+l*l;if(c<S){var u=Math.sqrt(S=c);y=m-u,b=v-u,w=m+u,x=v+u,C=a}}for(var d=t.nodes,h=.5*(n+r),p=.5*(i+o),f=(p<=v)<<1|h<=m,g=f+4;f<g;++f)if(t=d[3&f])switch(3&f){case 0:e(t,n,i,h,p);break;case 1:e(t,h,i,r,p);break;case 2:e(t,n,p,h,o);break;case 3:e(t,h,p,r,o)}}}(t,y=a,b=s,w=l,x=c),C;var t,m,v,y,b,w,x,C,S},r=-1,null==y){for(;++r<o;)m(k,e[r],n[r],i[r],a,s,l,c);--r}else e.forEach(k.add);return n=i=e=t=null,k}return t.x=function(e){return arguments.length?(S=e,t):S},t.y=function(e){return arguments.length?(_=e,t):_},t.extent=function(e){return arguments.length?(null==e?y=b=w=x=null:(y=+e[0][0],b=+e[0][1],w=+e[1][0],x=+e[1][1]),t):null==y?null:[[y,b],[w,x]]},t.size=function(e){return arguments.length?(null==e?y=b=w=x=null:(y=b=0,w=+e[0],x=+e[1]),t):null==y?null:[w-y,x-b]},t},O.interpolateRgb=Br,O.interpolateObject=Vr,O.interpolateNumber=Ur,O.interpolateString=zr;var Wr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Wr.source,"g");function Yr(e,t){for(var n,i=O.interpolators.length;0<=--i&&!(n=O.interpolators[i](e,t)););return n}function Xr(e,t){var n,i=[],r=[],o=e.length,a=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)i.push(Yr(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<a;++n)r[n]=t[n];return function(e){for(n=0;n<s;++n)r[n]=i[n](e);return r}}O.interpolate=Yr,O.interpolators=[function(e,t){var n=typeof t;return("string"===n?ft.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?Br:zr:t instanceof qe?Br:Array.isArray(t)?Xr:"object"===n&&isNaN(t)?Vr:Ur)(e,t)}],O.interpolateArray=Xr;var Jr=function(){return L},Kr=O.map({linear:Jr,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return to},cubic:function(){return no},sin:function(){return ro},exp:function(){return oo},circle:function(){return ao},elastic:function(t,n){var i;arguments.length<2&&(n=.45);arguments.length?i=n/_e*Math.asin(1/t):(t=1,i=n/4);return function(e){return 1+t*Math.pow(2,-10*e)*Math.sin((e-i)*_e/n)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return so}}),Qr=O.map({in:L,out:Zr,"in-out":eo,"out-in":function(e){return eo(Zr(e))}});function Zr(t){return function(e){return 1-t(1-e)}}function eo(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function to(e){return e*e}function no(e){return e*e*e}function io(e){if(e<=0)return 0;if(1<=e)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function ro(e){return 1-Math.cos(e*De)}function oo(e){return Math.pow(2,10*(e-1))}function ao(e){return 1-Math.sqrt(1-e*e)}function so(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function lo(t,n){return n-=t,function(e){return Math.round(t+n*e)}}function co(e){var t,n,i,r=[e.a,e.b],o=[e.c,e.d],a=ho(r),s=uo(r,o),l=ho(((t=o)[0]+=(i=-s)*(n=r)[0],t[1]+=i*n[1],t))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,a*=-1,s*=-1),this.rotate=(a?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*Ee,this.translate=[e.e,e.f],this.scale=[a,l],this.skew=l?Math.atan2(s,l)*Ee:0}function uo(e,t){return e[0]*t[0]+e[1]*t[1]}function ho(e){var t=Math.sqrt(uo(e,e));return t&&(e[0]/=t,e[1]/=t),t}O.ease=function(e){var t,n=e.indexOf("-"),i=0<=n?e.slice(0,n):e,r=0<=n?e.slice(n+1):"in";return i=Kr.get(i)||Jr,r=Qr.get(r)||L,t=r(i.apply(null,o.call(arguments,1))),function(e){return e<=0?0:1<=e?1:t(e)}},O.interpolateHcl=function(e,t){e=O.hcl(e),t=O.hcl(t);var n=e.h,i=e.c,r=e.l,o=t.h-n,a=t.c-i,s=t.l-r;isNaN(a)&&(a=0,i=isNaN(i)?t.c:i);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):180<o?o-=360:o<-180&&(o+=360);return function(e){return We(n+o*e,i+a*e,r+s*e)+""}},O.interpolateHsl=function(e,t){e=O.hsl(e),t=O.hsl(t);var n=e.h,i=e.s,r=e.l,o=t.h-n,a=t.s-i,s=t.l-r;isNaN(a)&&(a=0,i=isNaN(i)?t.s:i);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):180<o?o-=360:o<-180&&(o+=360);return function(e){return Ve(n+o*e,i+a*e,r+s*e)+""}},O.interpolateLab=function(e,t){e=O.lab(e),t=O.lab(t);var n=e.l,i=e.a,r=e.b,o=t.l-n,a=t.a-i,s=t.b-r;return function(e){return Ze(n+o*e,i+a*e,r+s*e)+""}},O.interpolateRound=lo,O.transform=function(e){var n=b.createElementNS(O.ns.prefix.svg,"g");return(O.transform=function(e){if(null!=e){n.setAttribute("transform",e);var t=n.transform.baseVal.consolidate()}return new co(t?t.matrix:po)})(e)},co.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var po={a:1,b:0,c:0,d:1,e:0,f:0};function fo(e){return e.length?e.pop()+",":""}function go(e,t){var n,i,r,o,a,s,l,c,u=[],d=[];return e=O.transform(e),t=O.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Ur(e[0],t[0])},{i:r-2,x:Ur(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,u,d),n=e.rotate,i=t.rotate,r=u,o=d,n!==i?(180<n-i?i+=360:180<i-n&&(n+=360),o.push({i:r.push(fo(r)+"rotate(",null,")")-2,x:Ur(n,i)})):i&&r.push(fo(r)+"rotate("+i+")"),a=e.skew,s=t.skew,l=u,c=d,a!==s?c.push({i:l.push(fo(l)+"skewX(",null,")")-2,x:Ur(a,s)}):s&&l.push(fo(l)+"skewX("+s+")"),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(fo(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Ur(e[0],t[0])},{i:r-2,x:Ur(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(fo(n)+"scale("+t+")")}(e.scale,t.scale,u,d),e=t=null,function(e){for(var t,n=-1,i=d.length;++n<i;)u[(t=d[n]).i]=t.x(e);return u.join("")}}function mo(t,n){return n=(n-=t=+t)||1/n,function(e){return(e-t)/n}}function vo(t,n){return n=(n-=t=+t)||1/n,function(e){return Math.max(0,Math.min(1,(e-t)/n))}}function yo(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=bo(e),i=bo(t),r=n.pop(),o=i.pop(),a=null;for(;r===o;)a=r,r=n.pop(),o=i.pop();return a}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bo(e){for(var t=[],n=e.parent;null!=n;)t.push(e),n=(e=n).parent;return t.push(e),t}function wo(e){e.fixed|=2}function xo(e){e.fixed&=-7}function Co(e){e.fixed|=4,e.px=e.x,e.py=e.y}function So(e){e.fixed&=-5}O.interpolateTransform=go,O.layout={},O.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(yo(e[n]));return t}},O.layout.chord=function(){var m,v,y,b,w,x,C,t={},S=0;function e(){var e,t,n,i,r,o={},a=[],s=O.range(b),l=[];for(m=[],v=[],e=0,i=-1;++i<b;){for(t=0,r=-1;++r<b;)t+=y[i][r];a.push(t),l.push(O.range(b)),e+=t}for(w&&s.sort(function(e,t){return w(a[e],a[t])}),x&&l.forEach(function(e,n){e.sort(function(e,t){return x(y[n][e],y[n][t])})}),e=(_e-S*b)/e,t=0,i=-1;++i<b;){for(n=t,r=-1;++r<b;){var c=s[i],u=l[c][r],d=y[c][u],h=t,p=t+=d*e;o[c+"-"+u]={index:c,subindex:u,startAngle:h,endAngle:p,value:d}}v[c]={index:c,startAngle:n,endAngle:t,value:a[c]},t+=S}for(i=-1;++i<b;)for(r=i-1;++r<b;){var f=o[i+"-"+r],g=o[r+"-"+i];(f.value||g.value)&&m.push(f.value<g.value?{source:g,target:f}:{source:f,target:g})}C&&k()}function k(){m.sort(function(e,t){return C((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return t.matrix=function(e){return arguments.length?(b=(y=e)&&y.length,m=v=null,t):y},t.padding=function(e){return arguments.length?(S=e,m=v=null,t):S},t.sortGroups=function(e){return arguments.length?(w=e,m=v=null,t):w},t.sortSubgroups=function(e){return arguments.length?(x=e,m=null,t):x},t.sortChords=function(e){return arguments.length?(C=e,m&&k(),t):C},t.chords=function(){return m||e(),m},t.groups=function(){return v||e(),v},t},O.layout.force=function(){var d,e,h,p,f,g,r={},m=O.dispatch("start","tick","end"),v=[1,1],y=.9,o=ko,a=_o,b=-30,u=To,w=.1,x=.64,C=[],S=[];function k(c){return function(e,t,n,i){if(e.point!==c){var r=e.cx-c.x,o=e.cy-c.y,a=i-t,s=r*r+o*o;if(a*a/x<s){if(s<u){var l=e.charge/s;c.px-=r*l,c.py-=o*l}return!0}if(e.point&&s&&s<u){l=e.pointCharge/s;c.px-=r*l,c.py-=o*l}}return!e.charge}}function t(e){e.px=O.event.x,e.py=O.event.y,r.resume()}return r.tick=function(){if((h*=.99)<.005)return d=null,m.end({type:"end",alpha:h=0}),!0;var e,t,n,i,r,o,a,s,l,c=C.length,u=S.length;for(t=0;t<u;++t)i=(n=S[t]).source,(o=(s=(r=n.target).x-i.x)*s+(l=r.y-i.y)*l)&&(s*=o=h*f[t]*((o=Math.sqrt(o))-p[t])/o,l*=o,r.x-=s*(a=i.weight+r.weight?i.weight/(i.weight+r.weight):.5),r.y-=l*a,i.x+=s*(a=1-a),i.y+=l*a);if((a=h*w)&&(s=v[0]/2,l=v[1]/2,t=-1,a))for(;++t<c;)(n=C[t]).x+=(s-n.x)*a,n.y+=(l-n.y)*a;if(b)for(!function e(t,n,i){var r=0,o=0;t.charge=0;if(!t.leaf)for(var a,s=t.nodes,l=s.length,c=-1;++c<l;)null!=(a=s[c])&&(e(a,n,i),t.charge+=a.charge,r+=a.charge*a.cx,o+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*i[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge;t.cy=o/t.charge}(e=O.geom.quadtree(C),h,g),t=-1;++t<c;)(n=C[t]).fixed||e.visit(k(n));for(t=-1;++t<c;)(n=C[t]).fixed?(n.x=n.px,n.y=n.py):(n.x-=(n.px-(n.px=n.x))*y,n.y-=(n.py-(n.py=n.y))*y);m.tick({type:"tick",alpha:h})},r.nodes=function(e){return arguments.length?(C=e,r):C},r.links=function(e){return arguments.length?(S=e,r):S},r.size=function(e){return arguments.length?(v=e,r):v},r.linkDistance=function(e){return arguments.length?(o="function"==typeof e?e:+e,r):o},r.distance=r.linkDistance,r.linkStrength=function(e){return arguments.length?(a="function"==typeof e?e:+e,r):a},r.friction=function(e){return arguments.length?(y=+e,r):y},r.charge=function(e){return arguments.length?(b="function"==typeof e?e:+e,r):b},r.chargeDistance=function(e){return arguments.length?(u=e*e,r):Math.sqrt(u)},r.gravity=function(e){return arguments.length?(w=+e,r):w},r.theta=function(e){return arguments.length?(x=e*e,r):Math.sqrt(x)},r.alpha=function(e){return arguments.length?(e=+e,h?0<e?h=e:(d.c=null,d.t=NaN,d=null,m.end({type:"end",alpha:h=0})):0<e&&(m.start({type:"start",alpha:h=e}),d=St(r.tick)),r):h},r.start=function(){var s,l,e,c=C.length,u=S.length,t=v[0],n=v[1];for(s=0;s<c;++s)(e=C[s]).index=s,e.weight=0;for(s=0;s<u;++s)"number"==typeof(e=S[s]).source&&(e.source=C[e.source]),"number"==typeof e.target&&(e.target=C[e.target]),++e.source.weight,++e.target.weight;for(s=0;s<c;++s)e=C[s],isNaN(e.x)&&(e.x=i("x",t)),isNaN(e.y)&&(e.y=i("y",n)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(p=[],"function"==typeof o)for(s=0;s<u;++s)p[s]=+o.call(this,S[s],s);else for(s=0;s<u;++s)p[s]=o;if(f=[],"function"==typeof a)for(s=0;s<u;++s)f[s]=+a.call(this,S[s],s);else for(s=0;s<u;++s)f[s]=a;if(g=[],"function"==typeof b)for(s=0;s<c;++s)g[s]=+b.call(this,C[s],s);else for(s=0;s<c;++s)g[s]=b;function i(e,t){if(!l){for(l=new Array(c),o=0;o<c;++o)l[o]=[];for(o=0;o<u;++o){var n=S[o];l[n.source.index].push(n.target),l[n.target.index].push(n.source)}}for(var i,r=l[s],o=-1,a=r.length;++o<a;)if(!isNaN(i=r[o][e]))return i;return Math.random()*t}return r.resume()},r.resume=function(){return r.alpha(.1)},r.stop=function(){return r.alpha(0)},r.drag=function(){if(e||(e=O.behavior.drag().origin(L).on("dragstart.force",wo).on("drag.force",t).on("dragend.force",xo)),!arguments.length)return e;this.on("mouseover.force",Co).on("mouseout.force",So).call(e)},O.rebind(r,m,"on")};var ko=20,_o=1,To=1/0;function Do(e,t){return O.rebind(e,t,"sort","children","value"),(e.nodes=e).links=Mo,e}function Ao(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;0<=--i;)n.push(r[i])}function Eo(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,a=-1;++a<r;)n.push(o[a]);for(;null!=(e=i.pop());)t(e)}function Io(e){return e.children}function Po(e){return e.value}function $o(e,t){return t.value-e.value}function Mo(e){return O.merge(e.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}O.layout.hierarchy=function(){var s=$o,l=Io,c=Po;function u(e){var t,n=[e],i=[];for(e.depth=0;null!=(t=n.pop());)if(i.push(t),(o=l.call(u,t,t.depth))&&(r=o.length)){for(var r,o,a;0<=--r;)n.push(a=o[r]),a.parent=t,a.depth=t.depth+1;c&&(t.value=0),t.children=o}else c&&(t.value=+c.call(u,t,t.depth)||0),delete t.children;return Eo(e,function(e){var t,n;s&&(t=e.children)&&t.sort(s),c&&(n=e.parent)&&(n.value+=e.value)}),i}return u.sort=function(e){return arguments.length?(s=e,u):s},u.children=function(e){return arguments.length?(l=e,u):l},u.value=function(e){return arguments.length?(c=e,u):c},u.revalue=function(e){return c&&(Ao(e,function(e){e.children&&(e.value=0)}),Eo(e,function(e){var t;e.children||(e.value=+c.call(u,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},u},O.layout.partition=function(){var i=O.layout.hierarchy(),r=[1,1];function t(e,t){var n=i.call(this,e,t);return function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(a=o.length)){var a,s,l,c=-1;for(i=t.value?i/t.value:0;++c<a;)e(s=o[c],n,l=s.value*i,r),n+=l}}(n[0],0,r[0],r[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}(n[0])),n}return t.size=function(e){return arguments.length?(r=e,t):r},Do(t,i)},O.layout.pie=function(){var h=Number,p=Oo,f=0,g=_e,m=0;function v(n){var t,e=n.length,i=n.map(function(e,t){return+h.call(v,e,t)}),r=+("function"==typeof f?f.apply(this,arguments):f),o=("function"==typeof g?g.apply(this,arguments):g)-r,a=Math.min(Math.abs(o)/e,+("function"==typeof m?m.apply(this,arguments):m)),s=a*(o<0?-1:1),l=O.sum(i),c=l?(o-e*s)/l:0,u=O.range(e),d=[];return null!=p&&u.sort(p===Oo?function(e,t){return i[t]-i[e]}:function(e,t){return p(n[e],n[t])}),u.forEach(function(e){d[e]={data:n[e],value:t=i[e],startAngle:r,endAngle:r+=t*c+s,padAngle:a}}),d}return v.value=function(e){return arguments.length?(h=e,v):h},v.sort=function(e){return arguments.length?(p=e,v):p},v.startAngle=function(e){return arguments.length?(f=e,v):f},v.endAngle=function(e){return arguments.length?(g=e,v):g},v.padAngle=function(e){return arguments.length?(m=e,v):m},v};var Oo={};function No(e){return e.x}function Lo(e){return e.y}function jo(e,t,n){e.y0=t,e.y=n}O.layout.stack=function(){var d=L,h=qo,p=Ho,f=jo,g=No,m=Lo;function v(e,t){if(!(o=e.length))return e;var n=e.map(function(e,t){return d.call(v,e,t)}),i=n.map(function(e){return e.map(function(e,t){return[g.call(v,e,t),m.call(v,e,t)]})}),r=h.call(v,i,t);n=O.permute(n,r),i=O.permute(i,r);var o,a,s,l,c=p.call(v,i,t),u=n[0].length;for(s=0;s<u;++s)for(f.call(v,n[0][s],l=c[s],i[0][s][1]),a=1;a<o;++a)f.call(v,n[a][s],l+=i[a-1][s][1],i[a][s][1]);return e}return v.values=function(e){return arguments.length?(d=e,v):d},v.order=function(e){return arguments.length?(h="function"==typeof e?e:Ro.get(e)||qo,v):h},v.offset=function(e){return arguments.length?(p="function"==typeof e?e:Fo.get(e)||Ho,v):p},v.x=function(e){return arguments.length?(g=e,v):g},v.y=function(e){return arguments.length?(m=e,v):m},v.out=function(e){return arguments.length?(f=e,v):f},v};var Ro=O.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(Bo),o=e.map(Vo),a=O.range(i).sort(function(e,t){return r[e]-r[t]}),s=0,l=0,c=[],u=[];for(t=0;t<i;++t)n=a[t],s<l?(s+=o[n],c.push(n)):(l+=o[n],u.push(n));return u.reverse().concat(c)},reverse:function(e){return O.range(e.length).reverse()},default:qo}),Fo=O.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,a=[],s=0,l=[];for(n=0;n<o;++n){for(i=t=0;t<r;t++)i+=e[t][n][1];s<i&&(s=i),a.push(i)}for(n=0;n<o;++n)l[n]=(s-a[n])/2;return l},wiggle:function(e){var t,n,i,r,o,a,s,l,c,u=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=c=0,n=1;n<h;++n){for(r=t=0;t<u;++t)r+=e[t][n][1];for(o=t=0,s=d[n][0]-d[n-1][0];t<u;++t){for(i=0,a=(e[t][n][1]-e[t][n-1][1])/(2*s);i<t;++i)a+=(e[i][n][1]-e[i][n-1][1])/s;o+=a*e[t][n][1]}p[n]=l-=r?o/r*s:0,l<c&&(c=l)}for(n=0;n<h;++n)p[n]-=c;return p},expand:function(e){var t,n,i,r=e.length,o=e[0].length,a=1/r,s=[];for(n=0;n<o;++n){for(i=t=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=a}for(n=0;n<o;++n)s[n]=0;return s},zero:Ho});function qo(e){return O.range(e.length)}function Ho(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function Bo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Vo(e){return e.reduce(Uo,0)}function Uo(e,t){return e+t[1]}function zo(e,t){return Wo(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Wo(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function Go(e){return[O.min(e),O.max(e)]}function Yo(e,t){return e.value-t.value}function Xo(e,t){var n=e._pack_next;(e._pack_next=t)._pack_prev=e,(t._pack_next=n)._pack_prev=t}function Jo(e,t){(e._pack_next=t)._pack_prev=e}function Ko(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return n*n+i*i<.999*r*r}function Qo(e){if((t=e.children)&&(l=t.length)){var t,n,i,r,o,a,s,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(Zo),(n=t[0]).x=-n.r,n.y=0,b(n),1<l&&((i=t[1]).x=i.r,i.y=0,b(i),2<l))for(ta(n,i,r=t[2]),b(r),Xo(n,r),Xo(n._pack_prev=r,i),i=n._pack_next,o=3;o<l;o++){ta(n,i,r=t[o]);var p=0,f=1,g=1;for(a=i._pack_next;a!==i;a=a._pack_next,f++)if(Ko(a,r)){p=1;break}if(1==p)for(s=n._pack_prev;s!==a._pack_prev&&!Ko(s,r);s=s._pack_prev,g++);p?(f<g||f==g&&i.r<n.r?Jo(n,i=a):Jo(n=s,i),o--):(Xo(n,r),b(i=r))}var m=(c+u)/2,v=(d+h)/2,y=0;for(o=0;o<l;o++)(r=t[o]).x-=m,r.y-=v,y=Math.max(y,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=y,t.forEach(ea)}function b(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function Zo(e){e._pack_next=e._pack_prev=e}function ea(e){delete e._pack_next,delete e._pack_prev}function ta(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var a=t.r+n.r,s=r*r+o*o,l=.5+((i*=i)-(a*=a))/(2*s),c=Math.sqrt(Math.max(0,2*a*(i+s)-(i-=s)*i-a*a))/(2*s);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function na(e,t){return e.parent==t.parent?1:2}function ia(e){var t=e.children;return t.length?t[0]:e.t}function ra(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function oa(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function aa(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function sa(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function la(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ca(e){return e.rangeExtent?e.rangeExtent():la(e.range())}function ua(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function da(e,t){var n,i=0,r=e.length-1,o=e[i],a=e[r];return a<o&&(n=i,i=r,r=n,n=o,o=a,a=n),e[i]=t.floor(o),e[r]=t.ceil(a),e}function ha(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:pa}O.layout.histogram=function(){var d=!0,h=Number,p=Go,f=zo;function n(e,t){for(var n,i,r=[],o=e.map(h,this),a=p.call(this,o,t),s=f.call(this,a,o,t),l=(t=-1,o.length),c=s.length-1,u=d?1:1/l;++t<c;)(n=r[t]=[]).dx=s[t+1]-(n.x=s[t]),n.y=0;if(0<c)for(t=-1;++t<l;)(i=o[t])>=a[0]&&i<=a[1]&&((n=r[O.bisect(s,i,1,c)-1]).y+=u,n.push(e[t]));return r}return n.value=function(e){return arguments.length?(h=e,n):h},n.range=function(e){return arguments.length?(p=gt(e),n):p},n.bins=function(t){return arguments.length?(f="number"==typeof t?function(e){return Wo(e,t)}:gt(t),n):f},n.frequency=function(e){return arguments.length?(d=!!e,n):d},n},O.layout.pack=function(){var l,c=O.layout.hierarchy().sort(Yo),u=0,d=[1,1];function t(e,t){var n=c.call(this,e,t),i=n[0],r=d[0],o=d[1],a=null==l?Math.sqrt:"function"==typeof l?l:function(){return l};if(i.x=i.y=0,Eo(i,function(e){e.r=+a(e.value)}),Eo(i,Qo),u){var s=u*(l?1:Math.max(2*i.r/r,2*i.r/o))/2;Eo(i,function(e){e.r+=s}),Eo(i,Qo),Eo(i,function(e){e.r-=s})}return function e(t,n,i,r){var o=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(o)for(var a=-1,s=o.length;++a<s;)e(o[a],n,i,r)}(i,r/2,o/2,l?1:1/Math.max(2*i.r/r,2*i.r/o)),n}return t.size=function(e){return arguments.length?(d=e,t):d},t.radius=function(e){return arguments.length?(l=null==e||"function"==typeof e?e:+e,t):l},t.padding=function(e){return arguments.length?(u=+e,t):u},Do(t,c)},O.layout.tree=function(){var d=O.layout.hierarchy().sort(null).value(null),g=na,h=[1,1],p=null;function t(e,t){var n=d.call(this,e,t),i=n[0],r=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,o=t.children,a=0,s=o.length;a<s;++a)i.push((o[a]=r={_:o[a],parent:t,children:(r=o[a].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=r);return n.children[0]}(i);if(Eo(r,f),r.parent.m=-r.z,Ao(r,m),p)Ao(i,v);else{var o=i,a=i,s=i;Ao(i,function(e){e.x<o.x&&(o=e),e.x>a.x&&(a=e),e.depth>s.depth&&(s=e)});var l=g(o,a)/2-o.x,c=h[0]/(a.x+g(a,o)/2+l),u=h[1]/(s.depth||1);Ao(i,function(e){e.x=(e.x+l)*c,e.y=e.depth*u})}return n}function f(e){var t=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(t.length){!function(e){var t,n=0,i=0,r=e.children,o=r.length;for(;0<=--o;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var r=(t[0].z+t[t.length-1].z)/2;i?(e.z=i.z+g(e._,i._),e.m=e.z-r):e.z=r}else i&&(e.z=i.z+g(e._,i._));e.parent.A=function(e,t,n){if(t){for(var i,r=e,o=e,a=t,s=r.parent.children[0],l=r.m,c=o.m,u=a.m,d=s.m;a=ra(a),r=ia(r),a&&r;)s=ia(s),(o=ra(o)).a=e,0<(i=a.z+u-r.z-l+g(a._,r._))&&(oa((p=e,f=n,(h=a).a.parent===p.parent?h.a:f),e,i),l+=i,c+=i),u+=a.m,l+=r.m,d+=s.m,c+=o.m;a&&!ra(o)&&(o.t=a,o.m+=u-c),r&&!ia(s)&&(s.t=r,s.m+=l-d,n=e)}var h,p,f;return n}(e,i,e.parent.A||n[0])}function m(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function v(e){e.x*=h[0],e.y=e.depth*h[1]}return t.separation=function(e){return arguments.length?(g=e,t):g},t.size=function(e){return arguments.length?(p=null==(h=e)?v:null,t):p?null:h},t.nodeSize=function(e){return arguments.length?(p=null==(h=e)?null:v,t):p?h:null},Do(t,d)},O.layout.cluster=function(){var u=O.layout.hierarchy().sort(null).value(null),d=na,h=[1,1],p=!1;function t(e,t){var r,n=u.call(this,e,t),i=n[0],o=0;Eo(i,function(e){var t,n,i=e.children;i&&i.length?(e.x=(n=i).reduce(function(e,t){return e+t.x},0)/n.length,e.y=(t=i,1+O.max(t,function(e){return e.y}))):(e.x=r?o+=d(e,r):0,e.y=0,r=e)});var a=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(i),s=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(i),l=a.x-d(a,s)/2,c=s.x+d(s,a)/2;return Eo(i,p?function(e){e.x=(e.x-i.x)*h[0],e.y=(i.y-e.y)*h[1]}:function(e){e.x=(e.x-l)/(c-l)*h[0],e.y=(1-(i.y?e.y/i.y:1))*h[1]}),n}return t.separation=function(e){return arguments.length?(d=e,t):d},t.size=function(e){return arguments.length?(p=null==(h=e),t):p?null:h},t.nodeSize=function(e){return arguments.length?(p=null!=(h=e),t):p?h:null},Do(t,u)},O.layout.treemap=function(){var i,r=O.layout.hierarchy(),u=Math.round,o=[1,1],a=null,d=aa,s=!1,h="squarify",l=.5*(1+Math.sqrt(5));function p(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function f(e){var t=e.children;if(t&&t.length){var n,i,r,o=d(e),a=[],s=t.slice(),l=1/0,c="slice"===h?o.dx:"dice"===h?o.dy:"slice-dice"===h?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(p(s,o.dx*o.dy/e.value),a.area=0;0<(r=s.length);)a.push(n=s[r-1]),a.area+=n.area,"squarify"!==h||(i=g(a,c))<=l?(s.pop(),l=i):(a.area-=a.pop().area,m(a,c,o,!1),c=Math.min(o.dx,o.dy),a.length=a.area=0,l=1/0);a.length&&(m(a,c,o,!0),a.length=a.area=0),t.forEach(f)}}function c(e){var t=e.children;if(t&&t.length){var n,i=d(e),r=t.slice(),o=[];for(p(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(m(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(c)}}function g(e,t){for(var n,i=e.area,r=0,o=1/0,a=-1,s=e.length;++a<s;)(n=e[a].area)&&(n<o&&(o=n),r<n&&(r=n));return t*=t,(i*=i)?Math.max(t*r*l/i,i/(t*o*l)):1/0}function m(e,t,n,i){var r,o=-1,a=e.length,s=n.x,l=n.y,c=t?u(e.area/t):0;if(t==n.dx){for((i||c>n.dy)&&(c=n.dy);++o<a;)(r=e[o]).x=s,r.y=l,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?u(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++o<a;)(r=e[o]).x=s,r.y=l,r.dx=c,l+=r.dy=Math.min(n.y+n.dy-l,c?u(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function v(e){var t=i||r(e),n=t[0];return n.x=n.y=0,n.value?(n.dx=o[0],n.dy=o[1]):n.dx=n.dy=0,i&&r.revalue(n),p([n],n.dx*n.dy/n.value),(i?c:f)(n),s&&(i=t),t}return v.size=function(e){return arguments.length?(o=e,v):o},v.padding=function(n){if(!arguments.length)return a;function e(e){return sa(e,n)}var t;return d=null==(a=n)?aa:"function"==(t=typeof n)?function(e){var t=n.call(v,e,e.depth);return null==t?aa(e):sa(e,"number"==typeof t?[t,t,t,t]:t)}:("number"===t&&(n=[n,n,n,n]),e),v},v.round=function(e){return arguments.length?(u=e?Math.round:Number,v):u!=Number},v.sticky=function(e){return arguments.length?(s=e,i=null,v):s},v.ratio=function(e){return arguments.length?(l=e,v):l},v.mode=function(e){return arguments.length?(h=e+"",v):h},Do(v,r)},O.random={normal:function(i,r){var e=arguments.length;return e<2&&(r=1),e<1&&(i=0),function(){for(var e,t,n;!(n=(e=2*Math.random()-1)*e+(t=2*Math.random()-1)*t)||1<n;);return i+r*e*Math.sqrt(-2*Math.log(n)/n)}},logNormal:function(){var e=O.random.normal.apply(O,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=O.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(n){return function(){for(var e=0,t=0;t<n;t++)e+=Math.random();return e}}},O.scale={};var pa={floor:L,ceil:L};function fa(n,e,t,i){var r=[],o=[],a=0,s=Math.min(n.length,e.length)-1;for(n[s]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++a<=s;)r.push(t(n[a-1],n[a])),o.push(i(e[a-1],e[a]));return function(e){var t=O.bisect(n,e,1,s)-1;return o[t](r[t](e))}}function ga(e,t){return O.rebind(e,t,"range","rangeRound","interpolate","clamp")}function ma(e,t){return da(e,ha(va(e,t)[2])),da(e,ha(va(e,t)[2])),e}function va(e,t){null==t&&(t=10);var n=la(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ya(e,t){return O.range.apply(O,va(e,t))}function ba(e,t,n){var i,r,o,a=va(e,t);if(n){var s=Et.exec(n);if(s.shift(),"s"===s[8]){var l=O.formatPrefix(Math.max(M(a[0]),M(a[1])));return s[7]||(s[7]="."+xa(l.scale(a[2]))),s[8]="f",n=O.format(s.join("")),function(e){return n(l.scale(e))+l.symbol}}s[7]||(s[7]="."+(i=s[8],o=xa((r=a)[2]),i in wa?Math.abs(o-xa(Math.max(M(r[0]),M(r[1]))))+ +("e"!==i):o-2*("%"===i))),n=s.join("")}else n=",."+xa(a[2])+"f";return O.format(n)}O.scale.linear=function(){return function e(n,i,r,o){var a,s;function t(){var e=2<Math.min(n.length,i.length)?fa:ua,t=o?vo:mo;return a=e(n,i,t,r),s=e(i,n,t,Yr),l}function l(e){return a(e)}l.invert=function(e){return s(e)};l.domain=function(e){return arguments.length?(n=e.map(Number),t()):n};l.range=function(e){return arguments.length?(i=e,t()):i};l.rangeRound=function(e){return l.range(e).interpolate(lo)};l.clamp=function(e){return arguments.length?(o=e,t()):o};l.interpolate=function(e){return arguments.length?(r=e,t()):r};l.ticks=function(e){return ya(n,e)};l.tickFormat=function(e,t){return ba(n,e,t)};l.nice=function(e){return ma(n,e),t()};l.copy=function(){return e(n,i,r,o)};return t()}([0,1],[0,1],Yr,!1)};var wa={s:1,g:1,p:1,r:1,e:1};function xa(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}O.scale.log=function(){return function e(t,l,c,u){function d(e){return(c?Math.log(e<0?0:e):-Math.log(0<e?0:-e))/Math.log(l)}function h(e){return c?Math.pow(l,e):-Math.pow(l,-e)}function r(e){return t(d(e))}r.invert=function(e){return h(t.invert(e))};r.domain=function(e){return arguments.length?(c=0<=e[0],t.domain((u=e.map(Number)).map(d)),r):u};r.base=function(e){return arguments.length?(l=+e,t.domain(u.map(d)),r):l};r.nice=function(){var e=da(u.map(d),c?Math:Sa);return t.domain(e),u=e.map(h),r};r.ticks=function(){var e=la(u),t=[],n=e[0],i=e[1],r=Math.floor(d(n)),o=Math.ceil(d(i)),a=l%1?2:l;if(isFinite(o-r)){if(c){for(;r<o;r++)for(var s=1;s<a;s++)t.push(h(r)*s);t.push(h(r))}else for(t.push(h(r));r++<o;)for(var s=a-1;0<s;s--)t.push(h(r)*s);for(r=0;t[r]<n;r++);for(o=t.length;t[o-1]>i;o--);t=t.slice(r,o)}return t};r.tickFormat=function(e,n){if(!arguments.length)return Ca;arguments.length<2?n=Ca:"function"!=typeof n&&(n=O.format(n));var i=Math.max(1,l*e/r.ticks().length);return function(e){var t=e/h(Math.round(d(e)));return t*l<l-.5&&(t*=l),t<=i?n(e):""}};r.copy=function(){return e(t.copy(),l,c,u)};return ga(r,t)}(O.scale.linear().domain([0,1]),10,!0,[1,10])};var Ca=O.format(".0e"),Sa={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function ka(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}O.scale.pow=function(){return function e(t,n,i){var r=ka(n),o=ka(1/n);function a(e){return t(r(e))}a.invert=function(e){return o(t.invert(e))};a.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),a):i};a.ticks=function(e){return ya(i,e)};a.tickFormat=function(e,t){return ba(i,e,t)};a.nice=function(e){return a.domain(ma(i,e))};a.exponent=function(e){return arguments.length?(r=ka(n=e),o=ka(1/n),t.domain(i.map(r)),a):n};a.copy=function(){return e(t.copy(),n,i)};return ga(a,t)}(O.scale.linear(),1,[0,1])},O.scale.sqrt=function(){return O.scale.pow().exponent(.5)},O.scale.ordinal=function(){return function e(s,l){var r,c,u;function d(e){return c[((r.get(e)||("range"===l.t?r.set(e,s.push(e)):NaN))-1)%c.length]}function h(t,n){return O.range(s.length).map(function(e){return t+n*e})}d.domain=function(e){if(!arguments.length)return s;s=[],r=new y;for(var t,n=-1,i=e.length;++n<i;)r.has(t=e[n])||r.set(t,s.push(t));return d[l.t].apply(d,l.a)};d.range=function(e){return arguments.length?(c=e,u=0,l={t:"range",a:arguments},d):c};d.rangePoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],r=s.length<2?(n=(n+i)/2,0):(i-n)/(s.length-1+t);return c=h(n+r*t/2,r),u=0,l={t:"rangePoints",a:arguments},d};d.rangeRoundPoints=function(e,t){arguments.length<2&&(t=0);var n=e[0],i=e[1],r=s.length<2?(n=i=Math.round((n+i)/2),0):(i-n)/(s.length-1+t)|0;return c=h(n+Math.round(r*t/2+(i-n-(s.length-1+t)*r)/2),r),u=0,l={t:"rangeRoundPoints",a:arguments},d};d.rangeBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[i-0],o=e[1-i],a=(o-r)/(s.length-t+2*n);return c=h(r+a*n,a),i&&c.reverse(),u=a*(1-t),l={t:"rangeBands",a:arguments},d};d.rangeRoundBands=function(e,t,n){arguments.length<2&&(t=0),arguments.length<3&&(n=t);var i=e[1]<e[0],r=e[i-0],o=e[1-i],a=Math.floor((o-r)/(s.length-t+2*n));return c=h(r+Math.round((o-r-(s.length-t)*a)/2),a),i&&c.reverse(),u=Math.round(a*(1-t)),l={t:"rangeRoundBands",a:arguments},d};d.rangeBand=function(){return u};d.rangeExtent=function(){return la(l.a[0])};d.copy=function(){return e(s,l)};return d.domain(s)}([],{t:"range",a:[[]]})},O.scale.category10=function(){return O.scale.ordinal().range(_a)},O.scale.category20=function(){return O.scale.ordinal().range(Ta)},O.scale.category20b=function(){return O.scale.ordinal().range(Da)},O.scale.category20c=function(){return O.scale.ordinal().range(Aa)};var _a=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(at),Ta=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(at),Da=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(at),Aa=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(at);function Ea(){return 0}O.scale.quantile=function(){return function e(n,i){var r;function t(){var e=0,t=i.length;for(r=[];++e<t;)r[e-1]=O.quantile(n,e/t);return o}function o(e){if(!isNaN(e=+e))return i[O.bisect(r,e)]}o.domain=function(e){return arguments.length?(n=e.map(c).filter(u).sort(l),t()):n};o.range=function(e){return arguments.length?(i=e,t()):i};o.quantiles=function(){return r};o.invertExtent=function(e){return(e=i.indexOf(e))<0?[NaN,NaN]:[0<e?r[e-1]:n[0],e<r.length?r[e]:n[n.length-1]]};o.copy=function(){return e(n,i)};return t()}([],[])},O.scale.quantize=function(){return function e(t,n,i){var r,o;function a(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function s(){return r=i.length/(n-t),o=i.length-1,a}a.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],s()):[t,n]};a.range=function(e){return arguments.length?(i=e,s()):i};a.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};a.copy=function(){return e(t,n,i)};return s()}(0,1,[0,1])},O.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[O.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},O.scale.identity=function(){return function e(n){function t(e){return+e}t.invert=t;t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n};t.ticks=function(e){return ya(n,e)};t.tickFormat=function(e,t){return ba(n,e,t)};t.copy=function(){return e(n)};return t}([0,1])},O.svg={},O.svg.arc=function(){var R=Pa,F=$a,q=Ea,H=Ia,B=Ma,V=Oa,U=Na;function t(){var e=Math.max(0,+R.apply(this,arguments)),t=Math.max(0,+F.apply(this,arguments)),n=B.apply(this,arguments)-De,i=V.apply(this,arguments)-De,r=Math.abs(i-n),o=i<n?0:1;if(t<e&&(a=t,t=e,e=a),Te<=r)return z(t,o)+(e?z(e,1-o):"")+"Z";var a,s,l,c,u,d,h,p,f,g,m,v,y=0,b=0,w=[];if((c=(+U.apply(this,arguments)||0)/2)&&(l=H===Ia?Math.sqrt(e*e+t*t):+H.apply(this,arguments),o||(b*=-1),t&&(b=Me(l/t*Math.sin(c))),e&&(y=Me(l/e*Math.sin(c)))),t){u=t*Math.cos(n+b),d=t*Math.sin(n+b),h=t*Math.cos(i-b),p=t*Math.sin(i-b);var x=Math.abs(i-n-2*b)<=ke?0:1;if(b&&La(u,d,h,p)===o^x){var C=(n+i)/2;u=t*Math.cos(C),d=t*Math.sin(C),h=p=null}}else u=d=0;if(e){f=e*Math.cos(i-y),g=e*Math.sin(i-y),m=e*Math.cos(n+y),v=e*Math.sin(n+y);var S=Math.abs(n-i+2*y)<=ke?0:1;if(y&&La(f,g,m,v)===1-o^S){var k=(n+i)/2;f=e*Math.cos(k),g=e*Math.sin(k),m=v=null}}else f=g=0;if(Ce<r&&.001<(a=Math.min(Math.abs(t-e)/2,+q.apply(this,arguments)))){s=e<t^o?0:1;var _=a,T=a;if(r<ke){var D=null==m?[f,g]:null==h?[u,d]:ar([u,d],[m,v],[h,p],[f,g]),A=u-D[0],E=d-D[1],I=h-D[0],P=p-D[1],$=1/Math.sin(Math.acos((A*I+E*P)/(Math.sqrt(A*A+E*E)*Math.sqrt(I*I+P*P)))/2),M=Math.sqrt(D[0]*D[0]+D[1]*D[1]);T=Math.min(a,(e-M)/($-1)),_=Math.min(a,(t-M)/($+1))}if(null!=h){var O=ja(null==m?[f,g]:[m,v],[u,d],t,_,o),N=ja([h,p],[f,g],t,_,o);a===_?w.push("M",O[0],"A",_,",",_," 0 0,",s," ",O[1],"A",t,",",t," 0 ",1-o^La(O[1][0],O[1][1],N[1][0],N[1][1]),",",o," ",N[1],"A",_,",",_," 0 0,",s," ",N[0]):w.push("M",O[0],"A",_,",",_," 0 1,",s," ",N[0])}else w.push("M",u,",",d);if(null!=m){var L=ja([u,d],[m,v],e,-T,o),j=ja([f,g],null==h?[u,d]:[h,p],e,-T,o);a===T?w.push("L",j[0],"A",T,",",T," 0 0,",s," ",j[1],"A",e,",",e," 0 ",o^La(j[1][0],j[1][1],L[1][0],L[1][1]),",",1-o," ",L[1],"A",T,",",T," 0 0,",s," ",L[0]):w.push("L",j[0],"A",T,",",T," 0 0,",s," ",L[0])}else w.push("L",f,",",g)}else w.push("M",u,",",d),null!=h&&w.push("A",t,",",t," 0 ",x,",",o," ",h,",",p),w.push("L",f,",",g),null!=m&&w.push("A",e,",",e," 0 ",S,",",1-o," ",m,",",v);return w.push("Z"),w.join("")}function z(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return t.innerRadius=function(e){return arguments.length?(R=gt(e),t):R},t.outerRadius=function(e){return arguments.length?(F=gt(e),t):F},t.cornerRadius=function(e){return arguments.length?(q=gt(e),t):q},t.padRadius=function(e){return arguments.length?(H=e==Ia?Ia:gt(e),t):H},t.startAngle=function(e){return arguments.length?(B=gt(e),t):B},t.endAngle=function(e){return arguments.length?(V=gt(e),t):V},t.padAngle=function(e){return arguments.length?(U=gt(e),t):U},t.centroid=function(){var e=(+R.apply(this,arguments)+ +F.apply(this,arguments))/2,t=(+B.apply(this,arguments)+ +V.apply(this,arguments))/2-De;return[Math.cos(t)*e,Math.sin(t)*e]},t};var Ia="auto";function Pa(e){return e.innerRadius}function $a(e){return e.outerRadius}function Ma(e){return e.startAngle}function Oa(e){return e.endAngle}function Na(e){return e&&e.padAngle}function La(e,t,n,i){return 0<(e-n)*t-(t-i)*e?0:1}function ja(e,t,n,i,r){var o=e[0]-t[0],a=e[1]-t[1],s=(r?i:-i)/Math.sqrt(o*o+a*a),l=s*a,c=-s*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,p=t[1]+c,f=(u+h)/2,g=(d+p)/2,m=h-u,v=p-d,y=m*m+v*v,b=n-i,w=u*p-h*d,x=(v<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-w*w)),C=(w*v-m*x)/y,S=(-w*m-v*x)/y,k=(w*v+m*x)/y,_=(-w*m+v*x)/y,T=C-f,D=S-g,A=k-f,E=_-g;return A*A+E*E<T*T+D*D&&(C=k,S=_),[[C-l,S-c],[C*n/b,S*n/b]]}function Ra(c){var u=er,d=tr,h=Wn,p=qa,t=p.key,f=.7;function n(e){var t,n=[],i=[],r=-1,o=e.length,a=gt(u),s=gt(d);function l(){n.push("M",p(c(i),f))}for(;++r<o;)h.call(this,t=e[r],r)?i.push([+a.call(this,t,r),+s.call(this,t,r)]):i.length&&(l(),i=[]);return i.length&&l(),n.length?n.join(""):null}return n.x=function(e){return arguments.length?(u=e,n):u},n.y=function(e){return arguments.length?(d=e,n):d},n.defined=function(e){return arguments.length?(h=e,n):h},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?p=e:(p=Fa.get(e)||qa).key,n):t},n.tension=function(e){return arguments.length?(f=e,n):f},n}O.svg.line=function(){return Ra(L)};var Fa=O.map({linear:qa,"linear-closed":Ha,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);1<n&&r.push("H",i[0]);return r.join("")},"step-before":Ba,"step-after":Va,basis:Wa,"basis-open":function(e){if(e.length<4)return qa(e);var t,n=[],i=-1,r=e.length,o=[0],a=[0];for(;++i<3;)t=e[i],o.push(t[0]),a.push(t[1]);n.push(Ga(Ja,o)+","+Ga(Ja,a)),--i;for(;++i<r;)t=e[i],o.shift(),o.push(t[0]),a.shift(),a.push(t[1]),Ka(n,o,a);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,o=r+4,a=[],s=[];for(;++i<4;)n=e[i%r],a.push(n[0]),s.push(n[1]);t=[Ga(Ja,a),",",Ga(Ja,s)],--i;for(;++i<o;)n=e[i%r],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ka(t,a,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],a=e[0][1],s=e[n][0]-o,l=e[n][1]-a,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*s),i[1]=t*i[1]+(1-t)*(a+r*l);return Wa(e)},cardinal:function(e,t){return e.length<3?qa(e):e[0]+Ua(e,za(e,t))},"cardinal-open":function(e,t){return e.length<4?qa(e):e[1]+Ua(e.slice(1,-1),za(e,t))},"cardinal-closed":function(e,t){return e.length<3?Ha(e):e[0]+Ua((e.push(e[0]),e),za([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?qa(e):e[0]+Ua(e,function(e){var t,n,i,r,o=[],a=function(e){var t=0,n=e.length-1,i=[],r=e[0],o=e[1],a=i[0]=Qa(r,o);for(;++t<n;)i[t]=(a+(a=Qa(r=o,o=e[t+1])))/2;return i[t]=a,i}(e),s=-1,l=e.length-1;for(;++s<l;)t=Qa(e[s],e[s+1]),M(t)<Ce?a[s]=a[s+1]=0:(n=a[s]/t,i=a[s+1]/t,9<(r=n*n+i*i)&&(r=3*t/Math.sqrt(r),a[s]=r*n,a[s+1]=r*i));s=-1;for(;++s<=l;)r=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([r||0,a[s]*r||0]);return o}(e))}});function qa(e){return 1<e.length?e.join("L"):e+"Z"}function Ha(e){return e.join("L")+"Z"}function Ba(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function Va(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function Ua(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return qa(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],a=t[0],s=a,l=1;if(n&&(i+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),1<t.length){s=t[1],o=e[l],l++,i+="C"+(r[0]+a[0])+","+(r[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],s=t[c],i+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+u[0]+","+u[1]}return i}function za(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],a=e[1],s=1,l=e.length;++s<l;)n=o,o=a,a=e[s],i.push([r*(a[0]-n[0]),r*(a[1]-n[1])]);return i}function Wa(e){if(e.length<3)return qa(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],a=[r,r,r,(i=e[1])[0]],s=[o,o,o,i[1]],l=[r,",",o,"L",Ga(Ja,a),",",Ga(Ja,s)];for(e.push(e[n-1]);++t<=n;)i=e[t],a.shift(),a.push(i[0]),s.shift(),s.push(i[1]),Ka(l,a,s);return e.pop(),l.push("L",i),l.join("")}function Ga(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Fa.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ya=[0,2/3,1/3,0],Xa=[0,1/3,2/3,0],Ja=[0,1/6,2/3,1/6];function Ka(e,t,n){e.push("C",Ga(Ya,t),",",Ga(Ya,n),",",Ga(Xa,t),",",Ga(Xa,n),",",Ga(Ja,t),",",Ga(Ja,n))}function Qa(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Za(e){for(var t,n,i,r=-1,o=e.length;++r<o;)n=(t=e[r])[0],i=t[1]-De,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function es(f){var g=er,m=er,v=0,y=tr,b=Wn,w=qa,t=w.key,x=w,C="L",S=.7;function n(e){var t,n,i,r=[],o=[],a=[],s=-1,l=e.length,c=gt(g),u=gt(v),d=g===m?function(){return n}:gt(m),h=v===y?function(){return i}:gt(y);function p(){r.push("M",w(f(a),S),C,x(f(o.reverse()),S),"Z")}for(;++s<l;)b.call(this,t=e[s],s)?(o.push([n=+c.call(this,t,s),i=+u.call(this,t,s)]),a.push([+d.call(this,t,s),+h.call(this,t,s)])):o.length&&(p(),o=[],a=[]);return o.length&&p(),r.length?r.join(""):null}return n.x=function(e){return arguments.length?(g=m=e,n):m},n.x0=function(e){return arguments.length?(g=e,n):g},n.x1=function(e){return arguments.length?(m=e,n):m},n.y=function(e){return arguments.length?(v=y=e,n):y},n.y0=function(e){return arguments.length?(v=e,n):v},n.y1=function(e){return arguments.length?(y=e,n):y},n.defined=function(e){return arguments.length?(b=e,n):b},n.interpolate=function(e){return arguments.length?(t="function"==typeof e?w=e:(w=Fa.get(e)||qa).key,x=w.reverse||w,C=w.closed?"M":"L",n):t},n.tension=function(e){return arguments.length?(S=e,n):S},n}function ts(e){return e.radius}function ns(e){return[e.x,e.y]}function is(){return 64}function rs(){return"circle"}function os(e){var t=Math.sqrt(e/ke);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}O.svg.line.radial=function(){var e=Ra(Za);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},(Ba.reverse=Va).reverse=Ba,O.svg.area=function(){return es(L)},O.svg.area.radial=function(){var e=es(Za);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},O.svg.chord=function(){var a=qi,s=Hi,l=ts,c=Ma,u=Oa;function t(e,t){var n,i,r=d(this,a,e,t),o=d(this,s,e,t);return"M"+r.p0+h(r.r,r.p1,r.a1-r.a0)+(i=o,(n=r).a0==i.a0&&n.a1==i.a1?p(r.r,r.p1,r.r,r.p0):p(r.r,r.p1,o.r,o.p0)+h(o.r,o.p1,o.a1-o.a0)+p(o.r,o.p1,r.r,r.p0))+"Z"}function d(e,t,n,i){var r=t.call(e,n,i),o=l.call(e,r,i),a=c.call(e,r,i)-De,s=u.call(e,r,i)-De;return{r:o,a0:a,a1:s,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(s),o*Math.sin(s)]}}function h(e,t,n){return"A"+e+","+e+" 0 "+ +(ke<n)+",1 "+t}function p(e,t,n,i){return"Q 0,0 "+i}return t.radius=function(e){return arguments.length?(l=gt(e),t):l},t.source=function(e){return arguments.length?(a=gt(e),t):a},t.target=function(e){return arguments.length?(s=gt(e),t):s},t.startAngle=function(e){return arguments.length?(c=gt(e),t):c},t.endAngle=function(e){return arguments.length?(u=gt(e),t):u},t},O.svg.diagonal=function(){var a=qi,s=Hi,l=ns;function t(e,t){var n=a.call(this,e,t),i=s.call(this,e,t),r=(n.y+i.y)/2,o=[n,{x:n.x,y:r},{x:i.x,y:r},i];return"M"+(o=o.map(l))[0]+"C"+o[1]+" "+o[2]+" "+o[3]}return t.source=function(e){return arguments.length?(a=gt(e),t):a},t.target=function(e){return arguments.length?(s=gt(e),t):s},t.projection=function(e){return arguments.length?(l=e,t):l},t},O.svg.diagonal.radial=function(){var e=O.svg.diagonal(),t=ns,n=e.projection;return e.projection=function(e){return arguments.length?n((i=t=e,function(){var e=i.apply(this,arguments),t=e[0],n=e[1]-De;return[t*Math.cos(n),t*Math.sin(n)]})):t;var i},e},O.svg.symbol=function(){var n=rs,i=is;function t(e,t){return(as.get(n.call(this,e,t))||os)(i.call(this,e,t))}return t.type=function(e){return arguments.length?(n=gt(e),t):n},t.size=function(e){return arguments.length?(i=gt(e),t):i},t};var as=O.map({circle:os,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ls)),n=t*ls;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ss),n=t*ss/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});O.svg.symbolTypes=as.keys();var ss=Math.sqrt(3),ls=Math.tan(30*Ae);W.transition=function(e){for(var t,n,i=hs||++gs,r=ys(e),o=[],a=ps||{time:Date.now(),ease:io,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&bs(n,u,r,i,a),t.push(n)}return ds(o,r,i)},W.interrupt=function(e){return this.each(null==e?cs:us(ys(e)))};var cs=us(ys());function us(i){return function(){var e,t,n;(e=this[i])&&(n=e[t=e.active])&&(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[t]:delete this[i],e.active+=.5,n.event&&n.event.interrupt.call(this,this.__data__,n.index))}}function ds(e,t,n){return H(e,fs),e.namespace=t,e.id=n,e}var hs,ps,fs=[],gs=0;function ms(e,i,r,o){var a=e.id,s=e.namespace;return ce(e,"function"==typeof r?function(e,t,n){e[s][a].tween.set(i,o(r.call(e,e.__data__,t,n)))}:(r=o(r),function(e){e[s][a].tween.set(i,r)}))}function vs(e){return null==e&&(e=""),function(){this.textContent=e}}function ys(e){return null==e?"__transition__":"__transition_"+e+"__"}function bs(o,a,r,s,e){var l,c,u,d,h,p=o[r]||(o[r]={active:0,count:0}),f=p[s];function n(e){var t=p.active,n=p[t];for(var i in n&&(n.timer.c=null,n.timer.t=NaN,--p.count,delete p[t],n.event&&n.event.interrupt.call(o,o.__data__,n.index)),p)if(+i<s){var r=p[i];r.timer.c=null,r.timer.t=NaN,--p.count,delete p[i]}c.c=g,St(function(){return c.c&&g(e||1)&&(c.c=null,c.t=NaN),1},0,l),p.active=s,f.event&&f.event.start.call(o,o.__data__,a),h=[],f.tween.forEach(function(e,t){(t=t.call(o,o.__data__,a))&&h.push(t)}),d=f.ease,u=f.duration}function g(e){for(var t=e/u,n=d(t),i=h.length;0<i;)h[--i].call(o,n);if(1<=t)return f.event&&f.event.end.call(o,o.__data__,a),--p.count?delete p[s]:delete o[r],1}f||(l=e.time,c=St(function(e){var t=f.delay;if(c.t=t+l,t<=e)return n(e-t);c.c=n},0,l),f=p[s]={tween:new y,time:l,timer:c,delay:e.delay,duration:e.duration,ease:e.ease,index:a},e=null,++p.count)}fs.call=W.call,fs.empty=W.empty,fs.node=W.node,fs.size=W.size,O.transition=function(e,t){return e&&e.transition?hs?e.transition(t):e:O.selection().transition(e)},(O.transition.prototype=fs).select=function(e){var t,n,i,r=this.id,o=this.namespace,a=[];e=G(e);for(var s=-1,l=this.length;++s<l;){a.push(t=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,s))?("__data__"in i&&(n.__data__=i.__data__),bs(n,u,o,r,i[o][r]),t.push(n)):t.push(null)}return ds(a,o,r)},fs.selectAll=function(e){var t,n,i,r,o,a=this.id,s=this.namespace,l=[];e=Y(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,p=d.length;++h<p;)if(i=d[h]){o=i[s][a],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var f=-1,g=n.length;++f<g;)(r=n[f])&&bs(r,f,s,a,o),t.push(r)}return ds(l,s,a)},fs.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=le(e));for(var r=0,o=this.length;r<o;r++){i.push(t=[]);for(var a,s=0,l=(a=this[r]).length;s<l;s++)(n=a[s])&&e.call(n,n.__data__,s,r)&&t.push(n)}return ds(i,this.namespace,this.id)},fs.tween=function(t,n){var i=this.id,r=this.namespace;return arguments.length<2?this.node()[r][i].tween.get(t):ce(this,null==n?function(e){e[r][i].tween.remove(t)}:function(e){e[r][i].tween.set(t,n)})},fs.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var i="transform"==e?go:Yr,r=O.ns.qualify(e);function o(){this.removeAttribute(r)}function a(){this.removeAttributeNS(r.space,r.local)}return ms(this,"attr."+e,t,r.local?function(n){return null==n?a:(n+="",function(){var t,e=this.getAttributeNS(r.space,r.local);return e!==n&&(t=i(e,n),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}:function(n){return null==n?o:(n+="",function(){var t,e=this.getAttribute(r);return e!==n&&(t=i(e,n),function(e){this.setAttribute(r,t(e))})})})},fs.attrTween=function(e,i){var r=O.ns.qualify(e);return this.tween("attr."+e,r.local?function(e,t){var n=i.call(this,e,t,this.getAttributeNS(r.space,r.local));return n&&function(e){this.setAttributeNS(r.space,r.local,n(e))}}:function(e,t){var n=i.call(this,e,t,this.getAttribute(r));return n&&function(e){this.setAttribute(r,n(e))}})},fs.style=function(i,e,r){var t=arguments.length;if(t<3){if("string"!=typeof i){for(r in t<2&&(e=""),i)this.style(r,i[r],e);return this}r=""}function o(){this.style.removeProperty(i)}return ms(this,"style."+i,e,function(n){return null==n?o:(n+="",function(){var t,e=N(this).getComputedStyle(this,null).getPropertyValue(i);return e!==n&&(t=Yr(e,n),function(e){this.style.setProperty(i,t(e),r)})})})},fs.styleTween=function(i,r,o){return arguments.length<3&&(o=""),this.tween("style."+i,function(e,t){var n=r.call(this,e,t,N(this).getComputedStyle(this,null).getPropertyValue(i));return n&&function(e){this.style.setProperty(i,n(e),o)}})},fs.text=function(e){return ms(this,"text",e,vs)},fs.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},fs.ease=function(t){var n=this.id,i=this.namespace;return arguments.length<1?this.node()[i][n].ease:("function"!=typeof t&&(t=O.ease.apply(O,arguments)),ce(this,function(e){e[i][n].ease=t}))},fs.delay=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].delay:ce(this,"function"==typeof i?function(e,t,n){e[o][r].delay=+i.call(e,e.__data__,t,n)}:(i=+i,function(e){e[o][r].delay=i}))},fs.duration=function(i){var r=this.id,o=this.namespace;return arguments.length<1?this.node()[o][r].duration:ce(this,"function"==typeof i?function(e,t,n){e[o][r].duration=Math.max(1,i.call(e,e.__data__,t,n))}:(i=Math.max(1,i),function(e){e[o][r].duration=i}))},fs.each=function(i,n){var r=this.id,o=this.namespace;if(arguments.length<2){var e=ps,t=hs;try{hs=r,ce(this,function(e,t,n){ps=e[o][r],i.call(e,e.__data__,t,n)})}finally{ps=e,hs=t}}else ce(this,function(e){var t=e[o][r];(t.event||(t.event=O.dispatch("start","end","interrupt"))).on(i,n)});return this},fs.transition=function(){for(var e,t,n,i=this.id,r=++gs,o=this.namespace,a=[],s=0,l=this.length;s<l;s++){a.push(e=[]);for(var c,u=0,d=(c=this[s]).length;u<d;u++)(t=c[u])&&bs(t,u,o,r,{time:(n=t[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return ds(a,o,r)},O.svg.axis=function(){var T,D=O.scale.linear(),A=ws,E=6,I=6,P=3,$=[10],M=null;function n(e){e.each(function(){var e,t=O.select(this),n=this.__chart__||D,i=this.__chart__=D.copy(),r=null==M?i.ticks?i.ticks.apply(i,$):i.domain():M,o=null==T?i.tickFormat?i.tickFormat.apply(i,$):L:T,a=t.selectAll(".tick").data(r,i),s=a.enter().insert("g",".domain").attr("class","tick").style("opacity",Ce),l=O.transition(a.exit()).style("opacity",Ce).remove(),c=O.transition(a.order()).style("opacity",1),u=Math.max(E,0)+P,d=ca(i),h=t.selectAll(".domain").data([0]),p=(h.enter().append("path").attr("class","domain"),O.transition(h));s.append("line"),s.append("text");var f,g,m,v,y=s.select("line"),b=c.select("line"),w=a.select("text").text(o),x=s.select("text"),C=c.select("text"),S="top"===A||"left"===A?-1:1;if("bottom"===A||"top"===A?(e=Cs,f="x",m="y",g="x2",v="y2",w.attr("dy",S<0?"0em":".71em").style("text-anchor","middle"),p.attr("d","M"+d[0]+","+S*I+"V0H"+d[1]+"V"+S*I)):(e=Ss,f="y",m="x",g="y2",v="x2",w.attr("dy",".32em").style("text-anchor",S<0?"end":"start"),p.attr("d","M"+S*I+","+d[0]+"H0V"+d[1]+"H"+S*I)),y.attr(v,S*E),x.attr(m,S*u),b.attr(g,0).attr(v,S*E),C.attr(f,0).attr(m,S*u),i.rangeBand){var k=i,_=k.rangeBand()/2;n=i=function(e){return k(e)+_}}else n.rangeBand?n=i:l.call(e,i,n);s.call(e,n,i),c.call(e,i,i)})}return n.scale=function(e){return arguments.length?(D=e,n):D},n.orient=function(e){return arguments.length?(A=e in xs?e+"":ws,n):A},n.ticks=function(){return arguments.length?($=h(arguments),n):$},n.tickValues=function(e){return arguments.length?(M=e,n):M},n.tickFormat=function(e){return arguments.length?(T=e,n):T},n.tickSize=function(e){var t=arguments.length;return t?(E=+e,I=+arguments[t-1],n):E},n.innerTickSize=function(e){return arguments.length?(E=+e,n):E},n.outerTickSize=function(e){return arguments.length?(I=+e,n):I},n.tickPadding=function(e){return arguments.length?(P=+e,n):P},n.tickSubdivide=function(){return arguments.length&&n},n};var ws="bottom",xs={top:1,right:1,bottom:1,left:1};function Cs(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate("+(isFinite(t)?t:i(e))+",0)"})}function Ss(e,n,i){e.attr("transform",function(e){var t=n(e);return"translate(0,"+(isFinite(t)?t:i(e))+")"})}O.svg.brush=function(){var y,b,w=F(D,"brushstart","brush","brushend"),x=null,C=null,S=[0,0],k=[0,0],_=!0,T=!0,a=_s[0];function D(e){e.each(function(){var e=O.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",s).on("touchstart.brush",s),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(a,L);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return ks[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",D.empty()?"none":null);var i,r=O.transition(e),o=O.transition(t);x&&(i=ca(x),o.attr("x",i[0]).attr("width",i[1]-i[0]),E(r)),C&&(i=ca(C),o.attr("y",i[0]).attr("height",i[1]-i[0]),I(r)),A(r)})}function A(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+S[+/e$/.test(e)]+","+k[+/^s/.test(e)]+")"})}function E(e){e.select(".extent").attr("x",S[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",S[1]-S[0])}function I(e){e.select(".extent").attr("y",k[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",k[1]-k[0])}function s(){var d,n,i=this,e=O.select(O.event.target),r=w.of(i,arguments),o=O.select(i),t=e.datum(),a=!/^(n|s)$/.test(t)&&x,s=!/^(e|w)$/.test(t)&&C,h=e.classed("extent"),l=ye(i),p=O.mouse(i),c=O.select(N(i)).on("keydown.brush",function(){32==O.event.keyCode&&(h||(d=null,p[0]-=S[1],p[1]-=k[1],h=2),j())}).on("keyup.brush",function(){32==O.event.keyCode&&2==h&&(p[0]+=S[1],p[1]+=k[1],h=0,j())});if(O.event.changedTouches?c.on("touchmove.brush",g).on("touchend.brush",v):c.on("mousemove.brush",g).on("mouseup.brush",v),o.interrupt().selectAll("*").interrupt(),h)p[0]=S[0]-p[0],p[1]=k[0]-p[1];else if(t){var u=+/w$/.test(t),f=+/^n/.test(t);n=[S[1-u]-p[0],k[1-f]-p[1]],p[0]=S[u],p[1]=k[f]}else O.event.altKey&&(d=p.slice());function g(){var e=O.mouse(i),t=!1;n&&(e[0]+=n[0],e[1]+=n[1]),h||(O.event.altKey?(d||(d=[(S[0]+S[1])/2,(k[0]+k[1])/2]),p[0]=S[+(e[0]<d[0])],p[1]=k[+(e[1]<d[1])]):d=null),a&&m(e,x,0)&&(E(o),t=!0),s&&m(e,C,1)&&(I(o),t=!0),t&&(A(o),r({type:"brush",mode:h?"move":"resize"}))}function m(e,t,n){var i,r,o=ca(t),a=o[0],s=o[1],l=p[n],c=n?k:S,u=c[1]-c[0];if(h&&(a-=l,s-=u+l),i=(n?T:_)?Math.max(a,Math.min(s,e[n])):e[n],h?r=(i+=l)+u:(d&&(l=Math.max(a,Math.min(s,2*d[n]-i))),l<i?(r=i,i=l):r=l),c[0]!=i||c[1]!=r)return n?b=null:y=null,c[0]=i,c[1]=r,!0}function v(){g(),o.style("pointer-events","all").selectAll(".resize").style("display",D.empty()?"none":null),O.select("body").style("cursor",null),c.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),l(),r({type:"brushend"})}o.style("pointer-events","none").selectAll(".resize").style("display",null),O.select("body").style("cursor",e.style("cursor")),r({type:"brushstart"}),g()}return D.event=function(e){e.each(function(){var i=w.of(this,arguments),r={x:S,y:k,i:y,j:b},e=this.__chart__||r;this.__chart__=r,hs?O.select(this).transition().each("start.brush",function(){y=e.i,b=e.j,S=e.x,k=e.y,i({type:"brushstart"})}).tween("brush:brush",function(){var t=Xr(S,r.x),n=Xr(k,r.y);return y=b=null,function(e){S=r.x=t(e),k=r.y=n(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){y=r.i,b=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},D.x=function(e){return arguments.length?(a=_s[!(x=e)<<1|!C],D):x},D.y=function(e){return arguments.length?(a=_s[!x<<1|!(C=e)],D):C},D.clamp=function(e){return arguments.length?(x&&C?(_=!!e[0],T=!!e[1]):x?_=!!e:C&&(T=!!e),D):x&&C?[_,T]:x?_:C?T:null},D.extent=function(e){var t,n,i,r,o;return arguments.length?(x&&(t=e[0],n=e[1],C&&(t=t[0],n=n[0]),y=[t,n],x.invert&&(t=x(t),n=x(n)),n<t&&(o=t,t=n,n=o),t==S[0]&&n==S[1]||(S=[t,n])),C&&(i=e[0],r=e[1],x&&(i=i[1],r=r[1]),b=[i,r],C.invert&&(i=C(i),r=C(r)),r<i&&(o=i,i=r,r=o),i==k[0]&&r==k[1]||(k=[i,r])),D):(x&&(y?(t=y[0],n=y[1]):(t=S[0],n=S[1],x.invert&&(t=x.invert(t),n=x.invert(n)),n<t&&(o=t,t=n,n=o))),C&&(b?(i=b[0],r=b[1]):(i=k[0],r=k[1],C.invert&&(i=C.invert(i),r=C.invert(r)),r<i&&(o=i,i=r,r=o))),x&&C?[[t,i],[n,r]]:x?[t,n]:C&&[i,r])},D.clear=function(){return D.empty()||(S=[0,0],k=[0,0],y=b=null),D},D.empty=function(){return!!x&&S[0]==S[1]||!!C&&k[0]==k[1]},O.rebind(D,w,"on")};var ks={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},_s=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ts=$t.format=sn.timeFormat,Ds=Ts.utc,As=Ds("%Y-%m-%dT%H:%M:%S.%LZ");function Es(e){return e.toISOString()}function Is(t,r,e){function a(e){return t(e)}function s(e,t){var n=(e[1]-e[0])/t,i=O.bisect($s,n);return i==$s.length?[r.year,va(e.map(function(e){return e/31536e6}),t)[2]]:i?r[n/$s[i-1]<$s[i]/n?i-1:i]:[Ns,va(e,t)[2]]}return a.invert=function(e){return Ps(t.invert(e))},a.domain=function(e){return arguments.length?(t.domain(e),a):t.domain().map(Ps)},a.nice=function(t,n){var e=a.domain(),i=la(e),r=null==t?s(i,10):"number"==typeof t&&s(i,t);function o(e){return!isNaN(e)&&!t.range(e,Ps(+e+1),n).length}return r&&(t=r[0],n=r[1]),a.domain(da(e,1<n?{floor:function(e){for(;o(e=t.floor(e));)e=Ps(e-1);return e},ceil:function(e){for(;o(e=t.ceil(e));)e=Ps(+e+1);return e}}:t))},a.ticks=function(e,t){var n=la(a.domain()),i=null==e?s(n,10):"number"==typeof e?s(n,e):!e.range&&[{range:e},t];return i&&(e=i[0],t=i[1]),e.range(n[0],Ps(+n[1]+1),t<1?1:t)},a.tickFormat=function(){return e},a.copy=function(){return Is(t.copy(),r,e)},ga(a,t)}function Ps(e){return new Date(e)}Ts.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Es:As,Es.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Es.toString=As.toString,$t.second=Lt(function(e){return new Mt(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),$t.seconds=$t.second.range,$t.seconds.utc=$t.second.utc.range,$t.minute=Lt(function(e){return new Mt(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),$t.minutes=$t.minute.range,$t.minutes.utc=$t.minute.utc.range,$t.hour=Lt(function(e){var t=e.getTimezoneOffset()/60;return new Mt(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),$t.hours=$t.hour.range,$t.hours.utc=$t.hour.utc.range,$t.month=Lt(function(e){return(e=$t.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),$t.months=$t.month.range,$t.months.utc=$t.month.utc.range;var $s=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ms=[[$t.second,1],[$t.second,5],[$t.second,15],[$t.second,30],[$t.minute,1],[$t.minute,5],[$t.minute,15],[$t.minute,30],[$t.hour,1],[$t.hour,3],[$t.hour,6],[$t.hour,12],[$t.day,1],[$t.day,2],[$t.week,1],[$t.month,1],[$t.month,3],[$t.year,1]],Os=Ts.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Wn]]),Ns={range:function(e,t,n){return O.range(Math.ceil(e/n)*n,+t,n).map(Ps)},floor:L,ceil:L};Ms.year=$t.year,$t.scale=function(){return Is(O.scale.linear(),Ms,Os)};var Ls=Ms.map(function(e){return[e[0].utc,e[1]]}),js=Ds.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Wn]]);function Rs(e){return JSON.parse(e.responseText)}function Fs(e){var t=b.createRange();return t.selectNode(b.body),t.createContextualFragment(e.responseText)}Ls.year=$t.year.utc,$t.scale.utc=function(){return Is(O.scale.linear(),Ls,js)},O.text=mt(function(e){return e.responseText}),O.json=function(e,t){return vt(e,"application/json",Rs,t)},O.html=function(e,t){return vt(e,"text/html",Fs,t)},O.xml=mt(function(e){return e.responseXML}),"function"==typeof define&&define.amd?(this.d3=O,define(O)):"object"==typeof module&&module.exports?module.exports=O:this.d3=O}(),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.c3=t()}(this,function(){"use strict";var r,o,H={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T=function(e){return e||0===e},h=function(e){return"function"==typeof e},a=function(e){return Array.isArray(e)},l=function(e){return"string"==typeof e},C=function(e){return void 0===e},N=function(e){return void 0!==e},n=function(e){return 10*Math.ceil(e/10)},c=function(e){return Math.ceil(e)+.5},L=function(e){return e[1]-e[0]},d=function(e){return null==e||l(e)&&0===e.length||"object"===(void 0===e?"undefined":s(e))&&0===Object.keys(e).length},D=function(e){return!m.isEmpty(e)},B=function(e,t,n){return N(e[t])?e[t]:n},i=function(t,n){var i=!1;return Object.keys(t).forEach(function(e){t[e]===n&&(i=!0)}),i},g=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},y=function(e){var t=e.getBoundingClientRect(),n=[e.pathSegList.getItem(0),e.pathSegList.getItem(1)];return{x:n[0].x,y:Math.min(n[0].y,n[1].y),width:t.width,height:t.height}};function u(e,t){var n=this;n.component=e,n.params=t||{},n.d3=e.d3,n.scale=n.d3.scale.linear(),n.range,n.orient="bottom",n.innerTickSize=6,n.outerTickSize=this.params.withOuterTick?6:0,n.tickPadding=3,n.tickValues=null,n.tickFormat,n.tickArguments,n.tickOffset=0,n.tickCulling=!0,n.tickCentered,n.tickTextCharSize,n.tickTextRotate=n.params.tickTextRotate,n.tickLength,n.axis=n.generateAxis()}(o=u.prototype).axisX=function(e,t,n){e.attr("transform",function(e){return"translate("+Math.ceil(t(e)+n)+", 0)"})},o.axisY=function(e,t){e.attr("transform",function(e){return"translate(0,"+Math.ceil(t(e))+")"})},o.scaleExtent=function(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]},o.generateTicks=function(e){var t,n,i=[];if(e.ticks)return e.ticks.apply(e,this.tickArguments);for(n=e.domain(),t=Math.ceil(n[0]);t<n[1];t++)i.push(t);return 0<i.length&&0<i[0]&&i.unshift(i[0]-(i[1]-i[0])),i},o.copyScale=function(){var e,t=this.scale.copy();return this.params.isCategory&&(e=this.scale.domain(),t.domain([e[0],e[1]-1])),t},o.textFormatted=function(e){var t=this.tickFormat?this.tickFormat(e):e;return void 0!==t?t:""},o.updateRange=function(){return this.range=this.scale.rangeExtent?this.scale.rangeExtent():this.scaleExtent(this.scale.range()),this.range},o.updateTickTextCharSize=function(e){var o=this;if(o.tickTextCharSize)return o.tickTextCharSize;var a={h:11.5,w:5.5};return e.select("text").text(function(e){return o.textFormatted(e)}).each(function(e){var t=this.getBoundingClientRect(),n=o.textFormatted(e),i=t.height,r=n?t.width/n.length:void 0;i&&r&&(a.h=i,a.w=r)}).text(""),o.tickTextCharSize=a},o.transitionise=function(e){return this.params.withoutTransition?e:this.d3.transition(e)},o.isVertical=function(){return"left"===this.orient||"right"===this.orient},o.tspanData=function(e,t,n,i){var r=this.params.tickMultiline?this.splitTickText(e,n,i):[].concat(this.textFormatted(e));return this.params.tickMultiline&&0<this.params.tickMultilineMax&&(r=this.ellipsify(r,this.params.tickMultilineMax)),r.map(function(e){return{index:t,splitted:e,length:r.length}})},o.splitTickText=function(e,t,n){var r,o,a,s=this,i=s.textFormatted(e),l=s.params.tickWidth;if("[object Array]"===Object.prototype.toString.call(i))return i;return(!l||l<=0)&&(l=s.isVertical()?95:s.params.isCategory?Math.ceil(n(t[1])-n(t[0]))-12:110),function e(t,n){o=void 0;for(var i=1;i<n.length;i++)if(" "===n.charAt(i)&&(o=i),r=n.substr(0,i+1),a=s.tickTextCharSize.w*r.length,l<a)return e(t.concat(n.substr(0,o||i)),n.slice(o?o+1:i));return t.concat(n)}([],i+"")},o.ellipsify=function(e,t){if(e.length<=t)return e;for(var n=e.slice(0,t),i=3,r=t-1;0<=r;r--){var o=n[r].length;if(n[r]=n[r].substr(0,o-i).padEnd(o,"."),(i-=o)<=0)break}return n},o.updateTickLength=function(){this.tickLength=Math.max(this.innerTickSize,0)+this.tickPadding},o.lineY2=function(e){var t=this.scale(e)+(this.tickCentered?0:this.tickOffset);return this.range[0]<t&&t<this.range[1]?this.innerTickSize:0},o.textY=function(){var e=this.tickTextRotate;return e?11.5-e/15*2.5*(0<e?1:-1):this.tickLength},o.textTransform=function(){var e=this.tickTextRotate;return e?"rotate("+e+")":""},o.textTextAnchor=function(){var e=this.tickTextRotate;return e?0<e?"start":"end":"middle"},o.tspanDx=function(){var e=this.tickTextRotate;return e?8*Math.sin(Math.PI*(e/180)):0},o.tspanDy=function(e,t){var n=this.tickTextCharSize.h;return 0===t&&(n=this.isVertical()?-((e.length-1)*(this.tickTextCharSize.h/2)-3):".71em"),n},o.generateAxis=function(){var y=this,b=y.d3,w=y.params;function x(e){e.each(function(){var e,t,n,i=x.g=b.select(this),r=this.__chart__||y.scale,o=this.__chart__=y.copyScale(),a=y.tickValues?y.tickValues:y.generateTicks(o),s=i.selectAll(".tick").data(a,o),l=s.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),c=s.exit().remove(),u=y.transitionise(s).style("opacity",1);w.isCategory?(y.tickOffset=Math.ceil((o(1)-o(0))/2),t=y.tickCentered?0:y.tickOffset,n=y.tickCentered?y.tickOffset:0):y.tickOffset=t=0,l.append("line"),l.append("text"),y.updateRange(),y.updateTickLength(),y.updateTickTextCharSize(i.select(".tick"));var d=u.select("line"),h=u.select("text"),p=s.select("text").selectAll("tspan").data(function(e,t){return y.tspanData(e,t,a,o)});p.enter().append("tspan"),p.exit().remove(),p.text(function(e){return e.splitted});var f=i.selectAll(".domain").data([0]),g=(f.enter().append("path").attr("class","domain"),y.transitionise(f));switch(y.orient){case"bottom":e=y.axisX,d.attr("x1",t).attr("x2",t).attr("y2",function(e,t){return y.lineY2(e,t)}),h.attr("x",0).attr("y",function(e,t){return y.textY(e,t)}).attr("transform",function(e,t){return y.textTransform(e,t)}).style("text-anchor",function(e,t){return y.textTextAnchor(e,t)}),p.attr("x",0).attr("dy",function(e,t){return y.tspanDy(e,t)}).attr("dx",function(e,t){return y.tspanDx(e,t)}),g.attr("d","M"+y.range[0]+","+y.outerTickSize+"V0H"+y.range[1]+"V"+y.outerTickSize);break;case"top":e=y.axisX,d.attr("x1",t).attr("x2",t).attr("y2",function(e,t){return-1*y.lineY2(e,t)}),h.attr("x",0).attr("y",function(e,t){return-1*y.textY(e,t)-(w.isCategory?2:y.tickLength-2)}).attr("transform",function(e,t){return y.textTransform(e,t)}).style("text-anchor",function(e,t){return y.textTextAnchor(e,t)}),p.attr("x",0).attr("dy",function(e,t){return y.tspanDy(e,t)}).attr("dx",function(e,t){return y.tspanDx(e,t)}),g.attr("d","M"+y.range[0]+","+-y.outerTickSize+"V0H"+y.range[1]+"V"+-y.outerTickSize);break;case"left":e=y.axisY,d.attr("x2",-y.innerTickSize).attr("y1",n).attr("y2",n),h.attr("x",-y.tickLength).attr("y",y.tickOffset).style("text-anchor","end"),p.attr("x",-y.tickLength).attr("dy",function(e,t){return y.tspanDy(e,t)}),g.attr("d","M"+-y.outerTickSize+","+y.range[0]+"H0V"+y.range[1]+"H"+-y.outerTickSize);break;case"right":e=y.axisY,d.attr("x2",y.innerTickSize).attr("y1",n).attr("y2",n),h.attr("x",y.tickLength).attr("y",y.tickOffset).style("text-anchor","start"),p.attr("x",y.tickLength).attr("dy",function(e,t){return y.tspanDy(e,t)}),g.attr("d","M"+y.outerTickSize+","+y.range[0]+"H0V"+y.range[1]+"H"+y.outerTickSize)}if(o.rangeBand){var m=o,v=m.rangeBand()/2;r=o=function(e){return m(e)+v}}else r.rangeBand?r=o:c.call(e,o,y.tickOffset);l.call(e,r,y.tickOffset),u.call(e,o,y.tickOffset)})}return x.scale=function(e){return arguments.length?(y.scale=e,x):y.scale},x.orient=function(e){return arguments.length?(y.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",x):y.orient},x.tickFormat=function(e){return arguments.length?(y.tickFormat=e,x):y.tickFormat},x.tickCentered=function(e){return arguments.length?(y.tickCentered=e,x):y.tickCentered},x.tickOffset=function(){return y.tickOffset},x.tickInterval=function(){var e;return(e=w.isCategory?2*y.tickOffset:(x.g.select("path.domain").node().getTotalLength()-2*y.outerTickSize)/x.g.selectAll("line").size())===1/0?0:e},x.ticks=function(){return arguments.length?(y.tickArguments=arguments,x):y.tickArguments},x.tickCulling=function(e){return arguments.length?(y.tickCulling=e,x):y.tickCulling},x.tickValues=function(e){if("function"==typeof e)y.tickValues=function(){return e(y.scale.domain())};else{if(!arguments.length)return y.tickValues;y.tickValues=e}return x},x};var p=function(e){function i(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var t={fn:r,internal:{fn:o}},n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,"axis",t));return n.d3=e.d3,n.internal=u,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),i}();(r=p.prototype).init=function(){var e=this.owner,t=e.config,n=e.main;e.axes.x=n.append("g").attr("class",H.axis+" "+H.axisX).attr("clip-path",t.axis_x_inner?"":e.clipPathForXAxis).attr("transform",e.getTranslate("x")).style("visibility",t.axis_x_show?"visible":"hidden"),e.axes.x.append("text").attr("class",H.axisXLabel).attr("transform",t.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),e.axes.y=n.append("g").attr("class",H.axis+" "+H.axisY).attr("clip-path",t.axis_y_inner?"":e.clipPathForYAxis).attr("transform",e.getTranslate("y")).style("visibility",t.axis_y_show?"visible":"hidden"),e.axes.y.append("text").attr("class",H.axisYLabel).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),e.axes.y2=n.append("g").attr("class",H.axis+" "+H.axisY2).attr("transform",e.getTranslate("y2")).style("visibility",t.axis_y2_show?"visible":"hidden"),e.axes.y2.append("text").attr("class",H.axisY2Label).attr("transform",t.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},r.getXAxis=function(e,t,n,i,r,o,a){var s=this.owner,l=s.config,c={isCategory:s.isCategorized(),withOuterTick:r,tickMultiline:l.axis_x_tick_multiline,tickMultilineMax:l.axis_x_tick_multiline?Number(l.axis_x_tick_multilineMax):0,tickWidth:l.axis_x_tick_width,tickTextRotate:a?0:l.axis_x_tick_rotate,withoutTransition:o},u=new this.internal(this,c).axis.scale(e).orient(t);return s.isTimeSeries()&&i&&"function"!=typeof i&&(i=i.map(function(e){return s.parseDate(e)})),u.tickFormat(n).tickValues(i),s.isCategorized()&&(u.tickCentered(l.axis_x_tick_centered),d(l.axis_x_tick_culling)&&(l.axis_x_tick_culling=!1)),u},r.updateXAxisTickValues=function(e,t){var n,i=this.owner,r=i.config;return(r.axis_x_tick_fit||r.axis_x_tick_count)&&(n=this.generateTickValues(i.mapTargetsToUniqueXs(e),r.axis_x_tick_count,i.isTimeSeries())),t?t.tickValues(n):(i.xAxis.tickValues(n),i.subXAxis.tickValues(n)),n},r.getYAxis=function(e,t,n,i,r,o,a){var s=this.owner,l=s.config,c={withOuterTick:r,withoutTransition:o,tickTextRotate:a?0:l.axis_y_tick_rotate},u=new this.internal(this,c).axis.scale(e).orient(t).tickFormat(n);return s.isTimeSeriesY()?u.ticks(s.d3.time[l.axis_y_tick_time_value],l.axis_y_tick_time_interval):u.tickValues(i),u},r.getId=function(e){var t=this.owner.config;return e in t.data_axes?t.data_axes[e]:"y"},r.getXAxisTickFormat=function(){var t=this.owner,n=t.config,i=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(e){return e<0?e.toFixed(0):e};return n.axis_x_tick_format&&(h(n.axis_x_tick_format)?i=n.axis_x_tick_format:t.isTimeSeries()&&(i=function(e){return e?t.axisTimeFormat(n.axis_x_tick_format)(e):""})),h(i)?function(e){return i.call(t,e)}:i},r.getTickValues=function(e,t){return e||(t?t.tickValues():void 0)},r.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},r.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},r.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},r.getLabelOptionByAxisId=function(e){var t,n=this.owner.config;return"y"===e?t=n.axis_y_label:"y2"===e?t=n.axis_y2_label:"x"===e&&(t=n.axis_x_label),t},r.getLabelText=function(e){var t=this.getLabelOptionByAxisId(e);return l(t)?t:t?t.text:null},r.setLabelText=function(e,t){var n=this.owner.config,i=this.getLabelOptionByAxisId(e);l(i)?"y"===e?n.axis_y_label=t:"y2"===e?n.axis_y2_label=t:"x"===e&&(n.axis_x_label=t):i&&(i.text=t)},r.getLabelPosition=function(e,t){var n=this.getLabelOptionByAxisId(e),i=n&&"object"===(void 0===n?"undefined":s(n))&&n.position?n.position:t;return{isInner:0<=i.indexOf("inner"),isOuter:0<=i.indexOf("outer"),isLeft:0<=i.indexOf("left"),isCenter:0<=i.indexOf("center"),isRight:0<=i.indexOf("right"),isTop:0<=i.indexOf("top"),isMiddle:0<=i.indexOf("middle"),isBottom:0<=i.indexOf("bottom")}},r.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},r.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},r.getLabelPositionById=function(e){return"y2"===e?this.getY2AxisLabelPosition():"y"===e?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},r.textForXAxisLabel=function(){return this.getLabelText("x")},r.textForYAxisLabel=function(){return this.getLabelText("y")},r.textForY2AxisLabel=function(){return this.getLabelText("y2")},r.xForAxisLabel=function(e,t){var n=this.owner;return e?t.isLeft?0:t.isCenter?n.width/2:n.width:t.isBottom?-n.height:t.isMiddle?-n.height/2:0},r.dxForAxisLabel=function(e,t){return e?t.isLeft?"0.5em":t.isRight?"-0.5em":"0":t.isTop?"-0.5em":t.isBottom?"0.5em":"0"},r.textAnchorForAxisLabel=function(e,t){return e?t.isLeft?"start":t.isCenter?"middle":"end":t.isBottom?"start":t.isMiddle?"middle":"end"},r.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},r.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},r.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},r.dyForXAxisLabel=function(){var e=this.owner,t=e.config,n=this.getXAxisLabelPosition();return t.axis_rotated?n.isInner?"1.2em":-25-(e.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.axis_x_height?t.axis_x_height-10:"3em"},r.dyForYAxisLabel=function(){var e=this.owner,t=this.getYAxisLabelPosition();return e.config.axis_rotated?t.isInner?"-0.5em":"3em":t.isInner?"1.2em":-10-(e.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},r.dyForY2AxisLabel=function(){var e=this.owner,t=this.getY2AxisLabelPosition();return e.config.axis_rotated?t.isInner?"1.2em":"-2.2em":t.isInner?"-0.5em":15+(e.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},r.textAnchorForXAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(!e.config.axis_rotated,this.getXAxisLabelPosition())},r.textAnchorForYAxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getYAxisLabelPosition())},r.textAnchorForY2AxisLabel=function(){var e=this.owner;return this.textAnchorForAxisLabel(e.config.axis_rotated,this.getY2AxisLabelPosition())},r.getMaxTickWidth=function(e,t){var n,i,r,o,a=this.owner,s=a.config,l=0;return t&&a.currentMaxTickWidths[e]||(a.svg&&(n=a.filterTargetsToShow(a.data.targets),"y"===e?(i=a.y.copy().domain(a.getYDomain(n,"y")),r=this.getYAxis(i,a.yOrient,s.axis_y_tick_format,a.yAxisTickValues,!1,!0,!0)):"y2"===e?(i=a.y2.copy().domain(a.getYDomain(n,"y2")),r=this.getYAxis(i,a.y2Orient,s.axis_y2_tick_format,a.y2AxisTickValues,!1,!0,!0)):(i=a.x.copy().domain(a.getXDomain(n)),r=this.getXAxis(i,a.xOrient,a.xAxisTickFormat,a.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,r)),(o=a.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(r).each(function(){a.d3.select(this).selectAll("text").each(function(){var e=this.getBoundingClientRect();l<e.width&&(l=e.width)}),o.remove()})),a.currentMaxTickWidths[e]=l<=0?a.currentMaxTickWidths[e]:l),a.currentMaxTickWidths[e]},r.updateLabels=function(e){var t=this.owner,n=t.main.select("."+H.axisX+" ."+H.axisXLabel),i=t.main.select("."+H.axisY+" ."+H.axisYLabel),r=t.main.select("."+H.axisY2+" ."+H.axisY2Label);(e?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(e?i.transition():i).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(e?r.transition():r).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},r.getPadding=function(e,t,n,i){var r="number"==typeof e?e:e[t];return T(r)?"ratio"===e.unit?e[t]*i:this.convertPixelsToAxisPadding(r,i):n},r.convertPixelsToAxisPadding=function(e,t){var n=this.owner;return t*(e/(n.config.axis_rotated?n.width:n.height))},r.generateTickValues=function(e,t,n){var i,r,o,a,s,l,c,u=e;if(t)if(1===(i=h(t)?t():t))u=[e[0]];else if(2===i)u=[e[0],e[e.length-1]];else if(2<i){for(a=i-2,r=e[0],s=((o=e[e.length-1])-r)/(a+1),u=[r],l=0;l<a;l++)c=+r+s*(l+1),u.push(n?new Date(c):c);u.push(o)}return n||(u=u.sort(function(e,t){return e-t})),u},r.generateTransitions=function(e){var t=this.owner.axes;return{axisX:e?t.x.transition().duration(e):t.x,axisY:e?t.y.transition().duration(e):t.y,axisY2:e?t.y2.transition().duration(e):t.y2,axisSubX:e?t.subx.transition().duration(e):t.subx}},r.redraw=function(e,t){var n=this.owner;n.axes.x.style("opacity",t?0:1),n.axes.y.style("opacity",t?0:1),n.axes.y2.style("opacity",t?0:1),n.axes.subx.style("opacity",t?0:1),e.axisX.call(n.xAxis),e.axisY.call(n.yAxis),e.axisY2.call(n.y2Axis),e.axisSubX.call(n.subXAxis)};var f,m,v={version:"0.4.24"};function t(e,t,n){this.owner=e,v.chart.internal[t]=n}function b(e){var t=this.internal=new w(this);t.loadConfig(e),t.beforeInit(e),t.init(),t.afterInit(e),function t(n,i,r){Object.keys(n).forEach(function(e){i[e]=n[e].bind(r),0<Object.keys(n[e]).length&&t(n[e],i[e],r)})}(f,this,this)}function w(e){this.d3=window.d3?window.d3:"undefined"!=typeof require?require("d3"):void 0,this.api=e,this.config=this.getDefaultConfig(),this.data={},this.cache={},this.axes={}}return v.generate=function(e){return new b(e)},v.chart={fn:b.prototype,internal:{fn:w.prototype}},f=v.chart.fn,(m=v.chart.internal.fn).beforeInit=function(){},m.afterInit=function(){},m.init=function(){var e=this,t=e.config;if(e.initParams(),t.data_url)e.convertUrlToData(t.data_url,t.data_mimeType,t.data_headers,t.data_keys,e.initWithData);else if(t.data_json)e.initWithData(e.convertJsonToData(t.data_json,t.data_keys));else if(t.data_rows)e.initWithData(e.convertRowsToData(t.data_rows));else{if(!t.data_columns)throw Error("url or json or rows or columns is required.");e.initWithData(e.convertColumnsToData(t.data_columns))}},m.initParams=function(){var e=this,t=e.d3,n=e.config;e.clipId="c3-"+ +new Date+"-clip",e.clipIdForXAxis=e.clipId+"-xaxis",e.clipIdForYAxis=e.clipId+"-yaxis",e.clipIdForGrid=e.clipId+"-grid",e.clipIdForSubchart=e.clipId+"-subchart",e.clipPath=e.getClipPath(e.clipId),e.clipPathForXAxis=e.getClipPath(e.clipIdForXAxis),e.clipPathForYAxis=e.getClipPath(e.clipIdForYAxis),e.clipPathForGrid=e.getClipPath(e.clipIdForGrid),e.clipPathForSubchart=e.getClipPath(e.clipIdForSubchart),e.dragStart=null,e.dragging=!1,e.flowing=!1,e.cancelClick=!1,e.mouseover=!1,e.transiting=!1,e.color=e.generateColor(),e.levelColor=e.generateLevelColor(),e.dataTimeFormat=n.data_xLocaltime?t.time.format:t.time.format.utc,e.axisTimeFormat=n.axis_x_localtime?t.time.format:t.time.format.utc,e.defaultAxisTimeFormat=e.axisTimeFormat.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%-m/%-d",function(e){return e.getDay()&&1!==e.getDate()}],["%-m/%-d",function(e){return 1!==e.getDate()}],["%-m/%-d",function(e){return e.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),e.hiddenTargetIds=[],e.hiddenLegendIds=[],e.focusedTargetIds=[],e.defocusedTargetIds=[],e.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",e.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",e.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",e.subXOrient=n.axis_rotated?"left":"bottom",e.isLegendRight="right"===n.legend_position,e.isLegendInset="inset"===n.legend_position,e.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,e.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,e.legendStep=0,e.legendItemWidth=0,e.legendItemHeight=0,e.currentMaxTickWidths={x:0,y:0,y2:0},e.rotated_padding_left=30,e.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,e.rotated_padding_top=5,e.withoutFadeIn={},e.intervalForObserveInserted=void 0,e.axes.subx=t.selectAll([])},m.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},m.initWithData=function(e){var t,n,i=this,r=i.d3,o=i.config,a=!0;i.axis=new p(i),i.initPie&&i.initPie(),i.initBrush&&i.initBrush(),i.initZoom&&i.initZoom(),o.bindto?"function"==typeof o.bindto.node?i.selectChart=o.bindto:i.selectChart=r.select(o.bindto):i.selectChart=r.selectAll([]),i.selectChart.empty()&&(i.selectChart=r.select(document.createElement("div")).style("opacity",0),i.observeInserted(i.selectChart),a=!1),i.selectChart.html("").classed("c3",!0),i.data.xs={},i.data.targets=i.convertDataToTargets(e),o.data_filter&&(i.data.targets=i.data.targets.filter(o.data_filter)),o.data_hide&&i.addHiddenTargetIds(!0===o.data_hide?i.mapToIds(i.data.targets):o.data_hide),o.legend_hide&&i.addHiddenLegendIds(!0===o.legend_hide?i.mapToIds(i.data.targets):o.legend_hide),i.updateSizes(),i.updateScales(),i.x.domain(r.extent(i.getXDomain(i.data.targets))),i.y.domain(i.getYDomain(i.data.targets,"y")),i.y2.domain(i.getYDomain(i.data.targets,"y2")),i.subX.domain(i.x.domain()),i.subY.domain(i.y.domain()),i.subY2.domain(i.y2.domain()),i.orgXDomain=i.x.domain(),i.brush&&i.brush.scale(i.subX),o.zoom_enabled&&i.zoom.scale(i.x),i.svg=i.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return o.onmouseover.call(i)}).on("mouseleave",function(){return o.onmouseout.call(i)}),i.config.svg_classname&&i.svg.attr("class",i.config.svg_classname),t=i.svg.append("defs"),i.clipChart=i.appendClip(t,i.clipId),i.clipXAxis=i.appendClip(t,i.clipIdForXAxis),i.clipYAxis=i.appendClip(t,i.clipIdForYAxis),i.clipGrid=i.appendClip(t,i.clipIdForGrid),i.clipSubchart=i.appendClip(t,i.clipIdForSubchart),i.updateSvgSize(),n=i.main=i.svg.append("g").attr("transform",i.getTranslate("main")),i.initSubchart&&i.initSubchart(),i.initTooltip&&i.initTooltip(),i.initLegend&&i.initLegend(),i.initTitle&&i.initTitle(),n.append("text").attr("class",H.text+" "+H.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),i.initRegion(),i.initGrid(),n.append("g").attr("clip-path",i.clipPath).attr("class",H.chart),o.grid_lines_front&&i.initGridLines(),i.initEventRect(),i.initChartElements(),n.insert("rect",o.zoom_privileged?null:"g."+H.regions).attr("class",H.zoomRect).attr("width",i.width).attr("height",i.height).style("opacity",0).on("dblclick.zoom",null),o.axis_x_extent&&i.brush.extent(i.getDefaultExtent()),i.axis.init(),i.updateTargets(i.data.targets),a&&(i.updateDimension(),i.config.oninit.call(i),i.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),i.bindResize(),i.api.element=i.selectChart.node()},m.smoothLines=function(e,t){var o=this;"grid"===t&&e.each(function(){var e=o.d3.select(this),t=e.attr("x1"),n=e.attr("x2"),i=e.attr("y1"),r=e.attr("y2");e.attr({x1:Math.ceil(t),x2:Math.ceil(n),y1:Math.ceil(i),y2:Math.ceil(r)})})},m.updateSizes=function(){var e=this,t=e.config,n=e.legend?e.getLegendHeight():0,i=e.legend?e.getLegendWidth():0,r=e.isLegendRight||e.isLegendInset?0:n,o=e.hasArcType(),a=t.axis_rotated||o?0:e.getHorizontalAxisHeight("x"),s=t.subchart_show&&!o?t.subchart_size_height+a:0;e.currentWidth=e.getCurrentWidth(),e.currentHeight=e.getCurrentHeight(),e.margin=t.axis_rotated?{top:e.getHorizontalAxisHeight("y2")+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:e.getHorizontalAxisHeight("y")+r+e.getCurrentPaddingBottom(),left:s+(o?0:e.getCurrentPaddingLeft())}:{top:4+e.getCurrentPaddingTop(),right:o?0:e.getCurrentPaddingRight(),bottom:a+s+r+e.getCurrentPaddingBottom(),left:o?0:e.getCurrentPaddingLeft()},e.margin2=t.axis_rotated?{top:e.margin.top,right:NaN,bottom:20+r,left:e.rotated_padding_left}:{top:e.currentHeight-s-r,right:NaN,bottom:a+r,left:e.margin.left},e.margin3={top:0,right:NaN,bottom:0,left:0},e.updateSizeForLegend&&e.updateSizeForLegend(n,i),e.width=e.currentWidth-e.margin.left-e.margin.right,e.height=e.currentHeight-e.margin.top-e.margin.bottom,e.width<0&&(e.width=0),e.height<0&&(e.height=0),e.width2=t.axis_rotated?e.margin.left-e.rotated_padding_left-e.rotated_padding_right:e.width,e.height2=t.axis_rotated?e.height:e.currentHeight-e.margin2.top-e.margin2.bottom,e.width2<0&&(e.width2=0),e.height2<0&&(e.height2=0),e.arcWidth=e.width-(e.isLegendRight?i+10:0),e.arcHeight=e.height-(e.isLegendRight?0:10),e.hasType("gauge")&&!t.gauge_fullCircle&&(e.arcHeight+=e.height-e.getGaugeLabelHeight()),e.updateRadius&&e.updateRadius(),e.isLegendRight&&o&&(e.margin3.left=e.arcWidth/2+1.1*e.radiusExpanded)},m.updateTargets=function(e){this.updateTargetsForText(e),this.updateTargetsForBar(e),this.updateTargetsForLine(e),this.hasArcType()&&this.updateTargetsForArc&&this.updateTargetsForArc(e),this.updateTargetsForSubchart&&this.updateTargetsForSubchart(e),this.showTargets()},m.showTargets=function(){var t=this;t.svg.selectAll("."+H.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},m.redraw=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p,f,g,m,v,y,b,w,x,C,S,k,_,T,D,A,E,I,P=this,$=P.main,M=P.d3,O=P.config,N=P.getShapeIndices(P.isAreaType),L=P.getShapeIndices(P.isBarType),j=P.getShapeIndices(P.isLineType),R=P.hasArcType(),F=P.filterTargetsToShow(P.data.targets),q=P.xv.bind(P);if(n=B(e=e||{},"withY",!0),i=B(e,"withSubchart",!0),r=B(e,"withTransition",!0),s=B(e,"withTransform",!1),l=B(e,"withUpdateXDomain",!1),c=B(e,"withUpdateOrgXDomain",!1),u=B(e,"withTrimXDomain",!0),f=B(e,"withUpdateXAxis",l),d=B(e,"withLegend",!1),h=B(e,"withEventRect",!0),p=B(e,"withDimension",!0),o=B(e,"withTransitionForExit",r),a=B(e,"withTransitionForAxis",r),w=r?O.transition_duration:0,x=o?w:0,C=a?w:0,t=t||P.axis.generateTransitions(C),d&&O.legend_show?P.updateLegend(P.mapToIds(P.data.targets),e,t):p&&P.updateDimension(!0),P.isCategorized()&&0===F.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),F.length?(P.updateXDomain(F,l,c,u),O.axis_x_tick_values||(_=P.axis.updateXAxisTickValues(F))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),O.zoom_rescale&&!e.flow&&(A=P.x.orgDomain()),P.y.domain(P.getYDomain(F,"y",A)),P.y2.domain(P.getYDomain(F,"y2",A)),!O.axis_y_tick_values&&O.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),O.axis_y_tick_count)),!O.axis_y2_tick_values&&O.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),O.axis_y2_tick_count)),P.axis.redraw(t,R),P.axis.updateLabels(r),(l||f)&&F.length)if(O.axis_x_tick_culling&&_){for(T=1;T<_.length;T++)if(_.length/T<O.axis_x_tick_culling_max){D=T;break}P.svg.selectAll("."+H.axisX+" .tick text").each(function(e){var t=_.indexOf(e);0<=t&&M.select(this).style("display",t%D?"none":"block")})}else P.svg.selectAll("."+H.axisX+" .tick text").style("display","block");g=P.generateDrawArea?P.generateDrawArea(N,!1):void 0,m=P.generateDrawBar?P.generateDrawBar(L):void 0,v=P.generateDrawLine?P.generateDrawLine(j,!1):void 0,y=P.generateXYForText(N,L,j,!0),b=P.generateXYForText(N,L,j,!1),n&&(P.subY.domain(P.getYDomain(F,"y")),P.subY2.domain(P.getYDomain(F,"y2"))),P.updateXgridFocus(),$.select("text."+H.text+"."+H.empty).attr("x",P.width/2).attr("y",P.height/2).text(O.data_empty_label_text).transition().style("opacity",F.length?0:1),P.updateGrid(w),P.updateRegion(w),P.updateBar(x),P.updateLine(x),P.updateArea(x),P.updateCircle(),P.hasDataLabel()&&P.updateText(x),P.redrawTitle&&P.redrawTitle(),P.redrawArc&&P.redrawArc(w,x,s),P.redrawSubchart&&P.redrawSubchart(i,t,w,x,N,L,j),$.selectAll("."+H.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),O.interaction_enabled&&!e.flow&&h&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),E=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),I=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),e.flow&&(k=P.generateFlow({targets:F,flow:e.flow,duration:e.flow.duration,drawBar:m,drawLine:v,drawArea:g,cx:E,cy:I,xv:q,xForText:y,yForText:b})),(w||k)&&P.isTabVisible()?M.transition().duration(w).each(function(){var t=[];[P.redrawBar(m,!0),P.redrawLine(v,!0),P.redrawArea(g,!0),P.redrawCircle(E,I,!0),P.redrawText(y,b,e.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(e){e.forEach(function(e){t.push(e)})}),S=P.generateWait(),t.forEach(function(e){S.add(e)})}).call(S,function(){k&&k(),O.onrendered&&O.onrendered.call(P)}):(P.redrawBar(m),P.redrawLine(v),P.redrawArea(g),P.redrawCircle(E,I),P.redrawText(y,b,e.flow),P.redrawRegion(),P.redrawGrid(),O.onrendered&&O.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(e){P.withoutFadeIn[e]=!0})},m.updateAndRedraw=function(e){var t,n=this.config;(e=e||{}).withTransition=B(e,"withTransition",!0),e.withTransform=B(e,"withTransform",!1),e.withLegend=B(e,"withLegend",!1),e.withUpdateXDomain=!0,e.withUpdateOrgXDomain=!0,e.withTransitionForExit=!1,e.withTransitionForTransform=B(e,"withTransitionForTransform",e.withTransition),this.updateSizes(),e.withLegend&&n.legend_show||(t=this.axis.generateTransitions(e.withTransitionForAxis?n.transition_duration:0),this.updateScales(),this.updateSvgSize(),this.transformAll(e.withTransitionForTransform,t)),this.redraw(e,t)},m.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},m.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},m.isCategorized=function(){return 0<=this.config.axis_x_type.indexOf("categor")},m.isCustomX=function(){var e=this.config;return!this.isTimeSeries()&&(e.data_x||D(e.data_xs))},m.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},m.getTranslate=function(e){var t,n,i=this,r=i.config;return"main"===e?(t=c(i.margin.left),n=c(i.margin.top)):"context"===e?(t=c(i.margin2.left),n=c(i.margin2.top)):"legend"===e?(t=i.margin3.left,n=i.margin3.top):"x"===e?(t=0,n=r.axis_rotated?0:i.height):"y"===e?(t=0,n=r.axis_rotated?i.height:0):"y2"===e?(t=r.axis_rotated?0:i.width,n=r.axis_rotated?1:0):"subx"===e?(t=0,n=r.axis_rotated?0:i.height2):"arc"===e&&(t=i.arcWidth/2,n=i.arcHeight/2-(i.hasType("gauge")?6:0)),"translate("+t+","+n+")"},m.initialOpacity=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?1:0},m.initialOpacityForCircle=function(e){return null!==e.value&&this.withoutFadeIn[e.id]?this.opacityForCircle(e):0},m.opacityForCircle=function(e){var t=(h(this.config.point_show)?this.config.point_show(e):this.config.point_show)?1:0;return T(e.value)?this.isScatterType(e)?.5:t:0},m.opacityForText=function(){return this.hasDataLabel()?1:0},m.xx=function(e){return e?this.x(e.x):null},m.xv=function(e){var t=e.value;return this.isTimeSeries()?t=this.parseDate(e.value):this.isCategorized()&&"string"==typeof e.value&&(t=this.config.axis_x_categories.indexOf(e.value)),Math.ceil(this.x(t))},m.yv=function(e){var t=e.axis&&"y2"===e.axis?this.y2:this.y;return Math.ceil(t(e.value))},m.subxx=function(e){return e?this.subX(e.x):null},m.transformMain=function(e,t){var n,i,r,o=this;t&&t.axisX?n=t.axisX:(n=o.main.select("."+H.axisX),e&&(n=n.transition())),t&&t.axisY?i=t.axisY:(i=o.main.select("."+H.axisY),e&&(i=i.transition())),t&&t.axisY2?r=t.axisY2:(r=o.main.select("."+H.axisY2),e&&(r=r.transition())),(e?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),i.attr("transform",o.getTranslate("y")),r.attr("transform",o.getTranslate("y2")),o.main.select("."+H.chartArcs).attr("transform",o.getTranslate("arc"))},m.transformAll=function(e,t){this.transformMain(e,t),this.config.subchart_show&&this.transformContext(e,t),this.legend&&this.transformLegend(e)},m.updateSvgSize=function(){var e=this,t=e.svg.select(".c3-brush .background");e.svg.attr("width",e.currentWidth).attr("height",e.currentHeight),e.svg.selectAll(["#"+e.clipId,"#"+e.clipIdForGrid]).select("rect").attr("width",e.width).attr("height",e.height),e.svg.select("#"+e.clipIdForXAxis).select("rect").attr("x",e.getXAxisClipX.bind(e)).attr("y",e.getXAxisClipY.bind(e)).attr("width",e.getXAxisClipWidth.bind(e)).attr("height",e.getXAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForYAxis).select("rect").attr("x",e.getYAxisClipX.bind(e)).attr("y",e.getYAxisClipY.bind(e)).attr("width",e.getYAxisClipWidth.bind(e)).attr("height",e.getYAxisClipHeight.bind(e)),e.svg.select("#"+e.clipIdForSubchart).select("rect").attr("width",e.width).attr("height",t.size()?t.attr("height"):0),e.svg.select("."+H.zoomRect).attr("width",e.width).attr("height",e.height),e.selectChart.style("max-height",e.currentHeight+"px")},m.updateDimension=function(e){var t=this;e||(t.config.axis_rotated?(t.axes.x.call(t.xAxis),t.axes.subx.call(t.subXAxis)):(t.axes.y.call(t.yAxis),t.axes.y2.call(t.y2Axis))),t.updateSizes(),t.updateScales(),t.updateSvgSize(),t.transformAll(!1)},m.observeInserted=function(t){var n,i=this;"undefined"!=typeof MutationObserver?(n=new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.previousSibling&&(n.disconnect(),i.intervalForObserveInserted=window.setInterval(function(){t.node().parentNode&&(window.clearInterval(i.intervalForObserveInserted),i.updateDimension(),i.brush&&i.brush.update(),i.config.oninit.call(i),i.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))},10))})})).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},m.bindResize=function(){var e=this,t=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){t.onresize.call(e)}),t.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&window.clearTimeout(e.resizeTimeout),e.resizeTimeout=window.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){t.onresized.call(e)}),e.resizeIfElementDisplayed=function(){null!=e.api&&e.api.element.offsetParent&&e.resizeFunction()},window.attachEvent)window.attachEvent("onresize",e.resizeIfElementDisplayed);else if(window.addEventListener)window.addEventListener("resize",e.resizeIfElementDisplayed,!1);else{var n=window.onresize;n?n.add&&n.remove||(n=e.generateResize()).add(window.onresize):n=e.generateResize(),n.add(e.resizeFunction),window.onresize=function(){e.api.element.offsetParent&&n()}}},m.generateResize=function(){var n=[];function e(){n.forEach(function(e){e()})}return e.add=function(e){n.push(e)},e.remove=function(e){for(var t=0;t<n.length;t++)if(n[t]===e){n.splice(t,1);break}},e},m.endall=function(e,t){var n=0;e.each(function(){++n}).each("end",function(){--n||t.apply(this,arguments)})},m.generateWait=function(){var r=[],e=function(e,n){var i=setInterval(function(){var t=0;r.forEach(function(e){if(e.empty())t+=1;else try{e.transition()}catch(e){t+=1}}),t===r.length&&(clearInterval(i),n&&n())},10)};return e.add=function(e){r.push(e)},e},m.parseDate=function(e){var t;return e instanceof Date?t=e:"string"==typeof e?t=this.dataTimeFormat(this.config.data_xFormat).parse(e):"object"===(void 0===e?"undefined":s(e))?t=new Date(+e):"number"!=typeof e||isNaN(e)||(t=new Date(+e)),t&&!isNaN(+t)||window.console.error("Failed to parse x '"+e+"' to Date object"),t},m.isTabVisible=function(){var e;return void 0!==document.hidden?e="hidden":void 0!==document.mozHidden?e="mozHidden":void 0!==document.msHidden?e="msHidden":void 0!==document.webkitHidden&&(e="webkitHidden"),!document[e]},m.isValue=T,m.isFunction=h,m.isString=l,m.isUndefined=C,m.isDefined=N,m.ceil10=n,m.asHalfPixel=c,m.diffDomain=L,m.isEmpty=d,m.notEmpty=D,m.notEmpty=D,m.getOption=B,m.hasValue=i,m.sanitise=g,m.getPathBox=y,m.CLASS=H,Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),"SVGPathSeg"in window||(window.SVGPathSeg=function(e,t,n){this.pathSegType=e,this.pathSegTypeAsLetter=t,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",e)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",e),this._x=t,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",e),this._x=t,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",e),this._x=t,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",e),this._x=t,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(e,t,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",e),this._x=t,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(e,t,n,i,r,o,a){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",e),this._x=t,this._y=n,this._x1=i,this._y1=r,this._x2=o,this._y2=a},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(e,t,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",e),this._x=t,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(e,t,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",e),this._x=t,this._y=n,this._x1=i,this._y1=r},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(e){this._x1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(e){this._y1=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(e,t,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",e),this._x=t,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(e,t,n,i,r,o,a,s){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",e),this._x=t,this._y=n,this._r1=i,this._r2=r,this._angle=o,this._largeArcFlag=a,this._sweepFlag=s},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(e){this._r1=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(e){this._r2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(e){this._largeArcFlag=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(e){this._sweepFlag=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",e),this._x=t},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",e),this._x=t},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",e),this._y=t},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(e,t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",e),this._y=t},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",e),this._x=t,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(e,t,n,i,r){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",e),this._x=t,this._y=n,this._x2=i,this._y2=r},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(e){this._x2=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(e){this._y2=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(e,t,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",e),this._x=t,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(e){this._x=e,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(e){this._y=e,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(e,t){return new window.SVGPathSegMovetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(e,t){return new window.SVGPathSegMovetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(e,t){return new window.SVGPathSegLinetoAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(e,t){return new window.SVGPathSegLinetoRel(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(e,t,n,i,r,o){return new window.SVGPathSegCurvetoCubicAbs(void 0,e,t,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(e,t,n,i,r,o){return new window.SVGPathSegCurvetoCubicRel(void 0,e,t,n,i,r,o)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(e,t,n,i){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,e,t,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(e,t,n,i){return new window.SVGPathSegCurvetoQuadraticRel(void 0,e,t,n,i)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(e,t,n,i,r,o,a){return new window.SVGPathSegArcAbs(void 0,e,t,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(e,t,n,i,r,o,a){return new window.SVGPathSegArcRel(void 0,e,t,n,i,r,o,a)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(e){return new window.SVGPathSegLinetoHorizontalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(e){return new window.SVGPathSegLinetoHorizontalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(e){return new window.SVGPathSegLinetoVerticalAbs(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(e){return new window.SVGPathSegLinetoVerticalRel(void 0,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(e,t,n,i){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,e,t,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(e,t,n,i){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,e,t,n,i)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,e,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(e,t){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,e,t)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(e){if(void 0===e||!isFinite(e))throw"Invalid arguments.";var t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttribute("d",this.getAttribute("d"));var n=t.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(t.pathSegList.removeItem(n),e>t.getTotalLength())break;n--}while(0<n);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(e){this._pathElement=e,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(e){if(this._pathElement){var t=!1;e.forEach(function(e){"d"==e.attributeName&&(t=!0)}),t&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(e){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach(function(e){e._owningPathSegList=null}),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(e){return this._checkPathSynchronizedToList(),this._list=[e],(e._owningPathSegList=this)._writeListToPath(),e},window.SVGPathSegList.prototype._checkValidIndex=function(e){if(isNaN(e)||e<0||e>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(e){return this._checkPathSynchronizedToList(),this._checkValidIndex(e),this._list[e]},window.SVGPathSegList.prototype.insertItemBefore=function(e,t){return this._checkPathSynchronizedToList(),t>this.numberOfItems&&(t=this.numberOfItems),e._owningPathSegList&&(e=e.clone()),this._list.splice(t,0,e),(e._owningPathSegList=this)._writeListToPath(),e},window.SVGPathSegList.prototype.replaceItem=function(e,t){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._checkValidIndex(t),((this._list[t]=e)._owningPathSegList=this)._writeListToPath(),e},window.SVGPathSegList.prototype.removeItem=function(e){this._checkPathSynchronizedToList(),this._checkValidIndex(e);var t=this._list[e];return this._list.splice(e,1),this._writeListToPath(),t},window.SVGPathSegList.prototype.appendItem=function(e){return this._checkPathSynchronizedToList(),e._owningPathSegList&&(e=e.clone()),this._list.push(e),(e._owningPathSegList=this)._writeListToPath(),e},window.SVGPathSegList._pathSegArrayAsString=function(e){var t="",n=!0;return e.forEach(function(e){n?(n=!1,t+=e._asPathString()):t+=" "+e._asPathString()}),t},window.SVGPathSegList.prototype._parsePath=function(e){if(!e||0==e.length)return[];var i=this,t=function(){this.pathSegList=[]};t.prototype.appendSegment=function(e){this.pathSegList.push(e)};var n=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};n.prototype._isCurrentSpace=function(){var e=this._string[this._currentIndex];return e<=" "&&(" "==e||"\n"==e||"\t"==e||"\r"==e||"\f"==e)},n.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},n.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},n.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},n.prototype.peekSegmentType=function(){var e=this._string[this._currentIndex];return this._pathSegTypeFromChar(e)},n.prototype._pathSegTypeFromChar=function(e){switch(e){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},n.prototype._nextCommandHelper=function(e,t){return("+"==e||"-"==e||"."==e||"0"<=e&&e<="9")&&t!=window.SVGPathSeg.PATHSEG_CLOSEPATH?t==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:t==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:t:window.SVGPathSeg.PATHSEG_UNKNOWN},n.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return e==window.SVGPathSeg.PATHSEG_MOVETO_ABS||e==window.SVGPathSeg.PATHSEG_MOVETO_REL},n.prototype._parseNumber=function(){var e=0,t=0,n=1,i=0,r=1,o=1,a=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,r=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))&&"."!=this._string.charAt(this._currentIndex))){for(var s=this._currentIndex;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=s)for(var l=this._currentIndex-1,c=1;s<=l;)t+=c*(this._string.charAt(l--)-"0"),c*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)n*=10,i+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=a&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||"9"<this._string.charAt(this._currentIndex))return;for(;this._currentIndex<this._endIndex&&"0"<=this._string.charAt(this._currentIndex)&&this._string.charAt(this._currentIndex)<="9";)e*=10,e+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var u=t+i;if(u*=r,e&&(u*=Math.pow(10,o*e)),a!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),u}},n.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var e=!1,t=this._string.charAt(this._currentIndex++);if("0"==t)e=!1;else{if("1"!=t)return;e=!0}return this._skipOptionalSpacesOrDelimiter(),e}},n.prototype.parseSegment=function(){var e=this._string[this._currentIndex],t=this._pathSegTypeFromChar(e);if(t==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((t=this._nextCommandHelper(e,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=t){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(i,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(i);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(i,n.x,n.y,n.x1,n.y1,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return n={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(i,n.x,n.y,n.x2,n.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(i,n.x,n.y,n.x1,n.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(i,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return n={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(i,n.x,n.y,n.x1,n.y1,n.arcAngle,n.arcLarge,n.arcSweep);default:throw"Unknown path seg type."}};var r=new t,o=new n(e);if(!o.initialCommandIsMoveTo())return[];for(;o.hasMoreData();){var a=o.parseSegment();if(!a)return[];r.appendSegment(a)}return r.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))}),f.axis=function(){},f.axis.labels=function(t){var n=this.internal;arguments.length&&(Object.keys(t).forEach(function(e){n.axis.setLabelText(e,t[e])}),n.axis.updateLabels())},f.axis.max=function(e){var t=this.internal,n=t.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"===(void 0===e?"undefined":s(e))?(T(e.x)&&(n.axis_x_max=e.x),T(e.y)&&(n.axis_y_max=e.y),T(e.y2)&&(n.axis_y2_max=e.y2)):n.axis_y_max=n.axis_y2_max=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},f.axis.min=function(e){var t=this.internal,n=t.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"===(void 0===e?"undefined":s(e))?(T(e.x)&&(n.axis_x_min=e.x),T(e.y)&&(n.axis_y_min=e.y),T(e.y2)&&(n.axis_y2_min=e.y2)):n.axis_y_min=n.axis_y2_min=e,t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},f.axis.range=function(e){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};N(e.max)&&this.axis.max(e.max),N(e.min)&&this.axis.min(e.min)},f.category=function(e,t){var n=this.internal,i=n.config;return 1<arguments.length&&(i.axis_x_categories[e]=t,n.redraw()),i.axis_x_categories[e]},f.categories=function(e){var t=this.internal,n=t.config;return arguments.length&&(n.axis_x_categories=e,t.redraw()),n.axis_x_categories},f.resize=function(e){var t=this.internal.config;t.size_width=e?e.width:null,t.size_height=e?e.height:null,this.flush()},f.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},f.destroy=function(){var t=this.internal;if(window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.detachEvent)window.detachEvent("onresize",t.resizeIfElementDisplayed);else if(window.removeEventListener)window.removeEventListener("resize",t.resizeIfElementDisplayed);else{var e=window.onresize;e&&e.add&&e.remove&&e.remove(t.resizeFunction)}return t.resizeFunction.remove(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach(function(e){t[e]=null}),null},f.color=function(e){return this.internal.color(e)},f.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter(function(e){return 0<=[].concat(t).indexOf(e.id)})},f.data.shown=function(e){return this.internal.filterTargetsToShow(this.data(e))},f.data.values=function(e){var t,n=null;return e&&(n=(t=this.data(e))[0]?t[0].values.map(function(e){return e.value}):null),n},f.data.names=function(e){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",e)},f.data.colors=function(e){return this.internal.updateDataAttributes("colors",e)},f.data.axes=function(e){return this.internal.updateDataAttributes("axes",e)},f.flow=function(e){var r,t,n,i,o,a,s,l=this.internal,c=[],u=l.getMaxDataCount(),d=0,h=0;if(e.json)t=l.convertJsonToData(e.json,e.keys);else if(e.rows)t=l.convertRowsToData(e.rows);else{if(!e.columns)return;t=l.convertColumnsToData(e.columns)}r=l.convertDataToTargets(t,!0),l.data.targets.forEach(function(e){var t,n,i=!1;for(t=0;t<r.length;t++)if(e.id===r[t].id){for(i=!0,e.values[e.values.length-1]&&(h=e.values[e.values.length-1].index+1),d=r[t].values.length,n=0;n<d;n++)r[t].values[n].index=h+n,l.isTimeSeries()||(r[t].values[n].x=h+n);e.values=e.values.concat(r[t].values),r.splice(t,1);break}i||c.push(e.id)}),l.data.targets.forEach(function(e){var t,n;for(t=0;t<c.length;t++)if(e.id===c[t])for(h=e.values[e.values.length-1].index+1,n=0;n<d;n++)e.values.push({id:e.id,index:h+n,x:l.isTimeSeries()?l.getOtherTargetX(h+n):h+n,value:null})}),l.data.targets.length&&r.forEach(function(e){var t,n=[];for(t=l.data.targets[0].values[0].index;t<h;t++)n.push({id:e.id,index:t,x:l.isTimeSeries()?l.getOtherTargetX(t):t,value:null});e.values.forEach(function(e){e.index+=h,l.isTimeSeries()||(e.x+=h)}),e.values=n.concat(e.values)}),l.data.targets=l.data.targets.concat(r),l.getMaxDataCount(),o=(i=l.data.targets[0]).values[0],N(e.to)?(d=0,s=l.isTimeSeries()?l.parseDate(e.to):e.to,i.values.forEach(function(e){e.x<s&&d++})):N(e.length)&&(d=e.length),u?1===u&&l.isTimeSeries()&&(a=(i.values[i.values.length-1].x-o.x)/2,n=[new Date(+o.x-a),new Date(+o.x+a)],l.updateXDomain(null,!0,!0,!1,n)):(a=l.isTimeSeries()?1<i.values.length?i.values[i.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,n=[o.x-a,o.x],l.updateXDomain(null,!0,!0,!1,n)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:d,duration:T(e.duration)?e.duration:l.config.transition_duration,done:e.done,orgDataCount:u},withLegend:!0,withTransition:1<u,withTrimXDomain:!1,withUpdateXAxis:!0})},m.generateFlow=function(P){var $=this,M=$.config,O=$.d3;return function(){var e,t,n,i,r=P.targets,o=P.flow,a=P.drawBar,s=P.drawLine,l=P.drawArea,c=P.cx,u=P.cy,d=P.xv,h=P.xForText,p=P.yForText,f=P.duration,g=o.index,m=o.length,v=$.getValueOnIndex($.data.targets[0].values,g),y=$.getValueOnIndex($.data.targets[0].values,g+m),b=$.x.domain(),w=o.duration||f,x=o.done||function(){},C=$.generateWait(),S=$.xgrid||O.selectAll([]),k=$.xgridLines||O.selectAll([]),_=$.mainRegion||O.selectAll([]),T=$.mainText||O.selectAll([]),D=$.mainBar||O.selectAll([]),A=$.mainLine||O.selectAll([]),E=$.mainArea||O.selectAll([]),I=$.mainCircle||O.selectAll([]);$.flowing=!0,$.data.targets.forEach(function(e){e.values.splice(0,m)}),i=$.updateXDomain(r,!0,!0),$.updateXGrid&&$.updateXGrid(!0),o.orgDataCount?e=1===o.orgDataCount||(v&&v.x)===(y&&y.x)?$.x(b[0])-$.x(i[0]):$.isTimeSeries()?$.x(b[0])-$.x(i[0]):$.x(v.x)-$.x(y.x):1!==$.data.targets[0].values.length?e=$.x(b[0])-$.x(i[0]):$.isTimeSeries()?(v=$.getValueOnIndex($.data.targets[0].values,0),y=$.getValueOnIndex($.data.targets[0].values,$.data.targets[0].values.length-1),e=$.x(v.x)-$.x(y.x)):e=L(i)/2,t=L(b)/L(i),n="translate("+e+",0) scale("+t+",1)",$.hideXGridFocus(),O.transition().ease("linear").duration(w).each(function(){C.add($.axes.x.transition().call($.xAxis)),C.add(D.transition().attr("transform",n)),C.add(A.transition().attr("transform",n)),C.add(E.transition().attr("transform",n)),C.add(I.transition().attr("transform",n)),C.add(T.transition().attr("transform",n)),C.add(_.filter($.isRegionOnX).transition().attr("transform",n)),C.add(S.transition().attr("transform",n)),C.add(k.transition().attr("transform",n))}).call(C,function(){var e,t=[],n=[],i=[];if(m){for(e=0;e<m;e++)t.push("."+H.shape+"-"+(g+e)),n.push("."+H.text+"-"+(g+e)),i.push("."+H.eventRect+"-"+(g+e));$.svg.selectAll("."+H.shapes).selectAll(t).remove(),$.svg.selectAll("."+H.texts).selectAll(n).remove(),$.svg.selectAll("."+H.eventRects).selectAll(i).remove(),$.svg.select("."+H.xgrid).remove()}S.attr("transform",null).attr($.xgridAttr),k.attr("transform",null),k.select("line").attr("x1",M.axis_rotated?0:d).attr("x2",M.axis_rotated?$.width:d),k.select("text").attr("x",M.axis_rotated?$.width:0).attr("y",d),D.attr("transform",null).attr("d",a),A.attr("transform",null).attr("d",s),E.attr("transform",null).attr("d",l),I.attr("transform",null).attr("cx",c).attr("cy",u),T.attr("transform",null).attr("x",h).attr("y",p).style("fill-opacity",$.opacityForText.bind($)),_.attr("transform",null),_.select("rect").filter($.isRegionOnX).attr("x",$.regionX.bind($)).attr("width",$.regionWidth.bind($)),M.interaction_enabled&&$.redrawEventRect(),x(),$.flowing=!1})}},f.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(H.focused,!0).classed(H.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},f.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(H.focused,!1).classed(H.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),e.defocusedTargetIds=t},f.revert=function(e){var t=this.internal;e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e)).classed(H.focused,!1).classed(H.defocused,!1),t.hasArcType()&&t.unexpandArc(e),t.config.legend_show&&(t.showLegend(e.filter(t.isLegendToShow.bind(t))),t.legend.selectAll(t.selectorLegends(e)).filter(function(){return t.d3.select(this).classed(H.legendItemFocused)}).classed(H.legendItemFocused,!1)),t.focusedTargetIds=[],t.defocusedTargetIds=[]},f.xgrids=function(e){var t=this.internal,n=t.config;return e&&(n.grid_x_lines=e,t.redrawWithoutRescale()),n.grid_x_lines},f.xgrids.add=function(e){var t=this.internal;return this.xgrids(t.config.grid_x_lines.concat(e||[]))},f.xgrids.remove=function(e){this.internal.removeGridLines(e,!0)},f.ygrids=function(e){var t=this.internal,n=t.config;return e&&(n.grid_y_lines=e,t.redrawWithoutRescale()),n.grid_y_lines},f.ygrids.add=function(e){var t=this.internal;return this.ygrids(t.config.grid_y_lines.concat(e||[]))},f.ygrids.remove=function(e){this.internal.removeGridLines(e,!1)},f.groups=function(e){var t=this.internal,n=t.config;return C(e)||(n.data_groups=e,t.redraw()),n.data_groups},f.legend=function(){},f.legend.show=function(e){var t=this.internal;t.showLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},f.legend.hide=function(e){var t=this.internal;t.hideLegend(t.mapToTargetIds(e)),t.updateAndRedraw({withLegend:!0})},f.load=function(t){var e=this.internal,n=e.config;t.xs&&e.addXs(t.xs),"names"in t&&f.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?e.load(e.getCaches(t.cacheIds),t.done):"unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t)},f.unload=function(e){var t=this.internal;(e=e||{})instanceof Array?e={ids:e}:"string"==typeof e&&(e={ids:[e]}),t.unload(t.mapToTargetIds(e.ids),function(){t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()})},f.regions=function(e){var t=this.internal,n=t.config;return e&&(n.regions=e,t.redrawWithoutRescale()),n.regions},f.regions.add=function(e){var t=this.internal,n=t.config;return e&&(n.regions=n.regions.concat(e),t.redrawWithoutRescale()),n.regions},f.regions.remove=function(e){var t,n,i,r=this.internal,o=r.config;return e=e||{},t=r.getOption(e,"duration",o.transition_duration),n=r.getOption(e,"classes",[H.region]),i=r.main.select("."+H.regions).selectAll(n.map(function(e){return"."+e})),(t?i.transition().duration(t):i).style("opacity",0).remove(),o.regions=o.regions.filter(function(e){var t=!1;return!e.class||(e.class.split(" ").forEach(function(e){0<=n.indexOf(e)&&(t=!0)}),!t)}),o.regions},f.selected=function(e){var t=this.internal,n=t.d3;return n.merge(t.main.selectAll("."+H.shapes+t.getTargetSelectorSuffix(e)).selectAll("."+H.shape).filter(function(){return n.select(this).classed(H.SELECTED)}).map(function(e){return e.map(function(e){var t=e.__data__;return t.data?t.data:t})}))},f.select=function(l,c,u){var d=this.internal,h=d.d3,p=d.config;p.data_selection_enabled&&d.main.selectAll("."+H.shapes).selectAll("."+H.shape).each(function(e,t){var n=h.select(this),i=e.data?e.data.id:e.id,r=d.getToggle(this,e).bind(d),o=p.data_selection_grouped||!l||0<=l.indexOf(i),a=!c||0<=c.indexOf(t),s=n.classed(H.SELECTED);n.classed(H.line)||n.classed(H.area)||(o&&a?p.data_selection_isselectable(e)&&!s&&r(!0,n.classed(H.SELECTED,!0),e,t):N(u)&&u&&s&&r(!1,n.classed(H.SELECTED,!1),e,t))})},f.unselect=function(l,c){var u=this.internal,d=u.d3,h=u.config;h.data_selection_enabled&&u.main.selectAll("."+H.shapes).selectAll("."+H.shape).each(function(e,t){var n=d.select(this),i=e.data?e.data.id:e.id,r=u.getToggle(this,e).bind(u),o=h.data_selection_grouped||!l||0<=l.indexOf(i),a=!c||0<=c.indexOf(t),s=n.classed(H.SELECTED);n.classed(H.line)||n.classed(H.area)||o&&a&&h.data_selection_isselectable(e)&&s&&r(!1,n.classed(H.SELECTED,!1),e,t)})},f.show=function(e,t){var n,i=this.internal;e=i.mapToTargetIds(e),t=t||{},i.removeHiddenTargetIds(e),(n=i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity",1,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",1)}),t.withLegend&&i.showLegend(e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},f.hide=function(e,t){var n,i=this.internal;e=i.mapToTargetIds(e),t=t||{},i.addHiddenTargetIds(e),(n=i.svg.selectAll(i.selectorTargets(e))).transition().style("opacity",0,"important").call(i.endall,function(){n.style("opacity",null).style("opacity",0)}),t.withLegend&&i.hideLegend(e),i.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},f.toggle=function(e,t){var n=this,i=this.internal;i.mapToTargetIds(e).forEach(function(e){i.isTargetToShow(e)?n.hide(e,t):n.show(e,t)})},f.tooltip=function(){},f.tooltip.show=function(e){var t,n,i=this.internal;e.mouse&&(n=e.mouse),e.data?i.isMultipleX()?(n=[i.x(e.data.x),i.getYScale(e.data.id)(e.data.value)],t=null):t=T(e.data.index)?e.data.index:i.getIndexByX(e.data.x):void 0!==e.x?t=i.getIndexByX(e.x):void 0!==e.index&&(t=e.index),i.dispatchEvent("mouseover",t,n),i.dispatchEvent("mousemove",t,n),i.config.tooltip_onshow.call(i,e.data)},f.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},f.transform=function(e,t){var n=this.internal,i=0<=["pie","donut"].indexOf(e)?{withTransform:!0}:null;n.transformTo(t,e,i)},m.transformTo=function(e,t,n){var i=!this.hasArcType(),r=n||{withTransitionForAxis:i};r.withTransitionForTransform=!1,this.transiting=!1,this.setTargetType(e,t),this.updateTargets(this.data.targets),this.updateAndRedraw(r)},f.x=function(e){var t=this.internal;return arguments.length&&(t.updateTargetX(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},f.xs=function(e){var t=this.internal;return arguments.length&&(t.updateTargetXs(t.data.targets,e),t.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),t.data.xs},f.zoom=function(e){var t=this.internal;return e&&(t.isTimeSeries()&&(e=e.map(function(e){return t.parseDate(e)})),t.brush.extent(e),t.redraw({withUpdateXDomain:!0,withY:t.config.zoom_rescale}),t.config.zoom_onzoom.call(this,t.x.orgDomain())),t.brush.extent()},f.zoom.enable=function(e){var t=this.internal;t.config.zoom_enabled=e,t.updateAndRedraw()},f.unzoom=function(){var e=this.internal;e.brush.clear().update(),e.redraw({withUpdateXDomain:!0})},f.zoom.max=function(e){var t=this.internal,n=t.config,i=t.d3;if(0!==e&&!e)return n.zoom_x_max;n.zoom_x_max=i.max([t.orgXDomain[1],e])},f.zoom.min=function(e){var t=this.internal,n=t.config,i=t.d3;if(0!==e&&!e)return n.zoom_x_min;n.zoom_x_min=i.min([t.orgXDomain[0],e])},f.zoom.range=function(e){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};N(e.max)&&this.domain.max(e.max),N(e.min)&&this.domain.min(e.min)},m.initPie=function(){var e=this.d3;this.pie=e.layout.pie().value(function(e){return e.values.reduce(function(e,t){return e+t.value},0)}),this.pie.sort(this.getOrderFunction()||null)},m.updateRadius=function(){var e=this,t=e.config,n=t.gauge_width||t.donut_width,i=e.filterTargetsToShow(e.data.targets).length*e.config.gauge_arcs_minWidth;e.radiusExpanded=Math.min(e.arcWidth,e.arcHeight)/2*(e.hasType("gauge")?.85:1),e.radius=.95*e.radiusExpanded,e.innerRadiusRatio=n?(e.radius-n)/e.radius:.6,e.innerRadius=e.hasType("donut")||e.hasType("gauge")?e.radius*e.innerRadiusRatio:0,e.gaugeArcWidth=n||(i<=e.radius-e.innerRadius?e.radius-e.innerRadius:i<=e.radius?i:e.radius)},m.updateArc=function(){this.svgArc=this.getSvgArc(),this.svgArcExpanded=this.getSvgArcExpanded(),this.svgArcExpandedSub=this.getSvgArcExpanded(.98)},m.updateAngle=function(t){var e,n,i,r,o=this.config,a=!1,s=0;return o?(this.pie(this.filterTargetsToShow(this.data.targets)).forEach(function(e){a||e.data.id!==t.data.id||(a=!0,(t=e).index=s),s++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),this.isGaugeType(t.data)&&(e=o.gauge_min,n=o.gauge_max,i=Math.PI*(o.gauge_fullCircle?2:1)/(n-e),r=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=o.gauge_startingAngle,t.endAngle=t.startAngle+i*r),a?t:null):null},m.getSvgArc=function(){var i=this,t=i.hasType("gauge"),n=i.gaugeArcWidth/i.filterTargetsToShow(i.data.targets).length,r=i.d3.svg.arc().outerRadius(function(e){return t?i.radius-n*e.index:i.radius}).innerRadius(function(e){return t?i.radius-n*(e.index+1):i.innerRadius}),e=function(e,t){var n;return t?r(e):(n=i.updateAngle(e))?r(n):"M 0 0"};return e.centroid=r.centroid,e},m.getSvgArcExpanded=function(t){t=t||1;var n=this,i=n.hasType("gauge"),r=n.gaugeArcWidth/n.filterTargetsToShow(n.data.targets).length,o=Math.min(n.radiusExpanded*t-n.radius,.8*r-100*(1-t)),a=n.d3.svg.arc().outerRadius(function(e){return i?n.radius-r*e.index+o:n.radiusExpanded*t}).innerRadius(function(e){return i?n.radius-r*(e.index+1):n.innerRadius});return function(e){var t=n.updateAngle(e);return t?a(t):"M 0 0"}},m.getArc=function(e,t,n){return n||this.isArcType(e.data)?this.svgArc(e,t):"M 0 0"},m.transformForArcLabel=function(e){var t,n,i,r,o,a=this,s=a.config,l=a.updateAngle(e),c="",u=a.hasType("gauge");if(l&&!u)t=this.svgArc.centroid(l),n=isNaN(t[0])?0:t[0],i=isNaN(t[1])?0:t[1],r=Math.sqrt(n*n+i*i),c="translate("+n*(o=a.hasType("donut")&&s.donut_label_ratio?h(s.donut_label_ratio)?s.donut_label_ratio(e,a.radius,r):s.donut_label_ratio:a.hasType("pie")&&s.pie_label_ratio?h(s.pie_label_ratio)?s.pie_label_ratio(e,a.radius,r):s.pie_label_ratio:a.radius&&r?(.375<36/a.radius?1.175-36/a.radius:.8)*a.radius/r:0)+","+i*o+")";else if(l&&u&&1<a.filterTargetsToShow(a.data.targets).length){var d=Math.sin(l.endAngle-Math.PI/2);c="translate("+(n=Math.cos(l.endAngle-Math.PI/2)*(a.radiusExpanded+25))+","+(i=d*(a.radiusExpanded+15-Math.abs(10*d))+3)+")"}return c},m.getArcRatio=function(e){var t=this.config,n=Math.PI*(this.hasType("gauge")&&!t.gauge_fullCircle?1:2);return e?(e.endAngle-e.startAngle)/n:null},m.convertToArcData=function(e){return this.addName({id:e.data.id,value:e.value,ratio:this.getArcRatio(e),index:e.index})},m.textForArcLabel=function(e){var t,n,i,r,o;return this.shouldShowArcLabel()?(n=(t=this.updateAngle(e))?t.value:null,i=this.getArcRatio(t),r=e.data.id,this.hasType("gauge")||this.meetsArcLabelThreshold(i)?(o=this.getArcLabelFormat())?o(n,i,r):this.defaultArcValueFormat(n,i):""):""},m.textForGaugeMinMax=function(e,t){var n=this.getGaugeLabelExtents();return n?n(e,t):e},m.expandArc=function(e){var t,n=this;n.transiting?t=window.setInterval(function(){n.transiting||(window.clearInterval(t),0<n.legend.selectAll(".c3-legend-item-focused").size()&&n.expandArc(e))},10):(e=n.mapToTargetIds(e),n.svg.selectAll(n.selectorTargets(e,"."+H.chartArc)).each(function(e){n.shouldExpand(e.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(e.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(e.data.id)).attr("d",n.svgArcExpandedSub).each(function(e){n.isDonutType(e.data)})}))},m.unexpandArc=function(e){var t=this;t.transiting||(e=t.mapToTargetIds(e),t.svg.selectAll(t.selectorTargets(e,"."+H.chartArc)).selectAll("path").transition().duration(function(e){return t.expandDuration(e.data.id)}).attr("d",t.svgArc),t.svg.selectAll("."+H.arc))},m.expandDuration=function(e){var t=this.config;return this.isDonutType(e)?t.donut_expand_duration:this.isGaugeType(e)?t.gauge_expand_duration:this.isPieType(e)?t.pie_expand_duration:50},m.shouldExpand=function(e){var t=this.config;return this.isDonutType(e)&&t.donut_expand||this.isGaugeType(e)&&t.gauge_expand||this.isPieType(e)&&t.pie_expand},m.shouldShowArcLabel=function(){var e=this.config,t=!0;return this.hasType("donut")?t=e.donut_label_show:this.hasType("pie")&&(t=e.pie_label_show),t},m.meetsArcLabelThreshold=function(e){var t=this.config;return(this.hasType("donut")?t.donut_label_threshold:t.pie_label_threshold)<=e},m.getArcLabelFormat=function(){var e=this.config,t=e.pie_label_format;return this.hasType("gauge")?t=e.gauge_label_format:this.hasType("donut")&&(t=e.donut_label_format),t},m.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},m.getArcTitle=function(){return this.hasType("donut")?this.config.donut_title:""},m.updateTargetsForArc=function(e){var t,n=this.main,i=this.classChartArc.bind(this),r=this.classArcs.bind(this),o=this.classFocus.bind(this);(t=n.select("."+H.chartArcs).selectAll("."+H.chartArc).data(this.pie(e)).attr("class",function(e){return i(e)+o(e.data)}).enter().append("g").attr("class",i)).append("g").attr("class",r),t.append("text").attr("dy",this.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},m.initArc=function(){this.arcs=this.main.select("."+H.chart).append("g").attr("class",H.chartArcs).attr("transform",this.getTranslate("arc")),this.arcs.append("text").attr("class",H.chartArcsTitle).style("text-anchor","middle").text(this.getArcTitle())},m.redrawArc=function(e,t,n){var i,r,o,u=this,d=u.d3,a=u.config,s=u.main,l=u.hasType("gauge");if((i=s.selectAll("."+H.arcs).selectAll("."+H.arc).data(u.arcData.bind(u))).enter().append("path").attr("class",u.classArc.bind(u)).style("fill",function(e){return u.color(e.data)}).style("cursor",function(e){return a.interaction_enabled&&a.data_selection_isselectable(e)?"pointer":null}).each(function(e){u.isGaugeType(e.data)&&(e.startAngle=e.endAngle=a.gauge_startingAngle),this._current=e}),l&&((o=s.selectAll("."+H.arcs).selectAll("."+H.arcLabelLine).data(u.arcData.bind(u))).enter().append("rect").attr("class",function(e){return H.arcLabelLine+" "+H.target+" "+H.target+"-"+e.data.id}),1===u.filterTargetsToShow(u.data.targets).length?o.style("display","none"):o.style("fill",function(e){return 0<a.color_pattern.length?u.levelColor(e.data.values[0].value):u.color(e.data)}).style("display",a.gauge_labelLine_show?"":"none").each(function(e){var t=0,n=0,i=0,r="";if(u.hiddenTargetIds.indexOf(e.data.id)<0){var o=u.updateAngle(e),a=u.gaugeArcWidth/u.filterTargetsToShow(u.data.targets).length*(o.index+1),s=o.endAngle-Math.PI/2,l=u.radius-a,c=s-(0===l?0:1/l);t=u.radiusExpanded-u.radius+a,n=Math.cos(c)*l,i=Math.sin(c)*l,r="rotate("+180*s/Math.PI+", "+n+", "+i+")"}d.select(this).attr({x:n,y:i,width:t,height:2,transform:r}).style("stroke-dasharray","0, "+(t+2)+", 0")})),i.attr("transform",function(e){return!u.isGaugeType(e.data)&&n?"scale(0)":""}).on("mouseover",a.interaction_enabled?function(e){var t,n;u.transiting||(t=u.updateAngle(e))&&(n=u.convertToArcData(t),u.expandArc(t.data.id),u.api.focus(t.data.id),u.toggleFocusLegend(t.data.id,!0),u.config.data_onmouseover(n,this))}:null).on("mousemove",a.interaction_enabled?function(e){var t,n=u.updateAngle(e);n&&(t=[u.convertToArcData(n)],u.showTooltip(t,this))}:null).on("mouseout",a.interaction_enabled?function(e){var t,n;u.transiting||(t=u.updateAngle(e))&&(n=u.convertToArcData(t),u.unexpandArc(t.data.id),u.api.revert(),u.revertLegend(),u.hideTooltip(),u.config.data_onmouseout(n,this))}:null).on("click",a.interaction_enabled?function(e,t){var n,i=u.updateAngle(e);i&&(n=u.convertToArcData(i),u.toggleShape&&u.toggleShape(this,n,t),u.config.data_onclick.call(u.api,n,this))}:null).each(function(){u.transiting=!0}).transition().duration(e).attrTween("d",function(n){var i,e=u.updateAngle(n);return e?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),i=d.interpolate(this._current,e),this._current=i(0),function(e){var t=i(e);return t.data=n.data,u.getArc(t,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(e){return u.levelColor?u.levelColor(e.data.values[0].value):u.color(e.data.id)}).call(u.endall,function(){u.transiting=!1}),i.exit().transition().duration(t).style("opacity",0).remove(),s.selectAll("."+H.chartArc).select("text").style("opacity",0).attr("class",function(e){return u.isGaugeType(e.data)?H.gaugeValue:""}).text(u.textForArcLabel.bind(u)).attr("transform",u.transformForArcLabel.bind(u)).style("font-size",function(e){return u.isGaugeType(e.data)&&1===u.filterTargetsToShow(u.data.targets).length?Math.round(u.radius/5)+"px":""}).transition().duration(e).style("opacity",function(e){return u.isTargetToShow(e.data.id)&&u.isArcType(e.data)?1:0}),s.select("."+H.chartArcsTitle).style("opacity",u.hasType("donut")||l?1:0),l){var c=0;(r=u.arcs.select("g."+H.chartArcsBackground).selectAll("path."+H.chartArcsBackground).data(u.data.targets)).enter().append("path"),r.attr("class",function(e,t){return H.chartArcsBackground+" "+H.chartArcsBackground+"-"+t}).attr("d",function(e){if(0<=u.hiddenTargetIds.indexOf(e.id))return"M 0 0";var t={data:[{value:a.gauge_max}],startAngle:a.gauge_startingAngle,endAngle:-1*a.gauge_startingAngle*(a.gauge_fullCircle?Math.PI:1),index:c++};return u.getArc(t,!0,!0)}),r.exit().remove(),u.arcs.select("."+H.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),u.arcs.select("."+H.chartArcsGaugeMin).attr("dx",-1*(u.innerRadius+(u.radius-u.innerRadius)/(a.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(a.gauge_label_show?u.textForGaugeMinMax(a.gauge_min,!1):""),u.arcs.select("."+H.chartArcsGaugeMax).attr("dx",u.innerRadius+(u.radius-u.innerRadius)/(a.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(a.gauge_label_show?u.textForGaugeMinMax(a.gauge_max,!0):"")}},m.initGauge=function(){var e=this.arcs;this.hasType("gauge")&&(e.append("g").attr("class",H.chartArcsBackground),e.append("text").attr("class",H.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",H.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),e.append("text").attr("class",H.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},m.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},m.hasCaches=function(e){for(var t=0;t<e.length;t++)if(!(e[t]in this.cache))return!1;return!0},m.addCache=function(e,t){this.cache[e]=this.cloneTarget(t)},m.getCaches=function(e){var t,n=[];for(t=0;t<e.length;t++)e[t]in this.cache&&n.push(this.cloneTarget(this.cache[e[t]]));return n},m.categoryName=function(e){var t=this.config;return e<t.axis_x_categories.length?t.axis_x_categories[e]:e},m.generateClass=function(e,t){return" "+e+" "+e+this.getTargetSelectorSuffix(t)},m.classText=function(e){return this.generateClass(H.text,e.index)},m.classTexts=function(e){return this.generateClass(H.texts,e.id)},m.classShape=function(e){return this.generateClass(H.shape,e.index)},m.classShapes=function(e){return this.generateClass(H.shapes,e.id)},m.classLine=function(e){return this.classShape(e)+this.generateClass(H.line,e.id)},m.classLines=function(e){return this.classShapes(e)+this.generateClass(H.lines,e.id)},m.classCircle=function(e){return this.classShape(e)+this.generateClass(H.circle,e.index)},m.classCircles=function(e){return this.classShapes(e)+this.generateClass(H.circles,e.id)},m.classBar=function(e){return this.classShape(e)+this.generateClass(H.bar,e.index)},m.classBars=function(e){return this.classShapes(e)+this.generateClass(H.bars,e.id)},m.classArc=function(e){return this.classShape(e.data)+this.generateClass(H.arc,e.data.id)},m.classArcs=function(e){return this.classShapes(e.data)+this.generateClass(H.arcs,e.data.id)},m.classArea=function(e){return this.classShape(e)+this.generateClass(H.area,e.id)},m.classAreas=function(e){return this.classShapes(e)+this.generateClass(H.areas,e.id)},m.classRegion=function(e,t){return this.generateClass(H.region,t)+" "+("class"in e?e.class:"")},m.classEvent=function(e){return this.generateClass(H.eventRect,e.index)},m.classTarget=function(e){var t=this.config.data_classes[e],n="";return t&&(n=" "+H.target+"-"+t),this.generateClass(H.target,e)+n},m.classFocus=function(e){return this.classFocused(e)+this.classDefocused(e)},m.classFocused=function(e){return" "+(0<=this.focusedTargetIds.indexOf(e.id)?H.focused:"")},m.classDefocused=function(e){return" "+(0<=this.defocusedTargetIds.indexOf(e.id)?H.defocused:"")},m.classChartText=function(e){return H.chartText+this.classTarget(e.id)},m.classChartLine=function(e){return H.chartLine+this.classTarget(e.id)},m.classChartBar=function(e){return H.chartBar+this.classTarget(e.id)},m.classChartArc=function(e){return H.chartArc+this.classTarget(e.data.id)},m.getTargetSelectorSuffix=function(e){return e||0===e?("-"+e).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},m.selectorTarget=function(e,t){return(t||"")+"."+H.target+this.getTargetSelectorSuffix(e)},m.selectorTargets=function(e,t){var n=this;return(e=e||[]).length?e.map(function(e){return n.selectorTarget(e,t)}):null},m.selectorLegend=function(e){return"."+H.legendItem+this.getTargetSelectorSuffix(e)},m.selectorLegends=function(e){var t=this;return e&&e.length?e.map(function(e){return t.selectorLegend(e)}):null},m.getClipPath=function(e){return"url("+(0<=window.navigator.appVersion.toLowerCase().indexOf("msie 9.")?"":document.URL.split("#")[0])+"#"+e+")"},m.appendClip=function(e,t){return e.append("clipPath").attr("id",t).append("rect")},m.getAxisClipX=function(e){var t=Math.max(30,this.margin.left);return e?-(1+t):-(t-1)},m.getAxisClipY=function(e){return e?-20:-this.margin.top},m.getXAxisClipX=function(){return this.getAxisClipX(!this.config.axis_rotated)},m.getXAxisClipY=function(){return this.getAxisClipY(!this.config.axis_rotated)},m.getYAxisClipX=function(){return this.config.axis_y_inner?-1:this.getAxisClipX(this.config.axis_rotated)},m.getYAxisClipY=function(){return this.getAxisClipY(this.config.axis_rotated)},m.getAxisClipWidth=function(e){var t=Math.max(30,this.margin.left),n=Math.max(30,this.margin.right);return e?this.width+2+t+n:this.margin.left+20},m.getAxisClipHeight=function(e){return(e?this.margin.bottom:this.margin.top+this.height)+20},m.getXAxisClipWidth=function(){return this.getAxisClipWidth(!this.config.axis_rotated)},m.getXAxisClipHeight=function(){return this.getAxisClipHeight(!this.config.axis_rotated)},m.getYAxisClipWidth=function(){return this.getAxisClipWidth(this.config.axis_rotated)+(this.config.axis_y_inner?20:0)},m.getYAxisClipHeight=function(){return this.getAxisClipHeight(this.config.axis_rotated)},m.generateColor=function(){var e=this.config,t=this.d3,i=e.data_colors,r=D(e.color_pattern)?e.color_pattern:t.scale.category10().range(),o=e.data_color,a=[];return function(e){var t,n=e.id||e.data&&e.data.id||e;return i[n]instanceof Function?t=i[n](e):i[n]?t=i[n]:(a.indexOf(n)<0&&a.push(n),t=r[a.indexOf(n)%r.length],i[n]=t),o instanceof Function?o(t,e):t}},m.generateLevelColor=function(){var e=this.config,i=e.color_pattern,t=e.color_threshold,r="value"===t.unit,o=t.values&&t.values.length?t.values:[],a=t.max||100;return D(e.color_threshold)?function(e){var t,n=i[i.length-1];for(t=0;t<o.length;t++)if((r?e:100*e/a)<o[t]){n=i[t];break}return n}:null},m.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(e){return e},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(e,t,n,i){return this.getTooltipContent?this.getTooltipContent(e,t,n,i):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},m.additionalConfig={},m.loadConfig=function(t){var n,i,r,o=this.config;Object.keys(o).forEach(function(e){n=t,i=e.split("_"),r=function e(){var t=i.shift();return t&&n&&"object"===(void 0===n?"undefined":s(n))&&t in n?(n=n[t],e()):t?void 0:n}(),N(r)&&(o[e]=r)})},m.convertUrlToData=function(e,t,n,r,o){var a=this,s=t||"csv",i=a.d3.xhr(e);n&&Object.keys(n).forEach(function(e){i.header(e,n[e])}),i.get(function(e,t){var n,i=t.response||t.responseText;if(!t)throw new Error(e.responseURL+" "+e.status+" ("+e.statusText+")");n="json"===s?a.convertJsonToData(JSON.parse(i),r):"tsv"===s?a.convertTsvToData(i):a.convertCsvToData(i),o.call(a,n)})},m.convertXsvToData=function(e,t){var n,i=t.parseRows(e);return 1===i.length?(n=[{}],i[0].forEach(function(e){n[0][e]=null})):n=t.parse(e),n},m.convertCsvToData=function(e){return this.convertXsvToData(e,this.d3.csv)},m.convertTsvToData=function(e){return this.convertXsvToData(e,this.d3.tsv)},m.convertJsonToData=function(t,e){var r,n,o=this,a=[];return e?(e.x?(r=e.value.concat(e.x),o.config.data_x=e.x):r=e.value,a.push(r),t.forEach(function(n){var i=[];r.forEach(function(e){var t=o.findValueInJson(n,e);C(t)&&(t=null),i.push(t)}),a.push(i)}),n=o.convertRowsToData(a)):(Object.keys(t).forEach(function(e){a.push([e].concat(t[e]))}),n=o.convertColumnsToData(a)),n},m.findValueInJson=function(e,t){for(var n=(t=(t=t.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<n.length;++i){var r=n[i];if(!(r in e))return;e=e[r]}return e},m.convertRowsToData=function(e){for(var t=[],n=e[0],i=1;i<e.length;i++){for(var r={},o=0;o<e[i].length;o++){if(C(e[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=e[i][o]}t.push(r)}return t},m.convertColumnsToData=function(e){for(var t=[],n=0;n<e.length;n++)for(var i=e[n][0],r=1;r<e[n].length;r++){if(C(t[r-1])&&(t[r-1]={}),C(e[n][r]))throw new Error("Source data is missing a component at ("+n+","+r+")!");t[r-1][i]=e[n][r]}return t},m.convertDataToTargets=function(e,i){var t,l=this,c=l.config,n=l.d3.keys(e[0]).filter(l.isNotX,l),r=l.d3.keys(e[0]).filter(l.isX,l);return n.forEach(function(n){var t=l.getXKey(n);l.isCustomX()||l.isTimeSeries()?0<=r.indexOf(t)?l.data.xs[n]=(i&&l.data.xs[n]?l.data.xs[n]:[]).concat(e.map(function(e){return e[t]}).filter(T).map(function(e,t){return l.generateTargetX(e,n,t)})):c.data_x?l.data.xs[n]=l.getOtherTargetXs():D(c.data_xs)&&(l.data.xs[n]=l.getXValuesOfXKey(t,l.data.targets)):l.data.xs[n]=e.map(function(e,t){return t})}),n.forEach(function(e){if(!l.data.xs[e])throw new Error('x is not defined for id = "'+e+'".')}),(t=n.map(function(o,a){var s=c.data_idConverter(o);return{id:s,id_org:o,values:e.map(function(e,t){var n,i=e[l.getXKey(o)],r=null===e[o]||isNaN(e[o])?null:+e[o];return l.isCustomX()&&l.isCategorized()&&!C(i)?(0===a&&0===t&&(c.axis_x_categories=[]),-1===(n=c.axis_x_categories.indexOf(i))&&(n=c.axis_x_categories.length,c.axis_x_categories.push(i))):n=l.generateTargetX(i,o,t),(C(e[o])||l.data.xs[o].length<=t)&&(n=void 0),{x:n,value:r,id:s}}).filter(function(e){return N(e.x)})}})).forEach(function(e){var t;c.data_xSort&&(e.values=e.values.sort(function(e,t){return(e.x||0===e.x?e.x:1/0)-(t.x||0===t.x?t.x:1/0)})),t=0,e.values.forEach(function(e){e.index=t++}),l.data.xs[e.id].sort(function(e,t){return e-t})}),l.hasNegativeValue=l.hasNegativeValueInTargets(t),l.hasPositiveValue=l.hasPositiveValueInTargets(t),c.data_type&&l.setTargetType(l.mapToIds(t).filter(function(e){return!(e in c.data_types)}),c.data_type),t.forEach(function(e){l.addCache(e.id_org,e)}),t},m.isX=function(e){var t=this.config;return t.data_x&&e===t.data_x||D(t.data_xs)&&i(t.data_xs,e)},m.isNotX=function(e){return!this.isX(e)},m.getXKey=function(e){var t=this.config;return t.data_x?t.data_x:D(t.data_xs)?t.data_xs[e]:null},m.getXValuesOfXKey=function(t,e){var n,i=this;return(e&&D(e)?i.mapToIds(e):[]).forEach(function(e){i.getXKey(e)===t&&(n=i.data.xs[e])}),n},m.getIndexByX=function(e){var t=this.filterByX(this.data.targets,e);return t.length?t[0].index:null},m.getXValue=function(e,t){return e in this.data.xs&&this.data.xs[e]&&T(this.data.xs[e][t])?this.data.xs[e][t]:t},m.getOtherTargetXs=function(){var e=Object.keys(this.data.xs);return e.length?this.data.xs[e[0]]:null},m.getOtherTargetX=function(e){var t=this.getOtherTargetXs();return t&&e<t.length?t[e]:null},m.addXs=function(t){var n=this;Object.keys(t).forEach(function(e){n.config.data_xs[e]=t[e]})},m.hasMultipleX=function(t){return 1<this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()},m.isMultipleX=function(){return D(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},m.addName=function(e){var t;return e&&(t=this.config.data_names[e.id],e.name=void 0!==t?t:e.id),e},m.getValueOnIndex=function(e,t){var n=e.filter(function(e){return e.index===t});return n.length?n[0]:null},m.updateTargetX=function(e,i){var r=this;e.forEach(function(n){n.values.forEach(function(e,t){e.x=r.generateTargetX(i[t],n.id,t)}),r.data.xs[n.id]=i})},m.updateTargetXs=function(e,t){var n=this;e.forEach(function(e){t[e.id]&&n.updateTargetX([e],t[e.id])})},m.generateTargetX=function(e,t,n){return this.isTimeSeries()?e?this.parseDate(e):this.parseDate(this.getXValue(t,n)):this.isCustomX()&&!this.isCategorized()?T(e)?+e:this.getXValue(t,n):n},m.cloneTarget=function(e){return{id:e.id,id_org:e.id_org,values:e.values.map(function(e){return{x:e.x,value:e.value,id:e.id}})}},m.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},m.getPrevX=function(e){var t=this.xs[e-1];return void 0!==t?t:null},m.getNextX=function(e){var t=this.xs[e+1];return void 0!==t?t:null},m.getMaxDataCount=function(){return this.d3.max(this.data.targets,function(e){return e.values.length})},m.getMaxDataCountTarget=function(e){var t,n=e.length,i=0;return 1<n?e.forEach(function(e){e.values.length>i&&(i=(t=e).values.length)}):t=n?e[0]:null,t},m.getEdgeX=function(e){return e.length?[this.d3.min(e,function(e){return e.values[0].x}),this.d3.max(e,function(e){return e.values[e.values.length-1].x})]:[0,0]},m.mapToIds=function(e){return e.map(function(e){return e.id})},m.mapToTargetIds=function(e){return e?[].concat(e):this.mapToIds(this.data.targets)},m.hasTarget=function(e,t){var n,i=this.mapToIds(e);for(n=0;n<i.length;n++)if(i[n]===t)return!0;return!1},m.isTargetToShow=function(e){return this.hiddenTargetIds.indexOf(e)<0},m.isLegendToShow=function(e){return this.hiddenLegendIds.indexOf(e)<0},m.filterTargetsToShow=function(e){var t=this;return e.filter(function(e){return t.isTargetToShow(e.id)})},m.mapTargetsToUniqueXs=function(e){var t=this.d3.set(this.d3.merge(e.map(function(e){return e.values.map(function(e){return+e.x})}))).values();return(t=this.isTimeSeries()?t.map(function(e){return new Date(+e)}):t.map(function(e){return+e})).sort(function(e,t){return e<t?-1:t<e?1:t<=e?0:NaN})},m.addHiddenTargetIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenTargetIds.indexOf(e[t])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(e[t]))},m.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},m.addHiddenLegendIds=function(e){e=e instanceof Array?e:new Array(e);for(var t=0;t<e.length;t++)this.hiddenLegendIds.indexOf(e[t])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(e[t]))},m.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},m.getValuesAsIdKeyed=function(e){var n={};return e.forEach(function(t){n[t.id]=[],t.values.forEach(function(e){n[t.id].push(e.value)})}),n},m.checkValueInTargets=function(e,t){var n,i,r,o=Object.keys(e);for(n=0;n<o.length;n++)for(r=e[o[n]].values,i=0;i<r.length;i++)if(t(r[i].value))return!0;return!1},m.hasNegativeValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return e<0})},m.hasPositiveValueInTargets=function(e){return this.checkValueInTargets(e,function(e){return 0<e})},m.isOrderDesc=function(){var e=this.config;return"string"==typeof e.data_order&&"desc"===e.data_order.toLowerCase()},m.isOrderAsc=function(){var e=this.config;return"string"==typeof e.data_order&&"asc"===e.data_order.toLowerCase()},m.getOrderFunction=function(){var e=this.config,t=this.isOrderAsc(),o=this.isOrderDesc();if(t||o)return function(e,t){var n=function(e,t){return e+Math.abs(t.value)},i=e.values.reduce(n,0),r=t.values.reduce(n,0);return o?r-i:i-r};if(h(e.data_order))return e.data_order;if(a(e.data_order)){var n=e.data_order;return function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)}}},m.orderTargets=function(e){var t=this.getOrderFunction();return t&&(e.sort(t),(this.isOrderAsc()||this.isOrderDesc())&&e.reverse()),e},m.filterByX=function(e,t){return this.d3.merge(e.map(function(e){return e.values})).filter(function(e){return e.x-t==0})},m.filterRemoveNull=function(e){return e.filter(function(e){return T(e.value)})},m.filterByXDomain=function(e,t){return e.map(function(e){return{id:e.id,id_org:e.id_org,values:e.values.filter(function(e){return t[0]<=e.x&&e.x<=t[1]})}})},m.hasDataLabel=function(){var e=this.config;return!("boolean"!=typeof e.data_labels||!e.data_labels)||!("object"!==s(e.data_labels)||!D(e.data_labels))},m.getDataLabelLength=function(e,t,n){var i=this,r=[0,0];return i.selectChart.select("svg").selectAll(".dummy").data([e,t]).enter().append("text").text(function(e){return i.dataLabelFormat(e.id)(e)}).each(function(e,t){r[t]=1.3*this.getBoundingClientRect()[n]}).remove(),r},m.isNoneArc=function(e){return this.hasTarget(this.data.targets,e.id)},m.isArc=function(e){return"data"in e&&this.hasTarget(this.data.targets,e.data.id)},m.findSameXOfValues=function(e,t){var n,i=e[t].x,r=[];for(n=t-1;0<=n&&i===e[n].x;n--)r.push(e[n]);for(n=t;n<e.length&&i===e[n].x;n++)r.push(e[n]);return r},m.findClosestFromTargets=function(e,t){var n,i=this;return n=e.map(function(e){return i.findClosest(e.values,t)}),i.findClosest(n,t)},m.findClosest=function(e,n){var i,r=this,o=r.config.point_sensitivity;return e.filter(function(e){return e&&r.isBarType(e.id)}).forEach(function(e){var t=r.main.select("."+H.bars+r.getTargetSelectorSuffix(e.id)+" ."+H.bar+"-"+e.index).node();!i&&r.isWithinBar(t)&&(i=e)}),e.filter(function(e){return e&&!r.isBarType(e.id)}).forEach(function(e){var t=r.dist(e,n);t<o&&(o=t,i=e)}),i},m.dist=function(e,t){var n=this.config,i=n.axis_rotated?1:0,r=n.axis_rotated?0:1,o=this.circleY(e,e.index),a=this.x(e.x);return Math.sqrt(Math.pow(a-t[i],2)+Math.pow(o-t[r],2))},m.convertValuesToStep=function(e){var t,n=[].concat(e);if(!this.isCategorized())return e;for(t=e.length+1;0<t;t--)n[t]=n[t-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[e.length+1]={x:n[e.length].x+1,value:n[e.length].value,id:n[e.length].id},n},m.updateDataAttributes=function(e,t){var n=this.config["data_"+e];return void 0===t||(Object.keys(t).forEach(function(e){n[e]=t[e]}),this.redraw({withLegend:!0})),n},m.load=function(n,i){var r=this;n&&(i.filter&&(n=n.filter(i.filter)),(i.type||i.types)&&n.forEach(function(e){var t=i.types&&i.types[e.id]?i.types[e.id]:i.type;r.setTargetType(e.id,t)}),r.data.targets.forEach(function(e){for(var t=0;t<n.length;t++)if(e.id===n[t].id){e.values=n[t].values,n.splice(t,1);break}}),r.data.targets=r.data.targets.concat(n)),r.updateTargets(r.data.targets),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),i.done&&i.done()},m.loadFromArgs=function(t){var n=this;t.data?n.load(n.convertDataToTargets(t.data),t):t.url?n.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,function(e){n.load(n.convertDataToTargets(e),t)}):t.json?n.load(n.convertDataToTargets(n.convertJsonToData(t.json,t.keys)),t):t.rows?n.load(n.convertDataToTargets(n.convertRowsToData(t.rows)),t):t.columns?n.load(n.convertDataToTargets(n.convertColumnsToData(t.columns)),t):n.load(null,t)},m.unload=function(e,t){var n=this;t||(t=function(){}),(e=e.filter(function(e){return n.hasTarget(n.data.targets,e)}))&&0!==e.length?(n.svg.selectAll(e.map(function(e){return n.selectorTarget(e)})).transition().style("opacity",0).remove().call(n.endall,t),e.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+H.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):t()},m.getYDomainMin=function(e){var t,n,i,r,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(0<l.data_groups.length)for(a=s.hasNegativeValueInTargets(e),t=0;t<l.data_groups.length;t++)if(0!==(r=l.data_groups[t].filter(function(e){return 0<=c.indexOf(e)})).length)for(i=r[0],a&&u[i]&&u[i].forEach(function(e,t){u[i][t]=e<0?e:0}),n=1;n<r.length;n++)o=r[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(i)||!u[i]||a&&0<+e||(u[i][t]+=+e)});return s.d3.min(Object.keys(u).map(function(e){return s.d3.min(u[e])}))},m.getYDomainMax=function(e){var t,n,i,r,o,a,s=this,l=s.config,c=s.mapToIds(e),u=s.getValuesAsIdKeyed(e);if(0<l.data_groups.length)for(a=s.hasPositiveValueInTargets(e),t=0;t<l.data_groups.length;t++)if(0!==(r=l.data_groups[t].filter(function(e){return 0<=c.indexOf(e)})).length)for(i=r[0],a&&u[i]&&u[i].forEach(function(e,t){u[i][t]=0<e?e:0}),n=1;n<r.length;n++)o=r[n],u[o]&&u[o].forEach(function(e,t){s.axis.getId(o)!==s.axis.getId(i)||!u[i]||a&&+e<0||(u[i][t]+=+e)});return s.d3.max(Object.keys(u).map(function(e){return s.d3.max(u[e])}))},m.getYDomain=function(e,t,n){var i,r,o,a,s,l,c,u,d,h,p=this,f=p.config,g=e.filter(function(e){return p.axis.getId(e.id)===t}),m=n?p.filterByXDomain(g,n):g,v="y2"===t?f.axis_y2_min:f.axis_y_min,y="y2"===t?f.axis_y2_max:f.axis_y_max,b=p.getYDomainMin(m),w=p.getYDomainMax(m),x="y2"===t?f.axis_y2_center:f.axis_y_center,C=p.hasType("bar",m)&&f.bar_zerobased||p.hasType("area",m)&&f.area_zerobased,S="y2"===t?f.axis_y2_inverted:f.axis_y_inverted,k=p.hasDataLabel()&&f.axis_rotated,_=p.hasDataLabel()&&!f.axis_rotated;return b=T(v)?v:T(y)?b<y?b:y-10:b,w=T(y)?y:T(v)?v<w?w:v+10:w,0===m.length?"y2"===t?p.y2.domain():p.y.domain():(isNaN(b)&&(b=0),isNaN(w)&&(w=b),b===w&&(b<0?w=0:b=0),d=0<=b&&0<=w,h=b<=0&&w<=0,(T(v)&&d||T(y)&&h)&&(C=!1),C&&(d&&(b=0),h&&(w=0)),o=a=.1*(r=Math.abs(w-b)),void 0!==x&&(w=x+(s=Math.max(Math.abs(b),Math.abs(w))),b=x-s),k?(l=p.getDataLabelLength(b,w,"width"),c=L(p.y.range()),o+=r*((u=[l[0]/c,l[1]/c])[1]/(1-u[0]-u[1])),a+=r*(u[0]/(1-u[0]-u[1]))):_&&(l=p.getDataLabelLength(b,w,"height"),o+=p.axis.convertPixelsToAxisPadding(l[1],r),a+=p.axis.convertPixelsToAxisPadding(l[0],r)),"y"===t&&D(f.axis_y_padding)&&(o=p.axis.getPadding(f.axis_y_padding,"top",o,r),a=p.axis.getPadding(f.axis_y_padding,"bottom",a,r)),"y2"===t&&D(f.axis_y2_padding)&&(o=p.axis.getPadding(f.axis_y2_padding,"top",o,r),a=p.axis.getPadding(f.axis_y2_padding,"bottom",a,r)),C&&(d&&(a=b),h&&(o=-w)),i=[b-a,w+o],S?i.reverse():i)},m.getXDomainMin=function(e){var t=this,n=t.config;return N(n.axis_x_min)?t.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:t.d3.min(e,function(e){return t.d3.min(e.values,function(e){return e.x})})},m.getXDomainMax=function(e){var t=this,n=t.config;return N(n.axis_x_max)?t.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:t.d3.max(e,function(e){return t.d3.max(e.values,function(e){return e.x})})},m.getXDomainPadding=function(e){var t,n,i,r,o=this.config,a=e[1]-e[0];return n=this.isCategorized()?0:this.hasType("bar")?1<(t=this.getMaxDataCount())?a/(t-1)/2:.5:.01*a,"object"===s(o.axis_x_padding)&&D(o.axis_x_padding)?(i=T(o.axis_x_padding.left)?o.axis_x_padding.left:n,r=T(o.axis_x_padding.right)?o.axis_x_padding.right:n):i=r="number"==typeof o.axis_x_padding?o.axis_x_padding:n,{left:i,right:r}},m.getXDomain=function(e){var t=[this.getXDomainMin(e),this.getXDomainMax(e)],n=t[0],i=t[1],r=this.getXDomainPadding(t),o=0,a=0;return n-i!=0||this.isCategorized()||(this.isTimeSeries()?(n=new Date(.5*n.getTime()),i=new Date(1.5*i.getTime())):(n=0===n?1:.5*n,i=0===i?-1:1.5*i)),(n||0===n)&&(o=this.isTimeSeries()?new Date(n.getTime()-r.left):n-r.left),(i||0===i)&&(a=this.isTimeSeries()?new Date(i.getTime()+r.right):i+r.right),[o,a]},m.updateXDomain=function(e,t,n,i,r){var o=this,a=o.config;return n&&(o.x.domain(r||o.d3.extent(o.getXDomain(e))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),t&&(o.x.domain(r||(!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent())),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),i&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},m.trimXDomain=function(e){var t=this.getZoomDomain(),n=t[0],i=t[1];return e[0]<=n&&(e[1]=+e[1]+(n-e[0]),e[0]=n),i<=e[1]&&(e[0]=+e[0]-(e[1]-i),e[1]=i),e},m.drag=function(e){var t,n,i,r,h,p,f,g,m=this,o=m.config,a=m.main,v=m.d3;m.hasArcType()||o.data_selection_enabled&&(o.zoom_enabled&&!m.zoom.altDomain||o.data_selection_multiple&&(t=m.dragStart[0],n=m.dragStart[1],i=e[0],r=e[1],h=Math.min(t,i),p=Math.max(t,i),f=o.data_selection_grouped?m.margin.top:Math.min(n,r),g=o.data_selection_grouped?m.height:Math.max(n,r),a.select("."+H.dragarea).attr("x",h).attr("y",f).attr("width",p-h).attr("height",g-f),a.selectAll("."+H.shapes).selectAll("."+H.shape).filter(function(e){return o.data_selection_isselectable(e)}).each(function(e,t){var n,i,r,o,a,s,l=v.select(this),c=l.classed(H.SELECTED),u=l.classed(H.INCLUDED),d=!1;if(l.classed(H.circle))n=1*l.attr("cx"),i=1*l.attr("cy"),a=m.togglePoint,d=h<n&&n<p&&f<i&&i<g;else{if(!l.classed(H.bar))return;n=(s=y(this)).x,i=s.y,r=s.width,o=s.height,a=m.togglePath,d=!(p<n||n+r<h||g<i||i+o<f)}d^u&&(l.classed(H.INCLUDED,!u),l.classed(H.SELECTED,!c),a.call(m,!c,l,e,t))})))},m.dragstart=function(e){var t=this.config;this.hasArcType()||t.data_selection_enabled&&(this.dragStart=e,this.main.select("."+H.chart).append("rect").attr("class",H.dragarea).style("opacity",.1),this.dragging=!0)},m.dragend=function(){var e=this.config;this.hasArcType()||e.data_selection_enabled&&(this.main.select("."+H.dragarea).transition().duration(100).style("opacity",0).remove(),this.main.selectAll("."+H.shape).classed(H.INCLUDED,!1),this.dragging=!1)},m.getYFormat=function(e){var i=this,r=e&&!i.hasType("gauge")?i.defaultArcValueFormat:i.yFormat,o=e&&!i.hasType("gauge")?i.defaultArcValueFormat:i.y2Format;return function(e,t,n){return("y2"===i.axis.getId(n)?o:r).call(i,e,t)}},m.yFormat=function(e){var t=this.config;return(t.axis_y_tick_format?t.axis_y_tick_format:this.defaultValueFormat)(e)},m.y2Format=function(e){var t=this.config;return(t.axis_y2_tick_format?t.axis_y2_tick_format:this.defaultValueFormat)(e)},m.defaultValueFormat=function(e){return T(e)?+e:""},m.defaultArcValueFormat=function(e,t){return(100*t).toFixed(1)+"%"},m.dataLabelFormat=function(e){var t=this.config.data_labels,n=function(e){return T(e)?+e:""};return"function"==typeof t.format?t.format:"object"===s(t.format)?t.format[e]?!0===t.format[e]?n:t.format[e]:function(){return""}:n},m.initGrid=function(){var e=this,t=e.config,n=e.d3;e.grid=e.main.append("g").attr("clip-path",e.clipPathForGrid).attr("class",H.grid),t.grid_x_show&&e.grid.append("g").attr("class",H.xgrids),t.grid_y_show&&e.grid.append("g").attr("class",H.ygrids),t.grid_focus_show&&e.grid.append("g").attr("class",H.xgridFocus).append("line").attr("class",H.xgridFocus),e.xgrid=n.selectAll([]),t.grid_lines_front||e.initGridLines()},m.initGridLines=function(){var e=this.d3;this.gridLines=this.main.append("g").attr("clip-path",this.clipPathForGrid).attr("class",H.grid+" "+H.gridLines),this.gridLines.append("g").attr("class",H.xgridLines),this.gridLines.append("g").attr("class",H.ygridLines),this.xgridLines=e.selectAll([])},m.updateXGrid=function(e){var t=this,n=t.config,i=t.d3,r=t.generateGridData(n.grid_x_type,t.x),o=t.isCategorized()?t.xAxis.tickOffset():0;t.xgridAttr=n.axis_rotated?{x1:0,x2:t.width,y1:function(e){return t.x(e)-o},y2:function(e){return t.x(e)-o}}:{x1:function(e){return t.x(e)+o},x2:function(e){return t.x(e)+o},y1:0,y2:t.height},t.xgrid=t.main.select("."+H.xgrids).selectAll("."+H.xgrid).data(r),t.xgrid.enter().append("line").attr("class",H.xgrid),e||t.xgrid.attr(t.xgridAttr).style("opacity",function(){return+i.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?t.height:0)?0:1}),t.xgrid.exit().remove()},m.updateYGrid=function(){var e=this,t=e.config,n=e.yAxis.tickValues()||e.y.ticks(t.grid_y_ticks);e.ygrid=e.main.select("."+H.ygrids).selectAll("."+H.ygrid).data(n),e.ygrid.enter().append("line").attr("class",H.ygrid),e.ygrid.attr("x1",t.axis_rotated?e.y:0).attr("x2",t.axis_rotated?e.y:e.width).attr("y1",t.axis_rotated?0:e.y).attr("y2",t.axis_rotated?e.height:e.y),e.ygrid.exit().remove(),e.smoothLines(e.ygrid,"grid")},m.gridTextAnchor=function(e){return e.position?e.position:"end"},m.gridTextDx=function(e){return"start"===e.position?4:"middle"===e.position?0:-4},m.xGridTextX=function(e){return"start"===e.position?-this.height:"middle"===e.position?-this.height/2:0},m.yGridTextX=function(e){return"start"===e.position?0:"middle"===e.position?this.width/2:this.width},m.updateGrid=function(e){var t,n,i,r=this,o=r.main,a=r.config;r.grid.style("visibility",r.hasArcType()?"hidden":"visible"),o.select("line."+H.xgridFocus).style("visibility","hidden"),a.grid_x_show&&r.updateXGrid(),r.xgridLines=o.select("."+H.xgridLines).selectAll("."+H.xgridLine).data(a.grid_x_lines),(t=r.xgridLines.enter().append("g").attr("class",function(e){return H.xgridLine+(e.class?" "+e.class:"")})).append("line").style("opacity",0),t.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),r.xgridLines.exit().transition().duration(e).style("opacity",0).remove(),a.grid_y_show&&r.updateYGrid(),r.ygridLines=o.select("."+H.ygridLines).selectAll("."+H.ygridLine).data(a.grid_y_lines),(n=r.ygridLines.enter().append("g").attr("class",function(e){return H.ygridLine+(e.class?" "+e.class:"")})).append("line").style("opacity",0),n.append("text").attr("text-anchor",r.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",r.gridTextDx).attr("dy",-5).style("opacity",0),i=r.yv.bind(r),r.ygridLines.select("line").transition().duration(e).attr("x1",a.axis_rotated?i:0).attr("x2",a.axis_rotated?i:r.width).attr("y1",a.axis_rotated?0:i).attr("y2",a.axis_rotated?r.height:i).style("opacity",1),r.ygridLines.select("text").transition().duration(e).attr("x",a.axis_rotated?r.xGridTextX.bind(r):r.yGridTextX.bind(r)).attr("y",i).text(function(e){return e.text}).style("opacity",1),r.ygridLines.exit().transition().duration(e).style("opacity",0).remove()},m.redrawGrid=function(e){var t=this,n=t.config,i=t.xv.bind(t),r=t.xgridLines.select("line"),o=t.xgridLines.select("text");return[(e?r.transition():r).attr("x1",n.axis_rotated?0:i).attr("x2",n.axis_rotated?t.width:i).attr("y1",n.axis_rotated?i:0).attr("y2",n.axis_rotated?i:t.height).style("opacity",1),(e?o.transition():o).attr("x",n.axis_rotated?t.yGridTextX.bind(t):t.xGridTextX.bind(t)).attr("y",i).text(function(e){return e.text}).style("opacity",1)]},m.showXGridFocus=function(e){var t=this.config,n=e.filter(function(e){return e&&T(e.value)}),i=this.main.selectAll("line."+H.xgridFocus),r=this.xx.bind(this);t.tooltip_show&&(this.hasType("scatter")||this.hasArcType()||(i.style("visibility","visible").data([n[0]]).attr(t.axis_rotated?"y1":"x1",r).attr(t.axis_rotated?"y2":"x2",r),this.smoothLines(i,"grid")))},m.hideXGridFocus=function(){this.main.select("line."+H.xgridFocus).style("visibility","hidden")},m.updateXgridFocus=function(){var e=this.config;this.main.select("line."+H.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?this.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:this.height)},m.generateGridData=function(e,t){var n,i,r,o,a=[],s=this.main.select("."+H.axisX).selectAll(".tick").size();if("year"===e)for(i=(n=this.getXDomain())[0].getFullYear(),r=n[1].getFullYear(),o=i;o<=r;o++)a.push(new Date(o+"-01-01 00:00:00"));else(a=t.ticks(10)).length>s&&(a=a.filter(function(e){return(""+e).indexOf(".")<0}));return a},m.getGridFilterToRemove=function(e){return e?function(t){var n=!1;return[].concat(e).forEach(function(e){("value"in e&&t.value===e.value||"class"in e&&t.class===e.class)&&(n=!0)}),n}:function(){return!0}},m.removeGridLines=function(e,t){var n=this.config,i=this.getGridFilterToRemove(e),r=function(e){return!i(e)},o=t?H.xgridLines:H.ygridLines,a=t?H.xgridLine:H.ygridLine;this.main.select("."+o).selectAll("."+a).filter(i).transition().duration(n.transition_duration).style("opacity",0).remove(),t?n.grid_x_lines=n.grid_x_lines.filter(r):n.grid_y_lines=n.grid_y_lines.filter(r)},m.initEventRect=function(){this.main.select("."+H.chart).append("g").attr("class",H.eventRects).style("fill-opacity",0)},m.redrawEventRect=function(){var e,t,n=this,i=n.config,r=n.isMultipleX(),o=n.main.select("."+H.eventRects).style("cursor",i.zoom_enabled?i.axis_rotated?"ns-resize":"ew-resize":null).classed(H.eventRectsMultiple,r).classed(H.eventRectsSingle,!r);o.selectAll("."+H.eventRect).remove(),n.eventRect=o.selectAll("."+H.eventRect),r?(e=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(e.enter()),n.updateEventRect(e)):(t=n.getMaxDataCountTarget(n.data.targets),o.datum(t?t.values:[]),n.eventRect=o.selectAll("."+H.eventRect),e=n.eventRect.data(function(e){return e}),n.generateEventRectsForSingleX(e.enter()),n.updateEventRect(e),e.exit().remove())},m.updateEventRect=function(e){var t,n,i,r,o,a,s=this,l=s.config;e=e||s.eventRect.data(function(e){return e}),s.isMultipleX()?(n=t=0,i=s.width,r=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(e){return s.x(e.x)-o/2}):(s.updateXs(),o=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index);return null===t&&null===n?l.axis_rotated?s.height:s.width:(null===t&&(t=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(t))/2))},a=function(e){var t=s.getPrevX(e.index),n=s.getNextX(e.index),i=s.data.xs[e.id][e.index];return null===t&&null===n?0:(null===t&&(t=s.x.domain()[0]),(s.x(i)+s.x(t))/2)}),t=l.axis_rotated?0:a,n=l.axis_rotated?a:0,i=l.axis_rotated?s.width:o,r=l.axis_rotated?o:s.height),e.attr("class",s.classEvent.bind(s)).attr("x",t).attr("y",n).attr("width",i).attr("height",r)},m.generateEventRectsForSingleX=function(e){var r=this,o=r.d3,a=r.config;e.append("rect").attr("class",r.classEvent.bind(r)).style("cursor",a.data_selection_enabled&&a.data_selection_grouped?"pointer":null).on("mouseover",function(e){var t=e.index;r.dragging||r.flowing||r.hasArcType()||(a.point_focus_expand_enabled&&r.expandCircles(t,null,!0),r.expandBars(t,null,!0),r.main.selectAll("."+H.shape+"-"+t).each(function(e){a.data_onmouseover.call(r.api,e)}))}).on("mouseout",function(e){var t=e.index;r.config&&(r.hasArcType()||(r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars(),r.main.selectAll("."+H.shape+"-"+t).each(function(e){a.data_onmouseout.call(r.api,e)})))}).on("mousemove",function(e){var t,n=e.index,i=r.svg.select("."+H.eventRect+"-"+n);r.dragging||r.flowing||r.hasArcType()||(r.isStepType(e)&&"step-after"===r.config.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(e.id,n))&&(n-=1),t=r.filterTargetsToShow(r.data.targets).map(function(e){return r.addName(r.getValueOnIndex(e.values,n))}),a.tooltip_grouped&&(r.showTooltip(t,this),r.showXGridFocus(t)),(!a.tooltip_grouped||a.data_selection_enabled&&!a.data_selection_grouped)&&r.main.selectAll("."+H.shape+"-"+n).each(function(){o.select(this).classed(H.EXPANDED,!0),a.data_selection_enabled&&i.style("cursor",a.data_selection_grouped?"pointer":null),a.tooltip_grouped||(r.hideXGridFocus(),r.hideTooltip(),a.data_selection_grouped||(r.unexpandCircles(n),r.unexpandBars(n)))}).filter(function(e){return r.isWithinShape(this,e)}).each(function(e){a.data_selection_enabled&&(a.data_selection_grouped||a.data_selection_isselectable(e))&&i.style("cursor","pointer"),a.tooltip_grouped||(r.showTooltip([e],this),r.showXGridFocus([e]),a.point_focus_expand_enabled&&r.expandCircles(n,e.id,!0),r.expandBars(n,e.id,!0))}))}).on("click",function(e){var t=e.index;!r.hasArcType()&&r.toggleShape&&(r.cancelClick?r.cancelClick=!1:(r.isStepType(e)&&"step-after"===a.line_step_type&&o.mouse(this)[0]<r.x(r.getXValue(e.id,t))&&(t-=1),r.main.selectAll("."+H.shape+"-"+t).each(function(e){(a.data_selection_grouped||r.isWithinShape(this,e))&&(r.toggleShape(this,e,t),r.config.data_onclick.call(r.api,e,this))})))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},m.generateEventRectsForMultipleXs=function(e){var r=this,o=r.d3,a=r.config;function s(){r.svg.select("."+H.eventRect).style("cursor",null),r.hideXGridFocus(),r.hideTooltip(),r.unexpandCircles(),r.unexpandBars()}e.append("rect").attr("x",0).attr("y",0).attr("width",r.width).attr("height",r.height).attr("class",H.eventRect).on("mouseout",function(){r.config&&(r.hasArcType()||s())}).on("mousemove",function(){var e,t,n,i=r.filterTargetsToShow(r.data.targets);r.dragging||r.hasArcType(i)||(e=o.mouse(this),t=r.findClosestFromTargets(i,e),!r.mouseover||t&&t.id===r.mouseover.id||(a.data_onmouseout.call(r.api,r.mouseover),r.mouseover=void 0),t?(n=(r.isScatterType(t)||!a.tooltip_grouped?[t]:r.filterByX(i,t.x)).map(function(e){return r.addName(e)}),r.showTooltip(n,this),a.point_focus_expand_enabled&&r.expandCircles(t.index,t.id,!0),r.expandBars(t.index,t.id,!0),r.showXGridFocus(n),(r.isBarType(t.id)||r.dist(t,e)<a.point_sensitivity)&&(r.svg.select("."+H.eventRect).style("cursor","pointer"),r.mouseover||(a.data_onmouseover.call(r.api,t),r.mouseover=t))):s())}).on("click",function(){var e,t,n=r.filterTargetsToShow(r.data.targets);r.hasArcType(n)||(e=o.mouse(this),(t=r.findClosestFromTargets(n,e))&&(r.isBarType(t.id)||r.dist(t,e)<a.point_sensitivity)&&r.main.selectAll("."+H.shapes+r.getTargetSelectorSuffix(t.id)).selectAll("."+H.shape+"-"+t.index).each(function(){(a.data_selection_grouped||r.isWithinShape(this,t))&&(r.toggleShape(this,t,t.index),r.config.data_onclick.call(r.api,t,this))}))}).call(a.data_selection_draggable&&r.drag?o.behavior.drag().origin(Object).on("drag",function(){r.drag(o.mouse(this))}).on("dragstart",function(){r.dragstart(o.mouse(this))}).on("dragend",function(){r.dragend()}):function(){})},m.dispatchEvent=function(e,t,n){var i="."+H.eventRect+(this.isMultipleX()?"":"-"+t),r=this.main.select(i).node(),o=r.getBoundingClientRect(),a=o.left+(n?n[0]:0),s=o.top+(n?n[1]:0),l=document.createEvent("MouseEvents");l.initMouseEvent(e,!0,!0,window,0,a,s,a,s,!1,!1,!1,!1,0,null),r.dispatchEvent(l)},m.initLegend=function(){var e=this;if(e.legendItemTextBox={},e.legendHasRendered=!1,e.legend=e.svg.append("g").attr("transform",e.getTranslate("legend")),!e.config.legend_show)return e.legend.style("visibility","hidden"),void(e.hiddenLegendIds=e.mapToIds(e.data.targets));e.updateLegendWithDefaults()},m.updateLegendWithDefaults=function(){this.updateLegend(this.mapToIds(this.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},m.updateSizeForLegend=function(e,t){var n=this,i=n.config,r={top:n.isLegendTop?n.getCurrentPaddingTop()+i.legend_inset_y+5.5:n.currentHeight-e-n.getCurrentPaddingBottom()-i.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+i.legend_inset_x+.5:n.currentWidth-t-n.getCurrentPaddingRight()-i.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?r.top:n.currentHeight-e,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-t:n.isLegendInset?r.left:0}},m.transformLegend=function(e){(e?this.legend.transition():this.legend).attr("transform",this.getTranslate("legend"))},m.updateLegendStep=function(e){this.legendStep=e},m.updateLegendItemWidth=function(e){this.legendItemWidth=e},m.updateLegendItemHeight=function(e){this.legendItemHeight=e},m.getLegendWidth=function(){return this.config.legend_show?this.isLegendRight||this.isLegendInset?this.legendItemWidth*(this.legendStep+1):this.currentWidth:0},m.getLegendHeight=function(){var e=0;return this.config.legend_show&&(e=this.isLegendRight?this.currentHeight:Math.max(20,this.legendItemHeight)*(this.legendStep+1)),e},m.opacityForLegend=function(e){return e.classed(H.legendItemHidden)?null:1},m.opacityForUnfocusedLegend=function(e){return e.classed(H.legendItemHidden)?null:.3},m.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+H.legendItem).filter(function(e){return 0<=t.indexOf(e)}).classed(H.legendItemFocused,e).transition().duration(100).style("opacity",function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))})},m.revertLegend=function(){var e=this,t=e.d3;e.legend.selectAll("."+H.legendItem).classed(H.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return e.opacityForLegend(t.select(this))})},m.showLegend=function(e){var t=this,n=t.config;n.legend_show||(n.legend_show=!0,t.legend.style("visibility","visible"),t.legendHasRendered||t.updateLegendWithDefaults()),t.removeHiddenLegendIds(e),t.legend.selectAll(t.selectorLegends(e)).style("visibility","visible").transition().style("opacity",function(){return t.opacityForLegend(t.d3.select(this))})},m.hideLegend=function(e){var t=this.config;t.legend_show&&d(e)&&(t.legend_show=!1,this.legend.style("visibility","hidden")),this.addHiddenLegendIds(e),this.legend.selectAll(this.selectorLegends(e)).style("opacity",0).style("visibility","hidden")},m.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},m.updateLegend=function(g,e,t){var n,i,r,o,a,s,l,c,u,d,h,p,f,m,v,y,b=this,w=b.config,x=4,C=10,S=0,k=0,_=10,T=w.legend_item_tile_width+5,D=0,A={},E={},I={},P=[0],$={},M=0;function O(e,t,n){var i,r,o,a,s=0===n,l=n===g.length-1,c=(o=e,a=t,b.legendItemTextBox[a]||(b.legendItemTextBox[a]=b.getTextRect(o.textContent,H.legendItem,o)),b.legendItemTextBox[a]),u=c.width+T+(!l||b.isLegendRight||b.isLegendInset?C:0)+w.legend_padding,d=c.height+x,h=b.isLegendRight||b.isLegendInset?d:u,p=b.isLegendRight||b.isLegendInset?b.getLegendHeight():b.getLegendWidth();function f(e,t){t||(i=(p-D-h)/2)<_&&(i=(p-h)/2,D=0,M++),$[e]=M,P[M]=b.isLegendInset?10:i,A[e]=D,D+=h}s&&(k=S=M=D=0),!w.legend_show||b.isLegendToShow(t)?(E[t]=u,I[t]=d,(!S||S<=u)&&(S=u),(!k||k<=d)&&(k=d),r=b.isLegendRight||b.isLegendInset?k:S,w.legend_equally?(Object.keys(E).forEach(function(e){E[e]=S}),Object.keys(I).forEach(function(e){I[e]=k}),(i=(p-r*g.length)/2)<_?(M=D=0,g.forEach(function(e){f(e)})):f(t,!0)):f(t)):E[t]=I[t]=$[t]=A[t]=0}g=g.filter(function(e){return!N(w.data_names[e])||null!==w.data_names[e]}),h=B(e=e||{},"withTransition",!0),p=B(e,"withTransitionForTransform",!0),b.isLegendInset&&(M=w.legend_inset_step?w.legend_inset_step:g.length,b.updateLegendStep(M)),b.isLegendRight?(n=function(e){return S*$[e]},o=function(e){return P[$[e]]+A[e]}):b.isLegendInset?(n=function(e){return S*$[e]+10},o=function(e){return P[$[e]]+A[e]}):(n=function(e){return P[$[e]]+A[e]},o=function(e){return k*$[e]}),i=function(e,t){return n(e,t)+4+w.legend_item_tile_width},a=function(e,t){return o(e,t)+9},r=function(e,t){return n(e,t)},s=function(e,t){return o(e,t)-5},l=function(e,t){return n(e,t)-2},c=function(e,t){return n(e,t)-2+w.legend_item_tile_width},u=function(e,t){return o(e,t)+4},(d=b.legend.selectAll("."+H.legendItem).data(g).enter().append("g").attr("class",function(e){return b.generateClass(H.legendItem,e)}).style("visibility",function(e){return b.isLegendToShow(e)?"visible":"hidden"}).style("cursor","pointer").on("click",function(e){w.legend_item_onclick?w.legend_item_onclick.call(b,e):b.d3.event.altKey?(b.api.hide(),b.api.show(e)):(b.api.toggle(e),b.isTargetToShow(e)?b.api.focus(e):b.api.revert())}).on("mouseover",function(e){w.legend_item_onmouseover?w.legend_item_onmouseover.call(b,e):(b.d3.select(this).classed(H.legendItemFocused,!0),!b.transiting&&b.isTargetToShow(e)&&b.api.focus(e))}).on("mouseout",function(e){w.legend_item_onmouseout?w.legend_item_onmouseout.call(b,e):(b.d3.select(this).classed(H.legendItemFocused,!1),b.api.revert())})).append("text").text(function(e){return N(w.data_names[e])?w.data_names[e]:e}).each(function(e,t){O(this,e,t)}).style("pointer-events","none").attr("x",b.isLegendRight||b.isLegendInset?i:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:a),d.append("rect").attr("class",H.legendItemEvent).style("fill-opacity",0).attr("x",b.isLegendRight||b.isLegendInset?r:-200).attr("y",b.isLegendRight||b.isLegendInset?-200:s),d.append("line").attr("class",H.legendItemTile).style("stroke",b.color).style("pointer-events","none").attr("x1",b.isLegendRight||b.isLegendInset?l:-200).attr("y1",b.isLegendRight||b.isLegendInset?-200:u).attr("x2",b.isLegendRight||b.isLegendInset?c:-200).attr("y2",b.isLegendRight||b.isLegendInset?-200:u).attr("stroke-width",w.legend_item_tile_height),y=b.legend.select("."+H.legendBackground+" rect"),b.isLegendInset&&0<S&&0===y.size()&&(y=b.legend.insert("g","."+H.legendItem).attr("class",H.legendBackground).append("rect")),f=b.legend.selectAll("text").data(g).text(function(e){return N(w.data_names[e])?w.data_names[e]:e}).each(function(e,t){O(this,e,t)}),(h?f.transition():f).attr("x",i).attr("y",a),m=b.legend.selectAll("rect."+H.legendItemEvent).data(g),(h?m.transition():m).attr("width",function(e){return E[e]}).attr("height",function(e){return I[e]}).attr("x",r).attr("y",s),v=b.legend.selectAll("line."+H.legendItemTile).data(g),(h?v.transition():v).style("stroke",b.levelColor?function(e){return b.levelColor(b.cache[e].values[0].value)}:b.color).attr("x1",l).attr("y1",u).attr("x2",c).attr("y2",u),y&&(h?y.transition():y).attr("height",b.getLegendHeight()-12).attr("width",S*(M+1)+10),b.legend.selectAll("."+H.legendItem).classed(H.legendItemHidden,function(e){return!b.isTargetToShow(e)}),b.updateLegendItemWidth(S),b.updateLegendItemHeight(k),b.updateLegendStep(M),b.updateSizes(),b.updateScales(),b.updateSvgSize(),b.transformAll(p,t),b.legendHasRendered=!0},m.initRegion=function(){this.region=this.main.append("g").attr("clip-path",this.clipPath).attr("class",H.regions)},m.updateRegion=function(e){var t=this,n=t.config;t.region.style("visibility",t.hasArcType()?"hidden":"visible"),t.mainRegion=t.main.select("."+H.regions).selectAll("."+H.region).data(n.regions),t.mainRegion.enter().append("g").append("rect").style("fill-opacity",0),t.mainRegion.attr("class",t.classRegion.bind(t)),t.mainRegion.exit().transition().duration(e).style("opacity",0).remove()},m.redrawRegion=function(e){var t=this,n=t.mainRegion.selectAll("rect").each(function(){var e=t.d3.select(this.parentNode).datum();t.d3.select(this).datum(e)}),i=t.regionX.bind(t),r=t.regionY.bind(t),o=t.regionWidth.bind(t),a=t.regionHeight.bind(t);return[(e?n.transition():n).attr("x",i).attr("y",r).attr("width",o).attr("height",a).style("fill-opacity",function(e){return T(e.opacity)?e.opacity:.1})]},m.regionX=function(e){var t=this.config,n="y"===e.axis?this.y:this.y2;return"y"===e.axis||"y2"===e.axis?t.axis_rotated&&"start"in e?n(e.start):0:t.axis_rotated?0:"start"in e?this.x(this.isTimeSeries()?this.parseDate(e.start):e.start):0},m.regionY=function(e){var t=this.config,n="y"===e.axis?this.y:this.y2;return"y"===e.axis||"y2"===e.axis?t.axis_rotated?0:"end"in e?n(e.end):0:t.axis_rotated&&"start"in e?this.x(this.isTimeSeries()?this.parseDate(e.start):e.start):0},m.regionWidth=function(e){var t,n=this,i=n.config,r=n.regionX(e),o="y"===e.axis?n.y:n.y2;return(t="y"===e.axis||"y2"===e.axis?i.axis_rotated&&"end"in e?o(e.end):n.width:i.axis_rotated?n.width:"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.width)<r?0:t-r},m.regionHeight=function(e){var t,n=this,i=n.config,r=this.regionY(e),o="y"===e.axis?n.y:n.y2;return(t="y"===e.axis||"y2"===e.axis?i.axis_rotated?n.height:"start"in e?o(e.start):n.height:i.axis_rotated&&"end"in e?n.x(n.isTimeSeries()?n.parseDate(e.end):e.end):n.height)<r?0:t-r},m.isRegionOnX=function(e){return!e.axis||"x"===e.axis},m.getScale=function(e,t,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([e,t])},m.getX=function(e,t,n,i){var r,o=this.getScale(e,t,this.isTimeSeries()),a=n?o.domain(n):o;for(r in this.isCategorized()?(i=i||function(){return 0},o=function(e,t){var n=a(e)+i(e);return t?n:Math.ceil(n)}):o=function(e,t){var n=a(e);return t?n:Math.ceil(n)},a)o[r]=a[r];return o.orgDomain=function(){return a.domain()},this.isCategorized()&&(o.domain=function(e){return arguments.length?(a.domain(e),o):[(e=this.orgDomain())[0],e[1]+1]}),o},m.getY=function(e,t,n){var i=this.getScale(e,t,this.isTimeSeriesY());return n&&i.domain(n),i},m.getYScale=function(e){return"y2"===this.axis.getId(e)?this.y2:this.y},m.getSubYScale=function(e){return"y2"===this.axis.getId(e)?this.subY2:this.subY},m.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},m.selectPoint=function(e,t,n){var i=this,r=i.config,o=(r.axis_rotated?i.circleY:i.circleX).bind(i),a=(r.axis_rotated?i.circleX:i.circleY).bind(i),s=i.pointSelectR.bind(i);r.data_onselected.call(i.api,t,e.node()),i.main.select("."+H.selectedCircles+i.getTargetSelectorSuffix(t.id)).selectAll("."+H.selectedCircle+"-"+n).data([t]).enter().append("circle").attr("class",function(){return i.generateClass(H.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return i.color(t)}).attr("r",function(e){return 1.4*i.pointSelectR(e)}).transition().duration(100).attr("r",s)},m.unselectPoint=function(e,t,n){this.config.data_onunselected.call(this.api,t,e.node()),this.main.select("."+H.selectedCircles+this.getTargetSelectorSuffix(t.id)).selectAll("."+H.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},m.togglePoint=function(e,t,n,i){e?this.selectPoint(t,n,i):this.unselectPoint(t,n,i)},m.selectPath=function(e,t){var n=this;n.config.data_onselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(t)).brighter(.75)})},m.unselectPath=function(e,t){var n=this;n.config.data_onunselected.call(n,t,e.node()),n.config.interaction_brighten&&e.transition().duration(100).style("fill",function(){return n.color(t)})},m.togglePath=function(e,t,n,i){e?this.selectPath(t,n,i):this.unselectPath(t,n,i)},m.getToggle=function(e,t){var n;return"circle"===e.nodeName?n=this.isStepType(t)?function(){}:this.togglePoint:"path"===e.nodeName&&(n=this.togglePath),n},m.toggleShape=function(e,t,n){var i=this.d3,r=this.config,o=i.select(e),a=o.classed(H.SELECTED),s=this.getToggle(e,t).bind(this);r.data_selection_enabled&&r.data_selection_isselectable(t)&&(r.data_selection_multiple||this.main.selectAll("."+H.shapes+(r.data_selection_grouped?this.getTargetSelectorSuffix(t.id):"")).selectAll("."+H.shape).each(function(e,t){var n=i.select(this);n.classed(H.SELECTED)&&s(!1,n.classed(H.SELECTED,!1),e,t)}),o.classed(H.SELECTED,!a),s(!a,o,t,n))},m.initBar=function(){this.main.select("."+H.chart).append("g").attr("class",H.chartBars)},m.updateTargetsForBar=function(e){var t=this.config,n=this.classChartBar.bind(this),i=this.classBars.bind(this),r=this.classFocus.bind(this);this.main.select("."+H.chartBars).selectAll("."+H.chartBar).data(e).attr("class",function(e){return n(e)+r(e)}).enter().append("g").attr("class",n).style("pointer-events","none").append("g").attr("class",i).style("cursor",function(e){return t.data_selection_isselectable(e)?"pointer":null})},m.updateBar=function(e){var t=this,n=t.barData.bind(t),i=t.classBar.bind(t),r=t.initialOpacity.bind(t),o=function(e){return t.color(e.id)};t.mainBar=t.main.selectAll("."+H.bars).selectAll("."+H.bar).data(n),t.mainBar.enter().append("path").attr("class",i).style("stroke",o).style("fill",o),t.mainBar.style("opacity",r),t.mainBar.exit().transition().duration(e).remove()},m.redrawBar=function(e,t){return[(t?this.mainBar.transition(Math.random().toString()):this.mainBar).attr("d",e).style("stroke",this.color).style("fill",this.color).style("opacity",1)]},m.getBarW=function(e,t){var n=this.config,i="number"==typeof n.bar_width?n.bar_width:t?e.tickInterval()*n.bar_width_ratio/t:0;return n.bar_width_max&&i>n.bar_width_max?n.bar_width_max:i},m.getBars=function(e,t){return(t?this.main.selectAll("."+H.bars+this.getTargetSelectorSuffix(t)):this.main).selectAll("."+H.bar+(T(e)?"-"+e:""))},m.expandBars=function(e,t,n){n&&this.unexpandBars(),this.getBars(e,t).classed(H.EXPANDED,!0)},m.unexpandBars=function(e){this.getBars(e).classed(H.EXPANDED,!1)},m.generateDrawBar=function(e,t){var o=this.config,a=this.generateGetBarPoints(e,t);return function(e,t){var n=a(e,t),i=o.axis_rotated?1:0,r=o.axis_rotated?0:1;return"M "+n[0][i]+","+n[0][r]+" L"+n[1][i]+","+n[1][r]+" L"+n[2][i]+","+n[2][r]+" L"+n[3][i]+","+n[3][r]+" z"}},m.generateGetBarPoints=function(e,t){var a=this,n=t?a.subXAxis:a.xAxis,i=e.__max__+1,s=a.getBarW(n,i),l=a.getShapeX(s,i,e,!!t),c=a.getShapeY(!!t),u=a.getShapeOffset(a.isBarType,e,!!t),d=s*(a.config.bar_space/2),h=t?a.getSubYScale:a.getYScale;return function(e,t){var n=h.call(a,e.id)(0),i=u(e,t)||n,r=l(e),o=c(e);return a.config.axis_rotated&&(0<e.value&&o<n||e.value<0&&n<o)&&(o=n),[[r+d,i],[r+d,o-(n-i)],[r+s-d,o-(n-i)],[r+s-d,i]]}},m.isWithinBar=function(e){var t=this.d3.mouse(e),n=e.getBoundingClientRect(),i=e.pathSegList.getItem(0),r=e.pathSegList.getItem(1),o=Math.min(i.x,r.x),a=Math.min(i.y,r.y),s=o+n.width+2,l=a+n.height+2,c=a-2;return o-2<t[0]&&t[0]<s&&c<t[1]&&t[1]<l},m.getShapeIndices=function(e){var t,n,i=this.config,r={},o=0;return this.filterTargetsToShow(this.data.targets.filter(e,this)).forEach(function(e){for(t=0;t<i.data_groups.length;t++)if(!(i.data_groups[t].indexOf(e.id)<0))for(n=0;n<i.data_groups[t].length;n++)if(i.data_groups[t][n]in r){r[e.id]=r[i.data_groups[t][n]];break}C(r[e.id])&&(r[e.id]=o++)}),r.__max__=o-1,r},m.getShapeX=function(n,i,r,e){var o=e?this.subX:this.x;return function(e){var t=e.id in r?r[e.id]:0;return e.x||0===e.x?o(e.x)-n*(i/2-t):0}},m.getShapeY=function(t){var n=this;return function(e){return(t?n.getSubYScale(e.id):n.getYScale(e.id))(e.value)}},m.getShapeOffset=function(e,s,t){var l=this,c=l.orderTargets(l.filterTargetsToShow(l.data.targets.filter(e,l))),u=c.map(function(e){return e.id});return function(n,i){var r=t?l.getSubYScale(n.id):l.getYScale(n.id),o=r(0),a=o;return c.forEach(function(e){var t=l.isStepType(n)?l.convertValuesToStep(e.values):e.values;e.id!==n.id&&s[e.id]===s[n.id]&&u.indexOf(e.id)<u.indexOf(n.id)&&(void 0!==t[i]&&+t[i].x==+n.x||(i=-1,t.forEach(function(e,t){e.x===n.x&&(i=t)})),i in t&&0<=t[i].value*n.value&&(a+=r(t[i].value)-o))}),a}},m.isWithinShape=function(e,t){var n,i=this.d3.select(e);return this.isTargetToShow(t.id)?"circle"===e.nodeName?n=this.isStepType(t)?this.isWithinStep(e,this.getYScale(t.id)(t.value)):this.isWithinCircle(e,1.5*this.pointSelectR(t)):"path"===e.nodeName&&(n=!i.classed(H.bar)||this.isWithinBar(e)):n=!1,n},m.getInterpolate=function(e){var t=this.isInterpolationType(this.config.spline_interpolation_type)?this.config.spline_interpolation_type:"cardinal";return this.isSplineType(e)?t:this.isStepType(e)?this.config.line_step_type:"linear"},m.initLine=function(){this.main.select("."+H.chart).append("g").attr("class",H.chartLines)},m.updateTargetsForLine=function(e){var t,n=this,i=n.config,r=n.classChartLine.bind(n),o=n.classLines.bind(n),a=n.classAreas.bind(n),s=n.classCircles.bind(n),l=n.classFocus.bind(n);(t=n.main.select("."+H.chartLines).selectAll("."+H.chartLine).data(e).attr("class",function(e){return r(e)+l(e)}).enter().append("g").attr("class",r).style("opacity",0).style("pointer-events","none")).append("g").attr("class",o),t.append("g").attr("class",a),t.append("g").attr("class",function(e){return n.generateClass(H.selectedCircles,e.id)}),t.append("g").attr("class",s).style("cursor",function(e){return i.data_selection_isselectable(e)?"pointer":null}),e.forEach(function(t){n.main.selectAll("."+H.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+H.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},m.updateLine=function(e){var t=this;t.mainLine=t.main.selectAll("."+H.lines).selectAll("."+H.line).data(t.lineData.bind(t)),t.mainLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.mainLine.style("opacity",t.initialOpacity.bind(t)).style("shape-rendering",function(e){return t.isStepType(e)?"crispEdges":""}).attr("transform",null),t.mainLine.exit().transition().duration(e).style("opacity",0).remove()},m.redrawLine=function(e,t){return[(t?this.mainLine.transition(Math.random().toString()):this.mainLine).attr("d",e).style("stroke",this.color).style("opacity",1)]},m.generateDrawLine=function(e,s){var l=this,c=l.config,u=l.d3.svg.line(),n=l.generateGetLinePoints(e,s),d=s?l.getSubYScale:l.getYScale,t=function(e){return(s?l.subxx:l.xx).call(l,e)},i=function(e,t){return 0<c.data_groups.length?n(e,t)[0][1]:d.call(l,e.id)(e.value)};return u=c.axis_rotated?u.x(i).y(t):u.x(t).y(i),c.line_connectNull||(u=u.defined(function(e){return null!=e.value})),function(e){var t,n=c.line_connectNull?l.filterRemoveNull(e.values):e.values,i=s?l.subX:l.x,r=d.call(l,e.id),o=0,a=0;return l.isLineType(e)?c.data_regions[e.id]?t=l.lineWithRegions(n,i,r,c.data_regions[e.id]):(l.isStepType(e)&&(n=l.convertValuesToStep(n)),t=u.interpolate(l.getInterpolate(e))(n)):(n[0]&&(o=i(n[0].x),a=r(n[0].value)),t=c.axis_rotated?"M "+a+" "+o:"M "+o+" "+a),t||"M 0 0"}},m.generateGetLinePoints=function(e,t){var a=this,s=a.config,n=e.__max__+1,l=a.getShapeX(0,n,e,!!t),c=a.getShapeY(!!t),u=a.getShapeOffset(a.isLineType,e,!!t),d=t?a.getSubYScale:a.getYScale;return function(e,t){var n=d.call(a,e.id)(0),i=u(e,t)||n,r=l(e),o=c(e);return s.axis_rotated&&(0<e.value&&o<n||e.value<0&&n<o)&&(o=n),[[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)],[r,o-(n-i)]]}},m.lineWithRegions=function(e,l,c,t){var n,i,r,o,u,a,s,d,h,p,f,g=this,m=g.config,v="M",y=g.isCategorized()?.5:0,b=[];function w(e,t){var n;for(n=0;n<t.length;n++)if(t[n].start<e&&e<=t[n].end)return!0;return!1}if(N(t))for(n=0;n<t.length;n++)b[n]={},C(t[n].start)?b[n].start=e[0].x:b[n].start=g.isTimeSeries()?g.parseDate(t[n].start):t[n].start,C(t[n].end)?b[n].end=e[e.length-1].x:b[n].end=g.isTimeSeries()?g.parseDate(t[n].end):t[n].end;function x(e){return"M"+e[0][0]+" "+e[0][1]+" "+e[1][0]+" "+e[1][1]}for(p=m.axis_rotated?function(e){return c(e.value)}:function(e){return l(e.x)},f=m.axis_rotated?function(e){return l(e.x)}:function(e){return c(e.value)},r=g.isTimeSeries()?function(e,t,n,i){var r=e.x.getTime(),o=t.x-e.x,a=new Date(r+o*n),s=new Date(r+o*(n+i));return x(m.axis_rotated?[[c(u(n)),l(a)],[c(u(n+i)),l(s)]]:[[l(a),c(u(n))],[l(s),c(u(n+i))]])}:function(e,t,n,i){return x(m.axis_rotated?[[c(u(n),!0),l(o(n))],[c(u(n+i),!0),l(o(n+i))]]:[[l(o(n),!0),c(u(n))],[l(o(n+i),!0),c(u(n+i))]])},n=0;n<e.length;n++){if(C(b)||!w(e[n].x,b))v+=" "+p(e[n])+" "+f(e[n]);else for(o=g.getScale(e[n-1].x+y,e[n].x+y,g.isTimeSeries()),u=g.getScale(e[n-1].value,e[n].value),a=l(e[n].x)-l(e[n-1].x),s=c(e[n].value)-c(e[n-1].value),h=2*(d=2/Math.sqrt(Math.pow(a,2)+Math.pow(s,2))),i=d;i<=1;i+=h)v+=r(e[n-1],e[n],i,d);e[n].x}return v},m.updateArea=function(e){var t=this,n=t.d3;t.mainArea=t.main.selectAll("."+H.areas).selectAll("."+H.area).data(t.lineData.bind(t)),t.mainArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.mainArea.style("opacity",t.orgAreaOpacity),t.mainArea.exit().transition().duration(e).style("opacity",0).remove()},m.redrawArea=function(e,t){return[(t?this.mainArea.transition(Math.random().toString()):this.mainArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},m.generateDrawArea=function(e,t){var o=this,a=o.config,s=o.d3.svg.area(),n=o.generateGetAreaPoints(e,t),i=t?o.getSubYScale:o.getYScale,r=function(e){return(t?o.subxx:o.xx).call(o,e)},l=function(e,t){return 0<a.data_groups.length?n(e,t)[0][1]:i.call(o,e.id)(o.getAreaBaseValue(e.id))},c=function(e,t){return 0<a.data_groups.length?n(e,t)[1][1]:i.call(o,e.id)(e.value)};return s=a.axis_rotated?s.x0(l).x1(c).y(r):s.x(r).y0(a.area_above?0:l).y1(c),a.line_connectNull||(s=s.defined(function(e){return null!==e.value})),function(e){var t,n=a.line_connectNull?o.filterRemoveNull(e.values):e.values,i=0,r=0;return o.isAreaType(e)?(o.isStepType(e)&&(n=o.convertValuesToStep(n)),t=s.interpolate(o.getInterpolate(e))(n)):(n[0]&&(i=o.x(n[0].x),r=o.getYScale(e.id)(n[0].value)),t=a.axis_rotated?"M "+r+" "+i:"M "+i+" "+r),t||"M 0 0"}},m.getAreaBaseValue=function(){return 0},m.generateGetAreaPoints=function(e,t){var a=this,s=a.config,n=e.__max__+1,l=a.getShapeX(0,n,e,!!t),c=a.getShapeY(!!t),u=a.getShapeOffset(a.isAreaType,e,!!t),d=t?a.getSubYScale:a.getYScale;return function(e,t){var n=d.call(a,e.id)(0),i=u(e,t)||n,r=l(e),o=c(e);return s.axis_rotated&&(0<e.value&&o<n||e.value<0&&n<o)&&(o=n),[[r,i],[r,o-(n-i)],[r,o-(n-i)],[r,i]]}},m.updateCircle=function(){var e=this;e.mainCircle=e.main.selectAll("."+H.circles).selectAll("."+H.circle).data(e.lineOrScatterData.bind(e)),e.mainCircle.enter().append("circle").attr("class",e.classCircle.bind(e)).attr("r",e.pointR.bind(e)).style("fill",e.color),e.mainCircle.style("opacity",e.initialOpacityForCircle.bind(e)),e.mainCircle.exit().remove()},m.redrawCircle=function(e,t,n){var i=this.main.selectAll("."+H.selectedCircle);return[(n?this.mainCircle.transition(Math.random().toString()):this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",e).attr("cy",t),(n?i.transition(Math.random().toString()):i).attr("cx",e).attr("cy",t)]},m.circleX=function(e){return e.x||0===e.x?this.x(e.x):null},m.updateCircleY=function(){var e,n,t=this;0<t.config.data_groups.length?(e=t.getShapeIndices(t.isLineType),n=t.generateGetLinePoints(e),t.circleY=function(e,t){return n(e,t)[0][1]}):t.circleY=function(e){return t.getYScale(e.id)(e.value)}},m.getCircles=function(e,t){return(t?this.main.selectAll("."+H.circles+this.getTargetSelectorSuffix(t)):this.main).selectAll("."+H.circle+(T(e)?"-"+e:""))},m.expandCircles=function(e,t,n){var i=this.pointExpandedR.bind(this);n&&this.unexpandCircles(),this.getCircles(e,t).classed(H.EXPANDED,!0).attr("r",i)},m.unexpandCircles=function(e){var t=this,n=t.pointR.bind(t);t.getCircles(e).filter(function(){return t.d3.select(this).classed(H.EXPANDED)}).classed(H.EXPANDED,!1).attr("r",n)},m.pointR=function(e){var t=this.config;return this.isStepType(e)?0:h(t.point_r)?t.point_r(e):t.point_r},m.pointExpandedR=function(e){var t=this.config;return t.point_focus_expand_enabled?h(t.point_focus_expand_r)?t.point_focus_expand_r(e):t.point_focus_expand_r?t.point_focus_expand_r:1.75*this.pointR(e):this.pointR(e)},m.pointSelectR=function(e){var t=this.config;return h(t.point_select_r)?t.point_select_r(e):t.point_select_r?t.point_select_r:4*this.pointR(e)},m.isWithinCircle=function(e,t){var n=this.d3,i=n.mouse(e),r=n.select(e),o=+r.attr("cx"),a=+r.attr("cy");return Math.sqrt(Math.pow(o-i[0],2)+Math.pow(a-i[1],2))<t},m.isWithinStep=function(e,t){return Math.abs(t-this.d3.mouse(e)[1])<30},m.getCurrentWidth=function(){var e=this.config;return e.size_width?e.size_width:this.getParentWidth()},m.getCurrentHeight=function(){var e=this.config,t=e.size_height?e.size_height:this.getParentHeight();return 0<t?t:320/(this.hasType("gauge")&&!e.gauge_fullCircle?2:1)},m.getCurrentPaddingTop=function(){var e=this.config,t=T(e.padding_top)?e.padding_top:0;return this.title&&this.title.node()&&(t+=this.getTitlePadding()),t},m.getCurrentPaddingBottom=function(){var e=this.config;return T(e.padding_bottom)?e.padding_bottom:0},m.getCurrentPaddingLeft=function(e){var t=this.config;return T(t.padding_left)?t.padding_left:t.axis_rotated?!t.axis_x_show||t.axis_x_inner?1:Math.max(n(this.getAxisWidthByAxisId("x",e)),40):!t.axis_y_show||t.axis_y_inner?this.axis.getYAxisLabelPosition().isOuter?30:1:n(this.getAxisWidthByAxisId("y",e))},m.getCurrentPaddingRight=function(){var e=this.config,t=this.isLegendRight?this.getLegendWidth()+20:0;return T(e.padding_right)?e.padding_right+1:e.axis_rotated?10+t:!e.axis_y2_show||e.axis_y2_inner?2+t+(this.axis.getY2AxisLabelPosition().isOuter?20:0):n(this.getAxisWidthByAxisId("y2"))+t},m.getParentRectValue=function(t){for(var n,i=this.selectChart.node();i&&"BODY"!==i.tagName;){try{n=i.getBoundingClientRect()[t]}catch(e){"width"===t&&(n=i.offsetWidth)}if(n)break;i=i.parentNode}return n},m.getParentWidth=function(){return this.getParentRectValue("width")},m.getParentHeight=function(){var e=this.selectChart.style("height");return 0<e.indexOf("px")?+e.replace("px",""):0},m.getSvgLeft=function(e){var t=this.config,n=t.axis_rotated||!t.axis_rotated&&!t.axis_y_inner,i=t.axis_rotated?H.axisX:H.axisY,r=this.main.select("."+i).node(),o=r&&n?r.getBoundingClientRect():{right:0},a=this.selectChart.node().getBoundingClientRect(),s=this.hasArcType(),l=o.right-a.left-(s?0:this.getCurrentPaddingLeft(e));return 0<l?l:0},m.getAxisWidthByAxisId=function(e,t){var n=this.axis.getLabelPositionById(e);return this.axis.getMaxTickWidth(e,t)+(n.isInner?20:40)},m.getHorizontalAxisHeight=function(e){var t=this.config,n=30;return"x"!==e||t.axis_x_show?"x"===e&&t.axis_x_height?t.axis_x_height:"y"!==e||t.axis_y_show?"y2"!==e||t.axis_y2_show?("x"===e&&!t.axis_rotated&&t.axis_x_tick_rotate&&(n=30+this.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-t.axis_x_tick_rotate)/180)),"y"===e&&t.axis_rotated&&t.axis_y_tick_rotate&&(n=30+this.axis.getMaxTickWidth(e)*Math.cos(Math.PI*(90-t.axis_y_tick_rotate)/180)),n+(this.axis.getLabelPositionById(e).isInner?0:10)+("y2"===e?-10:0)):this.rotated_padding_top:!t.legend_show||this.isLegendRight||this.isLegendInset?1:10:8},m.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},m.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+H.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},m.initSubchart=function(){var e=this,t=e.config,n=e.context=e.svg.append("g").attr("transform",e.getTranslate("context")),i=t.subchart_show?"visible":"hidden";n.style("visibility",i),n.append("g").attr("clip-path",e.clipPathForSubchart).attr("class",H.chart),n.select("."+H.chart).append("g").attr("class",H.chartBars),n.select("."+H.chart).append("g").attr("class",H.chartLines),n.append("g").attr("clip-path",e.clipPath).attr("class",H.brush).call(e.brush),e.axes.subx=n.append("g").attr("class",H.axisX).attr("transform",e.getTranslate("subx")).attr("clip-path",t.axis_rotated?"":e.clipPathForXAxis).style("visibility",t.subchart_axis_x_show?i:"hidden")},m.updateTargetsForSubchart=function(e){var t,n=this,i=n.context,r=n.config,o=n.classChartBar.bind(n),a=n.classBars.bind(n),s=n.classChartLine.bind(n),l=n.classLines.bind(n),c=n.classAreas.bind(n);r.subchart_show&&(i.select("."+H.chartBars).selectAll("."+H.chartBar).data(e).attr("class",o).enter().append("g").style("opacity",0).attr("class",o).append("g").attr("class",a),(t=i.select("."+H.chartLines).selectAll("."+H.chartLine).data(e).attr("class",s).enter().append("g").style("opacity",0).attr("class",s)).append("g").attr("class",l),t.append("g").attr("class",c),i.selectAll("."+H.brush+" rect").attr(r.axis_rotated?"width":"height",r.axis_rotated?n.width2:n.height2))},m.updateBarForSubchart=function(e){var t=this;t.contextBar=t.context.selectAll("."+H.bars).selectAll("."+H.bar).data(t.barData.bind(t)),t.contextBar.enter().append("path").attr("class",t.classBar.bind(t)).style("stroke","none").style("fill",t.color),t.contextBar.style("opacity",t.initialOpacity.bind(t)),t.contextBar.exit().transition().duration(e).style("opacity",0).remove()},m.redrawBarForSubchart=function(e,t,n){(t?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",e).style("opacity",1)},m.updateLineForSubchart=function(e){var t=this;t.contextLine=t.context.selectAll("."+H.lines).selectAll("."+H.line).data(t.lineData.bind(t)),t.contextLine.enter().append("path").attr("class",t.classLine.bind(t)).style("stroke",t.color),t.contextLine.style("opacity",t.initialOpacity.bind(t)),t.contextLine.exit().transition().duration(e).style("opacity",0).remove()},m.redrawLineForSubchart=function(e,t,n){(t?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",e).style("opacity",1)},m.updateAreaForSubchart=function(e){var t=this,n=t.d3;t.contextArea=t.context.selectAll("."+H.areas).selectAll("."+H.area).data(t.lineData.bind(t)),t.contextArea.enter().append("path").attr("class",t.classArea.bind(t)).style("fill",t.color).style("opacity",function(){return t.orgAreaOpacity=+n.select(this).style("opacity"),0}),t.contextArea.style("opacity",0),t.contextArea.exit().transition().duration(e).style("opacity",0).remove()},m.redrawAreaForSubchart=function(e,t,n){(t?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",e).style("fill",this.color).style("opacity",this.orgAreaOpacity)},m.redrawSubchart=function(e,t,n,i,r,o,a){var s,l,c,u=this,d=u.d3,h=u.config;u.context.style("visibility",h.subchart_show?"visible":"hidden"),h.subchart_show&&(d.event&&"zoom"===d.event.type&&u.brush.extent(u.x.orgDomain()).update(),e&&(u.brush.empty()||u.brush.extent(u.x.orgDomain()).update(),s=u.generateDrawArea(r,!0),l=u.generateDrawBar(o,!0),c=u.generateDrawLine(a,!0),u.updateBarForSubchart(n),u.updateLineForSubchart(n),u.updateAreaForSubchart(n),u.redrawBarForSubchart(l,n,n),u.redrawLineForSubchart(c,n,n),u.redrawAreaForSubchart(s,n,n)))},m.redrawForBrush=function(){var e=this.x;this.redraw({withTransition:!1,withY:this.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),this.config.subchart_onbrush.call(this.api,e.orgDomain())},m.transformContext=function(e,t){var n;t&&t.axisSubX?n=t.axisSubX:(n=this.context.select("."+H.axisX),e&&(n=n.transition())),this.context.attr("transform",this.getTranslate("context")),n.attr("transform",this.getTranslate("subx"))},m.getDefaultExtent=function(){var e=this.config,t=h(e.axis_x_extent)?e.axis_x_extent(this.getXDomain(this.data.targets)):e.axis_x_extent;return this.isTimeSeries()&&(t=[this.parseDate(t[0]),this.parseDate(t[1])]),t},m.initText=function(){this.main.select("."+H.chart).append("g").attr("class",H.chartTexts),this.mainText=this.d3.selectAll([])},m.updateTargetsForText=function(e){var t=this.classChartText.bind(this),n=this.classTexts.bind(this),i=this.classFocus.bind(this);this.main.select("."+H.chartTexts).selectAll("."+H.chartText).data(e).attr("class",function(e){return t(e)+i(e)}).enter().append("g").attr("class",t).style("opacity",0).style("pointer-events","none").append("g").attr("class",n)},m.updateText=function(e){var i=this,t=i.config,n=i.barOrLineData.bind(i),r=i.classText.bind(i);i.mainText=i.main.selectAll("."+H.texts).selectAll("."+H.text).data(n),i.mainText.enter().append("text").attr("class",r).attr("text-anchor",function(e){return t.axis_rotated?e.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(e){return i.color(e)}).style("fill-opacity",0),i.mainText.text(function(e,t,n){return i.dataLabelFormat(e.id)(e.value,e.id,t,n)}),i.mainText.exit().transition().duration(e).style("fill-opacity",0).remove()},m.redrawText=function(e,t,n,i){return[(i?this.mainText.transition():this.mainText).attr("x",e).attr("y",t).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},m.getTextRect=function(e,t,n){var i,r=this.d3.select("body").append("div").classed("c3",!0),o=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([e]).enter().append("text").classed(t||"",!0).style("font",a).text(e).each(function(){i=this.getBoundingClientRect()}),r.remove(),i},m.generateXYForText=function(e,t,n,i){var r=this,o=r.generateGetAreaPoints(e,!1),a=r.generateGetBarPoints(t,!1),s=r.generateGetLinePoints(n,!1),l=i?r.getXForText:r.getYForText;return function(e,t){var n=r.isAreaType(e)?o:r.isBarType(e)?a:s;return l.call(r,n(e,t),e,this)}},m.getXForText=function(e,t,n){var i,r,o=n.getBoundingClientRect();return this.config.axis_rotated?(r=this.isBarType(t)?4:6,i=e[2][1]+r*(t.value<0?-1:1)):i=this.hasType("bar")?(e[2][0]+e[0][0])/2:e[0][0],null===t.value&&(i>this.width?i=this.width-o.width:i<0&&(i=4)),i},m.getYForText=function(e,t,n){var i,r=n.getBoundingClientRect();return this.config.axis_rotated?i=(e[0][0]+e[2][0]+.6*r.height)/2:(i=e[2][1],t.value<0||0===t.value&&!this.hasPositiveValue?(i+=r.height,this.isBarType(t)&&this.isSafari()?i-=3:!this.isBarType(t)&&this.isChrome()&&(i+=3)):i+=this.isBarType(t)?-3:-6),null!==t.value||this.config.axis_rotated||(i<r.height?i=r.height:i>this.height&&(i=this.height-4)),i},m.initTitle=function(){this.title=this.svg.append("text").text(this.config.title_text).attr("class",this.CLASS.title)},m.redrawTitle=function(){this.title.attr("x",this.xForTitle.bind(this)).attr("y",this.yForTitle.bind(this))},m.xForTitle=function(){var e=this,t=e.config,n=t.title_position||"left";return 0<=n.indexOf("right")?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-t.title_padding.right:0<=n.indexOf("center")?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:t.title_padding.left},m.yForTitle=function(){return this.config.title_padding.top+this.getTextRect(this.title.node().textContent,this.CLASS.title,this.title.node()).height},m.getTitlePadding=function(){return this.yForTitle()+this.config.title_padding.bottom},m.initTooltip=function(){var e,t=this,n=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",H.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(t.isTimeSeries()&&l(n.tooltip_init_x)){for(n.tooltip_init_x=t.parseDate(n.tooltip_init_x),e=0;e<t.data.targets[0].values.length&&t.data.targets[0].values[e].x-n.tooltip_init_x!=0;e++);n.tooltip_init_x=e}t.tooltip.html(n.tooltip_contents.call(t,t.data.targets.map(function(e){return t.addName(e.values[n.tooltip_init_x])}),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},m.getTooltipSortFunction=function(){var e=this.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=this.orderTargets(this.data.targets).map(function(e){return e.id});return(this.isOrderAsc()||this.isOrderDesc())&&(n=n.reverse()),function(e,t){return n.indexOf(e.id)-n.indexOf(t.id)}}var i=e.tooltip_order;void 0===i&&(i=e.data_order);var r=function(e){return e?e.value:null};if(l(i)&&"asc"===i.toLowerCase())return function(e,t){return r(e)-r(t)};if(l(i)&&"desc"===i.toLowerCase())return function(e,t){return r(t)-r(e)};if(h(i)){var t=i;return void 0===e.tooltip_order&&(t=function(e,t){return i(e?{id:e.id,values:[e]}:null,t?{id:t.id,values:[t]}:null)}),t}return a(i)?function(e,t){return i.indexOf(e.id)-i.indexOf(t.id)}:void 0},m.getTooltipContent=function(e,t,n,i){var r,o,a,s,l,c,u=this.config,d=u.tooltip_format_title||t,h=u.tooltip_format_name||function(e){return e},p=u.tooltip_format_value||n,f=this.getTooltipSortFunction();for(f&&e.sort(f),o=0;o<e.length;o++)if(e[o]&&(e[o].value||0===e[o].value)&&(r||(a=g(d?d(e[o].x):e[o].x),r="<table class='"+this.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),void 0!==(s=g(p(e[o].value,e[o].ratio,e[o].id,e[o].index,e))))){if(null===e[o].name)continue;l=g(h(e[o].name,e[o].ratio,e[o].id,e[o].index)),c=this.levelColor?this.levelColor(e[o].value):i(e[o].id),r+="<tr class='"+this.CLASS.tooltipName+"-"+this.getTargetSelectorSuffix(e[o].id)+"'>",r+="<td class='name'><span style='background-color:"+c+"'></span>"+l+"</td>",r+="<td class='value'>"+s+"</td>",r+="</tr>"}return r+"</table>"},m.tooltipPosition=function(e,t,n,i){var r,o,a,s,l,c=this,u=c.config,d=c.d3,h=c.hasArcType(),p=d.mouse(i);return h?(o=(c.width-(c.isLegendRight?c.getLegendWidth():0))/2+p[0],s=(c.hasType("gauge")?c.height:c.height/2)+p[1]+20):(r=c.getSvgLeft(!0),u.axis_rotated?(a=(o=r+p[0]+100)+t,l=c.currentWidth-c.getCurrentPaddingRight(),s=c.x(e[0].x)+20):(a=(o=r+c.getCurrentPaddingLeft(!0)+c.x(e[0].x)+20)+t,l=r+c.currentWidth-c.getCurrentPaddingRight(),s=p[1]+15),l<a&&(o-=a-l+20),s+n>c.currentHeight&&(s-=n+30)),s<0&&(s=0),{top:s,left:o}},m.showTooltip=function(e,t){var n,i,r,o=this,a=o.config,s=o.hasArcType(),l=e.filter(function(e){return e&&T(e.value)}),c=a.tooltip_position||m.tooltipPosition;0!==l.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,e,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),i=o.tooltip.property("offsetHeight"),r=c.call(this,l,n,i,t),o.tooltip.style("top",r.top+"px").style("left",r.left+"px"))},m.hideTooltip=function(){this.tooltip.style("display","none")},m.setTargetType=function(e,t){var n=this,i=n.config;n.mapToTargetIds(e).forEach(function(e){n.withoutFadeIn[e]=t===i.data_types[e],i.data_types[e]=t}),e||(i.data_type=t)},m.hasType=function(n,e){var i=this.config.data_types,r=!1;return(e=e||this.data.targets)&&e.length?e.forEach(function(e){var t=i[e.id];(t&&0<=t.indexOf(n)||!t&&"line"===n)&&(r=!0)}):Object.keys(i).length?Object.keys(i).forEach(function(e){i[e]===n&&(r=!0)}):r=this.config.data_type===n,r},m.hasArcType=function(e){return this.hasType("pie",e)||this.hasType("donut",e)||this.hasType("gauge",e)},m.isLineType=function(e){var t=this.config,n=l(e)?e:e.id;return!t.data_types[n]||0<=["line","spline","area","area-spline","step","area-step"].indexOf(t.data_types[n])},m.isStepType=function(e){var t=l(e)?e:e.id;return 0<=["step","area-step"].indexOf(this.config.data_types[t])},m.isSplineType=function(e){var t=l(e)?e:e.id;return 0<=["spline","area-spline"].indexOf(this.config.data_types[t])},m.isAreaType=function(e){var t=l(e)?e:e.id;return 0<=["area","area-spline","area-step"].indexOf(this.config.data_types[t])},m.isBarType=function(e){var t=l(e)?e:e.id;return"bar"===this.config.data_types[t]},m.isScatterType=function(e){var t=l(e)?e:e.id;return"scatter"===this.config.data_types[t]},m.isPieType=function(e){var t=l(e)?e:e.id;return"pie"===this.config.data_types[t]},m.isGaugeType=function(e){var t=l(e)?e:e.id;return"gauge"===this.config.data_types[t]},m.isDonutType=function(e){var t=l(e)?e:e.id;return"donut"===this.config.data_types[t]},m.isArcType=function(e){return this.isPieType(e)||this.isDonutType(e)||this.isGaugeType(e)},m.lineData=function(e){return this.isLineType(e)?[e]:[]},m.arcData=function(e){return this.isArcType(e.data)?[e]:[]},m.barData=function(e){return this.isBarType(e)?e.values:[]},m.lineOrScatterData=function(e){return this.isLineType(e)||this.isScatterType(e)?e.values:[]},m.barOrLineData=function(e){return this.isBarType(e)||this.isLineType(e)?e.values:[]},m.isInterpolationType=function(e){return 0<=["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(e)},m.isSafari=function(){var e=window.navigator.userAgent;return 0<=e.indexOf("Safari")&&e.indexOf("Chrome")<0},m.isChrome=function(){return 0<=window.navigator.userAgent.indexOf("Chrome")},m.initZoom=function(){var t,n=this,i=n.d3,r=n.config;n.zoom=i.behavior.zoom().on("zoomstart",function(){t=i.event.sourceEvent,n.zoom.altDomain=i.event.sourceEvent.altKey?n.x.orgDomain():null,r.zoom_onzoomstart.call(n.api,i.event.sourceEvent)}).on("zoom",function(){n.redrawForZoom.call(n)}).on("zoomend",function(){var e=i.event.sourceEvent;e&&t.clientX===e.clientX&&t.clientY===e.clientY||(n.redrawEventRect(),n.updateZoom(),r.zoom_onzoomend.call(n.api,n.x.orgDomain()))}),n.zoom.scale=function(e){return r.axis_rotated?this.y(e):this.x(e)},n.zoom.orgScaleExtent=function(){var e=r.zoom_extent?r.zoom_extent:[1,10];return[e[0],Math.max(n.getMaxDataCount()/e[1],e[1])]},n.zoom.updateScaleExtent=function(){var e=L(n.x.orgDomain())/L(n.getZoomDomain()),t=this.orgScaleExtent();return this.scaleExtent([t[0]*e,t[1]*e]),this}},m.getZoomDomain=function(){var e=this.config,t=this.d3;return[t.min([this.orgXDomain[0],e.zoom_x_min]),t.max([this.orgXDomain[1],e.zoom_x_max])]},m.updateZoom=function(){var e=this.config.zoom_enabled?this.zoom:function(){};this.main.select("."+H.zoomRect).call(e).on("dblclick.zoom",null),this.main.selectAll("."+H.eventRect).call(e).on("dblclick.zoom",null)},m.redrawForZoom=function(){var e=this,t=e.d3,n=e.config,i=e.zoom,r=e.x;if(n.zoom_enabled&&0!==e.filterTargetsToShow(e.data.targets).length){if("mousemove"===t.event.sourceEvent.type&&i.altDomain)return r.domain(i.altDomain),void i.scale(r).updateScaleExtent();e.isCategorized()&&r.orgDomain()[0]===e.orgXDomain[0]&&r.domain([e.orgXDomain[0]-1e-10,r.orgDomain()[1]]),e.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===t.event.sourceEvent.type&&(e.cancelClick=!0),n.zoom_onzoom.call(e.api,r.orgDomain())}},v}),function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return n(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e||(e=window),t||(t="undefined"!=typeof window?require("jquery"):require("jquery")(e)),n(t,e,e.document)}:n(jQuery,window,document)}(function(B,A,y,V){"use strict";var f,b,t,e,D=function(S){this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new b(e?ot(this[f.iApiIndex]):this)},this.fnAddData=function(e,t){var n=this.api(!0),i=B.isArray(e)&&(B.isArray(e[0])||B.isPlainObject(e[0]))?n.rows.add(e):n.row.add(e);return(t===V||t)&&n.draw(),i.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===V||e?t.draw(!1):""===i.sX&&""===i.sY||He(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===V||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),r=i.rows(e),o=r.settings()[0],a=o.aoData[r[0][0]];return r.remove(),t&&t.call(this,o,a),(n===V||n)&&i.draw(),a},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,r,o){var a=this.api(!0);null===t||t===V?a.search(e,n,i,o):a.column(t).search(e,n,i,o),a.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e===V)return n.data().toArray();var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==V||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null},this.fnGetNodes=function(e){var t=this.api(!0);return e!==V?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"!=n&&"TH"!=n)return null;var i=t.cell(e).index();return[i.row,i.columnVisible,i.column]},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===V||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(n===V||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return ot(this[f.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,r){var o=this.api(!0);return n===V||null===n?o.row(t).data(e):o.cell(t,n).data(e),(r===V||r)&&o.columns.adjust(),(i===V||i)&&o.draw(),0},this.fnVersionCheck=f.fnVersionCheck;var k=this,_=S===V,T=this.length;for(var e in _&&(S={}),this.oApi=this.internal=f.internal,D.ext.internal)e&&(this[e]=Ot(e));return this.each(function(){var o,a=1<T?lt({},S,!0):S,s=0,e=this.getAttribute("id"),l=!1,t=D.defaults,c=B(this);if("table"==this.nodeName.toLowerCase()){P(t),$(t.column),E(t,t,!0),E(t.column,t.column,!0),E(t,B.extend(a,c.data()));var n=D.settings;for(s=0,o=n.length;s<o;s++){var i=n[s];if(i.nTable==this||i.nTHead&&i.nTHead.parentNode==this||i.nTFoot&&i.nTFoot.parentNode==this){var r=a.bRetrieve!==V?a.bRetrieve:t.bRetrieve,u=a.bDestroy!==V?a.bDestroy:t.bDestroy;if(_||r)return i.oInstance;if(u){i.oInstance.fnDestroy();break}return void at(i,0,"Cannot reinitialise DataTable",3)}if(i.sTableId==this.id){n.splice(s,1);break}}null!==e&&""!==e||(e="DataTables_Table_"+D.ext._unique++,this.id=e);var d=B.extend(!0,{},D.models.oSettings,{sDestroyWidth:c[0].style.width,sInstance:e,sTableId:e});d.nTable=this,d.oApi=k.internal,d.oInit=a,n.push(d),d.oInstance=1===k.length?k:c.dataTable(),P(a),I(a.oLanguage),a.aLengthMenu&&!a.iDisplayLength&&(a.iDisplayLength=B.isArray(a.aLengthMenu[0])?a.aLengthMenu[0][0]:a.aLengthMenu[0]),a=lt(B.extend(!0,{},t),a),st(d.oFeatures,a,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),st(d,a,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),st(d.oScroll,a,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),st(d.oLanguage,a,"fnInfoCallback"),ut(d,"aoDrawCallback",a.fnDrawCallback,"user"),ut(d,"aoServerParams",a.fnServerParams,"user"),ut(d,"aoStateSaveParams",a.fnStateSaveParams,"user"),ut(d,"aoStateLoadParams",a.fnStateLoadParams,"user"),ut(d,"aoStateLoaded",a.fnStateLoaded,"user"),ut(d,"aoRowCallback",a.fnRowCallback,"user"),ut(d,"aoRowCreatedCallback",a.fnCreatedRow,"user"),ut(d,"aoHeaderCallback",a.fnHeaderCallback,"user"),ut(d,"aoFooterCallback",a.fnFooterCallback,"user"),ut(d,"aoInitComplete",a.fnInitComplete,"user"),ut(d,"aoPreDrawCallback",a.fnPreDrawCallback,"user"),d.rowIdFn=J(a.rowId),M(d);var h=d.oClasses;if(B.extend(h,D.ext.classes,a.oClasses),c.addClass(h.sTable),d.iInitDisplayStart===V&&(d.iInitDisplayStart=a.iDisplayStart,d._iDisplayStart=a.iDisplayStart),null!==a.iDeferLoading){d.bDeferLoading=!0;var p=B.isArray(a.iDeferLoading);d._iRecordsDisplay=p?a.iDeferLoading[0]:a.iDeferLoading,d._iRecordsTotal=p?a.iDeferLoading[1]:a.iDeferLoading}var f=d.oLanguage;B.extend(!0,f,a.oLanguage),f.sUrl&&(B.ajax({dataType:"json",url:f.sUrl,success:function(e){I(e),E(t.oLanguage,e),B.extend(!0,f,e),$e(d)},error:function(){$e(d)}}),l=!0),null===a.asStripeClasses&&(d.asStripeClasses=[h.sStripeOdd,h.sStripeEven]);var g=d.asStripeClasses,m=c.children("tbody").find("tr").eq(0);-1!==B.inArray(!0,B.map(g,function(e,t){return m.hasClass(e)}))&&(B("tbody tr",this).removeClass(g.join(" ")),d.asDestroyStripes=g.slice());var v,y=[],b=this.getElementsByTagName("thead");if(0!==b.length&&(ue(d.aoHeader,b[0]),y=de(d)),null===a.aoColumns)for(v=[],s=0,o=y.length;s<o;s++)v.push(null);else v=a.aoColumns;for(s=0,o=v.length;s<o;s++)O(d,y?y[s]:null);if(R(d,a.aoColumnDefs,v,function(e,t){N(d,e,t)}),m.length){var w=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};B(m[0]).children("th, td").each(function(e,t){var n=d.aoColumns[e];if(n.mData===e){var i=w(t,"sort")||w(t,"order"),r=w(t,"filter")||w(t,"search");null===i&&null===r||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:V,type:null!==i?e+".@data-"+i:V,filter:null!==r?e+".@data-"+r:V},N(d,e))}})}var x=d.oFeatures,C=function(){if(a.aaSorting===V){var e=d.aaSorting;for(s=0,o=e.length;s<o;s++)e[s][1]=d.aoColumns[s].asSorting[0]}tt(d),x.bSort&&ut(d,"aoDrawCallback",function(){if(d.bSorted){var e=Je(d),n={};B.each(e,function(e,t){n[t.src]=t.dir}),dt(d,null,"order",[d,e,n]),Qe(d)}}),ut(d,"aoDrawCallback",function(){(d.bSorted||"ssp"===ft(d)||x.bDeferRender)&&tt(d)},"sc");var t=c.children("caption").each(function(){this._captionSide=B(this).css("caption-side")}),n=c.children("thead");0===n.length&&(n=B("<thead/>").appendTo(c)),d.nTHead=n[0];var i=c.children("tbody");0===i.length&&(i=B("<tbody/>").appendTo(c)),d.nTBody=i[0];var r=c.children("tfoot");if(0===r.length&&0<t.length&&(""!==d.oScroll.sX||""!==d.oScroll.sY)&&(r=B("<tfoot/>").appendTo(c)),0===r.length||0===r.children().length?c.addClass(h.sNoFooter):0<r.length&&(d.nTFoot=r[0],ue(d.aoFooter,d.nTFoot)),a.aaData)for(s=0;s<a.aaData.length;s++)F(d,a.aaData[s]);else(d.bDeferLoading||"dom"==ft(d))&&q(d,B(d.nTBody).children("tr"));d.aiDisplay=d.aiDisplayMaster.slice(),!(d.bInitialised=!0)===l&&$e(d)};a.bStateSave?(x.bStateSave=!0,ut(d,"aoDrawCallback",it,"state_save"),rt(d,a,C)):C()}else at(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),k=null,this},n={},i=/[\r\n]/g,r=/<.*?>/g,o=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,a=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),s=/[',$£€¥%\u2009\u202F\u20BD\u20a9\u20BArfkɃΞ]/gi,l=function(e){return!e||!0===e||"-"===e},p=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},c=function(e,t){return n[t]||(n[t]=new RegExp(Se(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(n[t],"."):e},u=function(e,t,n){var i="string"==typeof e;return!!l(e)||(t&&i&&(e=c(e,t)),n&&i&&(e=e.replace(s,"")),!isNaN(parseFloat(e))&&isFinite(e))},d=function(e,t,n){return!!l(e)||((l(i=e)||"string"==typeof i)&&!!u(h(e),t,n)||null);var i},U=function(e,t,n){var i=[],r=0,o=e.length;if(n!==V)for(;r<o;r++)e[r]&&e[r][t]&&i.push(e[r][t][n]);else for(;r<o;r++)e[r]&&i.push(e[r][t]);return i},w=function(e,t,n,i){var r=[],o=0,a=t.length;if(i!==V)for(;o<a;o++)e[t[o]][n]&&r.push(e[t[o]][n][i]);else for(;o<a;o++)r.push(e[t[o]][n]);return r},g=function(e,t){var n,i=[];t===V?(t=0,n=e):(n=t,t=e);for(var r=t;r<n;r++)i.push(r);return i},x=function(e){for(var t=[],n=0,i=e.length;n<i;n++)e[n]&&t.push(e[n]);return t},h=function(e){return e.replace(r,"")},m=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],i=1,r=t.length;i<r;i++){if(t[i]===n)return!1;n=t[i]}return!0}(e))return e.slice();var t,n,i,r=[],o=e.length,a=0;e:for(n=0;n<o;n++){for(t=e[n],i=0;i<a;i++)if(r[i]===t)continue e;r.push(t),a++}return r};function v(n){var i,r,o={};B.each(n,function(e,t){(i=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=e.replace(i[0],i[2].toLowerCase()),o[r]=e,"o"===i[1]&&v(n[e]))}),n._hungarianMap=o}function E(n,i,r){var o;n._hungarianMap||v(n),B.each(i,function(e,t){(o=n._hungarianMap[e])===V||!r&&i[o]!==V||("o"===o.charAt(0)?(i[o]||(i[o]={}),B.extend(!0,i[o],i[e]),E(n[o],i[o],r)):i[o]=i[e])})}function I(e){var t=D.defaults.oLanguage,n=t.sDecimal;if(n&&$t(n),e){var i=e.sZeroRecords;!e.sEmptyTable&&i&&"No data available in table"===t.sEmptyTable&&st(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&i&&"Loading..."===t.sLoadingRecords&&st(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var r=e.sDecimal;r&&n!==r&&$t(r)}}D.util={throttle:function(i,e){var r,o,a=e!==V?e:200;return function(){var e=this,t=+new Date,n=arguments;r&&t<r+a?(clearTimeout(o),o=setTimeout(function(){r=V,i.apply(e,n)},a)):(r=t,i.apply(e,n))}},escapeRegex:function(e){return e.replace(a,"\\$1")}};var C=function(e,t,n){e[t]!==V&&(e[n]=e[t])};function P(e){C(e,"ordering","bSort"),C(e,"orderMulti","bSortMulti"),C(e,"orderClasses","bSortClasses"),C(e,"orderCellsTop","bSortCellsTop"),C(e,"order","aaSorting"),C(e,"orderFixed","aaSortingFixed"),C(e,"paging","bPaginate"),C(e,"pagingType","sPaginationType"),C(e,"pageLength","iDisplayLength"),C(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,i=t.length;n<i;n++)t[n]&&E(D.models.oSearch,t[n])}function $(e){C(e,"orderable","bSortable"),C(e,"orderData","aDataSort"),C(e,"orderSequence","asSorting"),C(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||B.isArray(t)||(e.aDataSort=[t])}function M(e){if(!D.__browser){var t={};D.__browser=t;var n=B("<div/>").css({position:"fixed",top:0,left:-1*B(A).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(B("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(B("<div/>").css({width:"100%",height:10}))).appendTo("body"),i=n.children(),r=i.children();t.barWidth=i[0].offsetWidth-i[0].clientWidth,t.bScrollOversize=100===r[0].offsetWidth&&100!==i[0].clientWidth,t.bScrollbarLeft=1!==Math.round(r.offset().left),t.bBounding=!!n[0].getBoundingClientRect().width,n.remove()}B.extend(e.oBrowser,D.__browser),e.oScroll.iBarWidth=D.__browser.barWidth}function S(e,t,n,i,r,o){var a,s=i,l=!1;for(n!==V&&(a=n,l=!0);s!==r;)e.hasOwnProperty(s)&&(a=l?t(a,e[s],s,e):e[s],l=!0,s+=o);return a}function O(e,t){var n=D.defaults.column,i=e.aoColumns.length,r=B.extend({},D.models.oColumn,n,{nTh:t||y.createElement("th"),sTitle:n.sTitle?n.sTitle:t?t.innerHTML:"",aDataSort:n.aDataSort?n.aDataSort:[i],mData:n.mData?n.mData:i,idx:i});e.aoColumns.push(r);var o=e.aoPreSearchCols;o[i]=B.extend({},D.models.oSearch,o[i]),N(e,i,B(t).data())}function N(e,t,n){var i=e.aoColumns[t],r=e.oClasses,o=B(i.nTh);if(!i.sWidthOrig){i.sWidthOrig=o.attr("width")||null;var a=(o.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);a&&(i.sWidthOrig=a[1])}n!==V&&null!==n&&($(n),E(D.defaults.column,n),n.mDataProp===V||n.mData||(n.mData=n.mDataProp),n.sType&&(i._sManualType=n.sType),n.className&&!n.sClass&&(n.sClass=n.className),n.sClass&&o.addClass(n.sClass),B.extend(i,n),st(i,n,"sWidth","sWidthOrig"),n.iDataSort!==V&&(i.aDataSort=[n.iDataSort]),st(i,n,"aDataSort"));var s=i.mData,l=J(s),c=i.mRender?J(i.mRender):null,u=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};i._bAttrSrc=B.isPlainObject(s)&&(u(s.sort)||u(s.type)||u(s.filter)),i._setter=null,i.fnGetData=function(e,t,n){var i=l(e,t,V,n);return c&&t?c(i,t,e,n):i},i.fnSetData=function(e,t,n){return K(s)(e,t,n)},"number"!=typeof s&&(e._rowReadObject=!0),e.oFeatures.bSort||(i.bSortable=!1,o.addClass(r.sSortableNone));var d=-1!==B.inArray("asc",i.asSorting),h=-1!==B.inArray("desc",i.asSorting);i.bSortable&&(d||h)?d&&!h?(i.sSortingClass=r.sSortableAsc,i.sSortingClassJUI=r.sSortJUIAscAllowed):!d&&h?(i.sSortingClass=r.sSortableDesc,i.sSortingClassJUI=r.sSortJUIDescAllowed):(i.sSortingClass=r.sSortable,i.sSortingClassJUI=r.sSortJUI):(i.sSortingClass=r.sSortableNone,i.sSortingClassJUI="")}function z(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;Ue(e);for(var n=0,i=t.length;n<i;n++)t[n].nTh.style.width=t[n].sWidth}var r=e.oScroll;""===r.sY&&""===r.sX||He(e),dt(e,null,"column-sizing",[e])}function W(e,t){var n=j(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function k(e,t){var n=j(e,"bVisible"),i=B.inArray(t,n);return-1!==i?i:null}function L(e){var n=0;return B.each(e.aoColumns,function(e,t){t.bVisible&&"none"!==B(t.nTh).css("display")&&n++}),n}function j(e,n){var i=[];return B.map(e.aoColumns,function(e,t){e[n]&&i.push(t)}),i}function _(e){var t,n,i,r,o,a,s,l,c,u=e.aoColumns,d=e.aoData,h=D.ext.type.detect;for(t=0,n=u.length;t<n;t++)if(c=[],!(s=u[t]).sType&&s._sManualType)s.sType=s._sManualType;else if(!s.sType){for(i=0,r=h.length;i<r;i++){for(o=0,a=d.length;o<a&&(c[o]===V&&(c[o]=T(e,o,t,"type")),(l=h[i](c[o],e))||i===h.length-1)&&"html"!==l;o++);if(l){s.sType=l;break}}s.sType||(s.sType="string")}}function R(e,t,n,i){var r,o,a,s,l,c,u,d=e.aoColumns;if(t)for(r=t.length-1;0<=r;r--){var h=(u=t[r]).targets!==V?u.targets:u.aTargets;for(B.isArray(h)||(h=[h]),a=0,s=h.length;a<s;a++)if("number"==typeof h[a]&&0<=h[a]){for(;d.length<=h[a];)O(e);i(h[a],u)}else if("number"==typeof h[a]&&h[a]<0)i(d.length+h[a],u);else if("string"==typeof h[a])for(l=0,c=d.length;l<c;l++)("_all"==h[a]||B(d[l].nTh).hasClass(h[a]))&&i(l,u)}if(n)for(r=0,o=n.length;r<o;r++)i(r,n[r])}function F(e,t,n,i){var r=e.aoData.length,o=B.extend(!0,{},D.models.oRow,{src:n?"dom":"data",idx:r});o._aData=t,e.aoData.push(o);for(var a=e.aoColumns,s=0,l=a.length;s<l;s++)a[s].sType=null;e.aiDisplayMaster.push(r);var c=e.rowIdFn(t);return c!==V&&(e.aIds[c]=o),!n&&e.oFeatures.bDeferRender||ie(e,r,n,i),r}function q(n,e){var i;return e instanceof B||(e=B(e)),e.map(function(e,t){return i=ne(n,t),F(n,i.data,t,i.cells)})}function T(e,t,n,i){var r=e.iDraw,o=e.aoColumns[n],a=e.aoData[t]._aData,s=o.sDefaultContent,l=o.fnGetData(a,i,{settings:e,row:t,col:n});if(l===V)return e.iDrawError!=r&&null===s&&(at(e,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=r),s;if(l!==a&&null!==l||null===s||i===V){if("function"==typeof l)return l.call(a)}else l=s;return null===l&&"display"==i?"":l}function H(e,t,n,i){var r=e.aoColumns[n],o=e.aoData[t]._aData;r.fnSetData(o,i,{settings:e,row:t,col:n})}var G=/\[.*?\]$/,Y=/\(\)$/;function X(e){return B.map(e.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}function J(r){if(B.isPlainObject(r)){var o={};return B.each(r,function(e,t){t&&(o[e]=J(t))}),function(e,t,n,i){var r=o[t]||o._;return r!==V?r(e,t,n,i):e}}if(null===r)return function(e){return e};if("function"==typeof r)return function(e,t,n,i){return r(e,t,n,i)};if("string"!=typeof r||-1===r.indexOf(".")&&-1===r.indexOf("[")&&-1===r.indexOf("("))return function(e,t){return e[r]};var p=function(e,t,n){var i,r,o,a;if(""!==n)for(var s=X(n),l=0,c=s.length;l<c;l++){if(i=s[l].match(G),r=s[l].match(Y),i){if(s[l]=s[l].replace(G,""),""!==s[l]&&(e=e[s[l]]),o=[],s.splice(0,l+1),a=s.join("."),B.isArray(e))for(var u=0,d=e.length;u<d;u++)o.push(p(e[u],t,a));var h=i[0].substring(1,i[0].length-1);e=""===h?o:o.join(h);break}if(r)s[l]=s[l].replace(Y,""),e=e[s[l]]();else{if(null===e||e[s[l]]===V)return V;e=e[s[l]]}}return e};return function(e,t){return p(e,t,r)}}function K(i){if(B.isPlainObject(i))return K(i._);if(null===i)return function(){};if("function"==typeof i)return function(e,t,n){i(e,"set",t,n)};if("string"!=typeof i||-1===i.indexOf(".")&&-1===i.indexOf("[")&&-1===i.indexOf("("))return function(e,t){e[i]=t};var f=function(e,t,n){for(var i,r,o,a,s,l=X(n),c=l[l.length-1],u=0,d=l.length-1;u<d;u++){if(r=l[u].match(G),o=l[u].match(Y),r){if(l[u]=l[u].replace(G,""),e[l[u]]=[],(i=l.slice()).splice(0,u+1),s=i.join("."),B.isArray(t))for(var h=0,p=t.length;h<p;h++)f(a={},t[h],s),e[l[u]].push(a);else e[l[u]]=t;return}o&&(l[u]=l[u].replace(Y,""),e=e[l[u]](t)),null!==e[l[u]]&&e[l[u]]!==V||(e[l[u]]={}),e=e[l[u]]}c.match(Y)?e=e[c.replace(Y,"")](t):e[c.replace(G,"")]=t};return function(e,t){return f(e,t,i)}}function Q(e){return U(e.aoData,"_aData")}function Z(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ee(e,t,n){for(var i=-1,r=0,o=e.length;r<o;r++)e[r]==t?i=r:e[r]>t&&e[r]--;-1!=i&&n===V&&e.splice(i,1)}function te(n,i,e,t){var r,o,a=n.aoData[i],s=function(e,t){for(;e.childNodes.length;)e.removeChild(e.firstChild);e.innerHTML=T(n,i,t,"display")};if("dom"!==e&&(e&&"auto"!==e||"dom"!==a.src)){var l=a.anCells;if(l)if(t!==V)s(l[t],t);else for(r=0,o=l.length;r<o;r++)s(l[r],r)}else a._aData=ne(n,a,t,t===V?V:a._aData).data;a._aSortData=null,a._aFilterData=null;var c=n.aoColumns;if(t!==V)c[t].sType=null;else{for(r=0,o=c.length;r<o;r++)c[r].sType=null;re(n,a)}}function ne(e,t,n,r){var i,o,a,s=[],l=t.firstChild,c=0,u=e.aoColumns,d=e._rowReadObject;r=r!==V?r:d?{}:[];var h=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var i=e.substring(n+1);K(e)(r,t.getAttribute(i))}}},p=function(e){n!==V&&n!==c||(o=u[c],a=B.trim(e.innerHTML),o&&o._bAttrSrc?(K(o.mData._)(r,a),h(o.mData.sort,e),h(o.mData.type,e),h(o.mData.filter,e)):d?(o._setter||(o._setter=K(o.mData)),o._setter(r,a)):r[c]=a);c++};if(l)for(;l;)"TD"!=(i=l.nodeName.toUpperCase())&&"TH"!=i||(p(l),s.push(l)),l=l.nextSibling;else for(var f=0,g=(s=t.anCells).length;f<g;f++)p(s[f]);var m=t.firstChild?t:t.nTr;if(m){var v=m.getAttribute("id");v&&K(e.rowId)(r,v)}return{data:r,cells:s}}function ie(e,t,n,i){var r,o,a,s,l,c=e.aoData[t],u=c._aData,d=[];if(null===c.nTr){for(r=n||y.createElement("tr"),c.nTr=r,c.anCells=d,r._DT_RowIndex=t,re(e,c),s=0,l=e.aoColumns.length;s<l;s++)a=e.aoColumns[s],(o=n?i[s]:y.createElement(a.sCellType))._DT_CellIndex={row:t,column:s},d.push(o),n&&!a.mRender&&a.mData===s||B.isPlainObject(a.mData)&&a.mData._===s+".display"||(o.innerHTML=T(e,t,s,"display")),a.sClass&&(o.className+=" "+a.sClass),a.bVisible&&!n?r.appendChild(o):!a.bVisible&&n&&o.parentNode.removeChild(o),a.fnCreatedCell&&a.fnCreatedCell.call(e.oInstance,o,T(e,t,s),u,t,s);dt(e,"aoRowCreatedCallback",null,[r,u,t,d])}c.nTr.setAttribute("role","row")}function re(e,t){var n=t.nTr,i=t._aData;if(n){var r=e.rowIdFn(i);if(r&&(n.id=r),i.DT_RowClass){var o=i.DT_RowClass.split(" ");t.__rowc=t.__rowc?m(t.__rowc.concat(o)):o,B(n).removeClass(t.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&B(n).attr(i.DT_RowAttr),i.DT_RowData&&B(n).data(i.DT_RowData)}}function oe(e){var t,n,i,r,o,a=e.nTHead,s=e.nTFoot,l=0===B("th, td",a).length,c=e.oClasses,u=e.aoColumns;for(l&&(r=B("<tr/>").appendTo(a)),t=0,n=u.length;t<n;t++)o=u[t],i=B(o.nTh).addClass(o.sClass),l&&i.appendTo(r),e.oFeatures.bSort&&(i.addClass(o.sSortingClass),!1!==o.bSortable&&(i.attr("tabindex",e.iTabIndex).attr("aria-controls",e.sTableId),et(e,o.nTh,t))),o.sTitle!=i[0].innerHTML&&i.html(o.sTitle),pt(e,"header")(e,i,o,c);if(l&&ue(e.aoHeader,a),B(a).find(">tr").attr("role","row"),B(a).find(">tr>th, >tr>td").addClass(c.sHeaderTH),B(s).find(">tr>th, >tr>td").addClass(c.sFooterTH),null!==s){var d=e.aoFooter[0];for(t=0,n=d.length;t<n;t++)(o=u[t]).nTf=d[t].cell,o.sClass&&B(o.nTf).addClass(o.sClass)}}function ae(e,t,n){var i,r,o,a,s,l,c,u,d,h=[],p=[],f=e.aoColumns.length;if(t){for(n===V&&(n=!1),i=0,r=t.length;i<r;i++){for(h[i]=t[i].slice(),h[i].nTr=t[i].nTr,o=f-1;0<=o;o--)e.aoColumns[o].bVisible||n||h[i].splice(o,1);p.push([])}for(i=0,r=h.length;i<r;i++){if(c=h[i].nTr)for(;l=c.firstChild;)c.removeChild(l);for(o=0,a=h[i].length;o<a;o++)if(d=u=1,p[i][o]===V){for(c.appendChild(h[i][o].cell),p[i][o]=1;h[i+u]!==V&&h[i][o].cell==h[i+u][o].cell;)p[i+u][o]=1,u++;for(;h[i][o+d]!==V&&h[i][o].cell==h[i][o+d].cell;){for(s=0;s<u;s++)p[i+s][o+d]=1;d++}B(h[i][o].cell).attr("rowspan",u).attr("colspan",d)}}}}function se(e){var t=dt(e,"aoPreDrawCallback","preDraw",[e]);if(-1===B.inArray(!1,t)){var n=[],i=0,r=e.asStripeClasses,o=r.length,a=(e.aoOpenRows.length,e.oLanguage),s=e.iInitDisplayStart,l="ssp"==ft(e),c=e.aiDisplay;e.bDrawing=!0,s!==V&&-1!==s&&(e._iDisplayStart=l?s:s>=e.fnRecordsDisplay()?0:s,e.iInitDisplayStart=-1);var u=e._iDisplayStart,d=e.fnDisplayEnd();if(e.bDeferLoading)e.bDeferLoading=!1,e.iDraw++,Fe(e,!1);else if(l){if(!e.bDestroying&&!pe(e))return}else e.iDraw++;if(0!==c.length)for(var h=l?0:u,p=l?e.aoData.length:d,f=h;f<p;f++){var g=c[f],m=e.aoData[g];null===m.nTr&&ie(e,g);var v=m.nTr;if(0!==o){var y=r[i%o];m._sRowStripe!=y&&(B(v).removeClass(m._sRowStripe).addClass(y),m._sRowStripe=y)}dt(e,"aoRowCallback",null,[v,m._aData,i,f,g]),n.push(v),i++}else{var b=a.sZeroRecords;1==e.iDraw&&"ajax"==ft(e)?b=a.sLoadingRecords:a.sEmptyTable&&0===e.fnRecordsTotal()&&(b=a.sEmptyTable),n[0]=B("<tr/>",{class:o?r[0]:""}).append(B("<td />",{valign:"top",colSpan:L(e),class:e.oClasses.sRowEmpty}).html(b))[0]}dt(e,"aoHeaderCallback","header",[B(e.nTHead).children("tr")[0],Q(e),u,d,c]),dt(e,"aoFooterCallback","footer",[B(e.nTFoot).children("tr")[0],Q(e),u,d,c]);var w=B(e.nTBody);w.children().detach(),w.append(B(n)),dt(e,"aoDrawCallback","draw",[e]),e.bSorted=!1,e.bFiltered=!1,e.bDrawing=!1}else Fe(e,!1)}function le(e,t){var n=e.oFeatures,i=n.bSort,r=n.bFilter;i&&Ke(e),r?ye(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,se(e),e._drawHold=!1}function ce(e){var t=e.oClasses,n=B(e.nTable),i=B("<div/>").insertBefore(n),r=e.oFeatures,o=B("<div/>",{id:e.sTableId+"_wrapper",class:t.sWrapper+(e.nTFoot?"":" "+t.sNoFooter)});e.nHolding=i[0],e.nTableWrapper=o[0],e.nTableReinsertBefore=e.nTable.nextSibling;for(var a,s,l,c,u,d,h=e.sDom.split(""),p=0;p<h.length;p++){if(a=null,"<"==(s=h[p])){if(l=B("<div/>")[0],"'"==(c=h[p+1])||'"'==c){for(u="",d=2;h[p+d]!=c;)u+=h[p+d],d++;if("H"==u?u=t.sJUIHeader:"F"==u&&(u=t.sJUIFooter),-1!=u.indexOf(".")){var f=u.split(".");l.id=f[0].substr(1,f[0].length-1),l.className=f[1]}else"#"==u.charAt(0)?l.id=u.substr(1,u.length-1):l.className=u;p+=d}o.append(l),o=B(l)}else if(">"==s)o=o.parent();else if("l"==s&&r.bPaginate&&r.bLengthChange)a=Ne(e);else if("f"==s&&r.bFilter)a=ve(e);else if("r"==s&&r.bProcessing)a=Re(e);else if("t"==s)a=qe(e);else if("i"==s&&r.bInfo)a=Ee(e);else if("p"==s&&r.bPaginate)a=Le(e);else if(0!==D.ext.feature.length)for(var g=D.ext.feature,m=0,v=g.length;m<v;m++)if(s==g[m].cFeature){a=g[m].fnInit(e);break}if(a){var y=e.aanFeatures;y[s]||(y[s]=[]),y[s].push(a),o.append(a)}}i.replaceWith(o),e.nHolding=null}function ue(e,t){var n,i,r,o,a,s,l,c,u,d,h=B(t).children("tr"),p=function(e,t,n){for(var i=e[t];i[n];)n++;return n};for(e.splice(0,e.length),r=0,s=h.length;r<s;r++)e.push([]);for(r=0,s=h.length;r<s;r++)for(0,i=(n=h[r]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(c=(c=1*i.getAttribute("colspan"))&&0!==c&&1!==c?c:1,u=(u=1*i.getAttribute("rowspan"))&&0!==u&&1!==u?u:1,l=p(e,r,0),d=1===c,a=0;a<c;a++)for(o=0;o<u;o++)e[r+o][l+a]={cell:i,unique:d},e[r+o].nTr=n;i=i.nextSibling}}function de(e,t,n){var i=[];n||(n=e.aoHeader,t&&ue(n=[],t));for(var r=0,o=n.length;r<o;r++)for(var a=0,s=n[r].length;a<s;a++)!n[r][a].unique||i[a]&&e.bSortCellsTop||(i[a]=n[r][a].cell);return i}function he(r,e,t){if(dt(r,"aoServerParams","serverParams",[e]),e&&B.isArray(e)){var o={},a=/(.*?)\[\]$/;B.each(e,function(e,t){var n=t.name.match(a);if(n){var i=n[0];o[i]||(o[i]=[]),o[i].push(t.value)}else o[t.name]=t.value}),e=o}var n,i=r.ajax,s=r.oInstance,l=function(e){dt(r,null,"xhr",[r,e,r.jqXHR]),t(e)};if(B.isPlainObject(i)&&i.data){var c="function"==typeof(n=i.data)?n(e,r):n;e="function"==typeof n&&c?c:B.extend(!0,e,c),delete i.data}var u={data:e,success:function(e){var t=e.error||e.sError;t&&at(r,0,t),r.json=e,l(e)},dataType:"json",cache:!1,type:r.sServerMethod,error:function(e,t,n){var i=dt(r,null,"xhr",[r,null,r.jqXHR]);-1===B.inArray(!0,i)&&("parsererror"==t?at(r,0,"Invalid JSON response",1):4===e.readyState&&at(r,0,"Ajax error",7)),Fe(r,!1)}};r.oAjaxData=e,dt(r,null,"preXhr",[r,e]),r.fnServerData?r.fnServerData.call(s,r.sAjaxSource,B.map(e,function(e,t){return{name:t,value:e}}),l,r):r.sAjaxSource||"string"==typeof i?r.jqXHR=B.ajax(B.extend(u,{url:i||r.sAjaxSource})):"function"==typeof i?r.jqXHR=i.call(s,e,l,r):(r.jqXHR=B.ajax(B.extend(u,i)),i.data=n)}function pe(t){return!t.bAjaxDataGet||(t.iDraw++,Fe(t,!0),he(t,fe(t),function(e){ge(t,e)}),!1)}function fe(e){var t,n,i,r,o=e.aoColumns,a=o.length,s=e.oFeatures,l=e.oPreviousSearch,c=e.aoPreSearchCols,u=[],d=Je(e),h=e._iDisplayStart,p=!1!==s.bPaginate?e._iDisplayLength:-1,f=function(e,t){u.push({name:e,value:t})};f("sEcho",e.iDraw),f("iColumns",a),f("sColumns",U(o,"sName").join(",")),f("iDisplayStart",h),f("iDisplayLength",p);var g={draw:e.iDraw,columns:[],order:[],start:h,length:p,search:{value:l.sSearch,regex:l.bRegex}};for(t=0;t<a;t++)i=o[t],r=c[t],n="function"==typeof i.mData?"function":i.mData,g.columns.push({data:n,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:r.sSearch,regex:r.bRegex}}),f("mDataProp_"+t,n),s.bFilter&&(f("sSearch_"+t,r.sSearch),f("bRegex_"+t,r.bRegex),f("bSearchable_"+t,i.bSearchable)),s.bSort&&f("bSortable_"+t,i.bSortable);s.bFilter&&(f("sSearch",l.sSearch),f("bRegex",l.bRegex)),s.bSort&&(B.each(d,function(e,t){g.order.push({column:t.col,dir:t.dir}),f("iSortCol_"+e,t.col),f("sSortDir_"+e,t.dir)}),f("iSortingCols",d.length));var m=D.ext.legacy.ajax;return null===m?e.sAjaxSource?u:g:m?u:g}function ge(e,n){var t=function(e,t){return n[e]!==V?n[e]:n[t]},i=me(e,n),r=t("sEcho","draw"),o=t("iTotalRecords","recordsTotal"),a=t("iTotalDisplayRecords","recordsFiltered");if(r){if(1*r<e.iDraw)return;e.iDraw=1*r}Z(e),e._iRecordsTotal=parseInt(o,10),e._iRecordsDisplay=parseInt(a,10);for(var s=0,l=i.length;s<l;s++)F(e,i[s]);e.aiDisplay=e.aiDisplayMaster.slice(),e.bAjaxDataGet=!1,se(e),e._bInitComplete||Me(e,n),e.bAjaxDataGet=!0,Fe(e,!1)}function me(e,t){var n=B.isPlainObject(e.ajax)&&e.ajax.dataSrc!==V?e.ajax.dataSrc:e.sAjaxDataProp;return"data"===n?t.aaData||t[n]:""!==n?J(n)(t):t}function ve(n){var e=n.oClasses,t=n.sTableId,i=n.oLanguage,r=n.oPreviousSearch,o=n.aanFeatures,a='<input type="search" class="'+e.sFilterInput+'"/>',s=i.sSearch;s=s.match(/_INPUT_/)?s.replace("_INPUT_",a):s+a;var l=B("<div/>",{id:o.f?null:t+"_filter",class:e.sFilter}).append(B("<label/>").append(s)),c=function(){o.f;var e=this.value?this.value:"";e!=r.sSearch&&(ye(n,{sSearch:e,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive}),n._iDisplayStart=0,se(n))},u=null!==n.searchDelay?n.searchDelay:"ssp"===ft(n)?400:0,d=B("input",l).val(r.sSearch).attr("placeholder",i.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",u?ze(c,u):c).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",t);return B(n.nTable).on("search.dt.DT",function(e,t){if(n===t)try{d[0]!==y.activeElement&&d.val(r.sSearch)}catch(e){}}),l[0]}function ye(e,t,n){var i=e.oPreviousSearch,r=e.aoPreSearchCols,o=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive},a=function(e){return e.bEscapeRegex!==V?!e.bEscapeRegex:e.bRegex};if(_(e),"ssp"!=ft(e)){xe(e,t.sSearch,n,a(t),t.bSmart,t.bCaseInsensitive),o(t);for(var s=0;s<r.length;s++)we(e,r[s].sSearch,s,a(r[s]),r[s].bSmart,r[s].bCaseInsensitive);be(e)}else o(t);e.bFiltered=!0,dt(e,null,"search",[e])}function be(e){for(var t,n,i=D.ext.search,r=e.aiDisplay,o=0,a=i.length;o<a;o++){for(var s=[],l=0,c=r.length;l<c;l++)n=r[l],t=e.aoData[n],i[o](e,t._aFilterData,n,t._aData,l)&&s.push(n);r.length=0,B.merge(r,s)}}function we(e,t,n,i,r,o){if(""!==t){for(var a,s=[],l=e.aiDisplay,c=Ce(t,i,r,o),u=0;u<l.length;u++)a=e.aoData[l[u]]._aFilterData[n],c.test(a)&&s.push(l[u]);e.aiDisplay=s}}function xe(e,t,n,i,r,o){var a,s,l,c=Ce(t,i,r,o),u=e.oPreviousSearch.sSearch,d=e.aiDisplayMaster,h=[];if(0!==D.ext.search.length&&(n=!0),s=Te(e),t.length<=0)e.aiDisplay=d.slice();else{for((s||n||u.length>t.length||0!==t.indexOf(u)||e.bSorted)&&(e.aiDisplay=d.slice()),a=e.aiDisplay,l=0;l<a.length;l++)c.test(e.aoData[a[l]]._sFilterRow)&&h.push(a[l]);e.aiDisplay=h}}function Ce(e,t,n,i){(e=t?e:Se(e),n)&&(e="^(?=.*?"+B.map(e.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")}).join(")(?=.*?")+").*$");return new RegExp(e,i?"i":"")}var Se=D.util.escapeRegex,ke=B("<div>")[0],_e=ke.textContent!==V;function Te(e){var t,n,i,r,o,a,s,l,c=e.aoColumns,u=D.ext.type.search,d=!1;for(n=0,r=e.aoData.length;n<r;n++)if(!(l=e.aoData[n])._aFilterData){for(a=[],i=0,o=c.length;i<o;i++)(t=c[i]).bSearchable?(s=T(e,n,i,"filter"),u[t.sType]&&(s=u[t.sType](s)),null===s&&(s=""),"string"!=typeof s&&s.toString&&(s=s.toString())):s="",s.indexOf&&-1!==s.indexOf("&")&&(ke.innerHTML=s,s=_e?ke.textContent:ke.innerText),s.replace&&(s=s.replace(/[\r\n]/g,"")),a.push(s);l._aFilterData=a,l._sFilterRow=a.join("  "),d=!0}return d}function De(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function Ae(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Ee(e){var t=e.sTableId,n=e.aanFeatures.i,i=B("<div/>",{class:e.oClasses.sInfo,id:n?null:t+"_info"});return n||(e.aoDrawCallback.push({fn:Ie,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),B(e.nTable).attr("aria-describedby",t+"_info")),i[0]}function Ie(e){var t=e.aanFeatures.i;if(0!==t.length){var n=e.oLanguage,i=e._iDisplayStart+1,r=e.fnDisplayEnd(),o=e.fnRecordsTotal(),a=e.fnRecordsDisplay(),s=a?n.sInfo:n.sInfoEmpty;a!==o&&(s+=" "+n.sInfoFiltered),s=Pe(e,s+=n.sInfoPostFix);var l=n.fnInfoCallback;null!==l&&(s=l.call(e.oInstance,e,i,r,o,a,s)),B(t).html(s)}}function Pe(e,t){var n=e.fnFormatNumber,i=e._iDisplayStart+1,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r;return t.replace(/_START_/g,n.call(e,i)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(i/r))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/r)))}function $e(n){var i,e,t,r=n.iInitDisplayStart,o=n.aoColumns,a=n.oFeatures,s=n.bDeferLoading;if(n.bInitialised){for(ce(n),oe(n),ae(n,n.aoHeader),ae(n,n.aoFooter),Fe(n,!0),a.bAutoWidth&&Ue(n),i=0,e=o.length;i<e;i++)(t=o[i]).sWidth&&(t.nTh.style.width=Xe(t.sWidth));dt(n,null,"preInit",[n]),le(n);var l=ft(n);("ssp"!=l||s)&&("ajax"==l?he(n,[],function(e){var t=me(n,e);for(i=0;i<t.length;i++)F(n,t[i]);n.iInitDisplayStart=r,le(n),Fe(n,!1),Me(n,e)}):(Fe(n,!1),Me(n)))}else setTimeout(function(){$e(n)},200)}function Me(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&z(e),dt(e,null,"plugin-init",[e,t]),dt(e,"aoInitComplete","init",[e,t])}function Oe(e,t){var n=parseInt(t,10);e._iDisplayLength=n,ht(e),dt(e,null,"length",[e,n])}function Ne(i){for(var e=i.oClasses,t=i.sTableId,n=i.aLengthMenu,r=B.isArray(n[0]),o=r?n[0]:n,a=r?n[1]:n,s=B("<select/>",{name:t+"_length","aria-controls":t,class:e.sLengthSelect}),l=0,c=o.length;l<c;l++)s[0][l]=new Option("number"==typeof a[l]?i.fnFormatNumber(a[l]):a[l],o[l]);var u=B("<div><label/></div>").addClass(e.sLength);return i.aanFeatures.l||(u[0].id=t+"_length"),u.children().append(i.oLanguage.sLengthMenu.replace("_MENU_",s[0].outerHTML)),B("select",u).val(i._iDisplayLength).on("change.DT",function(e){Oe(i,B(this).val()),se(i)}),B(i.nTable).on("length.dt.DT",function(e,t,n){i===t&&B("select",u).val(n)}),u[0]}function Le(e){var t=e.sPaginationType,u=D.ext.pager[t],d="function"==typeof u,h=function(e){se(e)},n=B("<div/>").addClass(e.oClasses.sPaging+t)[0],p=e.aanFeatures;return d||u.fnInit(e,n,h),p.p||(n.id=e.sTableId+"_paginate",e.aoDrawCallback.push({fn:function(e){if(d){var t,n,i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===r,s=a?0:Math.ceil(i/r),l=a?1:Math.ceil(o/r),c=u(s,l);for(t=0,n=p.p.length;t<n;t++)pt(e,"pageButton")(e,p.p[t],t,c,s,l)}else u.fnUpdate(e,h)},sName:"pagination"})),n}function je(e,t,n){var i=e._iDisplayStart,r=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===r?i=0:"number"==typeof t?o<(i=t*r)&&(i=0):"first"==t?i=0:"previous"==t?(i=0<=r?i-r:0)<0&&(i=0):"next"==t?i+r<o&&(i+=r):"last"==t?i=Math.floor((o-1)/r)*r:at(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==i;return e._iDisplayStart=i,a&&(dt(e,null,"page",[e]),n&&se(e)),a}function Re(e){return B("<div/>",{id:e.aanFeatures.r?null:e.sTableId+"_processing",class:e.oClasses.sProcessing}).html(e.oLanguage.sProcessing).insertBefore(e.nTable)[0]}function Fe(e,t){e.oFeatures.bProcessing&&B(e.aanFeatures.r).css("display",t?"block":"none"),dt(e,null,"processing",[e,t])}function qe(e){var t=B(e.nTable);t.attr("role","grid");var n=e.oScroll;if(""===n.sX&&""===n.sY)return e.nTable;var i=n.sX,r=n.sY,o=e.oClasses,a=t.children("caption"),s=a.length?a[0]._captionSide:null,l=B(t[0].cloneNode(!1)),c=B(t[0].cloneNode(!1)),u=t.children("tfoot"),d="<div/>",h=function(e){return e?Xe(e):null};u.length||(u=null);var p=B(d,{class:o.sScrollWrapper}).append(B(d,{class:o.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?h(i):"100%"}).append(B(d,{class:o.sScrollHeadInner}).css({"box-sizing":"content-box",width:n.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===s?a:null).append(t.children("thead"))))).append(B(d,{class:o.sScrollBody}).css({position:"relative",overflow:"auto",width:h(i)}).append(t));u&&p.append(B(d,{class:o.sScrollFoot}).css({overflow:"hidden",border:0,width:i?h(i):"100%"}).append(B(d,{class:o.sScrollFootInner}).append(c.removeAttr("id").css("margin-left",0).append("bottom"===s?a:null).append(t.children("tfoot")))));var f=p.children(),g=f[0],m=f[1],v=u?f[2]:null;return i&&B(m).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,u&&(v.scrollLeft=t)}),B(m).css(r&&n.bCollapse?"max-height":"height",r),e.nScrollHead=g,e.nScrollBody=m,e.nScrollFoot=v,e.aoDrawCallback.push({fn:He,sName:"scrolling"}),p[0]}function He(n){var e,t,i,r,o,a,s,l,c,u=n.oScroll,d=u.sX,h=u.sXInner,p=u.sY,f=u.iBarWidth,g=B(n.nScrollHead),m=g[0].style,v=g.children("div"),y=v[0].style,b=v.children("table"),w=n.nScrollBody,x=B(w),C=w.style,S=B(n.nScrollFoot).children("div"),k=S.children("table"),_=B(n.nTHead),T=B(n.nTable),D=T[0],A=D.style,E=n.nTFoot?B(n.nTFoot):null,I=n.oBrowser,P=I.bScrollOversize,$=U(n.aoColumns,"nTh"),M=[],O=[],N=[],L=[],j=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},R=w.scrollHeight>w.clientHeight;if(n.scrollBarVis!==R&&n.scrollBarVis!==V)return n.scrollBarVis=R,void z(n);n.scrollBarVis=R,T.children("thead, tfoot").remove(),E&&(a=E.clone().prependTo(T),t=E.find("tr"),r=a.find("tr")),o=_.clone().prependTo(T),e=_.find("tr"),i=o.find("tr"),o.find("th, td").removeAttr("tabindex"),d||(C.width="100%",g[0].style.width="100%"),B.each(de(n,o),function(e,t){s=W(n,e),t.style.width=n.aoColumns[s].sWidth}),E&&Be(function(e){e.style.width=""},r),c=T.outerWidth(),""===d?(A.width="100%",P&&(T.find("tbody").height()>w.offsetHeight||"scroll"==x.css("overflow-y"))&&(A.width=Xe(T.outerWidth()-f)),c=T.outerWidth()):""!==h&&(A.width=Xe(h),c=T.outerWidth()),Be(j,i),Be(function(e){N.push(e.innerHTML),M.push(Xe(B(e).css("width")))},i),Be(function(e,t){-1!==B.inArray(e,$)&&(e.style.width=M[t])},e),B(i).height(0),E&&(Be(j,r),Be(function(e){L.push(e.innerHTML),O.push(Xe(B(e).css("width")))},r),Be(function(e,t){e.style.width=O[t]},t),B(r).height(0)),Be(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+N[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=M[t]},i),E&&Be(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+L[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=O[t]},r),T.outerWidth()<c?(l=w.scrollHeight>w.offsetHeight||"scroll"==x.css("overflow-y")?c+f:c,P&&(w.scrollHeight>w.offsetHeight||"scroll"==x.css("overflow-y"))&&(A.width=Xe(l-f)),""!==d&&""===h||at(n,1,"Possible column misalignment",6)):l="100%",C.width=Xe(l),m.width=Xe(l),E&&(n.nScrollFoot.style.width=Xe(l)),p||P&&(C.height=Xe(D.offsetHeight+f));var F=T.outerWidth();b[0].style.width=Xe(F),y.width=Xe(F);var q=T.height()>w.clientHeight||"scroll"==x.css("overflow-y"),H="padding"+(I.bScrollbarLeft?"Left":"Right");y[H]=q?f+"px":"0px",E&&(k[0].style.width=Xe(F),S[0].style.width=Xe(F),S[0].style[H]=q?f+"px":"0px"),T.children("colgroup").insertBefore(T.children("thead")),x.scroll(),!n.bSorted&&!n.bFiltered||n._drawHold||(w.scrollTop=0)}function Be(e,t,n){for(var i,r,o=0,a=0,s=t.length;a<s;){for(i=t[a].firstChild,r=n?n[a].firstChild:null;i;)1===i.nodeType&&(n?e(i,r,o):e(i,o),o++),i=i.nextSibling,r=n?r.nextSibling:null;a++}}var Ve=/<.*?>/g;function Ue(e){var t,n,i,r=e.nTable,o=e.aoColumns,a=e.oScroll,s=a.sY,l=a.sX,c=a.sXInner,u=o.length,d=j(e,"bVisible"),h=B("th",e.nTHead),p=r.getAttribute("width"),f=r.parentNode,g=!1,m=e.oBrowser,v=m.bScrollOversize,y=r.style.width;for(y&&-1!==y.indexOf("%")&&(p=y),t=0;t<d.length;t++)null!==(n=o[d[t]]).sWidth&&(n.sWidth=We(n.sWidthOrig,f),g=!0);if(v||!g&&!l&&!s&&u==L(e)&&u==h.length)for(t=0;t<u;t++){var b=W(e,t);null!==b&&(o[b].sWidth=Xe(h.eq(t).width()))}else{var w=B(r).clone().css("visibility","hidden").removeAttr("id");w.find("tbody tr").remove();var x=B("<tr/>").appendTo(w.find("tbody"));for(w.find("thead, tfoot").remove(),w.append(B(e.nTHead).clone()).append(B(e.nTFoot).clone()),w.find("tfoot th, tfoot td").css("width",""),h=de(e,w.find("thead")[0]),t=0;t<d.length;t++)n=o[d[t]],h[t].style.width=null!==n.sWidthOrig&&""!==n.sWidthOrig?Xe(n.sWidthOrig):"",n.sWidthOrig&&l&&B(h[t]).append(B("<div/>").css({width:n.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(e.aoData.length)for(t=0;t<d.length;t++)n=o[i=d[t]],B(Ge(e,i)).clone(!1).append(n.sContentPadding).appendTo(x);B("[name]",w).removeAttr("name");var C=B("<div/>").css(l||s?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(w).appendTo(f);l&&c?w.width(c):l?(w.css("width","auto"),w.removeAttr("width"),w.width()<f.clientWidth&&p&&w.width(f.clientWidth)):s?w.width(f.clientWidth):p&&w.width(p);var S=0;for(t=0;t<d.length;t++){var k=B(h[t]),_=k.outerWidth()-k.width(),T=m.bBounding?Math.ceil(h[t].getBoundingClientRect().width):k.outerWidth();S+=T,o[d[t]].sWidth=Xe(T-_)}r.style.width=Xe(S),C.remove()}if(p&&(r.style.width=Xe(p)),(p||l)&&!e._reszEvt){var D=function(){B(A).on("resize.DT-"+e.sInstance,ze(function(){z(e)}))};v?setTimeout(D,1e3):D(),e._reszEvt=!0}}var ze=D.util.throttle;function We(e,t){if(!e)return 0;var n=B("<div/>").css("width",Xe(e)).appendTo(t||y.body),i=n[0].offsetWidth;return n.remove(),i}function Ge(e,t){var n=Ye(e,t);if(n<0)return null;var i=e.aoData[n];return i.nTr?i.anCells[t]:B("<td/>").html(T(e,n,t,"display"))[0]}function Ye(e,t){for(var n,i=-1,r=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=(n=T(e,o,t,"display")+"").replace(Ve,"")).replace(/&nbsp;/g," ")).length>i&&(i=n.length,r=o);return r}function Xe(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Je(e){var t,n,i,r,o,a,s,l=[],c=e.aoColumns,u=e.aaSortingFixed,d=B.isPlainObject(u),h=[],p=function(e){e.length&&!B.isArray(e[0])?h.push(e):B.merge(h,e)};for(B.isArray(u)&&p(u),d&&u.pre&&p(u.pre),p(e.aaSorting),d&&u.post&&p(u.post),t=0;t<h.length;t++)for(n=0,i=(r=c[s=h[t][0]].aDataSort).length;n<i;n++)a=c[o=r[n]].sType||"string",h[t]._idx===V&&(h[t]._idx=B.inArray(h[t][1],c[o].asSorting)),l.push({src:s,col:o,dir:h[t][1],index:h[t]._idx,type:a,formatter:D.ext.type.order[a+"-pre"]});return l}function Ke(e){var t,n,i,r,u,d=[],h=D.ext.type.order,p=e.aoData,o=(e.aoColumns,0),a=e.aiDisplayMaster;for(_(e),t=0,n=(u=Je(e)).length;t<n;t++)(r=u[t]).formatter&&o++,nt(e,r.col);if("ssp"!=ft(e)&&0!==u.length){for(t=0,i=a.length;t<i;t++)d[a[t]]=t;o===u.length?a.sort(function(e,t){var n,i,r,o,a,s=u.length,l=p[e]._aSortData,c=p[t]._aSortData;for(r=0;r<s;r++)if(0!==(o=(n=l[(a=u[r]).col])<(i=c[a.col])?-1:i<n?1:0))return"asc"===a.dir?o:-o;return(n=d[e])<(i=d[t])?-1:i<n?1:0}):a.sort(function(e,t){var n,i,r,o,a,s=u.length,l=p[e]._aSortData,c=p[t]._aSortData;for(r=0;r<s;r++)if(n=l[(a=u[r]).col],i=c[a.col],0!==(o=(h[a.type+"-"+a.dir]||h["string-"+a.dir])(n,i)))return o;return(n=d[e])<(i=d[t])?-1:i<n?1:0})}e.bSorted=!0}function Qe(e){for(var t,n,i=e.aoColumns,r=Je(e),o=e.oLanguage.oAria,a=0,s=i.length;a<s;a++){var l=i[a],c=l.asSorting,u=l.sTitle.replace(/<.*?>/g,""),d=l.nTh;d.removeAttribute("aria-sort"),l.bSortable?(0<r.length&&r[0].col==a?(d.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),n=c[r[0].index+1]||c[0]):n=c[0],t=u+("asc"===n?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function Ze(e,t,n,i){var r,o=e.aoColumns[t],a=e.aaSorting,s=o.asSorting,l=function(e,t){var n=e._idx;return n===V&&(n=B.inArray(e[1],s)),n+1<s.length?n+1:t?null:0};if("number"==typeof a[0]&&(a=e.aaSorting=[a]),n&&e.oFeatures.bSortMulti){var c=B.inArray(t,U(a,"0"));-1!==c?(null===(r=l(a[c],!0))&&1===a.length&&(r=0),null===r?a.splice(c,1):(a[c][1]=s[r],a[c]._idx=r)):(a.push([t,s[0],0]),a[a.length-1]._idx=0)}else a.length&&a[0][0]==t?(r=l(a[0]),a.length=1,a[0][1]=s[r],a[0]._idx=r):(a.length=0,a.push([t,s[0]]),a[0]._idx=0);le(e),"function"==typeof i&&i(e)}function et(t,e,n,i){var r=t.aoColumns[n];ct(e,{},function(e){!1!==r.bSortable&&(t.oFeatures.bProcessing?(Fe(t,!0),setTimeout(function(){Ze(t,n,e.shiftKey,i),"ssp"!==ft(t)&&Fe(t,!1)},0)):Ze(t,n,e.shiftKey,i))})}function tt(e){var t,n,i,r=e.aLastSort,o=e.oClasses.sSortColumn,a=Je(e),s=e.oFeatures;if(s.bSort&&s.bSortClasses){for(t=0,n=r.length;t<n;t++)i=r[t].src,B(U(e.aoData,"anCells",i)).removeClass(o+(t<2?t+1:3));for(t=0,n=a.length;t<n;t++)i=a[t].src,B(U(e.aoData,"anCells",i)).addClass(o+(t<2?t+1:3))}e.aLastSort=a}function nt(e,t){var n,i,r,o=e.aoColumns[t],a=D.ext.order[o.sSortDataType];a&&(n=a.call(e.oInstance,e,t,k(e,t)));for(var s=D.ext.type.order[o.sType+"-pre"],l=0,c=e.aoData.length;l<c;l++)(i=e.aoData[l])._aSortData||(i._aSortData=[]),i._aSortData[t]&&!a||(r=a?n[l]:T(e,l,t,"sort"),i._aSortData[t]=s?s(r):r)}function it(n){if(n.oFeatures.bStateSave&&!n.bDestroying){var e={time:+new Date,start:n._iDisplayStart,length:n._iDisplayLength,order:B.extend(!0,[],n.aaSorting),search:De(n.oPreviousSearch),columns:B.map(n.aoColumns,function(e,t){return{visible:e.bVisible,search:De(n.aoPreSearchCols[t])}})};dt(n,"aoStateSaveParams","stateSaveParams",[n,e]),n.oSavedState=e,n.fnStateSaveCallback.call(n.oInstance,n,e)}}function rt(r,e,o){var a,s,l=r.aoColumns,t=function(e){if(e&&e.time){var t=dt(r,"aoStateLoadParams","stateLoadParams",[r,e]);if(-1===B.inArray(!1,t)){var n=r.iStateDuration;if(0<n&&e.time<+new Date-1e3*n)o();else if(e.columns&&l.length!==e.columns.length)o();else{if(r.oLoadedState=B.extend(!0,{},e),e.start!==V&&(r._iDisplayStart=e.start,r.iInitDisplayStart=e.start),e.length!==V&&(r._iDisplayLength=e.length),e.order!==V&&(r.aaSorting=[],B.each(e.order,function(e,t){r.aaSorting.push(t[0]>=l.length?[0,t[1]]:t)})),e.search!==V&&B.extend(r.oPreviousSearch,Ae(e.search)),e.columns)for(a=0,s=e.columns.length;a<s;a++){var i=e.columns[a];i.visible!==V&&(l[a].bVisible=i.visible),i.search!==V&&B.extend(r.aoPreSearchCols[a],Ae(i.search))}dt(r,"aoStateLoaded","stateLoaded",[r,e]),o()}}else o()}else o()};if(r.oFeatures.bStateSave){var n=r.fnStateLoadCallback.call(r.oInstance,r,t);n!==V&&t(n)}else o()}function ot(e){var t=D.settings,n=B.inArray(e,U(t,"nTable"));return-1!==n?t[n]:null}function at(e,t,n,i){if(n="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+n,i&&(n+=". For more information about this error, please see http://datatables.net/tn/"+i),t)A.console&&console.log&&console.log(n);else{var r=D.ext,o=r.sErrMode||r.errMode;if(e&&dt(e,null,"error",[e,i,n]),"alert"==o)alert(n);else{if("throw"==o)throw new Error(n);"function"==typeof o&&o(e,i,n)}}}function st(n,i,e,t){B.isArray(e)?B.each(e,function(e,t){B.isArray(t)?st(n,i,t[0],t[1]):st(n,i,t)}):(t===V&&(t=e),i[e]!==V&&(n[t]=i[e]))}function lt(e,t,n){var i;for(var r in t)t.hasOwnProperty(r)&&(i=t[r],B.isPlainObject(i)?(B.isPlainObject(e[r])||(e[r]={}),B.extend(!0,e[r],i)):n&&"data"!==r&&"aaData"!==r&&B.isArray(i)?e[r]=i.slice():e[r]=i);return e}function ct(t,e,n){B(t).on("click.DT",e,function(e){B(t).blur(),n(e)}).on("keypress.DT",e,function(e){13===e.which&&(e.preventDefault(),n(e))}).on("selectstart.DT",function(){return!1})}function ut(e,t,n,i){n&&e[t].push({fn:n,sName:i})}function dt(n,e,t,i){var r=[];if(e&&(r=B.map(n[e].slice().reverse(),function(e,t){return e.fn.apply(n.oInstance,i)})),null!==t){var o=B.Event(t+".dt");B(n.nTable).trigger(o,i),r.push(o.result)}return r}function ht(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),i=e._iDisplayLength;n<=t&&(t=n-i),t-=t%i,(-1===i||t<0)&&(t=0),e._iDisplayStart=t}function pt(e,t){var n=e.renderer,i=D.ext.renderer[t];return B.isPlainObject(n)&&n[t]?i[n[t]]||i._:"string"==typeof n&&i[n]||i._}function ft(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var gt=[],mt=Array.prototype;b=function(e,t){if(!(this instanceof b))return new b(e,t);var s=[],n=function(e){var t,n,i,r,o,a=(t=e,r=D.settings,o=B.map(r,function(e,t){return e.nTable}),t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=B.inArray(t,o))?[r[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?i=B(t):t instanceof B&&(i=t),i?i.map(function(e){return-1!==(n=B.inArray(this,o))?r[n]:null}).toArray():void 0):[]);a&&(s=s.concat(a))};if(B.isArray(e))for(var i=0,r=e.length;i<r;i++)n(e[i]);else n(e);this.context=m(s),t&&B.merge(this,t),this.selector={rows:null,cols:null,opts:null},b.extend(this,this,gt)},D.Api=b,B.extend(b.prototype,{any:function(){return 0!==this.count()},concat:mt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new b(t[e],this[e]):null},filter:function(e){var t=[];if(mt.filter)t=mt.filter.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new b(this.context,t)},flatten:function(){var e=[];return new b(this.context,e.concat.apply(e,this.toArray()))},join:mt.join,indexOf:mt.indexOf||function(e,t){for(var n=t||0,i=this.length;n<i;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var r,o,a,s,l,c,u,d,h=[],p=this.context,f=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),o=0,a=p.length;o<a;o++){var g=new b(p[o]);if("table"===t)(r=n.call(g,p[o],o))!==V&&h.push(r);else if("columns"===t||"rows"===t)(r=n.call(g,p[o],this[o],o))!==V&&h.push(r);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(u=this[o],"column-rows"===t&&(c=xt(p[o],f.opts)),s=0,l=u.length;s<l;s++)d=u[s],(r="cell"===t?n.call(g,p[o],d.row,d.column,o,s):n.call(g,p[o],d,o,s,c))!==V&&h.push(r)}if(h.length||i){var m=new b(p,e?h.concat.apply([],h):h),v=m.selector;return v.rows=f.rows,v.cols=f.cols,v.opts=f.opts,m}return this},lastIndexOf:mt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(mt.map)t=mt.map.call(this,e,this);else for(var n=0,i=this.length;n<i;n++)t.push(e.call(this,this[n],n));return new b(this.context,t)},pluck:function(t){return this.map(function(e){return e[t]})},pop:mt.pop,push:mt.push,reduce:mt.reduce||function(e,t){return S(this,e,t,0,this.length,1)},reduceRight:mt.reduceRight||function(e,t){return S(this,e,t,this.length-1,-1,-1)},reverse:mt.reverse,selector:null,shift:mt.shift,slice:function(){return new b(this.context,this)},sort:mt.sort,splice:mt.splice,toArray:function(){return mt.slice.call(this)},to$:function(){return B(this)},toJQuery:function(){return B(this)},unique:function(){return new b(this.context,m(this))},unshift:mt.unshift}),b.extend=function(e,t,n){if(n.length&&t&&(t instanceof b||t.__dt_wrapper)){var i,r,o,a=function(t,n,i){return function(){var e=n.apply(t,arguments);return b.extend(e,e,i.methodExt),e}};for(i=0,r=n.length;i<r;i++)t[(o=n[i]).name]="function"==typeof o.val?a(e,o.val,o):B.isPlainObject(o.val)?{}:o.val,t[o.name].__dt_wrapper=!0,b.extend(e,t[o.name],o.propExt)}},b.register=t=function(e,t){if(B.isArray(e))for(var n=0,i=e.length;n<i;n++)b.register(e[n],t);else{var r,o,a,s,l=e.split("."),c=gt,u=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n].name===t)return e[n];return null};for(r=0,o=l.length;r<o;r++){var d=u(c,a=(s=-1!==l[r].indexOf("()"))?l[r].replace("()",""):l[r]);d||(d={name:a,val:{},methodExt:[],propExt:[]},c.push(d)),r===o-1?d.val=t:c=s?d.methodExt:d.propExt}}},b.registerPlural=e=function(e,t,n){b.register(e,n),b.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof b?e.length?B.isArray(e[0])?new b(e.context,e[0]):e[0]:V:e})};t("tables()",function(e){return e?new b(function(e,n){if("number"==typeof e)return[n[e]];var i=B.map(n,function(e,t){return e.nTable});return B(i).filter(e).map(function(e){var t=B.inArray(this,i);return n[t]}).toArray()}(e,this.context)):this}),t("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new b(n[0]):t}),e("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),e("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),e("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),e("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),e("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),t("draw()",function(t){return this.iterator("table",function(e){"page"===t?se(e):("string"==typeof t&&(t="full-hold"!==t),le(e,!1===t))})}),t("page()",function(t){return t===V?this.page.info().page:this.iterator("table",function(e){je(e,t)})}),t("page.info()",function(e){if(0===this.context.length)return V;var t=this.context[0],n=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,r=t.fnRecordsDisplay(),o=-1===i;return{page:o?0:Math.floor(n/i),pages:o?1:Math.ceil(r/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:r,serverSide:"ssp"===ft(t)}}),t("page.len()",function(t){return t===V?0!==this.context.length?this.context[0]._iDisplayLength:V:this.iterator("table",function(e){Oe(e,t)})});var vt=function(r,o,e){if(e){var t=new b(r);t.one("draw",function(){e(t.ajax.json())})}if("ssp"==ft(r))le(r,o);else{Fe(r,!0);var n=r.jqXHR;n&&4!==n.readyState&&n.abort(),he(r,[],function(e){Z(r);for(var t=me(r,e),n=0,i=t.length;n<i;n++)F(r,t[n]);le(r,o),Fe(r,!1)})}};t("ajax.json()",function(){var e=this.context;if(0<e.length)return e[0].json}),t("ajax.params()",function(){var e=this.context;if(0<e.length)return e[0].oAjaxData}),t("ajax.reload()",function(t,n){return this.iterator("table",function(e){vt(e,!1===n,t)})}),t("ajax.url()",function(t){var e=this.context;return t===V?0===e.length?V:(e=e[0]).ajax?B.isPlainObject(e.ajax)?e.ajax.url:e.ajax:e.sAjaxSource:this.iterator("table",function(e){B.isPlainObject(e.ajax)?e.ajax.url=t:e.ajax=t})}),t("ajax.url().load()",function(t,n){return this.iterator("table",function(e){vt(e,!1===n,t)})});var yt=function(e,t,n,i,r){var o,a,s,l,c,u,d=[],h=typeof t;for(t&&"string"!==h&&"function"!==h&&t.length!==V||(t=[t]),s=0,l=t.length;s<l;s++)for(c=0,u=(a=t[s]&&t[s].split&&!t[s].match(/[\[\(:]/)?t[s].split(","):[t[s]]).length;c<u;c++)(o=n("string"==typeof a[c]?B.trim(a[c]):a[c]))&&o.length&&(d=d.concat(o));var p=f.selector[e];if(p.length)for(s=0,l=p.length;s<l;s++)d=p[s](i,r,d);return m(d)},bt=function(e){return e||(e={}),e.filter&&e.search===V&&(e.search=e.filter),B.extend({search:"none",order:"current",page:"all"},e)},wt=function(e){for(var t=0,n=e.length;t<n;t++)if(0<e[t].length)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},xt=function(e,t){var n,i=[],r=e.aiDisplay,o=e.aiDisplayMaster,a=t.search,s=t.order,l=t.page;if("ssp"==ft(e))return"removed"===a?[]:g(0,o.length);if("current"==l)for(u=e._iDisplayStart,d=e.fnDisplayEnd();u<d;u++)i.push(r[u]);else if("current"==s||"applied"==s){if("none"==a)i=o.slice();else if("applied"==a)i=r.slice();else if("removed"==a){for(var c={},u=0,d=r.length;u<d;u++)c[r[u]]=null;i=B.map(o,function(e){return c.hasOwnProperty(e)?null:e})}}else if("index"==s||"original"==s)for(u=0,d=e.aoData.length;u<d;u++)"none"==a?i.push(u):(-1===(n=B.inArray(u,r))&&"removed"==a||0<=n&&"applied"==a)&&i.push(u);return i};t("rows()",function(t,n){t===V?t="":B.isPlainObject(t)&&(n=t,t=""),n=bt(n);var e=this.iterator("table",function(e){return yt("row",t,function(n){var e=p(n),i=l.aoData;if(null!==e&&!c)return[e];if(u||(u=xt(l,c)),null!==e&&-1!==B.inArray(e,u))return[e];if(null===n||n===V||""===n)return u;if("function"==typeof n)return B.map(u,function(e){var t=i[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var t=n._DT_RowIndex,r=n._DT_CellIndex;if(t!==V)return i[t]&&i[t].nTr===n?[t]:[];if(r)return i[r.row]&&i[r.row].nTr===n?[r.row]:[];var o=B(n).closest("*[data-dt-row]");return o.length?[o.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var a=l.aIds[n.replace(/^#/,"")];if(a!==V)return[a.idx]}var s=x(w(l.aoData,u,"nTr"));return B(s).filter(n).map(function(){return this._DT_RowIndex}).toArray()},l=e,c=n);var l,c,u},1);return e.selector.rows=t,e.selector.opts=n,e}),t("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||V},1)}),t("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return w(e.aoData,t,"_aData")},1)}),e("rows().cache()","row().cache()",function(i){return this.iterator("row",function(e,t){var n=e.aoData[t];return"search"===i?n._aFilterData:n._aSortData},1)}),e("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(e,t){te(e,t,n)})}),e("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),e("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,i=0,r=n.length;i<r;i++)for(var o=0,a=this[i].length;o<a;o++){var s=n[i].rowIdFn(n[i].aoData[this[i][o]]._aData);t.push((!0===e?"#":"")+s)}return new b(n,t)}),e("rows().remove()","row().remove()",function(){var h=this;return this.iterator("row",function(e,t,n){var i,r,o,a,s,l,c=e.aoData,u=c[t];for(c.splice(t,1),i=0,r=c.length;i<r;i++)if(l=(s=c[i]).anCells,null!==s.nTr&&(s.nTr._DT_RowIndex=i),null!==l)for(o=0,a=l.length;o<a;o++)l[o]._DT_CellIndex.row=i;ee(e.aiDisplayMaster,t),ee(e.aiDisplay,t),ee(h[n],t,!1),0<e._iRecordsDisplay&&e._iRecordsDisplay--,ht(e);var d=e.rowIdFn(u._aData);d!==V&&delete e.aIds[d]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),t("rows.add()",function(o){var e=this.iterator("table",function(e){var t,n,i,r=[];for(n=0,i=o.length;n<i;n++)(t=o[n]).nodeName&&"TR"===t.nodeName.toUpperCase()?r.push(q(e,t)[0]):r.push(F(e,t));return r},1),t=this.rows(-1);return t.pop(),B.merge(t,e),t}),t("row()",function(e,t){return wt(this.rows(e,t))}),t("row().data()",function(e){var t=this.context;if(e===V)return t.length&&this.length?t[0].aoData[this[0]]._aData:V;var n=t[0].aoData[this[0]];return n._aData=e,B.isArray(e)&&n.nTr.id&&K(t[0].rowId)(e,n.nTr.id),te(t[0],this[0],"data"),this}),t("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),t("row.add()",function(t){t instanceof B&&t.length&&(t=t[0]);var e=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?q(e,t)[0]:F(e,t)});return this.row(e[0])});var Ct=function(e,t){var n=e.context;if(n.length){var i=n[0].aoData[t!==V?t:e[0]];i&&i._details&&(i._details.remove(),i._detailsShow=V,i._details=V)}},St=function(e,t){var n=e.context;if(n.length&&e.length){var i=n[0].aoData[e[0]];i._details&&((i._detailsShow=t)?i._details.insertAfter(i.nTr):i._details.detach(),kt(n[0]))}},kt=function(l){var r=new b(l),e=".dt.DT_details",t="draw"+e,n="column-visibility"+e,i="destroy"+e,c=l.aoData;r.off(t+" "+n+" "+i),0<U(c,"_details").length&&(r.on(t,function(e,t){l===t&&r.rows({page:"current"}).eq(0).each(function(e){var t=c[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),r.on(n,function(e,t,n,i){if(l===t)for(var r,o=L(t),a=0,s=c.length;a<s;a++)(r=c[a])._details&&r._details.children("td[colspan]").attr("colspan",o)}),r.on(i,function(e,t){if(l===t)for(var n=0,i=c.length;n<i;n++)c[n]._details&&Ct(r,n)}))},_t="row().child",Tt=_t+"()";t(Tt,function(e,t){var o,n,a,s,i=this.context;return e===V?i.length&&this.length?i[0].aoData[this[0]]._details:V:(!0===e?this.child.show():!1===e?Ct(this):i.length&&this.length&&(o=i[0],n=i[0].aoData[this[0]],a=[],(s=function(e,t){if(B.isArray(e)||e instanceof B)for(var n=0,i=e.length;n<i;n++)s(e[n],t);else if(e.nodeName&&"tr"===e.nodeName.toLowerCase())a.push(e);else{var r=B("<tr><td/></tr>").addClass(t);B("td",r).addClass(t).html(e)[0].colSpan=L(o),a.push(r[0])}})(e,t),n._details&&n._details.detach(),n._details=B(a),n._detailsShow&&n._details.insertAfter(n.nTr)),this)}),t([_t+".show()",Tt+".show()"],function(e){return St(this,!0),this}),t([_t+".hide()",Tt+".hide()"],function(){return St(this,!1),this}),t([_t+".remove()",Tt+".remove()"],function(){return Ct(this),this}),t(_t+".isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var Dt=/^([^:]+):(name|visIdx|visible)$/,At=function(e,t,n,i,r){for(var o=[],a=0,s=r.length;a<s;a++)o.push(T(e,r[a],t));return o};t("columns()",function(n,i){n===V?n="":B.isPlainObject(n)&&(i=n,n=""),i=bt(i);var e=this.iterator("table",function(e){return t=n,c=i,u=(l=e).aoColumns,d=U(u,"sName"),h=U(u,"nTh"),yt("column",t,function(n){var e=p(n);if(""===n)return g(u.length);if(null!==e)return[0<=e?e:u.length+e];if("function"==typeof n){var i=xt(l,c);return B.map(u,function(e,t){return n(t,At(l,t,0,0,i),h[t])?t:null})}var r="string"==typeof n?n.match(Dt):"";if(r)switch(r[2]){case"visIdx":case"visible":var t=parseInt(r[1],10);if(t<0){var o=B.map(u,function(e,t){return e.bVisible?t:null});return[o[o.length+t]]}return[W(l,t)];case"name":return B.map(d,function(e,t){return e===r[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var a=B(h).filter(n).map(function(){return B.inArray(this,h)}).toArray();if(a.length||!n.nodeName)return a;var s=B(n).closest("*[data-dt-column]");return s.length?[s.data("dt-column")]:[]},l,c);var l,t,c,u,d,h},1);return e.selector.cols=n,e.selector.opts=i,e}),e("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),e("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),e("columns().data()","column().data()",function(){return this.iterator("column-rows",At,1)}),e("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),e("columns().cache()","column().cache()",function(o){return this.iterator("column-rows",function(e,t,n,i,r){return w(e.aoData,r,"search"===o?"_aFilterData":"_aSortData",t)},1)}),e("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,i,r){return w(e.aoData,r,"anCells",t)},1)}),e("columns().visible()","column().visible()",function(n,i){var e=this.iterator("column",function(e,t){if(n===V)return e.aoColumns[t].bVisible;!function(e,t,n){var i,r,o,a,s=e.aoColumns,l=s[t],c=e.aoData;if(n===V)return l.bVisible;if(l.bVisible!==n){if(n){var u=B.inArray(!0,U(s,"bVisible"),t+1);for(r=0,o=c.length;r<o;r++)a=c[r].nTr,i=c[r].anCells,a&&a.insertBefore(i[t],i[u]||null)}else B(U(e.aoData,"anCells",t)).detach();l.bVisible=n,ae(e,e.aoHeader),ae(e,e.aoFooter),e.aiDisplay.length||B(e.nTBody).find("td[colspan]").attr("colspan",L(e)),it(e)}}(e,t,n)});return n!==V&&(this.iterator("column",function(e,t){dt(e,null,"column-visibility",[e,t,n,i])}),(i===V||i)&&this.columns.adjust()),e}),e("columns().indexes()","column().index()",function(n){return this.iterator("column",function(e,t){return"visible"===n?k(e,t):t},1)}),t("columns.adjust()",function(){return this.iterator("table",function(e){z(e)},1)}),t("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return W(n,t);if("fromData"===e||"toVisible"===e)return k(n,t)}}),t("column()",function(e,t){return wt(this.columns(e,t))});t("cells()",function(m,e,v){if(B.isPlainObject(m)&&(m.row===V?(v=m,m=null):(v=e,e=null)),B.isPlainObject(e)&&(v=e,e=null),null===e||e===V)return this.iterator("table",function(e){return i=e,t=m,n=bt(v),d=i.aoData,h=xt(i,n),p=x(w(d,h,"anCells")),f=B([].concat.apply([],p)),g=i.aoColumns.length,yt("cell",t,function(e){var t="function"==typeof e;if(null===e||e===V||t){for(o=[],a=0,s=h.length;a<s;a++)for(r=h[a],l=0;l<g;l++)c={row:r,column:l},t?(u=d[r],e(c,T(i,r,l),u.anCells?u.anCells[l]:null)&&o.push(c)):o.push(c);return o}if(B.isPlainObject(e))return e.column!==V&&e.row!==V&&-1!==B.inArray(e.row,h)?[e]:[];var n=f.filter(e).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return n.length||!e.nodeName?n:(u=B(e).closest("*[data-dt-row]")).length?[{row:u.data("dt-row"),column:u.data("dt-column")}]:[]},i,n);var i,t,n,r,o,a,s,l,c,u,d,h,p,f,g});var n,i,r,o,a,s=this.columns(e),l=this.rows(m);this.iterator("table",function(e,t){for(n=[],i=0,r=l[t].length;i<r;i++)for(o=0,a=s[t].length;o<a;o++)n.push({row:l[t][i],column:s[t][o]})},1);var t=this.cells(n,v);return B.extend(t.selector,{cols:e,rows:m,opts:v}),t}),e("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var i=e.aoData[t];return i&&i.anCells?i.anCells[n]:V},1)}),t("cells().data()",function(){return this.iterator("cell",function(e,t,n){return T(e,t,n)},1)}),e("cells().cache()","cell().cache()",function(i){return i="search"===i?"_aFilterData":"_aSortData",this.iterator("cell",function(e,t,n){return e.aoData[t][i][n]},1)}),e("cells().render()","cell().render()",function(i){return this.iterator("cell",function(e,t,n){return T(e,t,n,i)},1)}),e("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:k(e,n)}},1)}),e("cells().invalidate()","cell().invalidate()",function(i){return this.iterator("cell",function(e,t,n){te(e,t,i,n)})}),t("cell()",function(e,t,n){return wt(this.cells(e,t,n))}),t("cell().data()",function(e){var t=this.context,n=this[0];return e===V?t.length&&n.length?T(t[0],n[0].row,n[0].column):V:(H(t[0],n[0].row,n[0].column,e),te(t[0],n[0].row,"data",n[0].column),this)}),t("order()",function(t,e){var n=this.context;return t===V?0!==n.length?n[0].aaSorting:V:("number"==typeof t?t=[[t,e]]:t.length&&!B.isArray(t[0])&&(t=Array.prototype.slice.call(arguments)),this.iterator("table",function(e){e.aaSorting=t.slice()}))}),t("order.listener()",function(t,n,i){return this.iterator("table",function(e){et(e,t,n,i)})}),t("order.fixed()",function(t){if(t)return this.iterator("table",function(e){e.aaSortingFixed=B.extend(!0,{},t)});var e=this.context,n=e.length?e[0].aaSortingFixed:V;return B.isArray(n)?{pre:n}:n}),t(["columns().order()","column().order()"],function(i){var r=this;return this.iterator("table",function(e,t){var n=[];B.each(r[t],function(e,t){n.push([t,i])}),e.aaSorting=n})}),t("search()",function(t,n,i,r){var e=this.context;return t===V?0!==e.length?e[0].oPreviousSearch.sSearch:V:this.iterator("table",function(e){e.oFeatures.bFilter&&ye(e,B.extend({},e.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===r||r}),1)})}),e("columns().search()","column().search()",function(i,r,o,a){return this.iterator("column",function(e,t){var n=e.aoPreSearchCols;if(i===V)return n[t].sSearch;e.oFeatures.bFilter&&(B.extend(n[t],{sSearch:i+"",bRegex:null!==r&&r,bSmart:null===o||o,bCaseInsensitive:null===a||a}),ye(e,e.oPreviousSearch,1))})}),t("state()",function(){return this.context.length?this.context[0].oSavedState:null}),t("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),t("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),t("state.save()",function(){return this.iterator("table",function(e){it(e)})}),D.versionCheck=D.fnVersionCheck=function(e){for(var t,n,i=D.version.split("."),r=e.split("."),o=0,a=r.length;o<a;o++)if((t=parseInt(i[o],10)||0)!==(n=parseInt(r[o],10)||0))return n<t;return!0},D.isDataTable=D.fnIsDataTable=function(e){var r=B(e).get(0),o=!1;return e instanceof D.Api||(B.each(D.settings,function(e,t){var n=t.nScrollHead?B("table",t.nScrollHead)[0]:null,i=t.nScrollFoot?B("table",t.nScrollFoot)[0]:null;t.nTable!==r&&n!==r&&i!==r||(o=!0)}),o)},D.tables=D.fnTables=function(t){var e=!1;B.isPlainObject(t)&&(e=t.api,t=t.visible);var n=B.map(D.settings,function(e){if(!t||t&&B(e.nTable).is(":visible"))return e.nTable});return e?new b(n):n},D.camelToHungarian=E,t("$()",function(e,t){var n=this.rows(t).nodes(),i=B(n);return B([].concat(i.filter(e).toArray(),i.find(e).toArray()))}),B.each(["on","one","off"],function(e,n){t(n+"()",function(){var e=Array.prototype.slice.call(arguments);e[0]=B.map(e[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var t=B(this.tables().nodes());return t[n].apply(t,e),this})}),t("clear()",function(){return this.iterator("table",function(e){Z(e)})}),t("settings()",function(){return new b(this.context,this.context)}),t("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),t("data()",function(){return this.iterator("table",function(e){return U(e.aoData,"_aData")}).flatten()}),t("destroy()",function(f){return f=f||!1,this.iterator("table",function(t){var n,e=t.nTableWrapper.parentNode,i=t.oClasses,r=t.nTable,o=t.nTBody,a=t.nTHead,s=t.nTFoot,l=B(r),c=B(o),u=B(t.nTableWrapper),d=B.map(t.aoData,function(e){return e.nTr});t.bDestroying=!0,dt(t,"aoDestroyCallback","destroy",[t]),f||new b(t).columns().visible(!0),u.off(".DT").find(":not(tbody *)").off(".DT"),B(A).off(".DT-"+t.sInstance),r!=a.parentNode&&(l.children("thead").detach(),l.append(a)),s&&r!=s.parentNode&&(l.children("tfoot").detach(),l.append(s)),t.aaSorting=[],t.aaSortingFixed=[],tt(t),B(d).removeClass(t.asStripeClasses.join(" ")),B("th, td",a).removeClass(i.sSortable+" "+i.sSortableAsc+" "+i.sSortableDesc+" "+i.sSortableNone),c.children().detach(),c.append(d);var h=f?"remove":"detach";l[h](),u[h](),!f&&e&&(e.insertBefore(r,t.nTableReinsertBefore),l.css("width",t.sDestroyWidth).removeClass(i.sTable),(n=t.asDestroyStripes.length)&&c.children().each(function(e){B(this).addClass(t.asDestroyStripes[e%n])}));var p=B.inArray(t,D.settings);-1!==p&&D.settings.splice(p,1)})}),B.each(["column","row","cell"],function(e,l){t(l+"s().every()",function(o){var a=this.selector.opts,s=this;return this.iterator(l,function(e,t,n,i,r){o.call(s[l](t,"cell"===l?n:a,"cell"===l?a:V),t,n,i,r)})})}),t("i18n()",function(e,t,n){var i=this.context[0],r=J(e)(i.oLanguage);return r===V&&(r=t),n!==V&&B.isPlainObject(r)&&(r=r[n]!==V?r[n]:r._),r.replace("%d",n)}),D.version="1.10.19",D.settings=[],D.models={},D.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0},D.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},D.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},D.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(e){}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(e){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:B.extend({},D.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},v(D.defaults),D.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},v(D.defaults.column),D.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,bAjaxDataGet:!0,jqXHR:null,json:V,oAjaxData:V,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==ft(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==ft(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,i=this.aiDisplay.length,r=this.oFeatures,o=r.bPaginate;return r.bServerSide?!1===o||-1===e?t+i:Math.min(t+e,this._iRecordsDisplay):!o||i<n||-1===e?i:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},D.ext=f={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:D.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:D.version},B.extend(f,{afnFiltering:f.search,aTypes:f.type.detect,ofnSearch:f.type.search,oSort:f.type.order,afnSortData:f.order,aoFeatures:f.feature,oApi:f.internal,oStdClasses:f.classes,oPagination:f.pager}),B.extend(D.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_asc_disabled",sSortableDesc:"sorting_desc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Et=D.ext.pager;function It(e,t){var n=[],i=Et.numbers_length,r=Math.floor(i/2);return t<=i?n=g(0,t):e<=r?((n=g(0,i-2)).push("ellipsis"),n.push(t-1)):(t-1-r<=e?(n=g(t-(i-2),t)).splice(0,0,"ellipsis"):((n=g(e-r+2,e+r-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis")),n.splice(0,0,0)),n.DT_el="span",n}B.extend(Et,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[It(e,t)]},simple_numbers:function(e,t){return["previous",It(e,t),"next"]},full_numbers:function(e,t){return["first","previous",It(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",It(e,t),"last"]},_numbers:It,numbers_length:7}),B.extend(!0,D.ext.renderer,{pageButton:{_:function(s,e,l,t,c,u){var d,h,n,p=s.oClasses,f=s.oLanguage.oPaginate,g=s.oLanguage.oAria.paginate||{},m=0,v=function(e,t){var n,i,r,o=function(e){je(s,e.data.action,!0)};for(n=0,i=t.length;n<i;n++)if(r=t[n],B.isArray(r)){var a=B("<"+(r.DT_el||"div")+"/>").appendTo(e);v(a,r)}else{switch(d=null,h="",r){case"ellipsis":e.append('<span class="ellipsis">&#x2026;</span>');break;case"first":d=f.sFirst,h=r+(0<c?"":" "+p.sPageButtonDisabled);break;case"previous":d=f.sPrevious,h=r+(0<c?"":" "+p.sPageButtonDisabled);break;case"next":d=f.sNext,h=r+(c<u-1?"":" "+p.sPageButtonDisabled);break;case"last":d=f.sLast,h=r+(c<u-1?"":" "+p.sPageButtonDisabled);break;default:d=r+1,h=c===r?p.sPageButtonActive:""}null!==d&&(ct(B("<a>",{class:p.sPageButton+" "+h,"aria-controls":s.sTableId,"aria-label":g[r],"data-dt-idx":m,tabindex:s.iTabIndex,id:0===l&&"string"==typeof r?s.sTableId+"_"+r:null}).html(d).appendTo(e),{action:r},o),m++)}};try{n=B(e).find(y.activeElement).data("dt-idx")}catch(e){}v(B(e).empty(),t),n!==V&&B(e).find("[data-dt-idx="+n+"]").focus()}}}),B.extend(D.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return u(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!o.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||l(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return u(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return d(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return d(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return l(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),B.extend(D.ext.type.search,{html:function(e){return l(e)?e:"string"==typeof e?e.replace(i," ").replace(r,""):""},string:function(e){return l(e)?e:"string"==typeof e?e.replace(i," "):e}});var Pt=function(e,t,n,i){return 0===e||e&&"-"!==e?(t&&(e=c(e,t)),e.replace&&(n&&(e=e.replace(n,"")),i&&(e=e.replace(i,""))),1*e):-1/0};function $t(n){B.each({num:function(e){return Pt(e,n)},"num-fmt":function(e){return Pt(e,n,s)},"html-num":function(e){return Pt(e,n,r)},"html-num-fmt":function(e){return Pt(e,n,r,s)}},function(e,t){f.type.order[e+n+"-pre"]=t,e.match(/^html\-/)&&(f.type.search[e+n]=f.type.search.html)})}B.extend(f.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return l(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return l(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:t<e?1:0},"string-desc":function(e,t){return e<t?1:t<e?-1:0}}),$t(""),B.extend(!0,D.ext.renderer,{header:{_:function(o,a,s,l){B(o.nTable).on("order.dt.DT",function(e,t,n,i){if(o===t){var r=s.idx;a.removeClass(s.sSortingClass+" "+l.sSortAsc+" "+l.sSortDesc).addClass("asc"==i[r]?l.sSortAsc:"desc"==i[r]?l.sSortDesc:s.sSortingClass)}})},jqueryui:function(o,a,s,l){B("<div/>").addClass(l.sSortJUIWrapper).append(a.contents()).append(B("<span/>").addClass(l.sSortIcon+" "+s.sSortingClassJUI)).appendTo(a),B(o.nTable).on("order.dt.DT",function(e,t,n,i){if(o===t){var r=s.idx;a.removeClass(l.sSortAsc+" "+l.sSortDesc).addClass("asc"==i[r]?l.sSortAsc:"desc"==i[r]?l.sSortDesc:s.sSortingClass),a.find("span."+l.sSortIcon).removeClass(l.sSortJUIAsc+" "+l.sSortJUIDesc+" "+l.sSortJUI+" "+l.sSortJUIAscAllowed+" "+l.sSortJUIDescAllowed).addClass("asc"==i[r]?l.sSortJUIAsc:"desc"==i[r]?l.sSortJUIDesc:s.sSortingClassJUI)}})}}});var Mt=function(e){return"string"==typeof e?e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function Ot(t){return function(){var e=[ot(this[D.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return D.ext.internal[t].apply(this,e)}}return D.render={number:function(o,a,s,l,c){return{display:function(e){if("number"!=typeof e&&"string"!=typeof e)return e;var t=e<0?"-":"",n=parseFloat(e);if(isNaN(n))return Mt(e);n=n.toFixed(s),e=Math.abs(n);var i=parseInt(e,10),r=s?a+(e-i).toFixed(s).substring(2):"";return t+(l||"")+i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,o)+r+(c||"")}}},text:function(){return{display:Mt,filter:Mt}}},B.extend(D.ext.internal,{_fnExternApiFunc:Ot,_fnBuildAjax:he,_fnAjaxUpdate:pe,_fnAjaxParameters:fe,_fnAjaxUpdateDraw:ge,_fnAjaxDataSrc:me,_fnAddColumn:O,_fnColumnOptions:N,_fnAdjustColumnSizing:z,_fnVisibleToColumnIndex:W,_fnColumnIndexToVisible:k,_fnVisbleColumns:L,_fnGetColumns:j,_fnColumnTypes:_,_fnApplyColumnDefs:R,_fnHungarianMap:v,_fnCamelToHungarian:E,_fnLanguageCompat:I,_fnBrowserDetect:M,_fnAddData:F,_fnAddTr:q,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==V?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(e,t,n){return B.inArray(n,e.aoData[t].anCells)},_fnGetCellData:T,_fnSetCellData:H,_fnSplitObjNotation:X,_fnGetObjectDataFn:J,_fnSetObjectDataFn:K,_fnGetDataMaster:Q,_fnClearTable:Z,_fnDeleteIndex:ee,_fnInvalidate:te,_fnGetRowElements:ne,_fnCreateTr:ie,_fnBuildHead:oe,_fnDrawHead:ae,_fnDraw:se,_fnReDraw:le,_fnAddOptionsHtml:ce,_fnDetectHeader:ue,_fnGetUniqueThs:de,_fnFeatureHtmlFilter:ve,_fnFilterComplete:ye,_fnFilterCustom:be,_fnFilterColumn:we,_fnFilter:xe,_fnFilterCreateSearch:Ce,_fnEscapeRegex:Se,_fnFilterData:Te,_fnFeatureHtmlInfo:Ee,_fnUpdateInfo:Ie,_fnInfoMacros:Pe,_fnInitialise:$e,_fnInitComplete:Me,_fnLengthChange:Oe,_fnFeatureHtmlLength:Ne,_fnFeatureHtmlPaginate:Le,_fnPageChange:je,_fnFeatureHtmlProcessing:Re,_fnProcessingDisplay:Fe,_fnFeatureHtmlTable:qe,_fnScrollDraw:He,_fnApplyToChildren:Be,_fnCalculateColumnWidths:Ue,_fnThrottle:ze,_fnConvertToWidth:We,_fnGetWidestNode:Ge,_fnGetMaxLenString:Ye,_fnStringToCss:Xe,_fnSortFlatten:Je,_fnSort:Ke,_fnSortAria:Qe,_fnSortListener:Ze,_fnSortAttachListener:et,_fnSortingClasses:tt,_fnSortData:nt,_fnSaveState:it,_fnLoadState:rt,_fnSettingsFromNode:ot,_fnLog:at,_fnMap:st,_fnBindAction:ct,_fnCallbackReg:ut,_fnCallbackFire:dt,_fnLengthOverflow:ht,_fnRenderer:pt,_fnDataSource:ft,_fnRowAttributes:re,_fnExtend:lt,_fnCalculateEnd:function(){}}),((B.fn.dataTable=D).$=B).fn.dataTableSettings=D.settings,B.fn.dataTableExt=D.ext,B.fn.DataTable=function(e){return B(this).dataTable(e).api()},B.each(D,function(e,t){B.fn.DataTable[e]=t}),B.fn.dataTable}),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(e){return n(e,window,document)}):"object"==typeof exports?module.exports=function(e,t){return e||(e=window),t&&t.fn.dataTable||(t=require("datatables.net")(e,t).$),n(t,e,e.document)}:n(jQuery,window,document)}(function(w,e,o,x){"use strict";var a=w.fn.dataTable;function C(e){for(var t=[],n=0,i=e.length;n<i;n++)t[e[n]]=n;return t}function S(e,t,n){var i=e.splice(t,1)[0];e.splice(n,0,i)}function k(e,t,n){for(var i=[],r=0,o=e.childNodes.length;r<o;r++)1==e.childNodes[r].nodeType&&i.push(e.childNodes[r]);var a=i[t];null!==n?e.insertBefore(a,i[n]):e.appendChild(a)}w.fn.dataTableExt.oApi.fnColReorder=function(n,e,t,i,r){var o,a,s,l,c,u,d,h=n.aoColumns.length,p=function(e,t,n){if(e[t]&&"function"!=typeof e[t]){var i=e[t].split("."),r=i.shift();isNaN(1*r)||(e[t]=n[1*r]+"."+i.join("."))}};if(e!=t)if(e<0||h<=e)this.oApi._fnLog(n,1,"ColReorder 'from' index is out of bounds: "+e);else if(t<0||h<=t)this.oApi._fnLog(n,1,"ColReorder 'to' index is out of bounds: "+t);else{var f=[];for(o=0,a=h;o<a;o++)f[o]=o;S(f,e,t);var g=C(f);for(o=0,a=n.aaSorting.length;o<a;o++)n.aaSorting[o][0]=g[n.aaSorting[o][0]];if(null!==n.aaSortingFixed)for(o=0,a=n.aaSortingFixed.length;o<a;o++)n.aaSortingFixed[o][0]=g[n.aaSortingFixed[o][0]];for(o=0,a=h;o<a;o++){for(s=0,l=(d=n.aoColumns[o]).aDataSort.length;s<l;s++)d.aDataSort[s]=g[d.aDataSort[s]];d.idx=g[d.idx]}for(w.each(n.aLastSort,function(e,t){n.aLastSort[e].src=g[t.src]}),o=0,a=h;o<a;o++)"number"==typeof(d=n.aoColumns[o]).mData?d.mData=g[d.mData]:w.isPlainObject(d.mData)&&(p(d.mData,"_",g),p(d.mData,"filter",g),p(d.mData,"sort",g),p(d.mData,"type",g));if(n.aoColumns[e].bVisible){var m=this.oApi._fnColumnIndexToVisible(n,e),v=null;for(o=t<e?t:t+1;null===v&&o<h;)v=this.oApi._fnColumnIndexToVisible(n,o),o++;for(o=0,a=(u=n.nTHead.getElementsByTagName("tr")).length;o<a;o++)k(u[o],m,v);if(null!==n.nTFoot)for(o=0,a=(u=n.nTFoot.getElementsByTagName("tr")).length;o<a;o++)k(u[o],m,v);for(o=0,a=n.aoData.length;o<a;o++)null!==n.aoData[o].nTr&&k(n.aoData[o].nTr,m,v)}for(S(n.aoColumns,e,t),o=0,a=h;o<a;o++)n.oApi._fnColumnOptions(n,o,{});for(S(n.aoPreSearchCols,e,t),o=0,a=n.aoData.length;o<a;o++){var y=n.aoData[o],b=y.anCells;if(b)for(S(b,e,t),s=0,c=b.length;s<c;s++)b[s]&&b[s]._DT_CellIndex&&(b[s]._DT_CellIndex.column=s);"dom"!==y.src&&w.isArray(y._aData)&&S(y._aData,e,t)}for(o=0,a=n.aoHeader.length;o<a;o++)S(n.aoHeader[o],e,t);if(null!==n.aoFooter)for(o=0,a=n.aoFooter.length;o<a;o++)S(n.aoFooter[o],e,t);for((r||r===x)&&w.fn.dataTable.Api(n).rows().invalidate(),o=0,a=h;o<a;o++)w(n.aoColumns[o].nTh).off("click.DT"),this.oApi._fnSortAttachListener(n,n.aoColumns[o].nTh,o);w(n.oInstance).trigger("column-reorder.dt",[n,{from:e,to:t,mapping:g,drop:i,iFrom:e,iTo:t,aiInvertMapping:g}])}};var s=function(e,t){var n=new w.fn.dataTable.Api(e).settings()[0];if(n._colReorder)return n._colReorder;!0===t&&(t={});var i=w.fn.dataTable.camelToHungarian;return i&&(i(s.defaults,s.defaults,!0),i(s.defaults,t||{})),this.s={dt:null,init:w.extend(!0,{},s.defaults,t),fixed:0,fixedRight:0,reorderCallback:null,mouse:{startX:-1,startY:-1,offsetX:-1,offsetY:-1,target:-1,targetIndex:-1,fromIndex:-1},aoTargets:[]},this.dom={drag:null,pointer:null},this.s.dt=n,(this.s.dt._colReorder=this)._fnConstruct(),this};return w.extend(s.prototype,{fnReset:function(){return this._fnOrderColumns(this.fnOrder()),this},fnGetCurrentOrder:function(){return this.fnOrder()},fnOrder:function(e,t){var n,i,r=[],o=this.s.dt.aoColumns;if(e===x){for(n=0,i=o.length;n<i;n++)r.push(o[n]._ColReorder_iOrigCol);return r}if(t){var a=this.fnOrder();for(n=0,i=e.length;n<i;n++)r.push(w.inArray(e[n],a));e=r}return this._fnOrderColumns(C(e)),this},fnTranspose:function(e,t){t||(t="toCurrent");var n=this.fnOrder(),i=this.s.dt.aoColumns;return"toCurrent"===t?w.isArray(e)?w.map(e,function(e){return w.inArray(e,n)}):w.inArray(e,n):w.isArray(e)?w.map(e,function(e){return i[e]._ColReorder_iOrigCol}):i[e]._ColReorder_iOrigCol},_fnConstruct:function(){var e,n=this,t=this.s.dt.aoColumns.length,i=this.s.dt.nTable;for(this.s.init.iFixedColumns&&(this.s.fixed=this.s.init.iFixedColumns),this.s.init.iFixedColumnsLeft&&(this.s.fixed=this.s.init.iFixedColumnsLeft),this.s.fixedRight=this.s.init.iFixedColumnsRight?this.s.init.iFixedColumnsRight:0,this.s.init.fnReorderCallback&&(this.s.reorderCallback=this.s.init.fnReorderCallback),e=0;e<t;e++)e>this.s.fixed-1&&e<t-this.s.fixedRight&&this._fnMouseListener(e,this.s.dt.aoColumns[e].nTh),this.s.dt.aoColumns[e]._ColReorder_iOrigCol=e;this.s.dt.oApi._fnCallbackReg(this.s.dt,"aoStateSaveParams",function(e,t){n._fnStateSave.call(n,t)},"ColReorder_State");var r=null;if(this.s.init.aiOrder&&(r=this.s.init.aiOrder.slice()),this.s.dt.oLoadedState&&void 0!==this.s.dt.oLoadedState.ColReorder&&this.s.dt.oLoadedState.ColReorder.length==this.s.dt.aoColumns.length&&(r=this.s.dt.oLoadedState.ColReorder),r)if(n.s.dt._bInitComplete){var o=C(r);n._fnOrderColumns.call(n,o)}else{var a=!1;w(i).on("draw.dt.colReorder",function(){if(!n.s.dt._bInitComplete&&!a){a=!0;var e=C(r);n._fnOrderColumns.call(n,e)}})}else this._fnSetColumnIndexes();w(i).on("destroy.dt.colReorder",function(){w(i).off("destroy.dt.colReorder draw.dt.colReorder"),w(n.s.dt.nTHead).find("*").off(".ColReorder"),w.each(n.s.dt.aoColumns,function(e,t){w(t.nTh).removeAttr("data-column-index")}),n.s.dt._colReorder=null,n.s=null})},_fnOrderColumns:function(e){var t=!1;if(e.length==this.s.dt.aoColumns.length){for(var n=0,i=e.length;n<i;n++){var r=w.inArray(n,e);n!=r&&(S(e,r,n),this.s.dt.oInstance.fnColReorder(r,n,!0,!1),t=!0)}w.fn.dataTable.Api(this.s.dt).rows().invalidate(),this._fnSetColumnIndexes(),t&&(""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY||this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))}else this.s.dt.oInstance.oApi._fnLog(this.s.dt,1,"ColReorder - array reorder does not match known number of columns. Skipping.")},_fnStateSave:function(e){var t,n,i,r=this.s.dt.aoColumns;if(e.ColReorder=[],e.aaSorting){for(t=0;t<e.aaSorting.length;t++)e.aaSorting[t][0]=r[e.aaSorting[t][0]]._ColReorder_iOrigCol;var o=w.extend(!0,[],e.aoSearchCols);for(t=0,n=r.length;t<n;t++)i=r[t]._ColReorder_iOrigCol,e.aoSearchCols[i]=o[t],e.abVisCols[i]=r[t].bVisible,e.ColReorder.push(i)}else if(e.order){for(t=0;t<e.order.length;t++)e.order[t][0]=r[e.order[t][0]]._ColReorder_iOrigCol;var a=w.extend(!0,[],e.columns);for(t=0,n=r.length;t<n;t++)i=r[t]._ColReorder_iOrigCol,e.columns[i]=a[t],e.ColReorder.push(i)}},_fnMouseListener:function(e,t){var n=this;w(t).on("mousedown.ColReorder",function(e){e.preventDefault(),n._fnMouseDown.call(n,e,t)}).on("touchstart.ColReorder",function(e){n._fnMouseDown.call(n,e,t)})},_fnMouseDown:function(e,t){var n=this,i=w(e.target).closest("th, td").offset(),r=parseInt(w(t).attr("data-column-index"),10);r!==x&&(this.s.mouse.startX=this._fnCursorPosition(e,"pageX"),this.s.mouse.startY=this._fnCursorPosition(e,"pageY"),this.s.mouse.offsetX=this._fnCursorPosition(e,"pageX")-i.left,this.s.mouse.offsetY=this._fnCursorPosition(e,"pageY")-i.top,this.s.mouse.target=this.s.dt.aoColumns[r].nTh,this.s.mouse.targetIndex=r,this.s.mouse.fromIndex=r,this._fnRegions(),w(o).on("mousemove.ColReorder touchmove.ColReorder",function(e){n._fnMouseMove.call(n,e)}).on("mouseup.ColReorder touchend.ColReorder",function(e){n._fnMouseUp.call(n,e)}))},_fnMouseMove:function(e){if(null===this.dom.drag){if(Math.pow(Math.pow(this._fnCursorPosition(e,"pageX")-this.s.mouse.startX,2)+Math.pow(this._fnCursorPosition(e,"pageY")-this.s.mouse.startY,2),.5)<5)return;this._fnCreateDragNode()}this.dom.drag.css({left:this._fnCursorPosition(e,"pageX")-this.s.mouse.offsetX,top:this._fnCursorPosition(e,"pageY")-this.s.mouse.offsetY});for(var t=!1,n=this.s.mouse.toIndex,i=1,r=this.s.aoTargets.length;i<r;i++)if(this._fnCursorPosition(e,"pageX")<this.s.aoTargets[i-1].x+(this.s.aoTargets[i].x-this.s.aoTargets[i-1].x)/2){this.dom.pointer.css("left",this.s.aoTargets[i-1].x),this.s.mouse.toIndex=this.s.aoTargets[i-1].to,t=!0;break}t||(this.dom.pointer.css("left",this.s.aoTargets[this.s.aoTargets.length-1].x),this.s.mouse.toIndex=this.s.aoTargets[this.s.aoTargets.length-1].to),this.s.init.bRealtime&&n!==this.s.mouse.toIndex&&(this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!1),this.s.mouse.fromIndex=this.s.mouse.toIndex,this._fnRegions())},_fnMouseUp:function(e){w(o).off(".ColReorder"),null!==this.dom.drag&&(this.dom.drag.remove(),this.dom.pointer.remove(),this.dom.drag=null,this.dom.pointer=null,this.s.dt.oInstance.fnColReorder(this.s.mouse.fromIndex,this.s.mouse.toIndex,!0),this._fnSetColumnIndexes(),""===this.s.dt.oScroll.sX&&""===this.s.dt.oScroll.sY||this.s.dt.oInstance.fnAdjustColumnSizing(!1),this.s.dt.oInstance.oApi._fnSaveState(this.s.dt),null!==this.s.reorderCallback&&this.s.reorderCallback.call(this))},_fnRegions:function(){var e=this.s.dt.aoColumns;this.s.aoTargets.splice(0,this.s.aoTargets.length),this.s.aoTargets.push({x:w(this.s.dt.nTable).offset().left,to:0});for(var t=0,n=this.s.aoTargets[0].x,i=0,r=e.length;i<r;i++)i!=this.s.mouse.fromIndex&&t++,e[i].bVisible&&"none"!==e[i].nTh.style.display&&(n+=w(e[i].nTh).outerWidth(),this.s.aoTargets.push({x:n,to:t}));0!==this.s.fixedRight&&this.s.aoTargets.splice(this.s.aoTargets.length-this.s.fixedRight),0!==this.s.fixed&&this.s.aoTargets.splice(0,this.s.fixed)},_fnCreateDragNode:function(){var e=""!==this.s.dt.oScroll.sX||""!==this.s.dt.oScroll.sY,t=this.s.dt.aoColumns[this.s.mouse.targetIndex].nTh,n=t.parentNode,i=n.parentNode,r=i.parentNode,o=w(t).clone();this.dom.drag=w(r.cloneNode(!1)).addClass("DTCR_clonedTable").append(w(i.cloneNode(!1)).append(w(n.cloneNode(!1)).append(o[0]))).css({position:"absolute",top:0,left:0,width:w(t).outerWidth(),height:w(t).outerHeight()}).appendTo("body"),this.dom.pointer=w("<div></div>").addClass("DTCR_pointer").css({position:"absolute",top:e?w("div.dataTables_scroll",this.s.dt.nTableWrapper).offset().top:w(this.s.dt.nTable).offset().top,height:e?w("div.dataTables_scroll",this.s.dt.nTableWrapper).height():w(this.s.dt.nTable).height()}).appendTo("body")},_fnSetColumnIndexes:function(){w.each(this.s.dt.aoColumns,function(e,t){w(t.nTh).attr("data-column-index",e)})},_fnCursorPosition:function(e,t){return-1!==e.type.indexOf("touch")?e.originalEvent.touches[0][t]:e[t]}}),s.defaults={aiOrder:null,bRealtime:!0,iFixedColumnsLeft:0,iFixedColumnsRight:0,fnReorderCallback:null},s.version="1.3.3",w.fn.dataTable.ColReorder=s,w.fn.DataTable.ColReorder=s,"function"==typeof w.fn.dataTable&&"function"==typeof w.fn.dataTableExt.fnVersionCheck&&w.fn.dataTableExt.fnVersionCheck("1.10.8")?w.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInstance;if(e._colReorder)t.oApi._fnLog(e,1,"ColReorder attempted to initialise twice. Ignoring second");else{var n=e.oInit,i=n.colReorder||n.oColReorder||{};new s(e,i)}return null},cFeature:"R",sFeature:"ColReorder"}):alert("Warning: ColReorder requires DataTables 1.10.8 or greater - www.datatables.net/download"),w(o).on("preInit.dt.colReorder",function(e,t){if("dt"===e.namespace){var n=t.oInit.colReorder,i=a.defaults.colReorder;if(n||i){var r=w.extend({},n,i);!1!==n&&new s(t,r)}}}),w.fn.dataTable.Api.register("colReorder.reset()",function(){return this.iterator("table",function(e){e._colReorder.fnReset()})}),w.fn.dataTable.Api.register("colReorder.order()",function(t,n){return t?this.iterator("table",function(e){e._colReorder.fnOrder(t,n)}):this.context.length?this.context[0]._colReorder.fnOrder():null}),w.fn.dataTable.Api.register("colReorder.transpose()",function(e,t){return this.context.length&&this.context[0]._colReorder?this.context[0]._colReorder.fnTranspose(e,t):e}),s}),function(e,d,t){var n=function(u,e){"use strict";var o=function(e,t){this.CLASS&&"ColVis"==this.CLASS||alert("Warning: ColVis must be initialised with the keyword 'new'"),void 0===t&&(t={});var n=u.fn.dataTable.camelToHungarian;return n&&(n(o.defaults,o.defaults,!0),n(o.defaults,t)),this.s={dt:null,oInit:t,hidden:!0,abOriginal:[]},this.dom={wrapper:null,button:null,collection:null,background:null,catcher:null,buttons:[],groupButtons:[],restore:null},o.aInstances.push(this),this.s.dt=u.fn.dataTable.Api?new u.fn.dataTable.Api(e).settings()[0]:e,this._fnConstruct(t),this};return o.prototype={button:function(){return this.dom.wrapper},fnRebuild:function(){this.rebuild()},rebuild:function(){for(var e=this.dom.buttons.length-1;0<=e;e--)this.dom.collection.removeChild(this.dom.buttons[e]);this.dom.buttons.splice(0,this.dom.buttons.length),this.dom.groupButtons.splice(0,this.dom.groupButtons.length),this.dom.restore&&this.dom.restore.parentNode(this.dom.restore),this._fnAddGroups(),this._fnAddButtons(),this._fnDrawCallback()},_fnConstruct:function(e){this._fnApplyCustomisation(e);var r,o,a=this;for(this.dom.wrapper=d.createElement("div"),this.dom.wrapper.className="ColVis",this.dom.button=u("<button />",{class:this.s.dt.bJUI?"ColVis_Button ColVis_MasterButton ui-button ui-state-default":"ColVis_Button ColVis_MasterButton"}).append("<span>"+this.s.buttonText+"</span>").bind("mouseover"==this.s.activate?"mouseover":"click",function(e){e.preventDefault(),a._fnCollectionShow()}).appendTo(this.dom.wrapper)[0],this.dom.catcher=this._fnDomCatcher(),this.dom.collection=this._fnDomCollection(),this.dom.background=this._fnDomBackground(),this._fnAddGroups(),this._fnAddButtons(),r=0,o=this.s.dt.aoColumns.length;r<o;r++)this.s.abOriginal.push(this.s.dt.aoColumns[r].bVisible);this.s.dt.aoDrawCallback.push({fn:function(){a._fnDrawCallback.call(a)},sName:"ColVis"}),u(this.s.dt.oInstance).bind("column-reorder.dt",function(e,t,n){for(r=0,o=a.s.aiExclude.length;r<o;r++)a.s.aiExclude[r]=n.aiInvertMapping[a.s.aiExclude[r]];var i=a.s.abOriginal.splice(n.iFrom,1)[0];a.s.abOriginal.splice(n.iTo,0,i),a.fnRebuild()}),u(this.s.dt.oInstance).bind("destroy.dt",function(){u(a.dom.wrapper).remove()}),this._fnDrawCallback()},_fnApplyCustomisation:function(e){u.extend(!0,this.s,o.defaults,e),!this.s.showAll&&this.s.bShowAll&&(this.s.showAll=this.s.sShowAll),!this.s.restore&&this.s.bRestore&&(this.s.restore=this.s.sRestore);var t=this.s.groups,n=this.s.aoGroups;if(t)for(var i=0,r=t.length;i<r;i++)t[i].title&&(n[i].sTitle=t[i].title),t[i].columns&&(n[i].aiColumns=t[i].columns)},_fnDrawCallback:function(){for(var e,i=this.s.dt.aoColumns,t=this.dom.buttons,n=this.s.aoGroups,r=0,o=t.length;r<o;r++)void 0!==(e=t[r]).__columnIdx&&u("input",e).prop("checked",i[e.__columnIdx].bVisible);for(var a=function(e){for(var t=0,n=e.length;t<n;t++)if(!1===i[e[t]].bVisible)return!1;return!0},s=function(e){for(var t=0,n=e.length;t<n;t++)if(!0===i[e[t]].bVisible)return!1;return!0},l=0,c=n.length;l<c;l++)a(n[l].aiColumns)?(u("input",this.dom.groupButtons[l]).prop("checked",!0),u("input",this.dom.groupButtons[l]).prop("indeterminate",!1)):s(n[l].aiColumns)?(u("input",this.dom.groupButtons[l]).prop("checked",!1),u("input",this.dom.groupButtons[l]).prop("indeterminate",!1)):u("input",this.dom.groupButtons[l]).prop("indeterminate",!0)},_fnAddGroups:function(){var e;if(void 0!==this.s.aoGroups)for(var t=0,n=this.s.aoGroups.length;t<n;t++)e=this._fnDomGroupButton(t),this.dom.groupButtons.push(e),this.dom.buttons.push(e),this.dom.collection.appendChild(e)},_fnAddButtons:function(){var e,r=this.s.dt.aoColumns;if(-1===u.inArray("all",this.s.aiExclude))for(var t=0,n=r.length;t<n;t++)-1===u.inArray(t,this.s.aiExclude)&&((e=this._fnDomColumnButton(t)).__columnIdx=t,this.dom.buttons.push(e));"alpha"===this.s.order&&this.dom.buttons.sort(function(e,t){var n=r[e.__columnIdx].sTitle,i=r[t.__columnIdx].sTitle;return n===i?0:n<i?-1:1}),this.s.restore&&((e=this._fnDomRestoreButton()).className+=" ColVis_Restore",this.dom.buttons.push(e)),this.s.showAll&&((e=this._fnDomShowXButton(this.s.showAll,!0)).className+=" ColVis_ShowAll",this.dom.buttons.push(e)),this.s.showNone&&((e=this._fnDomShowXButton(this.s.showNone,!1)).className+=" ColVis_ShowNone",this.dom.buttons.push(e)),u(this.dom.collection).append(this.dom.buttons)},_fnDomRestoreButton:function(){var i=this,e=this.s.dt;return u('<li class="ColVis_Special '+(e.bJUI?"ui-button ui-state-default":"")+'">'+this.s.restore+"</li>").click(function(e){for(var t=0,n=i.s.abOriginal.length;t<n;t++)i.s.dt.oInstance.fnSetColumnVis(t,i.s.abOriginal[t],!1);i._fnAdjustOpenRows(),i.s.dt.oInstance.fnAdjustColumnSizing(!1),i.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomShowXButton:function(e,i){var r=this,t=this.s.dt;return u('<li class="ColVis_Special '+(t.bJUI?"ui-button ui-state-default":"")+'">'+e+"</li>").click(function(e){for(var t=0,n=r.s.abOriginal.length;t<n;t++)-1===r.s.aiExclude.indexOf(t)&&r.s.dt.oInstance.fnSetColumnVis(t,i,!1);r._fnAdjustOpenRows(),r.s.dt.oInstance.fnAdjustColumnSizing(!1),r.s.dt.oInstance.fnDraw(!1)})[0]},_fnDomGroupButton:function(e){var i=this,t=this.s.dt,r=this.s.aoGroups[e];return u('<li class="ColVis_Special '+(t.bJUI?"ui-button ui-state-default":"")+'"><label><input type="checkbox" /><span>'+r.sTitle+"</span></label></li>").click(function(e){var t=!u("input",this).is(":checked");"li"!==e.target.nodeName.toLowerCase()&&(t=!t);for(var n=0;n<r.aiColumns.length;n++)i.s.dt.oInstance.fnSetColumnVis(r.aiColumns[n],t)})[0]},_fnDomColumnButton:function(i){var r=this,e=this.s.dt.aoColumns[i],o=this.s.dt,t=null===this.s.fnLabel?e.sTitle:this.s.fnLabel(i,e.sTitle,e.nTh);return u("<li "+(o.bJUI?'class="ui-button ui-state-default"':"")+'><label><input type="checkbox" /><span>'+t+"</span></label></li>").click(function(e){var t=!u("input",this).is(":checked");"li"!==e.target.nodeName.toLowerCase()&&("input"!=e.target.nodeName.toLowerCase()&&null!==r.s.fnStateChange||(t=!t));var n=u.fn.dataTableExt.iApiIndex;u.fn.dataTableExt.iApiIndex=r._fnDataTablesApiIndex.call(r),o.oFeatures.bServerSide?(r.s.dt.oInstance.fnSetColumnVis(i,t,!1),r.s.dt.oInstance.fnAdjustColumnSizing(!1),""===o.oScroll.sX&&""===o.oScroll.sY||r.s.dt.oInstance.oApi._fnScrollDraw(r.s.dt),r._fnDrawCallback()):r.s.dt.oInstance.fnSetColumnVis(i,t),u.fn.dataTableExt.iApiIndex=n,null!==r.s.fnStateChange&&("span"==e.target.nodeName.toLowerCase()&&e.preventDefault(),r.s.fnStateChange.call(r,i,t))})[0]},_fnDataTablesApiIndex:function(){for(var e=0,t=this.s.dt.oInstance.length;e<t;e++)if(this.s.dt.oInstance[e]==this.s.dt.nTable)return e;return 0},_fnDomCollection:function(){return u("<ul />",{class:this.s.dt.bJUI?"ColVis_collection ui-buttonset ui-buttonset-multi":"ColVis_collection"}).css({display:"none",opacity:0,position:this.s.bCssPosition?"":"absolute"})[0]},_fnDomCatcher:function(){var e=this,t=d.createElement("div");return t.className="ColVis_catcher",u(t).click(function(){e._fnCollectionHide.call(e,null,null)}),t},_fnDomBackground:function(){var e=this,t=u("<div></div>").addClass("ColVis_collectionBackground").css("opacity",0).click(function(){e._fnCollectionHide.call(e,null,null)});return"mouseover"==this.s.activate&&t.mouseover(function(){e.s.overcollection=!1,e._fnCollectionHide.call(e,null,null)}),t[0]},_fnCollectionShow:function(){var e,t=this,n=u(this.dom.button).offset(),i=this.dom.collection,r=this.dom.background,o=parseInt(n.left,10),a=parseInt(n.top+u(this.dom.button).outerHeight(),10);this.s.bCssPosition||(i.style.top=a+"px",i.style.left=o+"px"),u(i).css({display:"block",opacity:0}),r.style.bottom="0px",r.style.right="0px";var s=this.dom.catcher.style;if(s.height=u(this.dom.button).outerHeight()+"px",s.width=u(this.dom.button).outerWidth()+"px",s.top=n.top+"px",s.left=o+"px",d.body.appendChild(r),d.body.appendChild(i),d.body.appendChild(this.dom.catcher),u(i).animate({opacity:1},t.s.iOverlayFade),u(r).animate({opacity:.1},t.s.iOverlayFade,"linear",function(){u.browser&&u.browser.msie&&"6.0"==u.browser.version&&t._fnDrawCallback()}),!this.s.bCssPosition){e="left"==this.s.sAlign?o:o-u(i).outerWidth()+u(this.dom.button).outerWidth(),i.style.left=e+"px";var l=u(i).outerWidth(),c=(u(i).outerHeight(),u(d).width());c<e+l&&(i.style.left=c-l+"px")}this.s.hidden=!1},_fnCollectionHide:function(){var t=this;this.s.hidden||null===this.dom.collection||(this.s.hidden=!0,u(this.dom.collection).animate({opacity:0},t.s.iOverlayFade,function(e){this.style.display="none"}),u(this.dom.background).animate({opacity:0},t.s.iOverlayFade,function(e){d.body.removeChild(t.dom.background),d.body.removeChild(t.dom.catcher)}))},_fnAdjustOpenRows:function(){for(var e=this.s.dt.aoOpenRows,t=this.s.dt.oApi._fnVisbleColumns(this.s.dt),n=0,i=e.length;n<i;n++)e[n].nTr.getElementsByTagName("td")[0].colSpan=t}},o.fnRebuild=function(e){var t=null;void 0!==e&&(t=u.fn.dataTable.Api?new u.fn.dataTable.Api(e).table().node():e.fnSettings().nTable);for(var n=0,i=o.aInstances.length;n<i;n++)void 0!==e&&t!=o.aInstances[n].s.dt.nTable||o.aInstances[n].fnRebuild()},o.defaults={active:"click",buttonText:"Show / hide columns",aiExclude:[],bRestore:!1,sRestore:"Restore original",bShowAll:!1,sShowAll:"Show All",sAlign:"left",fnStateChange:null,iOverlayFade:500,fnLabel:null,bCssPosition:!1,aoGroups:[],order:"column"},o.aInstances=[],o.prototype.CLASS="ColVis",o.VERSION="1.1.2",o.prototype.VERSION=o.VERSION,"function"==typeof u.fn.dataTable&&"function"==typeof u.fn.dataTableExt.fnVersionCheck&&u.fn.dataTableExt.fnVersionCheck("1.7.0")?u.fn.dataTableExt.aoFeatures.push({fnInit:function(e){var t=e.oInit;return new o(e,t.colVis||t.oColVis||{}).button()},cFeature:"C",sFeature:"ColVis"}):alert("Warning: ColVis requires DataTables 1.7 or greater - www.datatables.net/download"),u.fn.dataTable.ColVis=o,u.fn.DataTable.ColVis=o};"function"==typeof define&&define.amd?define(["jquery","datatables"],n):"object"==typeof exports?n(require("jquery"),require("datatables")):jQuery&&!jQuery.fn.dataTable.ColVis&&n(jQuery,jQuery.fn.dataTable)}(window,document),function(){var k=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function w(e,t,n,i){t&&(n(e={a:t,e:e}),i.push.apply(i,e.g))}function x(e){for(var t=void 0,n=e.firstChild;n;n=n.nextSibling){var i=n.nodeType;t=1===i?t?e:n:3===i&&h.test(n.nodeValue)?e:t}return t===e?void 0:t}function o(l,m){var v,y={};!function(){for(var e=l.concat(m),t=[],n={},i=0,r=e.length;i<r;++i){var o=e[i],a=o[3];if(a)for(var s=a.length;0<=--s;)y[a.charAt(s)]=o;a=""+(o=o[1]),n.hasOwnProperty(a)||(t.push(o),n[a]=k)}t.push(/[\S\s]/),v=function(e){function s(e){var t=e.charCodeAt(0);if(92!==t)return t;var n=e.charAt(1);return(t=a[n])?t:"0"<=n&&n<="7"?parseInt(e.substring(1),8):"u"===n||"x"===n?parseInt(e.substring(2),16):e.charCodeAt(1)}function l(e){return e<32?(e<16?"\\x0":"\\x")+e.toString(16):"\\"===(e=String.fromCharCode(e))||"-"===e||"]"===e||"^"===e?"\\"+e:e}function c(e){var t=e.substring(1,e.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),n=(e=[],["["]);(i="^"===t[0])&&n.push("^");for(var i=i?1:0,r=t.length;i<r;++i){var o,a=t[i];if(/\\[bdsw]/i.test(a))n.push(a);else a=s(a),i+2<r&&"-"===t[i+1]?(o=s(t[i+2]),i+=2):o=a,e.push([a,o]),o<65||122<a||(o<65||90<a||e.push([32|Math.max(65,a),32|Math.min(o,90)]),o<97||122<a||e.push([-33&Math.max(97,a),-33&Math.min(o,122)]))}for(e.sort(function(e,t){return e[0]-t[0]||t[1]-e[1]}),t=[],r=[],i=0;i<e.length;++i)(a=e[i])[0]<=r[1]+1?r[1]=Math.max(r[1],a[1]):t.push(r=a);for(i=0;i<t.length;++i)a=t[i],n.push(l(a[0])),a[1]>a[0]&&(a[1]+1>a[0]&&n.push("-"),n.push(l(a[1])));return n.push("]"),n.join("")}function t(e){for(var t=e.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),n=t.length,i=[],r=0,o=0;r<n;++r){var a=t[r];"("===a?++o:"\\"===a.charAt(0)&&(a=+a.substring(1))&&(a<=o?i[a]=-1:t[r]=l(a))}for(r=1;r<i.length;++r)-1===i[r]&&(i[r]=++u);for(o=r=0;r<n;++r)"("===(a=t[r])?i[++o]||(t[r]="(?:"):"\\"===a.charAt(0)&&(a=+a.substring(1))&&a<=o&&(t[r]="\\"+i[a]);for(r=0;r<n;++r)"^"===t[r]&&"^"!==t[r+1]&&(t[r]="");if(e.ignoreCase&&d)for(r=0;r<n;++r)e=(a=t[r]).charAt(0),2<=a.length&&"["===e?t[r]=c(a):"\\"!==e&&(t[r]=a.replace(/[A-Za-z]/g,function(e){return e=e.charCodeAt(0),"["+String.fromCharCode(-33&e,32|e)+"]"}));return t.join("")}for(var u=0,d=!1,n=!1,i=0,r=e.length;i<r;++i){var o=e[i];if(o.ignoreCase)n=!0;else if(/[a-z]/i.test(o.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){n=!(d=!0);break}}var a={b:8,t:9,n:10,v:11,f:12,r:13},h=[];for(i=0,r=e.length;i<r;++i){if((o=e[i]).global||o.multiline)throw Error(""+o);h.push("(?:"+t(o)+")")}return RegExp(h.join("|"),n?"gi":"g")}(t)}();var b=m.length;return function e(t){for(var n=t.e,i=[n,"pln"],r=0,o=t.a.match(v)||[],a={},s=0,l=o.length;s<l;++s){var c,u=o[s],d=a[u],h=void 0;if("string"==typeof d)c=!1;else{var p=y[u.charAt(0)];if(p)h=u.match(p[1]),d=p[0];else{for(c=0;c<b;++c)if(p=m[c],h=u.match(p[1])){d=p[0];break}h||(d="pln")}!(c=5<=d.length&&"lang-"===d.substring(0,5))||h&&"string"==typeof h[1]||(c=!1,d="src"),c||(a[u]=d)}if(p=r,r+=u.length,c){c=h[1];var f=u.indexOf(c),g=f+c.length;h[2]&&(f=(g=u.length-h[2].length)-c.length),d=d.substring(5),w(n+p,u.substring(0,f),e,i),w(n+p+f,c,M(d,c),i),w(n+p+g,u.substring(g),e,i)}else i.push(n+p,d)}t.g=i}}function e(e){var t=[],n=[];e.tripleQuotedStrings?t.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,k,"'\""]):e.multiLineStrings?t.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,k,"'\"`"]):t.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,k,"\"'"]),e.verbatimStrings&&n.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,k]);var i=e.hashComments;if(i&&(e.cStyleComments?(1<i?t.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,k,"#"]):t.push(["com",/^#(?:(?:define|e(?:l|nd)if|else|error|ifn?def|include|line|pragma|undef|warning)\b|[^\n\r]*)/,k,"#"]),n.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h(?:h|pp|\+\+)?|[a-z]\w*)>/,k])):t.push(["com",/^#[^\n\r]*/,k,"#"])),e.cStyleComments&&(n.push(["com",/^\/\/[^\n\r]*/,k]),n.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,k])),i=e.regexLiterals){var r=(i=1<i?"":"\n\r")?".":"[\\S\\s]";n.push(["lang-regex",RegExp("^(?:^^\\.?|[+-]|[!=]=?=?|\\#|%=?|&&?=?|\\(|\\*=?|[+\\-]=|->|\\/=?|::?|<<?=?|>>?>?=?|,|;|\\?|@|\\[|~|{|\\^\\^?=?|\\|\\|?=?|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\\s*(/(?=[^/*"+i+"])(?:[^/\\x5B\\x5C"+i+"]|\\x5C"+r+"|\\x5B(?:[^\\x5C\\x5D"+i+"]|\\x5C"+r+")*(?:\\x5D|$))+/)")])}return(i=e.types)&&n.push(["typ",i]),(i=(""+e.keywords).replace(/^ | $/g,"")).length&&n.push(["kwd",RegExp("^(?:"+i.replace(/[\s,]+/g,"|")+")\\b"),k]),t.push(["pln",/^\s+/,k," \r\n\t "]),i="^.[^\\s\\w.$@'\"`/\\\\]*",e.regexLiterals&&(i+="(?!s*/)"),n.push(["lit",/^@[$_a-z][\w$@]*/i,k],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,k],["pln",/^[$_a-z][\w$@]*/i,k],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,k,"0123456789"],["pln",/^\\[\S\s]?/,k],["pun",RegExp(i),k]),o(t,n)}function C(e,t,r){function o(e){var t=e.nodeType;if(1!=t||s.test(e.className)){if((3==t||4==t)&&r){var n=e.nodeValue,i=n.match(l);i&&(t=n.substring(0,i.index),e.nodeValue=t,(n=n.substring(i.index+i[0].length))&&e.parentNode.insertBefore(c.createTextNode(n),e.nextSibling),a(e),t||e.parentNode.removeChild(e))}}else if("br"===e.nodeName)a(e),e.parentNode&&e.parentNode.removeChild(e);else for(e=e.firstChild;e;e=e.nextSibling)o(e)}function a(e){for(;!e.nextSibling;)if(!(e=e.parentNode))return;var t;for(e=function e(t,n){var i=n?t.cloneNode(!1):t;if(r=t.parentNode){var r=e(r,1),o=t.nextSibling;r.appendChild(i);for(var a=o;a;a=o)o=a.nextSibling,r.appendChild(a)}return i}(e.nextSibling,0);(t=e.parentNode)&&1===t.nodeType;)e=t;i.push(e)}for(var s=/(?:^|\s)nocode(?:\s|$)/,l=/\r\n?|\n/,c=e.ownerDocument,n=c.createElement("li");e.firstChild;)n.appendChild(e.firstChild);for(var i=[n],u=0;u<i.length;++u)o(i[u]);t===(0|t)&&i[0].setAttribute("value",t);var d=c.createElement("ol");d.className="linenums";t=Math.max(0,t-1|0)||0,u=0;for(var h=i.length;u<h;++u)(n=i[u]).className="L"+(u+t)%10,n.firstChild||n.appendChild(c.createTextNode(" ")),d.appendChild(n);e.appendChild(d)}function t(e,t){for(var n=t.length;0<=--n;){var i=t[n];f.hasOwnProperty(i)?O.console&&console.warn("cannot override language handler %s",i):f[i]=e}}function M(e,t){return e&&f.hasOwnProperty(e)||(e=/^\s*</.test(t)?"default-markup":"default-code"),f[e]}function S(e){var t,i,r,o,a,s,l,n=e.h;try{var c=(g=(t=e.c,i=e.i,r=/(?:^|\s)nocode(?:\s|$)/,o=[],s=[],l=a=0,function e(t){var n=t.nodeType;if(1==n){if(!r.test(t.className)){for(n=t.firstChild;n;n=n.nextSibling)e(n);"br"!==(n=t.nodeName.toLowerCase())&&"li"!==n||(o[l]="\n",s[l<<1]=a++,s[l++<<1|1]=t)}}else 3!=n&&4!=n||(n=t.nodeValue).length&&(n=i?n.replace(/\r\n?/g,"\n"):n.replace(/[\t\n\r ]+/g," "),o[l]=n,s[l<<1]=a,a+=n.length,s[l++<<1|1]=t)}(t),{a:o.join("").replace(/\n$/,""),d:s})).a;e.a=c,e.d=g.d,e.e=0,M(n,c)(e);var u,d,h=(h=/\bMSIE\s(\d+)/.exec(navigator.userAgent))&&+h[1]<=8,p=(n=/\n/g,e.a),f=p.length,g=0,m=e.d,v=m.length,y=(c=0,e.g),b=y.length,w=0;for(y[b]=f,d=u=0;d<b;)y[d]!==y[d+2]?(y[u++]=y[d++],y[u++]=y[d++]):d+=2;for(b=u,d=u=0;d<b;){for(var x=y[d],C=y[d+1],S=d+2;S+2<=b&&y[S+1]===C;)S+=2;y[u++]=x,y[u++]=C,d=S}y.length=u;var k,_=e.c;_&&(k=_.style.display,_.style.display="none");try{for(;c<v;){var T,D=m[c+2]||f,A=y[w+2]||f,E=(S=Math.min(D,A),m[c+1]);if(1!==E.nodeType&&(T=p.substring(g,S))){h&&(T=T.replace(n,"\r")),E.nodeValue=T;var I=E.ownerDocument,P=I.createElement("span");P.className=y[w+1];var $=E.parentNode;$.replaceChild(P,E),P.appendChild(E),g<D&&(m[c+1]=E=I.createTextNode(p.substring(S,D)),$.insertBefore(E,P.nextSibling))}D<=(g=S)&&(c+=2),A<=g&&(w+=2)}}finally{_&&(_.style.display=k)}}catch(e){O.console&&console.log(e&&e.stack||e)}}var n,i,O=window,r=[n=[[i=["break,continue,do,else,for,if,return,while"],"auto,case,char,const,default,double,enum,extern,float,goto,inline,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,delegate,dynamic_cast,explicit,export,friend,generic,late_check,mutable,namespace,nullptr,property,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],a=[n,"abstract,assert,boolean,byte,extends,final,finally,implements,import,instanceof,interface,null,native,package,strictfp,super,synchronized,throws,transient"],s=[a,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,internal,into,is,let,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var,virtual,where"],l=[i,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],c=[i,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],u=[i,"as,assert,const,copy,drop,enum,extern,fail,false,fn,impl,let,log,loop,match,mod,move,mut,priv,pub,pure,ref,self,static,struct,true,trait,type,unsafe,use"],d=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)\b/,h=/\S/,p=e({keywords:[r,s,n=[n,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",l,c,i=[i,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"]],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),f={};t(p,["default-code"]),t(o([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),t(o([["pln",/^\s+/,k," \t\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,k,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),t(o([],[["atv",/^[\S\s]+/]]),["uq.val"]),t(e({keywords:r,hashComments:!0,cStyleComments:!0,types:d}),["c","cc","cpp","cxx","cyc","m"]),t(e({keywords:"null,true,false"}),["json"]),t(e({keywords:s,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:d}),["cs"]),t(e({keywords:a,cStyleComments:!0}),["java"]),t(e({keywords:i,hashComments:!0,multiLineStrings:!0}),["bash","bsh","csh","sh"]),t(e({keywords:l,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py","python"]),t(e({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:2}),["perl","pl","pm"]),t(e({keywords:c,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb","ruby"]),t(e({keywords:n,cStyleComments:!0,regexLiterals:!0}),["javascript","js"]),t(e({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,throw,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),t(e({keywords:u,cStyleComments:!0,multilineStrings:!0}),["rc","rs","rust"]),t(o([],[["str",/^[\S\s]+/]]),["regex"]);var g=O.PR={createSimpleLexer:o,registerLangHandler:t,sourceDecorator:e,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ",prettyPrintOne:O.prettyPrintOne=function(e,t,n){var i=document.createElement("div");return i.innerHTML="<pre>"+e+"</pre>",i=i.firstChild,n&&C(i,n,!0),S({h:t,j:n,c:i,i:1}),i.innerHTML},prettyPrint:O.prettyPrint=function(c,e){for(var u=(t=e||document.body).ownerDocument||document,t=[t.getElementsByTagName("pre"),t.getElementsByTagName("code"),t.getElementsByTagName("xmp")],d=[],n=0;n<t.length;++n)for(var i=0,r=t[n].length;i<r;++i)d.push(t[n][i]);t=k;var h=Date;h.now||(h={now:function(){return+new Date}});var p=0,f=/\blang(?:uage)?-([\w.]+)(?!\S)/,g=/\bprettyprint\b/,m=/\bprettyprinted\b/,v=/pre|xmp/i,y=/^code$/i,b=/^(?:pre|code|xmp)$/i,w={};!function e(){for(var t=O.PR_SHOULD_USE_CONTINUATION?h.now()+250:1/0;p<d.length&&h.now()<t;p++){for(var n=d[p],i=w,r=n;(r=r.previousSibling)&&((s=(7===(o=r.nodeType)||8===o)&&r.nodeValue)?/^\??prettify\b/.test(s):3===o&&!/\S/.test(r.nodeValue));)if(s){i={},s.replace(/\b(\w+)=([\w%+\-.:]+)/g,function(e,t,n){i[t]=n});break}if(r=n.className,(i!==w||g.test(r))&&!m.test(r)){for(o=!1,s=n.parentNode;s;s=s.parentNode)if(b.test(s.tagName)&&s.className&&g.test(s.className)){o=!0;break}if(!o){var o,a;if(n.className+=" prettyprinted",(o=i.lang)||(!(o=r.match(f))&&(a=x(n))&&y.test(a.tagName)&&(o=a.className.match(f)),o&&(o=o[1])),v.test(n.tagName))s=1;else{var s=n.currentStyle,l=u.defaultView;s=(s=s?s.whiteSpace:l&&l.getComputedStyle?l.getComputedStyle(n,k).getPropertyValue("white-space"):0)&&"pre"===s.substring(0,3)}(l="true"===(l=i.linenums)||+l)||(l=!!(l=r.match(/\blinenums\b(?::(\d+))?/))&&(!l[1]||!l[1].length||+l[1])),l&&C(n,l,s),S({h:o,c:n,j:l,i:s})}}}p<d.length?setTimeout(e,250):"function"==typeof c&&c()}()}};"function"==typeof define&&define.amd&&define("google-code-prettify",[],function(){return g})}()}(),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(l){var i=-1,r=-1,c=function(e){return parseFloat(e)||0},u=function(e){var t=l(e),i=null,r=[];return t.each(function(){var e=l(this),t=e.offset().top-c(e.css("margin-top")),n=0<r.length?r[r.length-1]:null;null===n?r.push(e):Math.floor(Math.abs(i-t))<=1?r[r.length-1]=n.add(e):r.push(e),i=t}),r},d=function(e){var t={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?l.extend(t,e):("boolean"==typeof e?t.byRow=e:"remove"===e&&(t.remove=!0),t)},h=l.fn.matchHeight=function(e){var t=d(e);if(t.remove){var n=this;return this.css(t.property,""),l.each(h._groups,function(e,t){t.elements=t.elements.not(n)}),this}return this.length<=1&&!t.target||(h._groups.push({elements:this,options:t}),h._apply(this,t)),this};h.version="0.7.2",h._groups=[],h._throttle=80,h._maintainScroll=!1,h._beforeUpdate=null,h._afterUpdate=null,h._rows=u,h._parse=c,h._parseOptions=d,h._apply=function(e,t){var o=d(t),n=l(e),i=[n],r=l(window).scrollTop(),a=l("html").outerHeight(!0),s=n.parents().filter(":hidden");return s.each(function(){var e=l(this);e.data("style-cache",e.attr("style"))}),s.css("display","block"),o.byRow&&!o.target&&(n.each(function(){var e=l(this),t=e.css("display");"inline-block"!==t&&"flex"!==t&&"inline-flex"!==t&&(t="block"),e.data("style-cache",e.attr("style")),e.css({display:t,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),i=u(n),n.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||"")})),l.each(i,function(e,t){var n=l(t),r=0;if(o.target)r=o.target.outerHeight(!1);else{if(o.byRow&&n.length<=1)return void n.css(o.property,"");n.each(function(){var e=l(this),t=e.attr("style"),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block");var i={display:n};i[o.property]="",e.css(i),e.outerHeight(!1)>r&&(r=e.outerHeight(!1)),t?e.attr("style",t):e.css("display","")})}n.each(function(){var e=l(this),t=0;o.target&&e.is(o.target)||("border-box"!==e.css("box-sizing")&&(t+=c(e.css("border-top-width"))+c(e.css("border-bottom-width")),t+=c(e.css("padding-top"))+c(e.css("padding-bottom"))),e.css(o.property,r-t+"px"))})}),s.each(function(){var e=l(this);e.attr("style",e.data("style-cache")||null)}),h._maintainScroll&&l(window).scrollTop(r/a*l("html").outerHeight(!0)),this},h._applyDataApi=function(){var n={};l("[data-match-height], [data-mh]").each(function(){var e=l(this),t=e.attr("data-mh")||e.attr("data-match-height");n[t]=t in n?n[t].add(e):e}),l.each(n,function(){this.matchHeight(!0)})};var o=function(e){h._beforeUpdate&&h._beforeUpdate(e,h._groups),l.each(h._groups,function(){h._apply(this.elements,this.options)}),h._afterUpdate&&h._afterUpdate(e,h._groups)};h._update=function(e,t){if(t&&"resize"===t.type){var n=l(window).width();if(n===i)return;i=n}e?-1===r&&(r=setTimeout(function(){o(t),r=-1},h._throttle)):o(t)},l(h._applyDataApi);var e=l.fn.on?"on":"bind";l(window)[e]("load",function(e){h._update(!1,e)}),l(window)[e]("resize orientationchange",function(e){h._update(!0,e)})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function h(){return e.apply(null,arguments)}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function l(e){return"[object Object]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,i=[];for(n=0;n<e.length;++n)i.push(t(e[n],n));return i}function p(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)p(t,n)&&(e[n]=t[n]);return p(t,"toString")&&(e.toString=t.toString),p(t,"valueOf")&&(e.valueOf=t.valueOf),e}function f(e,t,n,i){return wt(e,t,n,i,!0).utc()}function g(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),e._pf}function m(e){if(null==e._isValid){var t=g(e),n=i.call(t.parsedDateParts,function(e){return null!=e});e._isValid=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n),e._strict&&(e._isValid=e._isValid&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)}return e._isValid}function v(e){var t=f(NaN);return null!=e?d(g(t),e):g(t).userInvalidated=!0,t}function o(e){return void 0===e}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,i=0;i<n;i++)if(i in t&&e.call(this,t[i],i,t))return!0;return!1};var a=h.momentProperties=[];function y(e,t){var n,i,r;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=g(t)),o(t._locale)||(e._locale=t._locale),0<a.length)for(n in a)o(r=t[i=a[n]])||(e[i]=r);return e}var t=!1;function b(e){y(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===t&&(t=!0,h.updateOffset(this),t=!1)}function w(e){return e instanceof b||null!=e&&null!=e._isAMomentObject}function x(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function C(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=x(t)),n}function S(e,t,n){var i,r=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(i=0;i<r;i++)(n&&e[i]!==t[i]||!n&&C(e[i])!==C(t[i]))&&a++;return a+o}function r(e){!1===h.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(e,t){var n=!0;return d(function(){return null!=h.deprecationHandler&&h.deprecationHandler(null,e),n&&(r(e+"\nArguments: "+Array.prototype.slice.call(arguments).join(", ")+"\n"+(new Error).stack),n=!1),t.apply(this,arguments)},t)}var k,_={};function T(e,t){null!=h.deprecationHandler&&h.deprecationHandler(e,t),_[e]||(r(t),_[e]=!0)}function D(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function A(e,t){var n,i=d({},e);for(n in t)p(t,n)&&(l(e[n])&&l(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)p(e,n)&&!p(t,n)&&l(e[n])&&(i[n]=d({},i[n]));return i}function E(e){null!=e&&this.set(e)}h.suppressDeprecationWarnings=!1,h.deprecationHandler=null,k=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)p(e,t)&&n.push(t);return n};var I={};function P(e,t){var n=e.toLowerCase();I[n]=I[n+"s"]=I[t]=e}function $(e){return"string"==typeof e?I[e]||I[e.toLowerCase()]:void 0}function M(e){var t,n,i={};for(n in e)p(e,n)&&(t=$(n))&&(i[t]=e[n]);return i}var O={};function N(e,t){O[e]=t}function L(t,n){return function(e){return null!=e?(R(this,t,e),h.updateOffset(this,n),this):j(this,t)}}function j(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function R(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function F(e,t,n){var i=""+Math.abs(e),r=t-i.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var q=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,H=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,B={},V={};function U(e,t,n,i){var r=i;"string"==typeof i&&(r=function(){return this[i]()}),e&&(V[e]=r),t&&(V[t[0]]=function(){return F(r.apply(this,arguments),t[1],t[2])}),n&&(V[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)})}function z(e,t){return e.isValid()?(t=W(t,e.localeData()),B[t]=B[t]||function(i){var e,r,t,o=i.match(q);for(e=0,r=o.length;e<r;e++)V[o[e]]?o[e]=V[o[e]]:o[e]=(t=o[e]).match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"");return function(e){var t,n="";for(t=0;t<r;t++)n+=o[t]instanceof Function?o[t].call(e,i):o[t];return n}}(t),B[t](e)):e.localeData().invalidDate()}function W(e,t){var n=5;function i(e){return t.longDateFormat(e)||e}for(H.lastIndex=0;0<=n&&H.test(e);)e=e.replace(H,i),H.lastIndex=0,n-=1;return e}var G=/\d/,Y=/\d\d/,X=/\d{3}/,J=/\d{4}/,K=/[+-]?\d{6}/,Q=/\d\d?/,Z=/\d\d\d\d?/,ee=/\d\d\d\d\d\d?/,te=/\d{1,3}/,ne=/\d{1,4}/,ie=/[+-]?\d{1,6}/,re=/\d+/,oe=/[+-]?\d+/,ae=/Z|[+-]\d\d:?\d\d/gi,se=/Z|[+-]\d\d(?::?\d\d)?/gi,le=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ce={};function ue(e,n,i){ce[e]=D(n)?n:function(e,t){return e&&i?i:n}}function de(e,t){return p(ce,e)?ce[e](t._strict,t._locale):new RegExp(he(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,i,r){return t||n||i||r})))}function he(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function fe(e,n){var t,i=n;for("string"==typeof e&&(e=[e]),"number"==typeof n&&(i=function(e,t){t[n]=C(e)}),t=0;t<e.length;t++)pe[e[t]]=i}function ge(e,r){fe(e,function(e,t,n,i){n._w=n._w||{},r(e,n._w,n,i)})}var me,ve=0,ye=1,be=2,we=3,xe=4,Ce=5,Se=6,ke=7,_e=8;function Te(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}me=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},U("M",["MM",2],"Mo",function(){return this.month()+1}),U("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),U("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),N("month",8),ue("M",Q),ue("MM",Q,Y),ue("MMM",function(e,t){return t.monthsShortRegex(e)}),ue("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ye]=C(e)-1}),fe(["MMM","MMMM"],function(e,t,n,i){var r=n._locale.monthsParse(e,i,n._strict);null!=r?t[ye]=r:g(n).invalidMonth=e});var De=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,Ae="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Ee="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Ie(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=C(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Te(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Pe(e){return null!=e?(Ie(this,e),h.updateOffset(this,!0),this):j(this,"Month")}var $e=le;var Me=le;function Oe(){function e(e,t){return t.length-e.length}var t,n,i=[],r=[],o=[];for(t=0;t<12;t++)n=f([2e3,t]),i.push(this.monthsShort(n,"")),r.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(i.sort(e),r.sort(e),o.sort(e),t=0;t<12;t++)i[t]=he(i[t]),r[t]=he(r[t]);for(t=0;t<24;t++)o[t]=he(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+i.join("|")+")","i")}function Ne(e){return Le(e)?366:365}function Le(e){return e%4==0&&e%100!=0||e%400==0}U("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),U(0,["YY",2],0,function(){return this.year()%100}),U(0,["YYYY",4],0,"year"),U(0,["YYYYY",5],0,"year"),U(0,["YYYYYY",6,!0],0,"year"),P("year","y"),N("year",1),ue("Y",oe),ue("YY",Q,Y),ue("YYYY",ne,J),ue("YYYYY",ie,K),ue("YYYYYY",ie,K),fe(["YYYYY","YYYYYY"],ve),fe("YYYY",function(e,t){t[ve]=2===e.length?h.parseTwoDigitYear(e):C(e)}),fe("YY",function(e,t){t[ve]=h.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ve]=parseInt(e,10)}),h.parseTwoDigitYear=function(e){return C(e)+(68<C(e)?1900:2e3)};var je=L("FullYear",!0);function Re(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Fe(e,t,n){var i=7+t-n;return-((7+Re(e,0,i).getUTCDay()-t)%7)+i-1}function qe(e,t,n,i,r){var o,a,s=1+7*(t-1)+(7+n-i)%7+Fe(e,i,r);return s<=0?a=Ne(o=e-1)+s:s>Ne(e)?(o=e+1,a=s-Ne(e)):(o=e,a=s),{year:o,dayOfYear:a}}function He(e,t,n){var i,r,o=Fe(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?i=a+Be(r=e.year()-1,t,n):a>Be(e.year(),t,n)?(i=a-Be(e.year(),t,n),r=e.year()+1):(r=e.year(),i=a),{week:i,year:r}}function Be(e,t,n){var i=Fe(e,t,n),r=Fe(e+1,t,n);return(Ne(e)-i+r)/7}U("w",["ww",2],"wo","week"),U("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),N("week",5),N("isoWeek",5),ue("w",Q),ue("ww",Q,Y),ue("W",Q),ue("WW",Q,Y),ge(["w","ww","W","WW"],function(e,t,n,i){t[i.substr(0,1)]=C(e)});U("d",0,"do","day"),U("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),U("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),U("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),U("e",0,0,"weekday"),U("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),ue("d",Q),ue("e",Q),ue("E",Q),ue("dd",function(e,t){return t.weekdaysMinRegex(e)}),ue("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ue("dddd",function(e,t){return t.weekdaysRegex(e)}),ge(["dd","ddd","dddd"],function(e,t,n,i){var r=n._locale.weekdaysParse(e,i,n._strict);null!=r?t.d=r:g(n).invalidWeekday=e}),ge(["d","e","E"],function(e,t,n,i){t[i]=C(e)});var Ve="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ue="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var ze="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var We=le;var Ge=le;var Ye=le;function Xe(){function e(e,t){return t.length-e.length}var t,n,i,r,o,a=[],s=[],l=[],c=[];for(t=0;t<7;t++)n=f([2e3,1]).day(t),i=this.weekdaysMin(n,""),r=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(i),s.push(r),l.push(o),c.push(i),c.push(r),c.push(o);for(a.sort(e),s.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)s[t]=he(s[t]),l[t]=he(l[t]),c[t]=he(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Je(){return this.hours()%12||12}function Ke(e,t){U(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Qe(e,t){return t._meridiemParse}U("H",["HH",2],0,"hour"),U("h",["hh",2],0,Je),U("k",["kk",2],0,function(){return this.hours()||24}),U("hmm",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)}),U("hmmss",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),U("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),U("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),P("hour","h"),N("hour",13),ue("a",Qe),ue("A",Qe),ue("H",Q),ue("h",Q),ue("HH",Q,Y),ue("hh",Q,Y),ue("hmm",Z),ue("hmmss",ee),ue("Hmm",Z),ue("Hmmss",ee),fe(["H","HH"],we),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[we]=C(e),g(n).bigHour=!0}),fe("hmm",function(e,t,n){var i=e.length-2;t[we]=C(e.substr(0,i)),t[xe]=C(e.substr(i)),g(n).bigHour=!0}),fe("hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=C(e.substr(0,i)),t[xe]=C(e.substr(i,2)),t[Ce]=C(e.substr(r)),g(n).bigHour=!0}),fe("Hmm",function(e,t,n){var i=e.length-2;t[we]=C(e.substr(0,i)),t[xe]=C(e.substr(i))}),fe("Hmmss",function(e,t,n){var i=e.length-4,r=e.length-2;t[we]=C(e.substr(0,i)),t[xe]=C(e.substr(i,2)),t[Ce]=C(e.substr(r))});var Ze,et=L("Hours",!0),tt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ae,monthsShort:Ee,week:{dow:0,doy:6},weekdays:Ve,weekdaysMin:ze,weekdaysShort:Ue,meridiemParse:/[ap]\.?m?\.?/i},nt={};function it(e){return e?e.toLowerCase().replace("_","-"):e}function rt(e){var t=null;if(!nt[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ze._abbr,require("./locale/"+e),ot(t)}catch(e){}return nt[e]}function ot(e,t){var n;return e&&(n=o(t)?st(e):at(e,t))&&(Ze=n),Ze._abbr}function at(e,t){if(null===t)return delete nt[e],null;var n=tt;return t.abbr=e,null!=nt[e]?(T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=nt[e]._config):null!=t.parentLocale&&(null!=nt[t.parentLocale]?n=nt[t.parentLocale]._config:T("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),nt[e]=new E(A(n,t)),ot(e),nt[e]}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ze;if(!s(e)){if(t=rt(e))return t;e=[e]}return function(e){for(var t,n,i,r,o=0;o<e.length;){for(t=(r=it(e[o]).split("-")).length,n=(n=it(e[o+1]))?n.split("-"):null;0<t;){if(i=rt(r.slice(0,t).join("-")))return i;if(n&&n.length>=t&&S(r,n,!0)>=t-1)break;t--}o++}return null}(e)}function lt(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[ye]<0||11<n[ye]?ye:n[be]<1||n[be]>Te(n[ve],n[ye])?be:n[we]<0||24<n[we]||24===n[we]&&(0!==n[xe]||0!==n[Ce]||0!==n[Se])?we:n[xe]<0||59<n[xe]?xe:n[Ce]<0||59<n[Ce]?Ce:n[Se]<0||999<n[Se]?Se:-1,g(e)._overflowDayOfYear&&(t<ve||be<t)&&(t=be),g(e)._overflowWeeks&&-1===t&&(t=ke),g(e)._overflowWeekday&&-1===t&&(t=_e),g(e).overflow=t),e}var ct=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,ut=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,dt=/Z|[+-]\d\d(?::?\d\d)?/,ht=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],pt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ft=/^\/?Date\((\-?\d+)/i;function gt(e){var t,n,i,r,o,a,s=e._i,l=ct.exec(s)||ut.exec(s);if(l){for(g(e).iso=!0,t=0,n=ht.length;t<n;t++)if(ht[t][1].exec(l[1])){r=ht[t][0],i=!1!==ht[t][2];break}if(null==r)return void(e._isValid=!1);if(l[3]){for(t=0,n=pt.length;t<n;t++)if(pt[t][1].exec(l[3])){o=(l[2]||" ")+pt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!i&&null!=o)return void(e._isValid=!1);if(l[4]){if(!dt.exec(l[4]))return void(e._isValid=!1);a="Z"}e._f=r+(o||"")+(a||""),yt(e)}else e._isValid=!1}function mt(e,t,n){return null!=e?e:null!=t?t:n}function vt(e){var t,n,i,r,o=[];if(!e._d){var a,s;for(a=e,s=new Date(h.now()),i=a._useUTC?[s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()]:[s.getFullYear(),s.getMonth(),s.getDate()],e._w&&null==e._a[be]&&null==e._a[ye]&&function(e){var t,n,i,r,o,a,s,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,a=4,n=mt(t.GG,e._a[ve],He(xt(),1,4).year),i=mt(t.W,1),((r=mt(t.E,1))<1||7<r)&&(l=!0)):(o=e._locale._week.dow,a=e._locale._week.doy,n=mt(t.gg,e._a[ve],He(xt(),o,a).year),i=mt(t.w,1),null!=t.d?((r=t.d)<0||6<r)&&(l=!0):null!=t.e?(r=t.e+o,(t.e<0||6<t.e)&&(l=!0)):r=o);i<1||i>Be(n,o,a)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(s=qe(n,i,r,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),e._dayOfYear&&(r=mt(e._a[ve],i[ve]),e._dayOfYear>Ne(r)&&(g(e)._overflowDayOfYear=!0),n=Re(r,0,e._dayOfYear),e._a[ye]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=i[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[we]&&0===e._a[xe]&&0===e._a[Ce]&&0===e._a[Se]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?Re:function(e,t,n,i,r,o,a){var s=new Date(e,t,n,i,r,o,a);return e<100&&0<=e&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24)}}function yt(e){if(e._f!==h.ISO_8601){e._a=[],g(e).empty=!0;var t,n,i,r,o,a,s,l,c=""+e._i,u=c.length,d=0;for(i=W(e._f,e._locale).match(q)||[],t=0;t<i.length;t++)r=i[t],(n=(c.match(de(r,e))||[])[0])&&(0<(o=c.substr(0,c.indexOf(n))).length&&g(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),d+=n.length),V[r]?(n?g(e).empty=!1:g(e).unusedTokens.push(r),a=r,l=e,null!=(s=n)&&p(pe,a)&&pe[a](s,l._a,l,a)):e._strict&&!n&&g(e).unusedTokens.push(r);g(e).charsLeftOver=u-d,0<c.length&&g(e).unusedInput.push(c),e._a[we]<=12&&!0===g(e).bigHour&&0<e._a[we]&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var i;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((i=e.isPM(n))&&t<12&&(t+=12),i||12!==t||(t=0)),t)}(e._locale,e._a[we],e._meridiem),vt(e),lt(e)}else gt(e)}function bt(e){var t,n,i,r,o=e._i,a=e._f;return e._locale=e._locale||st(e._l),null===o||void 0===a&&""===o?v({nullInput:!0}):("string"==typeof o&&(e._i=o=e._locale.preparse(o)),w(o)?new b(lt(o)):(s(a)?function(e){var t,n,i,r,o;if(0===e._f.length)return g(e).invalidFormat=!0,e._d=new Date(NaN);for(r=0;r<e._f.length;r++)o=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[r],yt(t),m(t)&&(o+=g(t).charsLeftOver,o+=10*g(t).unusedTokens.length,g(t).score=o,(null==i||o<i)&&(i=o,n=t));d(e,n||t)}(e):c(o)?e._d=o:a?yt(e):void 0===(n=(t=e)._i)?t._d=new Date(h.now()):c(n)?t._d=new Date(n.valueOf()):"string"==typeof n?(i=t,null===(r=ft.exec(i._i))?(gt(i),!1===i._isValid&&(delete i._isValid,h.createFromInputFallback(i))):i._d=new Date(+r[1])):s(n)?(t._a=u(n.slice(0),function(e){return parseInt(e,10)}),vt(t)):"object"==typeof n?function(e){if(!e._d){var t=M(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),vt(e)}}(t):"number"==typeof n?t._d=new Date(n):h.createFromInputFallback(t),m(e)||(e._d=null),e))}function wt(e,t,n,i,r){var o,a={};return"boolean"==typeof n&&(i=n,n=void 0),(l(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=r,a._l=n,a._i=e,a._f=t,a._strict=i,(o=new b(lt(bt(a))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function xt(e,t,n,i){return wt(e,t,n,i,!1)}h.createFromInputFallback=n("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),h.ISO_8601=function(){};var Ct=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()}),St=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=xt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:v()});function kt(e,t){var n,i;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return xt();for(n=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](n)||(n=t[i]);return n}function _t(e){var t=M(e),n=t.year||0,i=t.quarter||0,r=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*s*60*60,this._days=+a+7*o,this._months=+r+3*i+12*n,this._data={},this._locale=st(),this._bubble()}function Tt(e){return e instanceof _t}function Dt(e,n){U(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+F(~~(e/60),2)+n+F(~~e%60,2)})}Dt("Z",":"),Dt("ZZ",""),ue("Z",se),ue("ZZ",se),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Et(se,e)});var At=/([\+\-]|\d\d)/gi;function Et(e,t){var n=(t||"").match(e)||[],i=((n[n.length-1]||[])+"").match(At)||["-",0,0],r=60*i[1]+C(i[2]);return"+"===i[0]?r:-r}function It(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(w(e)||c(e)?e.valueOf():xt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),h.updateOffset(n,!1),n):xt(e).local()}function Pt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function $t(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}h.updateOffset=function(){};var Mt=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?\d*)?$/,Ot=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Nt(e,t){var n,i,r,o=e,a=null;return Tt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(a=Mt.exec(e))?(n="-"===a[1]?-1:1,o={y:0,d:C(a[be])*n,h:C(a[we])*n,m:C(a[xe])*n,s:C(a[Ce])*n,ms:C(a[Se])*n}):(a=Ot.exec(e))?(n="-"===a[1]?-1:1,o={y:Lt(a[2],n),M:Lt(a[3],n),w:Lt(a[4],n),d:Lt(a[5],n),h:Lt(a[6],n),m:Lt(a[7],n),s:Lt(a[8],n)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(r=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=It(t,e),e.isBefore(t)?n=jt(e,t):((n=jt(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(xt(o.from),xt(o.to)),(o={}).ms=r.milliseconds,o.M=r.months),i=new _t(o),Tt(e)&&p(e,"_locale")&&(i._locale=e._locale),i}function Lt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function jt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Rt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(i,r){return function(e,t){var n;return null===t||isNaN(+t)||(T(r,"moment()."+r+"(period, number) is deprecated. Please use moment()."+r+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),qt(this,Nt(e="string"==typeof e?+e:e,t),i),this}}function qt(e,t,n,i){var r=t._milliseconds,o=Rt(t._days),a=Rt(t._months);e.isValid()&&(i=null==i||i,r&&e._d.setTime(e._d.valueOf()+r*n),o&&R(e,"Date",j(e,"Date")+o*n),a&&Ie(e,j(e,"Month")+a*n),i&&h.updateOffset(e,o||a))}Nt.fn=_t.prototype;var Ht=Ft(1,"add"),Bt=Ft(-1,"subtract");function Vt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=st(e))&&(this._locale=t),this)}h.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",h.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ut=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function zt(){return this._locale}function Wt(e,t){U(0,[e,e.length],0,t)}function Gt(e,t,n,i,r){var o;return null==e?He(this,i,r).year:((o=Be(e,i,r))<t&&(t=o),function(e,t,n,i,r){var o=qe(e,t,n,i,r),a=Re(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,i,r))}U(0,["gg",2],0,function(){return this.weekYear()%100}),U(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Wt("gggg","weekYear"),Wt("ggggg","weekYear"),Wt("GGGG","isoWeekYear"),Wt("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),ue("G",oe),ue("g",oe),ue("GG",Q,Y),ue("gg",Q,Y),ue("GGGG",ne,J),ue("gggg",ne,J),ue("GGGGG",ie,K),ue("ggggg",ie,K),ge(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,i){t[i.substr(0,2)]=C(e)}),ge(["gg","GG"],function(e,t,n,i){t[i]=h.parseTwoDigitYear(e)}),U("Q",0,"Qo","quarter"),P("quarter","Q"),N("quarter",7),ue("Q",G),fe("Q",function(e,t){t[ye]=3*(C(e)-1)}),U("D",["DD",2],"Do","date"),P("date","D"),N("date",9),ue("D",Q),ue("DD",Q,Y),ue("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),fe(["D","DD"],be),fe("Do",function(e,t){t[be]=C(e.match(Q)[0])});var Yt=L("Date",!0);U("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),N("dayOfYear",4),ue("DDD",te),ue("DDDD",X),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=C(e)}),U("m",["mm",2],0,"minute"),P("minute","m"),N("minute",14),ue("m",Q),ue("mm",Q,Y),fe(["m","mm"],xe);var Xt=L("Minutes",!1);U("s",["ss",2],0,"second"),P("second","s"),N("second",15),ue("s",Q),ue("ss",Q,Y),fe(["s","ss"],Ce);var Jt,Kt=L("Seconds",!1);for(U("S",0,0,function(){return~~(this.millisecond()/100)}),U(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),U(0,["SSS",3],0,"millisecond"),U(0,["SSSS",4],0,function(){return 10*this.millisecond()}),U(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),U(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),U(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),U(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),U(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),N("millisecond",16),ue("S",te,G),ue("SS",te,Y),ue("SSS",te,X),Jt="SSSS";Jt.length<=9;Jt+="S")ue(Jt,re);function Qt(e,t){t[Se]=C(1e3*("0."+e))}for(Jt="S";Jt.length<=9;Jt+="S")fe(Jt,Qt);var Zt=L("Milliseconds",!1);U("z",0,0,"zoneAbbr"),U("zz",0,0,"zoneName");var en=b.prototype;en.add=Ht,en.calendar=function(e,t){var n=e||xt(),i=It(n,this).startOf("day"),r=h.calendarFormat(this,i)||"sameElse",o=t&&(D(t[r])?t[r].call(this,n):t[r]);return this.format(o||this.localeData().calendar(r,this,xt(n)))},en.clone=function(){return new b(this)},en.diff=function(e,t,n){var i,r,o,a;return this.isValid()&&(i=It(e,this)).isValid()?(r=6e4*(i.utcOffset()-this.utcOffset()),"year"===(t=$(t))||"month"===t||"quarter"===t?(s=this,l=i,d=12*(l.year()-s.year())+(l.month()-s.month()),h=s.clone().add(d,"months"),l-h<0?(c=s.clone().add(d-1,"months"),u=(l-h)/(h-c)):(c=s.clone().add(d+1,"months"),u=(l-h)/(c-h)),a=-(d+u)||0,"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-i,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-r)/864e5:"week"===t?(o-r)/6048e5:o),n?a:x(a)):NaN;var s,l,c,u,d,h},en.endOf=function(e){return void 0===(e=$(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},en.format=function(e){e||(e=this.isUtc()?h.defaultFormatUtc:h.defaultFormat);var t=z(this,e);return this.localeData().postformat(t)},en.from=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||xt(e).isValid())?Nt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},en.fromNow=function(e){return this.from(xt(),e)},en.to=function(e,t){return this.isValid()&&(w(e)&&e.isValid()||xt(e).isValid())?Nt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},en.toNow=function(e){return this.to(xt(),e)},en.get=function(e){return D(this[e=$(e)])?this[e]():this},en.invalidAt=function(){return g(this).overflow},en.isAfter=function(e,t){var n=w(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},en.isBefore=function(e,t){var n=w(e)?e:xt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=$(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},en.isBetween=function(e,t,n,i){return("("===(i=i||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===i[1]?this.isBefore(t,n):!this.isAfter(t,n))},en.isSame=function(e,t){var n,i=w(e)?e:xt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=$(t||"millisecond"))?this.valueOf()===i.valueOf():(n=i.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},en.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},en.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},en.isValid=function(){return m(this)},en.lang=Ut,en.locale=Vt,en.localeData=zt,en.max=St,en.min=Ct,en.parsingFlags=function(){return d({},g(this))},en.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:O[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=M(e)),i=0;i<n.length;i++)this[n[i].unit](e[n[i].unit]);else if(D(this[e=$(e)]))return this[e](t);return this},en.startOf=function(e){switch(e=$(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},en.subtract=Bt,en.toArray=function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]},en.toObject=function(){return{years:this.year(),months:this.month(),date:this.date(),hours:this.hours(),minutes:this.minutes(),seconds:this.seconds(),milliseconds:this.milliseconds()}},en.toDate=function(){return new Date(this.valueOf())},en.toISOString=function(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?D(Date.prototype.toISOString)?this.toDate().toISOString():z(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):z(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},en.toJSON=function(){return this.isValid()?this.toISOString():null},en.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},en.unix=function(){return Math.floor(this.valueOf()/1e3)},en.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},en.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},en.year=je,en.isLeapYear=function(){return Le(this.year())},en.weekYear=function(e){return Gt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},en.isoWeekYear=function(e){return Gt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},en.quarter=en.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},en.month=Pe,en.daysInMonth=function(){return Te(this.year(),this.month())},en.week=en.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},en.isoWeek=en.isoWeeks=function(e){var t=He(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},en.weeksInYear=function(){var e=this.localeData()._week;return Be(this.year(),e.dow,e.doy)},en.isoWeeksInYear=function(){return Be(this.year(),1,4)},en.date=Yt,en.day=en.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,i=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-i,"d")):i},en.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},en.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,i=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?i:i-7)},en.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},en.hour=en.hours=et,en.minute=en.minutes=Xt,en.second=en.seconds=Kt,en.millisecond=en.milliseconds=Zt,en.utcOffset=function(e,t){var n,i=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Et(se,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(n=Pt(this)),this._offset=e,this._isUTC=!0,null!=n&&this.add(n,"m"),i!==e&&(!t||this._changeInProgress?qt(this,Nt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,h.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Pt(this):null!=e?this:NaN},en.utc=function(e){return this.utcOffset(0,e)},en.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Pt(this),"m")),this},en.parseZone=function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Et(ae,this._i)),this},en.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?xt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},en.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},en.isLocal=function(){return!!this.isValid()&&!this._isUTC},en.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},en.isUtc=$t,en.isUTC=$t,en.zoneAbbr=function(){return this._isUTC?"UTC":""},en.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},en.dates=n("dates accessor is deprecated. Use date instead.",Yt),en.months=n("months accessor is deprecated. Use month instead",Pe),en.years=n("years accessor is deprecated. Use year instead",je),en.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),en.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),(e=bt(e))._a){var t=e._isUTC?f(e._a):xt(e._a);this._isDSTShifted=this.isValid()&&0<S(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var tn=en;function nn(e){return e}var rn=E.prototype;function on(e,t,n,i){var r=st(),o=f().set(i,t);return r[n](o,e)}function an(e,t,n){if("number"==typeof e&&(t=e,e=void 0),e=e||"",null!=t)return on(e,t,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=on(e,i,n,"month");return r}function sn(e,t,n,i){"boolean"==typeof e?"number"==typeof t&&(n=t,t=void 0):(t=e,e=!1,"number"==typeof(n=t)&&(n=t,t=void 0)),t=t||"";var r,o=st(),a=e?o._week.dow:0;if(null!=n)return on(t,(n+a)%7,i,"day");var s=[];for(r=0;r<7;r++)s[r]=on(t,(r+a)%7,i,"day");return s}rn.calendar=function(e,t,n){var i=this._calendar[e]||this._calendar.sameElse;return D(i)?i.call(t,n):i},rn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},rn.invalidDate=function(){return this._invalidDate},rn.ordinal=function(e){return this._ordinal.replace("%d",e)},rn.preparse=nn,rn.postformat=nn,rn.relativeTime=function(e,t,n,i){var r=this._relativeTime[n];return D(r)?r(e,t,n,i):r.replace(/%d/i,e)},rn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)},rn.set=function(e){var t,n;for(n in e)D(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},rn.months=function(e,t){return s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||De).test(t)?"format":"standalone"][e.month()]},rn.monthsShort=function(e,t){return s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[De.test(t)?"format":"standalone"][e.month()]},rn.monthsParse=function(e,t,n){var i,r,o;if(this._monthsParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)o=f([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,a))?r:null:-1!==(r=me.call(this._longMonthsParse,a))?r:null:"MMM"===t?-1!==(r=me.call(this._shortMonthsParse,a))?r:-1!==(r=me.call(this._longMonthsParse,a))?r:null:-1!==(r=me.call(this._longMonthsParse,a))?r:-1!==(r=me.call(this._shortMonthsParse,a))?r:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=f([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),n||this._monthsParse[i]||(o="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[i].test(e))return i;if(n&&"MMM"===t&&this._shortMonthsParse[i].test(e))return i;if(!n&&this._monthsParse[i].test(e))return i}},rn.monthsRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Oe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Me),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},rn.monthsShortRegex=function(e){return this._monthsParseExact?(p(this,"_monthsRegex")||Oe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=$e),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},rn.week=function(e){return He(e,this._week.dow,this._week.doy).week},rn.firstDayOfYear=function(){return this._week.doy},rn.firstDayOfWeek=function(){return this._week.dow},rn.weekdays=function(e,t){return s(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]},rn.weekdaysMin=function(e){return this._weekdaysMin[e.day()]},rn.weekdaysShort=function(e){return this._weekdaysShort[e.day()]},rn.weekdaysParse=function(e,t,n){var i,r,o;if(this._weekdaysParseExact)return function(e,t,n){var i,r,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)o=f([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(r=me.call(this._weekdaysParse,a))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,a))?r:null:-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:"dddd"===t?-1!==(r=me.call(this._weekdaysParse,a))?r:-1!==(r=me.call(this._shortWeekdaysParse,a))?r:-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:"ddd"===t?-1!==(r=me.call(this._shortWeekdaysParse,a))?r:-1!==(r=me.call(this._weekdaysParse,a))?r:-1!==(r=me.call(this._minWeekdaysParse,a))?r:null:-1!==(r=me.call(this._minWeekdaysParse,a))?r:-1!==(r=me.call(this._weekdaysParse,a))?r:-1!==(r=me.call(this._shortWeekdaysParse,a))?r:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=f([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".",".?")+"$","i")),this._weekdaysParse[i]||(o="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[i].test(e))return i;if(n&&"ddd"===t&&this._shortWeekdaysParse[i].test(e))return i;if(n&&"dd"===t&&this._minWeekdaysParse[i].test(e))return i;if(!n&&this._weekdaysParse[i].test(e))return i}},rn.weekdaysRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=We),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},rn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ge),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},rn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||Xe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ye),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},rn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},rn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},ot("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===C(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),h.lang=n("moment.lang is deprecated. Use moment.locale instead.",ot),h.langData=n("moment.langData is deprecated. Use moment.localeData instead.",st);var ln=Math.abs;function cn(e,t,n,i){var r=Nt(t,n);return e._milliseconds+=i*r._milliseconds,e._days+=i*r._days,e._months+=i*r._months,e._bubble()}function un(e){return e<0?Math.floor(e):Math.ceil(e)}function dn(e){return 4800*e/146097}function hn(e){return 146097*e/4800}function pn(e){return function(){return this.as(e)}}var fn=pn("ms"),gn=pn("s"),mn=pn("m"),vn=pn("h"),yn=pn("d"),bn=pn("w"),wn=pn("M"),xn=pn("y");function Cn(e){return function(){return this._data[e]}}var Sn=Cn("milliseconds"),kn=Cn("seconds"),_n=Cn("minutes"),Tn=Cn("hours"),Dn=Cn("days"),An=Cn("months"),En=Cn("years");var In=Math.round,Pn={s:45,m:45,h:22,d:26,M:11};var $n=Math.abs;function Mn(){var e,t,n=$n(this._milliseconds)/1e3,i=$n(this._days),r=$n(this._months);t=x((e=x(n/60))/60),n%=60,e%=60;var o=x(r/12),a=r%=12,s=i,l=t,c=e,u=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var On=_t.prototype;return On.abs=function(){var e=this._data;return this._milliseconds=ln(this._milliseconds),this._days=ln(this._days),this._months=ln(this._months),e.milliseconds=ln(e.milliseconds),e.seconds=ln(e.seconds),e.minutes=ln(e.minutes),e.hours=ln(e.hours),e.months=ln(e.months),e.years=ln(e.years),this},On.add=function(e,t){return cn(this,e,t,1)},On.subtract=function(e,t){return cn(this,e,t,-1)},On.as=function(e){var t,n,i=this._milliseconds;if("month"===(e=$(e))||"year"===e)return t=this._days+i/864e5,n=this._months+dn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(hn(this._months)),e){case"week":return t/7+i/6048e5;case"day":return t+i/864e5;case"hour":return 24*t+i/36e5;case"minute":return 1440*t+i/6e4;case"second":return 86400*t+i/1e3;case"millisecond":return Math.floor(864e5*t)+i;default:throw new Error("Unknown unit "+e)}},On.asMilliseconds=fn,On.asSeconds=gn,On.asMinutes=mn,On.asHours=vn,On.asDays=yn,On.asWeeks=bn,On.asMonths=wn,On.asYears=xn,On.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*C(this._months/12)},On._bubble=function(){var e,t,n,i,r,o=this._milliseconds,a=this._days,s=this._months,l=this._data;return 0<=o&&0<=a&&0<=s||o<=0&&a<=0&&s<=0||(o+=864e5*un(hn(s)+a),s=a=0),l.milliseconds=o%1e3,e=x(o/1e3),l.seconds=e%60,t=x(e/60),l.minutes=t%60,n=x(t/60),l.hours=n%24,s+=r=x(dn(a+=x(n/24))),a-=un(hn(r)),i=x(s/12),s%=12,l.days=a,l.months=s,l.years=i,this},On.get=function(e){return this[(e=$(e))+"s"]()},On.milliseconds=Sn,On.seconds=kn,On.minutes=_n,On.hours=Tn,On.days=Dn,On.weeks=function(){return x(this.days()/7)},On.months=An,On.years=En,On.humanize=function(e){var t,n,i,r,o,a,s,l,c,u,d,h=this.localeData(),p=(n=!e,i=h,r=Nt(t=this).abs(),o=In(r.as("s")),a=In(r.as("m")),s=In(r.as("h")),l=In(r.as("d")),c=In(r.as("M")),u=In(r.as("y")),(d=o<Pn.s&&["s",o]||a<=1&&["m"]||a<Pn.m&&["mm",a]||s<=1&&["h"]||s<Pn.h&&["hh",s]||l<=1&&["d"]||l<Pn.d&&["dd",l]||c<=1&&["M"]||c<Pn.M&&["MM",c]||u<=1&&["y"]||["yy",u])[2]=n,d[3]=0<+t,d[4]=i,function(e,t,n,i,r){return r.relativeTime(t||1,!!n,e,i)}.apply(null,d));return e&&(p=h.pastFuture(+this,p)),h.postformat(p)},On.toISOString=Mn,On.toString=Mn,On.toJSON=Mn,On.locale=Vt,On.localeData=zt,On.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),On.lang=Ut,U("X",0,0,"unix"),U("x",0,0,"valueOf"),ue("x",oe),ue("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(C(e))}),h.version="2.14.2",e=xt,h.fn=tn,h.min=function(){return kt("isBefore",[].slice.call(arguments,0))},h.max=function(){return kt("isAfter",[].slice.call(arguments,0))},h.now=function(){return Date.now?Date.now():+new Date},h.utc=f,h.unix=function(e){return xt(1e3*e)},h.months=function(e,t){return an(e,t,"months")},h.isDate=c,h.locale=ot,h.invalid=v,h.duration=Nt,h.isMoment=w,h.weekdays=function(e,t,n){return sn(e,t,n,"weekdays")},h.parseZone=function(){return xt.apply(null,arguments).parseZone()},h.localeData=st,h.isDuration=Tt,h.monthsShort=function(e,t){return an(e,t,"monthsShort")},h.weekdaysMin=function(e,t,n){return sn(e,t,n,"weekdaysMin")},h.defineLocale=at,h.updateLocale=function(e,t){if(null!=t){var n,i=tt;null!=nt[e]&&(i=nt[e]._config),(n=new E(t=A(i,t))).parentLocale=nt[e],nt[e]=n,ot(e)}else null!=nt[e]&&(null!=nt[e].parentLocale?nt[e]=nt[e].parentLocale:null!=nt[e]&&delete nt[e]);return nt[e]},h.locales=function(){return k(nt)},h.weekdaysShort=function(e,t,n){return sn(e,t,n,"weekdaysShort")},h.normalizeUnits=$,h.relativeTimeRounding=function(e){return void 0===e?In:"function"==typeof e&&(In=e,!0)},h.relativeTimeThreshold=function(e,t){return void 0!==Pn[e]&&(void 0===t?Pn[e]:(Pn[e]=t,!0))},h.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},h.prototype=tn,h}),function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(Q,Z){"use strict";if(!Z)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var o=function(o,u){var d,h,n,l,i,r,a,s,c,p={},f=!0,g=!1,m=!1,v=0,t=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],y=["days","months","years","decades"],b=["top","bottom","auto"],w=["left","right","auto"],x=["default","top","bottom"],C={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},S={},k=function(){return void 0!==Z.tz&&void 0!==u.timeZone&&null!==u.timeZone&&""!==u.timeZone},_=function(e){var t;return t=null==e?Z():Z.isDate(e)||Z.isMoment(e)?Z(e):k()?Z.tz(e,r,u.useStrict,u.timeZone):Z(e,r,u.useStrict),k()&&t.tz(u.timeZone),t},T=function(e){if("string"!=typeof e||1<e.length)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return-1!==i.indexOf("Y");case"M":return-1!==i.indexOf("M");case"d":return-1!==i.toLowerCase().indexOf("d");case"h":case"H":return-1!==i.toLowerCase().indexOf("h");case"m":return-1!==i.indexOf("m");case"s":return-1!==i.indexOf("s");default:return!1}},D=function(){return T("h")||T("m")||T("s")},A=function(){return T("y")||T("M")||T("d")},E=function(){var e,t,n,i=Q("<div>").addClass("timepicker-hours").append(Q("<table>").addClass("table-condensed")),r=Q("<div>").addClass("timepicker-minutes").append(Q("<table>").addClass("table-condensed")),o=Q("<div>").addClass("timepicker-seconds").append(Q("<table>").addClass("table-condensed")),a=[(e=Q("<tr>"),t=Q("<tr>"),n=Q("<tr>"),T("h")&&(e.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(Q("<span>").addClass(u.icons.up)))),t.append(Q("<td>").append(Q("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:u.tooltips.pickHour}).attr("data-action","showHours"))),n.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(Q("<span>").addClass(u.icons.down))))),T("m")&&(T("h")&&(e.append(Q("<td>").addClass("separator")),t.append(Q("<td>").addClass("separator").html(":")),n.append(Q("<td>").addClass("separator"))),e.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(Q("<span>").addClass(u.icons.up)))),t.append(Q("<td>").append(Q("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:u.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(Q("<span>").addClass(u.icons.down))))),T("s")&&(T("m")&&(e.append(Q("<td>").addClass("separator")),t.append(Q("<td>").addClass("separator").html(":")),n.append(Q("<td>").addClass("separator"))),e.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(Q("<span>").addClass(u.icons.up)))),t.append(Q("<td>").append(Q("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:u.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(Q("<td>").append(Q("<a>").attr({href:"#",tabindex:"-1",title:u.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(Q("<span>").addClass(u.icons.down))))),l||(e.append(Q("<td>").addClass("separator")),t.append(Q("<td>").append(Q("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:u.tooltips.togglePeriod}))),n.append(Q("<td>").addClass("separator"))),Q("<div>").addClass("timepicker-picker").append(Q("<table>").addClass("table-condensed").append([e,t,n])))];return T("h")&&a.push(i),T("m")&&a.push(r),T("s")&&a.push(o),a},I=function(){var e,t,n,i=Q("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),r=Q("<div>").addClass("datepicker").append((t=Q("<thead>").append(Q("<tr>").append(Q("<th>").addClass("prev").attr("data-action","previous").append(Q("<span>").addClass(u.icons.previous))).append(Q("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",u.calendarWeeks?"6":"5")).append(Q("<th>").addClass("next").attr("data-action","next").append(Q("<span>").addClass(u.icons.next)))),n=Q("<tbody>").append(Q("<tr>").append(Q("<td>").attr("colspan",u.calendarWeeks?"8":"7"))),[Q("<div>").addClass("datepicker-days").append(Q("<table>").addClass("table-condensed").append(t).append(Q("<tbody>"))),Q("<div>").addClass("datepicker-months").append(Q("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),Q("<div>").addClass("datepicker-years").append(Q("<table>").addClass("table-condensed").append(t.clone()).append(n.clone())),Q("<div>").addClass("datepicker-decades").append(Q("<table>").addClass("table-condensed").append(t.clone()).append(n.clone()))])),o=Q("<div>").addClass("timepicker").append(E()),a=Q("<ul>").addClass("list-unstyled"),s=Q("<li>").addClass("picker-switch"+(u.collapse?" accordion-toggle":"")).append((e=[],u.showTodayButton&&e.push(Q("<td>").append(Q("<a>").attr({"data-action":"today",title:u.tooltips.today}).append(Q("<span>").addClass(u.icons.today)))),!u.sideBySide&&A()&&D()&&e.push(Q("<td>").append(Q("<a>").attr({"data-action":"togglePicker",title:u.tooltips.selectTime}).append(Q("<span>").addClass(u.icons.time)))),u.showClear&&e.push(Q("<td>").append(Q("<a>").attr({"data-action":"clear",title:u.tooltips.clear}).append(Q("<span>").addClass(u.icons.clear)))),u.showClose&&e.push(Q("<td>").append(Q("<a>").attr({"data-action":"close",title:u.tooltips.close}).append(Q("<span>").addClass(u.icons.close)))),Q("<table>").addClass("table-condensed").append(Q("<tbody>").append(Q("<tr>").append(e)))));return u.inline&&i.removeClass("dropdown-menu"),l&&i.addClass("usetwentyfour"),T("s")&&!l&&i.addClass("wider"),u.sideBySide&&A()&&D()?(i.addClass("timepicker-sbs"),"top"===u.toolbarPlacement&&i.append(s),i.append(Q("<div>").addClass("row").append(r.addClass("col-md-6")).append(o.addClass("col-md-6"))),"bottom"===u.toolbarPlacement&&i.append(s),i):("top"===u.toolbarPlacement&&a.append(s),A()&&a.append(Q("<li>").addClass(u.collapse&&D()?"collapse in":"").append(r)),"default"===u.toolbarPlacement&&a.append(s),D()&&a.append(Q("<li>").addClass(u.collapse&&A()?"collapse":"").append(o)),"bottom"===u.toolbarPlacement&&a.append(s),i.append(a))},P=function(){var e,t=(g||o).position(),n=(g||o).offset(),i=u.widgetPositioning.vertical,r=u.widgetPositioning.horizontal;if(u.widgetParent)e=u.widgetParent.append(m);else if(o.is("input"))e=o.after(m).parent();else{if(u.inline)return void(e=o.append(m));(e=o).children().first().after(m)}if("auto"===i&&(i=n.top+1.5*m.height()>=Q(window).height()+Q(window).scrollTop()&&m.height()+o.outerHeight()<n.top?"top":"bottom"),"auto"===r&&(r=e.width()<n.left+m.outerWidth()/2&&n.left+m.outerWidth()>Q(window).width()?"right":"left"),"top"===i?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===r?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===e.css("position")&&(e=e.parents().filter(function(){return"static"!==Q(this).css("position")}).first()),0===e.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===i?"auto":t.top+o.outerHeight(),bottom:"top"===i?e.outerHeight()-(e===o?0:t.top):"auto",left:"left"===r?e===o?0:t.left:"auto",right:"left"===r?"auto":e.outerWidth()-o.outerWidth()-(e===o?0:t.left)})},$=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||o.trigger(e)},M=function(e){"y"===e&&(e="YYYY"),$({type:"dp.update",change:e,viewDate:h.clone()})},O=function(e){m&&(e&&(a=Math.max(v,Math.min(3,a+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+t[a].clsName).show())},N=function(e,t){if(!e.isValid())return!1;if(u.disabledDates&&"d"===t&&(n=e,!0===u.disabledDates[n.format("YYYY-MM-DD")]))return!1;var n,i,r,o;if(u.enabledDates&&"d"===t&&(i=e,!0!==u.enabledDates[i.format("YYYY-MM-DD")]))return!1;if(u.minDate&&e.isBefore(u.minDate,t))return!1;if(u.maxDate&&e.isAfter(u.maxDate,t))return!1;if(u.daysOfWeekDisabled&&"d"===t&&-1!==u.daysOfWeekDisabled.indexOf(e.day()))return!1;if(u.disabledHours&&("h"===t||"m"===t||"s"===t)&&(r=e,!0===u.disabledHours[r.format("H")]))return!1;if(u.enabledHours&&("h"===t||"m"===t||"s"===t)&&(o=e,!0!==u.enabledHours[o.format("H")]))return!1;if(u.disabledTimeIntervals&&("h"===t||"m"===t||"s"===t)){var a=!1;if(Q.each(u.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return!(a=!0)}),a)return!1}return!0},L=function(){var e,t,n,i,r,o,a=m.find(".datepicker-days"),s=a.find("th"),l=[],c=[];if(A()){for(s.eq(0).find("span").attr("title",u.tooltips.prevMonth),s.eq(1).attr("title",u.tooltips.selectMonth),s.eq(2).find("span").attr("title",u.tooltips.nextMonth),a.find(".disabled").removeClass("disabled"),s.eq(1).text(h.format(u.dayViewHeaderFormat)),N(h.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),N(h.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),e=h.clone().startOf("M").startOf("w").startOf("d"),n=0;n<42;n++)0===e.weekday()&&(t=Q("<tr>"),u.calendarWeeks&&t.append('<td class="cw">'+e.week()+"</td>"),l.push(t)),c=["day"],e.isBefore(h,"M")&&c.push("old"),e.isAfter(h,"M")&&c.push("new"),e.isSame(d,"d")&&!f&&c.push("active"),N(e,"d")||c.push("disabled"),e.isSame(_(),"d")&&c.push("today"),0!==e.day()&&6!==e.day()||c.push("weekend"),$({type:"dp.classify",date:e,classNames:c}),t.append('<td data-action="selectDay" data-day="'+e.format("L")+'" class="'+c.join(" ")+'">'+e.date()+"</td>"),e.add(1,"d");a.find("tbody").empty().append(l),i=m.find(".datepicker-months"),r=i.find("th"),o=i.find("tbody").find("span"),r.eq(0).find("span").attr("title",u.tooltips.prevYear),r.eq(1).attr("title",u.tooltips.selectYear),r.eq(2).find("span").attr("title",u.tooltips.nextYear),i.find(".disabled").removeClass("disabled"),N(h.clone().subtract(1,"y"),"y")||r.eq(0).addClass("disabled"),r.eq(1).text(h.year()),N(h.clone().add(1,"y"),"y")||r.eq(2).addClass("disabled"),o.removeClass("active"),d.isSame(h,"y")&&!f&&o.eq(d.month()).addClass("active"),o.each(function(e){N(h.clone().month(e),"M")||Q(this).addClass("disabled")}),function(){var e=m.find(".datepicker-years"),t=e.find("th"),n=h.clone().subtract(5,"y"),i=h.clone().add(6,"y"),r="";for(t.eq(0).find("span").attr("title",u.tooltips.prevDecade),t.eq(1).attr("title",u.tooltips.selectDecade),t.eq(2).find("span").attr("title",u.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),u.minDate&&u.minDate.isAfter(n,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(n.year()+"-"+i.year()),u.maxDate&&u.maxDate.isBefore(i,"y")&&t.eq(2).addClass("disabled");!n.isAfter(i,"y");)r+='<span data-action="selectYear" class="year'+(n.isSame(d,"y")&&!f?" active":"")+(N(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");e.find("td").html(r)}(),function(){var e,t=m.find(".datepicker-decades"),n=t.find("th"),i=Z({y:h.year()-h.year()%100-1}),r=i.clone().add(100,"y"),o=i.clone(),a=!1,s=!1,l="";for(n.eq(0).find("span").attr("title",u.tooltips.prevCentury),n.eq(2).find("span").attr("title",u.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(i.isSame(Z({y:1900}))||u.minDate&&u.minDate.isAfter(i,"y"))&&n.eq(0).addClass("disabled"),n.eq(1).text(i.year()+"-"+r.year()),(i.isSame(Z({y:2e3}))||u.maxDate&&u.maxDate.isBefore(r,"y"))&&n.eq(2).addClass("disabled");!i.isAfter(r,"y");)e=i.year()+12,a=u.minDate&&u.minDate.isAfter(i,"y")&&u.minDate.year()<=e,s=u.maxDate&&u.maxDate.isAfter(i,"y")&&u.maxDate.year()<=e,l+='<span data-action="selectDecade" class="decade'+(d.isAfter(i)&&d.year()<=e?" active":"")+(N(i,"y")||a||s?"":" disabled")+'" data-selection="'+(i.year()+6)+'">'+(i.year()+1)+" - "+(i.year()+12)+"</span>",i.add(12,"y");l+="<span></span><span></span><span></span>",t.find("td").html(l),n.eq(1).text(o.year()+1+"-"+i.year())}()}},e=function(){var e,t,n=m.find(".timepicker span[data-time-component]");l||(e=m.find(".timepicker [data-action=togglePeriod]"),t=d.clone().add(12<=d.hours()?-12:12,"h"),e.text(d.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),n.filter("[data-time-component=hours]").text(d.format(l?"HH":"hh")),n.filter("[data-time-component=minutes]").text(d.format("mm")),n.filter("[data-time-component=seconds]").text(d.format("ss")),function(){var e=m.find(".timepicker-hours table"),t=h.clone().startOf("d"),n=[],i=Q("<tr>");for(11<h.hour()&&!l&&t.hour(12);t.isSame(h,"d")&&(l||h.hour()<12&&t.hour()<12||11<h.hour());)t.hour()%4==0&&(i=Q("<tr>"),n.push(i)),i.append('<td data-action="selectHour" class="hour'+(N(t,"h")?"":" disabled")+'">'+t.format(l?"HH":"hh")+"</td>"),t.add(1,"h");e.empty().append(n)}(),function(){for(var e=m.find(".timepicker-minutes table"),t=h.clone().startOf("h"),n=[],i=Q("<tr>"),r=1===u.stepping?5:u.stepping;h.isSame(t,"h");)t.minute()%(4*r)==0&&(i=Q("<tr>"),n.push(i)),i.append('<td data-action="selectMinute" class="minute'+(N(t,"m")?"":" disabled")+'">'+t.format("mm")+"</td>"),t.add(r,"m");e.empty().append(n)}(),function(){for(var e=m.find(".timepicker-seconds table"),t=h.clone().startOf("m"),n=[],i=Q("<tr>");h.isSame(t,"m");)t.second()%20==0&&(i=Q("<tr>"),n.push(i)),i.append('<td data-action="selectSecond" class="second'+(N(t,"s")?"":" disabled")+'">'+t.format("ss")+"</td>"),t.add(5,"s");e.empty().append(n)}()},j=function(){m&&(L(),e())},R=function(e){var t=f?null:d;if(!e)return f=!0,n.val(""),o.data("date",""),$({type:"dp.change",date:!1,oldDate:t}),void j();if(e=e.clone().locale(u.locale),k()&&e.tz(u.timeZone),1!==u.stepping)for(e.minutes(Math.round(e.minutes()/u.stepping)*u.stepping).seconds(0);u.minDate&&e.isBefore(u.minDate);)e.add(u.stepping,"minutes");N(e)?(h=(d=e).clone(),n.val(d.format(i)),o.data("date",d.format(i)),f=!1,j(),$({type:"dp.change",date:d.clone(),oldDate:t})):(u.keepInvalid?$({type:"dp.change",date:e,oldDate:t}):n.val(f?"":d.format(i)),$({type:"dp.error",date:e,oldDate:t}))},F=function(){var t=!1;return m&&(m.find(".collapse").each(function(){var e=Q(this).data("collapse");return!e||!e.transitioning||!(t=!0)}),t||(g&&g.hasClass("btn")&&g.toggleClass("active"),m.hide(),Q(window).off("resize",P),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,$({type:"dp.hide",date:d.clone()}),n.blur(),h=d.clone())),p},q=function(){R(null)},H=function(e){return void 0===u.parseInputDate?(!Z.isMoment(e)||e instanceof Date)&&(e=_(e)):e=u.parseInputDate(e),e},B={next:function(){var e=t[a].navFnc;h.add(t[a].navStep,e),L(),M(e)},previous:function(){var e=t[a].navFnc;h.subtract(t[a].navStep,e),L(),M(e)},pickerSwitch:function(){O(1)},selectMonth:function(e){var t=Q(e.target).closest("tbody").find("span").index(Q(e.target));h.month(t),a===v?(R(d.clone().year(h.year()).month(h.month())),u.inline||F()):(O(-1),L()),M("M")},selectYear:function(e){var t=parseInt(Q(e.target).text(),10)||0;h.year(t),a===v?(R(d.clone().year(h.year())),u.inline||F()):(O(-1),L()),M("YYYY")},selectDecade:function(e){var t=parseInt(Q(e.target).data("selection"),10)||0;h.year(t),a===v?(R(d.clone().year(h.year())),u.inline||F()):(O(-1),L()),M("YYYY")},selectDay:function(e){var t=h.clone();Q(e.target).is(".old")&&t.subtract(1,"M"),Q(e.target).is(".new")&&t.add(1,"M"),R(t.date(parseInt(Q(e.target).text(),10))),D()||u.keepOpen||u.inline||F()},incrementHours:function(){var e=d.clone().add(1,"h");N(e,"h")&&R(e)},incrementMinutes:function(){var e=d.clone().add(u.stepping,"m");N(e,"m")&&R(e)},incrementSeconds:function(){var e=d.clone().add(1,"s");N(e,"s")&&R(e)},decrementHours:function(){var e=d.clone().subtract(1,"h");N(e,"h")&&R(e)},decrementMinutes:function(){var e=d.clone().subtract(u.stepping,"m");N(e,"m")&&R(e)},decrementSeconds:function(){var e=d.clone().subtract(1,"s");N(e,"s")&&R(e)},togglePeriod:function(){R(d.clone().add(12<=d.hours()?-12:12,"h"))},togglePicker:function(e){var t,n=Q(e.target),i=n.closest("ul"),r=i.find(".in"),o=i.find(".collapse:not(.in)");if(r&&r.length){if((t=r.data("collapse"))&&t.transitioning)return;r.collapse?(r.collapse("hide"),o.collapse("show")):(r.removeClass("in"),o.addClass("in")),n.is("span")?n.toggleClass(u.icons.time+" "+u.icons.date):n.find("span").toggleClass(u.icons.time+" "+u.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(e){var t=parseInt(Q(e.target).text(),10);l||(12<=d.hours()?12!==t&&(t+=12):12===t&&(t=0)),R(d.clone().hours(t)),B.showPicker.call(p)},selectMinute:function(e){R(d.clone().minutes(parseInt(Q(e.target).text(),10))),B.showPicker.call(p)},selectSecond:function(e){R(d.clone().seconds(parseInt(Q(e.target).text(),10))),B.showPicker.call(p)},clear:q,today:function(){var e=_();N(e,"d")&&R(e)},close:F},V=function(e){return!Q(e.currentTarget).is(".disabled")&&(B[Q(e.currentTarget).data("action")].apply(p,arguments),!1)},U=function(){var e;return n.prop("disabled")||!u.ignoreReadonly&&n.prop("readonly")||m||(void 0!==n.val()&&0!==n.val().trim().length?R(H(n.val().trim())):f&&u.useCurrent&&(u.inline||n.is("input")&&0===n.val().trim().length)&&(e=_(),"string"==typeof u.useCurrent&&(e={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}}[u.useCurrent](e)),R(e)),m=I(),function(){var e=Q("<tr>"),t=h.clone().startOf("w").startOf("d");for(!0===u.calendarWeeks&&e.append(Q("<th>").addClass("cw").text("#"));t.isBefore(h.clone().endOf("w"));)e.append(Q("<th>").addClass("dow").text(t.format("dd"))),t.add(1,"d");m.find(".datepicker-days thead").append(e)}(),function(){for(var e=[],t=h.clone().startOf("y").startOf("d");t.isSame(h,"y");)e.push(Q("<span>").attr("data-action","selectMonth").addClass("month").text(t.format("MMM"))),t.add(1,"M");m.find(".datepicker-months td").empty().append(e)}(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),j(),O(),Q(window).on("resize",P),m.on("click","[data-action]",V),m.on("mousedown",!1),g&&g.hasClass("btn")&&g.toggleClass("active"),P(),m.show(),u.focusOnShow&&!n.is(":focus")&&n.focus(),$({type:"dp.show"})),p},z=function(){return m?F():U()},W=function(e){var t,n,i,r,o=null,a=[],s={},l=e.which;for(t in S[l]="p",S)S.hasOwnProperty(t)&&"p"===S[t]&&(a.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in u.keyBinds)if(u.keyBinds.hasOwnProperty(t)&&"function"==typeof u.keyBinds[t]&&((i=t.split(" ")).length===a.length&&C[l]===i[i.length-1])){for(r=!0,n=i.length-2;0<=n;n--)if(!(C[i[n]]in s)){r=!1;break}if(r){o=u.keyBinds[t];break}}o&&(o.call(p,m),e.stopPropagation(),e.preventDefault())},G=function(e){S[e.which]="r",e.stopPropagation(),e.preventDefault()},Y=function(e){var t=Q(e.target).val().trim(),n=t?H(t):null;return R(n),e.stopImmediatePropagation(),!1},X=function(e){var t={};return Q.each(e,function(){var e=H(this);e.isValid()&&(t[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(t).length&&t},J=function(e){var t={};return Q.each(e,function(){t[this]=!0}),!!Object.keys(t).length&&t},K=function(){var e=u.format||"L LT";i=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return(d.localeData().longDateFormat(e)||e).replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return d.localeData().longDateFormat(e)||e})}),(r=u.extraFormats?u.extraFormats.slice():[]).indexOf(e)<0&&r.indexOf(i)<0&&r.push(i),l=i.toLowerCase().indexOf("a")<1&&i.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(v=2),T("M")&&(v=1),T("d")&&(v=0),a=Math.max(v,a),f||R(d)};if(p.destroy=function(){F(),n.off({change:Y,blur:blur,keydown:W,keyup:G,focus:u.allowInputToggle?F:""}),o.is("input")?n.off({focus:U}):g&&(g.off("click",z),g.off("mousedown",!1)),o.removeData("DateTimePicker"),o.removeData("date")},p.toggle=z,p.show=U,p.hide=F,p.disable=function(){return F(),g&&g.hasClass("btn")&&g.addClass("disabled"),n.prop("disabled",!0),p},p.enable=function(){return g&&g.hasClass("btn")&&g.removeClass("disabled"),n.prop("disabled",!1),p},p.ignoreReadonly=function(e){if(0===arguments.length)return u.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return u.ignoreReadonly=e,p},p.options=function(e){if(0===arguments.length)return Q.extend(!0,{},u);if(!(e instanceof Object))throw new TypeError("options() options parameter should be an object");return Q.extend(!0,u,e),Q.each(u,function(e,t){if(void 0===p[e])throw new TypeError("option "+e+" is not recognized!");p[e](t)}),p},p.date=function(e){if(0===arguments.length)return f?null:d.clone();if(!(null===e||"string"==typeof e||Z.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return R(null===e?null:H(e)),p},p.format=function(e){if(0===arguments.length)return u.format;if("string"!=typeof e&&("boolean"!=typeof e||!1!==e))throw new TypeError("format() expects a string or boolean:false parameter "+e);return u.format=e,i&&K(),p},p.timeZone=function(e){if(0===arguments.length)return u.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return u.timeZone=e,p},p.dayViewHeaderFormat=function(e){if(0===arguments.length)return u.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return u.dayViewHeaderFormat=e,p},p.extraFormats=function(e){if(0===arguments.length)return u.extraFormats;if(!1!==e&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return u.extraFormats=e,r&&K(),p},p.disabledDates=function(e){if(0===arguments.length)return u.disabledDates?Q.extend({},u.disabledDates):u.disabledDates;if(!e)return u.disabledDates=!1,j(),p;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return u.disabledDates=X(e),u.enabledDates=!1,j(),p},p.enabledDates=function(e){if(0===arguments.length)return u.enabledDates?Q.extend({},u.enabledDates):u.enabledDates;if(!e)return u.enabledDates=!1,j(),p;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return u.enabledDates=X(e),u.disabledDates=!1,j(),p},p.daysOfWeekDisabled=function(e){if(0===arguments.length)return u.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return u.daysOfWeekDisabled=!1,j(),p;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(u.daysOfWeekDisabled=e.reduce(function(e,t){return 6<(t=parseInt(t,10))||t<0||isNaN(t)||-1===e.indexOf(t)&&e.push(t),e},[]).sort(),u.useCurrent&&!u.keepInvalid){for(var t=0;!N(d,"d");){if(d.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}R(d)}return j(),p},p.maxDate=function(e){if(0===arguments.length)return u.maxDate?u.maxDate.clone():u.maxDate;if("boolean"==typeof e&&!1===e)return u.maxDate=!1,j(),p;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=_()));var t=H(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(u.minDate&&t.isBefore(u.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(i));return u.maxDate=t,u.useCurrent&&!u.keepInvalid&&d.isAfter(e)&&R(u.maxDate),h.isAfter(t)&&(h=t.clone().subtract(u.stepping,"m")),j(),p},p.minDate=function(e){if(0===arguments.length)return u.minDate?u.minDate.clone():u.minDate;if("boolean"==typeof e&&!1===e)return u.minDate=!1,j(),p;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=_()));var t=H(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(u.maxDate&&t.isAfter(u.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(i));return u.minDate=t,u.useCurrent&&!u.keepInvalid&&d.isBefore(e)&&R(u.minDate),h.isBefore(t)&&(h=t.clone().add(u.stepping,"m")),j(),p},p.defaultDate=function(e){if(0===arguments.length)return u.defaultDate?u.defaultDate.clone():u.defaultDate;if(!e)return u.defaultDate=!1,p;"string"==typeof e&&(e="now"===e||"moment"===e?_():_(e));var t=H(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return u.defaultDate=t,(u.defaultDate&&u.inline||""===n.val().trim())&&R(u.defaultDate),p},p.locale=function(e){if(0===arguments.length)return u.locale;if(!Z.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return u.locale=e,d.locale(u.locale),h.locale(u.locale),i&&K(),m&&(F(),U()),p},p.stepping=function(e){return 0===arguments.length?u.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),u.stepping=e,p)},p.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return u.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&-1===t.indexOf(e.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return u.useCurrent=e,p},p.collapse=function(e){if(0===arguments.length)return u.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return u.collapse===e||(u.collapse=e,m&&(F(),U())),p},p.icons=function(e){if(0===arguments.length)return Q.extend({},u.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return Q.extend(u.icons,e),m&&(F(),U()),p},p.tooltips=function(e){if(0===arguments.length)return Q.extend({},u.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return Q.extend(u.tooltips,e),m&&(F(),U()),p},p.useStrict=function(e){if(0===arguments.length)return u.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return u.useStrict=e,p},p.sideBySide=function(e){if(0===arguments.length)return u.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return u.sideBySide=e,m&&(F(),U()),p},p.viewMode=function(e){if(0===arguments.length)return u.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(-1===y.indexOf(e))throw new TypeError("viewMode() parameter must be one of ("+y.join(", ")+") value");return u.viewMode=e,a=Math.max(y.indexOf(e),v),O(),p},p.toolbarPlacement=function(e){if(0===arguments.length)return u.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===x.indexOf(e))throw new TypeError("toolbarPlacement() parameter must be one of ("+x.join(", ")+") value");return u.toolbarPlacement=e,m&&(F(),U()),p},p.widgetPositioning=function(e){if(0===arguments.length)return Q.extend({},u.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===w.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");u.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===b.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");u.widgetPositioning.vertical=e.vertical}return j(),p},p.calendarWeeks=function(e){if(0===arguments.length)return u.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return u.calendarWeeks=e,j(),p},p.showTodayButton=function(e){if(0===arguments.length)return u.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return u.showTodayButton=e,m&&(F(),U()),p},p.showClear=function(e){if(0===arguments.length)return u.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return u.showClear=e,m&&(F(),U()),p},p.widgetParent=function(e){if(0===arguments.length)return u.widgetParent;if("string"==typeof e&&(e=Q(e)),null!==e&&"string"!=typeof e&&!(e instanceof Q))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return u.widgetParent=e,m&&(F(),U()),p},p.keepOpen=function(e){if(0===arguments.length)return u.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return u.keepOpen=e,p},p.focusOnShow=function(e){if(0===arguments.length)return u.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return u.focusOnShow=e,p},p.inline=function(e){if(0===arguments.length)return u.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return u.inline=e,p},p.clear=function(){return q(),p},p.keyBinds=function(e){return 0===arguments.length?u.keyBinds:(u.keyBinds=e,p)},p.getMoment=function(e){return _(e)},p.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return u.debug=e,p},p.allowInputToggle=function(e){if(0===arguments.length)return u.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return u.allowInputToggle=e,p},p.showClose=function(e){if(0===arguments.length)return u.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return u.showClose=e,p},p.keepInvalid=function(e){if(0===arguments.length)return u.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return u.keepInvalid=e,p},p.datepickerInput=function(e){if(0===arguments.length)return u.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return u.datepickerInput=e,p},p.parseInputDate=function(e){if(0===arguments.length)return u.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return u.parseInputDate=e,p},p.disabledTimeIntervals=function(e){if(0===arguments.length)return u.disabledTimeIntervals?Q.extend({},u.disabledTimeIntervals):u.disabledTimeIntervals;if(!e)return u.disabledTimeIntervals=!1,j(),p;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return u.disabledTimeIntervals=e,j(),p},p.disabledHours=function(e){if(0===arguments.length)return u.disabledHours?Q.extend({},u.disabledHours):u.disabledHours;if(!e)return u.disabledHours=!1,j(),p;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(u.disabledHours=J(e),u.enabledHours=!1,u.useCurrent&&!u.keepInvalid){for(var t=0;!N(d,"h");){if(d.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}R(d)}return j(),p},p.enabledHours=function(e){if(0===arguments.length)return u.enabledHours?Q.extend({},u.enabledHours):u.enabledHours;if(!e)return u.enabledHours=!1,j(),p;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(u.enabledHours=J(e),u.disabledHours=!1,u.useCurrent&&!u.keepInvalid){for(var t=0;!N(d,"h");){if(d.add(1,"h"),24===t)throw"Tried 24 times to find a valid date";t++}R(d)}return j(),p},p.viewDate=function(e){if(0===arguments.length)return h.clone();if(!e)return h=d.clone(),p;if(!("string"==typeof e||Z.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return h=H(e),M(),p},o.is("input"))n=o;else if(0===(n=o.find(u.datepickerInput)).length)n=o.find("input");else if(!n.is("input"))throw new Error('CSS class "'+u.datepickerInput+'" cannot be applied to non input element');if(o.hasClass("input-group")&&(g=0===o.find(".datepickerbutton").length?o.find(".input-group-addon"):o.find(".datepickerbutton")),!u.inline&&!n.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return d=_(),h=d.clone(),Q.extend(!0,u,(c={},(s=o.is("input")||u.inline?o.data():o.find("input").data()).dateOptions&&s.dateOptions instanceof Object&&(c=Q.extend(!0,c,s.dateOptions)),Q.each(u,function(e){var t="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==s[t]&&(c[e]=s[t])}),c)),p.options(u),K(),n.on({change:Y,blur:u.debug?"":F,keydown:W,keyup:G,focus:u.allowInputToggle?U:""}),o.is("input")?n.on({focus:U}):g&&(g.on("click",z),g.on("mousedown",!1)),n.prop("disabled")&&p.disable(),n.is("input")&&0!==n.val().trim().length?R(H(n.val().trim())):u.defaultDate&&void 0===n.attr("placeholder")&&R(u.defaultDate),u.inline&&U(),p};return Q.fn.datetimepicker=function(n){n=n||{};var t,i=Array.prototype.slice.call(arguments,1),r=!0;if("object"==typeof n)return this.each(function(){var e,t=Q(this);t.data("DateTimePicker")||(e=Q.extend(!0,{},Q.fn.datetimepicker.defaults,n),t.data("DateTimePicker",o(t,e)))});if("string"==typeof n)return this.each(function(){var e=Q(this).data("DateTimePicker");if(!e)throw new Error('bootstrap-datetimepicker("'+n+'") method was called on an element that is not using DateTimePicker');t=e[n].apply(e,i),r=t===e}),r||-1<Q.inArray(n,["destroy","hide","show","toggle"])?this:t;throw new TypeError("Invalid arguments for DateTimePicker: "+n)},Q.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:Z.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))}else this.show()},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},delete:function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},Q.fn.datetimepicker}),function(a){"use strict";var r=function(e,t){this.options=a.extend({},a.fn.combobox.defaults,t),this.template=this.options.template||this.template,this.$source=a(e),this.$container=this.setup(),this.$element=this.$container.find("input[type=text]"),this.$target=this.$container.find("input[type=hidden]"),this.$button=this.$container.find(".dropdown-toggle"),this.$menu=a(this.options.menu).appendTo("body"),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.shown=!1,this.selected=!1,this.refresh(),this.transferAttributes(),this.listen()};r.prototype={constructor:r,setup:function(){var e=a(this.template());return this.$source.before(e),this.$source.hide(),e},disable:function(){this.$element.prop("disabled",!0),this.$button.attr("disabled",!0),this.disabled=!0,this.$container.addClass("combobox-disabled")},enable:function(){this.$element.prop("disabled",!1),this.$button.attr("disabled",!1),this.disabled=!1,this.$container.removeClass("combobox-disabled")},parse:function(){var t=this,n={},i=[],r=!1,o="";return this.$source.find("option").each(function(){var e=a(this);""!==e.val()?(n[e.text()]=e.val(),i.push(e.text()),e.prop("selected")&&(r=e.text(),o=e.val())):t.options.placeholder=e.text()}),this.map=n,r&&(this.$element.val(r),this.$target.val(o),this.$container.addClass("combobox-selected"),this.selected=!0),i},transferAttributes:function(){this.options.placeholder=this.$source.attr("data-placeholder")||this.options.placeholder,"undefined"!==this.options.appendId&&this.$element.attr("id",this.$source.attr("id")+this.options.appendId),this.$element.attr("placeholder",this.options.placeholder),this.$target.prop("name",this.$source.prop("name")),this.$target.val(this.$source.val()),this.$source.removeAttr("name"),this.$element.attr("required",this.$source.attr("required")),this.$element.attr("rel",this.$source.attr("rel")),this.$element.attr("title",this.$source.attr("title")),this.$element.attr("class",this.$source.attr("class")),this.$element.attr("tabindex",this.$source.attr("tabindex")),this.$source.removeAttr("tabindex"),void 0!==this.$source.attr("disabled")&&this.disable()},select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).trigger("change"),this.$target.val(this.map[e]).trigger("change"),this.$source.val(this.map[e]).trigger("change"),this.$container.addClass("combobox-selected"),this.selected=!0,this.hide()},updater:function(e){return e},show:function(){var e=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),a(".dropdown-menu").on("mousedown",a.proxy(this.scrollSafety,this)),this.shown=!0,this},hide:function(){return this.$menu.hide(),a(".dropdown-menu").off("mousedown",a.proxy(this.scrollSafety,this)),this.$element.on("blur",a.proxy(this.blur,this)),this.shown=!1,this},lookup:function(e){return this.query=this.$element.val(),this.process(this.source)},process:function(e){var t=this;return e=a.grep(e,function(e){return t.matcher(e)}),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},template:function(){return"2"==this.options.bsVersion?'<div class="combobox-container"><input type="hidden" /> <div class="input-append"> <input type="text" autocomplete="false" /> <span class="add-on dropdown-toggle" data-dropdown="dropdown"> <span class="caret"/> <i class="icon-remove"/> </span> </div> </div>':'<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="false" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>'},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(e){var n=this;return(e=a(e).map(function(e,t){return(e=a(n.options.item).attr("data-value",t)).find("a").html(n.highlighter(t)),e[0]})).first().addClass("active"),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=a(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},toggle:function(){this.disabled||(this.$container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():(this.clearElement(),this.lookup()))},scrollSafety:function(e){"UL"==e.target.tagName&&this.$element.off("blur")},clearElement:function(){this.$element.val("").focus()},clearTarget:function(){this.$source.val(""),this.$target.val(""),this.$container.removeClass("combobox-selected"),this.selected=!1},triggerChange:function(){this.$source.trigger("change")},refresh:function(){this.source=this.parse(),this.options.items=this.source.length},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this)),this.$button.on("click",a.proxy(this.toggle,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev(),this.fixMenuScroll();break;case 40:e.preventDefault(),this.next(),this.fixMenuScroll()}e.stopPropagation()}},fixMenuScroll:function(){var e=this.$menu.find(".active");if(e.length){var t=e.position().top,n=t+e.height(),i=this.$menu.scrollTop(),r=this.$menu.height();r<n?this.$menu.scrollTop(i+n-r):t<0&&this.$menu.scrollTop(i+t)}},keydown:function(e){this.suppressKeyPressRepeat=~a.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:this.shown||this.toggle();break;case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){var t=this;this.focused=!1;var n=this.$element.val();this.selected||""===n||(this.$element.val(""),this.$source.val("").trigger("change"),this.$target.val("").trigger("change")),!this.mousedover&&this.shown&&setTimeout(function(){t.hide()},200)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1}},a.fn.combobox=function(i){return this.each(function(){var e=a(this),t=e.data("combobox"),n="object"==typeof i&&i;t||e.data("combobox",t=new r(this,n)),"string"==typeof i&&t[i]()})},a.fn.combobox.defaults={bsVersion:"3",menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.combobox.Constructor=r}(window.jQuery),function(s,t,e,l){"use strict";var r="treeview",o={};o.settings={injectStyle:!0,levels:2,expandIcon:"glyphicon glyphicon-plus",collapseIcon:"glyphicon glyphicon-minus",loadingIcon:"glyphicon glyphicon-hourglass",emptyIcon:"glyphicon",nodeIcon:"",selectedIcon:"",checkedIcon:"glyphicon glyphicon-check",partiallyCheckedIcon:"glyphicon glyphicon-expand",uncheckedIcon:"glyphicon glyphicon-unchecked",tagsClass:"badge",color:l,backColor:l,borderColor:l,changedNodeColor:"#39A5DC",onhoverColor:"#F5F5F5",selectedColor:"#FFFFFF",selectedBackColor:"#428bca",searchResultColor:"#D9534F",searchResultBackColor:l,highlightSelected:!0,highlightSearchResults:!0,showBorder:!0,showIcon:!0,showImage:!1,showCheckbox:!1,checkboxFirst:!1,highlightChanges:!1,showTags:!1,multiSelect:!1,preventUnselect:!1,allowReselect:!1,hierarchicalCheck:!1,propagateCheckEvent:!1,wrapNodeText:!1,onLoading:l,onLoadingFailed:l,onInitialized:l,onNodeRendered:l,onRendered:l,onDestroyed:l,onNodeChecked:l,onNodeCollapsed:l,onNodeDisabled:l,onNodeEnabled:l,onNodeExpanded:l,onNodeSelected:l,onNodeUnchecked:l,onNodeUnselected:l,onSearchComplete:l,onSearchCleared:l},o.options={silent:!1,ignoreChildren:!1},o.searchOptions={ignoreCase:!0,exactMatch:!1,revealResults:!0},o.dataUrl={method:"GET",dataType:"json",cache:!1};var a=function(e,t){return this.$element=s(e),this._elementId=e.id,this._styleId=this._elementId+"-style",this._init(t),{options:this._options,init:s.proxy(this._init,this),remove:s.proxy(this._remove,this),findNodes:s.proxy(this.findNodes,this),getNodes:s.proxy(this.getNodes,this),getParents:s.proxy(this.getParents,this),getSiblings:s.proxy(this.getSiblings,this),getSelected:s.proxy(this.getSelected,this),getUnselected:s.proxy(this.getUnselected,this),getExpanded:s.proxy(this.getExpanded,this),getCollapsed:s.proxy(this.getCollapsed,this),getChecked:s.proxy(this.getChecked,this),getUnchecked:s.proxy(this.getUnchecked,this),getDisabled:s.proxy(this.getDisabled,this),getEnabled:s.proxy(this.getEnabled,this),addNode:s.proxy(this.addNode,this),addNodeAfter:s.proxy(this.addNodeAfter,this),addNodeBefore:s.proxy(this.addNodeBefore,this),removeNode:s.proxy(this.removeNode,this),updateNode:s.proxy(this.updateNode,this),selectNode:s.proxy(this.selectNode,this),unselectNode:s.proxy(this.unselectNode,this),toggleNodeSelected:s.proxy(this.toggleNodeSelected,this),collapseAll:s.proxy(this.collapseAll,this),collapseNode:s.proxy(this.collapseNode,this),expandAll:s.proxy(this.expandAll,this),expandNode:s.proxy(this.expandNode,this),toggleNodeExpanded:s.proxy(this.toggleNodeExpanded,this),revealNode:s.proxy(this.revealNode,this),checkAll:s.proxy(this.checkAll,this),checkNode:s.proxy(this.checkNode,this),uncheckAll:s.proxy(this.uncheckAll,this),uncheckNode:s.proxy(this.uncheckNode,this),toggleNodeChecked:s.proxy(this.toggleNodeChecked,this),unmarkCheckboxChanges:s.proxy(this.unmarkCheckboxChanges,this),disableAll:s.proxy(this.disableAll,this),disableNode:s.proxy(this.disableNode,this),enableAll:s.proxy(this.enableAll,this),enableNode:s.proxy(this.enableNode,this),toggleNodeDisabled:s.proxy(this.toggleNodeDisabled,this),search:s.proxy(this.search,this),clearSearch:s.proxy(this.clearSearch,this)}};a.prototype._init=function(e){this._tree=[],this._initialized=!1,this._options=s.extend({},o.settings,e),this._template.icon.empty.addClass(this._options.emptyIcon),this._destroy(),this._subscribeEvents(),this._triggerEvent("loading",null,o.options),this._load(e).then(s.proxy(function(e){return this._tree=s.extend(!0,[],e)},this),s.proxy(function(e){this._triggerEvent("loadingFailed",e,o.options)},this)).then(s.proxy(function(e){return this._setInitialStates({nodes:e},0)},this)).then(s.proxy(function(){this._render()},this))},a.prototype._load=function(e){var t=new s.Deferred;return e.data?this._loadLocalData(e,t):e.dataUrl&&this._loadRemoteData(e,t),t.promise()},a.prototype._loadRemoteData=function(e,i){s.ajax(s.extend(!0,{},o.dataUrl,e.dataUrl)).done(function(e){i.resolve(e)}).fail(function(e,t,n){i.reject(n)})},a.prototype._loadLocalData=function(e,t){t.resolve("string"==typeof e.data?JSON.parse(e.data):s.extend(!0,[],e.data))},a.prototype._remove=function(){this._destroy(),s.removeData(this,r),s("#"+this._styleId).remove()},a.prototype._destroy=function(){this._initialized&&(this._initialized=!1,this._triggerEvent("destroyed",null,o.options),this._unsubscribeEvents(),this.$wrapper.remove(),this.$wrapper=null)},a.prototype._unsubscribeEvents=function(){this.$element.off("loading"),this.$element.off("loadingFailed"),this.$element.off("initialized"),this.$element.off("nodeRendered"),this.$element.off("rendered"),this.$element.off("destroyed"),this.$element.off("click"),this.$element.off("nodeChecked"),this.$element.off("nodeCollapsed"),this.$element.off("nodeDisabled"),this.$element.off("nodeEnabled"),this.$element.off("nodeExpanded"),this.$element.off("nodeSelected"),this.$element.off("nodeUnchecked"),this.$element.off("nodeUnselected"),this.$element.off("searchComplete"),this.$element.off("searchCleared")},a.prototype._subscribeEvents=function(){this._unsubscribeEvents(),"function"==typeof this._options.onLoading&&this.$element.on("loading",this._options.onLoading),"function"==typeof this._options.onLoadingFailed&&this.$element.on("loadingFailed",this._options.onLoadingFailed),"function"==typeof this._options.onInitialized&&this.$element.on("initialized",this._options.onInitialized),"function"==typeof this._options.onNodeRendered&&this.$element.on("nodeRendered",this._options.onNodeRendered),"function"==typeof this._options.onRendered&&this.$element.on("rendered",this._options.onRendered),"function"==typeof this._options.onDestroyed&&this.$element.on("destroyed",this._options.onDestroyed),this.$element.on("click",s.proxy(this._clickHandler,this)),"function"==typeof this._options.onNodeChecked&&this.$element.on("nodeChecked",this._options.onNodeChecked),"function"==typeof this._options.onNodeCollapsed&&this.$element.on("nodeCollapsed",this._options.onNodeCollapsed),"function"==typeof this._options.onNodeDisabled&&this.$element.on("nodeDisabled",this._options.onNodeDisabled),"function"==typeof this._options.onNodeEnabled&&this.$element.on("nodeEnabled",this._options.onNodeEnabled),"function"==typeof this._options.onNodeExpanded&&this.$element.on("nodeExpanded",this._options.onNodeExpanded),"function"==typeof this._options.onNodeSelected&&this.$element.on("nodeSelected",this._options.onNodeSelected),"function"==typeof this._options.onNodeUnchecked&&this.$element.on("nodeUnchecked",this._options.onNodeUnchecked),"function"==typeof this._options.onNodeUnselected&&this.$element.on("nodeUnselected",this._options.onNodeUnselected),"function"==typeof this._options.onSearchComplete&&this.$element.on("searchComplete",this._options.onSearchComplete),"function"==typeof this._options.onSearchCleared&&this.$element.on("searchCleared",this._options.onSearchCleared)},a.prototype._triggerEvent=function(e,t,n){n&&!n.silent&&this.$element.trigger(e,s.extend(!0,{},t))},a.prototype._setInitialStates=function(e,t){return this._nodes={},s.when.apply(this,this._setInitialState(e,t)).done(s.proxy(function(){this._orderedNodes=this._sortNodes(),this._inheritCheckboxChanges(),this._triggerEvent("initialized",this._orderedNodes,o.options)},this))},a.prototype._setInitialState=function(e,i,r){if(e.nodes){i+=1,r=r||[];var o=e;return s.each(e.nodes,s.proxy(function(e,t){var n=new s.Deferred;r.push(n.promise()),t.level=i,t.index=e,t.nodeId=o&&o.nodeId?o.nodeId+"."+t.index:i-1+"."+t.index,t.parentId=o.nodeId,t.hasOwnProperty("selectable")||(t.selectable=!0),t.hasOwnProperty("checkable")||(t.checkable=!0),t.state=t.state||{},t.state.hasOwnProperty("checked")||(t.state.checked=!1),this._options.hierarchicalCheck&&"undefined"===t.state.checked&&(t.state.checked=l),t.state.hasOwnProperty("disabled")||(t.state.disabled=!1),t.state.hasOwnProperty("expanded")||(!t.state.disabled&&i<this._options.levels&&t.nodes&&0<t.nodes.length?t.state.expanded=!0:t.state.expanded=!1),t.state.hasOwnProperty("selected")||(t.state.selected=!1),o&&o.state&&o.state.expanded||i<=this._options.levels?t.state.visible=!0:t.state.visible=!1,t.nodes&&(0<t.nodes.length?this._setInitialState(t,i,r):delete t.nodes),this._nodes[t.nodeId]=t,n.resolve()},this)),r}},a.prototype._sortNodes=function(){return s.map(Object.keys(this._nodes).sort(function(e,t){if(e===t)return 0;e=e.split(".").map(function(e){return parseInt(e)}),t=t.split(".").map(function(e){return parseInt(e)});for(var n=Math.max(e.length,t.length),i=0;i<n;i++){if(e[i]===l)return-1;if(t[i]===l)return 1;if(0<e[i]-t[i])return 1;if(e[i]-t[i]<0)return-1}}),s.proxy(function(e,t){return this._nodes[e]},this))},a.prototype._clickHandler=function(e){var t=s(e.target),n=this.targetNode(t);if(n&&!n.state.disabled){var i=t.attr("class")?t.attr("class").split(" "):[];-1!==i.indexOf("expand-icon")?this._toggleExpanded(n,s.extend({},o.options)):-1!==i.indexOf("check-icon")?n.checkable&&this._toggleChecked(n,s.extend({},o.options)):n.selectable?this._toggleSelected(n,s.extend({},o.options)):this._toggleExpanded(n,s.extend({},o.options))}},a.prototype.targetNode=function(e){var t=e.closest("li.list-group-item").attr("data-nodeId"),n=this._nodes[t];return n||console.log("Error: node does not exist"),n},a.prototype._toggleExpanded=function(e,t){e&&("function"==typeof this._options.lazyLoad&&e.lazyLoad?this._lazyLoad(e):this._setExpanded(e,!e.state.expanded,t))},a.prototype._lazyLoad=function(t){t.$el.children("span.expand-icon").removeClass(this._options.expandIcon).addClass(this._options.loadingIcon);var n=this;this._options.lazyLoad(t,function(e){n.addNode(e,t)}),delete t.lazyLoad},a.prototype._setExpanded=function(e,t,n){n&&t===e.state.expanded||(t&&e.nodes?(e.state.expanded=!0,e.$el&&e.$el.children("span.expand-icon").removeClass(this._options.expandIcon).removeClass(this._options.loadingIcon).addClass(this._options.collapseIcon),e.nodes&&n&&s.each(e.nodes,s.proxy(function(e,t){this._setVisible(t,!0,n)},this)),this._triggerEvent("nodeExpanded",e,n)):t||(e.state.expanded=!1,e.$el&&e.$el.children("span.expand-icon").removeClass(this._options.collapseIcon).addClass(this._options.expandIcon),e.nodes&&n&&s.each(e.nodes,s.proxy(function(e,t){this._setVisible(t,!1,n),this._setExpanded(t,!1,n)},this)),this._triggerEvent("nodeCollapsed",e,n)))},a.prototype._setVisible=function(e,t,n){n&&t===e.state.visible||(t?(e.state.visible=!0,e.$el&&e.$el.removeClass("node-hidden")):(e.state.visible=!1,e.$el&&e.$el.addClass("node-hidden")))},a.prototype._toggleSelected=function(e,t){if(e)return this._setSelected(e,!e.state.selected,t),this},a.prototype._setSelected=function(e,t,n){if(!n||t!==e.state.selected){if(t)this._options.multiSelect||s.each(this._findNodes("true","state.selected"),s.proxy(function(e,t){this._setSelected(t,!1,s.extend(n,{unselecting:!0}))},this)),e.state.selected=!0,e.$el&&(e.$el.addClass("node-selected"),(e.selectedIcon||this._options.selectedIcon)&&e.$el.children("span.node-icon").removeClass(e.icon||this._options.nodeIcon).addClass(e.selectedIcon||this._options.selectedIcon)),this._triggerEvent("nodeSelected",e,n);else{if(this._options.preventUnselect&&n&&!n.unselecting&&1===this._findNodes("true","state.selected").length)return this._options.allowReselect&&this._triggerEvent("nodeSelected",e,n),this;e.state.selected=!1,e.$el&&(e.$el.removeClass("node-selected"),(e.selectedIcon||this._options.selectedIcon)&&e.$el.children("span.node-icon").removeClass(e.selectedIcon||this._options.selectedIcon).addClass(e.icon||this._options.nodeIcon)),this._triggerEvent("nodeUnselected",e,n)}return this}},a.prototype._inheritCheckboxChanges=function(){this._options.showCheckbox&&this._options.highlightChanges&&(this._checkedNodes=s.grep(this._orderedNodes,function(e){return e.state.checked}))},a.prototype._toggleChecked=function(e,t){if(e){if(this._options.hierarchicalCheck){var n,i=s.extend({},t,{silent:t.silent||!this._options.propagateCheckEvent}),r=e;for(e.state.checked=!e.state.checked;r=this._nodes[r.parentId];)n=r.nodes.reduce(function(e,t){return e===t.state.checked?e:l},r.nodes[0].state.checked),this._setChecked(r,n,i);if(e.nodes&&0<e.nodes.length)for(var o,a=e.nodes.slice();a&&0<a.length;)o=a.pop(),this._setChecked(o,e.state.checked,i),o.nodes&&0<o.nodes.length&&(a=a.concat(o.nodes.slice()));e.state.checked=!e.state.checked}this._setChecked(e,!e.state.checked,t)}},a.prototype._setChecked=function(e,t,n){n&&t===e.state.checked||(this._options.highlightChanges&&e.$el.toggleClass("node-check-changed",-1==this._checkedNodes.indexOf(e)==t),t?(e.state.checked=!0,e.$el&&(e.$el.addClass("node-checked").removeClass("node-checked-partial"),e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.checkedIcon)),this._triggerEvent("nodeChecked",e,n)):(t===l&&this._options.hierarchicalCheck?(e.state.checked=l,e.$el&&(e.$el.addClass("node-checked-partial").removeClass("node-checked"),e.$el.children("span.check-icon").removeClass(this._options.uncheckedIcon).removeClass(this._options.checkedIcon).addClass(this._options.partiallyCheckedIcon))):(e.state.checked=!1,e.$el&&(e.$el.removeClass("node-checked node-checked-partial"),e.$el.children("span.check-icon").removeClass(this._options.checkedIcon).removeClass(this._options.partiallyCheckedIcon).addClass(this._options.uncheckedIcon))),this._triggerEvent("nodeUnchecked",e,n)))},a.prototype._setDisabled=function(e,t,n){n&&t===e.state.disabled||(t?(e.state.disabled=!0,n&&!n.keepState&&(this._setSelected(e,!1,n),this._setChecked(e,!1,n),this._setExpanded(e,!1,n)),e.$el&&e.$el.addClass("node-disabled"),this._triggerEvent("nodeDisabled",e,n)):(e.state.disabled=!1,e.$el&&e.$el.removeClass("node-disabled"),this._triggerEvent("nodeEnabled",e,n)))},a.prototype._setSearchResult=function(e,t,n){n&&t===e.searchResult||(t?(e.searchResult=!0,e.$el&&e.$el.addClass("node-result")):(e.searchResult=!1,e.$el&&e.$el.removeClass("node-result")))},a.prototype._render=function(){var n;this._initialized||(this.$wrapper=this._template.tree.clone(),this.$element.empty().addClass(r).append(this.$wrapper),this._injectStyle(),this._initialized=!0),s.each(this._orderedNodes,s.proxy(function(e,t){this._renderNode(t,n),n=t},this)),this._triggerEvent("rendered",this._orderedNodes,o.options)},a.prototype._renderNode=function(n,e){if(n){n.$el?n.$el.empty():n.$el=this._newNodeEl(n,e).addClass("node-"+this._elementId),n.$el.addClass(n.class),n.id&&n.$el.attr("id",n.id),n.dataAttr&&s.each(n.dataAttr,function(e,t){n.$el.attr("data-"+e,t)}),n.$el.attr("data-nodeId",n.nodeId),n.tooltip&&n.$el.attr("title",n.tooltip);for(var t=0;t<n.level-1;t++)n.$el.append(this._template.indent.clone());if(n.$el.append(n.nodes||n.lazyLoad?this._template.icon.expand.clone():this._template.icon.empty.clone()),this._options.checkboxFirst?(this._addCheckbox(n),this._addIcon(n),this._addImage(n)):(this._addIcon(n),this._addImage(n),this._addCheckbox(n)),this._options.wrapNodeText){var i=this._template.text.clone();n.$el.append(i),i.append(n.text)}else n.$el.append(n.text);this._options.showTags&&n.tags&&s.each(n.tags,s.proxy(function(e,t){n.$el.append(this._template.badge.clone().addClass(("object"==typeof t?t.class:l)||n.tagsClass||this._options.tagsClass).append(("object"==typeof t?t.text:l)||t))},this)),this._setSelected(n,n.state.selected),this._setChecked(n,n.state.checked),this._setSearchResult(n,n.searchResult),this._setExpanded(n,n.state.expanded),this._setDisabled(n,n.state.disabled),this._setVisible(n,n.state.visible),this._triggerEvent("nodeRendered",n,o.options)}},a.prototype._addCheckbox=function(e){!this._options.showCheckbox||e.hideCheckbox!==l&&!1!==e.hideCheckbox||e.$el.append(this._template.icon.check.clone())},a.prototype._addIcon=function(e){!this._options.showIcon||this._options.showImage&&e.image||e.$el.append(this._template.icon.node.clone().addClass(e.icon||this._options.nodeIcon))},a.prototype._addImage=function(e){this._options.showImage&&e.image&&e.$el.append(this._template.image.clone().addClass("node-image").css("background-image","url('"+e.image+"')"))},a.prototype._newNodeEl=function(e,t){var n=this._template.node.clone();return t?t.$el.after(n):this.$wrapper.prepend(n),n},a.prototype._removeNodeEl=function(e){e&&(e.nodes&&s.each(e.nodes,s.proxy(function(e,t){this._removeNodeEl(t)},this)),e.$el.remove())},a.prototype._expandNode=function(n){n.nodes&&s.each(n.nodes.slice(0).reverse(),s.proxy(function(e,t){t.level=n.level+1,this._renderNode(t,n.$el)},this))},a.prototype._injectStyle=function(){this._options.injectStyle&&!e.getElementById(this._styleId)&&s('<style type="text/css" id="'+this._styleId+'"> '+this._buildStyle()+" </style>").appendTo("head")},a.prototype._buildStyle=function(){var i=".node-"+this._elementId+"{";if(this._options.color&&(i+="color:"+this._options.color+";"),this._options.backColor&&(i+="background-color:"+this._options.backColor+";"),this._options.showBorder?this._options.borderColor&&(i+="border:1px solid "+this._options.borderColor+";"):i+="border:none;",i+="}",this._options.onhoverColor&&(i+=".node-"+this._elementId+":not(.node-disabled):hover{background-color:"+this._options.onhoverColor+";}"),this._options.highlightSearchResults&&(this._options.searchResultColor||this._options.searchResultBackColor)){var e="";this._options.searchResultColor&&(e+="color:"+this._options.searchResultColor+";"),this._options.searchResultBackColor&&(e+="background-color:"+this._options.searchResultBackColor+";"),i+=".node-"+this._elementId+".node-result{"+e+"}",i+=".node-"+this._elementId+".node-result:hover{"+e+"}"}if(this._options.highlightSelected&&(this._options.selectedColor||this._options.selectedBackColor)){e="";this._options.selectedColor&&(e+="color:"+this._options.selectedColor+";"),this._options.selectedBackColor&&(e+="background-color:"+this._options.selectedBackColor+";"),i+=".node-"+this._elementId+".node-selected{"+e+"}",i+=".node-"+this._elementId+".node-selected:hover{"+e+"}"}if(this._options.highlightChanges){e="color: "+this._options.changedNodeColor+";";i+=".node-"+this._elementId+".node-check-changed{"+e+"}"}return s.each(this._orderedNodes,s.proxy(function(e,t){if(t.color||t.backColor){var n="";t.color&&(n+="color:"+t.color+";"),t.backColor&&(n+="background-color:"+t.backColor+";"),i+=".node-"+this._elementId+'[data-nodeId="'+t.nodeId+'"]{'+n+"}"}if(t.iconColor){n="color:"+t.iconColor+";";i+=".node-"+this._elementId+'[data-nodeId="'+t.nodeId+'"] .node-icon{'+n+"}"}},this)),this._css+i},a.prototype._template={tree:s('<ul class="list-group"></ul>'),node:s('<li class="list-group-item"></li>'),indent:s('<span class="indent"></span>'),icon:{node:s('<span class="icon node-icon"></span>'),expand:s('<span class="icon expand-icon"></span>'),check:s('<span class="icon check-icon"></span>'),empty:s('<span class="icon"></span>')},image:s('<span class="image"></span>'),badge:s("<span></span>"),text:s('<span class="text"></span>')},a.prototype._css=".treeview .list-group-item{cursor:pointer}.treeview span.indent{margin-left:10px;margin-right:10px}.treeview span.icon{width:12px;margin-right:5px}.treeview .node-disabled{color:silver;cursor:not-allowed}",a.prototype.findNodes=function(e,t){return this._findNodes(e,t)},a.prototype.getNodes=function(){return this._orderedNodes},a.prototype.getParents=function(e){e instanceof Array||(e=[e]);var i=[];return s.each(e,s.proxy(function(e,t){var n=!!t.parentId&&this._nodes[t.parentId];n&&i.push(n)},this)),i},a.prototype.getSiblings=function(e){e instanceof Array||(e=[e]);var r=[];return s.each(e,s.proxy(function(e,t){var n=this.getParents([t]),i=n[0]?n[0].nodes:this._tree;r=i.filter(function(e){return e.nodeId!==t.nodeId})},this)),s.map(r,function(e){return e})},a.prototype.getSelected=function(){return this._findNodes("true","state.selected")},a.prototype.getUnselected=function(){return this._findNodes("false","state.selected")},a.prototype.getExpanded=function(){return this._findNodes("true","state.expanded")},a.prototype.getCollapsed=function(){return this._findNodes("false","state.expanded")},a.prototype.getChecked=function(){return this._findNodes("true","state.checked")},a.prototype.getUnchecked=function(){return this._findNodes("false","state.checked")},a.prototype.getDisabled=function(){return this._findNodes("true","state.disabled")},a.prototype.getEnabled=function(){return this._findNodes("false","state.disabled")},a.prototype.addNode=function(e,t,i,n){var r;e instanceof Array||(e=[e]),t instanceof Array&&(t=t[0]),n=s.extend({},o.options,n),r=t&&t.nodes?t.nodes:t?t.nodes=[]:this._tree,s.each(e,s.proxy(function(e,t){var n="number"==typeof i?i+e:r.length+1;r.splice(n,0,t)},this)),this._setInitialStates({nodes:this._tree},0).done(s.proxy(function(){t&&!t.state.expanded&&this._setExpanded(t,!0,n),this._render()},this))},a.prototype.addNodeAfter=function(e,t,n){e instanceof Array||(e=[e]),t instanceof Array&&(t=t[0]),n=s.extend({},o.options,n),this.addNode(e,this.getParents(t)[0],t.index+1,n)},a.prototype.addNodeBefore=function(e,t,n){e instanceof Array||(e=[e]),t instanceof Array&&(t=t[0]),n=s.extend({},o.options,n),this.addNode(e,this.getParents(t)[0],t.index,n)},a.prototype.removeNode=function(e,t){var n;e instanceof Array||(e=[e]),t=s.extend({},o.options,t),s.each(e,s.proxy(function(e,t){n=this._nodes[t.parentId],(n?n.nodes:this._tree).splice(t.index,1),this._removeNodeEl(t)},this)),this._setInitialStates({nodes:this._tree},0).done(this._render.bind(this))},a.prototype.updateNode=function(e,t,n){e instanceof Array&&(e=e[0]),n=s.extend({},o.options,n);var i=this._nodes[e.parentId];(i?i.nodes:this._tree).splice(e.index,1,t),this._removeNodeEl(e),this._setInitialStates({nodes:this._tree},0).done(this._render.bind(this))},a.prototype.selectNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setSelected(t,!0,n)},this))},a.prototype.unselectNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setSelected(t,!1,n)},this))},a.prototype.toggleNodeSelected=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._toggleSelected(t,n)},this))},a.prototype.collapseAll=function(e){(e=s.extend({},o.options,e)).levels=e.levels||999,this.collapseNode(this._tree,e)},a.prototype.collapseNode=function(e,n){n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setExpanded(t,!1,n)},this))},a.prototype.expandAll=function(e){(e=s.extend({},o.options,e)).levels=e.levels||999,this.expandNode(this._tree,e)},a.prototype.expandNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){t.state.expanded||("function"==typeof this._options.lazyLoad&&t.lazyLoad&&this._lazyLoad(t),this._setExpanded(t,!0,n),t.nodes&&this._expandLevels(t.nodes,n.levels-1,n))},this))},a.prototype._expandLevels=function(e,n,i){e instanceof Array||(e=[e]),i=s.extend({},o.options,i),s.each(e,s.proxy(function(e,t){this._setExpanded(t,0<n,i),t.nodes&&this._expandLevels(t.nodes,n-1,i)},this))},a.prototype.revealNode=function(e,r){e instanceof Array||(e=[e]),r=s.extend({},o.options,r),s.each(e,s.proxy(function(e,t){for(var n,i=t;n=this.getParents([i])[0];)i=n,this._setExpanded(i,!0,r)},this))},a.prototype.toggleNodeExpanded=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._toggleExpanded(t,n)},this))},a.prototype.checkAll=function(n){n=s.extend({},o.options,n);var e=s.grep(this._orderedNodes,function(e){return!e.state.checked});s.each(e,s.proxy(function(e,t){this._setChecked(t,!0,n)},this))},a.prototype.checkNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setChecked(t,!0,n)},this))},a.prototype.uncheckAll=function(n){n=s.extend({},o.options,n);var e=s.grep(this._orderedNodes,function(e){return e.state.checked||e.state.checked===l});s.each(e,s.proxy(function(e,t){this._setChecked(t,!1,n)},this))},a.prototype.uncheckNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setChecked(t,!1,n)},this))},a.prototype.toggleNodeChecked=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._toggleChecked(t,n)},this))},a.prototype.unmarkCheckboxChanges=function(){this._inheritCheckboxChanges(),s.each(this._nodes,function(e,t){t.$el.removeClass("node-check-changed")})},a.prototype.disableAll=function(n){n=s.extend({},o.options,n);var e=this._findNodes("false","state.disabled");s.each(e,s.proxy(function(e,t){this._setDisabled(t,!0,n)},this))},a.prototype.disableNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setDisabled(t,!0,n)},this))},a.prototype.enableAll=function(n){n=s.extend({},o.options,n);var e=this._findNodes("true","state.disabled");s.each(e,s.proxy(function(e,t){this._setDisabled(t,!1,n)},this))},a.prototype.enableNode=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setDisabled(t,!1,n)},this))},a.prototype.toggleNodeDisabled=function(e,n){e instanceof Array||(e=[e]),n=s.extend({},o.options,n),s.each(e,s.proxy(function(e,t){this._setDisabled(t,!t.state.disabled,n)},this))},a.prototype.search=function(e,n){n=s.extend({},o.searchOptions,n);var t=this._getSearchResults(),i=[];if(e&&0<e.length){n.exactMatch&&(e="^"+e+"$");var r="g";n.ignoreCase&&(r+="i"),i=this._findNodes(e,"text",r)}return s.each(this._diffArray(i,t),s.proxy(function(e,t){this._setSearchResult(t,!1,n)},this)),s.each(this._diffArray(t,i),s.proxy(function(e,t){this._setSearchResult(t,!0,n)},this)),i&&n.revealResults&&this.revealNode(i),this._triggerEvent("searchComplete",i,n),i},a.prototype.clearSearch=function(n){n=s.extend({},{render:!0},n);var e=s.each(this._getSearchResults(),s.proxy(function(e,t){this._setSearchResult(t,!1,n)},this));this._triggerEvent("searchCleared",e,n)},a.prototype._getSearchResults=function(){return this._findNodes("true","searchResult")},a.prototype._diffArray=function(t,e){var n=[];return s.grep(e,function(e){-1===s.inArray(e,t)&&n.push(e)}),n},a.prototype._findNodes=function(n,i,r){return i=i||"text",r=r||"g",s.grep(this._orderedNodes,s.proxy(function(e){var t=this._getNodeValue(e,i);if("string"==typeof t)return t.match(new RegExp(n,r))},this))},a.prototype._getNodeValue=function(e,t){var n=t.indexOf(".");if(0<n){var i=e[t.substring(0,n)],r=t.substring(n+1,t.length);return this._getNodeValue(i,r)}return e.hasOwnProperty(t)&&e[t]!==l?e[t].toString():l};var c=function(e){t.console&&t.console.error(e)};s.fn[r]=function(t,n){var i;if(0==this.length)throw"No element has been found!";return this.each(function(){var e=s.data(this,r);"string"==typeof t?e?s.isFunction(e[t])&&"_"!==t.charAt(0)?(n instanceof Array||(n=[n]),i=e[t].apply(e,n)):c("No such method : "+t):c("Not initialized, can not call method : "+t):"boolean"==typeof t?i=e:s.data(this,r,new a(this,s.extend(!0,{},t)))}),i||this}}(jQuery,window,document),function(r){"use strict";var v={version:"3.19.0",pfPaletteColors:{black:"#030303",black100:"#fafafa",black200:"#ededed",black300:"#d1d1d1",black400:"#bbbbbb",black500:"#8b8d8f",black600:"#72767b",black700:"#4d5258",black800:"#393f44",black900:"#292e34",blue:"#0088ce",blue100:"#bee1f4",blue200:"#7dc3e8",blue300:"#39a5dc",blue400:"#0088ce",blue500:"#00659c",blue600:"#004368",blue700:"#002235",gold:"#f0ab00",gold100:"#fbeabc",gold200:"#f9d67a",gold300:"#f5c12e",gold400:"#f0ab00",gold500:"#b58100",gold600:"#795600",gold700:"#3d2c00",orange:"#ec7a08",orange100:"#fbdebf",orange200:"#f7bd7f",orange300:"#f39d3c",orange400:"#ec7a08",orange500:"#b35c00",orange600:"#773d00",orange700:"#3b1f00",lightBlue:"#00b9e4",lightBlue100:"#beedf9",lightBlue200:"#7cdbf3",lightBlue300:"#35caed",lightBlue400:"#00b9e4",lightBlue500:"#008bad",lightBlue600:"#005c73",lightBlue700:"#002d39",green:"#3f9c35",green100:"#cfe7cd",green200:"#9ecf99",green300:"#6ec664",green400:"#3f9c35",green500:"#2d7623",green600:"#1e4f18",green700:"#0f280d",lightGreen:"#92d400",lightGreen100:"#e4f5bc",lightGreen200:"#c8eb79",lightGreen300:"#ace12e",lightGreen400:"#92d400",lightGreen500:"#6ca100",lightGreen600:"#486b00",lightGreen700:"#253600",cyan:"#007a87",cyan100:"#bedee1",cyan200:"#7dbdc3",cyan300:"#3a9ca6",cyan400:"#007a87",cyan500:"#005c66",cyan600:"#003d44",cyan700:"#001f22",purple:"#703fec",purple100:"#c7bfff",purple200:"#a18fff",purple300:"#8461f7",purple400:"#703fec",purple500:"#582fc0",purple600:"#40199a",purple700:"#1f0066",red:"#cc0000",red100:"#cc0000",red200:"#a30000",red300:"#8b0000",red400:"#470000",red500:"#2c0000"},pfSetDonutChartTitle:function(e,t,n){var i=r.d3.select(e).select("text.c3-chart-arcs-title");i.text(""),i.insert("tspan").text(t).classed("donut-title-big-pf",!0).attr("dy",0).attr("x",0),i.insert("tspan").text(n).classed("donut-title-small-pf",!0).attr("dy",20).attr("x",0)},pfDonutTooltipContents:function(e,t,n,i){return'<table class="c3-tooltip">  <tr>    <td><span style="background-color:'+i(e[0].id)+'"></span><strong>'+e[0].value+"</strong> "+e[0].name+"</td>    <td>"+Math.round(1e3*e[0].ratio)/10+"%</td>  </tr></table>"},pfGetUtilizationDonutTooltipContentsFn:function(t){return function(e){return'<span class="donut-tooltip-pf" style="white-space: nowrap;">'+Math.round(1e3*e[0].ratio)/10+"% "+t+" "+e[0].name+"</span>"}},pfGetBarChartTooltipContentsFn:function(t){return function(e){return'<table class="c3-tooltip">  <tr>    <td><strong>'+(t?t[e[0].index]:e[0].index)+":</td>    <td>"+e[0].value+"</td>  </tr></table>"}},pfSingleLineChartTooltipContentsFn:function(t){return function(e){return'<table class="c3-tooltip">  <tr>    <td><strong>'+(t?t[e[0].index]:e[0].index)+":</td>    <td>"+e[0].value+"</td>  </tr></table>"}},pfPieTooltipContents:function(e,t,n,i){return v.pfDonutTooltipContents(e,t,n,i)},c3ChartDefaults:function(){var e=function(){return{pattern:[v.pfPaletteColors.blue,v.pfPaletteColors.blue300,v.pfPaletteColors.green,v.pfPaletteColors.orange,v.pfPaletteColors.red]}},t=function(){return{zerobased:!0}},n=function(){return{height:60}},i=function(){return{x:{show:!1},y:{show:!1}}},r=function(){return{show:!1}},o=function(){return{r:1,focus:{expand:{r:4}}}},a=function(){return{contents:function(e){return'<span class="c3-tooltip-sparkline">'+e[0].value+" "+e[0].name+"</span>"}}},s=function(){return{x:{show:!0},y:{show:!0}}},l=function(){return{x:{show:!1},y:{show:!0}}},c=function(){return{show:!0}},u=function(){return{r:3,focus:{expand:{r:5}}}},d=function(){return{contents:$().pfGetBarChartTooltipContentsFn()}},h=function(){return{x:{show:!0},y:{show:!0}}},p=function(){return{x:{show:!1},y:{show:!0}}},f=function(){return{show:!0}},g=function(){return{r:3,focus:{expand:{r:5}}}},m=function(){return{contents:$().pfGetBarChartTooltipContentsFn()}};return{getDefaultColors:e,getDefaultBarGrid:function(){return{y:{show:!0}}},getDefaultBarTooltip:function(e){return{contents:v.pfGetBarChartTooltipContentsFn(e)}},getDefaultBarLegend:function(){return{show:!1}},getDefaultBarConfig:function(e){return{color:this.getDefaultColors(),grid:this.getDefaultBarGrid(),tooltip:this.getDefaultBarTooltip(e),legend:this.getDefaultBarLegend()}},getDefaultGroupedBarGrid:function(){return{y:{show:!0}}},getDefaultGroupedBarLegend:function(){return{show:!0,position:"bottom"}},getDefaultGroupedBarConfig:function(){return{color:this.getDefaultColors(),grid:this.getDefaultGroupedBarGrid(),legend:this.getDefaultGroupedBarLegend()}},getDefaultStackedBarGrid:function(){return{y:{show:!0}}},getDefaultStackedBarLegend:function(){return{show:!0,position:"bottom"}},getDefaultStackedBarConfig:function(){return{color:this.getDefaultColors(),grid:this.getDefaultStackedBarGrid(),legend:this.getDefaultStackedBarLegend()}},getDefaultDonut:function(e){return{title:e,label:{show:!1},width:11}},getDefaultDonutSize:function(){return{height:171}},getDefaultDonutColors:function(){return{pattern:[v.pfPaletteColors.blue,v.pfPaletteColors.black300]}},getDefaultDonutTooltip:function(){return{show:!1}},getDefaultDonutLegend:function(){return{show:!1}},getDefaultDonutConfig:function(e){return{donut:this.getDefaultDonut(e),size:this.getDefaultDonutSize(),legend:this.getDefaultDonutLegend(),color:this.getDefaultDonutColors(),tooltip:this.getDefaultDonutTooltip()}},getDefaultPie:function(){return{expand:!0,label:{show:!1}}},getDefaultPieSize:function(){return{height:171}},getDefaultPieColors:function(){return{pattern:[v.pfPaletteColors.blue,v.pfPaletteColors.black300]}},getDefaultPieTooltip:function(){return{contents:$().pfPieTooltipContents}},getDefaultPieLegend:function(){return{show:!1}},getDefaultPieConfig:function(){return{pie:this.getDefaultPie(),size:this.getDefaultPieSize(),legend:this.getDefaultPieLegend(),color:this.getDefaultPieColors(),tooltip:this.getDefaultPieTooltip()}},getDefaultSparklineArea:t,getDefaultSparklineSize:n,getDefaultSparklineAxis:i,getDefaultSparklineLegend:r,getDefaultSparklinePoint:o,getDefaultSparklineTooltip:a,getDefaultSparklineConfig:function(){return{area:{zerobased:!0},size:{height:60},axis:{x:{show:!1},y:{show:!1}},color:e(),legend:{show:!1},point:{r:1,focus:{expand:{r:4}}},tooltip:{contents:function(e){return'<span class="c3-tooltip-sparkline">'+e[0].value+" "+e[0].name+"</span>"}}}},getDefaultLineAxis:s,getDefaultLineGrid:l,getDefaultLineLegend:c,getDefaultLinePoint:u,getDefaultLineConfig:function(){return{axis:{x:{show:!0},y:{show:!0}},grid:{x:{show:!1},y:{show:!0}},color:e(),legend:{show:!0},point:{r:3,focus:{expand:{r:5}}}}},getDefaultSingleLineTooltip:d,getDefaultSingleLineConfig:function(){return{axis:{x:{show:!0},y:{show:!0}},grid:{x:{show:!1},y:{show:!0}},color:e(),legend:{show:!1},point:{r:3,focus:{expand:{r:5}}},tooltip:d()}},getDefaultAreaAxis:h,getDefaultAreaGrid:p,getDefaultAreaLegend:f,getDefaultAreaPoint:g,getDefaultAreaConfig:function(){return{axis:{x:{show:!0},y:{show:!0}},grid:{x:{show:!1},y:{show:!0}},color:e(),legend:{show:!0},point:{r:3,focus:{expand:{r:5}}}}},getDefaultSingleAreaTooltip:m,getDefaultSingleAreaConfig:function(){return{axis:{x:{show:!0},y:{show:!0}},grid:{x:{show:!1},y:{show:!0}},color:e(),legend:{show:!1},point:{r:3,focus:{expand:{r:5}}},tooltip:m()}}}},pfBreakpoints:{tablet:768,desktop:1200}};r.patternfly=v}(window),function(t){"use strict";t.fn.sidebar=function(){var e=0;t(".navbar-pf .navbar-toggle").is(":hidden")&&(e=t(document).height()-t(".navbar-pf").outerHeight()),t(".sidebar-pf").parent(".row").children('[class*="col-"]').css({"min-height":e})},t(document).ready(function(){0<t(".sidebar-pf").length&&0===t(".datatable").length&&t.fn.sidebar()}),t(window).resize(function(){0<t(".sidebar-pf").length&&t.fn.sidebar()})}(jQuery),function(r){"use strict";r.fn.popovers=function(){return this.popover(),this.filter("[data-close=true]").each(function(e,t){var n=r(t),i=n.attr("data-original-title")+'<button type="button" class="close" aria-hidden="true"><span class="pficon pficon-close"></span></button>';n.attr("data-original-title",i)}),this.on("click",function(e){var t=r(this),n=t.next(".popover").find(".popover-title");n.find(".close").parent(".popover-title").addClass("closable"),n.find(".close").on("click",function(){t.popover("hide")}),e.preventDefault()}),this}}(jQuery),function(l){"use strict";l.fn.dataTableExt&&(l.extend(!0,l.fn.dataTable.defaults,{bDestroy:!0,bAutoWidth:!1,iDisplayLength:20,sDom:"<'dataTables_header' f i r ><'table-responsive'  t ><'dataTables_footer' p >",oLanguage:{sInfo:"Showing <b>_START_</b> to <b>_END_</b> of <b>_TOTAL_</b> Items",sInfoFiltered:"(of <b>_MAX_</b>)",sInfoEmpty:"Showing <b>0</b> Results",sZeroRecords:"<p>Suggestions</p><ul><li>Check the javascript regular expression syntax of the search term.</li><li>Check that the correct menu option is chosen (token ID vs. user ID).</li><li>Use wildcards (* to match 0 or more characters, + to match 1 or more characters, ? to match 0 or 1 character).</li><li>Clear the search field, then click Search to return to the 20 most recent records.</li></ul>",sSearch:""},sPaginationType:"bootstrap_input",oSearch:{sSearch:"",bRegex:!0,bSmart:!1}}),l.extend(l.fn.dataTableExt.oStdClasses,{sWrapper:"dataTables_wrapper"}),l.fn.dataTableExt.oApi.fnPagingInfo=function(e){return{iStart:e._iDisplayStart,iEnd:e.fnDisplayEnd(),iLength:e._iDisplayLength,iTotal:e.fnRecordsTotal(),iFilteredTotal:e.fnRecordsDisplay(),iPage:-1===e._iDisplayLength?0:Math.ceil(e._iDisplayStart/e._iDisplayLength),iTotalPages:-1===e._iDisplayLength?0:Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength)}},l.extend(l.fn.dataTableExt.oPagination,{bootstrap_input:{fnInit:function(n,e,i){var t,r,o=function(e){e.preventDefault(),n.oApi._fnPageChange(n,e.data.action)&&i(n)};l(e).append('<ul class="pagination">  <li class="first disabled"><span class="i fa fa-angle-double-left"></span></li>  <li class="prev disabled"><span class="i fa fa-angle-left"></span></li></ul><div class="pagination-input">  <input type="text" class="paginate_input">  <span class="paginate_of">of <b>3</b></span></div><ul class="pagination">  <li class="next disabled"><span class="i fa fa-angle-right"></span></li>  <li class="last disabled"><span class="i fa fa-angle-double-right"></span></li></ul>'),t=l("li",e),l(t[0]).bind("click.DT",{action:"first"},o),l(t[1]).bind("click.DT",{action:"previous"},o),l(t[2]).bind("click.DT",{action:"next"},o),l(t[3]).bind("click.DT",{action:"last"},o),r=l("input",e),l(r).keyup(function(e){var t;if(38===e.which||39===e.which?this.value+=1:(37===e.which||40===e.which)&&1<this.value&&(this.value-=1),""!==this.value&&this.value.match(/[0-9]/)){if((t=n._iDisplayLength*(this.value-1))>=n.fnRecordsDisplay()||t<0)return n._iDisplayStart=(Math.ceil(n.fnRecordsDisplay()/n._iDisplayLength)-1)*n._iDisplayLength,void i(n);n._iDisplayStart=t,i(n)}})},fnUpdate:function(e,t){var n,i=e.oInstance.fnPagingInfo(),r=e.aanFeatures.p,o=r.length,a=Math.ceil(e.fnRecordsDisplay()/e._iDisplayLength),s=Math.ceil(e._iDisplayStart/e._iDisplayLength)+1;for(n=0;n<o;n+=1)l(".paginate_input",r[n]).val(s).siblings(".paginate_of").find("b").html(a),0===i.iPage?(l("li.first",r[n]).addClass("disabled"),l("li.prev",r[n]).addClass("disabled")):(l("li.first",r[n]).removeClass("disabled"),l("li.prev",r[n]).removeClass("disabled")),i.iPage===i.iTotalPages-1||0===i.iTotalPages?(l("li.next",r[n]).addClass("disabled"),l("li.last",r[n]).addClass("disabled")):(l("li.next",r[n]).removeClass("disabled"),l("li.last",r[n]).removeClass("disabled"))}}}))}(jQuery),function(e){"use strict";void 0!==patternfly&&(e.pfBreakpoints=patternfly.pfBreakpoints)}(jQuery),function(s){"use strict";s.fn.navigation=function(){var n=s(".layout-pf-alt-fixed .nav-pf-vertical-alt"),i=s(".container-pf-alt-nav-pf-vertical-alt"),e=s(".navbar-toggle"),r=!1,t=function(){var e=s(window).width();n.removeClass("hidden show-mobile-nav collapsed"),i.removeClass("collapsed-nav hidden-nav"),(e<s.pfBreakpoints.desktop||r)&&(n.addClass("collapsed"),i.addClass("collapsed-nav")),e<s.pfBreakpoints.tablet&&(n.addClass("hidden"),n.removeClass("collapsed"),i.removeClass("collapsed-nav"),i.addClass("hidden-nav"))},o=function(){s("html").addClass("transitions")},a=function(){e.on("click",function(e){var t=i.hasClass("hidden-nav");o(),t&&n.hasClass("show-mobile-nav")?n.removeClass("show-mobile-nav"):t?n.addClass("show-mobile-nav"):n.hasClass("collapsed")?(n.removeClass("collapsed"),i.removeClass("collapsed-nav"),r=!1):(n.addClass("collapsed"),i.addClass("collapsed-nav"),r=!0)})};s(window).on("resize",function(){t(),o()}),t(),a(),s('.nav-pf-vertical-alt [data-toggle="tooltip"]').tooltip({container:"body",delay:{show:"500",hide:"200"}}),s(".nav-pf-vertical-alt").on("show.bs.tooltip",function(e){return s(this).hasClass("collapsed")})},s(document).ready(function(){0<s(".nav-pf-vertical-alt").length&&s.fn.navigation()})}(jQuery),function(t){"use strict";t.fn.countRemainingChars=function(e){var n=t.extend({charsMaxLimit:100,charsWarnRemaining:5,blockInputAtMaxLimit:!1},e),i=this,r=t("#"+n.countFld).text(n.charsMaxLimit),o=function(e){var t=n.charsMaxLimit-e;r.text(t),r.toggleClass("chars-warn-remaining-pf",t<=n.charsWarnRemaining),t<0?i.trigger("overCharsMaxLimitEvent",i.attr("id")):i.trigger("underCharsMaxLimitEvent",i.attr("id"))};return this.on("paste",function(e){setTimeout(function(){var e,t=i.val().length;n.blockInputAtMaxLimit&&t>n.charsMaxLimit&&(e=(e=i.val()).substring(0,n.charsMaxLimit),i.val(e),t=i.val().length),o(t)},100)}),this.keyup(function(e){o(i.val().length)}),this.keydown(function(e){var t=i.val().length;n.blockInputAtMaxLimit&&t>=n.charsMaxLimit&&8!==e.keyCode&&e.preventDefault()}),this}}(jQuery),function(e){"use strict";void 0!==patternfly&&(e.pfPaletteColors=patternfly.pfPaletteColors)}(jQuery),function(e){"use strict";void 0!==patternfly&&(e.fn.pfSetDonutChartTitle=patternfly.pfSetDonutChartTitle,e.fn.pfDonutTooltipContents=patternfly.pfDonutTooltipContents,e.fn.pfGetUtilizationDonutTooltipContentsFn=patternfly.pfGetUtilizationDonutTooltipContentsFn,e.fn.pfGetBarChartTooltipContentsFn=patternfly.pfGetBarChartTooltipContentsFn,e.fn.pfSingleLineChartTooltipContentsFn=patternfly.pfSingleLineChartTooltipContentsFn,e.fn.pfPieTooltipContents=patternfly.pfPieTooltipContents,e.fn.c3ChartDefaults=patternfly.c3ChartDefaults)}(jQuery),function(c){"use strict";c.fn.initCollapseHeights=function(e){var t,r=this,l=e;(t=function(){var e,t,i,s,n="hidden";e=r.height(),(t=r.find(".collapse.in"))&&0<t.length&&t.removeClass("in"),i=0,r.children().each(c.proxy(function(e,t){var n=c(t);i+=n.outerHeight(!0)},r)).end(),(s=e-i)<25&&(s=25,n="auto"),t&&0<t.length&&t.addClass("in"),setTimeout(function(){r.find('[data-toggle="collapse"]').each(c.proxy(function(e,t){var n,i,r,o,a=0;(i=(n=c(t)).attr("data-target"))||(i=n.attr("href")),r=c(i),o=r,l&&(1===(o=r.find(l)).length?(a=0,r.children().each(c.proxy(function(e,t){var n=c(t);t!==o[0]&&(a+=n.outerHeight(!0))},r)).end(),s-=a):o=r),o.css({"max-height":s-a+"px","overflow-y":"auto"})},r)).end(),r.css({"overflow-y":n})},100)})(),c(window).resize(t)}}(jQuery),function(a){"use strict";function s(e,t){var n=t.attr("data-parent");if("string"==typeof n)return n=isNaN(n)?e.closest(n):a(e[parseInt(n,10)])}function l(e,t){t&&(t.find(".treegrid-node > span.expand-icon").toggleClass("fa-angle-right",t.hasClass("collapsed")).toggleClass("fa-angle-down",!t.hasClass("collapsed")),e.toggleClass("hidden",t.hasClass("collapsed")),t.hasClass("collapsed")&&e.addClass("collapsed"))}function c(e){e.find("tbody > tr").removeClass("odd"),e.find("tbody > tr:not(.hidden):odd").addClass("odd")}a.fn.treegrid=function(i){var t,r,o;r=this.find("tbody > tr"),o=this,a.each(r,function(){var n,e;if(n=a(this),e=s(r,n),n.children(".treegrid-node").prepend('<span class="icon expand-icon fa"/>'),n.children(".treegrid-node").on("click",function(e){var t=n.find("span.expand-icon");i&&"function"==typeof i.callback&&i.callback(e),t.hasClass("fa-angle-right")&&n.removeClass("collapsed"),t.hasClass("fa-angle-down")&&n.addClass("collapsed"),a.each(r.slice(r.index(n)+1),function(){l(a(this),s(r,a(this)))}),c(o)}),e){for(t=e.find(".treegrid-node > span.indent").length+1;0<t;t-=1)n.children(".treegrid-node").prepend('<span class="indent"/>');l(n,e)}}),c(o)}}(jQuery),function(k){"use strict";k.fn.setupVerticalNavigation=function(e){var t,o,a=k(".nav-pf-vertical"),n=k(".container-pf-nav-pf-vertical"),i=k(".navbar-toggle"),r=!1,s=!1,l=function(){return n.hasClass("hidden-nav")},c=function(e){setTimeout(function(){k(window).trigger("resize")},e)},u=function(){!l()&&s||(a.addClass("secondary-visible-pf"),n.addClass("secondary-visible-pf")),s||c(100)},d=function(){a.removeClass("secondary-visible-pf"),n.removeClass("secondary-visible-pf"),a.find(".mobile-nav-item-pf").each(function(e,t){k(t).removeClass("mobile-nav-item-pf")})},h=function(e){k(document).find(".nav-pf-vertical > .list-group > .list-group-item.active").each(function(e,t){k(t).removeClass("active")}),e.addClass("active")},p=function(e,t){k(document).find(".nav-pf-secondary-nav > .list-group > .list-group-item.active").each(function(e,t){k(t).removeClass("active")}),e.addClass("active"),h(t)},f=function(e,t,n){k(document).find(".nav-pf-tertiary-nav > .list-group > .list-group-item.active").each(function(e,t){k(t).removeClass("active")}),e.addClass("active"),p(t,n)},g=function(){l()?(a.removeClass("show-mobile-nav"),d(),a.find(".mobile-nav-item-pf").each(function(e,t){k(t).removeClass("mobile-nav-item-pf")})):u()},m=function(e,t){e?(t.addClass("collapsed"),a.addClass("collapsed-secondary-nav-pf"),n.addClass("collapsed-secondary-nav-pf")):(t?t.removeClass("collapsed"):a.find('[data-toggle="collapse-secondary-nav"]').each(function(e,t){k(t).removeClass("collapsed")}),a.removeClass("collapsed-secondary-nav-pf"),n.removeClass("collapsed-secondary-nav-pf"))},v=function(e,t){e?(t.addClass("collapsed"),a.addClass("collapsed-tertiary-nav-pf"),n.addClass("collapsed-tertiary-nav-pf"),m(!1)):(t?t.removeClass("collapsed"):a.find('[data-toggle="collapse-tertiary-nav"]').each(function(e,t){k(t).removeClass("collapsed")}),a.removeClass("collapsed-tertiary-nav-pf"),n.removeClass("collapsed-tertiary-nav-pf"))},y=function(e,t){k(document).find(".list-group-item.mobile-nav-item-pf").each(function(e,t){k(t).removeClass("mobile-nav-item-pf")}),k(document).find(".list-group-item.mobile-secondary-item-pf").each(function(e,t){k(t).removeClass("mobile-secondary-item-pf")}),e?(e.addClass("mobile-nav-item-pf"),t?(t.addClass("mobile-secondary-item-pf"),a.removeClass("show-mobile-secondary"),a.addClass("show-mobile-tertiary")):(a.addClass("show-mobile-secondary"),a.removeClass("show-mobile-tertiary"))):(a.removeClass("show-mobile-secondary"),a.removeClass("show-mobile-tertiary"))},b=function(){var e,t=k(window).width();t<k.pfBreakpoints.tablet?a.hasClass("hidden")||(a.addClass("hidden"),a.removeClass("collapsed"),n.removeClass("collapsed-nav"),n.addClass("hidden-nav"),m(!1),v(!1),r=!1):a.hasClass("hidden")&&(a.removeClass("hidden show-mobile-nav"),n.removeClass("hidden-nav")),t<k.pfBreakpoints.desktop?(s||(a.addClass("collapsed"),n.addClass("collapsed-nav")),t>=k.pfBreakpoints.tablet&&d(),s=!0):(e=s&&0<a.find(".secondary-nav-item-pf.active").length,s=!1,e&&u()),r?(a.addClass("collapsed"),n.addClass("collapsed-nav")):(a.removeClass("collapsed"),n.removeClass("collapsed-nav"))},w=function(){a.addClass("collapsed"),n.addClass("collapsed-nav"),s&&d(),r=!0},x=function(){k("html").addClass("transitions")},C=function(){i.on("click",function(e){x(),l()?a.hasClass("show-mobile-nav")?a.removeClass("show-mobile-nav"):(y(),a.addClass("show-mobile-nav")):a.hasClass("collapsed")?(window.localStorage.setItem("patternfly-navigation-primary","expanded"),a.removeClass("collapsed"),n.removeClass("collapsed-nav"),r=!1,s||c(100)):(window.localStorage.setItem("patternfly-navigation-primary","collapsed"),w())})},S=function(){a.addClass("force-hide-secondary-nav-pf"),setTimeout(function(){a.removeClass("force-hide-secondary-nav-pf")},500)};k(window).on("resize",function(){b(),x()}),t=e,a.addClass("hide-nav-pf"),n.addClass("hide-nav-pf"),b(),C(),o=t,k(document).find(".nav-pf-vertical > .list-group > .list-group-item").each(function(e,t){var r=k(t);r.on("click.pf.secondarynav.data-api",function(e){var t,n,i=k(this);i.hasClass("secondary-nav-item-pf")?l()?y(i):o&&((t=k(r.find(".nav-pf-secondary-nav > .list-group > .list-group-item")[0])).hasClass("tertiary-nav-item-pf")?(n=t.find(".nav-pf-tertiary-nav > .list-group > .list-group-item")[0],f(k(n),t,r)):p(t,i),e.stopImmediatePropagation()):(d(),l()&&(y(),a.removeClass("show-mobile-nav")),o&&(h(i),e.stopImmediatePropagation()))}),r.find(".nav-pf-secondary-nav > .list-group > .list-group-item").each(function(e,t){var i=k(t);i.on("click.pf.secondarynav.data-api",function(e){var t,n=k(this);n.hasClass("tertiary-nav-item-pf")?l()?(y(n,r),e.stopImmediatePropagation()):o&&(t=i.find(".nav-pf-tertiary-nav > .list-group > .list-group-item")[0],f(k(t),i,r),e.stopImmediatePropagation()):(l()&&(y(),a.removeClass("show-mobile-nav")),g(),o&&(p(i,r),e.stopImmediatePropagation()))}),i.find(".nav-pf-tertiary-nav > .list-group > .list-group-item").each(function(e,t){var n=k(t);n.on("click.pf.secondarynav.data-api",function(e){l()&&(y(),a.removeClass("show-mobile-nav")),g(),o&&(f(n,i,r),e.stopImmediatePropagation())})})})}),k(document).find(".secondary-nav-item-pf").each(function(e,t){var n=k(t);n.on("click.pf.secondarynav.data-api",'[data-toggle="collapse-secondary-nav"]',function(e){var t=k(this);l()?(y(),e.stopImmediatePropagation()):t.hasClass("collapsed")?(window.localStorage.setItem("patternfly-navigation-secondary","expanded"),window.localStorage.setItem("patternfly-navigation-tertiary","expanded"),m(!1,t),S()):(window.localStorage.setItem("patternfly-navigation-secondary","collapsed"),m(!0,t)),a.removeClass("hover-secondary-nav-pf"),o&&e.stopImmediatePropagation()}),n.find(".tertiary-nav-item-pf").each(function(e,t){k(t).on("click.pf.tertiarynav.data-api",'[data-toggle="collapse-tertiary-nav"]',function(e){var t=k(this);l()?(y(n),e.stopImmediatePropagation()):t.hasClass("collapsed")?(window.localStorage.setItem("patternfly-navigation-secondary","expanded"),window.localStorage.setItem("patternfly-navigation-tertiary","expanded"),v(!1,t),S()):(window.localStorage.setItem("patternfly-navigation-tertiary","collapsed"),v(!0,t)),a.removeClass("hover-secondary-nav-pf"),a.removeClass("hover-tertiary-nav-pf"),o&&e.stopImmediatePropagation()})})}),k(document).on("mouseenter.pf.tertiarynav.data-api",".secondary-nav-item-pf",function(e){var t=k(this);l()||(void 0!==t[0].navUnHoverTimeout?(clearTimeout(t[0].navUnHoverTimeout),t[0].navUnHoverTimeout=void 0):void 0===t[0].navHoverTimeout&&(t[0].navHoverTimeout=setTimeout(function(){a.addClass("hover-secondary-nav-pf"),t.addClass("is-hover"),t[0].navHoverTimeout=void 0},500)))}),k(document).on("mouseleave.pf.tertiarynav.data-api",".secondary-nav-item-pf",function(e){var t=k(this);void 0!==t[0].navHoverTimeout?(clearTimeout(t[0].navHoverTimeout),t[0].navHoverTimeout=void 0):void 0===t[0].navUnHoverTimeout&&(t[0].navUnHoverTimeout=setTimeout(function(){a.find(".secondary-nav-item-pf.is-hover").length<=1&&a.removeClass("hover-secondary-nav-pf"),t.removeClass("is-hover"),t[0].navUnHoverTimeout=void 0},700))}),k(document).on("mouseover.pf.tertiarynav.data-api",".tertiary-nav-item-pf",function(e){var t=k(this);l()||(void 0!==t[0].navUnHoverTimeout?(clearTimeout(t[0].navUnHoverTimeout),t[0].navUnHoverTimeout=void 0):void 0===t[0].navHoverTimeout&&(t[0].navHoverTimeout=setTimeout(function(){a.addClass("hover-tertiary-nav-pf"),t.addClass("is-hover"),t[0].navHoverTimeout=void 0},500)))}),k(document).on("mouseout.pf.tertiarynav.data-api",".tertiary-nav-item-pf",function(e){var t=k(this);void 0!==t[0].navHoverTimeout?(clearTimeout(t[0].navHoverTimeout),t[0].navHoverTimeout=void 0):void 0===t[0].navUnHoverTimeout&&(t[0].navUnHoverTimeout=setTimeout(function(){a.find(".tertiary-nav-item-pf.is-hover").length<=1&&a.removeClass("hover-tertiary-nav-pf"),t.removeClass("is-hover"),t[0].navUnHoverTimeout=void 0},700))}),k('.nav-pf-vertical [data-toggle="tooltip"]').tooltip({container:"body",placement:"bottom",delay:{show:"500",hide:"200"},template:'<div class="nav-pf-vertical-tooltip tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),k(".nav-pf-vertical").on("show.bs.tooltip",function(e){return k(this).hasClass("collapsed")}),l()||("collapsed"===window.localStorage.getItem("patternfly-navigation-primary")&&w(),0<k(".nav-pf-vertical.nav-pf-vertical-collapsible-menus").length&&("collapsed"===window.localStorage.getItem("patternfly-navigation-secondary")&&m(!0,k(".secondary-nav-item-pf.active [data-toggle=collapse-secondary-nav]")),"collapsed"===window.localStorage.getItem("patternfly-navigation-tertiary")&&v(!0,k(".tertiary-nav-item-pf.active [data-toggle=collapse-tertiary-nav]")))),a.removeClass("hide-nav-pf"),n.removeClass("hide-nav-pf"),c(250)}}(jQuery),function(q){"use strict";function x(o,a){return a=a||Error,function(){var e,t,n=arguments,i=n[0],r="["+(o?o+":":"")+i+"] ";for(r+=n[1].replace(/\{\d+\}/g,function(e){var t=+e.slice(1,-1)+2;return t<n.length?He(n[t]):e}),r+="\nhttp://errors.angularjs.org/1.5.11/"+(o?o+"/":"")+i,t=2,e="?";t<n.length;t++,e="&")r+=e+"p"+(t-2)+"="+encodeURIComponent(He(n[t]));return new a(r)}}var o=/^\/(.+)\/([a-z]*)$/,d="validity",H=Object.prototype.hasOwnProperty,k=function(e){return be(e)?e.toLowerCase():e},u=function(e){return be(e)?e.toUpperCase():e};"i"!=="I".toLowerCase()&&(k=function(e){return be(e)?e.replace(/[A-Z]/g,function(e){return String.fromCharCode(32|e.charCodeAt(0))}):e},u=function(e){return be(e)?e.replace(/[a-z]/g,function(e){return String.fromCharCode(-33&e.charCodeAt(0))}):e});var B,ue,a,m,s=[].slice,i=[].splice,e=[].push,V=Object.prototype.toString,l=Object.getPrototypeOf,c=x("ng"),b=q.angular||(q.angular={}),t=0;function O(e){if(null==e||E(e))return!1;if(we(e)||be(e)||ue&&e instanceof ue)return!0;var t="length"in Object(e)&&e.length;return C(t)&&(0<=t&&(t-1 in e||e instanceof Array)||"function"==typeof e.item)}function de(e,t,n){var i,r;if(e)if(xe(e))for(i in e)"prototype"===i||"length"===i||"name"===i||e.hasOwnProperty&&!e.hasOwnProperty(i)||t.call(n,e[i],i,e);else if(we(e)||O(e)){var o="object"!=typeof e;for(i=0,r=e.length;i<r;i++)(o||i in e)&&t.call(n,e[i],i,e)}else if(e.forEach&&e.forEach!==de)e.forEach(t,n,e);else if(w(e))for(i in e)t.call(n,e[i],i,e);else if("function"==typeof e.hasOwnProperty)for(i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i,e);else for(i in e)H.call(e,i)&&t.call(n,e[i],i,e);return e}function h(e,t,n){for(var i=Object.keys(e).sort(),r=0;r<i.length;r++)t.call(n,e[i[r]],i[r]);return i}function v(n){return function(e,t){n(t,e)}}function D(){return++t}function p(e,t){t?e.$$hashKey=t:delete e.$$hashKey}function f(e,t,n){for(var i=e.$$hashKey,r=0,o=t.length;r<o;++r){var a=t[r];if(ye(a)||xe(a))for(var s=Object.keys(a),l=0,c=s.length;l<c;l++){var u=s[l],d=a[u];n&&ye(d)?S(d)?e[u]=new Date(d.valueOf()):_(d)?e[u]=new RegExp(d):d.nodeName?e[u]=d.cloneNode(!0):M(d)?e[u]=d.clone():(ye(e[u])||(e[u]=we(d)?[]:{}),f(e[u],[d],!0)):e[u]=d}}return p(e,i),e}function he(e){return f(e,s.call(arguments,1),!1)}function n(e){return f(e,s.call(arguments,1),!0)}function g(e){return parseInt(e,10)}B=q.document.documentMode;var A=Number.isNaN||function(e){return e!=e};function pe(e,t){return he(Object.create(e),t)}function fe(){}function ge(e){return e}function T(e){return function(){return e}}function y(e){return xe(e.toString)&&e.toString!==V}function me(e){return void 0===e}function ve(e){return void 0!==e}function ye(e){return null!==e&&"object"==typeof e}function w(e){return null!==e&&"object"==typeof e&&!l(e)}function be(e){return"string"==typeof e}function C(e){return"number"==typeof e}function S(e){return"[object Date]"===V.call(e)}fe.$inject=[],ge.$inject=[];var we=Array.isArray;function xe(e){return"function"==typeof e}function _(e){return"[object RegExp]"===V.call(e)}function E(e){return e&&e.window===e}function Ce(e){return e&&e.$evalAsync&&e.$watch}function Se(e){return"boolean"==typeof e}function I(e){return e&&xe(e.then)}var P=/^\[object (?:Uint8|Uint8Clamped|Uint16|Uint32|Int8|Int16|Int32|Float32|Float64)Array]$/;var ke=function(e){return be(e)?e.trim():e},$=function(e){return e.replace(/([-()[\]{}+?*.$^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")};function M(e){return!(!e||!(e.nodeName||e.prop&&e.attr&&e.find))}function _e(e){return k(e.nodeName||e[0]&&e[0].nodeName)}function Te(e,t){var n=e.indexOf(t);return 0<=n&&e.splice(n,1),n}function N(e,n){var t,i,r=[],o=[];if(n){if((i=n)&&C(i.length)&&P.test(V.call(i))||(t=n,"[object ArrayBuffer]"===V.call(t)))throw c("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e===n)throw c("cpi","Can't copy! Source and destination are identical.");return we(n)?n.length=0:de(n,function(e,t){"$$hashKey"!==t&&delete n[t]}),r.push(e),o.push(n),a(e,n)}return s(e);function a(e,t){var n,i=t.$$hashKey;if(we(e))for(var r=0,o=e.length;r<o;r++)t.push(s(e[r]));else if(w(e))for(n in e)t[n]=s(e[n]);else if(e&&"function"==typeof e.hasOwnProperty)for(n in e)e.hasOwnProperty(n)&&(t[n]=s(e[n]));else for(n in e)H.call(e,n)&&(t[n]=s(e[n]));return p(t,i),t}function s(e){if(!ye(e))return e;var t=r.indexOf(e);if(-1!==t)return o[t];if(E(e)||Ce(e))throw c("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");var n=!1,i=function(e){switch(V.call(e)){case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return new e.constructor(s(e.buffer),e.byteOffset,e.length);case"[object ArrayBuffer]":if(e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength);return new Uint8Array(t).set(new Uint8Array(e)),t;case"[object Boolean]":case"[object Number]":case"[object String]":case"[object Date]":return new e.constructor(e.valueOf());case"[object RegExp]":var n=new RegExp(e.source,e.toString().match(/[^/]*$/)[0]);return n.lastIndex=e.lastIndex,n;case"[object Blob]":return new e.constructor([e],{type:e.type})}if(xe(e.cloneNode))return e.cloneNode(!0)}(e);return void 0===i&&(i=we(e)?[]:Object.create(l(e)),n=!0),r.push(e),o.push(i),n?a(e,i):i}}function De(e,t){if(e===t)return!0;if(null===e||null===t)return!1;if(e!=e&&t!=t)return!0;var n,i,r,o=typeof e;if(o===typeof t&&"object"===o){if(!we(e)){if(S(e))return!!S(t)&&De(e.getTime(),t.getTime());if(_(e))return!!_(t)&&e.toString()===t.toString();if(Ce(e)||Ce(t)||E(e)||E(t)||we(t)||S(t)||_(t))return!1;for(i in r=Oe(),e)if("$"!==i.charAt(0)&&!xe(e[i])){if(!De(e[i],t[i]))return!1;r[i]=!0}for(i in t)if(!(i in r)&&"$"!==i.charAt(0)&&ve(t[i])&&!xe(t[i]))return!1;return!0}if(!we(t))return!1;if((n=e.length)===t.length){for(i=0;i<n;i++)if(!De(e[i],t[i]))return!1;return!0}}return!1}var L=function(){if(!ve(L.rules)){var e=q.document.querySelector("[ng-csp]")||q.document.querySelector("[data-ng-csp]");if(e){var t=e.getAttribute("ng-csp")||e.getAttribute("data-ng-csp");L.rules={noUnsafeEval:!t||-1!==t.indexOf("no-unsafe-eval"),noInlineStyle:!t||-1!==t.indexOf("no-inline-style")}}else L.rules={noUnsafeEval:function(){try{return new Function(""),!1}catch(e){return!0}}(),noInlineStyle:!1}}return L.rules},j=function(){if(ve(j.name_))return j.name_;var e,t,n,i,r=Z.length;for(t=0;t<r;++t)if(n=Z[t],e=q.document.querySelector("["+n.replace(":","\\:")+"jq]")){i=e.getAttribute(n+"jq");break}return j.name_=i};function R(e,t,n){return e.concat(s.call(t,n))}function Ae(e,t){return s.call(e,t||0)}function Ee(e,t){var n=2<arguments.length?Ae(arguments,2):[];return!xe(t)||t instanceof RegExp?t:n.length?function(){return arguments.length?t.apply(e,R(n,arguments,0)):t.apply(e,n)}:function(){return arguments.length?t.apply(e,arguments):t.call(e)}}function r(e,t){var n=t;return"string"==typeof e&&"$"===e.charAt(0)&&"$"===e.charAt(1)?n=void 0:E(t)?n="$WINDOW":t&&q.document===t?n="$DOCUMENT":Ce(t)&&(n="$SCOPE"),n}function F(e,t){if(!me(e))return C(t)||(t=t?2:null),JSON.stringify(e,r,t)}function U(e){return be(e)?JSON.parse(e):e}var z=/:/g;function W(e,t){e=e.replace(z,"");var n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return A(n)?t:n}function G(e,t,n){n=n?-1:1;var i,r,o=e.getTimezoneOffset(),a=W(t,o);return i=e,r=n*(a-o),(i=new Date(i.getTime())).setMinutes(i.getMinutes()+r),i}function Ie(e){e=ue(e).clone();try{e.empty()}catch(e){}var t=ue("<div>").append(e).html();try{return e[0].nodeType===Le?k(t):t.match(/^(<[^>]+>)/)[1].replace(/^<([\w-]+)/,function(e,t){return"<"+k(t)})}catch(e){return k(t)}}function Y(e){try{return decodeURIComponent(e)}catch(e){}}function X(e){var r={};return de((e||"").split("&"),function(e){var t,n,i;e&&(n=e=e.replace(/\+/g,"%20"),-1!==(t=e.indexOf("="))&&(n=e.substring(0,t),i=e.substring(t+1)),ve(n=Y(n))&&(i=!ve(i)||Y(i),H.call(r,n)?we(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i))}),r}function J(e){var n=[];return de(e,function(e,t){we(e)?de(e,function(e){n.push(Q(t,!0)+(!0===e?"":"="+Q(e,!0)))}):n.push(Q(t,!0)+(!0===e?"":"="+Q(e,!0)))}),n.length?n.join("&"):""}function K(e){return Q(e,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function Q(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,t?"%20":"+")}var Z=["ng-","data-ng-","ng:","x-ng-"];var ee=function(e){var t=e.currentScript,n=t&&t.getAttribute("src");if(!n)return!0;var i=e.createElement("a");if(i.href=n,e.location.origin===i.origin)return!0;switch(i.protocol){case"http:":case"https:":case"ftp:":case"blob:":case"file:":case"data:":return!0;default:return!1}}(q.document);function te(i,e){var r,o,t={};if(de(Z,function(e){var t=e+"app";!r&&i.hasAttribute&&i.hasAttribute(t)&&(o=(r=i).getAttribute(t))}),de(Z,function(e){var t,n=e+"app";!r&&(t=i.querySelector("["+n.replace(":","\\:")+"]"))&&(o=(r=t).getAttribute(n))}),r){if(!ee)return void q.console.error("Angular: disabling automatic bootstrap. <script> protocol indicates an extension, document.location.href does not match.");t.strictDi=null!==function(e,t){var n,i,r=Z.length;for(i=0;i<r;++i)if(n=Z[i]+t,be(n=e.getAttribute(n)))return n;return null}(r,"strict-di"),e(r,o?[o]:[],t)}}function ne(n,i,r){ye(r)||(r={});r=he({strictDi:!1},r);var t=function(){if((n=ue(n)).injector()){var e=n[0]===q.document?"document":Ie(n);throw c("btstrpd","App already bootstrapped with this element '{0}'",e.replace(/</,"&lt;").replace(/>/,"&gt;"))}(i=i||[]).unshift(["$provide",function(e){e.value("$rootElement",n)}]),r.debugInfoEnabled&&i.push(["$compileProvider",function(e){e.debugInfoEnabled(!0)}]),i.unshift("ng");var t=Bt(i,r.strictDi);return t.invoke(["$rootScope","$rootElement","$compile","$injector",function(e,t,n,i){e.$apply(function(){t.data("$injector",i),n(t)(e)})}]),t},e=/^NG_ENABLE_DEBUG_INFO!/,o=/^NG_DEFER_BOOTSTRAP!/;if(q&&e.test(q.name)&&(r.debugInfoEnabled=!0,q.name=q.name.replace(e,"")),q&&!o.test(q.name))return t();q.name=q.name.replace(o,""),b.resumeBootstrap=function(e){return de(e,function(e){i.push(e)}),t()},xe(b.resumeDeferredBootstrap)&&b.resumeDeferredBootstrap()}function ie(){q.name="NG_ENABLE_DEBUG_INFO!"+q.name,q.location.reload()}function re(e){var t=b.element(e).injector();if(!t)throw c("test","no injector found for element argument to getTestability");return t.get("$$testability")}var oe=/[A-Z]/g;function Pe(e,n){return n=n||"_",e.replace(oe,function(e,t){return(t?n:"")+e.toLowerCase()})}var ae=!1;function $e(e,t,n){if(!e)throw c("areq","Argument '{0}' is {1}",t||"?",n||"required");return e}function se(e,t,n){return n&&we(e)&&(e=e[e.length-1]),$e(xe(e),t,"not a function, got "+(e&&"object"==typeof e?e.constructor.name||"Object":typeof e)),e}function le(e,t){if("hasOwnProperty"===e)throw c("badname","hasOwnProperty is not a valid {0} name",t)}function ce(e,t,n){if(!t)return e;for(var i,r=t.split("."),o=e,a=r.length,s=0;s<a;s++)i=r[s],e&&(e=(o=e)[i]);return!n&&xe(e)?Ee(o,e):e}function Me(e){for(var t,n=e[0],i=e[e.length-1],r=1;n!==i&&(n=n.nextSibling);r++)(t||e[r]!==n)&&(t||(t=ue(s.call(e,0,r))),t.push(n));return t||e}function Oe(){return Object.create(null)}var Ne=1,Le=3,je=8,Re=9,Fe=11;function qe(e,t){if(we(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(ye(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}function He(e){return"function"==typeof e?e.toString().replace(/ \{[\s\S]*$/,""):me(e)?"undefined":"string"!=typeof e?(t=e,n=[],JSON.stringify(t,function(e,t){if(ye(t=r(e,t))){if(0<=n.indexOf(t))return"...";n.push(t)}return t})):e;var t,n}var Be={full:"1.5.11",major:1,minor:5,dot:11,codeName:"princely-quest"};lt.expando="ng339";var Ve=lt.cache={},Ue=1,ze=function(e,t,n){e.addEventListener(t,n,!1)},We=function(e,t,n){e.removeEventListener(t,n,!1)};lt._data=function(e){return this.cache[e[this.expando]]||{}};var Ge=/([:\-_]+(.))/g,Ye=/^moz([A-Z])/,Xe={mouseleave:"mouseout",mouseenter:"mouseover"},Je=x("jqLite");function Ke(e){return e.replace(Ge,function(e,t,n,i){return i?n.toUpperCase():n}).replace(Ye,"Moz$1")}var Qe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ze=/<|&#?\w+;/,et=/<([\w:-]+)/,tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function it(e){return!Ze.test(e)}function rt(e){var t=e.nodeType;return t===Ne||!t||t===Re}function ot(e,t){var n,i,r,o,a=t.createDocumentFragment(),s=[];if(it(e))s.push(t.createTextNode(e));else{for(n=a.appendChild(t.createElement("div")),i=(et.exec(e)||["",""])[1].toLowerCase(),r=nt[i]||nt._default,n.innerHTML=r[1]+e.replace(tt,"<$1></$2>")+r[2],o=r[0];o--;)n=n.lastChild;s=R(s,n.childNodes),(n=a.firstChild).textContent=""}return a.textContent="",a.innerHTML="",de(s,function(e){a.appendChild(e)}),a}function at(e,t){var n=e.parentNode;n&&n.replaceChild(t,e),t.appendChild(e)}nt.optgroup=nt.option,nt.tbody=nt.tfoot=nt.colgroup=nt.caption=nt.thead,nt.th=nt.td;var st=q.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))};function lt(e){if(e instanceof lt)return e;var t,n,i,r;if(be(e)&&(e=ke(e),t=!0),!(this instanceof lt)){if(t&&"<"!==e.charAt(0))throw Je("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new lt(e)}yt(this,t?(n=e,i=i||q.document,(r=Qe.exec(n))?[i.createElement(r[1])]:(r=ot(n,i))?r.childNodes:[]):e)}function ct(e){return e.cloneNode(!0)}function ut(e,t){if(t||ht(e),e.querySelectorAll)for(var n=e.querySelectorAll("*"),i=0,r=n.length;i<r;i++)ht(n[i])}function dt(n,e,i,t){if(ve(t))throw Je("offargs","jqLite#off() does not support the `selector` argument");var r=pt(n),o=r&&r.events,a=r&&r.handle;if(a)if(e){var s=function(e){var t=o[e];ve(i)&&Te(t||[],i),ve(i)&&t&&0<t.length||(We(n,e,a),delete o[e])};de(e.split(" "),function(e){s(e),Xe[e]&&s(Xe[e])})}else for(e in o)"$destroy"!==e&&We(n,e,a),delete o[e]}function ht(e,t){var n=e.ng339,i=n&&Ve[n];if(i){if(t)return void delete i.data[t];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),dt(e)),delete Ve[n],e.ng339=void 0}}function pt(e,t){var n=e.ng339,i=n&&Ve[n];return t&&!i&&(e.ng339=n=++Ue,i=Ve[n]={events:{},data:{},handle:void 0}),i}function ft(e,t,n){if(rt(e)){var i=ve(n),r=!i&&t&&!ye(t),o=!t,a=pt(e,!r),s=a&&a.data;if(i)s[t]=n;else{if(o)return s;if(r)return s&&s[t];he(s,t)}}}function gt(e,t){return!!e.getAttribute&&-1<(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+t+" ")}function mt(t,e){e&&t.setAttribute&&de(e.split(" "),function(e){t.setAttribute("class",ke((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+ke(e)+" "," ")))})}function vt(e,t){if(t&&e.setAttribute){var n=(" "+(e.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");de(t.split(" "),function(e){e=ke(e),-1===n.indexOf(" "+e+" ")&&(n+=e+" ")}),e.setAttribute("class",ke(n))}}function yt(e,t){if(t)if(t.nodeType)e[e.length++]=t;else{var n=t.length;if("number"==typeof n&&t.window!==t){if(n)for(var i=0;i<n;i++)e[e.length++]=t[i]}else e[e.length++]=t}}function bt(e,t){return wt(e,"$"+(t||"ngController")+"Controller")}function wt(e,t,n){e.nodeType===Re&&(e=e.documentElement);for(var i=we(t)?t:[t];e;){for(var r=0,o=i.length;r<o;r++)if(ve(n=ue.data(e,i[r])))return n;e=e.parentNode||e.nodeType===Fe&&e.host}}function xt(e){for(ut(e,!0);e.firstChild;)e.removeChild(e.firstChild)}function Ct(e,t){t||ut(e);var n=e.parentNode;n&&n.removeChild(e)}var St=lt.prototype={ready:function(e){var t=!1;function n(){t||(t=!0,e())}"complete"===q.document.readyState?q.setTimeout(n):(this.on("DOMContentLoaded",n),lt(q).on("load",n))},toString:function(){var t=[];return de(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(e){return ue(0<=e?this[e]:this[this.length+e])},length:0,push:e,sort:[].sort,splice:[].splice},kt={};de("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(e){kt[k(e)]=e});var _t={};de("input,select,option,textarea,button,form,details".split(","),function(e){_t[e]=!0});var Tt={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};function Dt(e,t){var n=kt[t.toLowerCase()];return n&&_t[_e(e)]&&n}function At(e,t,n){n.call(e,t)}function Et(e,t,n){var i=t.relatedTarget;i&&(i===e||st.call(e,i))||n.call(e,t)}function It(){this.$get=function(){return he(lt,{hasClass:function(e,t){return e.attr&&(e=e[0]),gt(e,t)},addClass:function(e,t){return e.attr&&(e=e[0]),vt(e,t)},removeClass:function(e,t){return e.attr&&(e=e[0]),mt(e,t)}})}}function Pt(e,t){var n=e&&e.$$hashKey;if(n)return"function"==typeof n&&(n=e.$$hashKey()),n;var i=typeof e;return n="function"===i||"object"===i&&null!==e?e.$$hashKey=i+":"+(t||D)():i+":"+e}function $t(e,t){if(t){var n=0;this.nextUid=function(){return++n}}de(e,this.put,this)}de({data:ft,removeData:ht,hasData:function(e){for(var t in Ve[e.ng339])return!0;return!1},cleanData:function(e){for(var t=0,n=e.length;t<n;t++)ht(e[t])}},function(e,t){lt[t]=e}),de({data:ft,inheritedData:wt,scope:function(e){return ue.data(e,"$scope")||wt(e.parentNode||e,["$isolateScope","$scope"])},isolateScope:function(e){return ue.data(e,"$isolateScope")||ue.data(e,"$isolateScopeNoTemplate")},controller:bt,injector:function(e){return wt(e,"$injector")},removeAttr:function(e,t){e.removeAttribute(t)},hasClass:gt,css:function(e,t,n){if(t=Ke(t),!ve(n))return e.style[t];e.style[t]=n},attr:function(e,t,n){var i=e.nodeType;if(i!==Le&&2!==i&&i!==je){var r=k(t);if(kt[r]){if(!ve(n))return e[t]||(e.attributes.getNamedItem(t)||fe).specified?r:void 0;n?(e[t]=!0,e.setAttribute(t,r)):(e[t]=!1,e.removeAttribute(r))}else if(ve(n))e.setAttribute(t,n);else if(e.getAttribute){var o=e.getAttribute(t,2);return null===o?void 0:o}}},prop:function(e,t,n){if(!ve(n))return e[t];e[t]=n},text:function(){return e.$dv="",e;function e(e,t){if(me(t)){var n=e.nodeType;return n===Ne||n===Le?e.textContent:""}e.textContent=t}}(),val:function(e,t){if(me(t)){if(e.multiple&&"select"===_e(e)){var n=[];return de(e.options,function(e){e.selected&&n.push(e.value||e.text)}),0===n.length?null:n}return e.value}e.value=t},html:function(e,t){if(me(t))return e.innerHTML;ut(e,!0),e.innerHTML=t},empty:xt},function(c,e){lt.prototype[e]=function(e,t){var n,i,r=this.length;if(c!==xt&&me(2===c.length&&c!==gt&&c!==bt?e:t)){if(ye(e)){for(n=0;n<r;n++)if(c===ft)c(this[n],e);else for(i in e)c(this[n],i,e[i]);return this}for(var o=c.$dv,a=me(o)?Math.min(r,1):r,s=0;s<a;s++){var l=c(this[s],e,t);o=o?o+l:l}return o}for(n=0;n<r;n++)c(this[n],e,t);return this}}),de({removeData:ht,on:function(r,e,o,t){if(ve(t))throw Je("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(rt(r)){var s,l,n,i=pt(r,!0),a=i.events,c=i.handle;c||(c=i.handle=(l=a,(n=function(e,t){e.isDefaultPrevented=function(){return e.defaultPrevented};var n=l[t||e.type],i=n?n.length:0;if(i){if(me(e.immediatePropagationStopped)){var r=e.stopImmediatePropagation;e.stopImmediatePropagation=function(){e.immediatePropagationStopped=!0,e.stopPropagation&&e.stopPropagation(),r&&r.call(e)}}e.isImmediatePropagationStopped=function(){return!0===e.immediatePropagationStopped};var o=n.specialHandlerWrapper||At;1<i&&(n=qe(n));for(var a=0;a<i;a++)e.isImmediatePropagationStopped()||o(s,e,n[a])}}).elem=s=r,n));for(var u=0<=e.indexOf(" ")?e.split(" "):[e],d=u.length,h=function(e,t,n){var i=a[e];i||((i=a[e]=[]).specialHandlerWrapper=t,"$destroy"===e||n||ze(r,e,c)),i.push(o)};d--;)e=u[d],Xe[e]?(h(Xe[e],Et),h(e,void 0,!0)):h(e)}},off:dt,one:function(t,n,i){(t=ue(t)).on(n,function e(){t.off(n,i),t.off(n,e)}),t.on(n,i)},replaceWith:function(t,e){var n,i=t.parentNode;ut(t),de(new lt(e),function(e){n?i.insertBefore(e,n.nextSibling):i.replaceChild(e,t),n=e})},children:function(e){var t=[];return de(e.childNodes,function(e){e.nodeType===Ne&&t.push(e)}),t},contents:function(e){return e.contentDocument||e.childNodes||[]},append:function(e,t){var n=e.nodeType;if(n===Ne||n===Fe)for(var i=0,r=(t=new lt(t)).length;i<r;i++){var o=t[i];e.appendChild(o)}},prepend:function(t,e){if(t.nodeType===Ne){var n=t.firstChild;de(new lt(e),function(e){t.insertBefore(e,n)})}},wrap:function(e,t){at(e,ue(t).eq(0).clone()[0])},remove:Ct,detach:function(e){Ct(e,!0)},after:function(e,t){var n=e,i=e.parentNode;if(i)for(var r=0,o=(t=new lt(t)).length;r<o;r++){var a=t[r];i.insertBefore(a,n.nextSibling),n=a}},addClass:vt,removeClass:mt,toggleClass:function(n,e,i){e&&de(e.split(" "),function(e){var t=i;me(t)&&(t=!gt(n,e)),(t?vt:mt)(n,e)})},parent:function(e){var t=e.parentNode;return t&&t.nodeType!==Fe?t:null},next:function(e){return e.nextElementSibling},find:function(e,t){return e.getElementsByTagName?e.getElementsByTagName(t):[]},clone:ct,triggerHandler:function(t,e,n){var i,r,o,a=e.type||e,s=pt(t),l=s&&s.events,c=l&&l[a];c&&(i={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return!0===this.defaultPrevented},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return!0===this.immediatePropagationStopped},stopPropagation:fe,type:a,target:t},e.type&&(i=he(i,e)),r=qe(c),o=n?[i].concat(n):[i],de(r,function(e){i.isImmediatePropagationStopped()||e.apply(t,o)}))}},function(a,e){lt.prototype[e]=function(e,t,n){for(var i,r=0,o=this.length;r<o;r++)me(i)?ve(i=a(this[r],e,t,n))&&(i=ue(i)):yt(i,a(this[r],e,t,n));return ve(i)?i:this}}),lt.prototype.bind=lt.prototype.on,lt.prototype.unbind=lt.prototype.off,$t.prototype={put:function(e,t){this[Pt(e,this.nextUid)]=t},get:function(e){return this[Pt(e,this.nextUid)]},remove:function(e){var t=this[e=Pt(e,this.nextUid)];return delete this[e],t}};var Mt=[function(){this.$get=[function(){return $t}]}],Ot=/^([^(]+?)=>/,Nt=/^[^(]*\(\s*([^)]*)\)/m,Lt=/,/,jt=/^\s*(_?)(\S+?)\1\s*$/,Rt=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ft=x("$injector");function qt(e){return Function.prototype.toString.call(e)+" "}function Ht(e){var t=qt(e).replace(Rt,"");return t.match(Ot)||t.match(Nt)}function Bt(e,c){c=!0===c;var r={},o="Provider",s=[],a=new $t([],!0),u={$provide:{provider:h(p),factory:h(f),service:h(function(e,t){return f(e,["$injector",function(e){return e.instantiate(t)}])}),value:h(function(e,t){return f(e,T(t),!1)}),constant:h(function(e,t){le(e,"constant"),u[e]=t,n[e]=t}),decorator:function(e,t){var n=l.get(e+o),i=n.$get;n.$get=function(){var e=d.invoke(i,n);return d.invoke(t,null,{$delegate:e})}}}},l=u.$injector=g(u,function(e,t){throw b.isString(t)&&s.push(t),Ft("unpr","Unknown provider: {0}",s.join(" <- "))}),n={},t=g(n,function(e,t){var n=l.get(e+o,t);return d.invoke(n.$get,n,void 0,e)}),d=t;u["$injector"+o]={$get:T(t)};var i=function n(e){$e(me(e)||we(e),"modulesToLoad","not an array");var i,r=[];de(e,function(t){if(!a.get(t)){a.put(t,!0);try{be(t)?(i=m(t),r=r.concat(n(i.requires)).concat(i._runBlocks),e(i._invokeQueue),e(i._configBlocks)):xe(t)?r.push(l.invoke(t)):we(t)?r.push(l.invoke(t)):se(t,"module")}catch(e){throw we(t)&&(t=t[t.length-1]),e.message&&e.stack&&-1===e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),Ft("modulerr","Failed to instantiate module {0} due to:\n{1}",t,e.stack||e.message||e)}}function e(e){var t,n;for(t=0,n=e.length;t<n;t++){var i=e[t],r=l.get(i[0]);r[i[1]].apply(r,i[2])}}});return r}(e);return(d=t.get("$injector")).strictDi=c,de(i,function(e){e&&d.invoke(e)}),d;function h(n){return function(e,t){if(!ye(e))return n(e,t);de(e,v(n))}}function p(e,t){if(le(e,"service"),(xe(t)||we(t))&&(t=l.instantiate(t)),!t.$get)throw Ft("pget","Provider '{0}' must define $get factory method.",e);return u[e+o]=t}function f(e,t,n){return p(e,{$get:!1!==n?(i=e,r=t,function(){var e=d.invoke(r,this);if(me(e))throw Ft("undef","Provider '{0}' must return a value from $get factory method.",i);return e}):t});var i,r}function g(n,i){function l(t,e){if(n.hasOwnProperty(t)){if(n[t]===r)throw Ft("cdep","Circular dependency found: {0}",t+" <- "+s.join(" <- "));return n[t]}try{return s.unshift(t),n[t]=r,n[t]=i(t,e),n[t]}catch(e){throw n[t]===r&&delete n[t],e}finally{s.shift()}}function a(e,t,n){for(var i=[],r=Bt.$$annotate(e,c,n),o=0,a=r.length;o<a;o++){var s=r[o];if("string"!=typeof s)throw Ft("itkn","Incorrect injection token! Expected service name as string, got {0}",s);i.push(t&&t.hasOwnProperty(s)?t[s]:l(s,n))}return i}return{invoke:function(e,t,n,i){"string"==typeof n&&(i=n,n=null);var r,o=a(e,n,i);return we(e)&&(e=e[e.length-1]),r=e,B<=11||"function"!=typeof r||!/^(?:class\b|constructor\()/.test(qt(r))?e.apply(t,o):(o.unshift(null),new(Function.prototype.bind.apply(e,o)))},instantiate:function(e,t,n){var i=we(e)?e[e.length-1]:e,r=a(e,t,n);return r.unshift(null),new(Function.prototype.bind.apply(i,r))},get:l,annotate:Bt.$$annotate,has:function(e){return u.hasOwnProperty(e+o)||n.hasOwnProperty(e)}}}}function Vt(){var e=!0;this.disableAutoScrolling=function(){e=!1},this.$get=["$window","$location","$rootScope",function(i,r,o){var a=i.document;function s(e){if(e){e.scrollIntoView();var t=function(){var e=l.yOffset;if(xe(e))e=e();else if(M(e)){var t=e[0];e="fixed"!==i.getComputedStyle(t).position?0:t.getBoundingClientRect().bottom}else C(e)||(e=0);return e}();if(t){var n=e.getBoundingClientRect().top;i.scrollBy(0,n-t)}}else i.scrollTo(0,0)}function l(e){var t,n,i;(e=be(e)?e:C(e)?e.toString():r.hash())?(t=a.getElementById(e))?s(t):(n=a.getElementsByName(e),i=null,Array.prototype.some.call(n,function(e){if("a"===_e(e))return i=e,!0}),(t=i)?s(t):"top"===e&&s(null)):s(null)}return e&&o.$watch(function(){return r.hash()},function(e,t){var n,i;e===t&&""===e||(n=function(){o.$evalAsync(l)},"complete"===(i=i||q).document.readyState?i.setTimeout(n):ue(i).on("load",n))}),l}]}Bt.$$annotate=function(e,t,n){var i,r,o;if("function"==typeof e){if(!(i=e.$inject)){if(i=[],e.length){if(t)throw be(n)&&n||(n=e.name||((o=Ht(e))?"function("+(o[1]||"").replace(/[\s\r\n]+/," ")+")":"fn")),Ft("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);de(Ht(e)[1].split(Lt),function(e){e.replace(jt,function(e,t,n){i.push(n)})})}e.$inject=i}}else we(e)?(se(e[r=e.length-1],"fn"),i=e.slice(0,r)):se(e,"fn",!0);return i};var Ut=x("$animate"),zt=1,Wt="ng-animate";function Gt(e,t){return e||t?e?t?(we(e)&&(e=e.join(" ")),we(t)&&(t=t.join(" ")),e+" "+t):e:t:""}function Yt(e){return ye(e)?e:{}}var Xt=function(){this.$get=fe},Jt=function(){var g=new $t,m=[];this.$get=["$$AnimateRunner","$rootScope",function(d,h){return{enabled:fe,on:fe,off:fe,pin:fe,push:function(e,t,n,i){var r,o,a,s,l,c;i&&i(),(n=n||{}).from&&e.css(n.from),n.to&&e.css(n.to),(n.addClass||n.removeClass)&&(r=e,o=n.addClass,a=n.removeClass,s=g.get(r)||{},l=p(s,o,!0),c=p(s,a,!1),(l||c)&&(g.put(r,s),m.push(r),1===m.length&&h.$$postDigest(f)));var u=new d;return u.complete(),u}};function p(t,e,n){var i=!1;return e&&de(e=be(e)?e.split(" "):we(e)?e:[],function(e){e&&(i=!0,t[e]=n)}),i}function f(){de(m,function(e){var t=g.get(e);if(t){var n=function(e){be(e)&&(e=e.split(" "));var t=Oe();return de(e,function(e){e.length&&(t[e]=!0)}),t}(e.attr("class")),i="",r="";de(t,function(e,t){e!==!!n[t]&&(e?i+=(i.length?" ":"")+t:r+=(r.length?" ":"")+t)}),de(e,function(e){i&&vt(e,i),r&&mt(e,r)}),g.remove(e)}}),m.length=0}}]},Kt=["$provide",function(i){var r=this;this.$$registeredAnimations=Object.create(null),this.register=function(e,t){if(e&&"."!==e.charAt(0))throw Ut("notcsel","Expecting class selector starting with '.' got '{0}'.",e);var n=e+"-animation";r.$$registeredAnimations[e.substr(1)]=n,i.factory(n,t)},this.classNameFilter=function(e){if(1===arguments.length&&(this.$$classNameFilter=e instanceof RegExp?e:null,this.$$classNameFilter&&new RegExp("(\\s+|\\/)"+Wt+"(\\s+|\\/)").test(this.$$classNameFilter.toString())))throw Ut("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Wt);return this.$$classNameFilter},this.$get=["$$animateQueue",function(o){function r(e,t,n){if(n){var i=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.nodeType===zt)return n}}(n);!i||i.parentNode||i.previousElementSibling||(n=null)}n?n.after(e):t.prepend(e)}return{on:o.on,off:o.off,pin:o.pin,enabled:o.enabled,cancel:function(e){e.end&&e.end()},enter:function(e,t,n,i){return t=t&&ue(t),n=n&&ue(n),r(e,t=t||n.parent(),n),o.push(e,"enter",Yt(i))},move:function(e,t,n,i){return t=t&&ue(t),n=n&&ue(n),r(e,t=t||n.parent(),n),o.push(e,"move",Yt(i))},leave:function(e,t){return o.push(e,"leave",Yt(t),function(){e.remove()})},addClass:function(e,t,n){return(n=Yt(n)).addClass=Gt(n.addclass,t),o.push(e,"addClass",n)},removeClass:function(e,t,n){return(n=Yt(n)).removeClass=Gt(n.removeClass,t),o.push(e,"removeClass",n)},setClass:function(e,t,n,i){return(i=Yt(i)).addClass=Gt(i.addClass,t),i.removeClass=Gt(i.removeClass,n),o.push(e,"setClass",i)},animate:function(e,t,n,i,r){return(r=Yt(r)).from=r.from?he(r.from,t):t,r.to=r.to?he(r.to,n):n,i=i||"ng-inline-animate",r.tempClasses=Gt(r.tempClasses,i),o.push(e,"animate",r)}}}]}],Qt=function(){this.$get=["$$rAF",function(t){var n=[];function i(e){n.push(e),1<n.length||t(function(){for(var e=0;e<n.length;e++)n[e]();n=[]})}return function(){var t=!1;return i(function(){t=!0}),function(e){t?e():i(e)}}}]},Zt=function(){this.$get=["$q","$sniffer","$$animateAsyncRun","$document","$timeout",function(t,e,i,r,o){function n(e){this.setHost(e);var n=i();this._doneCallbacks=[],this._tick=function(e){var t=r[0];t&&t.hidden?o(e,0,!1):n(e)},this._state=0}return n.chain=function(e,n){var i=0;!function t(){if(i===e.length)return void n(!0);e[i](function(e){!1!==e?(i++,t()):n(!1)})}()},n.all=function(t,n){var i=0,r=!0;function o(e){r=r&&e,++i===t.length&&n(r)}de(t,function(e){e.done(o)})},n.prototype={setHost:function(e){this.host=e||{}},done:function(e){2===this._state?e():this._doneCallbacks.push(e)},progress:fe,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){!1===e?n():t()})})}return this.promise},then:function(e,t){return this.getPromise().then(e,t)},catch:function(e){return this.getPromise().catch(e)},finally:function(e){return this.getPromise().finally(e)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(e){var t=this;0===t._state&&(t._state=1,t._tick(function(){t._resolve(e)}))},_resolve:function(t){2!==this._state&&(de(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=2)}},n}]},en=function(){this.$get=["$$rAF","$q","$$AnimateRunner",function(a,e,s){return function(e,t){var n=t||{};n.$$prepared||(n=N(n)),n.cleanupStyles&&(n.from=n.to=null),n.from&&(e.css(n.from),n.from=null);var i,r=new s;return{start:o,end:o};function o(){return a(function(){!function(){n.addClass&&(e.addClass(n.addClass),n.addClass=null);n.removeClass&&(e.removeClass(n.removeClass),n.removeClass=null);n.to&&(e.css(n.to),n.to=null)}(),i||r.complete(),i=!0}),r}}}]};function tn(s,e,t,l){var c=this,u=s.location,d=s.history,i=s.setTimeout,n=s.clearTimeout,r={};c.isMock=!1;var o=0,a=[];function h(e){try{e.apply(null,Ae(arguments,1))}finally{if(0===--o)for(;a.length;)try{a.pop()()}catch(e){t.error(e)}}}c.$$completeOutstandingRequest=h,c.$$incOutstandingRequestCount=function(){o++},c.notifyWhenNoOutstandingRequests=function(e){0===o?e():a.push(e)};var p,f,g=u.href,m=e.find("base"),v=null,y=l.history?function(){try{return d.state}catch(e){}}:fe;S(),f=p,c.url=function(e,t,n){if(me(n)&&(n=null),u!==s.location&&(u=s.location),d!==s.history&&(d=s.history),e){var i=f===n;if(g===e&&(!l.history||i))return c;var r=g&&Kn(g)===Kn(e);return g=e,f=n,!l.history||r&&i?(r||(v=e),t?u.replace(e):r?u.hash=-1===(a=(o=e).indexOf("#"))?"":o.substr(a):u.href=e,u.href!==e&&(v=e)):(d[t?"replaceState":"pushState"](n,"",e),S(),f=p),v&&(v=e),c}return v||u.href.replace(/%27/g,"'");var o,a},c.state=function(){return p};var b=[],w=!1;function x(){v=null,S(),k()}var C=null;function S(){De(p=me(p=y())?null:p,C)&&(p=C),C=p}function k(){g===c.url()&&f===p||(g=c.url(),f=p,de(b,function(e){e(c.url(),p)}))}c.onUrlChange=function(e){return w||(l.history&&ue(s).on("popstate",x),ue(s).on("hashchange",x),w=!0),b.push(e),e},c.$$applicationDestroyed=function(){ue(s).off("hashchange popstate",x)},c.$$checkUrlChange=k,c.baseHref=function(){var e=m.attr("href");return e?e.replace(/^(https?:)?\/\/[^/]*/,""):""},c.defer=function(e,t){var n;return o++,n=i(function(){delete r[n],h(e)},t||0),r[n]=!0,n},c.defer.cancel=function(e){return!!r[e]&&(delete r[e],n(e),h(fe),!0)}}function nn(){this.$get=["$window","$log","$sniffer","$document",function(e,t,n,i){return new tn(e,i,t,n)}]}function rn(){this.$get=function(){var d={};function e(e,t){if(e in d)throw x("$cacheFactory")("iid","CacheId '{0}' is already taken!",e);var n=0,i=he({},t,{id:e}),r=Oe(),o=t&&t.capacity||Number.MAX_VALUE,a=Oe(),s=null,l=null;return d[e]={put:function(e,t){if(!me(t)){if(o<Number.MAX_VALUE)c(a[e]||(a[e]={key:e}));return e in r||n++,r[e]=t,o<n&&this.remove(l.key),t}},get:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;c(t)}return r[e]},remove:function(e){if(o<Number.MAX_VALUE){var t=a[e];if(!t)return;t===s&&(s=t.p),t===l&&(l=t.n),u(t.n,t.p),delete a[e]}e in r&&(delete r[e],n--)},removeAll:function(){r=Oe(),n=0,a=Oe(),s=l=null},destroy:function(){a=i=r=null,delete d[e]},info:function(){return he({},i,{size:n})}};function c(e){e!==s&&(l?l===e&&(l=e.n):l=e,u(e.n,e.p),u(e,s),(s=e).n=null)}function u(e,t){e!==t&&(e&&(e.p=t),t&&(t.n=e))}}return e.info=function(){var n={};return de(d,function(e,t){n[t]=e.info()}),n},e.get=function(e){return d[e]},e}}function on(){this.$get=["$cacheFactory",function(e){return e("templates")}]}var an=x("$compile");var sn=new function(){};function ln(n,t){var f={},g="Directive",R=/^\s*directive:\s*([\w-]+)\s+(.*)$/,F=/(([\w-]+)(?::([^;]+))?;?)/,u=function(e){var t,n={},i=e.split(",");for(t=0;t<i.length;t++)n[i[t]]=!0;return n}("ngSrc,ngSrcset,src,srcset"),h=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,d=/^(on[a-z]+|formaction)$/,s=Oe();function i(e,i,r){var o=/^\s*([@&<]|=(\*?))(\??)\s*([\w$]*)\s*$/,a=Oe();return de(e,function(e,t){if(e in s)a[t]=s[e];else{var n=e.match(o);if(!n)throw an("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",i,t,e,r?"controller bindings definition":"isolate scope definition");a[t]={mode:n[1][0],collection:"*"===n[2],optional:"?"===n[3],attrName:n[4]||t},n[4]&&(s[e]=a[t])}}),a}function m(e,t){var n={isolateScope:null,bindToController:null};if(ye(e.scope)&&(!0===e.bindToController?(n.bindToController=i(e.scope,t,!0),n.isolateScope={}):n.isolateScope=i(e.scope,t,!1)),ye(e.bindToController)&&(n.bindToController=i(e.bindToController,t,!0)),n.bindToController&&!e.controller)throw an("noctrl","Cannot bind to controller without directive '{0}'s controller.",t);return n}this.directive=function e(l,t){return $e(l,"name"),le(l,"directive"),be(l)?(!function(e){var t=e.charAt(0);if(!t||t!==k(t))throw an("baddir","Directive/Component name '{0}' is invalid. The first character must be a lowercase letter",e);if(e!==e.trim())throw an("baddir","Directive/Component name '{0}' is invalid. The name should not contain leading or trailing whitespaces",e)}(l),$e(t,"directiveFactory"),f.hasOwnProperty(l)||(f[l]=[],n.factory(l+g,["$injector","$exceptionHandler",function(o,a){var s=[];return de(f[l],function(e,t){try{var n=o.invoke(e);xe(n)?n={compile:T(n)}:!n.compile&&n.link&&(n.compile=T(n.link)),n.priority=n.priority||0,n.index=t,n.name=n.name||l,n.require=(r=(i=n).require||i.controller&&i.name,!we(r)&&ye(r)&&de(r,function(e,t){var n=e.match(h);e.substring(n[0].length)||(r[t]=n[0]+t)}),r),n.restrict=function(e,t){if(e&&(!be(e)||!/[EACM]/.test(e)))throw an("badrestrict","Restrict property '{0}' of directive '{1}' is invalid",e,t);return e||"EA"}(n.restrict,l),n.$$moduleName=e.$$moduleName,s.push(n)}catch(e){a(e)}var i,r}),s}])),f[l].push(t)):de(l,v(e)),this},this.component=function(e,r){var o=r.controller||function(){};function n(i){function e(n){return xe(n)||we(n)?function(e,t){return i.invoke(n,this,{$element:e,$attrs:t})}:n}var t=r.template||r.templateUrl?r.template:"",n={controller:o,controllerAs:function(e,t){if(t&&be(t))return t;if(be(e)){var n=gn.exec(e);if(n)return n[3]}}(r.controller)||r.controllerAs||"$ctrl",template:e(t),templateUrl:e(r.templateUrl),transclude:r.transclude,scope:{},bindToController:r.bindings||{},restrict:"E",require:r.require};return de(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e)}),n}return de(r,function(e,t){"$"===t.charAt(0)&&(n[t]=e,xe(o)&&(o[t]=e))}),n.$inject=["$injector"],this.directive(e,n)},this.aHrefSanitizationWhitelist=function(e){return ve(e)?(t.aHrefSanitizationWhitelist(e),this):t.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(e){return ve(e)?(t.imgSrcSanitizationWhitelist(e),this):t.imgSrcSanitizationWhitelist()};var c=!0;this.debugInfoEnabled=function(e){return ve(e)?(c=e,this):c};var ce=!0;this.preAssignBindingsEnabled=function(e){return ve(e)?(ce=e,this):ce};var x=10;this.onChangesTtl=function(e){return arguments.length?(x=e,this):x};var C=!0;this.commentDirectivesEnabled=function(e){return arguments.length?(C=e,this):C};var S=!0;this.cssClassDirectivesEnabled=function(e){return arguments.length?(S=e,this):S},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$sce","$animate","$$sanitizeUri",function(p,_,U,e,b,z,o,r,a,v){var s,y=/^\w/,w=q.document.createElement("div"),T=C,D=S,t=x;function l(){try{if(!--t)throw s=void 0,an("infchng","{0} $onChanges() iterations reached. Aborting!\n",x);o.$apply(function(){for(var t=[],e=0,n=s.length;e<n;++e)try{s[e]()}catch(e){t.push(e)}if(s=void 0,t.length)throw t})}finally{t++}}function W(e,t){if(t){var n,i,r,o=Object.keys(t);for(n=0,i=o.length;n<i;n++)this[r=o[n]]=t[r]}else this.$attr={};this.$$element=e}function A(e,t){try{e.addClass(t)}catch(e){}}W.prototype={$normalize:dn,$addClass:function(e){e&&0<e.length&&a.addClass(this.$$element,e)},$removeClass:function(e){e&&0<e.length&&a.removeClass(this.$$element,e)},$updateClass:function(e,t){var n=hn(e,t);n&&n.length&&a.addClass(this.$$element,n);var i=hn(t,e);i&&i.length&&a.removeClass(this.$$element,i)},$set:function(e,t,n,i){var r,o=Dt(this.$$element[0],e),a=Tt[e],s=e;if(o?(this.$$element.prop(e,t),i=o):a&&(this[a]=t,s=a),this[e]=t,i?this.$attr[e]=i:(i=this.$attr[e])||(this.$attr[e]=i=Pe(e,"-")),"a"===(r=_e(this.$$element))&&("href"===e||"xlinkHref"===e)||"img"===r&&"src"===e)this[e]=t=v(t,"src"===e);else if("img"===r&&"srcset"===e&&ve(t)){for(var l="",c=ke(t),u=/\s/.test(c)?/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/:/(,)/,d=c.split(u),h=Math.floor(d.length/2),p=0;p<h;p++){var f=2*p;l+=v(ke(d[f]),!0),l+=" "+ke(d[f+1])}var g=ke(d[2*p]).split(/\s/);l+=v(ke(g[0]),!0),2===g.length&&(l+=" "+ke(g[1])),this[e]=t=l}!1!==n&&(null===t||me(t)?this.$$element.removeAttr(i):y.test(i)?this.$$element.attr(i,t):function(e,t,n){w.innerHTML="<span "+t+">";var i=w.firstChild.attributes,r=i[0];i.removeNamedItem(r.name),r.value=n,e.attributes.setNamedItem(r)}(this.$$element[0],i,t));var m=this.$$observers;m&&de(m[s],function(e){try{e(t)}catch(e){U(e)}})},$observe:function(e,t){var n=this,i=n.$$observers||(n.$$observers=Oe()),r=i[e]||(i[e]=[]);return r.push(t),o.$evalAsync(function(){r.$$inter||!n.hasOwnProperty(e)||me(n[e])||t(n[e])}),function(){Te(r,t)}}};var n=_.startSymbol(),i=_.endSymbol(),G="{{"===n&&"}}"===i?ge:function(e){return e.replace(/\{\{/g,n).replace(/}}/g,i)},E=/^ngAttr[A-Z]/,I=/^(.+)Start$/;return Y.$$addBindingInfo=c?function(e,t){var n=e.data("$binding")||[];we(t)?n=n.concat(t):n.push(t),e.data("$binding",n)}:fe,Y.$$addBindingClass=c?function(e){A(e,"ng-binding")}:fe,Y.$$addScopeInfo=c?function(e,t,n,i){var r=n?i?"$isolateScopeNoTemplate":"$isolateScope":"$scope";e.data(r,t)}:fe,Y.$$addScopeClass=c?function(e,t){A(e,t?"ng-isolate-scope":"ng-scope")}:fe,Y.$$createComment=function(e,t){var n="";return c&&(n=" "+(e||"")+": ",t&&(n+=t+" ")),q.document.createComment(n)},Y;function Y(u,e,t,n,d){u instanceof ue||(u=ue(u));for(var i=/\S+/,r=0,o=u.length;r<o;r++){var a=u[r];a.nodeType===Le&&a.nodeValue.match(i)&&at(a,u[r]=q.document.createElement("span"))}var h=P(u,e,u,t,n,d);Y.$$addScopeClass(u);var p=null;return function(e,t,n){$e(e,"scope"),d&&d.needsNewScope&&(e=e.$parent.$new());var i,r,o,a=(n=n||{}).parentBoundTranscludeFn,s=n.transcludeControllers,l=n.futureParentElement;if(a&&a.$$boundTransclude&&(a=a.$$boundTransclude),p||(r=(i=l)&&i[0],p=r&&"foreignobject"!==_e(r)&&V.call(r).match(/SVG/)?"svg":"html"),o="html"!==p?ue(re(p,ue("<div>").append(u).html())):t?St.clone.call(u):u,s)for(var c in s)o.data("$"+c+"Controller",s[c].instance);return Y.$$addScopeInfo(o,e),t&&t(o,e),h&&h(e,o,o,a),o}}function P(e,f,t,n,i,r){for(var o,a,s,l,c,u,g,m=[],d=0;d<e.length;d++)o=new W,(s=(a=X(e[d],[],o,0===d?n:void 0,i)).length?M(a,e[d],o,f,t,null,[],[],r):null)&&s.scope&&Y.$$addScopeClass(o.$$element),c=s&&s.terminal||!(l=e[d].childNodes)||!l.length?null:P(l,s?(s.transcludeOnThisElement||!s.templateOnThisElement)&&s.transclude:f),(s||c)&&(m.push(d,s,c),u=!0,g=g||s),r=null;return u?function(e,t,n,i){var r,o,a,s,l,c,u,d,h;if(g){var p=t.length;for(h=new Array(p),l=0;l<m.length;l+=3)u=m[l],h[u]=t[u]}else h=t;for(l=0,c=m.length;l<c;)a=h[m[l++]],r=m[l++],o=m[l++],r?(r.scope?(s=e.$new(),Y.$$addScopeInfo(ue(a),s)):s=e,d=r.transcludeOnThisElement?$(e,r.transclude,i):!r.templateOnThisElement&&i?i:!i&&f?$(e,f):null,r(o,s,a,n,d)):o&&o(e,a.childNodes,void 0,i)}:null}function $(o,a,s){function e(e,t,n,i,r){return e||((e=o.$new(!1,r)).$$transcluded=!0),a(e,t,{parentBoundTranscludeFn:s,transcludeControllers:n,futureParentElement:i})}var t=e.$$slots=Oe();for(var n in a.$$slots)a.$$slots[n]?t[n]=$(o,a.$$slots[n],s):t[n]=null;return e}function X(e,t,n,i,r){var o,a,s,l,c,u,d=e.nodeType,h=n.$attr;switch(d){case Ne:O(t,dn(a=_e(e)),"E",i,r);for(var p,f,g,m,v,y,b=e.attributes,w=0,x=b&&b.length;w<x;w++){var C=!1,S=!1;f=(p=b[w]).name,v=ke(p.value),m=dn(f),(y=E.test(m))&&(f=f.replace(un,"").substr(8).replace(/_(.)/g,function(e,t){return t.toUpperCase()}));var k=m.match(I);k&&N(k[1])&&(S=(C=f).substr(0,f.length-5)+"end",f=f.substr(0,f.length-6)),h[g=dn(f.toLowerCase())]=f,!y&&n.hasOwnProperty(g)||(n[g]=v,Dt(e,g)&&(n[g]=!0)),j(e,t,v,g,y),O(t,g,"A",i,r,C,S)}if("input"===a&&"hidden"===e.getAttribute("type")&&e.setAttribute("autocomplete","off"),!D)break;if(ye(s=e.className)&&(s=s.animVal),be(s)&&""!==s)for(;o=F.exec(s);)O(t,g=dn(o[2]),"C",i,r)&&(n[g]=ke(o[3])),s=s.substr(o.index+o[0].length);break;case Le:if(11===B)for(;e.parentNode&&e.nextSibling&&e.nextSibling.nodeType===Le;)e.nodeValue=e.nodeValue+e.nextSibling.nodeValue,e.parentNode.removeChild(e.nextSibling);l=t,c=e.nodeValue,(u=_(c,!0))&&l.push({priority:0,compile:function(e){var t=e.parent(),i=!!t.length;return i&&Y.$$addBindingClass(t),function(e,t){var n=t.parent();i||Y.$$addBindingClass(n),Y.$$addBindingInfo(n,u.expressions),e.$watch(u,function(e){t[0].nodeValue=e})}}});break;case je:if(!T)break;!function(e,t,n,i,r){try{var o=R.exec(e.nodeValue);if(o){var a=dn(o[1]);O(t,a,"M",i,r)&&(n[a]=ke(o[2]))}}catch(e){}}(e,t,n,i,r)}return t.sort(L),t}function J(e,t,n){var i=[],r=0;if(t&&e.hasAttribute&&e.hasAttribute(t))do{if(!e)throw an("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",t,n);e.nodeType===Ne&&(e.hasAttribute(t)&&r++,e.hasAttribute(n)&&r--),i.push(e),e=e.nextSibling}while(0<r);else i.push(e);return ue(i)}function K(o,a,s){return function(e,t,n,i,r){return t=J(t[0],a,s),o(e,t,n,i,r)}}function Q(e,t,n,i,r,o){var a;return e?Y(t,n,i,r,o):function(){return a||(a=Y(t,n,i,r,o),t=n=o=null),a.apply(this,arguments)}}function M(e,x,C,t,n,i,S,k,r){r=r||{};for(var o,a,s,l,c,u=-Number.MAX_VALUE,_=r.newScopeDirective,T=r.controllerDirectives,D=r.newIsolateScopeDirective,A=r.templateDirective,d=r.nonTlbTranscludeDirective,h=!1,p=!1,E=r.hasElementTranscludeDirective,f=C.$$element=ue(x),g=i,m=t,v=!1,y=!1,b=0,w=e.length;b<w;b++){var I=(o=e[b]).$$start,P=o.$$end;if(I&&(f=J(x,I,P)),s=void 0,u>o.priority)break;if((c=o.scope)&&(o.templateUrl||(ye(c)?(ie("new/isolated scope",D||_,o,f),D=o):ie("new/isolated scope",D,o,f)),_=_||o),a=o.name,!v&&(o.replace&&(o.templateUrl||o.template)||o.transclude&&!o.$$tlb)){for(var $,M=b+1;$=e[M++];)if($.transclude&&!$.$$tlb||$.replace&&($.templateUrl||$.template)){y=!0;break}v=!0}if(!o.templateUrl&&o.controller&&(T=T||Oe(),ie("'"+a+"' controller",T[a],o,f),T[a]=o),c=o.transclude)if(h=!0,o.$$tlb||(ie("transclusion",d,o,f),d=o),"element"===c)E=!0,u=o.priority,s=f,f=C.$$element=ue(Y.$$createComment(a,C[a])),x=f[0],oe(n,Ae(s),x),s[0].$$parentNode=s[0].parentNode,m=Q(y,s,t,u,g&&g.name,{nonTlbTranscludeDirective:d});else{var O=Oe();if(s=ue(ct(x)).contents(),ye(c)){s=[];var N=Oe(),L=Oe();for(var j in de(c,function(e,t){var n="?"===e.charAt(0);e=n?e.substring(1):e,N[e]=t,O[t]=null,L[t]=n}),de(f.contents(),function(e){var t=N[dn(_e(e))];t?(L[t]=!0,O[t]=O[t]||[],O[t].push(e)):s.push(e)}),de(L,function(e,t){if(!e)throw an("reqslot","Required transclusion slot `{0}` was not filled.",t)}),O)O[j]&&(O[j]=Q(y,O[j],t))}f.empty(),(m=Q(y,s,t,void 0,void 0,{needsNewScope:o.$$isolateScope||o.$$newScope})).$$slots=O}if(o.template)if(p=!0,ie("template",A,o,f),c=xe((A=o).template)?o.template(f,C):o.template,c=G(c),o.replace){if(g=o,s=it(c)?[]:pn(re(o.templateNamespace,ke(c))),x=s[0],1!==s.length||x.nodeType!==Ne)throw an("tplrt","Template for directive '{0}' must have exactly one root element. {1}",a,"");oe(n,f,x);var R={$attr:{}},F=X(x,[],R),q=e.splice(b+1,e.length-(b+1));(D||_)&&ee(F,D,_),e=e.concat(F).concat(q),te(C,R),w=e.length}else f.html(c);if(o.templateUrl)p=!0,ie("template",A,o,f),(A=o).replace&&(g=o),V=ne(e.splice(b,e.length-b),f,C,n,h&&m,S,k,{controllerDirectives:T,newScopeDirective:_!==o&&_,newIsolateScopeDirective:D,templateDirective:A,nonTlbTranscludeDirective:d}),w=e.length;else if(o.compile)try{l=o.compile(f,C,m);var H=o.$$originalDirective||o;xe(l)?B(null,Ee(H,l),I,P):l&&B(Ee(H,l.pre),Ee(H,l.post),I,P)}catch(e){U(e,Ie(f))}o.terminal&&(V.terminal=!0,u=Math.max(u,o.priority))}return V.scope=_&&!0===_.scope,V.transcludeOnThisElement=h,V.templateOnThisElement=p,V.transclude=m,r.hasElementTranscludeDirective=E,V;function B(e,t,n,i){e&&(n&&(e=K(e,n,i)),e.require=o.require,e.directiveName=a,(D===o||o.$$isolateScope)&&(e=ae(e,{isolateScope:!0})),S.push(e)),t&&(n&&(t=K(t,n,i)),t.require=o.require,t.directiveName=a,(D===o||o.$$isolateScope)&&(t=ae(t,{isolateScope:!0})),k.push(t))}function V(e,t,n,i,a){var r,o,s,l,c,u,d,h,p,f;for(var g in x===n?h=(p=C).$$element:p=new W(h=ue(n),C),c=t,D?l=t.$new(!0):_&&(c=t.$parent),a&&((d=function(e,t,n,i){var r;Ce(e)||(i=n,n=t,t=e,e=void 0);E&&(r=u);n||(n=E?h.parent():h);{if(!i)return a(e,t,r,n,w);var o=a.$$slots[i];if(o)return o(e,t,r,n,w);if(me(o))throw an("noslot",'No parent directive that requires a transclusion with slot name "{0}". Element: {1}',i,Ie(h))}}).$$boundTransclude=a,d.isSlotFilled=function(e){return!!a.$$slots[e]}),T&&(u=function(e,t,n,i,r,o,a){var s=Oe();for(var l in i){var c=i[l],u={$scope:c===a||c.$$isolateScope?r:o,$element:e,$attrs:t,$transclude:n},d=c.controller;"@"===d&&(d=t[c.name]);var h=z(d,u,!0,c.controllerAs);s[c.name]=h,e.data("$"+c.name+"Controller",h.instance)}return s}(h,p,d,T,l,t,D)),D&&(Y.$$addScopeInfo(h,l,!0,!(A&&(A===D||A===D.$$originalDirective))),Y.$$addScopeClass(h,!0),l.$$isolateBindings=D.$$isolateBindings,(f=le(t,p,l,l.$$isolateBindings,D)).removeWatches&&l.$on("$destroy",f.removeWatches)),u){var m=T[g],v=u[g],y=m.$$bindings.bindToController;if(ce){v.bindingInfo=y?le(c,p,v.instance,y,m):{};var b=v();b!==v.instance&&(v.instance=b,h.data("$"+m.name+"Controller",b),v.bindingInfo.removeWatches&&v.bindingInfo.removeWatches(),v.bindingInfo=le(c,p,v.instance,y,m))}else v.instance=v(),h.data("$"+m.name+"Controller",v.instance),v.bindingInfo=le(c,p,v.instance,y,m)}for(de(T,function(e,t){var n=e.require;e.bindToController&&!we(n)&&ye(n)&&he(u[t].instance,Z(t,n,h,u))}),de(u,function(e){var t=e.instance;if(xe(t.$onChanges))try{t.$onChanges(e.bindingInfo.initialChanges)}catch(e){U(e)}if(xe(t.$onInit))try{t.$onInit()}catch(e){U(e)}xe(t.$doCheck)&&(c.$watch(function(){t.$doCheck()}),t.$doCheck()),xe(t.$onDestroy)&&c.$on("$destroy",function(){t.$onDestroy()})}),r=0,o=S.length;r<o;r++)se(s=S[r],s.isolateScope?l:t,h,p,s.require&&Z(s.directiveName,s.require,h,u),d);var w=t;for(D&&(D.template||null===D.templateUrl)&&(w=l),e&&e(w,n.childNodes,void 0,a),r=k.length-1;0<=r;r--)se(s=k[r],s.isolateScope?l:t,h,p,s.require&&Z(s.directiveName,s.require,h,u),d);de(u,function(e){var t=e.instance;xe(t.$postLink)&&t.$postLink()})}}function Z(n,e,i,r){var o;if(be(e)){var t=e.match(h),a=e.substring(t[0].length),s=t[1]||t[3],l="?"===t[2];if("^^"===s?i=i.parent():o=(o=r&&r[a])&&o.instance,!o){var c="$"+a+"Controller";o=s?i.inheritedData(c):i.data(c)}if(!o&&!l)throw an("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,n)}else if(we(e)){o=[];for(var u=0,d=e.length;u<d;u++)o[u]=Z(n,e[u],i,r)}else ye(e)&&(o={},de(e,function(e,t){o[t]=Z(n,e,i,r)}));return o||null}function ee(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i]=pe(e[i],{$$isolateScope:t,$$newScope:n})}function O(e,t,n,i,r,o,a){if(t===r)return null;var s=null;if(f.hasOwnProperty(t))for(var l,c=p.get(t+g),u=0,d=c.length;u<d;u++)if(l=c[u],(me(i)||i>l.priority)&&-1!==l.restrict.indexOf(n)){if(o&&(l=pe(l,{$$start:o,$$end:a})),!l.$$bindings){var h=l.$$bindings=m(l,l.name);ye(h.isolateScope)&&(l.$$isolateBindings=h.isolateScope)}e.push(l),s=l}return s}function N(e){if(f.hasOwnProperty(e))for(var t=p.get(e+g),n=0,i=t.length;n<i;n++)if(t[n].multiElement)return!0;return!1}function te(n,i){var r=i.$attr,o=n.$attr;de(n,function(e,t){"$"!==t.charAt(0)&&(i[t]&&i[t]!==e&&(e+=("style"===t?";":" ")+i[t]),n.$set(t,e,!0,r[t]))}),de(i,function(e,t){n.hasOwnProperty(t)||"$"===t.charAt(0)||(n[t]=e,"class"!==t&&"style"!==t&&(o[t]=r[t]))})}function ne(h,p,f,g,m,v,y,b){var w,x,C=[],S=p[0],k=h.shift(),_=pe(k,{templateUrl:null,transclude:null,replace:null,$$originalDirective:k}),T=xe(k.templateUrl)?k.templateUrl(p,f):k.templateUrl,D=k.templateNamespace;return p.empty(),e(T).then(function(e){var n,t,i,r;if(e=G(e),k.replace){if(i=it(e)?[]:pn(re(D,ke(e))),n=i[0],1!==i.length||n.nodeType!==Ne)throw an("tplrt","Template for directive '{0}' must have exactly one root element. {1}",k.name,T);t={$attr:{}},oe(g,p,n);var o=X(n,[],t);ye(k.scope)&&ee(o,!0),h=o.concat(h),te(f,t)}else n=S,p.html(e);for(h.unshift(_),w=M(h,n,f,m,p,k,v,y,b),de(g,function(e,t){e===n&&(g[t]=p[0])}),x=P(p[0].childNodes,m);C.length;){var a=C.shift(),s=C.shift(),l=C.shift(),c=C.shift(),u=p[0];if(!a.$$destroyed){if(s!==S){var d=s.className;b.hasElementTranscludeDirective&&k.replace||(u=ct(n)),oe(l,ue(s),u),A(ue(u),d)}r=w.transcludeOnThisElement?$(a,w.transclude,c):c,w(x,a,u,g,r)}}C=null}),function(e,t,n,i,r){var o=r;t.$$destroyed||(C?C.push(t,n,i,o):(w.transcludeOnThisElement&&(o=$(t,w.transclude,r)),w(x,t,n,i,o)))}}function L(e,t){var n=t.priority-e.priority;return 0!==n?n:e.name!==t.name?e.name<t.name?-1:1:e.index-t.index}function ie(e,t,n,i){function r(e){return e?" (module: "+e+")":""}if(t)throw an("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",t.name,r(t.$$moduleName),n.name,r(n.$$moduleName),e,Ie(i))}function re(e,t){switch(e=k(e||"html")){case"svg":case"math":var n=q.document.createElement("div");return n.innerHTML="<"+e+">"+t+"</"+e+">",n.childNodes[0].childNodes;default:return t}}function j(e,t,o,a,n){var s=function(e,t){if("srcdoc"===t)return r.HTML;var n=_e(e);if("src"===t||"ngSrc"===t){if(-1===["img","video","audio","source","track"].indexOf(n))return r.RESOURCE_URL}else if("xlinkHref"===t||"form"===n&&"action"===t)return r.RESOURCE_URL}(e,a),i=!n,l=u[a]||n,c=_(o,i,s,l);if(c){if("multiple"===a&&"select"===_e(e))throw an("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Ie(e));t.push({priority:100,compile:function(){return{pre:function(e,t,n){var i=n.$$observers||(n.$$observers=Oe());if(d.test(a))throw an("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var r=n[a];r!==o&&(c=r&&_(r,!0,s,l),o=r),c&&(n[a]=c(e),(i[a]||(i[a]=[])).$$inter=!0,(n.$$observers&&n.$$observers[a].$$scope||e).$watch(c,function(e,t){"class"===a&&e!==t?n.$updateClass(e,t):n.$set(a,e)}))}}}})}}function oe(e,t,n){var i,r,o=t[0],a=t.length,s=o.parentNode;if(e)for(i=0,r=e.length;i<r;i++)if(e[i]===o){e[i++]=n;for(var l=i,c=l+a-1,u=e.length;l<u;l++,c++)c<u?e[l]=e[c]:delete e[l];e.length-=a-1,e.context===o&&(e.context=n);break}s&&s.replaceChild(n,o);var d=q.document.createDocumentFragment();for(i=0;i<a;i++)d.appendChild(t[i]);for(ue.hasData(o)&&(ue.data(n,ue.data(o)),ue(o).off("$destroy")),ue.cleanData(d.querySelectorAll("*")),i=1;i<a;i++)delete t[i];t[0]=n,t.length=1}function ae(e,t){return he(function(){return e.apply(null,arguments)},e,t)}function se(e,t,n,i,r,o){try{e(t,n,i,r,o)}catch(e){U(e,Ie(n))}}function le(h,p,f,e,g){var i,m=[],v={};function y(e,t,n){!xe(f.$onChanges)||t===n||t!=t&&n!=n||(s||(h.$$postDigest(l),s=[]),i||(i={},s.push(r)),i[e]&&(n=i[e].previousValue),i[e]=new cn(n,t))}function r(){f.$onChanges(i),i=void 0}return de(e,function(e,n){var t,i,r,o,a,s=e.attrName,l=e.optional;switch(e.mode){case"@":l||H.call(p,s)||(f[n]=p[s]=void 0),a=p.$observe(s,function(e){if(be(e)||Se(e)){var t=f[n];y(n,e,t),f[n]=e}}),p.$$observers[s].$$scope=h,be(t=p[s])?f[n]=_(t)(h):Se(t)&&(f[n]=t),v[n]=new cn(sn,f[n]),m.push(a);break;case"=":if(!H.call(p,s)){if(l)break;p[s]=void 0}if(l&&!p[s])break;i=b(p[s]),o=i.literal?De:function(e,t){return e===t||e!=e&&t!=t},r=i.assign||function(){throw t=f[n]=i(h),an("nonassign","Expression '{0}' in attribute '{1}' used with directive '{2}' is non-assignable!",p[s],s,g.name)},t=f[n]=i(h);var c=function(e){return o(e,f[n])||(o(e,t)?r(h,e=f[n]):f[n]=e),t=e};c.$stateful=!0,a=e.collection?h.$watchCollection(p[s],c):h.$watch(b(p[s],c),null,i.literal),m.push(a);break;case"<":if(!H.call(p,s)){if(l)break;p[s]=void 0}if(l&&!p[s])break;var u=(i=b(p[s])).literal,d=f[n]=i(h);v[n]=new cn(sn,f[n]),a=h.$watch(i,function(e,t){if(t===e){if(t===d||u&&De(t,d))return;t=d}y(n,e,t),f[n]=e},u),m.push(a);break;case"&":if((i=p.hasOwnProperty(s)?b(p[s]):fe)===fe&&l)break;f[n]=function(e){return i(h,e)}}}),{initialChanges:v,removeWatches:m.length&&function(){for(var e=0,t=m.length;e<t;++e)m[e]()}}}}]}function cn(e,t){this.previousValue=e,this.currentValue=t}ln.$inject=["$provide","$$sanitizeUriProvider"],cn.prototype.isFirstChange=function(){return this.previousValue===sn};var un=/^((?:x|data)[:\-_])/i;function dn(e){return Ke(e.replace(un,""))}function hn(e,t){var n="",i=e.split(/\s+/),r=t.split(/\s+/);e:for(var o=0;o<i.length;o++){for(var a=i[o],s=0;s<r.length;s++)if(a===r[s])continue e;n+=(0<n.length?" ":"")+a}return n}function pn(e){var t=(e=ue(e)).length;if(t<=1)return e;for(;t--;){var n=e[t];(n.nodeType===je||n.nodeType===Le&&""===n.nodeValue.trim())&&i.call(e,t,1)}return e}var fn=x("$controller"),gn=/^(\S+)(\s+as\s+([\w$]+))?$/;function mn(){var h={},p=!1;this.has=function(e){return h.hasOwnProperty(e)},this.register=function(e,t){le(e,"controller"),ye(e)?he(h,e):h[e]=t},this.allowGlobals=function(){p=!0},this.$get=["$injector","$window",function(c,u){return function(t,n,e,i){var r,o,a,s;if(e=!0===e,i&&be(i)&&(s=i),be(t)){if(!(o=t.match(gn)))throw fn("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",t);if(a=o[1],s=s||o[3],!(t=h.hasOwnProperty(a)?h[a]:ce(n.$scope,a,!0)||(p?ce(u,a,!0):void 0)))throw fn("ctrlreg","The controller with the name '{0}' is not registered.",a);se(t,a,!0)}if(e){var l=(we(t)?t[t.length-1]:t).prototype;return r=Object.create(l||null),s&&d(n,s,r,a||t.name),he(function(){var e=c.invoke(t,r,n,a);return e!==r&&(ye(e)||xe(e))&&(r=e,s&&d(n,s,r,a||t.name)),r},{instance:r,identifier:s})}return r=c.instantiate(t,n,a),s&&d(n,s,r,a||t.name),r};function d(e,t,n,i){if(!e||!ye(e.$scope))throw x("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,t);e.$scope[t]=n}}]}function vn(){this.$get=["$window",function(e){return ue(e.document)}]}function yn(){this.$get=["$log",function(n){return function(e,t){n.error.apply(n,arguments)}}]}var bn=function(){this.$get=["$document",function(t){return function(e){return e?!e.nodeType&&e instanceof ue&&(e=e[0]):e=t[0].body,e.offsetWidth+1}}]},wn="application/json",xn={"Content-Type":wn+";charset=utf-8"},Cn=/^\[|^\{(?!\{)/,Sn={"[":/]$/,"{":/}$/},kn=/^\)]\}',?\n/,_n=x("$http"),Tn=function(e){return function(){throw _n("legacy","The method `{0}` on the promise returned from `$http` has been disabled.",e)}};function Dn(e){return ye(e)?S(e)?e.toISOString():F(e):e}function An(){this.$get=function(){return function(e){if(!e)return"";var n=[];return h(e,function(e,t){null===e||me(e)||(we(e)?de(e,function(e){n.push(Q(t)+"="+Q(Dn(e)))}):n.push(Q(t)+"="+Q(Dn(e))))}),n.join("&")}}}function En(){this.$get=function(){return function(e){if(!e)return"";var t=[];return function n(e,i,r){if(null===e||me(e))return;we(e)?de(e,function(e,t){n(e,i+"["+(ye(e)?t:"")+"]")}):ye(e)&&!S(e)?h(e,function(e,t){n(e,i+(r?"":"[")+t+(r?"":"]"))}):t.push(Q(i)+"="+Q(Dn(e)))}(e,"",!0),t.join("&")}}}function In(e,t){if(be(e)){var n=e.replace(kn,"").trim();if(n){var i=t("Content-Type");(i&&0===i.indexOf(wn)||(o=(r=n).match(Cn))&&Sn[o[0]].test(r))&&(e=U(n))}}var r,o;return e}function Pn(e){var t,n=Oe();function i(e,t){e&&(n[e]=n[e]?n[e]+", "+t:t)}return be(e)?de(e.split("\n"),function(e){t=e.indexOf(":"),i(k(ke(e.substr(0,t))),ke(e.substr(t+1)))}):ye(e)&&de(e,function(e,t){i(k(t),ke(e))}),n}function $n(n){var i;return function(e){if(i||(i=Pn(n)),e){var t=i[k(e)];return void 0===t&&(t=null),t}return i}}function Mn(t,n,i,e){return xe(e)?e(t,n,i):(de(e,function(e){t=e(t,n,i)}),t)}function On(e){return 200<=e&&e<300}function Nn(){var b=this.defaults={transformResponse:[In],transformRequest:[function(e){return ye(e)&&(i=e,"[object File]"!==V.call(i))&&(n=e,"[object Blob]"!==V.call(n))&&(t=e,"[object FormData]"!==V.call(t))?F(e):e;var t,n,i}],headers:{common:{Accept:"application/json, text/plain, */*"},post:qe(xn),put:qe(xn),patch:qe(xn)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},w=!1;this.useApplyAsync=function(e){return ve(e)?(w=!!e,this):w};var c=!0;this.useLegacyPromiseExtensions=function(e){return ve(e)?(c=!!e,this):c};var t=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(p,f,e,g,m,s){var v=e("$http");b.paramSerializer=be(b.paramSerializer)?s.get(b.paramSerializer):b.paramSerializer;var l=[];function y(e){if(!ye(e))throw x("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);if(!be(e.url))throw x("$http")("badreq","Http request configuration url must be a string.  Received: {0}",e.url);var n=he({method:"get",transformRequest:b.transformRequest,transformResponse:b.transformResponse,paramSerializer:b.paramSerializer},e);n.headers=function(e){var t,n,i,r=b.headers,o=he({},e.headers);r=he({},r.common,r[k(e.method)]);e:for(t in r){for(i in n=k(t),o)if(k(i)===n)continue e;o[t]=r[t]}return a=o,s=qe(e),c={},de(a,function(e,t){xe(e)?null!=(l=e(s))&&(c[t]=l):c[t]=e}),c;var a,s,l,c}(e),n.method=u(n.method),n.paramSerializer=be(n.paramSerializer)?s.get(n.paramSerializer):n.paramSerializer;var t=[],i=[],r=m.when(n);return de(l,function(e){(e.request||e.requestError)&&t.unshift(e.request,e.requestError),(e.response||e.responseError)&&i.push(e.response,e.responseError)}),r=o(r=(r=o(r,t)).then(function(e){var n=e.headers,t=Mn(e.data,$n(n),void 0,e.transformRequest);me(t)&&de(n,function(e,t){"content-type"===k(t)&&delete n[t]});me(e.withCredentials)&&!me(b.withCredentials)&&(e.withCredentials=b.withCredentials);return function(r,e){var o,t,a=m.defer(),n=a.promise,i=r.headers,s=function(e,t){0<t.length&&(e+=(-1===e.indexOf("?")?"?":"&")+t);return e}(r.url,r.paramSerializer(r.params));y.pendingRequests.push(r),n.then(h,h),!r.cache&&!b.cache||!1===r.cache||"GET"!==r.method&&"JSONP"!==r.method||(o=ye(r.cache)?r.cache:ye(b.cache)?b.cache:v);o&&(ve(t=o.get(s))?I(t)?t.then(d,d):we(t)?u(t[1],t[0],qe(t[2]),t[3]):u(t,200,{},"OK"):o.put(s,n));if(me(t)){var l=hr(r.url)?f()[r.xsrfCookieName||b.xsrfCookieName]:void 0;l&&(i[r.xsrfHeaderName||b.xsrfHeaderName]=l),p(r.method,s,e,function(e,t,n,i){o&&(On(e)?o.put(s,[e,t,Pn(n),i]):o.remove(s));function r(){u(t,e,n,i)}w?g.$applyAsync(r):(r(),g.$$phase||g.$apply())},i,r.timeout,r.withCredentials,r.responseType,c(r.eventHandlers),c(r.uploadEventHandlers))}return n;function c(e){if(e){var t={};return de(e,function(n,e){t[e]=function(e){function t(){n(e)}w?g.$applyAsync(t):g.$$phase?t():g.$apply(t)}}),t}}function u(e,t,n,i){(On(t=-1<=t?t:0)?a.resolve:a.reject)({data:e,status:t,headers:$n(n),config:r,statusText:i})}function d(e){u(e.data,e.status,qe(e.headers()),e.statusText)}function h(){var e=y.pendingRequests.indexOf(r);-1!==e&&y.pendingRequests.splice(e,1)}}(e,t).then(a,a)}),i),c?(r.success=function(t){return se(t,"fn"),r.then(function(e){t(e.data,e.status,e.headers,n)}),r},r.error=function(t){return se(t,"fn"),r.then(null,function(e){t(e.data,e.status,e.headers,n)}),r}):(r.success=Tn("success"),r.error=Tn("error")),r;function o(e,t){for(var n=0,i=t.length;n<i;){var r=t[n++],o=t[n++];e=e.then(r,o)}return t.length=0,e}function a(e){var t=he({},e);return t.data=Mn(e.data,e.headers,e.status,n.transformResponse),On(e.status)?t:m.reject(t)}}return de(t,function(e){l.unshift(be(e)?s.get(e):s.invoke(e))}),y.pendingRequests=[],function(e){de(arguments,function(n){y[n]=function(e,t){return y(he({},t||{},{method:n,url:e}))}})}("get","delete","head","jsonp"),function(e){de(arguments,function(i){y[i]=function(e,t,n){return y(he({},n||{},{method:i,url:e,data:t}))}})}("post","put","patch"),y.defaults=b,y}]}function Ln(){this.$get=function(){return function(){return new q.XMLHttpRequest}}}function jn(){this.$get=["$browser","$jsonpCallbacks","$document","$xhrFactory",function(e,t,n,i){return y=i,b=(v=e).defer,w=t,x=n[0],function(e,i,t,r,n,o,a,s,l,c){if(v.$$incOutstandingRequestCount(),i=i||v.url(),"jsonp"===k(e))var u=w.createCallback(i),d=function(e,i,r){e=e.replace("JSON_CALLBACK",i);var o=x.createElement("script"),a=null;return o.type="text/javascript",o.src=e,o.async=!0,ze(o,"load",a=function(e){We(o,"load",a),We(o,"error",a),x.body.removeChild(o),o=null;var t=-1,n="unknown";e&&("load"!==e.type||w.wasCalled(i)||(e={type:"error"}),n=e.type,t="error"===e.type?404:200),r&&r(t,n)}),ze(o,"error",a),x.body.appendChild(o),a}(i,u,function(e,t){var n=200===e&&w.getResponse(u);m(r,e,n,"",t),w.removeCallback(u)});else{var h=y(e,i);h.open(e,i,!0),de(n,function(e,t){ve(e)&&h.setRequestHeader(t,e)}),h.onload=function(){var e=h.statusText||"",t="response"in h?h.response:h.responseText,n=1223===h.status?204:h.status;0===n&&(n=t?200:"file"===dr(i).protocol?404:0),m(r,n,t,h.getAllResponseHeaders(),e)};var p=function(){m(r,-1,null,null,"")};if(h.onerror=p,h.onabort=p,h.ontimeout=p,de(l,function(e,t){h.addEventListener(t,e)}),de(c,function(e,t){h.upload.addEventListener(t,e)}),a&&(h.withCredentials=!0),s)try{h.responseType=s}catch(e){if("json"!==s)throw e}h.send(me(t)?null:t)}if(0<o)var f=b(g,o);else I(o)&&o.then(g);function g(){d&&d(),h&&h.abort()}function m(e,t,n,i,r){ve(f)&&b.cancel(f),d=h=null,e(t,n,i,r),v.$$completeOutstandingRequest(fe)}};var v,y,b,w,x}]}var Rn=b.$interpolateMinErr=x("$interpolate");function Fn(){var k="{{",_="}}";this.startSymbol=function(e){return e?(k=e,this):k},this.endSymbol=function(e){return e?(_=e,this):_},this.$get=["$parse","$exceptionHandler","$sce",function(v,y,b){var w=k.length,x=_.length,t=new RegExp(k.replace(/./g,e),"g"),n=new RegExp(_.replace(/./g,e),"g");function e(e){return"\\\\\\"+e}function C(e){return e.replace(t,k).replace(n,_)}function S(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function i(r,e,t,i){if(!r.length||-1===r.indexOf(k)){var n;if(!e)(n=T(C(r))).exp=r,n.expressions=[],n.$$watchDelegate=S;return n}i=!!i;for(var o,a,s,l=0,c=[],u=[],d=r.length,h=[],p=[];l<d;){if(-1===(o=r.indexOf(k,l))||-1===(a=r.indexOf(_,o+w))){l!==d&&h.push(C(r.substring(l)));break}l!==o&&h.push(C(r.substring(l,o))),s=r.substring(o+w,a),c.push(s),u.push(v(s,m)),l=a+x,p.push(h.length),h.push("")}if(t&&1<h.length&&Rn.throwNoconcat(r),!e||c.length){var f=function(e){for(var t=0,n=c.length;t<n;t++){if(i&&me(e[t]))return;h[p[t]]=e[t]}return h.join("")},g=function(e){return t?b.getTrusted(t,e):b.valueOf(e)};return he(function(e){var t=0,n=c.length,i=new Array(n);try{for(;t<n;t++)i[t]=u[t](e);return f(i)}catch(e){y(Rn.interr(r,e))}},{exp:r,expressions:c,$$watchDelegate:function(i,r){var o;return i.$watchGroup(u,function(e,t){var n=f(e);xe(r)&&r.call(this,n,e!==t?o:n,i),o=n})}})}function m(e){try{return e=g(e),i&&!ve(e)?e:function(e){if(null==e)return"";switch(typeof e){case"string":break;case"number":e=""+e;break;default:e=F(e)}return e}(e)}catch(e){y(Rn.interr(r,e))}}}return i.startSymbol=function(){return k},i.endSymbol=function(){return _},i}]}function qn(){this.$get=["$rootScope","$window","$q","$$q","$browser",function(p,f,g,m,v){var y={};function e(e,t,n,i){var r=4<arguments.length,o=r?Ae(arguments,4):[],a=f.setInterval,s=f.clearInterval,l=0,c=ve(i)&&!i,u=(c?m:g).defer(),d=u.promise;return n=ve(n)?n:0,d.$$intervalId=a(function(){c?v.defer(h):p.$evalAsync(h),u.notify(l++),0<n&&n<=l&&(u.resolve(l),s(d.$$intervalId),delete y[d.$$intervalId]),c||p.$apply()},t),y[d.$$intervalId]=u,d;function h(){r?e.apply(null,o):e(l)}}return e.cancel=function(e){return!!(e&&e.$$intervalId in y)&&(y[e.$$intervalId].reject("canceled"),f.clearInterval(e.$$intervalId),delete y[e.$$intervalId],!0)},e}]}Rn.throwNoconcat=function(e){throw Rn("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",e)},Rn.interr=function(e,t){return Rn("interr","Can't interpolate: {0}\n{1}",e,t.toString())};var Hn=function(){this.$get=["$window",function(e){var o=e.angular.callbacks,a={};return{createCallback:function(e){var t,n="_"+(o.$$counter++).toString(36),i="angular.callbacks."+n,r=((t=function(e){t.data=e,t.called=!0}).id=n,t);return a[i]=o[n]=r,i},wasCalled:function(e){return a[e].called},getResponse:function(e){return a[e].data},removeCallback:function(e){var t=a[e];delete o[t.id],delete a[e]}}}]},Bn=/^([^?#]*)(\?([^#]*))?(#(.*))?$/,Vn={http:80,https:443,ftp:21},Un=x("$location");function zn(e){for(var t=e.split("/"),n=t.length;n--;)t[n]=K(t[n]);return t.join("/")}function Wn(e,t){var n=dr(e);t.$$protocol=n.protocol,t.$$host=n.hostname,t.$$port=g(n.port)||Vn[n.protocol]||null}var Gn=/^\s*[\\/]{2,}/;function Yn(e,t){if(Gn.test(e))throw Un("badpath",'Invalid url "{0}".',e);var n="/"!==e.charAt(0);n&&(e="/"+e);var i=dr(e);t.$$path=decodeURIComponent(n&&"/"===i.pathname.charAt(0)?i.pathname.substring(1):i.pathname),t.$$search=X(i.search),t.$$hash=decodeURIComponent(i.hash),t.$$path&&"/"!==t.$$path.charAt(0)&&(t.$$path="/"+t.$$path)}function Xn(e,t){return e.slice(0,t.length)===t}function Jn(e,t){if(Xn(t,e))return t.substr(e.length)}function Kn(e){var t=e.indexOf("#");return-1===t?e:e.substr(0,t)}function Qn(e){return e.replace(/(#.+)|#$/,"$1")}function Zn(o,a,s){this.$$html5=!0,s=s||"",Wn(o,this),this.$$parse=function(e){var t=Jn(a,e);if(!be(t))throw Un("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',e,a);Yn(t,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var e=J(this.$$search),t=this.$$hash?"#"+K(this.$$hash):"";this.$$url=zn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=a+this.$$url.substr(1)},this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(ve(n=Jn(o,e))?(i=n,r=s&&ve(n=Jn(s,n))?a+(Jn("/",n)||n):o+i):ve(n=Jn(a,e))?r=a+n:a===e+"/"&&(r=a),r&&this.$$parse(r),!!r);var n,i,r}}function ei(i,r,o){Wn(i,this),this.$$parse=function(e){var t,n=Jn(i,e)||Jn(r,e);me(n)||"#"!==n.charAt(0)?this.$$html5?t=n:(t="",me(n)&&(i=e,this.replace())):me(t=Jn(o,n))&&(t=n),Yn(t,this),this.$$path=function(e,t,n){var i,r=/^\/[A-Z]:(\/.*)/;Xn(t,n)&&(t=t.replace(n,""));if(r.exec(t))return e;return(i=r.exec(e))?i[1]:e}(this.$$path,t,i),this.$$compose()},this.$$compose=function(){var e=J(this.$$search),t=this.$$hash?"#"+K(this.$$hash):"";this.$$url=zn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=i+(this.$$url?o+this.$$url:"")},this.$$parseLinkUrl=function(e,t){return Kn(i)===Kn(e)&&(this.$$parse(e),!0)}}function ti(r,o,a){this.$$html5=!0,ei.apply(this,arguments),this.$$parseLinkUrl=function(e,t){return t&&"#"===t[0]?(this.hash(t.slice(1)),!0):(r===Kn(e)?n=e:(i=Jn(o,e))?n=r+a+i:o===e+"/"&&(n=o),n&&this.$$parse(n),!!n);var n,i},this.$$compose=function(){var e=J(this.$$search),t=this.$$hash?"#"+K(this.$$hash):"";this.$$url=zn(this.$$path)+(e?"?"+e:"")+t,this.$$absUrl=r+a+this.$$url}}var ni={$$absUrl:"",$$html5:!1,$$replace:!1,absUrl:ii("$$absUrl"),url:function(e){if(me(e))return this.$$url;var t=Bn.exec(e);return(t[1]||""===e)&&this.path(decodeURIComponent(t[1])),(t[2]||t[1]||""===e)&&this.search(t[3]||""),this.hash(t[5]||""),this},protocol:ii("$$protocol"),host:ii("$$host"),port:ii("$$port"),path:ri("$$path",function(e){return"/"===(e=null!==e?e.toString():"").charAt(0)?e:"/"+e}),search:function(n,e){switch(arguments.length){case 0:return this.$$search;case 1:if(be(n)||C(n))n=n.toString(),this.$$search=X(n);else{if(!ye(n))throw Un("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");de(n=N(n,{}),function(e,t){null==e&&delete n[t]}),this.$$search=n}break;default:me(e)||null===e?delete this.$$search[n]:this.$$search[n]=e}return this.$$compose(),this},hash:ri("$$hash",function(e){return null!==e?e.toString():""}),replace:function(){return this.$$replace=!0,this}};function ii(e){return function(){return this[e]}}function ri(t,n){return function(e){return me(e)?this[t]:(this[t]=n(e),this.$$compose(),this)}}function oi(){var v="",y={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return ve(e)?(v=e,this):v},this.html5Mode=function(e){return Se(e)?(y.enabled=e,this):ye(e)?(Se(e.enabled)&&(y.enabled=e.enabled),Se(e.requireBase)&&(y.requireBase=e.requireBase),(Se(e.rewriteLinks)||be(e.rewriteLinks))&&(y.rewriteLinks=e.rewriteLinks),this):y},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(a,s,t,o,l){var c,e,n,i,r=s.baseHref(),u=s.url();if(y.enabled){if(!r&&y.requireBase)throw Un("nobase","$location in HTML5 mode requires a <base> tag to be present!");n=(i=u).substring(0,i.indexOf("/",i.indexOf("//")+2))+(r||"/"),e=t.history?Zn:ti}else n=Kn(u),e=ei;var d,h=(d=n).substr(0,Kn(d).lastIndexOf("/")+1);(c=new e(n,h,"#"+v)).$$parseLinkUrl(u,u),c.$$state=s.state();var p=/^\s*(javascript|mailto):/i;function f(e,t,n){var i=c.url(),r=c.$$state;try{s.url(e,t,n),c.$$state=s.state()}catch(e){throw c.url(i),c.$$state=r,e}}o.on("click",function(e){var t=y.rewriteLinks;if(t&&!e.ctrlKey&&!e.metaKey&&!e.shiftKey&&2!==e.which&&2!==e.button){for(var n=ue(e.target);"a"!==_e(n[0]);)if(n[0]===o[0]||!(n=n.parent())[0])return;if(!be(t)||!me(n.attr(t))){var i=n.prop("href"),r=n.attr("href")||n.attr("xlink:href");ye(i)&&"[object SVGAnimatedString]"===i.toString()&&(i=dr(i.animVal).href),p.test(i)||!i||n.attr("target")||e.isDefaultPrevented()||c.$$parseLinkUrl(i,r)&&(e.preventDefault(),c.absUrl()!==s.url()&&(a.$apply(),l.angular["ff-684208-preventDefault"]=!0))}}}),Qn(c.absUrl())!==Qn(u)&&s.url(c.absUrl(),!0);var g=!0;return s.onUrlChange(function(i,r){me(Jn(h,i))?l.location.href=i:(a.$evalAsync(function(){var e,t=c.absUrl(),n=c.$$state;i=Qn(i),c.$$parse(i),c.$$state=r,e=a.$broadcast("$locationChangeStart",i,t,r,n).defaultPrevented,c.absUrl()===i&&(e?(c.$$parse(t),f(t,!1,c.$$state=n)):(g=!1,m(t,n)))}),a.$$phase||a.$digest())}),a.$watch(function(){var n=Qn(s.url()),e=Qn(c.absUrl()),i=s.state(),r=c.$$replace,o=n!==e||c.$$html5&&t.history&&i!==c.$$state;(g||o)&&(g=!1,a.$evalAsync(function(){var e=c.absUrl(),t=a.$broadcast("$locationChangeStart",e,n,c.$$state,i).defaultPrevented;c.absUrl()===e&&(t?(c.$$parse(n),c.$$state=i):(o&&f(e,r,i===c.$$state?null:c.$$state),m(n,i)))})),c.$$replace=!1}),c;function m(e,t){a.$broadcast("$locationChangeSuccess",c.absUrl(),e,c.$$state,t)}}]}function ai(){var n=!0,i=this;this.debugEnabled=function(e){return ve(e)?(n=e,this):n},this.$get=["$window",function(r){return{log:t("log"),info:t("info"),warn:t("warn"),error:t("error"),debug:(e=t("debug"),function(){n&&e.apply(i,arguments)})};var e;function t(e){var t=r.console||{},i=t[e]||t.log||fe,n=!1;try{n=!!i.apply}catch(e){}return n?function(){var n=[];return de(arguments,function(e){var t;n.push(((t=e)instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t))}),i.apply(t,n)}:function(e,t){i(e,null==t?"":t)}}}]}de([ti,ei,Zn],function(t){t.prototype=Object.create(ni),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Zn||!this.$$html5)throw Un("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=me(e)?null:e,this}});var si=x("$parse"),li=[].constructor,ci=(!1).constructor,ui=Function.constructor,di=(0).constructor,hi={}.constructor,pi="".constructor,fi=li.prototype,gi=ci.prototype,mi=ui.prototype,vi=di.prototype,yi=hi.prototype,bi=pi.prototype,wi=mi.call,xi=mi.apply,Ci=mi.bind,Si=yi.valueOf;function ki(e,t){if("__defineGetter__"===e||"__defineSetter__"===e||"__lookupGetter__"===e||"__lookupSetter__"===e||"__proto__"===e)throw si("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",t);return e}function _i(e){return e+""}function Ti(e,t){if(e){if(e.constructor===e)throw si("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e.window===e)throw si("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",t);if(e.children&&(e.nodeName||e.prop&&e.attr&&e.find))throw si("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",t);if(e===Object)throw si("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",t)}return e}function Di(e,t){if(e){if(e.constructor===e)throw si("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",t);if(e===wi||e===xi||e===Ci)throw si("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",t)}}function Ai(e,t){if(e&&(e===li||e===ci||e===ui||e===di||e===hi||e===pi||e===fi||e===gi||e===mi||e===vi||e===yi||e===bi))throw si("isecaf","Assigning to a constructor or its prototype is disallowed! Expression: {0}",t)}var Ei=Oe();de("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(e){Ei[e]=!0});var Ii={n:"\n",f:"\f",r:"\r",t:"\t",v:"\v","'":"'",'"':'"'},Pi=function(e){this.options=e};Pi.prototype={constructor:Pi,lex:function(e){for(this.text=e,this.index=0,this.tokens=[];this.index<this.text.length;){var t=this.text.charAt(this.index);if('"'===t||"'"===t)this.readString(t);else if(this.isNumber(t)||"."===t&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdentifierStart(this.peekMultichar()))this.readIdent();else if(this.is(t,"(){}[].,;:?"))this.tokens.push({index:this.index,text:t}),this.index++;else if(this.isWhitespace(t))this.index++;else{var n=t+this.peek(),i=n+this.peek(2),r=Ei[t],o=Ei[n],a=Ei[i];if(r||o||a){var s=a?i:o?n:t;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(e,t){return-1!==t.indexOf(e)},peek:function(e){var t=e||1;return this.index+t<this.text.length&&this.text.charAt(this.index+t)},isNumber:function(e){return"0"<=e&&e<="9"&&"string"==typeof e},isWhitespace:function(e){return" "===e||"\r"===e||"\t"===e||"\n"===e||"\v"===e||" "===e},isIdentifierStart:function(e){return this.options.isIdentifierStart?this.options.isIdentifierStart(e,this.codePointAt(e)):this.isValidIdentifierStart(e)},isValidIdentifierStart:function(e){return"a"<=e&&e<="z"||"A"<=e&&e<="Z"||"_"===e||"$"===e},isIdentifierContinue:function(e){return this.options.isIdentifierContinue?this.options.isIdentifierContinue(e,this.codePointAt(e)):this.isValidIdentifierContinue(e)},isValidIdentifierContinue:function(e,t){return this.isValidIdentifierStart(e,t)||this.isNumber(e)},codePointAt:function(e){return 1===e.length?e.charCodeAt(0):(e.charCodeAt(0)<<10)+e.charCodeAt(1)-56613888},peekMultichar:function(){var e=this.text.charAt(this.index),t=this.peek();if(!t)return e;var n=e.charCodeAt(0),i=t.charCodeAt(0);return 55296<=n&&n<=56319&&56320<=i&&i<=57343?e+t:e},isExpOperator:function(e){return"-"===e||"+"===e||this.isNumber(e)},throwError:function(e,t,n){n=n||this.index;var i=ve(t)?"s "+t+"-"+this.index+" ["+this.text.substring(t,n)+"]":" "+n;throw si("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",e,i,this.text)},readNumber:function(){for(var e="",t=this.index;this.index<this.text.length;){var n=k(this.text.charAt(this.index));if("."===n||this.isNumber(n))e+=n;else{var i=this.peek();if("e"===n&&this.isExpOperator(i))e+=n;else if(this.isExpOperator(n)&&i&&this.isNumber(i)&&"e"===e.charAt(e.length-1))e+=n;else{if(!this.isExpOperator(n)||i&&this.isNumber(i)||"e"!==e.charAt(e.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:t,text:e,constant:!0,value:Number(e)})},readIdent:function(){var e=this.index;for(this.index+=this.peekMultichar().length;this.index<this.text.length;){var t=this.peekMultichar();if(!this.isIdentifierContinue(t))break;this.index+=t.length}this.tokens.push({index:e,text:this.text.slice(e,this.index),identifier:!0})},readString:function(e){var t=this.index;this.index++;for(var n="",i=e,r=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(i+=o,r){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{n+=Ii[o]||o}r=!1}else if("\\"===o)r=!0;else{if(o===e)return this.index++,void this.tokens.push({index:t,text:i,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",t)}};var $i=function(e,t){this.lexer=e,this.options=t};function Mi(e,t){return void 0!==e?e:t}function Oi(e,t){return void 0===e?t:void 0===t?e:e+t}function Ni(e,t){var n,i,r,o,a;switch(e.type){case $i.Program:n=!0,de(e.body,function(e){Ni(e.expression,t),n=n&&e.expression.constant}),e.constant=n;break;case $i.Literal:e.constant=!0,e.toWatch=[];break;case $i.UnaryExpression:Ni(e.argument,t),e.constant=e.argument.constant,e.toWatch=e.argument.toWatch;break;case $i.BinaryExpression:Ni(e.left,t),Ni(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.left.toWatch.concat(e.right.toWatch);break;case $i.LogicalExpression:Ni(e.left,t),Ni(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=e.constant?[]:[e];break;case $i.ConditionalExpression:Ni(e.test,t),Ni(e.alternate,t),Ni(e.consequent,t),e.constant=e.test.constant&&e.alternate.constant&&e.consequent.constant,e.toWatch=e.constant?[]:[e];break;case $i.Identifier:e.constant=!1,e.toWatch=[e];break;case $i.MemberExpression:Ni(e.object,t),e.computed&&Ni(e.property,t),e.constant=e.object.constant&&(!e.computed||e.property.constant),e.toWatch=[e];break;case $i.CallExpression:r=!!e.filter&&(o=t,a=e.callee.name,!o(a).$stateful),n=r,i=[],de(e.arguments,function(e){Ni(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=r?i:[e];break;case $i.AssignmentExpression:Ni(e.left,t),Ni(e.right,t),e.constant=e.left.constant&&e.right.constant,e.toWatch=[e];break;case $i.ArrayExpression:n=!0,i=[],de(e.elements,function(e){Ni(e,t),n=n&&e.constant,e.constant||i.push.apply(i,e.toWatch)}),e.constant=n,e.toWatch=i;break;case $i.ObjectExpression:n=!0,i=[],de(e.properties,function(e){Ni(e.value,t),n=n&&e.value.constant&&!e.computed,e.value.constant||i.push.apply(i,e.value.toWatch)}),e.constant=n,e.toWatch=i;break;case $i.ThisExpression:case $i.LocalsExpression:e.constant=!1,e.toWatch=[]}}function Li(e){if(1===e.length){var t=e[0].expression,n=t.toWatch;return 1!==n.length?n:n[0]!==t?n:void 0}}function ji(e){return e.type===$i.Identifier||e.type===$i.MemberExpression}function Ri(e){if(1===e.body.length&&ji(e.body[0].expression))return{type:$i.AssignmentExpression,left:e.body[0].expression,right:{type:$i.NGValueParameter},operator:"="}}function Fi(e){return 0===e.body.length||1===e.body.length&&(e.body[0].expression.type===$i.Literal||e.body[0].expression.type===$i.ArrayExpression||e.body[0].expression.type===$i.ObjectExpression)}function qi(e){return e.constant}function Hi(e,t){this.astBuilder=e,this.$filter=t}function Bi(e,t){this.astBuilder=e,this.$filter=t}$i.Program="Program",$i.ExpressionStatement="ExpressionStatement",$i.AssignmentExpression="AssignmentExpression",$i.ConditionalExpression="ConditionalExpression",$i.LogicalExpression="LogicalExpression",$i.BinaryExpression="BinaryExpression",$i.UnaryExpression="UnaryExpression",$i.CallExpression="CallExpression",$i.MemberExpression="MemberExpression",$i.Identifier="Identifier",$i.Literal="Literal",$i.ArrayExpression="ArrayExpression",$i.Property="Property",$i.ObjectExpression="ObjectExpression",$i.ThisExpression="ThisExpression",$i.LocalsExpression="LocalsExpression",$i.NGValueParameter="NGValueParameter",$i.prototype={ast:function(e){this.text=e,this.tokens=this.lexer.lex(e);var t=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),t},program:function(){for(var e=[];;)if(0<this.tokens.length&&!this.peek("}",")",";","]")&&e.push(this.expressionStatement()),!this.expect(";"))return{type:$i.Program,body:e}},expressionStatement:function(){return{type:$i.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var e=this.expression();this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var e=this.ternary();if(this.expect("=")){if(!ji(e))throw si("lval","Trying to assign a value to a non l-value");e={type:$i.AssignmentExpression,left:e,right:this.assignment(),operator:"="}}return e},ternary:function(){var e,t,n=this.logicalOR();return this.expect("?")&&(e=this.expression(),this.consume(":"))?(t=this.expression(),{type:$i.ConditionalExpression,test:n,alternate:e,consequent:t}):n},logicalOR:function(){for(var e=this.logicalAND();this.expect("||");)e={type:$i.LogicalExpression,operator:"||",left:e,right:this.logicalAND()};return e},logicalAND:function(){for(var e=this.equality();this.expect("&&");)e={type:$i.LogicalExpression,operator:"&&",left:e,right:this.equality()};return e},equality:function(){for(var e,t=this.relational();e=this.expect("==","!=","===","!==");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.relational()};return t},relational:function(){for(var e,t=this.additive();e=this.expect("<",">","<=",">=");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.additive()};return t},additive:function(){for(var e,t=this.multiplicative();e=this.expect("+","-");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.multiplicative()};return t},multiplicative:function(){for(var e,t=this.unary();e=this.expect("*","/","%");)t={type:$i.BinaryExpression,operator:e.text,left:t,right:this.unary()};return t},unary:function(){var e;return(e=this.expect("+","-","!"))?{type:$i.UnaryExpression,operator:e.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var e,t;for(this.expect("(")?(e=this.filterChain(),this.consume(")")):this.expect("[")?e=this.arrayDeclaration():this.expect("{")?e=this.object():this.selfReferential.hasOwnProperty(this.peek().text)?e=N(this.selfReferential[this.consume().text]):this.options.literals.hasOwnProperty(this.peek().text)?e={type:$i.Literal,value:this.options.literals[this.consume().text]}:this.peek().identifier?e=this.identifier():this.peek().constant?e=this.constant():this.throwError("not a primary expression",this.peek());t=this.expect("(","[",".");)"("===t.text?(e={type:$i.CallExpression,callee:e,arguments:this.parseArguments()},this.consume(")")):"["===t.text?(e={type:$i.MemberExpression,object:e,property:this.expression(),computed:!0},this.consume("]")):"."===t.text?e={type:$i.MemberExpression,object:e,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return e},filter:function(e){for(var t=[e],n={type:$i.CallExpression,callee:this.identifier(),arguments:t,filter:!0};this.expect(":");)t.push(this.expression());return n},parseArguments:function(){var e=[];if(")"!==this.peekToken().text)for(;e.push(this.filterChain()),this.expect(","););return e},identifier:function(){var e=this.consume();return e.identifier||this.throwError("is not a valid identifier",e),{type:$i.Identifier,name:e.text}},constant:function(){return{type:$i.Literal,value:this.consume().value}},arrayDeclaration:function(){var e=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;e.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:$i.ArrayExpression,elements:e}},object:function(){var e,t=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;e={type:$i.Property,kind:"init"},this.peek().constant?(e.key=this.constant(),e.computed=!1,this.consume(":"),e.value=this.expression()):this.peek().identifier?(e.key=this.identifier(),e.computed=!1,this.peek(":")?(this.consume(":"),e.value=this.expression()):e.value=e.key):this.peek("[")?(this.consume("["),e.key=this.expression(),this.consume("]"),e.computed=!0,this.consume(":"),e.value=this.expression()):this.throwError("invalid key",this.peek()),t.push(e)}while(this.expect(","));return this.consume("}"),{type:$i.ObjectExpression,properties:t}},throwError:function(e,t){throw si("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",t.text,e,t.index+1,this.text,this.text.substring(t.index))},consume:function(e){if(0===this.tokens.length)throw si("ueoe","Unexpected end of expression: {0}",this.text);var t=this.expect(e);return t||this.throwError("is unexpected, expecting ["+e+"]",this.peek()),t},peekToken:function(){if(0===this.tokens.length)throw si("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e,t,n,i){return this.peekAhead(0,e,t,n,i)},peekAhead:function(e,t,n,i,r){if(this.tokens.length>e){var o=this.tokens[e],a=o.text;if(a===t||a===n||a===i||a===r||!t&&!n&&!i&&!r)return o}return!1},expect:function(e,t,n,i){var r=this.peek(e,t,n,i);return!!r&&(this.tokens.shift(),r)},selfReferential:{this:{type:$i.ThisExpression},$locals:{type:$i.LocalsExpression}}},Hi.prototype={compile:function(e,t){var r=this,n=this.astBuilder.ast(e);this.state={nextId:0,filters:{},expensiveChecks:t,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Ni(n,r.$filter);var i,o="";if(this.stage="assign",i=Ri(n)){this.state.computing="assign";var a=this.nextId();this.recurse(i,a),this.return_(a),o="fn.assign="+this.generateFunction("assign","s,v,l")}var s=Li(n.body);r.stage="inputs",de(s,function(e,t){var n="fn"+t;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(e,i),r.return_(i),r.state.inputs.push(n),e.watchId=t}),this.state.computing="fn",this.stage="main",this.recurse(n);var l='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+o+this.watchFns()+"return fn;",c=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","getStringValue","ensureSafeAssignContext","ifDefined","plus","text",l)(this.$filter,ki,Ti,Di,_i,Ai,Mi,Oi,e);return this.state=this.stage=void 0,c.literal=Fi(n),c.constant=qi(n),c},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return de(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(e,t){return"function("+t+"){"+this.varsPrefix(e)+this.body(e)+"};"},filterPrefix:function(){var n=[],i=this;return de(this.state.filters,function(e,t){n.push(e+"=$filter("+i.escape(t)+")")}),n.length?"var "+n.join(",")+";":""},varsPrefix:function(e){return this.state[e].vars.length?"var "+this.state[e].vars.join(",")+";":""},body:function(e){return this.state[e].body.join("")},recurse:function(n,t,e,i,r,o){var a,s,l,c,u,d=this;if(i=i||fe,!o&&ve(n.watchId))return t=t||this.nextId(),void this.if_("i",this.lazyAssign(t,this.computedMember("i",n.watchId)),this.lazyRecurse(n,t,e,i,r,!0));switch(n.type){case $i.Program:de(n.body,function(e,t){d.recurse(e.expression,void 0,void 0,function(e){s=e}),t!==n.body.length-1?d.current().body.push(s,";"):d.return_(s)});break;case $i.Literal:c=this.escape(n.value),this.assign(t,c),i(c);break;case $i.UnaryExpression:this.recurse(n.argument,void 0,void 0,function(e){s=e}),c=n.operator+"("+this.ifDefined(s,0)+")",this.assign(t,c),i(c);break;case $i.BinaryExpression:this.recurse(n.left,void 0,void 0,function(e){a=e}),this.recurse(n.right,void 0,void 0,function(e){s=e}),c="+"===n.operator?this.plus(a,s):"-"===n.operator?this.ifDefined(a,0)+n.operator+this.ifDefined(s,0):"("+a+")"+n.operator+"("+s+")",this.assign(t,c),i(c);break;case $i.LogicalExpression:t=t||this.nextId(),d.recurse(n.left,t),d.if_("&&"===n.operator?t:d.not(t),d.lazyRecurse(n.right,t)),i(t);break;case $i.ConditionalExpression:t=t||this.nextId(),d.recurse(n.test,t),d.if_(t,d.lazyRecurse(n.alternate,t),d.lazyRecurse(n.consequent,t)),i(t);break;case $i.Identifier:t=t||this.nextId(),e&&(e.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",n.name)+"?l:s"),e.computed=!1,e.name=n.name),ki(n.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",n.name)),function(){d.if_("inputs"===d.stage||"s",function(){r&&1!==r&&d.if_(d.not(d.nonComputedMember("s",n.name)),d.lazyAssign(d.nonComputedMember("s",n.name),"{}")),d.assign(t,d.nonComputedMember("s",n.name))})},t&&d.lazyAssign(t,d.nonComputedMember("l",n.name))),(d.state.expensiveChecks||Ui(n.name))&&d.addEnsureSafeObject(t),i(t);break;case $i.MemberExpression:a=e&&(e.context=this.nextId())||this.nextId(),t=t||this.nextId(),d.recurse(n.object,a,void 0,function(){d.if_(d.notNull(a),function(){r&&1!==r&&d.addEnsureSafeAssignContext(a),n.computed?(s=d.nextId(),d.recurse(n.property,s),d.getStringValue(s),d.addEnsureSafeMemberName(s),r&&1!==r&&d.if_(d.not(d.computedMember(a,s)),d.lazyAssign(d.computedMember(a,s),"{}")),c=d.ensureSafeObject(d.computedMember(a,s)),d.assign(t,c),e&&(e.computed=!0,e.name=s)):(ki(n.property.name),r&&1!==r&&d.if_(d.not(d.nonComputedMember(a,n.property.name)),d.lazyAssign(d.nonComputedMember(a,n.property.name),"{}")),c=d.nonComputedMember(a,n.property.name),(d.state.expensiveChecks||Ui(n.property.name))&&(c=d.ensureSafeObject(c)),d.assign(t,c),e&&(e.computed=!1,e.name=n.property.name))},function(){d.assign(t,"undefined")}),i(t)},!!r);break;case $i.CallExpression:t=t||this.nextId(),n.filter?(s=d.filter(n.callee.name),l=[],de(n.arguments,function(e){var t=d.nextId();d.recurse(e,t),l.push(t)}),c=s+"("+l.join(",")+")",d.assign(t,c),i(t)):(s=d.nextId(),a={},l=[],d.recurse(n.callee,s,a,function(){d.if_(d.notNull(s),function(){d.addEnsureSafeFunction(s),de(n.arguments,function(e){d.recurse(e,d.nextId(),void 0,function(e){l.push(d.ensureSafeObject(e))})}),a.name?(d.state.expensiveChecks||d.addEnsureSafeObject(a.context),c=d.member(a.context,a.name,a.computed)+"("+l.join(",")+")"):c=s+"("+l.join(",")+")",c=d.ensureSafeObject(c),d.assign(t,c)},function(){d.assign(t,"undefined")}),i(t)}));break;case $i.AssignmentExpression:s=this.nextId(),a={},this.recurse(n.left,void 0,a,function(){d.if_(d.notNull(a.context),function(){d.recurse(n.right,s),d.addEnsureSafeObject(d.member(a.context,a.name,a.computed)),d.addEnsureSafeAssignContext(a.context),c=d.member(a.context,a.name,a.computed)+n.operator+s,d.assign(t,c),i(t||c)})},1);break;case $i.ArrayExpression:l=[],de(n.elements,function(e){d.recurse(e,d.nextId(),void 0,function(e){l.push(e)})}),c="["+l.join(",")+"]",this.assign(t,c),i(c);break;case $i.ObjectExpression:u=!(l=[]),de(n.properties,function(e){e.computed&&(u=!0)}),u?(t=t||this.nextId(),this.assign(t,"{}"),de(n.properties,function(e){e.computed?(a=d.nextId(),d.recurse(e.key,a)):a=e.key.type===$i.Identifier?e.key.name:""+e.key.value,s=d.nextId(),d.recurse(e.value,s),d.assign(d.member(t,a,e.computed),s)})):(de(n.properties,function(t){d.recurse(t.value,n.constant?void 0:d.nextId(),void 0,function(e){l.push(d.escape(t.key.type===$i.Identifier?t.key.name:""+t.key.value)+":"+e)})}),c="{"+l.join(",")+"}",this.assign(t,c)),i(t||c);break;case $i.ThisExpression:this.assign(t,"s"),i("s");break;case $i.LocalsExpression:this.assign(t,"l"),i("l");break;case $i.NGValueParameter:this.assign(t,"v"),i("v")}},getHasOwnProperty:function(e,t){var n=e+"."+t,i=this.current().own;return i.hasOwnProperty(n)||(i[n]=this.nextId(!1,e+"&&("+this.escape(t)+" in "+e+")")),i[n]},assign:function(e,t){if(e)return this.current().body.push(e,"=",t,";"),e},filter:function(e){return this.state.filters.hasOwnProperty(e)||(this.state.filters[e]=this.nextId(!0)),this.state.filters[e]},ifDefined:function(e,t){return"ifDefined("+e+","+this.escape(t)+")"},plus:function(e,t){return"plus("+e+","+t+")"},return_:function(e){this.current().body.push("return ",e,";")},if_:function(e,t,n){if(!0===e)t();else{var i=this.current().body;i.push("if(",e,"){"),t(),i.push("}"),n&&(i.push("else{"),n(),i.push("}"))}},not:function(e){return"!("+e+")"},notNull:function(e){return e+"!=null"},nonComputedMember:function(e,t){return/^[$_a-zA-Z][$_a-zA-Z0-9]*$/.test(t)?e+"."+t:e+'["'+t.replace(/[^$_a-zA-Z0-9]/g,this.stringEscapeFn)+'"]'},computedMember:function(e,t){return e+"["+t+"]"},member:function(e,t,n){return n?this.computedMember(e,t):this.nonComputedMember(e,t)},addEnsureSafeObject:function(e){this.current().body.push(this.ensureSafeObject(e),";")},addEnsureSafeMemberName:function(e){this.current().body.push(this.ensureSafeMemberName(e),";")},addEnsureSafeFunction:function(e){this.current().body.push(this.ensureSafeFunction(e),";")},addEnsureSafeAssignContext:function(e){this.current().body.push(this.ensureSafeAssignContext(e),";")},ensureSafeObject:function(e){return"ensureSafeObject("+e+",text)"},ensureSafeMemberName:function(e){return"ensureSafeMemberName("+e+",text)"},ensureSafeFunction:function(e){return"ensureSafeFunction("+e+",text)"},getStringValue:function(e){this.assign(e,"getStringValue("+e+")")},ensureSafeAssignContext:function(e){return"ensureSafeAssignContext("+e+",text)"},lazyRecurse:function(e,t,n,i,r,o){var a=this;return function(){a.recurse(e,t,n,i,r,o)}},lazyAssign:function(e,t){var n=this;return function(){n.assign(e,t)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)},escape:function(e){if(be(e))return"'"+e.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(C(e))return e.toString();if(!0===e)return"true";if(!1===e)return"false";if(null===e)return"null";if(void 0===e)return"undefined";throw si("esc","IMPOSSIBLE")},nextId:function(e,t){var n="v"+this.state.nextId++;return e||this.current().vars.push(n+(t?"="+t:"")),n},current:function(){return this.state[this.state.computing]}},Bi.prototype={compile:function(e,t){var n,i,r=this,o=this.astBuilder.ast(e);this.expression=e,this.expensiveChecks=t,Ni(o,r.$filter),(n=Ri(o))&&(i=this.recurse(n));var a,s=Li(o.body);s&&(a=[],de(s,function(e,t){var n=r.recurse(e);e.input=n,a.push(n),e.watchId=t}));var l=[];de(o.body,function(e){l.push(r.recurse(e.expression))});var c=0===o.body.length?fe:1===o.body.length?l[0]:function(t,n){var i;return de(l,function(e){i=e(t,n)}),i};return i&&(c.assign=function(e,t,n){return i(e,n,t)}),a&&(c.inputs=a),c.literal=Fi(o),c.constant=qi(o),c},recurse:function(e,l,t){var a,c,u,d=this;if(e.input)return this.inputs(e.input,e.watchId);switch(e.type){case $i.Literal:return this.value(e.value,l);case $i.UnaryExpression:return c=this.recurse(e.argument),this["unary"+e.operator](c,l);case $i.BinaryExpression:case $i.LogicalExpression:return a=this.recurse(e.left),c=this.recurse(e.right),this["binary"+e.operator](a,c,l);case $i.ConditionalExpression:return this["ternary?:"](this.recurse(e.test),this.recurse(e.alternate),this.recurse(e.consequent),l);case $i.Identifier:return ki(e.name,d.expression),d.identifier(e.name,d.expensiveChecks||Ui(e.name),l,t,d.expression);case $i.MemberExpression:return a=this.recurse(e.object,!1,!!t),e.computed||(ki(e.property.name,d.expression),c=e.property.name),e.computed&&(c=this.recurse(e.property)),e.computed?this.computedMember(a,c,l,t,d.expression):this.nonComputedMember(a,c,d.expensiveChecks,l,t,d.expression);case $i.CallExpression:return u=[],de(e.arguments,function(e){u.push(d.recurse(e))}),e.filter&&(c=this.$filter(e.callee.name)),e.filter||(c=this.recurse(e.callee,!0)),e.filter?function(e,t,n,i){for(var r=[],o=0;o<u.length;++o)r.push(u[o](e,t,n,i));var a=c.apply(void 0,r,i);return l?{context:void 0,name:void 0,value:a}:a}:function(e,t,n,i){var r,o=c(e,t,n,i);if(null!=o.value){Ti(o.context,d.expression),Di(o.value,d.expression);for(var a=[],s=0;s<u.length;++s)a.push(Ti(u[s](e,t,n,i),d.expression));r=Ti(o.value.apply(o.context,a),d.expression)}return l?{value:r}:r};case $i.AssignmentExpression:return a=this.recurse(e.left,!0,1),c=this.recurse(e.right),function(e,t,n,i){var r=a(e,t,n,i),o=c(e,t,n,i);return Ti(r.value,d.expression),Ai(r.context),r.context[r.name]=o,l?{value:o}:o};case $i.ArrayExpression:return u=[],de(e.elements,function(e){u.push(d.recurse(e))}),function(e,t,n,i){for(var r=[],o=0;o<u.length;++o)r.push(u[o](e,t,n,i));return l?{value:r}:r};case $i.ObjectExpression:return u=[],de(e.properties,function(e){e.computed?u.push({key:d.recurse(e.key),computed:!0,value:d.recurse(e.value)}):u.push({key:e.key.type===$i.Identifier?e.key.name:""+e.key.value,computed:!1,value:d.recurse(e.value)})}),function(e,t,n,i){for(var r={},o=0;o<u.length;++o)u[o].computed?r[u[o].key(e,t,n,i)]=u[o].value(e,t,n,i):r[u[o].key]=u[o].value(e,t,n,i);return l?{value:r}:r};case $i.ThisExpression:return function(e){return l?{value:e}:e};case $i.LocalsExpression:return function(e,t){return l?{value:t}:t};case $i.NGValueParameter:return function(e,t,n){return l?{value:n}:n}}},"unary+":function(o,a){return function(e,t,n,i){var r=o(e,t,n,i);return r=ve(r)?+r:0,a?{value:r}:r}},"unary-":function(o,a){return function(e,t,n,i){var r=o(e,t,n,i);return r=ve(r)?-r:0,a?{value:r}:r}},"unary!":function(o,a){return function(e,t,n,i){var r=!o(e,t,n,i);return a?{value:r}:r}},"binary+":function(o,a,s){return function(e,t,n,i){var r=Oi(o(e,t,n,i),a(e,t,n,i));return s?{value:r}:r}},"binary-":function(s,l,c){return function(e,t,n,i){var r=s(e,t,n,i),o=l(e,t,n,i),a=(ve(r)?r:0)-(ve(o)?o:0);return c?{value:a}:a}},"binary*":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)*a(e,t,n,i);return s?{value:r}:r}},"binary/":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)/a(e,t,n,i);return s?{value:r}:r}},"binary%":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)%a(e,t,n,i);return s?{value:r}:r}},"binary===":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)===a(e,t,n,i);return s?{value:r}:r}},"binary!==":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)!==a(e,t,n,i);return s?{value:r}:r}},"binary==":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)==a(e,t,n,i);return s?{value:r}:r}},"binary!=":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)!=a(e,t,n,i);return s?{value:r}:r}},"binary<":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)<a(e,t,n,i);return s?{value:r}:r}},"binary>":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)>a(e,t,n,i);return s?{value:r}:r}},"binary<=":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)<=a(e,t,n,i);return s?{value:r}:r}},"binary>=":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)>=a(e,t,n,i);return s?{value:r}:r}},"binary&&":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)&&a(e,t,n,i);return s?{value:r}:r}},"binary||":function(o,a,s){return function(e,t,n,i){var r=o(e,t,n,i)||a(e,t,n,i);return s?{value:r}:r}},"ternary?:":function(o,a,s,l){return function(e,t,n,i){var r=o(e,t,n,i)?a(e,t,n,i):s(e,t,n,i);return l?{value:r}:r}},value:function(e,t){return function(){return t?{context:void 0,name:void 0,value:e}:e}},identifier:function(a,s,l,c,u){return function(e,t,n,i){var r=t&&a in t?t:e;c&&1!==c&&r&&!r[a]&&(r[a]={});var o=r?r[a]:void 0;return s&&Ti(o,u),l?{context:r,name:a,value:o}:o}},computedMember:function(s,l,c,u,d){return function(e,t,n,i){var r,o,a=s(e,t,n,i);return null!=a&&(ki(r=_i(r=l(e,t,n,i)),d),u&&1!==u&&(Ai(a),a&&!a[r]&&(a[r]={})),Ti(o=a[r],d)),c?{context:a,name:r,value:o}:o}},nonComputedMember:function(a,s,l,c,u,d){return function(e,t,n,i){var r=a(e,t,n,i);u&&1!==u&&(Ai(r),r&&!r[s]&&(r[s]={}));var o=null!=r?r[s]:void 0;return(l||Ui(s))&&Ti(o,d),c?{context:r,name:s,value:o}:o}},inputs:function(r,o){return function(e,t,n,i){return i?i[o]:r(e,t,n)}}};var Vi=function(e,t,n){this.lexer=e,this.$filter=t,this.options=n,this.ast=new $i(e,n),this.astCompiler=n.csp?new Bi(this.ast,t):new Hi(this.ast,t)};function Ui(e){return"constructor"===e}function zi(e){return xe(e.valueOf)?e.valueOf():Si.call(e)}function Wi(){var n,i,b=Oe(),w=Oe(),r={true:!0,false:!1,null:null,undefined:void 0};this.addLiteral=function(e,t){r[e]=t},this.setIdentifierFns=function(e,t){return n=e,i=t,this},this.$get=["$filter",function(c){var e=L().noUnsafeEval,u={csp:e,expensiveChecks:!1,literals:N(r),isIdentifierStart:xe(n)&&n,isIdentifierContinue:xe(i)&&i},d={csp:e,expensiveChecks:!0,literals:N(r),isIdentifierStart:xe(n)&&n,isIdentifierContinue:xe(i)&&i},h=!1;return t.$$runningExpensiveChecks=function(){return h},t;function t(e,t,n){var i,r,o;switch(n=n||h,typeof e){case"string":e=e.trim();var a=n?w:b;if(!(i=a[o=e])){":"===e.charAt(0)&&":"===e.charAt(1)&&(r=!0,e=e.substring(2));var s=n?d:u,l=new Pi(s);(i=new Vi(l,c,s).parse(e)).constant?i.$$watchDelegate=v:r?i.$$watchDelegate=i.literal?m:g:i.inputs&&(i.$$watchDelegate=f),n&&(i=function e(o){if(!o)return o;n.$$watchDelegate=o.$$watchDelegate;n.assign=e(o.assign);n.constant=o.constant;n.literal=o.literal;for(var t=0;o.inputs&&t<o.inputs.length;++t)o.inputs[t]=e(o.inputs[t]);n.inputs=o.inputs;return n;function n(e,t,n,i){var r=h;h=!0;try{return o(e,t,n,i)}finally{h=r}}}(i)),a[o]=i}return y(i,t);case"function":return y(e,t);default:return y(fe,t)}}function p(e,t){return null==e||null==t?e===t:("object"!=typeof e||"object"!=typeof(e=zi(e)))&&(e===t||e!=e&&t!=t)}function f(e,t,n,o,i){var a,s=o.inputs;if(1===s.length){var r=p;return s=s[0],e.$watch(function(e){var t=s(e);return p(t,r)||(a=o(e,void 0,void 0,[t]),r=t&&zi(t)),a},t,n,i)}for(var l=[],c=[],u=0,d=s.length;u<d;u++)l[u]=p,c[u]=null;return e.$watch(function(e){for(var t=!1,n=0,i=s.length;n<i;n++){var r=s[n](e);(t||(t=!p(r,l[n])))&&(c[n]=r,l[n]=r&&zi(r))}return t&&(a=o(e,void 0,void 0,c)),a},t,n,i)}function g(e,i,t,n){var r,o;return r=e.$watch(function(e){return n(e)},function(e,t,n){o=e,xe(i)&&i.apply(this,arguments),ve(e)&&n.$$postDigest(function(){ve(o)&&r()})},t)}function m(e,i,t,n){var r,o;return r=e.$watch(function(e){return n(e)},function(e,t,n){o=e,xe(i)&&i.call(this,e,t,n),a(e)&&n.$$postDigest(function(){a(o)&&r()})},t);function a(e){var t=!0;return de(e,function(e){ve(e)||(t=!1)}),t}}function v(e,t,n,i){var r=e.$watch(function(e){return r(),i(e)},t,n);return r}function y(a,s){if(!s)return a;var e=a.$$watchDelegate,o=!1,t=e!==m&&e!==g?function(e,t,n,i){var r=o&&i?i[0]:a(e,t,n,i);return s(r,e,t)}:function(e,t,n,i){var r=a(e,t,n,i),o=s(r,e,t);return ve(r)?o:r};return a.$$watchDelegate&&a.$$watchDelegate!==f?t.$$watchDelegate=a.$$watchDelegate:s.$stateful||(t.$$watchDelegate=f,o=!a.inputs,t.inputs=a.inputs?a.inputs:[a]),t}}]}function Gi(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return Xi(function(e){t.$evalAsync(e)},e)}]}function Yi(){this.$get=["$browser","$exceptionHandler",function(t,e){return Xi(function(e){t.defer(e)},e)}]}function Xi(t,a){var n=x("$q",TypeError);function i(){var e=new l;return e.resolve=o(e,e.resolve),e.reject=o(e,e.reject),e.notify=o(e,e.notify),e}function e(){this.$$state={status:0}}function o(t,n){return function(e){n.call(t,e)}}function s(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){!function(e){var t,n,i;i=e.pending,e.processScheduled=!1,e.pending=void 0;for(var r=0,o=i.length;r<o;++r){n=i[r][0],t=i[r][e.status];try{xe(t)?n.resolve(t(e.value)):1===e.status?n.resolve(e.value):n.reject(e.value)}catch(e){n.reject(e),a(e)}}}(e)}))}function l(){this.promise=new e}function r(e){var t=new l;return t.reject(e),t.promise}function c(e,t,n){var i=null;try{xe(n)&&(i=n())}catch(e){return r(e)}return I(i)?i.then(function(){return t(e)},r):t(e)}function u(e,t,n,i){var r=new l;return r.resolve(e),r.promise.then(t,n,i)}he(e.prototype,{then:function(e,t,n){if(me(e)&&me(t)&&me(n))return this;var i=new l;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([i,e,t,n]),0<this.$$state.status&&s(this.$$state),i.promise},catch:function(e){return this.then(null,e)},finally:function(t,e){return this.then(function(e){return c(e,d,t)},function(e){return c(e,r,t)},e)}}),he(l.prototype,{resolve:function(e){this.promise.$$state.status||(e===this.promise?this.$$reject(n("qcycle","Expected promise to be resolved with value other than itself '{0}'",e)):this.$$resolve(e))},$$resolve:function(e){var t,n=this,i=!1;try{(ye(e)||xe(e))&&(t=e&&e.then),xe(t)?(this.promise.$$state.status=-1,t.call(e,function(e){if(i)return;i=!0,n.$$resolve(e)},r,o(this,this.notify))):(this.promise.$$state.value=e,this.promise.$$state.status=1,s(this.promise.$$state))}catch(e){r(e),a(e)}function r(e){i||(i=!0,n.$$reject(e))}},reject:function(e){this.promise.$$state.status||this.$$reject(e)},$$reject:function(e){this.promise.$$state.value=e,this.promise.$$state.status=2,s(this.promise.$$state)},notify:function(r){var o=this.promise.$$state.pending;this.promise.$$state.status<=0&&o&&o.length&&t(function(){for(var e,t,n=0,i=o.length;n<i;n++){t=o[n][0],e=o[n][3];try{t.notify(xe(e)?e(r):r)}catch(e){a(e)}}})}});var d=u;function h(e){if(!xe(e))throw n("norslvr","Expected resolverFn, got '{0}'",e);var t=new l;return e(function(e){t.resolve(e)},function(e){t.reject(e)}),t.promise}return h.prototype=e.prototype,h.defer=i,h.reject=r,h.when=u,h.resolve=d,h.all=function(e){var n=new l,i=0,r=we(e)?[]:{};return de(e,function(e,t){i++,u(e).then(function(e){r[t]=e,--i||n.resolve(r)},function(e){n.reject(e)})}),0===i&&n.resolve(r),n.promise},h.race=function(e){var t=i();return de(e,function(e){u(e).then(t.resolve,t.reject)}),t.promise},h}function Ji(){this.$get=["$window","$timeout",function(e,n){var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame,r=e.cancelAnimationFrame||e.webkitCancelAnimationFrame||e.webkitCancelRequestAnimationFrame,t=!!i,o=t?function(e){var t=i(e);return function(){r(t)}}:function(e){var t=n(e,16.66,!1);return function(){n.cancel(t)}};return o.supported=t,o}]}function Ki(){var S=10,k=x("$rootScope"),_=null,T=null;this.digestTtl=function(e){return arguments.length&&(S=e),S},this.$get=["$exceptionHandler","$parse","$browser",function(h,f,p){function i(e){e.currentScope.$$destroyed=!0}function r(){this.$id=D(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,(this.$root=this).$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}r.prototype={constructor:r,$new:function(e,t){var n;return t=t||this,e?(n=new r).$root=this.$root:(this.$$ChildScope||(this.$$ChildScope=function(e){function t(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=D(),this.$$ChildScope=null}return t.prototype=e,t}(this)),n=new this.$$ChildScope),n.$parent=t,n.$$prevSibling=t.$$childTail,t.$$childHead?(t.$$childTail.$$nextSibling=n,t.$$childTail=n):t.$$childHead=t.$$childTail=n,(e||t!==this)&&n.$on("$destroy",i),n},$watch:function(e,t,n,i){var r=f(e);if(r.$$watchDelegate)return r.$$watchDelegate(this,t,n,r,e);var o=this,a=o.$$watchers,s={fn:t,last:x,get:r,exp:i||e,eq:!!n};return _=null,xe(t)||(s.fn=fe),a||((a=o.$$watchers=[]).$$digestWatchIndex=-1),a.unshift(s),a.$$digestWatchIndex++,l(this,1),function(){var e=Te(a,s);0<=e&&(l(o,-1),e<a.$$digestWatchIndex&&a.$$digestWatchIndex--),_=null}},$watchGroup:function(e,i){var r=new Array(e.length),o=new Array(e.length),a=[],s=this,l=!1,t=!0;if(!e.length){var n=!0;return s.$evalAsync(function(){n&&i(o,o,s)}),function(){n=!1}}if(1===e.length)return this.$watch(e[0],function(e,t,n){o[0]=e,r[0]=t,i(o,e===t?o:r,n)});function c(){l=!1,t?(t=!1,i(o,o,s)):i(o,r,s)}return de(e,function(e,n){var t=s.$watch(e,function(e,t){o[n]=e,r[n]=t,l||(l=!0,s.$evalAsync(c))});a.push(t)}),function(){for(;a.length;)a.shift()()}},$watchCollection:function(e,n){p.$stateful=!0;var a,s,i,r=this,o=1<n.length,l=0,t=f(e,p),c=[],u={},d=!0,h=0;function p(e){var t,n,i,r;if(!me(a=e)){if(ye(a))if(O(a)){s!==c&&(h=(s=c).length=0,l++),t=a.length,h!==t&&(l++,s.length=h=t);for(var o=0;o<t;o++)r=s[o],i=a[o],r!=r&&i!=i||r===i||(l++,s[o]=i)}else{for(n in s!==u&&(s=u={},h=0,l++),t=0,a)H.call(a,n)&&(t++,i=a[n],r=s[n],n in s?r!=r&&i!=i||r===i||(l++,s[n]=i):(h++,s[n]=i,l++));if(t<h)for(n in l++,s)H.call(a,n)||(h--,delete s[n])}else s!==a&&(s=a,l++);return l}}return this.$watch(t,function(){if(d?(d=!1,n(a,a,r)):n(a,i,r),o)if(ye(a))if(O(a)){i=new Array(a.length);for(var e=0;e<a.length;e++)i[e]=a[e]}else for(var t in i={},a)H.call(a,t)&&(i[t]=a[t]);else i=a})},$digest:function(){var e,t,n,i,r,o,a,s,l,c=S,u=[];b("$digest"),p.$$checkUrlChange(),this===g&&null!==T&&(p.defer.cancel(T),C()),_=null;do{r=!1,a=this;for(var d=0;d<m.length;d++){try{(l=m[d]).scope.$eval(l.expression,l.locals)}catch(e){h(e)}_=null}m.length=0;e:do{if(i=a.$$watchers)for(i.$$digestWatchIndex=i.length;i.$$digestWatchIndex--;)try{if(e=i[i.$$digestWatchIndex])if((t=(0,e.get)(a))===(n=e.last)||(e.eq?De(t,n):A(t)&&A(n))){if(e===_){r=!1;break e}}else r=!0,(_=e).last=e.eq?N(t,null):t,(0,e.fn)(t,n===x?t:n,a),c<5&&(u[s=4-c]||(u[s]=[]),u[s].push({msg:xe(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,newVal:t,oldVal:n}))}catch(e){h(e)}if(!(o=a.$$watchersCount&&a.$$childHead||a!==this&&a.$$nextSibling))for(;a!==this&&!(o=a.$$nextSibling);)a=a.$parent}while(a=o);if((r||m.length)&&!c--)throw w(),k("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",S,u)}while(r||m.length);for(w();y<v.length;)try{v[y++]()}catch(e){h(e)}v.length=y=0},$destroy:function(){if(!this.$$destroyed){var e=this.$parent;for(var t in this.$broadcast("$destroy"),this.$$destroyed=!0,this===g&&p.$$applicationDestroyed(),l(this,-this.$$watchersCount),this.$$listenerCount)o(this,this.$$listenerCount[t],t);e&&e.$$childHead===this&&(e.$$childHead=this.$$nextSibling),e&&e.$$childTail===this&&(e.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=fe,this.$on=this.$watch=this.$watchGroup=function(){return fe},this.$$listeners={},this.$$nextSibling=null,function e(t){9===B&&(t.$$childHead&&e(t.$$childHead),t.$$nextSibling&&e(t.$$nextSibling)),t.$parent=t.$$nextSibling=t.$$prevSibling=t.$$childHead=t.$$childTail=t.$root=t.$$watchers=null}(this)}},$eval:function(e,t){return f(e)(this,t)},$evalAsync:function(e,t){g.$$phase||m.length||p.defer(function(){m.length&&g.$digest()}),m.push({scope:this,expression:f(e),locals:t})},$$postDigest:function(e){v.push(e)},$apply:function(e){try{b("$apply");try{return this.$eval(e)}finally{w()}}catch(e){h(e)}finally{try{g.$digest()}catch(e){throw h(e),e}}},$applyAsync:function(e){var t=this;e&&n.push(function(){t.$eval(e)}),e=f(e),null===T&&(T=p.defer(function(){g.$apply(C)}))},$on:function(t,n){var i=this.$$listeners[t];i||(this.$$listeners[t]=i=[]),i.push(n);for(var e=this;e.$$listenerCount[t]||(e.$$listenerCount[t]=0),e.$$listenerCount[t]++,e=e.$parent;);var r=this;return function(){var e=i.indexOf(n);-1!==e&&(i[e]=null,o(r,1,t))}},$emit:function(e,t){var n,i,r,o=[],a=this,s=!1,l={name:e,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=R([l],arguments,1);do{for(n=a.$$listeners[e]||o,l.currentScope=a,i=0,r=n.length;i<r;i++)if(n[i])try{n[i].apply(null,c)}catch(e){h(e)}else n.splice(i,1),i--,r--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(e,t){var n=this,i=this,r={name:e,targetScope:this,preventDefault:function(){r.defaultPrevented=!0},defaultPrevented:!1};if(!this.$$listenerCount[e])return r;for(var o,a,s,l=R([r],arguments,1);n=i;){for(a=0,s=(o=(r.currentScope=n).$$listeners[e]||[]).length;a<s;a++)if(o[a])try{o[a].apply(null,l)}catch(e){h(e)}else o.splice(a,1),a--,s--;if(!(i=n.$$listenerCount[e]&&n.$$childHead||n!==this&&n.$$nextSibling))for(;n!==this&&!(i=n.$$nextSibling);)n=n.$parent}return r.currentScope=null,r}};var g=new r,m=g.$$asyncQueue=[],v=g.$$postDigestQueue=[],n=g.$$applyAsyncQueue=[],y=0;return g;function b(e){if(g.$$phase)throw k("inprog","{0} already in progress",g.$$phase);g.$$phase=e}function w(){g.$$phase=null}function l(e,t){for(;e.$$watchersCount+=t,e=e.$parent;);}function o(e,t,n){for(;e.$$listenerCount[n]-=t,0===e.$$listenerCount[n]&&delete e.$$listenerCount[n],e=e.$parent;);}function x(){}function C(){for(;n.length;)try{n.shift()()}catch(e){h(e)}T=null}}]}function Qi(){var r=/^\s*(https?|ftp|mailto|tel|file):/,o=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return ve(e)?(r=e,this):r},this.imgSrcSanitizationWhitelist=function(e){return ve(e)?(o=e,this):o},this.$get=function(){return function(e,t){var n,i=t?o:r;return""===(n=dr(e).href)||n.match(i)?e:"unsafe:"+n}}}Vi.prototype={constructor:Vi,parse:function(e){return this.astCompiler.compile(e,this.options.expensiveChecks)}};var Zi=x("$sce"),er={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"};function tr(e){var t=[];return ve(e)&&de(e,function(e){t.push(function(e){if("self"===e)return e;if(be(e)){if(-1<e.indexOf("***"))throw Zi("iwcard","Illegal sequence *** in string matcher.  String: {0}",e);return e=$(e).replace(/\\\*\\\*/g,".*").replace(/\\\*/g,"[^:/.?&;]*"),new RegExp("^"+e+"$")}if(_(e))return new RegExp("^"+e.source+"$");throw Zi("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}(e))}),t}function nr(){this.SCE_CONTEXTS=er;var a=["self"],s=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(a=tr(e)),a},this.resourceUrlBlacklist=function(e){return arguments.length&&(s=tr(e)),s},this.$get=["$injector",function(e){var i=function(e){throw Zi("unsafe","Attempting to use an unsafe value in a safe context.")};function o(e,t){return"self"===e?hr(t):!!e.exec(t.href)}function t(e){var t=function(e){this.$$unwrapTrustedValue=function(){return e}};return e&&(t.prototype=new e),t.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},t.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},t}e.has("$sanitize")&&(i=e.get("$sanitize"));var n=t(),r={};return r[er.HTML]=t(n),r[er.CSS]=t(n),r[er.URL]=t(n),r[er.JS]=t(n),r[er.RESOURCE_URL]=t(r[er.URL]),{trustAs:function(e,t){var n=r.hasOwnProperty(e)?r[e]:null;if(!n)throw Zi("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",e,t);if(null===t||me(t)||""===t)return t;if("string"!=typeof t)throw Zi("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",e);return new n(t)},getTrusted:function(e,t){if(null===t||me(t)||""===t)return t;var n=r.hasOwnProperty(e)?r[e]:null;if(n&&t instanceof n)return t.$$unwrapTrustedValue();if(e===er.RESOURCE_URL){if(function(e){var t,n,i=dr(e.toString()),r=!1;for(t=0,n=a.length;t<n;t++)if(o(a[t],i)){r=!0;break}if(r)for(t=0,n=s.length;t<n;t++)if(o(s[t],i)){r=!1;break}return r}(t))return t;throw Zi("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",t.toString())}if(e===er.HTML)return i(t);throw Zi("unsafe","Attempting to use an unsafe value in a safe context.")},valueOf:function(e){return e instanceof n?e.$$unwrapTrustedValue():e}}}]}function ir(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(i,e){if(t&&B<8)throw Zi("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=qe(er);r.isEnabled=function(){return t},r.trustAs=e.trustAs,r.getTrusted=e.getTrusted,r.valueOf=e.valueOf,t||(r.trustAs=r.getTrusted=function(e,t){return t},r.valueOf=ge),r.parseAs=function(t,e){var n=i(e);return n.literal&&n.constant?n:i(e,function(e){return r.getTrusted(t,e)})};var o=r.parseAs,a=r.getTrusted,s=r.trustAs;return de(er,function(t,e){var n=k(e);r[Ke("parse_as_"+n)]=function(e){return o(t,e)},r[Ke("get_trusted_"+n)]=function(e){return a(t,e)},r[Ke("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function rr(){this.$get=["$window","$document",function(e,t){var n,i,r={},o=!(e.chrome&&(e.chrome.app&&e.chrome.app.runtime||!e.chrome.app&&e.chrome.runtime&&e.chrome.runtime.id))&&e.history&&e.history.pushState,a=g((/android (\d+)/.exec(k((e.navigator||{}).userAgent))||[])[1]),s=/Boxee/i.test((e.navigator||{}).userAgent),l=t[0]||{},c=/^(Moz|webkit|ms)(?=[A-Z])/,u=l.body&&l.body.style,d=!1,h=!1;if(u){for(var p in u)if(i=c.exec(p)){n=(n=i[0])[0].toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),d=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!a||d&&h||(d=be(u.webkitTransition),h=be(u.webkitAnimation))}return{history:!(!o||a<4||s),hasEvent:function(e){if("input"===e&&B<=11)return!1;if(me(r[e])){var t=l.createElement("div");r[e]="on"+e in t}return r[e]},csp:L(),vendorPrefix:n,transitions:d,animations:h,android:a}}]}var or=x("$compile");function ar(){var l;this.httpOptions=function(e){return e?(l=e,this):l},this.$get=["$templateCache","$http","$q","$sce",function(i,r,o,a){function s(t,n){s.totalPendingRequests++,be(t)&&!me(i.get(t))||(t=a.getTrustedResourceUrl(t));var e=r.defaults&&r.defaults.transformResponse;return we(e)?e=e.filter(function(e){return e!==In}):e===In&&(e=null),r.get(t,he({cache:i,transformResponse:e},l)).finally(function(){s.totalPendingRequests--}).then(function(e){return i.put(t,e.data),e.data},function(e){if(n)return o.reject(e);throw or("tpload","Failed to load template: {0} (HTTP status: {1} {2})",t,e.status,e.statusText)})}return s.totalPendingRequests=0,s}]}function sr(){this.$get=["$rootScope","$browser","$location",function(t,n,i){var e={findBindings:function(e,n,i){var t=e.getElementsByClassName("ng-binding"),r=[];return de(t,function(t){var e=b.element(t).data("$binding");e&&de(e,function(e){i?new RegExp("(^|\\s)"+$(n)+"(\\s|\\||$)").test(e)&&r.push(t):-1!==e.indexOf(n)&&r.push(t)})}),r},findModels:function(e,t,n){for(var i=["ng-","data-ng-","ng\\:"],r=0;r<i.length;++r){var o="["+i[r]+"model"+(n?"=":"*=")+'"'+t+'"]',a=e.querySelectorAll(o);if(a.length)return a}},getLocation:function(){return i.url()},setLocation:function(e){e!==i.url()&&(i.url(e),t.$digest())},whenStable:function(e){n.notifyWhenNoOutstandingRequests(e)}};return e}]}function lr(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(l,c,u,d,h){var p={};function e(e,t,n){xe(e)||(n=t,t=e,e=fe);var i,r=Ae(arguments,3),o=ve(n)&&!n,a=(o?d:u).defer(),s=a.promise;return i=c.defer(function(){try{a.resolve(e.apply(null,r))}catch(e){a.reject(e),h(e)}finally{delete p[s.$$timeoutId]}o||l.$apply()},t),s.$$timeoutId=i,p[i]=a,s}return e.cancel=function(e){return!!(e&&e.$$timeoutId in p)&&(p[e.$$timeoutId].reject("canceled"),delete p[e.$$timeoutId],c.defer.cancel(e.$$timeoutId))},e}]}var cr=q.document.createElement("a"),ur=dr(q.location.href);function dr(e){var t=e;return B&&(cr.setAttribute("href",t),t=cr.href),cr.setAttribute("href",t),{href:cr.href,protocol:cr.protocol?cr.protocol.replace(/:$/,""):"",host:cr.host,search:cr.search?cr.search.replace(/^\?/,""):"",hash:cr.hash?cr.hash.replace(/^#/,""):"",hostname:cr.hostname,port:cr.port,pathname:"/"===cr.pathname.charAt(0)?cr.pathname:"/"+cr.pathname}}function hr(e){var t=be(e)?dr(e):e;return t.protocol===ur.protocol&&t.host===ur.host}function pr(){this.$get=T(q)}function fr(e){var a=e[0]||{},s={},l="";function c(t){try{return decodeURIComponent(t)}catch(e){return t}}return function(){var e,t,n,i,r,o=function(e){try{return e.cookie||""}catch(e){return""}}(a);if(o!==l)for(e=(l=o).split("; "),s={},n=0;n<e.length;n++)0<(i=(t=e[n]).indexOf("="))&&(r=c(t.substring(0,i)),me(s[r])&&(s[r]=c(t.substring(i+1))));return s}}function gr(){this.$get=fr}function mr(i){var r="Filter";function o(e,t){if(ye(e)){var n={};return de(e,function(e,t){n[t]=o(t,e)}),n}return i.factory(e+r,t)}this.register=o,this.$get=["$injector",function(t){return function(e){return t.get(e+r)}}],o("currency",Sr),o("date",Nr),o("filter",vr),o("json",Lr),o("limitTo",Fr),o("lowercase",jr),o("number",kr),o("orderBy",Hr),o("uppercase",Rr)}function vr(){return function(e,t,n,i){if(!O(e)){if(null==e)return e;throw x("filter")("notarray","Expected array but received: {0}",e)}var r,o;switch(i=i||"$",br(t)){case"function":r=t;break;case"boolean":case"null":case"number":case"string":o=!0;case"object":r=function(t,n,i,r){var o=ye(t)&&i in t;!0===n?n=De:xe(n)||(n=function(e,t){return!me(e)&&(null===e||null===t?e===t:!(ye(t)||ye(e)&&!y(e))&&(e=k(""+e),t=k(""+t),-1!==e.indexOf(t)))});return function(e){return o&&!ye(e)?yr(e,t[i],n,i,!1):yr(e,t,n,i,r)}}(t,n,i,o);break;default:return e}return Array.prototype.filter.call(e,r)}}function yr(e,t,n,i,r,o){var a=br(e),s=br(t);if("string"===s&&"!"===t.charAt(0))return!yr(e,t.substring(1),n,i,r);if(we(e))return e.some(function(e){return yr(e,t,n,i,r)});switch(a){case"object":var l;if(r){for(l in e)if("$"!==l.charAt(0)&&yr(e[l],t,n,i,!0))return!0;return!o&&yr(e,t,n,i,!1)}if("object"!==s)return n(e,t);for(l in t){var c=t[l];if(!xe(c)&&!me(c)){var u=l===i;if(!yr(u?e:e[l],c,n,i,u,u))return!1}}return!0;case"function":return!1;default:return n(e,t)}}function br(e){return null===e?"null":typeof e}fr.$inject=["$document"],mr.$inject=["$provide"];var wr=22,xr=".",Cr="0";function Sr(e){var i=e.NUMBER_FORMATS;return function(e,t,n){return me(t)&&(t=i.CURRENCY_SYM),me(n)&&(n=i.PATTERNS[1].maxFrac),null==e?e:_r(e,i.PATTERNS[1],i.GROUP_SEP,i.DECIMAL_SEP,n).replace(/\u00A4/g,t)}}function kr(e){var n=e.NUMBER_FORMATS;return function(e,t){return null==e?e:_r(e,n.PATTERNS[0],n.GROUP_SEP,n.DECIMAL_SEP,t)}}function _r(e,t,n,i,r){if(!be(e)&&!C(e)||isNaN(e))return"";var o,a=!isFinite(e),s=!1,l=Math.abs(e)+"",c="";if(a)c="∞";else{(function(e,t,n,i){var r=e.d,o=r.length-e.i,a=(t=me(t)?Math.min(Math.max(n,o),i):+t)+e.i,s=r[a];if(0<a){r.splice(Math.max(e.i,a));for(var l=a;l<r.length;l++)r[l]=0}else{o=Math.max(0,o),e.i=1,r.length=Math.max(1,a=t+1),r[0]=0;for(var c=1;c<a;c++)r[c]=0}if(5<=s)if(a-1<0){for(var u=0;a<u;u--)r.unshift(0),e.i++;r.unshift(1),e.i++}else r[a-1]++;for(;o<Math.max(0,t);o++)r.push(0);var d=r.reduceRight(function(e,t,n,i){return t+=e,i[n]=t%10,Math.floor(t/10)},0);d&&(r.unshift(d),e.i++)})(o=function(e){var t,n,i,r,o,a=0;for(-1<(n=e.indexOf(xr))&&(e=e.replace(xr,"")),0<(i=e.search(/e/i))?(n<0&&(n=i),n+=+e.slice(i+1),e=e.substring(0,i)):n<0&&(n=e.length),i=0;e.charAt(i)===Cr;i++);if(i===(o=e.length))t=[0],n=1;else{for(o--;e.charAt(o)===Cr;)o--;for(n-=i,t=[],r=0;i<=o;i++,r++)t[r]=+e.charAt(i)}return wr<n&&(t=t.splice(0,wr-1),a=n-1,n=1),{d:t,e:a,i:n}}(l),r,t.minFrac,t.maxFrac);var u=o.d,d=o.i,h=o.e,p=[];for(s=u.reduce(function(e,t){return e&&!t},!0);d<0;)u.unshift(0),d++;0<d?p=u.splice(d,u.length):(p=u,u=[0]);var f=[];for(u.length>=t.lgSize&&f.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)f.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&f.unshift(u.join("")),c=f.join(n),p.length&&(c+=i+p.join("")),h&&(c+="e+"+h)}return e<0&&!s?t.negPre+c+t.negSuf:t.posPre+c+t.posSuf}function Tr(e,t,n,i){var r="";for((e<0||i&&e<=0)&&(i?e=1-e:(e=-e,r="-")),e=""+e;e.length<t;)e=Cr+e;return n&&(e=e.substr(e.length-t)),r+e}function Dr(n,i,r,o,a){return r=r||0,function(e){var t=e["get"+n]();return(0<r||-r<t)&&(t+=r),0===t&&-12===r&&(t=12),Tr(t,i,o,a)}}function Ar(i,r,o){return function(e,t){var n=e["get"+i]();return t[u((o?"STANDALONE":"")+(r?"SHORT":"")+i)][n]}}function Er(e){var t=new Date(e,0,1).getDay();return new Date(e,0,(t<=4?5:12)-t)}function Ir(r){return function(e){var t,n=Er(e.getFullYear()),i=+(t=e,new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay())))-+n;return Tr(1+Math.round(i/6048e5),r)}}function Pr(e,t){return e.getFullYear()<=0?t.ERAS[0]:t.ERAS[1]}Sr.$inject=["$locale"];var $r={yyyy:Dr("FullYear",4,0,!(kr.$inject=["$locale"]),!0),yy:Dr("FullYear",2,0,!0,!0),y:Dr("FullYear",1,0,!1,!0),MMMM:Ar("Month"),MMM:Ar("Month",!0),MM:Dr("Month",2,1),M:Dr("Month",1,1),LLLL:Ar("Month",!1,!0),dd:Dr("Date",2),d:Dr("Date",1),HH:Dr("Hours",2),H:Dr("Hours",1),hh:Dr("Hours",2,-12),h:Dr("Hours",1,-12),mm:Dr("Minutes",2),m:Dr("Minutes",1),ss:Dr("Seconds",2),s:Dr("Seconds",1),sss:Dr("Milliseconds",3),EEEE:Ar("Day"),EEE:Ar("Day",!0),a:function(e,t){return e.getHours()<12?t.AMPMS[0]:t.AMPMS[1]},Z:function(e,t,n){var i=-1*n,r=0<=i?"+":"";return r+=Tr(Math[0<i?"floor":"ceil"](i/60),2)+Tr(Math.abs(i%60),2)},ww:Ir(2),w:Ir(1),G:Pr,GG:Pr,GGG:Pr,GGGG:function(e,t){return e.getFullYear()<=0?t.ERANAMES[0]:t.ERANAMES[1]}},Mr=/((?:[^yMLdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,Or=/^-?\d+$/;function Nr(l){var d=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(t,e,n){var i,r,o="",a=[];if(e=e||"mediumDate",e=l.DATETIME_FORMATS[e]||e,be(t)&&(t=Or.test(t)?g(t):function(e){var t;if(t=e.match(d)){var n=new Date(0),i=0,r=0,o=t[8]?n.setUTCFullYear:n.setFullYear,a=t[8]?n.setUTCHours:n.setHours;t[9]&&(i=g(t[9]+t[10]),r=g(t[9]+t[11])),o.call(n,g(t[1]),g(t[2])-1,g(t[3]));var s=g(t[4]||0)-i,l=g(t[5]||0)-r,c=g(t[6]||0),u=Math.round(1e3*parseFloat("0."+(t[7]||0)));return a.call(n,s,l,c,u),n}return e}(t)),C(t)&&(t=new Date(t)),!S(t)||!isFinite(t.getTime()))return t;for(;e;)(r=Mr.exec(e))?e=(a=R(a,r,1)).pop():(a.push(e),e=null);var s=t.getTimezoneOffset();return n&&(s=W(n,s),t=G(t,n,!0)),de(a,function(e){i=$r[e],o+=i?i(t,l.DATETIME_FORMATS,s):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),o}}function Lr(){return function(e,t){return me(t)&&(t=2),F(e,t)}}Nr.$inject=["$locale"];var jr=T(k),Rr=T(u);function Fr(){return function(e,t,n){return t=Math.abs(Number(t))===1/0?Number(t):g(t),A(t)?e:(C(e)&&(e=e.toString()),O(e)?(n=(n=!n||isNaN(n)?0:g(n))<0?Math.max(0,e.length+n):n,0<=t?qr(e,n,n+t):0===n?qr(e,t,e.length):qr(e,Math.max(0,n+t),n)):e)}}function qr(e,t,n){return be(e)?e.slice(t,n):s.call(e,t,n)}function Hr(l){return function(e,t,n,i){if(null==e)return e;if(!O(e))throw x("orderBy")("notarray","Expected array but received: {0}",e);we(t)||(t=[t]),0===t.length&&(t=["+"]);var o=t.map(function(e){var t=1,n=ge;if(xe(e))n=e;else if(be(e)&&("+"!==e.charAt(0)&&"-"!==e.charAt(0)||(t="-"===e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(n=l(e)).constant)){var i=n();n=function(e){return e[i]}}return{get:n,descending:t}}),a=n?-1:1,s=xe(i)?i:u,r=Array.prototype.map.call(e,function(t,n){return{value:t,tieBreaker:{value:n,type:"number",index:n},predicateValues:o.map(function(e){return function(e,t){var n=typeof e;null===e?(n="string",e="null"):"object"===n&&(e=function(e){if(xe(e.valueOf)&&c(e=e.valueOf()))return e;if(y(e)&&c(e=e.toString()))return e;return e}(e));return{value:e,type:n,index:t}}(e.get(t),n)})}});return r.sort(function(e,t){for(var n=0,i=o.length;n<i;n++){var r=s(e.predicateValues[n],t.predicateValues[n]);if(r)return r*o[n].descending*a}return s(e.tieBreaker,t.tieBreaker)*a}),e=r.map(function(e){return e.value})};function c(e){switch(typeof e){case"number":case"boolean":case"string":return!0;default:return!1}}function u(e,t){var n=0,i=e.type,r=t.type;if(i===r){var o=e.value,a=t.value;"string"===i?(o=o.toLowerCase(),a=a.toLowerCase()):"object"===i&&(ye(o)&&(o=e.index),ye(a)&&(a=t.index)),o!==a&&(n=o<a?-1:1)}else n=i<r?-1:1;return n}}function Br(e){return xe(e)&&(e={link:e}),e.restrict=e.restrict||"AC",T(e)}Hr.$inject=["$parse"];var Vr=T({restrict:"E",compile:function(e,t){if(!t.href&&!t.xlinkHref)return function(e,t){if("a"===t[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===V.call(t.prop("href"))?"xlink:href":"href";t.on("click",function(e){t.attr(n)||e.preventDefault()})}}}}),Ur={};de(kt,function(e,i){if("multiple"!==e){var r=dn("ng-"+i),t=o;"checked"===e&&(t=function(e,t,n){n.ngModel!==n[r]&&o(e,0,n)}),Ur[r]=function(){return{restrict:"A",priority:100,link:t}}}function o(e,t,n){e.$watch(n[r],function(e){n.$set(i,!!e)})}}),de(Tt,function(e,r){Ur[r]=function(){return{priority:100,link:function(e,t,n){if("ngPattern"===r&&"/"===n.ngPattern.charAt(0)){var i=n.ngPattern.match(o);if(i)return void n.$set("ngPattern",new RegExp(i[1],i[2]))}e.$watch(n[r],function(e){n.$set(r,e)})}}}}),de(["src","srcset","href"],function(o){var a=dn("ng-"+o);Ur[a]=function(){return{priority:99,link:function(e,t,n){var i=o,r=o;"href"===o&&"[object SVGAnimatedString]"===V.call(t.prop("href"))&&(r="xlinkHref",n.$attr[r]="xlink:href",i=null),n.$observe(a,function(e){e?(n.$set(r,e),B&&i&&t.prop(i,n[r])):"href"===o&&n.$set(r,null)})}}}});var zr={$addControl:fe,$$renameControl:function(e,t){e.$name=t},$removeControl:fe,$setValidity:fe,$setDirty:fe,$setPristine:fe,$setSubmitted:fe},Wr="ng-submitted";function Gr(e,t,n,i,r){var o=this,a=[];o.$error={},o.$$success={},o.$pending=void 0,o.$name=r(t.name||t.ngForm||"")(n),o.$dirty=!1,o.$pristine=!0,o.$valid=!0,o.$invalid=!1,o.$submitted=!1,o.$$parentForm=zr,o.$rollbackViewValue=function(){de(a,function(e){e.$rollbackViewValue()})},o.$commitViewValue=function(){de(a,function(e){e.$commitViewValue()})},o.$addControl=function(e){le(e.$name,"input"),a.push(e),e.$name&&(o[e.$name]=e),e.$$parentForm=o},o.$$renameControl=function(e,t){var n=e.$name;o[n]===e&&delete o[n],(o[t]=e).$name=t},o.$removeControl=function(n){n.$name&&o[n.$name]===n&&delete o[n.$name],de(o.$pending,function(e,t){o.$setValidity(t,null,n)}),de(o.$error,function(e,t){o.$setValidity(t,null,n)}),de(o.$$success,function(e,t){o.$setValidity(t,null,n)}),Te(a,n),n.$$parentForm=zr},Zo({ctrl:this,$element:e,set:function(e,t,n){var i=e[t];i?-1===i.indexOf(n)&&i.push(n):e[t]=[n]},unset:function(e,t,n){var i=e[t];i&&(Te(i,n),0===i.length&&delete e[t])},$animate:i}),o.$setDirty=function(){i.removeClass(e,Bo),i.addClass(e,Vo),o.$dirty=!0,o.$pristine=!1,o.$$parentForm.$setDirty()},o.$setPristine=function(){i.setClass(e,Bo,Vo+" "+Wr),o.$dirty=!1,o.$pristine=!0,o.$submitted=!1,de(a,function(e){e.$setPristine()})},o.$setUntouched=function(){de(a,function(e){e.$setUntouched()})},o.$setSubmitted=function(){i.addClass(e,Wr),o.$submitted=!0,o.$$parentForm.$setSubmitted()}}Gr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var Yr=function(n){return["$timeout","$parse",function(l,t){return{name:"form",restrict:n?"EAC":"E",require:["form","^^?form"],controller:Gr,compile:function(e,t){e.addClass(Bo).addClass(qo);var s=t.name?"name":!(!n||!t.ngForm)&&"ngForm";return{pre:function(t,e,n,i){var r=i[0];if(!("action"in n)){var o=function(e){t.$apply(function(){r.$commitViewValue(),r.$setSubmitted()}),e.preventDefault()};ze(e[0],"submit",o),e.on("$destroy",function(){l(function(){We(e[0],"submit",o)},0,!1)})}(i[1]||r.$$parentForm).$addControl(r);var a=s?c(r.$name):fe;s&&(a(t,r),n.$observe(s,function(e){r.$name!==e&&(a(t,void 0),r.$$parentForm.$$renameControl(r,e),(a=c(r.$name))(t,r))})),e.on("$destroy",function(){r.$$parentForm.$removeControl(r),a(t,void 0),he(r,zr)})}}}};function c(e){return""===e?t('this[""]').assign:t(e).assign||fe}}]},Xr=Yr(),Jr=Yr(!0),Kr=/^\d{4,}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+(?:[+-][0-2]\d:[0-5]\d|Z)$/,Qr=/^[a-z][a-z\d.+-]*:\/*(?:[^:@]+(?::[^@]+)?@)?(?:[^\s:/?#]+|\[[a-f\d:]+])(?::\d+)?(?:\/[^?#]*)?(?:\?[^#]*)?(?:#.*)?$/i,Zr=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/,eo=/^\s*(-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,to=/^(\d{4,})-(\d{2})-(\d{2})$/,no=/^(\d{4,})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,io=/^(\d{4,})-W(\d\d)$/,ro=/^(\d{4,})-(\d\d)$/,oo=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,ao="keydown wheel mousedown",so=Oe();de("date,datetime-local,month,time,week".split(","),function(e){so[e]=!0});var lo={text:function(e,t,n,i,r,o){uo(e,t,n,i,r,o),co(i)},date:po("date",to,ho(to,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":po("datetimelocal",no,ho(no,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:po("time",oo,ho(oo,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:po("week",io,function(e,t){if(S(e))return e;if(be(e)){io.lastIndex=0;var n=io.exec(e);if(n){var i=+n[1],r=+n[2],o=0,a=0,s=0,l=0,c=Er(i),u=7*(r-1);return t&&(o=t.getHours(),a=t.getMinutes(),s=t.getSeconds(),l=t.getMilliseconds()),new Date(i,0,c.getDate()+u,o,a,s,l)}}return NaN},"yyyy-Www"),month:po("month",ro,ho(ro,["yyyy","MM"]),"yyyy-MM"),number:function(e,t,n,i,r,o){var a,s;fo(e,t,n,i),uo(e,t,n,i,r,o),go(i),(ve(n.min)||n.ngMin)&&(i.$validators.min=function(e){return i.$isEmpty(e)||me(a)||a<=e},n.$observe("min",function(e){a=mo(e),i.$validate()}));(ve(n.max)||n.ngMax)&&(i.$validators.max=function(e){return i.$isEmpty(e)||me(s)||e<=s},n.$observe("max",function(e){s=mo(e),i.$validate()}))},url:function(e,t,n,i,r,o){uo(e,t,n,i,r,o),co(i),i.$$parserName="url",i.$validators.url=function(e,t){var n=e||t;return i.$isEmpty(n)||Qr.test(n)}},email:function(e,t,n,i,r,o){uo(e,t,n,i,r,o),co(i),i.$$parserName="email",i.$validators.email=function(e,t){var n=e||t;return i.$isEmpty(n)||Zr.test(n)}},radio:function(e,t,n,i){me(n.name)&&t.attr("name",D());t.on("click",function(e){t[0].checked&&i.$setViewValue(n.value,e&&e.type)}),i.$render=function(){var e=n.value;t[0].checked=e==i.$viewValue},n.$observe("value",i.$render)},range:function(e,n,i,r,t,o){fo(e,n,i,r),go(r),uo(e,n,i,r,t,o);var a=r.$$hasNativeValidators&&"range"===n[0].type,s=a?0:void 0,l=a?100:void 0,c=a?1:void 0,u=n[0].validity,d=ve(i.min),h=ve(i.max),p=ve(i.step),f=r.$render;r.$render=a&&ve(u.rangeUnderflow)&&ve(u.rangeOverflow)?function(){f(),r.$setViewValue(n.val())}:f,d&&(r.$validators.min=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||me(s)||s<=t},g("min",function(e){if(s=mo(e),A(r.$modelValue))return;if(a){var t=n.val();t<s&&(t=s,n.val(t)),r.$setViewValue(t)}else r.$validate()}));h&&(r.$validators.max=a?function(){return!0}:function(e,t){return r.$isEmpty(t)||me(l)||t<=l},g("max",function(e){if(l=mo(e),A(r.$modelValue))return;if(a){var t=n.val();l<t&&(n.val(l),t=l<s?s:l),r.$setViewValue(t)}else r.$validate()}));p&&(r.$validators.step=a?function(){return!u.stepMismatch}:function(e,t){return r.$isEmpty(t)||me(c)||function(e,t,n){var i=Number(e);if(!vo(i)||!vo(t)||!vo(n)){var r=Math.max(yo(i),yo(t),yo(n)),o=Math.pow(10,r);i*=o,t*=o,n*=o}return(i-t)%n==0}(t,s||0,c)},g("step",function(e){if(c=mo(e),A(r.$modelValue))return;a&&r.$viewValue!==n.val()?r.$setViewValue(n.val()):r.$validate()}));function g(e,t){n.attr(e,i[e]),i.$observe(e,t)}},checkbox:function(e,t,n,i,r,o,a,s){var l=bo(s,e,"ngTrueValue",n.ngTrueValue,!0),c=bo(s,e,"ngFalseValue",n.ngFalseValue,!1);t.on("click",function(e){i.$setViewValue(t[0].checked,e&&e.type)}),i.$render=function(){t[0].checked=i.$viewValue},i.$isEmpty=function(e){return!1===e},i.$formatters.push(function(e){return De(e,l)}),i.$parsers.push(function(e){return e?l:c})},hidden:fe,button:fe,submit:fe,reset:fe,file:fe};function co(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function uo(e,i,r,o,t,a){var s,l=k(i[0].type);if(!t.android){var c=!1;i.on("compositionstart",function(){c=!0}),i.on("compositionend",function(){c=!1,u()})}var u=function(e){if(s&&(a.defer.cancel(s),s=null),!c){var t=i.val(),n=e&&e.type;"password"===l||r.ngTrim&&"false"===r.ngTrim||(t=ke(t)),(o.$viewValue!==t||""===t&&o.$$hasNativeValidators)&&o.$setViewValue(t,n)}};if(t.hasEvent("input"))i.on("input",u);else{var n=function(e,t,n){s||(s=a.defer(function(){s=null,t&&t.value===n||u(e)}))};i.on("keydown",function(e){var t=e.keyCode;91===t||15<t&&t<19||37<=t&&t<=40||n(e,this,this.value)}),t.hasEvent("paste")&&i.on("paste cut",n)}i.on("change",u),so[l]&&o.$$hasNativeValidators&&l===r.type&&i.on(ao,function(e){if(!s){var t=this[d],n=t.badInput,i=t.typeMismatch;s=a.defer(function(){s=null,t.badInput===n&&t.typeMismatch===i||u(e)})}}),o.$render=function(){var e=o.$isEmpty(o.$viewValue)?"":o.$viewValue;i.val()!==e&&i.val(e)}}function ho(r,o){return function(e,t){var n,i;if(S(e))return e;if(be(e)){if('"'===e.charAt(0)&&'"'===e.charAt(e.length-1)&&(e=e.substring(1,e.length-1)),Kr.test(e))return new Date(e);if(r.lastIndex=0,n=r.exec(e))return n.shift(),i=t?{yyyy:t.getFullYear(),MM:t.getMonth()+1,dd:t.getDate(),HH:t.getHours(),mm:t.getMinutes(),ss:t.getSeconds(),sss:t.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},de(n,function(e,t){t<o.length&&(i[o[t]]=+e)}),new Date(i.yyyy,i.MM-1,i.dd,i.HH,i.mm,i.ss||0,1e3*i.sss||0)}return NaN}}function po(p,f,g,m){return function(e,t,n,i,r,o,a){fo(e,t,n,i),uo(0,t,n,i,r,o);var s,l,c,u=i&&i.$options&&i.$options.timezone;(i.$$parserName=p,i.$parsers.push(function(e){if(i.$isEmpty(e))return null;if(f.test(e)){var t=g(e,s);return u&&(t=G(t,u)),t}}),i.$formatters.push(function(e){if(e&&!S(e))throw Yo("datefmt","Expected `{0}` to be a date",e);return d(e)?((s=e)&&u&&(s=G(s,u,!0)),a("date")(e,m,u)):(s=null,"")}),ve(n.min)||n.ngMin)&&(i.$validators.min=function(e){return!d(e)||me(l)||g(e)>=l},n.$observe("min",function(e){l=h(e),i.$validate()}));(ve(n.max)||n.ngMax)&&(i.$validators.max=function(e){return!d(e)||me(c)||g(e)<=c},n.$observe("max",function(e){c=h(e),i.$validate()}));function d(e){return e&&!(e.getTime&&e.getTime()!=e.getTime())}function h(e){return ve(e)&&!S(e)?g(e)||void 0:e}}}function fo(e,n,t,i){var r=n[0];(i.$$hasNativeValidators=ye(r.validity))&&i.$parsers.push(function(e){var t=n.prop(d)||{};return t.badInput||t.typeMismatch?void 0:e})}function go(t){t.$$parserName="number",t.$parsers.push(function(e){return t.$isEmpty(e)?null:eo.test(e)?parseFloat(e):void 0}),t.$formatters.push(function(e){if(!t.$isEmpty(e)){if(!C(e))throw Yo("numfmt","Expected `{0}` to be a number",e);e=e.toString()}return e})}function mo(e){return ve(e)&&!C(e)&&(e=parseFloat(e)),A(e)?void 0:e}function vo(e){return(0|e)===e}function yo(e){var t=e.toString(),n=t.indexOf(".");if(-1!==n)return t.length-n-1;if(-1<e&&e<1){var i=/e-(\d+)$/.exec(t);if(i)return Number(i[1])}return 0}function bo(e,t,n,i,r){var o;if(ve(i)){if(!(o=e(i)).constant)throw Yo("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return o(t)}return r}var wo=["$browser","$sniffer","$filter","$parse",function(o,a,s,l){return{restrict:"E",require:["?ngModel"],link:{pre:function(e,t,n,i){if(i[0]){var r=k(n.type);"range"!==r||n.hasOwnProperty("ngInputRange")||(r="text"),(lo[r]||lo.text)(e,t,n,i[0],a,o,s,l)}}}}}],xo=/^(true|false|\d+)$/,Co=function(){return{restrict:"A",priority:100,compile:function(e,t){return xo.test(t.ngValue)?function(e,t,n){n.$set("value",e.$eval(n.ngValue))}:function(e,t,n){e.$watch(n.ngValue,function(e){n.$set("value",e)})}}}},So=["$compile",function(i){return{restrict:"AC",compile:function(e){return i.$$addBindingClass(e),function(e,t,n){i.$$addBindingInfo(t,n.ngBind),t=t[0],e.$watch(n.ngBind,function(e){t.textContent=me(e)?"":e})}}}}],ko=["$interpolate","$compile",function(r,o){return{compile:function(e){return o.$$addBindingClass(e),function(e,t,n){var i=r(t.attr(n.$attr.ngBindTemplate));o.$$addBindingInfo(t,i.expressions),t=t[0],n.$observe("ngBindTemplate",function(e){t.textContent=me(e)?"":e})}}}}],_o=["$sce","$parse","$compile",function(o,n,a){return{restrict:"A",compile:function(e,t){var i=n(t.ngBindHtml),r=n(t.ngBindHtml,function(e){return o.valueOf(e)});return a.$$addBindingClass(e),function(t,n,e){a.$$addBindingInfo(n,e.ngBindHtml),t.$watch(r,function(){var e=i(t);n.html(o.getTrustedHtml(e)||"")})}}}}],To=T({restrict:"A",require:"ngModel",link:function(e,t,n,i){i.$viewChangeListeners.push(function(){e.$eval(n.ngChange)})}});function Do(n,g){return n="ngClass"+n,["$animate",function(h){return{restrict:"AC",link:function(s,l,o){var c;function u(e){var t=d(e,1);o.$addClass(t)}function d(e,t){var n=l.data("$classCounts")||Oe(),i=[];return de(e,function(e){(0<t||n[e])&&(n[e]=(n[e]||0)+t,n[e]===+(0<t)&&i.push(e))}),l.data("$classCounts",n),i.join(" ")}function t(e){if(!0===g||(1&s.$index)===g){var t=f(e||[]);if(c){if(!De(e,c)){var n=f(c);o=p(r=t,i=n),a=p(i,r),o=d(o,1),a=d(a,-1),o&&o.length&&h.addClass(l,o),a&&a.length&&h.removeClass(l,a)}}else u(t)}var i,r,o,a;c=we(e)?e.map(function(e){return qe(e)}):qe(e)}o.$observe("class",function(e){t(s.$eval(o[n]))}),"ngClass"!==n&&s.$watch("$index",function(e,t){var n,i=1&e;if(i!==(1&t)){var r=f(c);i===g?u(r):(n=d(r,-1),o.$removeClass(n))}}),s.$watch(o[n],t,!0)}};function p(e,t){var n=[];e:for(var i=0;i<e.length;i++){for(var r=e[i],o=0;o<t.length;o++)if(r===t[o])continue e;n.push(r)}return n}function f(e){var n=[];return we(e)?(de(e,function(e){n=n.concat(f(e))}),n):be(e)?e.split(" "):ye(e)?(de(e,function(e,t){e&&(n=n.concat(t.split(" ")))}),n):e}}]}var Ao=Do("",!0),Eo=Do("Odd",0),Io=Do("Even",1),Po=Br({compile:function(e,t){t.$set("ngCloak",void 0),e.removeClass("ng-cloak")}}),$o=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Mo={},Oo={blur:!0,focus:!0};de("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(o){var a=dn("ng-"+o);Mo[a]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(e,t){var i=n(t[a],null,!0);return function(n,e){e.on(o,function(e){var t=function(){i(n,{$event:e})};Oo[o]&&r.$$phase?n.$evalAsync(t):n.$apply(t)})}}}}]});var No=["$animate","$compile",function(l,c){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(e,n,i,t,r){var o,a,s;e.$watch(i.ngIf,function(e){e?a||r(function(e,t){a=t,e[e.length++]=c.$$createComment("end ngIf",i.ngIf),o={clone:e},l.enter(e,n.parent(),n)}):(s&&(s.remove(),s=null),a&&(a.$destroy(),a=null),o&&(s=Me(o.clone),l.leave(s).done(function(e){!1!==e&&(s=null)}),o=null))})}}}],Lo=["$templateRequest","$anchorScroll","$animate",function(m,v,y){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:b.noop,compile:function(e,t){var n=t.ngInclude||t.src,f=t.onload||"",g=t.autoscroll;return function(a,s,e,l,c){var u,t,d,h=0,p=function(){t&&(t.remove(),t=null),u&&(u.$destroy(),u=null),d&&(y.leave(d).done(function(e){!1!==e&&(t=null)}),t=d,d=null)};a.$watch(n,function(i){var r=function(e){!1===e||!ve(g)||g&&!a.$eval(g)||v()},o=++h;i?(m(i,!0).then(function(e){if(!a.$$destroyed&&o===h){var t=a.$new();l.template=e;var n=c(t,function(e){p(),y.enter(e,null,s).done(r)});d=n,(u=t).$emit("$includeContentLoaded",i),a.$eval(f)}},function(){a.$$destroyed||o===h&&(p(),a.$emit("$includeContentError",i))}),a.$emit("$includeContentRequested",i)):(p(),l.template=null)})}}}}],jo=["$compile",function(r){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(e,t,n,i){if(V.call(t[0]).match(/SVG/))return t.empty(),void r(ot(i.template,q.document).childNodes)(e,function(e){t.append(e)},{futureParentElement:t});t.html(i.template),r(t.contents())(e)}}}],Ro=Br({priority:450,compile:function(){return{pre:function(e,t,n){e.$eval(n.ngInit)}}}}),Fo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(e,t,n,i){var r=t.attr(n.$attr.ngList)||", ",o="false"!==n.ngTrim,a=o?ke(r):r;i.$parsers.push(function(e){if(!me(e)){var t=[];return e&&de(e.split(a),function(e){e&&t.push(o?ke(e):e)}),t}}),i.$formatters.push(function(e){if(we(e))return e.join(r)}),i.$isEmpty=function(e){return!e||!e.length}}}},qo="ng-valid",Ho="ng-invalid",Bo="ng-pristine",Vo="ng-dirty",Uo="ng-untouched",zo="ng-touched",Wo="ng-pending",Go="ng-not-empty",Yo=x("ngModel"),Xo=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(o,t,r,a,s,n,l,c,u,e){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=void 0,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=void 0,this.$name=e(r.name||"",!1)(o),this.$$parentForm=zr;var d,h=s(r.ngModel),p=h.assign,f=h,g=p,m=null,v=this;this.$$setOptions=function(e){if((v.$options=e)&&e.getterSetter){var n=s(r.ngModel+"()"),i=s(r.ngModel+"($$$p)");f=function(e){var t=h(e);return xe(t)&&(t=n(e)),t},g=function(e,t){xe(h(e))?i(e,{$$$p:t}):p(e,t)}}else if(!h.assign)throw Yo("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Ie(a))},this.$render=fe,this.$isEmpty=function(e){return me(e)||""===e||null===e||e!=e},this.$$updateEmptyClasses=function(e){v.$isEmpty(e)?(n.removeClass(a,Go),n.addClass(a,"ng-empty")):(n.removeClass(a,"ng-empty"),n.addClass(a,Go))};var y=0;Zo({ctrl:this,$element:a,set:function(e,t){e[t]=!0},unset:function(e,t){delete e[t]},$animate:n}),this.$setPristine=function(){v.$dirty=!1,v.$pristine=!0,n.removeClass(a,Vo),n.addClass(a,Bo)},this.$setDirty=function(){v.$dirty=!0,v.$pristine=!1,n.removeClass(a,Bo),n.addClass(a,Vo),v.$$parentForm.$setDirty()},this.$setUntouched=function(){v.$touched=!1,v.$untouched=!0,n.setClass(a,Uo,zo)},this.$setTouched=function(){v.$touched=!0,v.$untouched=!1,n.setClass(a,zo,Uo)},this.$rollbackViewValue=function(){l.cancel(m),v.$viewValue=v.$$lastCommittedViewValue,v.$render()},this.$validate=function(){if(!A(v.$modelValue)){var e=v.$$lastCommittedViewValue,t=v.$$rawModelValue,n=v.$valid,i=v.$modelValue,r=v.$options&&v.$options.allowInvalid;v.$$runValidators(t,e,function(e){r||n===e||(v.$modelValue=e?t:void 0,v.$modelValue!==i&&v.$$writeModelToScope())})}},this.$$runValidators=function(i,r,t){var o,a,s,n=++y;(function(){var e=v.$$parserName||"parse";{if(!me(d))return d||(de(v.$validators,function(e,t){l(t,null)}),de(v.$asyncValidators,function(e,t){l(t,null)})),l(e,d),d;l(e,null)}return!0})()?(o=!0,de(v.$validators,function(e,t){var n=e(i,r);o=o&&n,l(t,n)}),o||(de(v.$asyncValidators,function(e,t){l(t,null)}),0)?(a=[],s=!0,de(v.$asyncValidators,function(e,t){var n=e(i,r);if(!I(n))throw Yo("nopromise","Expected asynchronous validator to return a promise but got '{0}' instead.",n);l(t,void 0),a.push(n.then(function(){l(t,!0)},function(){l(t,s=!1)}))}),a.length?u.all(a).then(function(){e(s)},fe):e(!0)):e(!1)):e(!1);function l(e,t){n===y&&v.$setValidity(e,t)}function e(e){n===y&&t(e)}},this.$commitViewValue=function(){var e=v.$viewValue;l.cancel(m),(v.$$lastCommittedViewValue!==e||""===e&&v.$$hasNativeValidators)&&(v.$$updateEmptyClasses(e),v.$$lastCommittedViewValue=e,v.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){var t=v.$$lastCommittedViewValue;if(d=!me(t)||void 0)for(var e=0;e<v.$parsers.length;e++)if(me(t=v.$parsers[e](t))){d=!1;break}A(v.$modelValue)&&(v.$modelValue=f(o));var n=v.$modelValue,i=v.$options&&v.$options.allowInvalid;function r(){v.$modelValue!==n&&v.$$writeModelToScope()}v.$$rawModelValue=t,i&&(v.$modelValue=t,r()),v.$$runValidators(t,v.$$lastCommittedViewValue,function(e){i||(v.$modelValue=e?t:void 0,r())})},this.$$writeModelToScope=function(){g(o,v.$modelValue),de(v.$viewChangeListeners,function(e){try{e()}catch(e){t(e)}})},this.$setViewValue=function(e,t){v.$viewValue=e,v.$options&&!v.$options.updateOnDefault||v.$$debounceViewValueCommit(t)},this.$$debounceViewValueCommit=function(e){var t,n=0,i=v.$options;i&&ve(i.debounce)&&(C(t=i.debounce)?n=t:C(t[e])?n=t[e]:C(t.default)&&(n=t.default)),l.cancel(m),n?m=l(function(){v.$commitViewValue()},n):c.$$phase?v.$commitViewValue():o.$apply(function(){v.$commitViewValue()})},o.$watch(function(){var e=f(o);if(e!==v.$modelValue&&(v.$modelValue==v.$modelValue||e==e)){v.$modelValue=v.$$rawModelValue=e,d=void 0;for(var t=v.$formatters,n=t.length,i=e;n--;)i=t[n](i);v.$viewValue!==i&&(v.$$updateEmptyClasses(i),v.$viewValue=v.$$lastCommittedViewValue=i,v.$render(),v.$$runValidators(v.$modelValue,v.$viewValue,fe))}return e})}],Jo=["$rootScope",function(o){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:Xo,priority:1,compile:function(e){return e.addClass(Bo).addClass(Uo).addClass(qo),{pre:function(e,t,n,i){var r=i[0],o=i[1]||r.$$parentForm;r.$$setOptions(i[2]&&i[2].$options),o.$addControl(r),n.$observe("name",function(e){r.$name!==e&&r.$$parentForm.$$renameControl(r,e)}),e.$on("$destroy",function(){r.$$parentForm.$removeControl(r)})},post:function(e,t,n,i){var r=i[0];r.$options&&r.$options.updateOn&&t.on(r.$options.updateOn,function(e){r.$$debounceViewValueCommit(e&&e.type)}),t.on("blur",function(){r.$touched||(o.$$phase?e.$evalAsync(r.$setTouched):e.$apply(r.$setTouched))})}}}}}],Ko=/(\s+|^)default(\s+|$)/,Qo=function(){return{restrict:"A",controller:["$scope","$attrs",function(e,t){var n=this;this.$options=N(e.$eval(t.ngModelOptions)),ve(this.$options.updateOn)?(this.$options.updateOnDefault=!1,this.$options.updateOn=ke(this.$options.updateOn.replace(Ko,function(){return n.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}};function Zo(e){var r=e.ctrl,n=e.$element,i={},o=e.set,a=e.unset,s=e.$animate;function l(e,t){t&&!i[e]?(s.addClass(n,e),i[e]=!0):!t&&i[e]&&(s.removeClass(n,e),i[e]=!1)}function c(e,t){e=e?"-"+Pe(e,"-"):"",l(qo+e,!0===t),l(Ho+e,!1===t)}i[Ho]=!(i[qo]=n.hasClass(qo)),r.$setValidity=function(e,t,n){me(t)?function(e,t,n){r[e]||(r[e]={});o(r[e],t,n)}("$pending",e,n):function(e,t,n){r[e]&&a(r[e],t,n);ea(r[e])&&(r[e]=void 0)}("$pending",e,n);Se(t)?t?(a(r.$error,e,n),o(r.$$success,e,n)):(o(r.$error,e,n),a(r.$$success,e,n)):(a(r.$error,e,n),a(r.$$success,e,n));r.$pending?(l(Wo,!0),r.$valid=r.$invalid=void 0,c("",null)):(l(Wo,!1),r.$valid=ea(r.$error),r.$invalid=!r.$valid,c("",r.$valid));var i;i=r.$pending&&r.$pending[e]?void 0:!r.$error[e]&&(!!r.$$success[e]||null);c(e,i),r.$$parentForm.$setValidity(e,i,r)}}function ea(e){if(e)for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}var ta=Br({terminal:!0,priority:1e3}),na=x("ngOptions"),ia=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([$\w][$\w]*)|(?:\(\s*([$\w][$\w]*)\s*,\s*([$\w][$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,ra=["$compile","$document","$parse",function(x,C,k){var S=q.document.createElement("option"),_=q.document.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","ngModel"],link:{pre:function(e,t,n,i){i[0].registerOption=fe},post:function(e,o,t,n){for(var a,s=n[0],l=n[1],c=t.multiple,i=0,r=o.children(),u=r.length;i<u;i++)if(""===r[i].value){a=r.eq(i);break}var d,h=!!a,p=!1,f=ue(S.cloneNode(!1));f.val("?");var g=function(e,t,h){var d=e.match(ia);if(!d)throw na("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",e,Ie(t));var n=d[5]||d[7],i=d[6],r=/ as /.test(d[0])&&d[1],p=d[9],o=k(d[2]?d[1]:n),f=r&&k(r)||o,a=p&&k(p),g=p?function(e,t){return a(h,t)}:function(e){return Pt(e)},m=function(e,t){return g(e,x(e,t))},v=k(d[2]||d[1]),y=k(d[3]||""),b=k(d[4]||""),w=k(d[8]),s={},x=i?function(e,t){return s[i]=t,s[n]=e,s}:function(e){return s[n]=e,s};function C(e,t,n,i,r){this.selectValue=e,this.viewValue=t,this.label=n,this.group=i,this.disabled=r}function S(e){var t;if(!i&&O(e))t=e;else for(var n in t=[],e)e.hasOwnProperty(n)&&"$"!==n.charAt(0)&&t.push(n);return t}return{trackBy:p,getTrackByValue:m,getWatchables:k(w,function(e){for(var t=[],n=S(e=e||[]),i=n.length,r=0;r<i;r++){var o=e===n?r:n[r],a=e[o],s=x(a,o),l=g(a,s);if(t.push(l),d[2]||d[1]){var c=v(h,s);t.push(c)}if(d[4]){var u=b(h,s);t.push(u)}}return t}),getOptions:function(){for(var e=[],t={},n=w(h)||[],i=S(n),r=i.length,o=0;o<r;o++){var a=n===i?o:i[o],s=n[a],l=x(s,a),c=f(h,l),u=g(c,l),d=new C(u,c,v(h,l),y(h,l),b(h,l));e.push(d),t[u]=d}return{items:e,selectValueMap:t,getOptionFromViewValue:function(e){return t[m(e)]},getViewValueFromOption:function(e){return p?N(e.viewValue):e.viewValue}}}}}(t.ngOptions,o,e),m=C[0].createDocumentFragment(),v=function(){h?p&&a.removeAttr("selected"):a.remove()},y=function(){f.remove()};function b(e,t){var n,i,r=S.cloneNode(!1);t.appendChild(r),i=r,((n=e).element=i).disabled=n.disabled,n.label!==i.label&&(i.label=n.label,i.textContent=n.label),i.value=n.selectValue}function w(){var e=d&&s.readValue();if(d)for(var t=d.items.length-1;0<=t;t--){var n=d.items[t];ve(n.group)?Ct(n.element.parentNode):Ct(n.element)}d=g.getOptions();var i={};if(h&&o.prepend(a),d.items.forEach(function(e){var t;ve(e.group)?((t=i[e.group])||(t=_.cloneNode(!1),m.appendChild(t),t.label=null===e.group?"null":e.group,i[e.group]=t),b(e,t)):b(e,m)}),o[0].appendChild(m),l.$render(),!l.$isEmpty(e)){var r=s.readValue();(g.trackBy||c?De(e,r):e===r)||(l.$setViewValue(r),l.$render())}}c?(l.$isEmpty=function(e){return!e||0===e.length},s.writeValue=function(e){d.items.forEach(function(e){e.element.selected=!1}),e&&e.forEach(function(e){var t=d.getOptionFromViewValue(e);t&&(t.element.selected=!0)})},s.readValue=function(){var e=o.val()||[],n=[];return de(e,function(e){var t=d.selectValueMap[e];t&&!t.disabled&&n.push(d.getViewValueFromOption(t))}),n},g.trackBy&&e.$watchCollection(function(){if(we(l.$viewValue))return l.$viewValue.map(function(e){return g.getTrackByValue(e)})},function(){l.$render()})):(s.writeValue=function(e){var t=d.selectValueMap[o.val()],n=d.getOptionFromViewValue(e);t&&t.element.removeAttribute("selected"),n?(o[0].value!==n.selectValue&&(y(),v(),o[0].value=n.selectValue,n.element.selected=!0),n.element.setAttribute("selected","selected")):null===e||h?(y(),h||o.prepend(a),o.val(""),p&&(a.prop("selected",!0),a.attr("selected",!0))):(v(),o.prepend(f),o.val("?"),f.prop("selected",!0),f.attr("selected",!0))},s.readValue=function(){var e=d.selectValueMap[o.val()];return e&&!e.disabled?(v(),y(),d.getViewValueFromOption(e)):null},g.trackBy&&e.$watch(function(){return g.getTrackByValue(l.$viewValue)},function(){l.$render()})),h?(a.remove(),x(a)(e),a[0].nodeType===je?(p=!1,s.registerOption=function(e,t){""===t.val()&&(p=!0,(a=t).removeClass("ng-scope"),l.$render(),t.on("$destroy",function(){a=void 0,p=!1}))}):(a.removeClass("ng-scope"),p=!0)):a=ue(S.cloneNode(!1)),o.empty(),w(),e.$watchCollection(g.getWatchables,w)}}}}],oa=["$locale","$interpolate","$log",function(f,g,m){var v=/{}/g,y=/^when(Minus)?(.+)$/;return{link:function(r,o,a){var s,e=a.count,l=a.$attr.when&&o.attr(a.$attr.when),c=a.offset||0,u=r.$eval(l)||{},d={},t=g.startSymbol(),n=g.endSymbol(),i=t+e+"-"+c+n,h=b.noop;function p(e){o.text(e||"")}de(a,function(e,t){var n=y.exec(t);if(n){var i=(n[1]?"-":"")+k(n[2]);u[i]=o.attr(a.$attr[t])}}),de(u,function(e,t){d[t]=g(e.replace(v,i))}),r.$watch(e,function(e){var t=parseFloat(e),n=A(t);if(n||t in u||(t=f.pluralCat(t-c)),!(t===s||n&&A(s))){h();var i=d[t];me(i)?(null!=e&&m.debug("ngPluralize: no rule defined for '"+t+"' in "+l),h=fe,p()):h=r.$watch(i,p),s=t}})}}}],aa=["$parse","$animate","$compile",function(l,I,c){var P="$$NG_REMOVED",$=x("ngRepeat"),M=function(e,t,n,i,r,o,a){e[n]=i,r&&(e[r]=o),e.$index=t,e.$first=0===t,e.$last=t===a-1,e.$middle=!(e.$first||e.$last),e.$odd=!(e.$even=0==(1&t))};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(e,t){var C=t.ngRepeat,S=c.$$createComment("end ngRepeat",C),n=C.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!n)throw $("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",C);var i=n[1],r=n[2],k=n[3],o=n[4];if(!(n=i.match(/^(?:(\s*[$\w]+)|\(\s*([$\w]+)\s*,\s*([$\w]+)\s*\))$/)))throw $("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",i);var a,_,T,D,A=n[3]||n[1],E=n[2];if(k&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(k)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(k)))throw $("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",k);var s={$id:Pt};return o?a=l(o):(T=function(e,t){return Pt(t)},D=function(e){return e}),function(y,b,e,t,w){a&&(_=function(e,t,n){return E&&(s[E]=e),s[A]=t,s.$index=n,a(y,s)});var x=Oe();y.$watchCollection(r,function(e){var i,t,n,r,o,a,s,l,c,u,d,h,p,f=b[0],g=Oe();if(k&&(y[k]=e),O(e))c=e,l=_||T;else for(var m in l=_||D,c=[],e)H.call(e,m)&&"$"!==m.charAt(0)&&c.push(m);for(r=c.length,d=new Array(r),i=0;i<r;i++)if(o=e===c?i:c[i],a=e[o],s=l(o,a,i),x[s])u=x[s],delete x[s],g[s]=u,d[i]=u;else{if(g[s])throw de(d,function(e){e&&e.scope&&(x[e.id]=e)}),$("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",C,s,a);d[i]={id:s,scope:void 0,clone:void 0},g[s]=!0}for(var v in x){if(h=Me((u=x[v]).clone),I.leave(h),h[0].parentNode)for(i=0,t=h.length;i<t;i++)h[i][P]=!0;u.scope.$destroy()}for(i=0;i<r;i++)if(o=e===c?i:c[i],a=e[o],(u=d[i]).scope){for(n=f;(n=n.nextSibling)&&n[P];);u.clone[0]!==n&&I.move(Me(u.clone),null,f),f=(p=u).clone[p.clone.length-1],M(u.scope,i,A,a,E,o,r)}else w(function(e,t){u.scope=t;var n=S.cloneNode(!1);e[e.length++]=n,I.enter(e,null,f),f=n,u.clone=e,g[u.id]=u,M(u.scope,i,A,a,E,o,r)});x=g})}}}}],sa="ng-hide-animate",la=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngShow,function(e){i[e?"removeClass":"addClass"](t,"ng-hide",{tempClasses:sa})})}}}],ca=["$animate",function(i){return{restrict:"A",multiElement:!0,link:function(e,t,n){e.$watch(n.ngHide,function(e){i[e?"addClass":"removeClass"](t,"ng-hide",{tempClasses:sa})})}}}],ua=Br(function(e,n,t){e.$watch(t.ngStyle,function(e,t){t&&e!==t&&de(t,function(e,t){n.css(t,"")}),e&&n.css(e)},!0)}),da=["$animate","$compile",function(u,d){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(e,t,n,r){var i=n.ngSwitch||n.on,o=[],a=[],s=[],l=[],c=function(t,n){return function(e){!1!==e&&t.splice(n,1)}};e.$watch(i,function(e){for(var t,n;s.length;)u.cancel(s.pop());for(t=0,n=l.length;t<n;++t){var i=Me(a[t].clone);l[t].$destroy(),(s[t]=u.leave(i)).done(c(s,t))}a.length=0,l.length=0,(o=r.cases["!"+e]||r.cases["?"])&&de(o,function(r){r.transclude(function(e,t){l.push(t);var n=r.element;e[e.length++]=d.$$createComment("end ngSwitchWhen");var i={clone:e};a.push(i),u.enter(e,n.parent(),n)})})})}}}],ha=Br({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){de(n.ngSwitchWhen.split(n.ngSwitchWhenSeparator).sort().filter(function(e,t,n){return n[t-1]!==e}),function(e){i.cases["!"+e]=i.cases["!"+e]||[],i.cases["!"+e].push({transclude:r,element:t})})}}),pa=Br({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(e,t,n,i,r){i.cases["?"]=i.cases["?"]||[],i.cases["?"].push({transclude:r,element:t})}}),fa=x("ngTransclude"),ga=["$compile",function(t){return{restrict:"EAC",terminal:!0,compile:function(e){var s=t(e.contents());return e.empty(),function(e,n,t,i,r){if(!r)throw fa("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Ie(n));t.ngTransclude===t.$attr.ngTransclude&&(t.ngTransclude="");var o=t.ngTransclude||t.ngTranscludeSlot;function a(){s(e,function(e){n.append(e)})}r(function(e,t){e.length?n.append(e):(a(),t.$destroy())},null,o),o&&!r.isSlotFilled(o)&&a()}}}}],ma=["$templateCache",function(r){return{restrict:"E",terminal:!0,compile:function(e,t){if("text/ng-template"===t.type){var n=t.id,i=e[0].text;r.put(n,i)}}}}],va={$setViewValue:fe,$render:fe};var ya=["$element","$scope",function(n,e){var a=this,r=new $t;a.ngModelCtrl=va,a.unknownOption=ue(q.document.createElement("option")),a.renderUnknownOption=function(e){var t="? "+Pt(e)+" ?";a.unknownOption.val(t),n.prepend(a.unknownOption),n.val(t)},e.$on("$destroy",function(){a.renderUnknownOption=fe}),a.removeUnknownOption=function(){a.unknownOption.parent()&&a.unknownOption.remove()},a.readValue=function(){return a.removeUnknownOption(),n.val()},a.writeValue=function(e){a.hasOption(e)?(a.removeUnknownOption(),n.val(e),""===e&&a.emptyOption.prop("selected",!0)):null==e&&a.emptyOption?(a.removeUnknownOption(),n.val("")):a.renderUnknownOption(e)},a.addOption=function(e,t){if(t[0].nodeType!==je){le(e,'"option value"'),""===e&&(a.emptyOption=t);var n,i=r.get(e)||0;r.put(e,i+1),a.ngModelCtrl.$render(),(n=t)[0].hasAttribute("selected")&&(n[0].selected=!0)}},a.removeOption=function(e){var t=r.get(e);t&&(1===t?(r.remove(e),""===e&&(a.emptyOption=void 0)):r.put(e,t-1))},a.hasOption=function(e){return!!r.get(e)},a.registerOption=function(e,n,i,t,r){var o;t?i.$observe("value",function(e){ve(o)&&a.removeOption(o),o=e,a.addOption(e,n)}):r?e.$watch(r,function(e,t){i.$set("value",e),t!==e&&a.removeOption(t),a.addOption(e,n)}):a.addOption(i.value,n);n.on("$destroy",function(){a.removeOption(i.value),a.ngModelCtrl.$render()})}}],ba=function(){return{restrict:"E",require:["select","?ngModel"],controller:ya,priority:1,link:{pre:function(e,n,t,i){var r=i[1];if(!r)return;var o=i[0];if(o.ngModelCtrl=r,n.on("change",function(){e.$apply(function(){r.$setViewValue(o.readValue())})}),t.multiple){o.readValue=function(){var t=[];return de(n.find("option"),function(e){e.selected&&t.push(e.value)}),t},o.writeValue=function(e){var t=new $t(e);de(n.find("option"),function(e){e.selected=ve(t.get(e.value))})};var a,s=NaN;e.$watch(function(){s!==r.$viewValue||De(a,r.$viewValue)||(a=qe(r.$viewValue),r.$render()),s=r.$viewValue}),r.$isEmpty=function(e){return!e||0===e.length}}},post:function(e,t,n,i){var r=i[1];if(!r)return;var o=i[0];r.$render=function(){o.writeValue(r.$viewValue)}}}}},wa=["$interpolate",function(n){return{restrict:"E",priority:100,compile:function(e,t){var a,s;return ve(t.ngValue)?a=!0:ve(t.value)?a=n(t.value,!0):(s=n(e.text(),!0))||t.$set("value",e.text()),function(e,t,n){var i="$selectController",r=t.parent(),o=r.data(i)||r.parent().data(i);o&&o.registerOption(e,t,n,a,s)}}}}],xa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){i&&(n.required=!0,i.$validators.required=function(e,t){return!n.required||!i.$isEmpty(t)},n.$observe("required",function(){i.$validate()}))}}},Ca=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r,o=n.ngPattern||n.pattern;n.$observe("pattern",function(e){if(be(e)&&0<e.length&&(e=new RegExp("^"+e+"$")),e&&!e.test)throw x("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",o,e,Ie(t));r=e||void 0,i.$validate()}),i.$validators.pattern=function(e,t){return i.$isEmpty(t)||me(r)||r.test(t)}}}}},Sa=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=-1;n.$observe("maxlength",function(e){var t=g(e);r=A(t)?-1:t,i.$validate()}),i.$validators.maxlength=function(e,t){return r<0||i.$isEmpty(t)||t.length<=r}}}}},ka=function(){return{restrict:"A",require:"?ngModel",link:function(e,t,n,i){if(i){var r=0;n.$observe("minlength",function(e){r=g(e)||0,i.$validate()}),i.$validators.minlength=function(e,t){return i.$isEmpty(t)||t.length>=r}}}}};q.angular.bootstrap?q.console&&console.log("WARNING: Tried to load angular more than once."):(!function(){var r;if(!ae){var e=j();(a=me(e)?q.jQuery:e?q[e]:void 0)&&a.fn.on?(he((ue=a).fn,{scope:St.scope,isolateScope:St.isolateScope,controller:St.controller,injector:St.injector,inheritedData:St.inheritedData}),r=a.cleanData,a.cleanData=function(e){for(var t,n,i=0;null!=(n=e[i]);i++)(t=a._data(n,"events"))&&t.$destroy&&a(n).triggerHandler("$destroy");r(e)}):ue=lt,b.element=ue,ae=!0}}(),he(b,{bootstrap:ne,copy:N,extend:he,merge:n,equals:De,element:ue,forEach:de,injector:Bt,noop:fe,bind:Ee,toJson:F,fromJson:U,identity:ge,isUndefined:me,isDefined:ve,isString:be,isFunction:xe,isObject:ye,isNumber:C,isElement:M,isArray:we,version:Be,isDate:S,lowercase:k,uppercase:u,callbacks:{$$counter:0},getTestability:re,$$minErr:x,$$csp:L,reloadWithDebugInfo:ie}),(m=function(e){var u=x("$injector"),n=x("ng");function t(e,t,n){return e[t]||(e[t]=n())}var i=t(e,"angular",Object);return i.$$minErr=i.$$minErr||x,t(i,"module",function(){var e={};return function(s,l,c){return function(e,t){if("hasOwnProperty"===e)throw n("badname","hasOwnProperty is not a valid {0} name",t)}(s,"module"),l&&e.hasOwnProperty(s)&&(e[s]=null),t(e,s,function(){if(!l)throw u("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",s);var r=[],e=[],t=[],n=i("$injector","invoke","push",e),o={_invokeQueue:r,_configBlocks:e,_runBlocks:t,requires:l,name:s,provider:a("$provide","provider"),factory:a("$provide","factory"),service:a("$provide","service"),value:i("$provide","value"),constant:i("$provide","constant","unshift"),decorator:a("$provide","decorator"),animation:a("$animateProvider","register"),filter:a("$filterProvider","register"),controller:a("$controllerProvider","register"),directive:a("$compileProvider","directive"),component:a("$compileProvider","component"),config:n,run:function(e){return t.push(e),this}};return c&&n(c),o;function i(e,t,n,i){return i||(i=r),function(){return i[n||"push"]([e,t,arguments]),o}}function a(n,i){return function(e,t){return t&&xe(t)&&(t.$$moduleName=s),r.push([n,i,arguments]),o}}})}})}(q))("ng",["ngLocale"],["$provide",function(e){e.provider({$$sanitizeUri:Qi}),e.provider("$compile",ln).directive({a:Vr,input:wo,textarea:wo,form:Xr,script:ma,select:ba,option:wa,ngBind:So,ngBindHtml:_o,ngBindTemplate:ko,ngClass:Ao,ngClassEven:Io,ngClassOdd:Eo,ngCloak:Po,ngController:$o,ngForm:Jr,ngHide:ca,ngIf:No,ngInclude:Lo,ngInit:Ro,ngNonBindable:ta,ngPluralize:oa,ngRepeat:aa,ngShow:la,ngStyle:ua,ngSwitch:da,ngSwitchWhen:ha,ngSwitchDefault:pa,ngOptions:ra,ngTransclude:ga,ngModel:Jo,ngList:Fo,ngChange:To,pattern:Ca,ngPattern:Ca,required:xa,ngRequired:xa,minlength:ka,ngMinlength:ka,maxlength:Sa,ngMaxlength:Sa,ngValue:Co,ngModelOptions:Qo}).directive({ngInclude:jo}).directive(Ur).directive(Mo),e.provider({$anchorScroll:Vt,$animate:Kt,$animateCss:en,$$animateJs:Xt,$$animateQueue:Jt,$$AnimateRunner:Zt,$$animateAsyncRun:Qt,$browser:nn,$cacheFactory:rn,$controller:mn,$document:vn,$exceptionHandler:yn,$filter:mr,$$forceReflow:bn,$interpolate:Fn,$interval:qn,$http:Nn,$httpParamSerializer:An,$httpParamSerializerJQLike:En,$httpBackend:jn,$xhrFactory:Ln,$jsonpCallbacks:Hn,$location:oi,$log:ai,$parse:Wi,$rootScope:Ki,$q:Gi,$$q:Yi,$sce:ir,$sceDelegate:nr,$sniffer:rr,$templateCache:on,$templateRequest:ar,$$testability:sr,$timeout:lr,$window:pr,$$rAF:Ji,$$jqLite:It,$$HashMap:Mt,$$cookieReader:gr})}]),b.module("ngLocale",[],["$provide",function(e){var r="one",o="other";e.value("$locale",{DATETIME_FORMATS:{AMPMS:["AM","PM"],DAY:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"],FIRSTDAYOFWEEK:6,MONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],SHORTDAY:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],SHORTMONTH:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],STANDALONEMONTH:["January","February","March","April","May","June","July","August","September","October","November","December"],WEEKENDRANGE:[5,6],fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",medium:"MMM d, y h:mm:ss a",mediumDate:"MMM d, y",mediumTime:"h:mm:ss a",short:"M/d/yy h:mm a",shortDate:"M/d/yy",shortTime:"h:mm a"},NUMBER_FORMATS:{CURRENCY_SYM:"$",DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{gSize:3,lgSize:3,maxFrac:3,minFrac:0,minInt:1,negPre:"-",negSuf:"",posPre:"",posSuf:""},{gSize:3,lgSize:3,maxFrac:2,minFrac:2,minInt:1,negPre:"-¤",negSuf:"",posPre:"¤",posSuf:""}]},id:"en-us",localeID:"en_US",pluralCat:function(e,t){var n=0|e,i=function(e,t){var n,i,r=t;void 0===r&&(r=Math.min((n=e,-1==(i=(n+="").indexOf("."))?0:n.length-i-1),3));var o=Math.pow(10,r);return{v:r,f:(e*o|0)%o}}(e,t);return 1==n&&0==i.v?r:o}})}]),ue(q.document).ready(function(){te(q.document,ne)}))}(window),!window.angular.$$csp().noInlineStyle&&window.angular.element(document.head).prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),function(x,C){"use strict";var S,k,_,T,D,A,E,I,P=C.$$minErr("$sanitize");C.module("ngSanitize",[]).provider("$sanitize",function(){var t=!1;this.$get=["$$sanitizeUri",function(n){return t&&k(h,u),function(e){var t=[];return E(e,I(t,function(e,t){return!/^unsafe:/.test(n(e,t))})),t.join("")}}],this.enableSvg=function(e){return T(e)?(t=e,this):t},S=C.bind,k=C.extend,_=C.forEach,T=C.isDefined,D=C.lowercase,A=C.noop,E=function(e,t){null==e?e="":"string"!=typeof e&&(e=""+e),o.innerHTML=e;var n=5;do{if(0===n)throw P("uinput","Failed to sanitize html because the input is unstable");n--,x.document.documentMode&&w(o),e=o.innerHTML,o.innerHTML=e}while(e!==o.innerHTML);for(var i=o.firstChild;i;){switch(i.nodeType){case 1:t.start(i.nodeName.toLowerCase(),y(i.attributes));break;case 3:t.chars(i.textContent)}var r;if(!((r=i.firstChild)||(1===i.nodeType&&t.end(i.nodeName.toLowerCase()),r=i.nextSibling)))for(;null==r&&(i=i.parentNode)!==o;)r=i.nextSibling,1===i.nodeType&&t.end(i.nodeName.toLowerCase());i=r}for(;i=o.firstChild;)o.removeChild(i)},I=function(e,o){var t=!1,a=S(e,e.push);return{start:function(r,e){r=D(r),!t&&d[r]&&(t=r),t||!0!==h[r]||(a("<"),a(r),_(e,function(e,t){var n=D(t),i="img"===r&&"src"===n||"background"===n;!0!==m[n]||!0===p[n]&&!o(e,i)||(a(" "),a(t),a('="'),a(b(e)),a('"'))}),a(">"))},end:function(e){e=D(e),t||!0!==h[e]||!0===r[e]||(a("</"),a(e),a(">")),e==t&&(t=!1)},chars:function(e){t||a(b(e))}}};var o,n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,i=/([^#-~ |!])/g,r=v("area,br,col,hr,img,wbr"),e=v("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),a=v("rp,rt"),s=k({},a,e),l=k({},e,v("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,section,table,ul")),c=k({},a,v("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),u=v("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan"),d=v("script,style"),h=k({},r,l,c,s),p=v("background,cite,href,longdesc,src,xlink:href"),f=v("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),g=v("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),m=k({},p,g,f);function v(e,t){var n,i={},r=e.split(",");for(n=0;n<r.length;n++)i[t?D(r[n]):r[n]]=!0;return i}function y(e){for(var t={},n=0,i=e.length;n<i;n++){var r=e[n];t[r.name]=r.value}return t}function b(e){return e.replace(/&/g,"&amp;").replace(n,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(i,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function w(e){for(;e;){if(e.nodeType===x.Node.ELEMENT_NODE)for(var t=e.attributes,n=0,i=t.length;n<i;n++){var r=t[n],o=r.name.toLowerCase();"xmlns:ns1"!==o&&0!==o.lastIndexOf("ns1:",0)||(e.removeAttributeNode(r),n--,i--)}var a=e.firstChild;a&&w(a),e=e.nextSibling}}!function(e){var t;if(!e.document||!e.document.implementation)throw P("noinert","Can't create an inert html document");var n=((t=e.document.implementation.createHTMLDocument("inert")).documentElement||t.getDocumentElement()).getElementsByTagName("body");if(1===n.length)o=n[0];else{var i=t.createElement("html");o=t.createElement("body"),i.appendChild(o),t.appendChild(i)}}(x)}),C.module("ngSanitize").filter("linky",["$sanitize",function(d){var h=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"\u201d\u2019]/i,p=/^mailto:/i,f=C.$$minErr("linky"),g=C.isDefined,m=C.isFunction,v=C.isObject,y=C.isString;return function(e,r,t){if(null==e||""===e)return e;if(!y(e))throw f("notstring","Expected string but received: {0}",e);for(var n,i,o,a=m(t)?t:v(t)?function(){return t}:function(){return{}},s=e,l=[];n=s.match(h);)i=n[0],n[2]||n[4]||(i=(n[3]?"http://":"mailto:")+i),o=n.index,c(s.substr(0,o)),u(i,n[0].replace(p,"")),s=s.substring(o+n[0].length);return c(s),d(l.join(""));function c(e){var t,n;e&&l.push((t=e,I(n=[],A).chars(t),n.join("")))}function u(e,t){var n,i=a(e);for(n in l.push("<a "),i)l.push(n+'="'+i[n]+'" ');!g(r)||"target"in i||l.push('target="',r,'" '),l.push('href="',e.replace(/"/g,"&quot;"),'">'),c(t),l.push("</a>")}}}])}(window,window.angular),function(e){"use strict";var n,i={};i.VERSION="0.9.14";var r={},t=function(e,t){return function(){return t.apply(e,arguments)}},o=function(){var e,t,n=arguments,i=n[0];for(t=1;t<n.length;t++)for(e in n[t])e in i||!n[t].hasOwnProperty(e)||(i[e]=n[t][e]);return i},a=function(e,t){return{value:e,name:t}};i.DEBUG=a(1,"DEBUG"),i.INFO=a(2,"INFO"),i.WARN=a(4,"WARN"),i.ERROR=a(8,"ERROR"),i.OFF=a(99,"OFF");var s=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};s.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},debug:function(){this.invoke(i.DEBUG,arguments)},info:function(){this.invoke(i.INFO,arguments)},warn:function(){this.invoke(i.WARN,arguments)},error:function(){this.invoke(i.ERROR,arguments)},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,o({level:e},this.context))}};var l,c=new s({filterLevel:i.OFF});(l=i).enabledFor=t(c,c.enabledFor),l.debug=t(c,c.debug),l.info=t(c,c.info),l.warn=t(c,c.warn),l.error=t(c,c.error),l.log=l.info,i.setHandler=function(e){n=e},i.setLevel=function(e){for(var t in c.setLevel(e),r)r.hasOwnProperty(t)&&r[t].setLevel(e)},i.get=function(e){return r[e]||(r[e]=new s(o({name:e},c.context)))},i.useDefaults=function(e){"undefined"!=typeof console&&(i.setLevel(e||i.DEBUG),i.setHandler(function(e,t){var n=console.log;t.name&&(e[0]="["+t.name+"] "+e[0]),t.level===i.WARN&&console.warn?n=console.warn:t.level===i.ERROR&&console.error?n=console.error:t.level===i.INFO&&console.info&&(n=console.info),Function.prototype.apply.call(n,console,e)}))},"function"==typeof define&&define.amd?define(i):"undefined"!=typeof module&&module.exports?module.exports=i:(i._prevLogger=e.Logger,i.noConflict=function(){return e.Logger=i._prevLogger,i},e.Logger=i)}(this),function(){"use strict";if(Logger.setLevel(Logger.INFO),Logger.storagePrefix="hawtio",Logger.oldGet=Logger.get,Logger.loggers={},Logger.get=function(e){var t=Logger.oldGet(e);return Logger.loggers[e]=t},window.LogBuffer=100,"localStorage"in window){"logLevel"in window.localStorage||(window.localStorage.logLevel=JSON.stringify(Logger.INFO));var e=Logger.DEBUG;try{e=JSON.parse(window.localStorage.logLevel)}catch(e){console.error("Failed to parse log level setting: ",e)}if(Logger.setLevel(e),"showLog"in window.localStorage)if("true"===window.localStorage.showLog){var t=document.getElementById("log-panel");t&&t.setAttribute("style","bottom: 50%;")}if("logBuffer"in window.localStorage){var n=window.localStorage.logBuffer;window.LogBuffer=parseInt(n,10)}else window.localStorage.logBuffer=window.LogBuffer;if("childLoggers"in window.localStorage){var i=[];try{i=JSON.parse(localStorage.childLoggers)}catch(e){}i.forEach(function(e){Logger.get(e.logger).setLevel(Logger[e.level])})}}var m=null;"console"in window&&(window.JSConsole=window.console,m=function(t,e){var n=window.JSConsole,i=n.log;if(e.name&&(t[0]="["+e.name+"] "+t[0]),e.level===Logger.WARN&&"warn"in n?i=n.warn:e.level===Logger.ERROR&&"error"in n?i=n.error:e.level===Logger.INFO&&"info"in n&&(i=n.info),i&&i.apply)try{i.apply(n,t)}catch(e){n.log(t)}}),Logger.getType=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Logger.isError=function(e){return e&&"Error"===Logger.getType(e)},Logger.isArray=function(e){return e&&"Array"===Logger.getType(e)},Logger.isObject=function(e){return e&&"Object"===Logger.getType(e)},Logger.isString=function(e){return e&&"String"===Logger.getType(e)},window.logInterceptors=[],Logger.formatStackTraceString=function(e){var t=e.split("\n");if(100<t.length){var n=t.length-40;t.splice(20,n,">>> snipped "+n+" frames <<<")}for(var i='<div class="log-stack-trace">\n',r=0;r<t.length;r++){var o=t[r];0!==o.trim().length&&(i=i+"<p>"+o+"</p>\n")}return i+="</div>\n"},Logger.setHandler(function(n,i){var r=void 0,o=void 0,e=document.getElementById("hawtio-log-panel");e&&(o=document.getElementById("hawtio-log-panel-statements"),r=document.createElement("li"));var a="",t=[];if("ERROR"===i.level.name&&1===n.length&&Logger.isString(n[0])){var s=(f=n[0]).split(/\n/);if(1<s.length){var l="Error: Jolokia-Error: ";if(0===s[0].search(l)){var c=s[0].slice(l.length);window.JSConsole.info("msg: ",c);try{var u=JSON.parse(c);(d=new Error).message=u.error,d.stack=u.stacktrace.replace("\\t","&nbsp;&nbsp").replace("\\n","\n"),n=[d]}catch(e){}}else{var d;(d=new Error).message=s[0],d.stack=f,n=[d]}}}var h=!1;if(r){for(var p=0;p<n.length;p++){var f=n[p];if(Logger.isArray(f)||Logger.isObject(f)){var g="";try{g='<pre data-language="javascript">'+JSON.stringify(f,null,2)+"</pre>"}catch(d){g=f+" (failed to convert) "}a+=g}else Logger.isError(f)?("message"in f&&(a+=f.message),"stack"in f&&t.push(function(){var e=Logger.formatStackTraceString(f.stack),t=Logger;i.name&&(t=Logger.get(i.name)),t.info("Stack trace: ",e)})):a+=f}i.name&&(a='[<span class="green">'+i.name+"</span>] "+a),r.innerHTML=a,r.className=i.level.name,e&&(0===e.scrollHeight&&(h=!0),o.scrollTop>o.scrollHeight-e.scrollHeight-200&&(h=!0))}!function(){o&&r&&(o.appendChild(r),o.childNodes.length>parseInt(window.LogBuffer)&&o.removeChild(o.firstChild),h&&(o.scrollTop=o.scrollHeight)),m&&m(n,i);for(var e=window.logInterceptors,t=0;t<e.length;t++)e[t](i.level.name,a)}(),t.forEach(function(e){e()})})}();var hawtioPluginLoader=function(u){"use strict";var d=Logger.get("hawtio-loader"),t=document.documentElement;function h(e,t){angular.isArray(t)||(t=[t]);var n=[];return t.forEach(function(t){e.forEach(function(e){t===e&&n.push(e)})}),n}return u.log=d,u.urls=[],u.modules=[],u.tasks=[],u.setBootstrapElement=function(e){d.debug("Setting bootstrap element to: ",e),t=e},u.getBootstrapElement=function(){return t},u.registerPreBootstrapTask=function(e,t){angular.isFunction(e)&&(d.debug("Adding legacy task"),e={task:e}),e.name||(e.name="unnamed-task-"+(u.tasks.length+1)),e.depends&&!angular.isArray(e.depends)&&"*"!==e.depends&&(e.depends=[e.depends]),t?u.tasks.unshift(e):u.tasks.push(e)},u.addModule=function(e){d.debug("Adding module: "+e),u.modules.push(e)},u.addUrl=function(e){d.debug("Adding URL: "+e),u.urls.push(e)},u.getModules=function(){return u.modules},u.loaderCallback=null,u.setLoaderCallback=function(e){u.loaderCallback=e},u.loadPlugins=function(s){var t=u.loaderCallback,a={},e=u.urls.length,n=e,i=function(){var r=[],o=[],n={name:"Hawtio Bootstrap",depends:"*",runs:0,task:function(e){function t(){o.forEach(function(e){u.log.info("  name: "+e.name+" depends: ",e.depends)})}0<o.length&&(u.log.info("tasks yet to run: "),t(),n.runs=n.runs+1,u.log.info("Task list restarted : ",n.runs," times"),5===n.runs?(u.log.info("Orphaned tasks: "),t(),o.length=0):o.push(n)),u.log.debug("Executed tasks: ",r),e()}};u.registerPreBootstrapTask(n);var a=function(){var e=null,t=[];for(0===u.tasks.length&&(e=o.shift());!e&&0<o.length;){var n=o.shift();if("*"===n.depends)0<u.tasks.length?t.push(n):e=n;else h(r,n.depends).length===n.depends.length?e=n:t.push(n)}if(0<t.length&&t.forEach(function(e){o.push(e)}),e||(e=u.tasks.shift()),e&&e.depends&&0<u.tasks.length)if(u.log.debug("Task '"+e.name+"' has dependencies: ",e.depends),"*"===e.depends){if(0<u.tasks.length)return u.log.debug("Task '"+e.name+"' wants to run after all other tasks, deferring"),o.push(e),void a()}else if(h(r,e.depends).length!=e.depends.length)return u.log.debug("Deferring task: '"+e.name+"'"),o.push(e),void a();if(e){u.log.debug("Executing task: '"+e.name+"'");var i=function(){i.notFired&&(i.notFired=!1,r.push(e.name),setTimeout(a,1))};i.notFired=!0,e.task(i)}else u.log.debug("All tasks executed"),setTimeout(s,1)};setTimeout(a,1)},r=function(){var n=0;$.each(a,function(e,t){n+=t.Scripts.length});var e=n,r=function(){$.ajaxSetup({async:!0}),n-=1,t&&t.scriptLoaderCallback(t,e,n+1),0===n&&i()};0<n?$.each(a,function(e,t){t.Scripts.forEach(function(e){var i=t.Context+"/"+e;d.debug("Fetching script: ",i),$.ajaxSetup({async:!1}),$.getScript(i).done(function(e){d.debug("Loaded script: ",i)}).fail(function(e,t,n){d.info('Failed loading script: "',n.message,'" (<a href="',i,":",n.lineNumber,'">',i,":",n.lineNumber,"</a>)")}).always(r)})}):($.ajaxSetup({async:!0}),i())};if(0===e)r();else{var l=function(){e-=1,t&&t.urlLoaderCallback(t,n,e+1),0===e&&r()},c=new RegExp(/^jolokia:/);$.each(u.urls,function(e,t){if(c.test(t)){var n=t.split(":");(n=n.reverse()).pop(),t=n.pop();var i=n.reverse().join(":"),r=new Jolokia(t);try{var o=r.getAttribute(i,null);$.extend(a,o)}catch(e){}l()}else d.debug("Trying url: ",t),$.get(t,function(e){if(angular.isString(e))try{e=angular.fromJson(e)}catch(e){return}$.extend(a,e)}).always(function(){l()})})}},u.debug=function(){d.debug("urls and modules"),d.debug(u.urls),d.debug(u.modules)},u.setLoaderCallback({scriptLoaderCallback:function(e,t,n){d.debug("Total scripts: ",t," Remaining: ",n)},urlLoaderCallback:function(e,t,n){d.debug("Total URLs: ",t," Remaining: ",n)}}),u}(hawtioPluginLoader||{},window),HawtioCore=function(){"use strict";function e(){}Object.defineProperty(e.prototype,"injector",{get:function(){return n.UpgradeAdapter?n.UpgradeAdapter.ng1Injector:n._injector},enumerable:!0,configurable:!0});var n=new e;n.pluginName="hawtio-core";var i=Logger.get(n.pluginName),t=angular.module(n.pluginName,[]);t.config(["$locationProvider",function(e){e.html5Mode(!0)}]),t.run(["documentBase",function(e){i.debug("loaded")}]);var r={length:0,key:function(e){},getItem:function(e){return r[e]},setItem:function(e,t){r[e]=t},removeItem:function(e){var t=r[e];return delete r[e],t},clear:function(){}};return n.dummyLocalStorage=r,n.documentBase=function(){var e=$("head").find("base"),t="/";return e&&0<e.length?t=e.attr("href"):i.warn("Document is missing a 'base' tag, defaulting to '/'"),t},t.factory("localStorage",function(){return window.localStorage||r}),t.factory("documentBase",function(){return n.documentBase()}),t.factory("viewRegistry",function(){return{}}),t.factory("helpRegistry",function(){return{addUserDoc:function(){},addDevDoc:function(){},addSubTopic:function(){},getOrCreateTopic:function(){},mapTopicName:function(){},mapSubTopicName:function(){},getTopics:function(){},disableAutodiscover:function(){},discoverHelpFiles:function(){}}}),t.factory("preferencesRegistry",function(){return{addTab:function(){},getTab:function(){},getTabs:function(){}}}),t.factory("pageTitle",function(){return{addTitleElement:function(){},getTitle:function(){},getTitleWithSeparator:function(){},getTitleExcluding:function(){},getTitleArrayExcluding:function(){}}}),t.factory("toastr",["$window",function(e){var t=e.toastr;return t||(t={},e.toastr=t),t}]),t.factory("HawtioDashboard",function(){return{hasDashboard:!1,inDashboard:!1,getAddLink:function(){return""}}}),t.factory("branding",function(){return{}}),t.factory("userDetails",function(){return{logout:function(){i.debug("Dummy userDetails.logout()")}}}),hawtioPluginLoader.addModule("ng"),hawtioPluginLoader.addModule("ngSanitize"),hawtioPluginLoader.addModule(n.pluginName),$(function(){if(jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},!jQuery.browser){var e=jQuery.uaMatch(navigator.userAgent),t={};e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),jQuery.browser=t}window.ng&&window.ng.upgrade&&(n.UpgradeAdapter=new ng.upgrade.UpgradeAdapter),hawtioPluginLoader.loadPlugins(function(){if(n.injector||n.UpgradeAdapterRef)i.debug("Application already bootstrapped");else{var e=hawtioPluginLoader.getBootstrapElement();i.debug("Using bootstrap element: ",e),n._injector=angular.bootstrap(e,hawtioPluginLoader.getModules(),{strictDi:!0}),i.debug("Bootstrapped application")}})}),n}(),HawtioMainNav,ArrayHelpers,Core,HawtioCompile,ControllerHelpers,CoreFilters,Core,Core,EventServices,FileUpload,FilterHelpers;(function(){var fr,e,t,gr="3.10.1",mr=1,vr=2,yr=4,br=8,wr=16,xr=32,Cr=64,Sr=128,kr=256,_r=30,Tr="...",Dr=150,Ar=16,Er=200,Ir=1,Pr=2,$r="Expected a function",Mr="__lodash_placeholder__",Or="[object Arguments]",Nr="[object Array]",Lr="[object Boolean]",jr="[object Date]",Rr="[object Error]",Fr="[object Function]",n="[object Map]",qr="[object Number]",Hr="[object Object]",Br="[object RegExp]",i="[object Set]",Vr="[object String]",r="[object WeakMap]",Ur="[object ArrayBuffer]",zr="[object Float32Array]",Wr="[object Float64Array]",Gr="[object Int8Array]",Yr="[object Int16Array]",Xr="[object Int32Array]",Jr="[object Uint8Array]",Kr="[object Uint8ClampedArray]",Qr="[object Uint16Array]",Zr="[object Uint32Array]",eo=/\b__p \+= '';/g,to=/\b(__p \+=) '' \+/g,no=/(__e\(.*?\)|\b__t\)) \+\n'';/g,io=/&(?:amp|lt|gt|quot|#39|#96);/g,ro=/[&<>"'`]/g,oo=RegExp(io.source),ao=RegExp(ro.source),so=/<%-([\s\S]+?)%>/g,lo=/<%([\s\S]+?)%>/g,co=/<%=([\s\S]+?)%>/g,uo=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,ho=/^\w*$/,po=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,fo=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,go=RegExp(fo.source),mo=/[\u0300-\u036f\ufe20-\ufe23]/g,vo=/\\(\\)?/g,yo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,bo=/\w*$/,wo=/^0[xX]/,xo=/^\[object .+?Constructor\]$/,Co=/^\d+$/,So=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,ko=/($^)/,_o=/['\n\r\u2028\u2029\\]/g,To=(e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+",RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")),Do=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Ao=-1,Eo={};Eo[zr]=Eo[Wr]=Eo[Gr]=Eo[Yr]=Eo[Xr]=Eo[Jr]=Eo[Kr]=Eo[Qr]=Eo[Zr]=!0,Eo[Or]=Eo[Nr]=Eo[Ur]=Eo[Lr]=Eo[jr]=Eo[Rr]=Eo[Fr]=Eo[n]=Eo[qr]=Eo[Hr]=Eo[Br]=Eo[i]=Eo[Vr]=Eo[r]=!1;var Io={};Io[Or]=Io[Nr]=Io[Ur]=Io[Lr]=Io[jr]=Io[zr]=Io[Wr]=Io[Gr]=Io[Yr]=Io[Xr]=Io[qr]=Io[Hr]=Io[Br]=Io[Vr]=Io[Jr]=Io[Kr]=Io[Qr]=Io[Zr]=!0,Io[Rr]=Io[Fr]=Io[n]=Io[i]=Io[r]=!1;var o={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},s={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},l={function:!0,object:!0},c={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},u={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},d=l[typeof exports]&&exports&&!exports.nodeType&&exports,h=l[typeof module]&&module&&!module.nodeType&&module,p=d&&h&&"object"==typeof global&&global&&global.Object&&global,f=l[typeof self]&&self&&self.Object&&self,g=l[typeof window]&&window&&window.Object&&window,m=h&&h.exports===d&&d,Po=p||g!==(this&&this.window)&&g||f||this;function $o(e,t){if(e!==t){var n=null===e,i=e===fr,r=e==e,o=null===t,a=t===fr,s=t==t;if(t<e&&!o||!r||n&&!a&&s||i&&s)return 1;if(e<t&&!n||!s||o&&!i&&r||a&&r)return-1}return 0}function Mo(e,t,n){for(var i=e.length,r=n?i:-1;n?r--:++r<i;)if(t(e[r],r,e))return r;return-1}function Oo(e,t,n){if(t!=t)return Uo(e,n);for(var i=n-1,r=e.length;++i<r;)if(e[i]===t)return i;return-1}function No(e){return"function"==typeof e||!1}function Lo(e){return null==e?"":e+""}function jo(e,t){for(var n=-1,i=e.length;++n<i&&-1<t.indexOf(e.charAt(n)););return n}function Ro(e,t){for(var n=e.length;n--&&-1<t.indexOf(e.charAt(n)););return n}function Fo(e,t){return $o(e.criteria,t.criteria)||e.index-t.index}function qo(e){return o[e]}function Ho(e){return a[e]}function Bo(e,t,n){return t?e=c[e]:n&&(e=u[e]),"\\"+e}function Vo(e){return"\\"+u[e]}function Uo(e,t,n){for(var i=e.length,r=t+(n?0:-1);n?r--:++r<i;){var o=e[r];if(o!=o)return r}return-1}function zo(e){return!!e&&"object"==typeof e}function v(e){return e<=160&&9<=e&&e<=13||32==e||160==e||5760==e||6158==e||8192<=e&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function Wo(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;)e[n]===t&&(e[n]=Mr,o[++r]=n);return o}function Go(e){for(var t=-1,n=e.length;++t<n&&v(e.charCodeAt(t)););return t}function Yo(e){for(var t=e.length;t--&&v(e.charCodeAt(t)););return t}function Xo(e){return s[e]}var Jo=function e(t){var E=(t=t?Jo.defaults(Po.Object(),t,Jo.pick(Po,Do)):Po).Array,n=t.Date,i=t.Error,m=t.Function,r=t.Math,o=t.Number,v=t.Object,y=t.RegExp,a=t.String,b=t.TypeError,s=E.prototype,l=v.prototype,c=a.prototype,u=m.prototype.toString,w=l.hasOwnProperty,d=0,x=l.toString,h=Po._,p=y("^"+u.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),f=t.ArrayBuffer,C=t.clearTimeout,g=t.parseFloat,S=r.pow,k=l.propertyIsEnumerable,_=Nt(t,"Set"),T=t.setTimeout,D=s.splice,A=t.Uint8Array,I=Nt(t,"WeakMap"),P=r.ceil,$=Nt(v,"create"),M=r.floor,O=Nt(E,"isArray"),N=t.isFinite,L=Nt(v,"keys"),j=r.max,R=r.min,F=Nt(n,"now"),q=t.parseInt,H=r.random,B=o.NEGATIVE_INFINITY,V=o.POSITIVE_INFINITY,U=4294967295,z=U-1,W=U>>>1,G=9007199254740991,Y=I&&new I,X={};function J(e){if(zo(e)&&!ui(e)&&!(e instanceof Z)){if(e instanceof Q)return e;if(w.call(e,"__chain__")&&w.call(e,"__wrapped__"))return Zt(e)}return new Q(e)}function K(){}function Q(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}J.support={};function Z(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=V,this.__views__=[]}function ee(){this.__data__={}}function te(e){var t=e?e.length:0;for(this.data={hash:$(null),set:new _};t--;)this.push(e[t])}function ne(e,t){var n=e.data;return("string"==typeof t||fi(t)?n.set.has(t):n.hash[t])?0:-1}function ie(e,t){var n=-1,i=e.length;for(t||(t=E(i));++n<i;)t[n]=e[n];return t}function re(e,t){for(var n=-1,i=e.length;++n<i&&!1!==t(e[n],n,e););return e}function oe(e,t){for(var n=-1,i=e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ae(e,t){for(var n=-1,i=e.length,r=-1,o=[];++n<i;){var a=e[n];t(a,n,e)&&(o[++r]=a)}return o}function se(e,t){for(var n=-1,i=e.length,r=E(i);++n<i;)r[n]=t(e[n],n,e);return r}function le(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function ce(e,t,n,i){var r=-1,o=e.length;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function ue(e,t){for(var n=-1,i=e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function de(e,t,n,i){return e!==fr&&w.call(i,n)?e:t}function he(e,t,n){for(var i=-1,r=Ni(t),o=r.length;++i<o;){var a=r[i],s=e[a],l=n(s,t[a],a,e,t);(l==l?l===s:s!=s)&&(s!==fr||a in e)||(e[a]=l)}return e}function pe(e,t){return null==t?e:ge(t,Ni(t),e)}function fe(e,t){for(var n=-1,i=null==e,r=!i&&jt(e),o=r?e.length:0,a=t.length,s=E(a);++n<a;){var l=t[n];s[n]=r?Rt(l,o)?e[l]:fr:i?fr:e[l]}return s}function ge(e,t,n){n||(n={});for(var i=-1,r=t.length;++i<r;){var o=t[i];n[o]=e[o]}return n}function me(e,t,n){var i=typeof e;return"function"==i?t===fr?e:Ze(e,t,n):null==e?tr:"object"==i?je(e):t===fr?sr(e):Re(e,t)}function ve(n,i,r,e,t,o,a){var s;if(r&&(s=t?r(n,e,t):r(n)),s!==fr)return s;if(!fi(n))return n;var l,c,u,d,h=ui(n);if(h){if(u=(c=n).length,d=new c.constructor(u),u&&"string"==typeof c[0]&&w.call(c,"index")&&(d.index=c.index,d.input=c.input),s=d,!i)return ie(n,s)}else{var p=x.call(n),f=p==Fr;if(p!=Hr&&p!=Or&&(!f||t))return Io[p]?function(e,t,n){var i=e.constructor;switch(t){case Ur:return et(e);case Lr:case jr:return new i(+e);case zr:case Wr:case Gr:case Yr:case Xr:case Jr:case Kr:case Qr:case Zr:var r=e.buffer;return new i(n?et(r):r,e.byteOffset,e.length);case qr:case Vr:return new i(e);case Br:var o=new i(e.source,bo.exec(e));o.lastIndex=e.lastIndex}return o}(n,p,i):t?n:{};if("function"==typeof(l=(f?{}:n).constructor)&&l instanceof l||(l=v),s=new l,!i)return pe(s,n)}o||(o=[]),a||(a=[]);for(var g=o.length;g--;)if(o[g]==n)return a[g];return o.push(n),a.push(s),(h?re:Ie)(n,function(e,t){s[t]=ve(e,i,r,t,n,o,a)}),s}J.templateSettings={escape:so,evaluate:lo,interpolate:co,variable:"",imports:{_:J}};var ye=function(){function n(){}return function(e){if(fi(e)){n.prototype=e;var t=new n;n.prototype=fr}return t||{}}}();function be(e,t,n){if("function"!=typeof e)throw new b($r);return T(function(){e.apply(fr,n)},t)}function we(e,t){var n=e?e.length:0,i=[];if(!n)return i;var r=-1,o=$t(),a=o===Oo,s=a&&t.length>=Er?st(t):null,l=t.length;s&&(o=ne,a=!1,t=s);e:for(;++r<n;){var c=e[r];if(a&&c==c){for(var u=l;u--;)if(t[u]===c)continue e;i.push(c)}else o(t,c,0)<0&&i.push(c)}return i}var xe=ot(Ie),Ce=ot(Pe,!0);function Se(e,i){var r=!0;return xe(e,function(e,t,n){return r=!!i(e,t,n)}),r}function ke(e,i){var r=[];return xe(e,function(e,t,n){i(e,t,n)&&r.push(e)}),r}function _e(e,i,t,r){var o;return t(e,function(e,t,n){if(i(e,t,n))return o=r?t:e,!1}),o}function Te(e,t,n,i){i||(i=[]);for(var r=-1,o=e.length;++r<o;){var a=e[r];zo(a)&&jt(a)&&(n||ui(a)||ci(a))?t?Te(a,t,n,i):le(i,a):n||(i[i.length]=a)}return i}var De=at(),Ae=at(!0);function Ee(e,t){return De(e,t,Li)}function Ie(e,t){return De(e,t,Ni)}function Pe(e,t){return Ae(e,t,Ni)}function $e(e,t){for(var n=-1,i=t.length,r=-1,o=[];++n<i;){var a=t[n];pi(e[a])&&(o[++r]=a)}return o}function Me(e,t,n){if(null!=e){n!==fr&&n in Kt(e)&&(t=[n]);for(var i=0,r=t.length;null!=e&&i<r;)e=e[t[i++]];return i&&i==r?e:fr}}function Oe(e,t,n,i,r,o){return e===t||(null==e||null==t||!fi(e)&&!zo(t)?e!=e&&t!=t:function(e,t,n,i,r,o,a){var s=ui(e),l=ui(t),c=Nr,u=Nr;s||((c=x.call(e))==Or?c=Hr:c!=Hr&&(s=wi(e))),l||((u=x.call(t))==Or?u=Hr:u!=Hr&&(l=wi(t)));var d=c==Hr,h=u==Hr,p=c==u;if(p&&!s&&!d)return function(e,t,n){switch(n){case Lr:case jr:return+e==+t;case Rr:return e.name==t.name&&e.message==t.message;case qr:return e!=+e?t!=+t:e==+t;case Br:case Vr:return e==t+""}return!1}(e,t,c);if(!r){var f=d&&w.call(e,"__wrapped__"),g=h&&w.call(t,"__wrapped__");if(f||g)return n(f?e.value():e,g?t.value():t,i,r,o,a)}if(!p)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?function(e,t,n,i,r,o,a){var s=-1,l=e.length,c=t.length;if(l!=c&&!(r&&l<c))return!1;for(;++s<l;){var u=e[s],d=t[s],h=i?i(r?d:u,r?u:d,s):fr;if(h!==fr){if(h)continue;return!1}if(r){if(!ue(t,function(e){return u===e||n(u,e,i,r,o,a)}))return!1}else if(u!==d&&!n(u,d,i,r,o,a))return!1}return!0}:function(e,t,n,i,r,o,a){var s=Ni(e),l=s.length,c=Ni(t).length;if(l!=c&&!r)return!1;for(var u=l;u--;){var d=s[u];if(!(r?d in t:w.call(t,d)))return!1}for(var h=r;++u<l;){d=s[u];var p=e[d],f=t[d],g=i?i(r?f:p,r?p:f,d):fr;if(!(g===fr?n(p,f,i,r,o,a):g))return!1;h||(h="constructor"==d)}if(!h){var m=e.constructor,v=t.constructor;if(m!=v&&"constructor"in e&&"constructor"in t&&!("function"==typeof m&&m instanceof m&&"function"==typeof v&&v instanceof v))return!1}return!0})(e,t,n,i,r,o,a);return o.pop(),a.pop(),v}(e,t,Oe,n,i,r,o))}function Ne(e,t,n){var i=t.length,r=i,o=!n;if(null==e)return!r;for(e=Kt(e);i--;){var a=t[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<r;){var s=(a=t[i])[0],l=e[s],c=a[1];if(o&&a[2]){if(l===fr&&!(s in e))return!1}else{var u=n?n(l,c,s):fr;if(!(u===fr?Oe(c,l,n,!0):u))return!1}}return!0}function Le(e,i){var r=-1,o=jt(e)?E(e.length):[];return xe(e,function(e,t,n){o[++r]=i(e,t,n)}),o}function je(e){var t=Ot(e);if(1==t.length&&t[0][2]){var n=t[0][0],i=t[0][1];return function(e){return null!=e&&e[n]===i&&(i!==fr||n in Kt(e))}}return function(e){return Ne(e,t)}}function Re(n,i){var r=ui(n),o=qt(n)&&Vt(i),a=n+"";return n=Qt(n),function(e){if(null==e)return!1;var t=a;if(e=Kt(e),(r||!o)&&!(t in e)){if(null==(e=1==n.length?e:Me(e,Ve(n,0,-1))))return!1;t=cn(n),e=Kt(e)}return e[t]===i?i!==fr||t in e:Oe(i,e[t],fr,!0)}}function Fe(t){return function(e){return null==e?fr:e[t]}}function qe(e,t){for(var n=e?t.length:0;n--;){var i=t[n];if(i!=r&&Rt(i)){var r=i;D.call(e,i,1)}}return e}function He(e,t){return e+M(H()*(t-e+1))}var Be=Y?function(e,t){return Y.set(e,t),e}:tr;function Ve(e,t,n){var i=-1,r=e.length;(t=null==t?0:+t||0)<0&&(t=r<-t?0:r+t),(n=n===fr||r<n?r:+n||0)<0&&(n+=r),r=n<t?0:n-t>>>0,t>>>=0;for(var o=E(r);++i<r;)o[i]=e[i+t];return o}function Ue(e,i){var r;return xe(e,function(e,t,n){return!(r=i(e,t,n))}),!!r}function ze(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function We(e,n,i){var t=Et(),r=-1;return n=se(n,function(e){return t(e)}),ze(Le(e,function(t){return{criteria:se(n,function(e){return e(t)}),index:++r,value:t}}),function(e,t){return function(e,t,n){for(var i=-1,r=e.criteria,o=t.criteria,a=r.length,s=n.length;++i<a;){var l=$o(r[i],o[i]);if(l){if(s<=i)return l;var c=n[i];return l*("asc"===c||!0===c?1:-1)}}return e.index-t.index}(e,t,i)})}function Ge(e,t){var n=-1,i=$t(),r=e.length,o=i===Oo,a=o&&Er<=r,s=a?st():null,l=[];s?(i=ne,o=!1):(a=!1,s=t?[]:l);e:for(;++n<r;){var c=e[n],u=t?t(c,n,e):c;if(o&&c==c){for(var d=s.length;d--;)if(s[d]===u)continue e;t&&s.push(u),l.push(c)}else i(s,u,0)<0&&((t||a)&&s.push(u),l.push(c))}return l}function Ye(e,t){for(var n=-1,i=t.length,r=E(i);++n<i;)r[n]=e[t[n]];return r}function Xe(e,t,n,i){for(var r=e.length,o=i?r:-1;(i?o--:++o<r)&&t(e[o],o,e););return n?Ve(e,i?0:o,i?o+1:r):Ve(e,i?o+1:0,i?r:o)}function Je(e,t){var n=e;n instanceof Z&&(n=n.value());for(var i=-1,r=t.length;++i<r;){var o=t[i];n=o.func.apply(o.thisArg,le([n],o.args))}return n}function Ke(e,t,n){var i=0,r=e?e.length:i;if("number"==typeof t&&t==t&&r<=W){for(;i<r;){var o=i+r>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?i=o+1:r=o}return r}return Qe(e,t,tr,n)}function Qe(e,t,n,i){t=n(t);for(var r=0,o=e?e.length:0,a=t!=t,s=null===t,l=t===fr;r<o;){var c=M((r+o)/2),u=n(e[c]),d=u!==fr,h=u==u;if(a)var p=h||i;else p=s?h&&d&&(i||null!=u):l?h&&(i||d):null!=u&&(i?u<=t:u<t);p?r=c+1:o=c}return R(o,z)}function Ze(o,a,e){if("function"!=typeof o)return tr;if(a===fr)return o;switch(e){case 1:return function(e){return o.call(a,e)};case 3:return function(e,t,n){return o.call(a,e,t,n)};case 4:return function(e,t,n,i){return o.call(a,e,t,n,i)};case 5:return function(e,t,n,i,r){return o.call(a,e,t,n,i,r)}}return function(){return o.apply(a,arguments)}}function et(e){var t=new f(e.byteLength);return new A(t).set(new A(e)),t}function tt(e,t,n){for(var i=n.length,r=-1,o=j(e.length-i,0),a=-1,s=t.length,l=E(s+o);++a<s;)l[a]=t[a];for(;++r<i;)l[n[r]]=e[r];for(;o--;)l[a++]=e[r++];return l}function nt(e,t,n){for(var i=-1,r=n.length,o=-1,a=j(e.length-r,0),s=-1,l=t.length,c=E(a+l);++o<a;)c[o]=e[o];for(var u=o;++s<l;)c[u+s]=t[s];for(;++i<r;)c[u+n[i]]=e[o++];return c}function it(s,l){return function(e,i,t){var r=l?l():{};if(i=Et(i,t,3),ui(e))for(var n=-1,o=e.length;++n<o;){var a=e[n];s(r,a,i(a,n,e),e)}else xe(e,function(e,t,n){s(r,e,i(e,t,n),n)});return r}}function rt(l){return si(function(e,t){var n=-1,i=null==e?0:t.length,r=2<i?t[i-2]:fr,o=2<i?t[2]:fr,a=1<i?t[i-1]:fr;for("function"==typeof r?(r=Ze(r,a,5),i-=2):i-=(r="function"==typeof a?a:fr)?1:0,o&&Ft(t[0],t[1],o)&&(r=i<3?fr:r,i=1);++n<i;){var s=t[n];s&&l(e,s,r)}return e})}function ot(o,a){return function(e,t){var n=e?Mt(e):0;if(!Bt(n))return o(e,t);for(var i=a?n:-1,r=Kt(e);(a?i--:++i<n)&&!1!==t(r[i],i,r););return e}}function at(l){return function(e,t,n){for(var i=Kt(e),r=n(e),o=r.length,a=l?o:-1;l?a--:++a<o;){var s=r[a];if(!1===t(i[s],s,i))break}return e}}function st(e){return $&&_?new te(e):null}function lt(o){return function(e){for(var t=-1,n=Qi(Ui(e)),i=n.length,r="";++t<i;)r=o(r,n[t],t);return r}}function ct(i){return function(){var e=arguments;switch(e.length){case 0:return new i;case 1:return new i(e[0]);case 2:return new i(e[0],e[1]);case 3:return new i(e[0],e[1],e[2]);case 4:return new i(e[0],e[1],e[2],e[3]);case 5:return new i(e[0],e[1],e[2],e[3],e[4]);case 6:return new i(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new i(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var t=ye(i.prototype),n=i.apply(t,e);return fi(n)?n:t}}function ut(o){return function e(t,n,i){i&&Ft(t,n,i)&&(n=fr);var r=At(t,o,fr,fr,fr,fr,fr,n);return r.placeholder=e.placeholder,r}}function dt(n,i){return si(function(e){var t=e[0];return null==t?t:(e.push(i),n.apply(fr,e))})}function ht(c,u){return function(e,t,n){if(n&&Ft(e,t,n)&&(t=fr),1==(t=Et(t,n,3)).length){var i=function(e,t,n,i){for(var r=-1,o=e.length,a=i,s=a;++r<o;){var l=e[r],c=+t(l);n(c,a)&&(a=c,s=l)}return s}(e=ui(e)?e:Jt(e),t,c,u);if(!e.length||i!==u)return i}return r=t,o=c,l=s=a=u,xe(e,function(e,t,n){var i=+r(e,t,n);(o(i,s)||i===a&&i===l)&&(s=i,l=e)}),l;var r,o,a,s,l}}function pt(r,o){return function(e,t,n){if(t=Et(t,n,3),ui(e)){var i=Mo(e,t,o);return-1<i?e[i]:fr}return _e(e,t,r)}}function ft(i){return function(e,t,n){return e&&e.length?Mo(e,t=Et(t,n,3),i):-1}}function gt(i){return function(e,t,n){return _e(e,t=Et(t,n,3),i,!0)}}function mt(l){return function(){for(var r,o=arguments.length,e=l?o:-1,t=0,a=E(o);l?e--:++e<o;){var n=a[t++]=arguments[e];if("function"!=typeof n)throw new b($r);!r&&Q.prototype.thru&&"wrapper"==Pt(n)&&(r=new Q([],!0))}for(e=r?-1:o;++e<o;){var i=Pt(n=a[e]),s="wrapper"==i?It(n):fr;r=s&&Ht(s[0])&&s[1]==(Sr|br|xr|kr)&&!s[4].length&&1==s[9]?r[Pt(s[0])].apply(r,s[3]):1==n.length&&Ht(n)?r[i]():r.thru(n)}return function(){var e=arguments,t=e[0];if(r&&1==e.length&&ui(t)&&t.length>=Er)return r.plant(t).value();for(var n=0,i=o?a[n].apply(this,e):t;++n<o;)i=a[n].call(this,i);return i}}}function vt(i,r){return function(e,t,n){return"function"==typeof t&&n===fr&&ui(e)?i(e,t):r(e,Ze(t,n,3))}}function yt(i){return function(e,t,n){return"function"==typeof t&&n===fr||(t=Ze(t,n,3)),i(e,t,Li)}}function bt(i){return function(e,t,n){return"function"==typeof t&&n===fr||(t=Ze(t,n,3)),i(e,t)}}function wt(a){return function(e,r,t){var o={};return r=Et(r,t,3),Ie(e,function(e,t,n){var i=r(e,t,n);e=a?e:i,o[t=a?i:t]=e}),o}}function xt(i){return function(e,t,n){return e=Lo(e),(i?e:"")+_t(e,t,n)+(i?"":e)}}function Ct(i){var r=si(function(e,t){var n=Wo(t,r.placeholder);return At(e,i,fr,t,n)});return r}function St(c,u){return function(e,t,n,i){var r,o,a,s,l=arguments.length<3;return"function"==typeof t&&i===fr&&ui(e)?c(e,t,n,l):(r=e,o=Et(t,i,4),a=n,s=l,u(r,function(e,t,n){a=s?(s=!1,e):o(a,e,t,n)}),a)}}function kt(h,p,f,g,m,v,y,b,w,x){var C=p&Sr,S=p&mr,k=p&vr,_=p&br,T=p&yr,D=p&wr,A=k?fr:ct(h);return function e(){for(var t=arguments.length,n=t,i=E(t);n--;)i[n]=arguments[n];if(g&&(i=tt(i,g,m)),v&&(i=nt(i,v,y)),_||D){var r=e.placeholder,o=Wo(i,r);if((t-=o.length)<x){var a=b?ie(b):fr,s=j(x-t,0);p|=_?xr:Cr,p&=~(_?Cr:xr),T||(p&=~(mr|vr));var l=[h,p,f,_?i:fr,_?o:fr,_?fr:i,_?fr:o,a,w,s],c=kt.apply(fr,l);return Ht(h)&&Yt(c,l),c.placeholder=r,c}}var u=S?f:this,d=k?u[h]:h;return b&&(i=function(e,t){for(var n=e.length,i=R(t.length,n),r=ie(e);i--;){var o=t[i];e[i]=Rt(o,n)?r[o]:fr}return e}(i,b)),C&&w<i.length&&(i.length=w),this&&this!==Po&&this instanceof e&&(d=A||ct(h)),d.apply(u,i)}}function _t(e,t,n){var i=e.length;if((t=+t)<=i||!N(t))return"";var r=t-i;return Yi(n=null==n?" ":n+"",P(r/n.length)).slice(0,r)}function Tt(e){var n=r[e];return function(e,t){return(t=t===fr?0:+t||0)?(t=S(10,t),n(e*t)/t):n(e)}}function Dt(o){return function(e,t,n,i){var r=Et(n);return null==n&&r===me?Ke(e,t,o):Qe(e,t,r(n,i,1),o)}}function At(e,t,n,i,r,o,a,s){var l=t&vr;if(!l&&"function"!=typeof e)throw new b($r);var c=i?i.length:0;if(c||(t&=~(xr|Cr),i=r=fr),c-=r?r.length:0,t&Cr){var u=i,d=r;i=r=fr}var h,p,f,g=l?fr:It(e),m=[e,t,n,i,r,u,d,o,a,s];if(g&&(function(e,t){var n=e[1],i=t[1],r=n|i,o=r<Sr,a=i==Sr&&n==br||i==Sr&&n==kr&&e[7].length<=t[8]||i==(Sr|kr)&&n==br;if(o||a){i&mr&&(e[2]=t[2],r|=n&mr?0:yr);var s=t[3];if(s){var l=e[3];e[3]=l?tt(l,s,t[4]):ie(s),e[4]=l?Wo(e[3],Mr):ie(t[4])}(s=t[5])&&(l=e[5],e[5]=l?nt(l,s,t[6]):ie(s),e[6]=l?Wo(e[5],Mr):ie(t[6])),(s=t[7])&&(e[7]=ie(s)),i&Sr&&(e[8]=null==e[8]?t[8]:R(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=r}}(m,g),t=m[1],s=m[9]),m[9]=null==s?l?0:e.length:j(s-c,0)||0,t==mr)var v=(h=m[0],p=m[2],f=ct(h),function e(){return(this&&this!==Po&&this instanceof e?f:h).apply(p,arguments)});else v=t!=xr&&t!=(mr|xr)||m[4].length?kt.apply(fr,m):function(a,e,s,l){var c=e&mr,u=ct(a);return function e(){for(var t=-1,n=arguments.length,i=-1,r=l.length,o=E(r+n);++i<r;)o[i]=l[i];for(;n--;)o[i++]=arguments[++t];return(this&&this!==Po&&this instanceof e?u:a).apply(c?s:this,o)}}.apply(fr,m);return(g?Be:Yt)(v,m)}function Et(e,t,n){var i=J.callback||er;return i=i===er?me:i,n?i(e,t,n):i}var It=Y?function(e){return Y.get(e)}:ar;function Pt(e){for(var t=e.name+"",n=X[t],i=n?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==e)return r.name}return t}function $t(e,t,n){var i=J.indexOf||sn;return i=i===sn?Oo:i,e?i(e,t,n):i}var Mt=Fe("length");function Ot(e){for(var t=qi(e),n=t.length;n--;)t[n][2]=Vt(t[n][1]);return t}function Nt(e,t){var n=null==e?fr:e[t];return gi(n)?n:fr}function Lt(e,t,n){null==e||qt(t,e)||(e=1==(t=Qt(t)).length?e:Me(e,Ve(t,0,-1)),t=cn(t));var i=null==e?e:e[t];return null==i?fr:i.apply(e,n)}function jt(e){return null!=e&&Bt(Mt(e))}function Rt(e,t){return e="number"==typeof e||Co.test(e)?+e:-1,t=null==t?G:t,-1<e&&e%1==0&&e<t}function Ft(e,t,n){if(!fi(n))return!1;var i=typeof t;if("number"==i?jt(n)&&Rt(t,n.length):"string"==i&&t in n){var r=n[t];return e==e?e===r:r!=r}return!1}function qt(e,t){var n=typeof e;return!!("string"==n&&ho.test(e)||"number"==n)||!ui(e)&&(!uo.test(e)||null!=t&&e in Kt(t))}function Ht(e){var t=Pt(e),n=J[t];if("function"!=typeof n||!(t in Z.prototype))return!1;if(e===n)return!0;var i=It(n);return!!i&&e===i[0]}function Bt(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=G}function Vt(e){return e==e&&!fi(e)}function Ut(e,t){e=Kt(e);for(var n=-1,i=t.length,r={};++n<i;){var o=t[n];o in e&&(r[o]=e[o])}return r}function zt(e,i){var r={};return Ee(e,function(e,t,n){i(e,t,n)&&(r[t]=e)}),r}var Wt,Gt,Yt=(Gt=Wt=0,function(e,t){var n=Un(),i=Ar-(n-Gt);if(Gt=n,0<i){if(++Wt>=Dr)return e}else Wt=0;return Be(e,t)});function Xt(e){for(var t=Li(e),n=t.length,i=n&&e.length,r=!!i&&Bt(i)&&(ui(e)||ci(e)),o=-1,a=[];++o<n;){var s=t[o];(r&&Rt(s,i)||w.call(e,s))&&a.push(s)}return a}function Jt(e){return null==e?[]:jt(e)?fi(e)?e:v(e):Bi(e)}function Kt(e){return fi(e)?e:v(e)}function Qt(e){if(ui(e))return e;var r=[];return Lo(e).replace(po,function(e,t,n,i){r.push(n?i.replace(vo,"$1"):t||e)}),r}function Zt(e){return e instanceof Z?e.clone():new Q(e.__wrapped__,e.__chain__,ie(e.__actions__))}var en=si(function(e,t){return zo(e)&&jt(e)?we(e,Te(t,!1,!0)):[]});function tn(e,t,n){return e&&e.length?((n?Ft(e,t,n):null==t)&&(t=1),Ve(e,t<0?0:t)):[]}function nn(e,t,n){var i=e?e.length:0;return i?((n?Ft(e,t,n):null==t)&&(t=1),Ve(e,0,(t=i-(+t||0))<0?0:t)):[]}var rn=ft(),on=ft(!0);function an(e){return e?e[0]:fr}function sn(e,t,n){var i=e?e.length:0;if(!i)return-1;if("number"==typeof n)n=n<0?j(i+n,0):n;else if(n){var r=Ke(e,t);return r<i&&(t==t?t===e[r]:e[r]!=e[r])?r:-1}return Oo(e,t,n||0)}var ln=si(function(e){for(var t=e.length,n=t,i=E(u),r=$t(),o=r===Oo,a=[];n--;){var s=e[n]=jt(s=e[n])?s:[];i[n]=o&&120<=s.length?st(n&&s):null}var l=e[0],c=-1,u=l?l.length:0,d=i[0];e:for(;++c<u;)if(s=l[c],(d?ne(d,s):r(a,s,0))<0){for(n=t;--n;){var h=i[n];if((h?ne(h,s):r(e[n],s,0))<0)continue e}d&&d.push(s),a.push(s)}return a});function cn(e){var t=e?e.length:0;return t?e[t-1]:fr}var un=si(function(e,t){var n=fe(e,t=Te(t));return qe(e,t.sort($o)),n});function dn(e){return tn(e,1)}var hn=Dt(),pn=Dt(!0);var fn=si(function(e){return Ge(Te(e,!1,!0))});function gn(e,t,n,i){if(!e||!e.length)return[];null!=t&&"boolean"!=typeof t&&(n=Ft(e,t,i=n)?fr:t,t=!1);var r=Et();return null==n&&r===me||(n=r(n,i,3)),t&&$t()===Oo?function(e,t){for(var n,i=-1,r=e.length,o=-1,a=[];++i<r;){var s=e[i],l=t?t(s,i,e):s;i&&n===l||(n=l,a[++o]=s)}return a}(e,n):Ge(e,n)}function mn(e){if(!e||!e.length)return[];var t=-1,n=0;e=ae(e,function(e){if(jt(e))return n=j(e.length,n),!0});for(var i=E(n);++t<n;)i[t]=se(e,Fe(t));return i}function vn(e,t,n){if(!e||!e.length)return[];var i=mn(e);return null==t?i:(t=Ze(t,n,4),se(i,function(e){return ce(e,t,fr,!0)}))}var yn=si(function(e,t){return jt(e)?we(e,t):[]});var bn=si(mn);function wn(e,t){var n=-1,i=e?e.length:0,r={};for(!i||t||ui(e[0])||(t=[]);++n<i;){var o=e[n];t?r[o]=t[n]:o&&(r[o[0]]=o[1])}return r}var xn=si(function(e){var t=e.length,n=2<t?e[t-2]:fr,i=1<t?e[t-1]:fr;return 2<t&&"function"==typeof n?t-=2:(n=1<t&&"function"==typeof i?(--t,i):fr,i=fr),e.length=t,vn(e,n,i)});function Cn(e){var t=J(e);return t.__chain__=!0,t}function Sn(e,t,n){return t.call(n,e)}var kn=si(function(t){return t=Te(t),this.thru(function(e){return function(e,t){for(var n=-1,i=e.length,r=-1,o=t.length,a=E(i+o);++n<i;)a[n]=e[n];for(;++r<o;)a[n++]=t[r];return a}(ui(e)?e:[Kt(e)],t)})});var _n=si(function(e,t){return fe(e,Te(t))}),Tn=it(function(e,t,n){w.call(e,n)?++e[n]:e[n]=1});function Dn(e,t,n){var i=ui(e)?oe:Se;return n&&Ft(e,t,n)&&(t=fr),"function"==typeof t&&n===fr||(t=Et(t,n,3)),i(e,t)}function An(e,t,n){return(ui(e)?ae:ke)(e,t=Et(t,n,3))}var En=pt(xe),In=pt(Ce,!0);var Pn=vt(re,xe),$n=vt(function(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e},Ce),Mn=it(function(e,t,n){w.call(e,n)?e[n].push(t):e[n]=[t]});function On(e,t,n,i){var r=e?Mt(e):0;return Bt(r)||(r=(e=Bi(e)).length),n="number"!=typeof n||i&&Ft(t,n,i)?0:n<0?j(r+n,0):n||0,"string"==typeof e||!ui(e)&&bi(e)?n<=r&&-1<e.indexOf(t,n):!!r&&-1<$t(e,t,n)}var Nn=it(function(e,t,n){e[n]=t}),Ln=si(function(e,n,i){var r=-1,o="function"==typeof n,a=qt(n),s=jt(e)?E(e.length):[];return xe(e,function(e){var t=o?n:a&&null!=e?e[n]:fr;s[++r]=t?t.apply(e,i):Lt(e,n,i)}),s});function jn(e,t,n){return(ui(e)?se:Le)(e,t=Et(t,n,3))}var Rn=it(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Fn=St(ce,xe),qn=St(function(e,t,n,i){var r=e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n},Ce);function Hn(e,t,n){if(n?Ft(e,t,n):null==t)return 0<(i=(e=Jt(e)).length)?e[He(0,i-1)]:fr;var i,r=-1,o=Ci(e),a=(i=o.length)-1;for(t=R(t<0?0:+t||0,i);++r<t;){var s=He(r,a),l=o[s];o[s]=o[r],o[r]=l}return o.length=t,o}function Bn(e,t,n){var i=ui(e)?ue:Ue;return n&&Ft(e,t,n)&&(t=fr),"function"==typeof t&&n===fr||(t=Et(t,n,3)),i(e,t)}var Vn=si(function(e,t){if(null==e)return[];var n=t[2];return n&&Ft(t[0],t[1],n)&&(t.length=1),We(e,Te(t),[])});var Un=F||function(){return(new n).getTime()};function zn(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new b($r);var i=e;e=t,t=i}return function(){return 0<--e&&(n=t.apply(this,arguments)),e<=1&&(t=fr),n}}var Wn=si(function(e,t,n){var i=mr;if(n.length){var r=Wo(n,Wn.placeholder);i|=xr}return At(e,i,t,n,r)}),Gn=si(function(e,t){for(var n=-1,i=(t=t.length?Te(t):Oi(e)).length;++n<i;){var r=t[n];e[r]=At(e[r],mr,e)}return e}),Yn=si(function(e,t,n){var i=mr|vr;if(n.length){var r=Wo(n,Yn.placeholder);i|=xr}return At(t,i,e,n,r)}),Xn=ut(br),Jn=ut(wr);function Kn(i,r,e){var o,a,s,l,c,u,d,h=0,p=!1,f=!0;if("function"!=typeof i)throw new b($r);if(r=r<0?0:+r||0,!0===e){var g=!0;f=!1}else fi(e)&&(g=!!e.leading,p="maxWait"in e&&j(+e.maxWait||0,r),f="trailing"in e?!!e.trailing:f);function t(e,t){t&&C(t),a=u=d=fr,e&&(h=Un(),s=i.apply(c,o),u||a||(o=c=fr))}function m(){var e=r-(Un()-l);e<=0||r<e?t(d,a):u=T(m,e)}function v(){t(f,u)}function n(){if(o=arguments,l=Un(),c=this,d=f&&(u||!g),!1===p)var e=g&&!u;else{a||g||(h=l);var t=p-(l-h),n=t<=0||p<t;n?(a&&(a=C(a)),h=l,s=i.apply(c,o)):a||(a=T(v,t))}return n&&u?u=C(u):u||r===p||(u=T(m,r)),e&&(n=!0,s=i.apply(c,o)),!n||u||a||(o=c=fr),s}return n.cancel=function(){u&&C(u),a&&C(a),h=0,a=u=d=fr},n}var Qn=si(function(e,t){return be(e,1,t)}),Zn=si(function(e,t,n){return be(e,t,n)}),ei=mt(),ti=mt(!0);function ni(r,o){if("function"!=typeof r||o&&"function"!=typeof o)throw new b($r);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],n=a.cache;if(n.has(t))return n.get(t);var i=r.apply(this,e);return a.cache=n.set(t,i),i};return a.cache=new ni.Cache,a}var ii=si(function(n,i){if(i=Te(i),"function"!=typeof n||!oe(i,No))throw new b($r);var r=i.length;return si(function(e){for(var t=R(e.length,r);t--;)e[t]=i[t](e[t]);return n.apply(this,e)})});var ri=Ct(xr),oi=Ct(Cr),ai=si(function(e,t){return At(e,kr,fr,fr,fr,Te(t))});function si(o,a){if("function"!=typeof o)throw new b($r);return a=j(a===fr?o.length-1:+a||0,0),function(){for(var e=arguments,t=-1,n=j(e.length-a,0),i=E(n);++t<n;)i[t]=e[a+t];switch(a){case 0:return o.call(this,i);case 1:return o.call(this,e[0],i);case 2:return o.call(this,e[0],e[1],i)}var r=E(a+1);for(t=-1;++t<a;)r[t]=e[t];return r[a]=i,o.apply(this,r)}}function li(e,t){return t<e}function ci(e){return zo(e)&&jt(e)&&w.call(e,"callee")&&!k.call(e,"callee")}var ui=O||function(e){return zo(e)&&Bt(e.length)&&x.call(e)==Nr};function di(e,t,n,i){var r=(n="function"==typeof n?Ze(n,i,3):fr)?n(e,t):fr;return r===fr?Oe(e,t,n):!!r}function hi(e){return zo(e)&&"string"==typeof e.message&&x.call(e)==Rr}function pi(e){return fi(e)&&x.call(e)==Fr}function fi(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function gi(e){return null!=e&&(pi(e)?p.test(u.call(e)):zo(e)&&xo.test(e))}function mi(e){return"number"==typeof e||zo(e)&&x.call(e)==qr}function vi(e){var t,n;return!(!zo(e)||x.call(e)!=Hr||ci(e)||!(w.call(e,"constructor")||"function"!=typeof(t=e.constructor)||t instanceof t))&&(Ee(e,function(e,t){n=t}),n===fr||w.call(e,n))}function yi(e){return fi(e)&&x.call(e)==Br}function bi(e){return"string"==typeof e||zo(e)&&x.call(e)==Vr}function wi(e){return zo(e)&&Bt(e.length)&&!!Eo[x.call(e)]}function xi(e,t){return e<t}function Ci(e){var t=e?Mt(e):0;return Bt(t)?t?ie(e):[]:Bi(e)}function Si(e){return ge(e,Li(e))}var ki=rt(function o(a,s,l,c,u){if(!fi(a))return a;var d=jt(s)&&(ui(s)||wi(s)),h=d?fr:Ni(s);return re(h||s,function(e,t){if(h&&(e=s[t=e]),zo(e))c||(c=[]),u||(u=[]),function(e,t,n,i,r,o,a){for(var s=o.length,l=t[n];s--;)if(o[s]==l)return e[n]=a[s];var c=e[n],u=r?r(c,l,n,e,t):fr,d=u===fr;d&&(jt(u=l)&&(ui(l)||wi(l))?u=ui(c)?c:jt(c)?ie(c):[]:vi(l)||ci(l)?u=ci(c)?Si(c):vi(c)?c:{}:d=!1),o.push(l),a.push(u),d?e[n]=i(u,l,r,o,a):(u==u?u!==c:c==c)&&(e[n]=u)}(a,s,t,o,l,c,u);else{var n=a[t],i=l?l(n,e,t,a,s):fr,r=i===fr;r&&(i=e),i===fr&&(!d||t in a)||!r&&(i==i?i===n:n!=n)||(a[t]=i)}}),a}),_i=rt(function(e,t,n){return n?he(e,t,n):pe(e,t)});var Ti=dt(_i,function(e,t){return e===fr?t:e}),Di=dt(ki,function e(t,n){return t===fr?n:ki(t,n,e)}),Ai=gt(Ie),Ei=gt(Pe),Ii=yt(De),Pi=yt(Ae),$i=bt(Ie),Mi=bt(Pe);function Oi(e){return $e(e,Li(e))}var Ni=L?function(e){var t=null==e?fr:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&jt(e)?Xt(e):fi(e)?L(e):[]}:Xt;function Li(e){if(null==e)return[];fi(e)||(e=v(e));var t=e.length;t=t&&Bt(t)&&(ui(e)||ci(e))&&t||0;for(var n=e.constructor,i=-1,r="function"==typeof n&&n.prototype===e,o=E(t),a=0<t;++i<t;)o[i]=i+"";for(var s in e)a&&Rt(s,t)||"constructor"==s&&(r||!w.call(e,s))||o.push(s);return o}var ji=wt(!0),Ri=wt(),Fi=si(function(e,t){if(null==e)return{};if("function"!=typeof t[0])return t=se(Te(t),a),Ut(e,we(Li(e),t));var i=Ze(t[0],t[1],3);return zt(e,function(e,t,n){return!i(e,t,n)})});function qi(e){e=Kt(e);for(var t=-1,n=Ni(e),i=n.length,r=E(i);++t<i;){var o=n[t];r[t]=[o,e[o]]}return r}var Hi=si(function(e,t){return null==e?{}:"function"==typeof t[0]?zt(e,Ze(t[0],t[1],3)):Ut(e,Te(t))});function Bi(e){return Ye(e,Ni(e))}var Vi=lt(function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)});function Ui(e){return(e=Lo(e))&&e.replace(So,qo).replace(mo,"")}var zi=lt(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});var Wi=xt(),Gi=xt(!0);function Yi(e,t){var n="";if(e=Lo(e),(t=+t)<1||!e||!N(t))return n;for(;t%2&&(n+=e),e+=e,t=M(t/2););return n}var Xi=lt(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}),Ji=lt(function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))});function Ki(e,t,n){var i=e;return(e=Lo(e))?(n?Ft(i,t,n):null==t)?e.slice(Go(e),Yo(e)+1):(t+="",e.slice(jo(e,t),Ro(e,t)+1)):e}function Qi(e,t,n){return n&&Ft(e,t,n)&&(t=fr),(e=Lo(e)).match(t||To)||[]}var Zi=si(function(e,t){try{return e.apply(fr,t)}catch(e){return hi(e)?e:new i(e)}});function er(e,t,n){return n&&Ft(e,t,n)&&(t=fr),zo(e)?nr(e):me(e,t)}function tr(e){return e}function nr(e){return je(ve(e,!0))}var ir=si(function(t,n){return function(e){return Lt(e,t,n)}}),rr=si(function(t,n){return function(e){return Lt(t,e,n)}});function or(i,e,t){if(null==t){var n=fi(e),r=n?Ni(e):fr,o=r&&r.length?$e(e,r):fr;(o?o.length:n)||(o=!1,t=e,e=i,i=this)}o||(o=$e(e,Ni(e)));var a=!0,s=-1,l=pi(i),c=o.length;!1===t?a=!1:fi(t)&&"chain"in t&&(a=t.chain);for(;++s<c;){var u=o[s],d=e[u];i[u]=d,l&&(i.prototype[u]=function(n){return function(){var e=this.__chain__;if(a||e){var t=i(this.__wrapped__);return(t.__actions__=ie(this.__actions__)).push({func:n,args:arguments,thisArg:i}),t.__chain__=e,t}return n.apply(i,le([this.value()],arguments))}}(d))}return i}function ar(){}function sr(e){return qt(e)?Fe(e):(n=(t=e)+"",t=Qt(t),function(e){return Me(e,t,n)});var t,n}var lr,cr=Tt("ceil"),ur=Tt("floor"),dr=ht(li,B),hr=ht(xi,V),pr=Tt("round");return J.prototype=K.prototype,(Q.prototype=ye(K.prototype)).constructor=Q,(Z.prototype=ye(K.prototype)).constructor=Z,ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},ee.prototype.get=function(e){return"__proto__"==e?fr:this.__data__[e]},ee.prototype.has=function(e){return"__proto__"!=e&&w.call(this.__data__,e)},ee.prototype.set=function(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this},te.prototype.push=function(e){var t=this.data;"string"==typeof e||fi(e)?t.set.add(e):t.hash[e]=!0},ni.Cache=ee,J.after=function(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new b($r);var n=e;e=t,t=n}return e=N(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}},J.ary=function(e,t,n){return n&&Ft(e,t,n)&&(t=fr),t=e&&null==t?e.length:j(+t||0,0),At(e,Sr,fr,fr,fr,fr,t)},J.assign=_i,J.at=_n,J.before=zn,J.bind=Wn,J.bindAll=Gn,J.bindKey=Yn,J.callback=er,J.chain=Cn,J.chunk=function(e,t,n){t=(n?Ft(e,t,n):null==t)?1:j(M(t)||1,1);for(var i=0,r=e?e.length:0,o=-1,a=E(P(r/t));i<r;)a[++o]=Ve(e,i,i+=t);return a},J.compact=function(e){for(var t=-1,n=e?e.length:0,i=-1,r=[];++t<n;){var o=e[t];o&&(r[++i]=o)}return r},J.constant=function(e){return function(){return e}},J.countBy=Tn,J.create=function(e,t,n){var i=ye(e);return n&&Ft(e,t,n)&&(t=fr),t?pe(i,t):i},J.curry=Xn,J.curryRight=Jn,J.debounce=Kn,J.defaults=Ti,J.defaultsDeep=Di,J.defer=Qn,J.delay=Zn,J.difference=en,J.drop=tn,J.dropRight=nn,J.dropRightWhile=function(e,t,n){return e&&e.length?Xe(e,Et(t,n,3),!0,!0):[]},J.dropWhile=function(e,t,n){return e&&e.length?Xe(e,Et(t,n,3),!0):[]},J.fill=function(e,t,n,i){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&Ft(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=null==n?0:+n||0)<0&&(n=r<-n?0:r+n),(i=i===fr||r<i?r:+i||0)<0&&(i+=r),r=i<n?0:i>>>0,n>>>=0;n<r;)e[n++]=t;return e}(e,t,n,i)):[]},J.filter=An,J.flatten=function(e,t,n){var i=e?e.length:0;return n&&Ft(e,t,n)&&(t=!1),i?Te(e,t):[]},J.flattenDeep=function(e){return e&&e.length?Te(e,!0):[]},J.flow=ei,J.flowRight=ti,J.forEach=Pn,J.forEachRight=$n,J.forIn=Ii,J.forInRight=Pi,J.forOwn=$i,J.forOwnRight=Mi,J.functions=Oi,J.groupBy=Mn,J.indexBy=Nn,J.initial=function(e){return nn(e,1)},J.intersection=ln,J.invert=function(e,t,n){n&&Ft(e,t,n)&&(t=fr);for(var i=-1,r=Ni(e),o=r.length,a={};++i<o;){var s=r[i],l=e[s];t?w.call(a,l)?a[l].push(s):a[l]=[s]:a[l]=s}return a},J.invoke=Ln,J.keys=Ni,J.keysIn=Li,J.map=jn,J.mapKeys=ji,J.mapValues=Ri,J.matches=nr,J.matchesProperty=function(e,t){return Re(e,ve(t,!0))},J.memoize=ni,J.merge=ki,J.method=ir,J.methodOf=rr,J.mixin=or,J.modArgs=ii,J.negate=function(e){if("function"!=typeof e)throw new b($r);return function(){return!e.apply(this,arguments)}},J.omit=Fi,J.once=function(e){return zn(2,e)},J.pairs=qi,J.partial=ri,J.partialRight=oi,J.partition=Rn,J.pick=Hi,J.pluck=function(e,t){return jn(e,sr(t))},J.property=sr,J.propertyOf=function(t){return function(e){return Me(t,Qt(e),e+"")}},J.pull=function(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,i=$t(),r=e.length;++n<r;)for(var o=0,a=e[n];-1<(o=i(t,a,o));)D.call(t,o,1);return t},J.pullAt=un,J.range=function(e,t,n){n&&Ft(e,t,n)&&(t=n=fr),e=+e||0,null==t?(t=e,e=0):t=+t||0;for(var i=-1,r=j(P((t-e)/((n=null==n?1:+n||0)||1)),0),o=E(r);++i<r;)o[i]=e,e+=n;return o},J.rearg=ai,J.reject=function(e,i,t){var n=ui(e)?ae:ke;return i=Et(i,t,3),n(e,function(e,t,n){return!i(e,t,n)})},J.remove=function(e,t,n){var i=[];if(!e||!e.length)return i;var r=-1,o=[],a=e.length;for(t=Et(t,n,3);++r<a;){var s=e[r];t(s,r,e)&&(i.push(s),o.push(r))}return qe(e,o),i},J.rest=dn,J.restParam=si,J.set=function(e,t,n){if(null==e)return e;for(var i=t+"",r=-1,o=(t=null!=e[i]||qt(t,e)?[i]:Qt(t)).length,a=o-1,s=e;null!=s&&++r<o;){var l=t[r];fi(s)&&(r==a?s[l]=n:null==s[l]&&(s[l]=Rt(t[r+1])?[]:{})),s=s[l]}return e},J.shuffle=function(e){return Hn(e,V)},J.slice=function(e,t,n){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&Ft(e,t,n)&&(t=0,n=i),Ve(e,t,n)):[]},J.sortBy=function(e,i,t){if(null==e)return[];t&&Ft(e,i,t)&&(i=fr);var r=-1;return i=Et(i,t,3),ze(Le(e,function(e,t,n){return{criteria:i(e,t,n),index:++r,value:e}}),Fo)},J.sortByAll=Vn,J.sortByOrder=function(e,t,n,i){return null==e?[]:(i&&Ft(t,n,i)&&(n=fr),ui(t)||(t=null==t?[]:[t]),ui(n)||(n=null==n?[]:[n]),We(e,t,n))},J.spread=function(t){if("function"!=typeof t)throw new b($r);return function(e){return t.apply(this,e)}},J.take=function(e,t,n){return e&&e.length?((n?Ft(e,t,n):null==t)&&(t=1),Ve(e,0,t<0?0:t)):[]},J.takeRight=function(e,t,n){var i=e?e.length:0;return i?((n?Ft(e,t,n):null==t)&&(t=1),Ve(e,(t=i-(+t||0))<0?0:t)):[]},J.takeRightWhile=function(e,t,n){return e&&e.length?Xe(e,Et(t,n,3),!1,!0):[]},J.takeWhile=function(e,t,n){return e&&e.length?Xe(e,Et(t,n,3)):[]},J.tap=function(e,t,n){return t.call(n,e),e},J.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new b($r);return!1===n?i=!1:fi(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Kn(e,t,{leading:i,maxWait:+t,trailing:r})},J.thru=Sn,J.times=function(e,t,n){if((e=M(e))<1||!N(e))return[];var i=-1,r=E(R(e,U));for(t=Ze(t,n,1);++i<e;)i<U?r[i]=t(i):t(i);return r},J.toArray=Ci,J.toPlainObject=Si,J.transform=function(e,i,r,t){var n=ui(e)||wi(e);if(i=Et(i,t,4),null==r)if(n||fi(e)){var o=e.constructor;r=n?ui(e)?new o:[]:ye(pi(o)?o.prototype:fr)}else r={};return(n?re:Ie)(e,function(e,t,n){return i(r,e,t,n)}),r},J.union=fn,J.uniq=gn,J.unzip=mn,J.unzipWith=vn,J.values=Bi,J.valuesIn=function(e){return Ye(e,Li(e))},J.where=function(e,t){return An(e,je(t))},J.without=yn,J.wrap=function(e,t){return At(t=null==t?tr:t,xr,fr,[e],[])},J.xor=function(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(jt(n))var i=i?le(we(i,n),we(n,i)):n}return i?Ge(i):[]},J.zip=bn,J.zipObject=wn,J.zipWith=xn,J.backflow=ti,J.collect=jn,J.compose=ti,J.each=Pn,J.eachRight=$n,J.extend=_i,J.iteratee=er,J.methods=Oi,J.object=wn,J.select=An,J.tail=dn,J.unique=gn,or(J,J),J.add=function(e,t){return(+e||0)+(+t||0)},J.attempt=Zi,J.camelCase=Vi,J.capitalize=function(e){return(e=Lo(e))&&e.charAt(0).toUpperCase()+e.slice(1)},J.ceil=cr,J.clone=function(e,t,n,i){return t&&"boolean"!=typeof t&&Ft(e,t,n)?t=!1:"function"==typeof t&&(i=n,n=t,t=!1),"function"==typeof n?ve(e,t,Ze(n,i,3)):ve(e,t)},J.cloneDeep=function(e,t,n){return"function"==typeof t?ve(e,!0,Ze(t,n,3)):ve(e,!0)},J.deburr=Ui,J.endsWith=function(e,t,n){t+="";var i=(e=Lo(e)).length;return n=n===fr?i:R(n<0?0:+n||0,i),0<=(n-=t.length)&&e.indexOf(t,n)==n},J.escape=function(e){return(e=Lo(e))&&ao.test(e)?e.replace(ro,Ho):e},J.escapeRegExp=function(e){return(e=Lo(e))&&go.test(e)?e.replace(fo,Bo):e||"(?:)"},J.every=Dn,J.find=En,J.findIndex=rn,J.findKey=Ai,J.findLast=In,J.findLastIndex=on,J.findLastKey=Ei,J.findWhere=function(e,t){return En(e,je(t))},J.first=an,J.floor=ur,J.get=function(e,t,n){var i=null==e?fr:Me(e,Qt(t),t+"");return i===fr?n:i},J.gt=li,J.gte=function(e,t){return t<=e},J.has=function(e,t){if(null==e)return!1;var n=w.call(e,t);if(!n&&!qt(t)){if(null==(e=1==(t=Qt(t)).length?e:Me(e,Ve(t,0,-1))))return!1;t=cn(t),n=w.call(e,t)}return n||Bt(e.length)&&Rt(t,e.length)&&(ui(e)||ci(e))},J.identity=tr,J.includes=On,J.indexOf=sn,J.inRange=function(e,t,n){return t=+t||0,n===fr?(n=t,t=0):n=+n||0,e>=R(t,n)&&e<j(t,n)},J.isArguments=ci,J.isArray=ui,J.isBoolean=function(e){return!0===e||!1===e||zo(e)&&x.call(e)==Lr},J.isDate=function(e){return zo(e)&&x.call(e)==jr},J.isElement=function(e){return!!e&&1===e.nodeType&&zo(e)&&!vi(e)},J.isEmpty=function(e){return null==e||(jt(e)&&(ui(e)||bi(e)||ci(e)||zo(e)&&pi(e.splice))?!e.length:!Ni(e).length)},J.isEqual=di,J.isError=hi,J.isFinite=function(e){return"number"==typeof e&&N(e)},J.isFunction=pi,J.isMatch=function(e,t,n,i){return n="function"==typeof n?Ze(n,i,3):fr,Ne(e,Ot(t),n)},J.isNaN=function(e){return mi(e)&&e!=+e},J.isNative=gi,J.isNull=function(e){return null===e},J.isNumber=mi,J.isObject=fi,J.isPlainObject=vi,J.isRegExp=yi,J.isString=bi,J.isTypedArray=wi,J.isUndefined=function(e){return e===fr},J.kebabCase=zi,J.last=cn,J.lastIndexOf=function(e,t,n){var i=e?e.length:0;if(!i)return-1;var r=i;if("number"==typeof n)r=(n<0?j(i+n,0):R(n||0,i-1))+1;else if(n){var o=e[r=Ke(e,t,!0)-1];return(t==t?t===o:o!=o)?r:-1}if(t!=t)return Uo(e,r,!0);for(;r--;)if(e[r]===t)return r;return-1},J.lt=xi,J.lte=function(e,t){return e<=t},J.max=dr,J.min=hr,J.noConflict=function(){return Po._=h,this},J.noop=ar,J.now=Un,J.pad=function(e,t,n){t=+t;var i=(e=Lo(e)).length;if(t<=i||!N(t))return e;var r=(t-i)/2,o=M(r);return(n=_t("",P(r),n)).slice(0,o)+e+n},J.padLeft=Wi,J.padRight=Gi,J.parseInt=function(e,t,n){return(n?Ft(e,t,n):null==t)?t=0:t&&(t=+t),e=Ki(e),q(e,t||(wo.test(e)?16:10))},J.random=function(e,t,n){n&&Ft(e,t,n)&&(t=n=fr);var i=null==e,r=null==t;if(null==n&&(r&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,r=!0)),i&&r&&(r=!(t=1)),e=+e||0,r?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=H();return R(e+o*(t-e+g("1e-"+((o+"").length-1))),t)}return He(e,t)},J.reduce=Fn,J.reduceRight=qn,J.repeat=Yi,J.result=function(e,t,n){var i=null==e?fr:e[t];return i===fr&&(null==e||qt(t,e)||(i=null==(e=1==(t=Qt(t)).length?e:Me(e,Ve(t,0,-1)))?fr:e[cn(t)]),i=i===fr?n:i),pi(i)?i.call(e):i},J.round=pr,J.runInContext=e,J.size=function(e){var t=e?Mt(e):0;return Bt(t)?t:Ni(e).length},J.snakeCase=Xi,J.some=Bn,J.sortedIndex=hn,J.sortedLastIndex=pn,J.startCase=Ji,J.startsWith=function(e,t,n){return e=Lo(e),n=null==n?0:R(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n},J.sum=function(e,t,n){return n&&Ft(e,t,n)&&(t=fr),1==(t=Et(t,n,3)).length?function(e,t){for(var n=e.length,i=0;n--;)i+=+t(e[n])||0;return i}(ui(e)?e:Jt(e),t):(i=t,r=0,xe(e,function(e,t,n){r+=+i(e,t,n)||0}),r);var i,r},J.template=function(a,e,t){var n=J.templateSettings;t&&Ft(a,e,t)&&(e=t=fr),a=Lo(a);var s,l,i=he(pe({},(e=he(pe({},t||e),n,de)).imports),n.imports,de),r=Ni(i),o=Ye(i,r),c=0,u=e.interpolate||ko,d="__p += '",h=y((e.escape||ko).source+"|"+u.source+"|"+(u===co?yo:ko).source+"|"+(e.evaluate||ko).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Ao+"]")+"\n";a.replace(h,function(e,t,n,i,r,o){return n||(n=i),d+=a.slice(c,o).replace(_o,Vo),t&&(s=!0,d+="' +\n__e("+t+") +\n'"),r&&(l=!0,d+="';\n"+r+";\n__p += '"),n&&(d+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),c=o+e.length,e}),d+="';\n";var f=e.variable;f||(d="with (obj) {\n"+d+"\n}\n"),d=(l?d.replace(eo,""):d).replace(to,"$1").replace(no,"$1;"),d="function("+(f||"obj")+") {\n"+(f?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(l?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=Zi(function(){return m(r,p+"return "+d).apply(fr,o)});if(g.source=d,hi(g))throw g;return g},J.trim=Ki,J.trimLeft=function(e,t,n){var i=e;return(e=Lo(e))?(n?Ft(i,t,n):null==t)?e.slice(Go(e)):e.slice(jo(e,t+"")):e},J.trimRight=function(e,t,n){var i=e;return(e=Lo(e))?(n?Ft(i,t,n):null==t)?e.slice(0,Yo(e)+1):e.slice(0,Ro(e,t+"")+1):e},J.trunc=function(e,t,n){n&&Ft(e,t,n)&&(t=fr);var i=_r,r=Tr;if(null!=t)if(fi(t)){var o="separator"in t?t.separator:o;i="length"in t?+t.length||0:i,r="omission"in t?Lo(t.omission):r}else i=+t||0;if(i>=(e=Lo(e)).length)return e;var a=i-r.length;if(a<1)return r;var s=e.slice(0,a);if(null==o)return s+r;if(yi(o)){if(e.slice(a).search(o)){var l,c,u=e.slice(0,a);for(o.global||(o=y(o.source,(bo.exec(o)||"")+"g")),o.lastIndex=0;l=o.exec(u);)c=l.index;s=s.slice(0,null==c?a:c)}}else if(e.indexOf(o,a)!=a){var d=s.lastIndexOf(o);-1<d&&(s=s.slice(0,d))}return s+r},J.unescape=function(e){return(e=Lo(e))&&oo.test(e)?e.replace(io,Xo):e},J.uniqueId=function(e){var t=++d;return Lo(e)+t},J.words=Qi,J.all=Dn,J.any=Bn,J.contains=On,J.eq=di,J.detect=En,J.foldl=Fn,J.foldr=qn,J.head=an,J.include=On,J.inject=Fn,or(J,(lr={},Ie(J,function(e,t){J.prototype[t]||(lr[t]=e)}),lr),!1),J.sample=Hn,J.prototype.sample=function(t){return this.__chain__||null!=t?this.thru(function(e){return Hn(e,t)}):Hn(this.value())},J.VERSION=gr,re(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){J[e].placeholder=J}),re(["drop","take"],function(i,r){Z.prototype[i]=function(e){var t=this.__filtered__;if(t&&!r)return new Z(this);e=null==e?1:j(M(e)||0,0);var n=this.clone();return t?n.__takeCount__=R(n.__takeCount__,e):n.__views__.push({size:e,type:i+(n.__dir__<0?"Right":"")}),n},Z.prototype[i+"Right"]=function(e){return this.reverse()[i](e).reverse()}}),re(["filter","map","takeWhile"],function(e,t){var i=t+1,r=i!=Pr;Z.prototype[e]=function(e,t){var n=this.clone();return n.__iteratees__.push({iteratee:Et(e,t,1),type:i}),n.__filtered__=n.__filtered__||r,n}}),re(["first","last"],function(e,t){var n="take"+(t?"Right":"");Z.prototype[e]=function(){return this[n](1).value()[0]}}),re(["initial","rest"],function(e,t){var n="drop"+(t?"":"Right");Z.prototype[e]=function(){return this.__filtered__?new Z(this):this[n](1)}}),re(["pluck","where"],function(e,t){var n=t?"filter":"map",i=t?je:sr;Z.prototype[e]=function(e){return this[n](i(e))}}),Z.prototype.compact=function(){return this.filter(tr)},Z.prototype.reject=function(t,e){return t=Et(t,e,1),this.filter(function(e){return!t(e)})},Z.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(0<e||t<0)?new Z(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==fr&&(n=(t=+t||0)<0?n.dropRight(-t):n.take(t-e)),n)},Z.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},Z.prototype.toArray=function(){return this.take(V)},Ie(Z.prototype,function(d,e){var h=/^(?:filter|map|reject)|While$/.test(e),p=/^(?:first|last)$/.test(e),f=J[p?"take"+("last"==e?"Right":""):e];f&&(J.prototype[e]=function(){var t=p?[1]:arguments,n=this.__chain__,e=this.__wrapped__,i=!!this.__actions__.length,r=e instanceof Z,o=t[0],a=r||ui(e);a&&h&&"function"==typeof o&&1!=o.length&&(r=a=!1);var s=function(e){return p&&n?f(e,1)[0]:f.apply(fr,le([e],t))},l={func:Sn,args:[s],thisArg:fr},c=r&&!i;if(p&&!n)return c?((e=e.clone()).__actions__.push(l),d.call(e)):f.call(fr,this.value())[0];if(p||!a)return this.thru(s);e=c?e:new Z(this);var u=d.apply(e,t);return u.__actions__.push(l),new Q(u,n)})}),re(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(e){var n=(/^(?:replace|split)$/.test(e)?c:s)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:join|pop|replace|shift)$/.test(e);J.prototype[e]=function(){var t=arguments;return r&&!this.__chain__?n.apply(this.value(),t):this[i](function(e){return n.apply(e,t)})}}),Ie(Z.prototype,function(e,t){var n=J[t];if(n){var i=n.name+"";(X[i]||(X[i]=[])).push({name:t,func:n})}}),X[kt(fr,vr).name]=[{name:"wrapper",func:fr}],Z.prototype.clone=function(){var e=new Z(this.__wrapped__);return e.__actions__=ie(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ie(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ie(this.__views__),e},Z.prototype.reverse=function(){if(this.__filtered__){var e=new Z(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Z.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=ui(e),i=t<0,r=n?e.length:0,o=function(e,t,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=R(t,e+a);break;case"takeRight":e=j(e,t-a)}}return{start:e,end:t}}(0,r,this.__views__),a=o.start,s=o.end,l=s-a,c=i?s:a-1,u=this.__iteratees__,d=u.length,h=0,p=R(l,this.__takeCount__);if(!n||r<Er||r==l&&p==l)return Je(e,this.__actions__);var f=[];e:for(;l--&&h<p;){for(var g=-1,m=e[c+=t];++g<d;){var v=u[g],y=v.iteratee,b=v.type,w=y(m);if(b==Pr)m=w;else if(!w){if(b==Ir)continue e;break e}}f[h++]=m}return f},J.prototype.chain=function(){return Cn(this)},J.prototype.commit=function(){return new Q(this.value(),this.__chain__)},J.prototype.concat=kn,J.prototype.plant=function(e){for(var t,n=this;n instanceof K;){var i=Zt(n);t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},J.prototype.reverse=function(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof Z){var n=e;return this.__actions__.length&&(n=new Z(this)),(n=n.reverse()).__actions__.push({func:Sn,args:[t],thisArg:fr}),new Q(n,this.__chain__)}return this.thru(t)},J.prototype.toString=function(){return this.value()+""},J.prototype.run=J.prototype.toJSON=J.prototype.valueOf=J.prototype.value=function(){return Je(this.__wrapped__,this.__actions__)},J.prototype.collect=J.prototype.map,J.prototype.head=J.prototype.first,J.prototype.select=J.prototype.filter,J.prototype.tail=J.prototype.rest,J}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Po._=Jo,define(function(){return Jo})):d&&h?m?(h.exports=Jo)._=Jo:d._=Jo:Po._=Jo}).call(this),function(e,v){"use strict";var o,a,t=v.module("ngRoute",["ng"]).provider("$route",function(){function g(e,t){return v.extend(Object.create(e),t)}o=v.isArray,a=v.isObject;var m={};function r(e,t){var n=t.caseInsensitiveMatch,i={originalPath:e,regexp:e},a=i.keys=[];return e=e.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)(\*\?|[?*])?/g,function(e,t,n,i){var r="?"===i||"*?"===i?"?":null,o="*"===i||"*?"===i?"*":null;return a.push({name:n,optional:!!r}),t=t||"",(r?"":t)+"(?:"+(r?t:"")+(o?"(.+?)":"([^/]+)")+(r||"")+")"+(r||"")}).replace(/([/$*])/g,"\\$1"),i.regexp=new RegExp("^"+e+"$",n?"i":""),i}this.when=function(e,t){var n=function(e,t){if(o(e)){t=t||[];for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}else if(a(e))for(var r in t=t||{},e)"$"===r.charAt(0)&&"$"===r.charAt(1)||(t[r]=e[r]);return t||e}(t);if(v.isUndefined(n.reloadOnSearch)&&(n.reloadOnSearch=!0),v.isUndefined(n.caseInsensitiveMatch)&&(n.caseInsensitiveMatch=this.caseInsensitiveMatch),m[e]=v.extend(n,e&&r(e,n)),e){var i="/"===e[e.length-1]?e.substr(0,e.length-1):e+"/";m[i]=v.extend({redirectTo:e},r(i,n))}return this},this.caseInsensitiveMatch=!1,this.otherwise=function(e){return"string"==typeof e&&(e={redirectTo:e}),this.when(null,e),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$templateRequest","$sce",function(r,o,i,a,s,l,c){var u,d,h=!1,p={routes:m,reload:function(){var e={defaultPrevented:!(h=!0),preventDefault:function(){this.defaultPrevented=!0,h=!1}};r.$evalAsync(function(){t(e),e.defaultPrevented||n()})},updateParams:function(e){if(!this.current||!this.current.$$route)throw y("norout","Tried updating route when with no current route");e=v.extend({},this.current.params,e),o.path(f(this.current.$$route.originalPath,e)),o.search(e)}};return r.$on("$locationChangeStart",t),r.$on("$locationChangeSuccess",n),p;function t(e){var n,i,t=p.current;v.forEach(m,function(e,t){!i&&(n=function(e,t){var n=t.keys,i={};if(!t.regexp)return null;var r=t.regexp.exec(e);if(!r)return null;for(var o=1,a=r.length;o<a;++o){var s=n[o-1],l=r[o];s&&l&&(i[s.name]=l)}return i}(o.path(),e))&&((i=g(e,{params:v.extend({},o.search(),n),pathParams:n})).$$route=e)}),u=i||m.null&&g(m.null,{params:{},pathParams:{}}),(d=u&&t&&u.$$route===t.$$route&&v.equals(u.pathParams,t.pathParams)&&!u.reloadOnSearch&&!h)||!t&&!u||r.$broadcast("$routeChangeStart",u,t).defaultPrevented&&e&&e.preventDefault()}function n(){var t=p.current,n=u;d?(t.params=n.params,v.copy(t.params,i),r.$broadcast("$routeUpdate",t)):(n||t)&&(h=!1,(p.current=n)&&n.redirectTo&&(v.isString(n.redirectTo)?o.path(f(n.redirectTo,n.params)).search(n.params).replace():o.url(n.redirectTo(n.pathParams,o.path(),o.search())).replace()),a.when(n).then(e).then(function(e){n===p.current&&(n&&(n.locals=e,v.copy(n.params,i)),r.$broadcast("$routeChangeSuccess",n,t))},function(e){n===p.current&&r.$broadcast("$routeChangeError",n,t,e)}))}function e(e){if(e){var n=v.extend({},e.resolve);v.forEach(n,function(e,t){n[t]=v.isString(e)?s.get(e):s.invoke(e,null,null,t)});var t=function(e){var t,n;v.isDefined(t=e.template)?v.isFunction(t)&&(t=t(e.params)):v.isDefined(n=e.templateUrl)&&(v.isFunction(n)&&(n=n(e.params)),v.isDefined(n)&&(e.loadedTemplateUrl=c.valueOf(n),t=l(n)));return t}(e);return v.isDefined(t)&&(n.$template=t),a.all(n)}}function f(e,r){var o=[];return v.forEach((e||"").split(":"),function(e,t){if(0===t)o.push(e);else{var n=e.match(/(\w+)(?:[?*])?(.*)/),i=n[1];o.push(r[i]),o.push(n[2]||""),delete r[i]}}),o.join("")}}]}),y=v.$$minErr("ngRoute");function n(p,f,g){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(o,a,e,t,s){var l,c,n,u=e.autoscroll,d=e.onload||"";function h(){n&&(g.cancel(n),n=null),l&&(l.$destroy(),l=null),c&&((n=g.leave(c)).done(function(e){!1!==e&&(n=null)}),c=null)}function i(){var e=p.current&&p.current.locals,t=e&&e.$template;if(v.isDefined(t)){var n=o.$new(),i=p.current,r=s(n,function(e){g.enter(e,null,c||a).done(function(e){!1===e||!v.isDefined(u)||u&&!o.$eval(u)||f()}),h()});c=r,(l=i.scope=n).$emit("$viewContentLoaded"),l.$eval(d)}else h()}o.$on("$routeChangeSuccess",i),i()}}}function i(a,s,l){return{restrict:"ECA",priority:-400,link:function(e,t){var n=l.current,i=n.locals;t.html(i.$template);var r=a(t.contents());if(n.controller){i.$scope=e;var o=s(n.controller,i);n.controllerAs&&(e[n.controllerAs]=o),t.data("$ngControllerController",o),t.children().data("$ngControllerController",o)}e[n.resolveAs||"$resolve"]=i,r(e)}}}t.provider("$routeParams",function(){this.$get=function(){return{}}}),t.directive("ngView",n),t.directive("ngView",i),n.$inject=["$route","$anchorScroll","$animate"],i.$inject=["$compile","$controller","$route"]}(window,window.angular),function(e,t){"use strict";"object"==typeof exports?module.exports=t(require("./punycode"),require("./IPv6"),require("./SecondLevelDomains")):"function"==typeof define&&define.amd?define(["./punycode","./IPv6","./SecondLevelDomains"],t):e.URI=t(e.punycode,e.IPv6,e.SecondLevelDomains,e)}(this,function(s,t,c,n){"use strict";var i=n&&n.URI;function p(e,t){var n=1<=arguments.length,i=2<=arguments.length;if(!(this instanceof p))return n?i?new p(e,t):new p(e):new p;if(void 0===e){if(n)throw new TypeError("undefined is not a valid argument for URI");e="undefined"!=typeof location?location.href+"":""}return this.href(e),void 0!==t?this.absoluteTo(t):this}p.version="1.17.1";var e=p.prototype,u=Object.prototype.hasOwnProperty;function l(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}function a(e){return void 0===e?"Undefined":String(Object.prototype.toString.call(e)).slice(8,-1)}function d(e){return"Array"===a(e)}function h(e,t){var n,i,r={};if("RegExp"===a(t))r=null;else if(d(t))for(n=0,i=t.length;n<i;n++)r[t[n]]=!0;else r[t]=!0;for(n=0,i=e.length;n<i;n++){(r&&void 0!==r[e[n]]||!r&&t.test(e[n]))&&(e.splice(n,1),i--,n--)}return e}function f(e,t){var n,i;if(d(t)){for(n=0,i=t.length;n<i;n++)if(!f(e,t[n]))return!1;return!0}var r=a(t);for(n=0,i=e.length;n<i;n++)if("RegExp"===r){if("string"==typeof e[n]&&e[n].match(t))return!0}else if(e[n]===t)return!0;return!1}function g(e,t){if(!d(e)||!d(t))return!1;if(e.length!==t.length)return!1;e.sort(),t.sort();for(var n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}function m(e){return e.replace(/^\/+|\/+$/g,"")}function r(e){return escape(e)}function o(e){return encodeURIComponent(e).replace(/[!'()*]/g,r).replace(/\*/g,"%2A")}p._parts=function(){return{protocol:null,username:null,password:null,hostname:null,urn:null,port:null,path:null,query:null,fragment:null,duplicateQueryParameters:p.duplicateQueryParameters,escapeQuerySpace:p.escapeQuerySpace}},p.duplicateQueryParameters=!1,p.escapeQuerySpace=!0,p.protocol_expression=/^[a-z][a-z0-9.+-]*$/i,p.idn_expression=/[^a-z0-9\.-]/i,p.punycode_expression=/(xn--)/i,p.ip4_expression=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,p.ip6_expression=/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,p.find_uri_expression=/\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/gi,p.findUri={start:/\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,end:/[\s\r\n]|$/,trim:/[`!()\[\]{};:'".,<>?«»“”„‘’]+$/},p.defaultPorts={http:"80",https:"443",ftp:"21",gopher:"70",ws:"80",wss:"443"},p.invalid_hostname_characters=/[^a-zA-Z0-9\.-]/,p.domAttributes={a:"href",blockquote:"cite",link:"href",base:"href",script:"src",form:"action",img:"src",area:"href",iframe:"src",embed:"src",source:"src",track:"src",input:"src",audio:"src",video:"src"},p.getDomAttribute=function(e){if(e&&e.nodeName){var t=e.nodeName.toLowerCase();if("input"!==t||"image"===e.type)return p.domAttributes[t]}},p.encode=o,p.decode=decodeURIComponent,p.iso8859=function(){p.encode=escape,p.decode=unescape},p.unicode=function(){p.encode=o,p.decode=decodeURIComponent},p.characters={pathname:{encode:{expression:/%(24|26|2B|2C|3B|3D|3A|40)/gi,map:{"%24":"$","%26":"&","%2B":"+","%2C":",","%3B":";","%3D":"=","%3A":":","%40":"@"}},decode:{expression:/[\/\?#]/g,map:{"/":"%2F","?":"%3F","#":"%23"}}},reserved:{encode:{expression:/%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/gi,map:{"%3A":":","%2F":"/","%3F":"?","%23":"#","%5B":"[","%5D":"]","%40":"@","%21":"!","%24":"$","%26":"&","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"="}}},urnpath:{encode:{expression:/%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/gi,map:{"%21":"!","%24":"$","%27":"'","%28":"(","%29":")","%2A":"*","%2B":"+","%2C":",","%3B":";","%3D":"=","%40":"@"}},decode:{expression:/[\/\?#:]/g,map:{"/":"%2F","?":"%3F","#":"%23",":":"%3A"}}}},p.encodeQuery=function(e,t){var n=p.encode(e+"");return void 0===t&&(t=p.escapeQuerySpace),t?n.replace(/%20/g,"+"):n},p.decodeQuery=function(t,e){t+="",void 0===e&&(e=p.escapeQuerySpace);try{return p.decode(e?t.replace(/\+/g,"%20"):t)}catch(e){return t}};var v,y={encode:"encode",decode:"decode"},b=function(n,i){return function(t){try{return p[i](t+"").replace(p.characters[n][i].expression,function(e){return p.characters[n][i].map[e]})}catch(e){return t}}};for(v in y)p[v+"PathSegment"]=b("pathname",y[v]),p[v+"UrnPathSegment"]=b("urnpath",y[v]);var w=function(o,a,s){return function(e){var t;t=s?function(e){return p[a](p[s](e))}:p[a];for(var n=(e+"").split(o),i=0,r=n.length;i<r;i++)n[i]=t(n[i]);return n.join(o)}};function x(n){return function(e,t){return void 0===e?this._parts[n]||"":(this._parts[n]=e||null,this.build(!t),this)}}function C(n,i){return function(e,t){return void 0===e?this._parts[n]||"":(null!==e&&(e+="").charAt(0)===i&&(e=e.substring(1)),this._parts[n]=e,this.build(!t),this)}}p.decodePath=w("/","decodePathSegment"),p.decodeUrnPath=w(":","decodeUrnPathSegment"),p.recodePath=w("/","encodePathSegment","decode"),p.recodeUrnPath=w(":","encodeUrnPathSegment","decode"),p.encodeReserved=b("reserved","encode"),p.parse=function(e,t){var n;return t||(t={}),-1<(n=e.indexOf("#"))&&(t.fragment=e.substring(n+1)||null,e=e.substring(0,n)),-1<(n=e.indexOf("?"))&&(t.query=e.substring(n+1)||null,e=e.substring(0,n)),"//"===e.substring(0,2)?(t.protocol=null,e=e.substring(2),e=p.parseAuthority(e,t)):-1<(n=e.indexOf(":"))&&(t.protocol=e.substring(0,n)||null,t.protocol&&!t.protocol.match(p.protocol_expression)?t.protocol=void 0:"//"===e.substring(n+1,n+3)?(e=e.substring(n+3),e=p.parseAuthority(e,t)):(e=e.substring(n+1),t.urn=!0)),t.path=e,t},p.parseHost=function(e,t){var n,i,r=(e=e.replace(/\\/g,"/")).indexOf("/");if(-1===r&&(r=e.length),"["===e.charAt(0))n=e.indexOf("]"),t.hostname=e.substring(1,n)||null,t.port=e.substring(n+2,r)||null,"/"===t.port&&(t.port=null);else{var o=e.indexOf(":"),a=e.indexOf("/"),s=e.indexOf(":",o+1);-1!==s&&(-1===a||s<a)?(t.hostname=e.substring(0,r)||null,t.port=null):(i=e.substring(0,r).split(":"),t.hostname=i[0]||null,t.port=i[1]||null)}return t.hostname&&"/"!==e.substring(r).charAt(0)&&(r++,e="/"+e),e.substring(r)||"/"},p.parseAuthority=function(e,t){return e=p.parseUserinfo(e,t),p.parseHost(e,t)},p.parseUserinfo=function(e,t){var n,i=e.indexOf("/"),r=e.lastIndexOf("@",-1<i?i:e.length-1);return-1<r&&(-1===i||r<i)?(n=e.substring(0,r).split(":"),t.username=n[0]?p.decode(n[0]):null,n.shift(),t.password=n[0]?p.decode(n.join(":")):null,e=e.substring(r+1)):(t.username=null,t.password=null),e},p.parseQuery=function(e,t){if(!e)return{};if(!(e=e.replace(/&+/g,"&").replace(/^\?*&*|&+$/g,"")))return{};for(var n,i,r,o={},a=e.split("&"),s=a.length,l=0;l<s;l++)n=a[l].split("="),i=p.decodeQuery(n.shift(),t),r=n.length?p.decodeQuery(n.join("="),t):null,u.call(o,i)?("string"!=typeof o[i]&&null!==o[i]||(o[i]=[o[i]]),o[i].push(r)):o[i]=r;return o},p.build=function(e){var t="";return e.protocol&&(t+=e.protocol+":"),e.urn||!t&&!e.hostname||(t+="//"),t+=p.buildAuthority(e)||"","string"==typeof e.path&&("/"!==e.path.charAt(0)&&"string"==typeof e.hostname&&(t+="/"),t+=e.path),"string"==typeof e.query&&e.query&&(t+="?"+e.query),"string"==typeof e.fragment&&e.fragment&&(t+="#"+e.fragment),t},p.buildHost=function(e){var t="";return e.hostname?(p.ip6_expression.test(e.hostname)?t+="["+e.hostname+"]":t+=e.hostname,e.port&&(t+=":"+e.port),t):""},p.buildAuthority=function(e){return p.buildUserinfo(e)+p.buildHost(e)},p.buildUserinfo=function(e){var t="";return e.username&&(t+=p.encode(e.username),e.password&&(t+=":"+p.encode(e.password)),t+="@"),t},p.buildQuery=function(e,t,n){var i,r,o,a,s="";for(r in e)if(u.call(e,r)&&r)if(d(e[r]))for(i={},o=0,a=e[r].length;o<a;o++)void 0!==e[r][o]&&void 0===i[e[r][o]+""]&&(s+="&"+p.buildQueryParameter(r,e[r][o],n),!0!==t&&(i[e[r][o]+""]=!0));else void 0!==e[r]&&(s+="&"+p.buildQueryParameter(r,e[r],n));return s.substring(1)},p.buildQueryParameter=function(e,t,n){return p.encodeQuery(e,n)+(null!==t?"="+p.encodeQuery(t,n):"")},p.addQuery=function(e,t,n){if("object"==typeof t)for(var i in t)u.call(t,i)&&p.addQuery(e,i,t[i]);else{if("string"!=typeof t)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");if(void 0===e[t])return void(e[t]=n);"string"==typeof e[t]&&(e[t]=[e[t]]),d(n)||(n=[n]),e[t]=(e[t]||[]).concat(n)}},p.removeQuery=function(e,t,n){var i,r,o;if(d(t))for(i=0,r=t.length;i<r;i++)e[t[i]]=void 0;else if("RegExp"===a(t))for(o in e)t.test(o)&&(e[o]=void 0);else if("object"==typeof t)for(o in t)u.call(t,o)&&p.removeQuery(e,o,t[o]);else{if("string"!=typeof t)throw new TypeError("URI.removeQuery() accepts an object, string, RegExp as the first parameter");void 0!==n?"RegExp"===a(n)?!d(e[t])&&n.test(e[t])?e[t]=void 0:e[t]=h(e[t],n):e[t]!==String(n)||d(n)&&1!==n.length?d(e[t])&&(e[t]=h(e[t],n)):e[t]=void 0:e[t]=void 0}},p.hasQuery=function(e,t,n,i){switch(a(t)){case"String":break;case"RegExp":for(var r in e)if(u.call(e,r)&&t.test(r)&&(void 0===n||p.hasQuery(e,r,n)))return!0;return!1;case"Object":for(var o in t)if(u.call(t,o)&&!p.hasQuery(e,o,t[o]))return!1;return!0;default:throw new TypeError("URI.hasQuery() accepts a string, regular expression or object as the name parameter")}switch(a(n)){case"Undefined":return t in e;case"Boolean":return n===Boolean(d(e[t])?e[t].length:e[t]);case"Function":return!!n(e[t],t,e);case"Array":return!!d(e[t])&&(i?f:g)(e[t],n);case"RegExp":return d(e[t])?!!i&&f(e[t],n):Boolean(e[t]&&e[t].match(n));case"Number":n=String(n);case"String":return d(e[t])?!!i&&f(e[t],n):e[t]===n;default:throw new TypeError("URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter")}},p.commonPath=function(e,t){var n,i=Math.min(e.length,t.length);for(n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n)){n--;break}return n<1?e.charAt(0)===t.charAt(0)&&"/"===e.charAt(0)?"/":"":("/"===e.charAt(n)&&"/"===t.charAt(n)||(n=e.substring(0,n).lastIndexOf("/")),e.substring(0,n+1))},p.withinString=function(e,t,n){n||(n={});var i=n.start||p.findUri.start,r=n.end||p.findUri.end,o=n.trim||p.findUri.trim,a=/[a-z0-9-]=["']?$/i;for(i.lastIndex=0;;){var s=i.exec(e);if(!s)break;var l=s.index;if(n.ignoreHtml){var c=e.slice(Math.max(l-3,0),l);if(c&&a.test(c))continue}var u=l+e.slice(l).search(r),d=e.slice(l,u).replace(o,"");if(!n.ignore||!n.ignore.test(d)){var h=t(d,l,u=l+d.length,e);e=e.slice(0,l)+h+e.slice(u),i.lastIndex=l+h.length}}return i.lastIndex=0,e},p.ensureValidHostname=function(e){if(e.match(p.invalid_hostname_characters)){if(!s)throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-] and Punycode.js is not available');if(s.toASCII(e).match(p.invalid_hostname_characters))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]')}},p.noConflict=function(e){if(e){var t={URI:this.noConflict()};return n.URITemplate&&"function"==typeof n.URITemplate.noConflict&&(t.URITemplate=n.URITemplate.noConflict()),n.IPv6&&"function"==typeof n.IPv6.noConflict&&(t.IPv6=n.IPv6.noConflict()),n.SecondLevelDomains&&"function"==typeof n.SecondLevelDomains.noConflict&&(t.SecondLevelDomains=n.SecondLevelDomains.noConflict()),t}return n.URI===this&&(n.URI=i),this},e.build=function(e){return!0===e?this._deferred_build=!0:(void 0===e||this._deferred_build)&&(this._string=p.build(this._parts),this._deferred_build=!1),this},e.clone=function(){return new p(this)},e.valueOf=e.toString=function(){return this.build(!1)._string},e.protocol=x("protocol"),e.username=x("username"),e.password=x("password"),e.hostname=x("hostname"),e.port=x("port"),e.query=C("query","?"),e.fragment=C("fragment","#"),e.search=function(e,t){var n=this.query(e,t);return"string"==typeof n&&n.length?"?"+n:n},e.hash=function(e,t){var n=this.fragment(e,t);return"string"==typeof n&&n.length?"#"+n:n},e.pathname=function(e,t){if(void 0!==e&&!0!==e)return this._parts.urn?this._parts.path=e?p.recodeUrnPath(e):"":this._parts.path=e?p.recodePath(e):"/",this.build(!t),this;var n=this._parts.path||(this._parts.hostname?"/":"");return e?(this._parts.urn?p.decodeUrnPath:p.decodePath)(n):n},e.path=e.pathname,e.href=function(e,t){var n;if(void 0===e)return this.toString();this._string="",this._parts=p._parts();var i=e instanceof p,r="object"==typeof e&&(e.hostname||e.path||e.pathname);e.nodeName&&(e=e[p.getDomAttribute(e)]||"",r=!1);if(!i&&r&&void 0!==e.pathname&&(e=e.toString()),"string"==typeof e||e instanceof String)this._parts=p.parse(String(e),this._parts);else{if(!i&&!r)throw new TypeError("invalid input");var o=i?e._parts:e;for(n in o)u.call(this._parts,n)&&(this._parts[n]=o[n])}return this.build(!t),this},e.is=function(e){var t=!1,n=!1,i=!1,r=!1,o=!1,a=!1,s=!1,l=!this._parts.urn;switch(this._parts.hostname&&(l=!1,n=p.ip4_expression.test(this._parts.hostname),i=p.ip6_expression.test(this._parts.hostname),o=(r=!(t=n||i))&&c&&c.has(this._parts.hostname),a=r&&p.idn_expression.test(this._parts.hostname),s=r&&p.punycode_expression.test(this._parts.hostname)),e.toLowerCase()){case"relative":return l;case"absolute":return!l;case"domain":case"name":return r;case"sld":return o;case"ip":return t;case"ip4":case"ipv4":case"inet4":return n;case"ip6":case"ipv6":case"inet6":return i;case"idn":return a;case"url":return!this._parts.urn;case"urn":return!!this._parts.urn;case"punycode":return s}return null};var S=e.protocol,k=e.port,_=e.hostname;e.protocol=function(e,t){if(void 0!==e&&e&&!(e=e.replace(/:(\/\/)?$/,"")).match(p.protocol_expression))throw new TypeError('Protocol "'+e+"\" contains characters other than [A-Z0-9.+-] or doesn't start with [A-Z]");return S.call(this,e,t)},e.scheme=e.protocol,e.port=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e&&(0===e&&(e=null),e&&(":"===(e+="").charAt(0)&&(e=e.substring(1)),e.match(/[^0-9]/))))throw new TypeError('Port "'+e+'" contains characters other than [0-9]');return k.call(this,e,t)},e.hostname=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e){var n={};if("/"!==p.parseHost(e,n))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');e=n.hostname}return _.call(this,e,t)},e.origin=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){var n=this.protocol();return this.authority()?(n?n+"://":"")+this.authority():""}var i=p(e);return this.protocol(i.protocol()).authority(i.authority()).build(!t),this},e.host=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?p.buildHost(this._parts):"";if("/"!==p.parseHost(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},e.authority=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e)return this._parts.hostname?p.buildAuthority(this._parts):"";if("/"!==p.parseAuthority(e,this._parts))throw new TypeError('Hostname "'+e+'" contains characters other than [A-Z0-9.-]');return this.build(!t),this},e.userinfo=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0!==e)return"@"!==e[e.length-1]&&(e+="@"),p.parseUserinfo(e,this._parts),this.build(!t),this;if(!this._parts.username)return"";var n=p.buildUserinfo(this._parts);return n.substring(0,n.length-1)},e.resource=function(e,t){var n;return void 0===e?this.path()+this.search()+this.hash():(n=p.parse(e),this._parts.path=n.path,this._parts.query=n.query,this._parts.fragment=n.fragment,this.build(!t),this)},e.subdomain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.length-this.domain().length-1;return this._parts.hostname.substring(0,n)||""}var i=this._parts.hostname.length-this.domain().length,r=this._parts.hostname.substring(0,i),o=new RegExp("^"+l(r));return e&&"."!==e.charAt(e.length-1)&&(e+="."),e&&p.ensureValidHostname(e),this._parts.hostname=this._parts.hostname.replace(o,e),this.build(!t),this},e.domain=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.match(/\./g);if(n&&n.length<2)return this._parts.hostname;var i=this._parts.hostname.length-this.tld(t).length-1;return i=this._parts.hostname.lastIndexOf(".",i-1)+1,this._parts.hostname.substring(i)||""}if(!e)throw new TypeError("cannot set domain empty");if(p.ensureValidHostname(e),!this._parts.hostname||this.is("IP"))this._parts.hostname=e;else{var r=new RegExp(l(this.domain())+"$");this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},e.tld=function(e,t){if(this._parts.urn)return void 0===e?"":this;if("boolean"==typeof e&&(t=e,e=void 0),void 0===e){if(!this._parts.hostname||this.is("IP"))return"";var n=this._parts.hostname.lastIndexOf("."),i=this._parts.hostname.substring(n+1);return!0!==t&&c&&c.list[i.toLowerCase()]&&c.get(this._parts.hostname)||i}var r;if(!e)throw new TypeError("cannot set TLD empty");if(e.match(/[^a-zA-Z0-9-]/)){if(!c||!c.is(e))throw new TypeError('TLD "'+e+'" contains characters other than [A-Z0-9]');r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}else{if(!this._parts.hostname||this.is("IP"))throw new ReferenceError("cannot set TLD on non-domain host");r=new RegExp(l(this.tld())+"$"),this._parts.hostname=this._parts.hostname.replace(r,e)}return this.build(!t),this},e.directory=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path&&!this._parts.hostname)return"";if("/"===this._parts.path)return"/";var n=this._parts.path.length-this.filename().length-1,i=this._parts.path.substring(0,n)||(this._parts.hostname?"/":"");return e?p.decodePath(i):i}var r=this._parts.path.length-this.filename().length,o=this._parts.path.substring(0,r),a=new RegExp("^"+l(o));return this.is("relative")||(e||(e="/"),"/"!==e.charAt(0)&&(e="/"+e)),e&&"/"!==e.charAt(e.length-1)&&(e+="/"),e=p.recodePath(e),this._parts.path=this._parts.path.replace(a,e),this.build(!t),this},e.filename=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n=this._parts.path.lastIndexOf("/"),i=this._parts.path.substring(n+1);return e?p.decodePathSegment(i):i}var r=!1;"/"===e.charAt(0)&&(e=e.substring(1)),e.match(/\.?\//)&&(r=!0);var o=new RegExp(l(this.filename())+"$");return e=p.recodePath(e),this._parts.path=this._parts.path.replace(o,e),r?this.normalizePath(t):this.build(!t),this},e.suffix=function(e,t){if(this._parts.urn)return void 0===e?"":this;if(void 0===e||!0===e){if(!this._parts.path||"/"===this._parts.path)return"";var n,i,r=this.filename(),o=r.lastIndexOf(".");return-1===o?"":(n=r.substring(o+1),i=/^[a-z0-9%]+$/i.test(n)?n:"",e?p.decodePathSegment(i):i)}"."===e.charAt(0)&&(e=e.substring(1));var a,s=this.suffix();if(s)a=e?new RegExp(l(s)+"$"):new RegExp(l("."+s)+"$");else{if(!e)return this;this._parts.path+="."+p.recodePath(e)}return a&&(e=p.recodePath(e),this._parts.path=this._parts.path.replace(a,e)),this.build(!t),this},e.segment=function(e,t,n){var i=this._parts.urn?":":"/",r=this.path(),o="/"===r.substring(0,1),a=r.split(i);if(void 0!==e&&"number"!=typeof e&&(n=t,t=e,e=void 0),void 0!==e&&"number"!=typeof e)throw new Error('Bad segment "'+e+'", must be 0-based integer');if(o&&a.shift(),e<0&&(e=Math.max(a.length+e,0)),void 0===t)return void 0===e?a:a[e];if(null===e||void 0===a[e])if(d(t)){a=[];for(var s=0,l=t.length;s<l;s++)(t[s].length||a.length&&a[a.length-1].length)&&(a.length&&!a[a.length-1].length&&a.pop(),a.push(m(t[s])))}else(t||"string"==typeof t)&&(t=m(t),""===a[a.length-1]?a[a.length-1]=t:a.push(t));else t?a[e]=m(t):a.splice(e,1);return o&&a.unshift(""),this.path(a.join(i),n)},e.segmentCoded=function(e,t,n){var i,r,o;if("number"!=typeof e&&(n=t,t=e,e=void 0),void 0===t){if(d(i=this.segment(e,t,n)))for(r=0,o=i.length;r<o;r++)i[r]=p.decode(i[r]);else i=void 0!==i?p.decode(i):void 0;return i}if(d(t))for(r=0,o=t.length;r<o;r++)t[r]=p.encode(t[r]);else t="string"==typeof t||t instanceof String?p.encode(t):t;return this.segment(e,t,n)};var T=e.query;return e.query=function(e,t){if(!0===e)return p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("function"!=typeof e)return void 0!==e&&"string"!=typeof e?(this._parts.query=p.buildQuery(e,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this):T.call(this,e,t);var n=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace),i=e.call(this,n);return this._parts.query=p.buildQuery(i||n,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),this.build(!t),this},e.setQuery=function(e,t,n){var i=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);if("string"==typeof e||e instanceof String)i[e]=void 0!==t?t:null;else{if("object"!=typeof e)throw new TypeError("URI.addQuery() accepts an object, string as the name parameter");for(var r in e)u.call(e,r)&&(i[r]=e[r])}return this._parts.query=p.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},e.addQuery=function(e,t,n){var i=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.addQuery(i,e,void 0===t?null:t),this._parts.query=p.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},e.removeQuery=function(e,t,n){var i=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.removeQuery(i,e,t),this._parts.query=p.buildQuery(i,this._parts.duplicateQueryParameters,this._parts.escapeQuerySpace),"string"!=typeof e&&(n=t),this.build(!n),this},e.hasQuery=function(e,t,n){var i=p.parseQuery(this._parts.query,this._parts.escapeQuerySpace);return p.hasQuery(i,e,t,n)},e.setSearch=e.setQuery,e.addSearch=e.addQuery,e.removeSearch=e.removeQuery,e.hasSearch=e.hasQuery,e.normalize=function(){return this._parts.urn?this.normalizeProtocol(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build():this.normalizeProtocol(!1).normalizeHostname(!1).normalizePort(!1).normalizePath(!1).normalizeQuery(!1).normalizeFragment(!1).build()},e.normalizeProtocol=function(e){return"string"==typeof this._parts.protocol&&(this._parts.protocol=this._parts.protocol.toLowerCase(),this.build(!e)),this},e.normalizeHostname=function(e){return this._parts.hostname&&(this.is("IDN")&&s?this._parts.hostname=s.toASCII(this._parts.hostname):this.is("IPv6")&&t&&(this._parts.hostname=t.best(this._parts.hostname)),this._parts.hostname=this._parts.hostname.toLowerCase(),this.build(!e)),this},e.normalizePort=function(e){return"string"==typeof this._parts.protocol&&this._parts.port===p.defaultPorts[this._parts.protocol]&&(this._parts.port=null,this.build(!e)),this},e.normalizePath=function(e){var t,n=this._parts.path;if(!n)return this;if(this._parts.urn)return this._parts.path=p.recodeUrnPath(this._parts.path),this.build(!e),this;if("/"===this._parts.path)return this;var i,r,o="";for("/"!==(n=p.recodePath(n)).charAt(0)&&(t=!0,n="/"+n),"/.."!==n.slice(-3)&&"/."!==n.slice(-2)||(n+="/"),n=n.replace(/(\/(\.\/)+)|(\/\.$)/g,"/").replace(/\/{2,}/g,"/"),t&&(o=n.substring(1).match(/^(\.\.\/)+/)||"")&&(o=o[0]);-1!==(i=n.search(/\/\.\.(\/|$)/));)0!==i?(-1===(r=n.substring(0,i).lastIndexOf("/"))&&(r=i),n=n.substring(0,r)+n.substring(i+3)):n=n.substring(3);return t&&this.is("relative")&&(n=o+n.substring(1)),this._parts.path=n,this.build(!e),this},e.normalizePathname=e.normalizePath,e.normalizeQuery=function(e){return"string"==typeof this._parts.query&&(this._parts.query.length?this.query(p.parseQuery(this._parts.query,this._parts.escapeQuerySpace)):this._parts.query=null,this.build(!e)),this},e.normalizeFragment=function(e){return this._parts.fragment||(this._parts.fragment=null,this.build(!e)),this},e.normalizeSearch=e.normalizeQuery,e.normalizeHash=e.normalizeFragment,e.iso8859=function(){var e=p.encode,t=p.decode;p.encode=escape,p.decode=decodeURIComponent;try{this.normalize()}finally{p.encode=e,p.decode=t}return this},e.unicode=function(){var e=p.encode,t=p.decode;p.encode=o,p.decode=unescape;try{this.normalize()}finally{p.encode=e,p.decode=t}return this},e.readable=function(){var e=this.clone();e.username("").password("").normalize();var t="";if(e._parts.protocol&&(t+=e._parts.protocol+"://"),e._parts.hostname&&(e.is("punycode")&&s?(t+=s.toUnicode(e._parts.hostname),e._parts.port&&(t+=":"+e._parts.port)):t+=e.host()),e._parts.hostname&&e._parts.path&&"/"!==e._parts.path.charAt(0)&&(t+="/"),t+=e.path(!0),e._parts.query){for(var n="",i=0,r=e._parts.query.split("&"),o=r.length;i<o;i++){var a=(r[i]||"").split("=");n+="&"+p.decodeQuery(a[0],this._parts.escapeQuerySpace).replace(/&/g,"%26"),void 0!==a[1]&&(n+="="+p.decodeQuery(a[1],this._parts.escapeQuerySpace).replace(/&/g,"%26"))}t+="?"+n.substring(1)}return t+=p.decodeQuery(e.hash(),!0)},e.absoluteTo=function(e){var t,n,i,r=this.clone(),o=["protocol","username","password","hostname","port"];if(this._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e instanceof p||(e=new p(e)),r._parts.protocol||(r._parts.protocol=e._parts.protocol),this._parts.hostname)return r;for(n=0;i=o[n];n++)r._parts[i]=e._parts[i];return r._parts.path?".."===r._parts.path.substring(-2)&&(r._parts.path+="/"):(r._parts.path=e._parts.path,r._parts.query||(r._parts.query=e._parts.query)),"/"!==r.path().charAt(0)&&(t=(t=e.directory())||(0===e.path().indexOf("/")?"/":""),r._parts.path=(t?t+"/":"")+r._parts.path,r.normalizePath()),r.build(),r},e.relativeTo=function(e){var t,n,i,r,o,a=this.clone().normalize();if(a._parts.urn)throw new Error("URNs do not have any generally defined hierarchical components");if(e=new p(e).normalize(),t=a._parts,n=e._parts,r=a.path(),o=e.path(),"/"!==r.charAt(0))throw new Error("URI is already relative");if("/"!==o.charAt(0))throw new Error("Cannot calculate a URI relative to another relative URI");if(t.protocol===n.protocol&&(t.protocol=null),t.username!==n.username||t.password!==n.password)return a.build();if(null!==t.protocol||null!==t.username||null!==t.password)return a.build();if(t.hostname!==n.hostname||t.port!==n.port)return a.build();if(t.hostname=null,t.port=null,r===o)return t.path="",a.build();if(!(i=p.commonPath(r,o)))return a.build();var s=n.path.substring(i.length).replace(/[^\/]*$/,"").replace(/.*?\//g,"../");return t.path=s+t.path.substring(i.length)||"./",a.build()},e.equals=function(e){var t,n,i,r,o,a=this.clone(),s=new p(e),l={};if(a.normalize(),s.normalize(),a.toString()===s.toString())return!0;if(i=a.query(),r=s.query(),a.query(""),s.query(""),a.toString()!==s.toString())return!1;if(i.length!==r.length)return!1;for(o in t=p.parseQuery(i,this._parts.escapeQuerySpace),n=p.parseQuery(r,this._parts.escapeQuerySpace),t)if(u.call(t,o)){if(d(t[o])){if(!g(t[o],n[o]))return!1}else if(t[o]!==n[o])return!1;l[o]=!0}for(o in n)if(u.call(n,o)&&!l[o])return!1;return!0},e.duplicateQueryParameters=function(e){return this._parts.duplicateQueryParameters=!!e,this},e.escapeQuerySpace=function(e){return this._parts.escapeQuerySpace=!!e,this},p}),function(){if("function"!=typeof window.CustomEvent){function e(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}e.prototype=window.Event.prototype,window.CustomEvent=e}}(),function(c){function d(e){return e.find("base").attr("href")}function h(e,t){return e&&t&&(_.startsWith(e,t)||0===e.indexOf(t))?e.substring(t.length):e}c.pluginName="hawtio-nav";var p=Logger.get(c.pluginName),e=function(){function e(){}return Object.defineProperty(e,"ADD",{get:function(){return"hawtio-main-nav-add"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"REMOVE",{get:function(){return"hawtio-main-nav-remove"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CHANGED",{get:function(){return"hawtio-main-nav-change"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"REDRAW",{get:function(){return"hawtio-main-nav-redraw"},enumerable:!0,configurable:!0}),e}();c.Actions=e;var t=function(){function e(e){this.items=[],this.root=e}return e.prototype.builder=function(){return new c.NavItemBuilderImpl},e.prototype.add=function(e){for(var t=this,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var r=_.union([e],n);this.items=_.union(this.items,r),r.forEach(function(e){t.root.dispatchEvent(new CustomEvent(c.Actions.ADD,{detail:{item:e}}))}),this.root.dispatchEvent(new CustomEvent(c.Actions.CHANGED,{detail:{items:this.items}})),this.root.dispatchEvent(new CustomEvent(c.Actions.REDRAW,{detail:{}}))},e.prototype.remove=function(e){var t=this,n=_.remove(this.items,e);return n.forEach(function(e){t.root.dispatchEvent(new CustomEvent(c.Actions.REMOVE,{detail:{item:e}}))}),this.root.dispatchEvent(new CustomEvent(c.Actions.CHANGED,{detail:{items:this.items}})),this.root.dispatchEvent(new CustomEvent(c.Actions.REDRAW,{detail:{}})),n},e.prototype.iterate=function(e){this.items.forEach(e)},e.prototype.selected=function(){var e=_.filter(this.items,function(e){return!e.isValid||e.isValid()});return _.find(e,function(e){return!!e.isSelected&&e.isSelected()})},e.prototype.on=function(e,t,n){var i=this;switch(e){case c.Actions.ADD:this.root.addEventListener(c.Actions.ADD,function(e){n(e.detail.item)}),0<this.items.length&&this.items.forEach(function(e){i.root.dispatchEvent(new CustomEvent(c.Actions.ADD,{detail:{item:e}}))});break;case c.Actions.REMOVE:this.root.addEventListener(c.Actions.REMOVE,function(e){n(e.detail.item)});break;case c.Actions.CHANGED:this.root.addEventListener(c.Actions.CHANGED,function(e){n(e.detail.items)}),0<this.items.length&&this.root.dispatchEvent(new CustomEvent(c.Actions.CHANGED,{detail:{items:i.items}}));break;case c.Actions.REDRAW:this.root.addEventListener(c.Actions.REDRAW,function(e){n(e)});var r=new CustomEvent(c.Actions.REDRAW,{detail:{text:""}});this.root.dispatchEvent(r)}},e}();c.createRegistry=function(e){return new t(e)};var n=function(){function l(){this.self={id:""}}return l.join=function(){for(var e=[],t=0;t<arguments.length;t++)e[t-0]=arguments[t];var n=[],i=e.length-1;return e.forEach(function(e,t){e&&""!==e&&(0!==t&&"/"===e.charAt(0)&&(e=e.slice(1)),t!==i&&"/"===e.charAt(e.length)&&(e=e.slice(0,e.length-1)),e&&""!==e&&n.push(e))}),n.join("/")},l.prototype.id=function(e){return this.self.id=e,this},l.prototype.rank=function(e){return this.self.rank=e,this},l.prototype.title=function(e){return this.self.title=e,this},l.prototype.tooltip=function(e){return this.self.tooltip=e,this},l.prototype.page=function(e){return this.self.page=e,this},l.prototype.reload=function(e){return this.self.reload=e,this},l.prototype.attributes=function(e){return this.self.attributes=e,this},l.prototype.linkAttributes=function(e){return this.self.linkAttributes=e,this},l.prototype.context=function(e){return this.self.context=e,this},l.prototype.href=function(e){return this.self.href=e,this},l.prototype.click=function(e){return this.self.click=e,this},l.prototype.isSelected=function(e){return this.self.isSelected=e,this},l.prototype.isValid=function(e){return this.self.isValid=e,this},l.prototype.show=function(e){return this.self.show=e,this},l.prototype.template=function(e){return this.self.template=e,this},l.prototype.defaultPage=function(e){return this.self.defaultPage=e,this},l.prototype.tabs=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.self.tabs=_.union(this.self.tabs,[e],t),this},l.prototype.subPath=function(e,t,n,i,r,o){var a=this.self;this.self.tabs||(this.self.tabs=[]);var s={id:a.id+"-"+t,title:function(){return e},href:function(){return a.href?l.join(a.href(),t):t}};return _.isUndefined(n)||(s.page=function(){return n}),_.isUndefined(i)||(s.rank=i),_.isUndefined(r)||(s.reload=r),_.isUndefined(o)||(s.isValid=o),this.self.tabs.push(s),this},l.prototype.build=function(){var e=_.cloneDeep(this.self);return this.self={id:""},e},l}();c.NavItemBuilderImpl=n,c.createBuilder=function(){return new c.NavItemBuilderImpl};var i=angular.module(c.pluginName,["ngRoute"]);function u(e){return!("isValid"in e)||!!_.isFunction(e.isValid)&&e.isValid()}(c._module=i).constant("layoutFull","templates/main-nav/layoutFull.html"),i.config(["$locationProvider","$routeProvider",function(e,t){e.html5Mode({enabled:!0,requireBase:!0}),t.otherwise({templateUrl:"templates/main-nav/welcome.html"})}]),i.controller("HawtioNav.WelcomeController",["$scope","$location","WelcomePageRegistry","HawtioNav","$timeout","$document",function(e,r,o,s,a,l){function c(e){if(e&&e.href){var t=h(e.href(),d(l)),n=new URI(t),i=_.merge(r.search(),n.query(!0));p.debug("Going to item id: ",e.id," href: ",n.path()," query: ",i),a(function(){r.path(n.path()).search(i)},10)}}function u(){var i=[];s.iterate(function(e){var t=e.isValid||function(){return!0},n=e.show||function(){return!0};t()&&n()&&i.push(e)}),c(g(i)[0])}a(function(){var e=r.search();if(e.tab){var t,n=e.tab;if(s.iterate(function(e){t||e.id!==n||(t=e)}),t)return void c(t)}var i=[];function a(){0===o.pages.length&&(p.debug("No welcome pages, going to first available nav"),u());var e=_.sortBy(o.pages,function(e){return e.rank}),t=_.find(e,function(e){return!("isValid"in e)||e.isValid()});t?c(t):u()}s.iterate(function(t){if("defaultPage"in t){if(!("rank"in t.defaultPage))return void i.push(t);var e=_.findIndex(i,function(e){if("rank"in e&&t.rank>e.rank)return!0});e<0?i.push(t):i.splice(e,0,t)}}),function e(t){if(0!==t.length){var n=t.pop(),i=t;if(p.debug("Trying candidate: ",n," remaining: ",i),n){var r=n.defaultPage.isValid;if(r){var o=function(){e(i)};try{r(function(){c(n)},o)}catch(e){p.debug("Failed to eval item: ",n.id," error: ",e),o()}}else e(i)}else a()}else a()}(i)},500)}]),i.controller("HawtioNav.ViewController",["$scope","$route","$location","layoutFull","viewRegistry",function(r,e,o,a,s){function i(){var e,i,t=null;if((t=function(t){var i=void 0;if(t&&0!==_.keys(t).length){var e=_.keys(s);return _.filter(e,function(e){return"{"===e.charAt(0)}).forEach(function(n){if(!i)try{var e=angular.fromJson(n);_.isObject(e)&&_.merge(e,t,function(e,t){e&&(i=e===t?s[n]:void 0)})}catch(e){p.debug("Unable to parse json: ",n)}}),i}p.debug("No query, skipping query matching")}(o.search()))&&p.debug("View partial matched on query"),!t){var n=o.path();n&&(e=n,i=void 0,_.forIn(s,function(t,n){if(!i)try{new RegExp(n,"").exec(e)&&(i=t)}catch(e){p.debug("Invalid RegExp "+n+" for viewRegistry value: "+t)}}),(t=i)&&p.debug("View partial matched on path name"))}return t||(t=a,p.debug("Using default view partial")),r.viewPartial=t,p.debug("Using view partial: "+t),t}i(),r.$on("$routeChangeSuccess",function(e,t,n){i()})}]),i.run(["HawtioNav","$rootScope","$route","$document",function(e,n,t,i){e.on(c.Actions.CHANGED,"$apply",function(e){n.$$phase||n.$apply()});var r=d(i);function o(t){t.preBase||(t.preBase=t.href,t.href=function(){if(r){var e=t.preBase();if(e&&"/"===e.charAt(0))return e=e.substr(1),r+e}return t.preBase()})}e.on(c.Actions.ADD,"htmlBaseRewriter",function(e){e.href&&(o(e),_.forEach(e.tabs,o))}),e.on(c.Actions.ADD,"$apply",function(e){var t=e.click;e.click=function(e){if(!(e instanceof jQuery.Event))try{n.$$phase||n.$apply()}catch(e){}t&&t(e)}}),t.reload(),p.debug("loaded")}]),hawtioPluginLoader.addModule(c.pluginName),hawtioPluginLoader.addModule("ngRoute");var s=$("<a>");function r(e,a){!("isSelected"in a)&&"href"in a&&(a.isSelected=function(){s.attr("href",a.href());var e=h(new URI(s[0].href).path(),"/");if(""===e)return!1;var t=new URI,n=h(t.path(),"/"),i=t.query(!0),r=i["main-tab"],o=i["sub-tab"];if(""!==e&&!r&&!o){if(a.isSubTab&&_.startsWith(n,e))return!0;if(a.tabs)if(_.any(a.tabs,function(e){return e.isSelected()}))return!0}return a.isSubTab?o?o===a.id:_.startsWith(n,e):r?r===a.id:_.startsWith(n,e)})}function f(e,t,n,i,r){if(u(r)){var o=n.$new();r.hide=function(){return r.show&&!r.show()},o.item=r;var a=null;if(a=_.isFunction(r.template)?r.template():e.get("templates/main-nav/navItem.html"),r.attributes||r.linkAttributes){var s=$(a);r.attributes&&s.attr(r.attributes),r.linkAttributes&&s.find("a").attr(r.linkAttributes),a=s.prop("outerHTML")}i.append(t(a)(o))}}function g(e){var t=[];return e.forEach(function(e){m(e,t)}),t}function m(t,e){if("rank"in t&&0!==e.length){var n=_.findIndex(e,function(e){if("rank"in e&&t.rank>e.rank)return!0});"rank"in e[0]||(n=0),n<0?e.push(t):e.splice(n,0,t)}else e.push(t)}c._module.directive("hawtioSubTabs",["HawtioNav","$templateCache","$compile","$location","$rootScope",function(t,o,a,e,n){return{restrict:"A",link:function(n,i,r){n.$watch(_.debounce(function(){var e=t.selected();n.selected!==e&&(n.selected=e,n.$broadcast("hawtio-nav-subtab-redraw"),n.$apply())},100,{trailing:!0})),n.$on("hawtio-nav-subtab-redraw",function(){p.debug("Redrawing sub-tabs"),i.empty();var e=n.selected;if(e&&e.tabs){if(r.showHeading){var t=angular.extend({},e,{template:function(){return o.get("templates/main-nav/subTabHeader.html")}});f(o,a,n,i,t)}g(e.tabs).forEach(function(e){f(o,a,n,i,e)})}}),n.$broadcast("hawtio-nav-subtab-redraw")}}}]),c._module.directive("hawtioMainNav",["HawtioNav","$templateCache","$compile","$location","$rootScope",function(o,a,s,e,t){var l={nav:{},numKeys:0,numValid:0},i=function(e){u(e)&&(l.numValid=l.numValid+1)};return o.on(c.Actions.ADD,"subTabEnricher",function(i){i.tabs&&0<i.tabs.length&&i.tabs.forEach(function(n){n.isSubTab=!0,n.oldHref||(n.oldHref=n.href,n.href=function(){var t=new URI(n.oldHref());return""===t.path()?"":(t.search(function(e){_.merge(e,t.query(!0)),e["main-tab"]||(e["main-tab"]=i.id),e["sub-tab"]=n.id}),t.toString())})})}),o.on(c.Actions.ADD,"hrefEnricher",function(i){i.isSubTab=!1,i.href&&!i.oldHref&&(i.oldHref=i.href,i.href=function(){var e=i.oldHref();if(!e)return p.debug("Item: ",i.id," returning null for href()"),"";var n=new URI(e);return""===n.path()?"":(n.search(function(e){if(e["main-tab"]||(e["main-tab"]=i.id),_.merge(e,n.query(!0)),!e["sub-tab"]&&i.tabs&&0<i.tabs.length){var t=g(i.tabs);e["sub-tab"]=t[0].id}}),n.toString())})}),o.on(c.Actions.ADD,"isSelectedEnricher",function(e){r(0,e),e.tabs&&e.tabs.forEach(function(e){r(0,e)})}),o.on(c.Actions.ADD,"PrimaryController",function(e){l.nav[e.id]=e}),o.on(c.Actions.REMOVE,"PrimaryController",function(e){delete l.nav[e.id]}),o.on(c.Actions.CHANGED,"PrimaryController",function(e){l.numKeys=e.length,l.numValid=0,e.forEach(i)}),{restrict:"A",replace:!1,controller:["$scope","$element","$attrs",function(i,r,e){i.config=l,i.$on("hawtio-nav-redraw",function(){p.debug("Redrawing main nav"),r.empty();var t=[];o.iterate(function(e){"context"in e&&e.context&&m(e,t)}),t.forEach(function(e){f(a,s,i,r,e)});var n=[];o.iterate(function(e){e.context||m(e,n)}),n.forEach(function(e){f(a,s,i,r,e)})})}],link:function(n,e,t){n.$watch(_.debounce(function(){var e=l.numValid,t=l.numKeys;l.numValid=0,l.numKeys=0,o.iterate(i),l.numValid===e&&l.numKeys===t||(n.$broadcast("hawtio-nav-redraw"),n.$apply())},500,{trailing:!0})),n.$broadcast("hawtio-nav-redraw")}}}]),c._module.provider("HawtioNavBuilder",[function(){function i(e,t){p.debug("Setting route: ",t.href()," to template URL: ",t.page());var n={templateUrl:t.page()};_.isUndefined(t.reload)||(n.reloadOnSearch=t.reload),e.when(t.href(),n)}this.$get=function(){return{}},this.create=function(){return c.createBuilder()},this.join=n.join,this.configureRouting=function(t,e){if(_.isUndefined(e.page)){if(e.tabs){var n=_.first(e.tabs).href;n&&(p.debug("Setting route: ",e.href()," to redirect to ",n()),t.when(e.href(),{reloadOnSearch:e.reload,redirectTo:n()}))}}else i(t,e);e.tabs&&e.tabs.forEach(function(e){return i(t,e)})}}]),c._module.factory("HawtioPerspective",[function(){var n=Logger.get("hawtio-dummy-perspective");return{add:function(e,t){n.debug("add called for id: ",e)},remove:function(e){n.debug("remove called for id: ",e)},setCurrent:function(e){n.debug("setCurrent called for id: ",e)},getCurrent:function(e){n.debug("getCurrent called for id: ",e)},getLabels:function(){return[]}}}]),c._module.factory("WelcomePageRegistry",[function(){return{pages:[]}}]),c._module.factory("HawtioNav",["$window","$rootScope",function(e,t){return c.createRegistry(window)}])}(HawtioMainNav||(HawtioMainNav={})),angular.module("hawtio-nav").run(["$templateCache",function(e){e.put("templates/main-nav/layoutFull.html","<div ng-view></div>\n\n\n"),e.put("templates/main-nav/layoutTest.html","<div>\n  <h1>Test Layout</h1>\n  <div ng-view>\n\n\n  </div>\n</div>\n\n\n"),e.put("templates/main-nav/navItem.html",'<li ng-class="{ active: item.isSelected() }" ng-hide="item.hide()">\n  <a ng-href="{{item.href()}}" ng-click="item.click($event)" ng-bind-html="item.title()" title="{{item.tooltip()}}"></a>\n</li>\n'),e.put("templates/main-nav/subTabHeader.html",'<li class="header">\n  <a href=""><strong>{{item.title()}}</strong></a>\n</li>\n'),e.put("templates/main-nav/welcome.html",'<div ng-controller="HawtioNav.WelcomeController">\n  <div class="spinner spinner-lg"></div>\n</div>\n')}]),function(){var n={months:["January","February","March","April","May","June","July","August","September","October","November","December"],toUTC:function(e){var t=e?new Date(e):new Date;return t=new Date(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds())},monthName:function(e){var t;return t="number"==typeof e?e:new Date(e).getMonth()+1,n.months[t-1]},relativeTime:function(e,n){var t,i,r,o,a,s,l=[];if("number"==typeof e?t=e:(o=new Date(e).getTime(),t=((new Date).getTime()-o)/1e3*-1),n||(n={}),n.futureSuffix||(n.futureSuffix="from now"),n.pastSuffix||(n.pastSuffix="ago"),n.presentText||(n.presentText="now"),n.returnObject||(n.returnObject=!1),a=t<0,t=Math.abs(t),i={seconds:Math.floor(t%31536e3%86400%3600%60),minutes:Math.floor(t%31536e3%86400%3600/60),hours:Math.floor(t%31536e3%86400/3600),days:Math.floor(t%31536e3/86400),years:Math.floor(t/31536e3),past:a},n.returnObject)return i;if(0===t)return n.presentText;function c(e,t){s&&(s=n.allUnits,l.push(e+" "+t+(1<e?"s":"")))}return r=i.past?n.pastSuffix:n.futureSuffix,s=!0,i.years&&c(i.years,"year"),i.days&&c(i.days,"day"),i.hours&&c(i.hours,"hour"),i.minutes&&c(i.minutes,"minute"),i.seconds&&c(i.seconds,"second"),l.join(", ")+" "+r},prettyPrint:function(e,t){var n,i,r,o,a,s,l,c,u;return e?"number"==typeof e&&(e=(new Date).setSeconds(e)):e=new Date,t||(t={}),t.showTime||(t.showTime=!1),o=3<(r=(n=new Date(e)).getDate())&&r<21?r+"th":r%10==1?r+"st":r%10==2?r+"nd":r%10==3?r+"rd":r+"th",a=n.getFullYear(),i=this.monthName(n.getMonth()+1)+" "+o+", "+a,u=12<=(l=n.getHours())?"pm":"am",s=(l=l%12?l%12:12)+":"+(c=(c=n.getMinutes())<10?"0"+c:c)+" "+u,t.showTime?i+" at "+s:i}};if("undefined"!=typeof module&&module.exports)module.exports=n;else{if("function"==typeof define&&define.amd)return define([],function(){return n});this.humandate=n}}(),function(){var e={y:function(e){return 1===e?"χρόνος":"χρόνια"},mo:function(e){return 1===e?"μήνας":"μήνες"},w:function(e){return 1===e?"εβδομάδα":"εβδομάδες"},d:function(e){return 1===e?"μέρα":"μέρες"},h:function(e){return 1===e?"ώρα":"ώρες"},m:function(e){return 1===e?"λεπτό":"λεπτά"},s:function(e){return 1===e?"δευτερόλεπτο":"δευτερόλεπτα"},ms:function(e){return 1===e?"χιλιοστό του δευτερολέπτου":"χιλιοστά του δευτερολέπτου"},decimal:","},f={ar:{y:function(e){return 1===e?"سنة":"سنوات"},mo:function(e){return 1===e?"شهر":"أشهر"},w:function(e){return 1===e?"أسبوع":"أسابيع"},d:function(e){return 1===e?"يوم":"أيام"},h:function(e){return 1===e?"ساعة":"ساعات"},m:function(e){return["دقيقة","دقائق"][function(e){if(e<=2)return 0;if(2<e&&e<11)return 1;return 0}(e)]},s:function(e){return 1===e?"ثانية":"ثواني"},ms:function(e){return 1===e?"جزء من الثانية":"أجزاء من الثانية"},decimal:","},bg:{y:function(e){return["години","година","години"][o(e)]},mo:function(e){return["месеца","месец","месеца"][o(e)]},w:function(e){return["седмици","седмица","седмици"][o(e)]},d:function(e){return["дни","ден","дни"][o(e)]},h:function(e){return["часа","час","часа"][o(e)]},m:function(e){return["минути","минута","минути"][o(e)]},s:function(e){return["секунди","секунда","секунди"][o(e)]},ms:function(e){return["милисекунди","милисекунда","милисекунди"][o(e)]},decimal:","},ca:{y:function(e){return"any"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"os")},w:function(e){return"setman"+(1===e?"a":"es")},d:function(e){return"di"+(1===e?"a":"es")},h:function(e){return"hor"+(1===e?"a":"es")},m:function(e){return"minut"+(1===e?"":"s")},s:function(e){return"segon"+(1===e?"":"s")},ms:function(e){return"milisegon"+(1===e?"":"s")},decimal:","},cs:{y:function(e){return["rok","roku","roky","let"][a(e)]},mo:function(e){return["měsíc","měsíce","měsíce","měsíců"][a(e)]},w:function(e){return["týden","týdne","týdny","týdnů"][a(e)]},d:function(e){return["den","dne","dny","dní"][a(e)]},h:function(e){return["hodina","hodiny","hodiny","hodin"][a(e)]},m:function(e){return["minuta","minuty","minuty","minut"][a(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][a(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][a(e)]},decimal:","},da:{y:"år",mo:function(e){return"måned"+(1===e?"":"er")},w:function(e){return"uge"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"e")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minut"+(1===e?"":"ter")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},de:{y:function(e){return"Jahr"+(1===e?"":"e")},mo:function(e){return"Monat"+(1===e?"":"e")},w:function(e){return"Woche"+(1===e?"":"n")},d:function(e){return"Tag"+(1===e?"":"e")},h:function(e){return"Stunde"+(1===e?"":"n")},m:function(e){return"Minute"+(1===e?"":"n")},s:function(e){return"Sekunde"+(1===e?"":"n")},ms:function(e){return"Millisekunde"+(1===e?"":"n")},decimal:","},el:e,en:{y:function(e){return"year"+(1===e?"":"s")},mo:function(e){return"month"+(1===e?"":"s")},w:function(e){return"week"+(1===e?"":"s")},d:function(e){return"day"+(1===e?"":"s")},h:function(e){return"hour"+(1===e?"":"s")},m:function(e){return"minute"+(1===e?"":"s")},s:function(e){return"second"+(1===e?"":"s")},ms:function(e){return"millisecond"+(1===e?"":"s")},decimal:"."},es:{y:function(e){return"año"+(1===e?"":"s")},mo:function(e){return"mes"+(1===e?"":"es")},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"día"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milisegundo"+(1===e?"":"s")},decimal:","},fa:{y:"سال",mo:"ماه",w:"هفته",d:"روز",h:"ساعت",m:"دقیقه",s:"ثانیه",ms:"میلی ثانیه",decimal:"."},fi:{y:function(e){return 1===e?"vuosi":"vuotta"},mo:function(e){return 1===e?"kuukausi":"kuukautta"},w:function(e){return"viikko"+(1===e?"":"a")},d:function(e){return"päivä"+(1===e?"":"ä")},h:function(e){return"tunti"+(1===e?"":"a")},m:function(e){return"minuutti"+(1===e?"":"a")},s:function(e){return"sekunti"+(1===e?"":"a")},ms:function(e){return"millisekunti"+(1===e?"":"a")},decimal:","},fr:{y:function(e){return"an"+(2<=e?"s":"")},mo:"mois",w:function(e){return"semaine"+(2<=e?"s":"")},d:function(e){return"jour"+(2<=e?"s":"")},h:function(e){return"heure"+(2<=e?"s":"")},m:function(e){return"minute"+(2<=e?"s":"")},s:function(e){return"seconde"+(2<=e?"s":"")},ms:function(e){return"milliseconde"+(2<=e?"s":"")},decimal:","},gr:e,hr:{y:function(e){return e%10==2||e%10==3||e%10==4?"godine":"godina"},mo:function(e){return 1===e?"mjesec":2===e||3===e||4===e?"mjeseca":"mjeseci"},w:function(e){return e%10==1&&11!==e?"tjedan":"tjedna"},d:function(e){return 1===e?"dan":"dana"},h:function(e){return 1===e?"sat":2===e||3===e||4===e?"sata":"sati"},m:function(e){var t=e%10;return 2!==t&&3!==t&&4!==t||!(e<10||14<e)?"minuta":"minute"},s:function(e){return 10===e||11===e||12===e||13===e||14===e||16===e||17===e||18===e||19===e||e%10==5?"sekundi":e%10==1?"sekunda":e%10==2||e%10==3||e%10==4?"sekunde":"sekundi"},ms:function(e){return 1===e?"milisekunda":e%10==2||e%10==3||e%10==4?"milisekunde":"milisekundi"},decimal:","},hu:{y:"év",mo:"hónap",w:"hét",d:"nap",h:"óra",m:"perc",s:"másodperc",ms:"ezredmásodperc",decimal:","},id:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"menit",s:"detik",ms:"milidetik",decimal:"."},is:{y:"ár",mo:function(e){return"mánuð"+(1===e?"ur":"ir")},w:function(e){return"vik"+(1===e?"a":"ur")},d:function(e){return"dag"+(1===e?"ur":"ar")},h:function(e){return"klukkutím"+(1===e?"i":"ar")},m:function(e){return"mínút"+(1===e?"a":"ur")},s:function(e){return"sekúnd"+(1===e?"a":"ur")},ms:function(e){return"millisekúnd"+(1===e?"a":"ur")},decimal:"."},it:{y:function(e){return"ann"+(1===e?"o":"i")},mo:function(e){return"mes"+(1===e?"e":"i")},w:function(e){return"settiman"+(1===e?"a":"e")},d:function(e){return"giorn"+(1===e?"o":"i")},h:function(e){return"or"+(1===e?"a":"e")},m:function(e){return"minut"+(1===e?"o":"i")},s:function(e){return"second"+(1===e?"o":"i")},ms:function(e){return"millisecond"+(1===e?"o":"i")},decimal:","},ja:{y:"年",mo:"月",w:"週",d:"日",h:"時間",m:"分",s:"秒",ms:"ミリ秒",decimal:"."},ko:{y:"년",mo:"개월",w:"주일",d:"일",h:"시간",m:"분",s:"초",ms:"밀리 초",decimal:"."},lo:{y:"ປີ",mo:"ເດືອນ",w:"ອາທິດ",d:"ມື້",h:"ຊົ່ວໂມງ",m:"ນາທີ",s:"ວິນາທີ",ms:"ມິນລິວິນາທີ",decimal:","},lt:{y:function(e){return e%10==0||10<=e%100&&e%100<=20?"metų":"metai"},mo:function(e){return["mėnuo","mėnesiai","mėnesių"][s(e)]},w:function(e){return["savaitė","savaitės","savaičių"][s(e)]},d:function(e){return["diena","dienos","dienų"][s(e)]},h:function(e){return["valanda","valandos","valandų"][s(e)]},m:function(e){return["minutė","minutės","minučių"][s(e)]},s:function(e){return["sekundė","sekundės","sekundžių"][s(e)]},ms:function(e){return["milisekundė","milisekundės","milisekundžių"][s(e)]},decimal:","},ms:{y:"tahun",mo:"bulan",w:"minggu",d:"hari",h:"jam",m:"minit",s:"saat",ms:"milisaat",decimal:"."},nl:{y:"jaar",mo:function(e){return 1===e?"maand":"maanden"},w:function(e){return 1===e?"week":"weken"},d:function(e){return 1===e?"dag":"dagen"},h:"uur",m:function(e){return 1===e?"minuut":"minuten"},s:function(e){return 1===e?"seconde":"seconden"},ms:function(e){return 1===e?"milliseconde":"milliseconden"},decimal:","},no:{y:"år",mo:function(e){return"måned"+(1===e?"":"er")},w:function(e){return"uke"+(1===e?"":"r")},d:function(e){return"dag"+(1===e?"":"er")},h:function(e){return"time"+(1===e?"":"r")},m:function(e){return"minutt"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},pl:{y:function(e){return["rok","roku","lata","lat"][r(e)]},mo:function(e){return["miesiąc","miesiąca","miesiące","miesięcy"][r(e)]},w:function(e){return["tydzień","tygodnia","tygodnie","tygodni"][r(e)]},d:function(e){return["dzień","dnia","dni","dni"][r(e)]},h:function(e){return["godzina","godziny","godziny","godzin"][r(e)]},m:function(e){return["minuta","minuty","minuty","minut"][r(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekund"][r(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekund"][r(e)]},decimal:","},pt:{y:function(e){return"ano"+(1===e?"":"s")},mo:function(e){return 1===e?"mês":"meses"},w:function(e){return"semana"+(1===e?"":"s")},d:function(e){return"dia"+(1===e?"":"s")},h:function(e){return"hora"+(1===e?"":"s")},m:function(e){return"minuto"+(1===e?"":"s")},s:function(e){return"segundo"+(1===e?"":"s")},ms:function(e){return"milissegundo"+(1===e?"":"s")},decimal:","},ru:{y:function(e){return["лет","год","года"][o(e)]},mo:function(e){return["месяцев","месяц","месяца"][o(e)]},w:function(e){return["недель","неделя","недели"][o(e)]},d:function(e){return["дней","день","дня"][o(e)]},h:function(e){return["часов","час","часа"][o(e)]},m:function(e){return["минут","минута","минуты"][o(e)]},s:function(e){return["секунд","секунда","секунды"][o(e)]},ms:function(e){return["миллисекунд","миллисекунда","миллисекунды"][o(e)]},decimal:","},uk:{y:function(e){return["років","рік","роки"][o(e)]},mo:function(e){return["місяців","місяць","місяці"][o(e)]},w:function(e){return["тижнів","тиждень","тижні"][o(e)]},d:function(e){return["днів","день","дні"][o(e)]},h:function(e){return["годин","година","години"][o(e)]},m:function(e){return["хвилин","хвилина","хвилини"][o(e)]},s:function(e){return["секунд","секунда","секунди"][o(e)]},ms:function(e){return["мілісекунд","мілісекунда","мілісекунди"][o(e)]},decimal:","},ur:{y:"سال",mo:function(e){return 1===e?"مہینہ":"مہینے"},w:function(e){return 1===e?"ہفتہ":"ہفتے"},d:"دن",h:function(e){return 1===e?"گھنٹہ":"گھنٹے"},m:"منٹ",s:"سیکنڈ",ms:"ملی سیکنڈ",decimal:"."},sk:{y:function(e){return["rok","roky","roky","rokov"][a(e)]},mo:function(e){return["mesiac","mesiace","mesiace","mesiacov"][a(e)]},w:function(e){return["týždeň","týždne","týždne","týždňov"][a(e)]},d:function(e){return["deň","dni","dni","dní"][a(e)]},h:function(e){return["hodina","hodiny","hodiny","hodín"][a(e)]},m:function(e){return["minúta","minúty","minúty","minút"][a(e)]},s:function(e){return["sekunda","sekundy","sekundy","sekúnd"][a(e)]},ms:function(e){return["milisekunda","milisekundy","milisekundy","milisekúnd"][a(e)]},decimal:","},sv:{y:"år",mo:function(e){return"månad"+(1===e?"":"er")},w:function(e){return"veck"+(1===e?"a":"or")},d:function(e){return"dag"+(1===e?"":"ar")},h:function(e){return"timm"+(1===e?"e":"ar")},m:function(e){return"minut"+(1===e?"":"er")},s:function(e){return"sekund"+(1===e?"":"er")},ms:function(e){return"millisekund"+(1===e?"":"er")},decimal:","},tr:{y:"yıl",mo:"ay",w:"hafta",d:"gün",h:"saat",m:"dakika",s:"saniye",ms:"milisaniye",decimal:","},vi:{y:"năm",mo:"tháng",w:"tuần",d:"ngày",h:"giờ",m:"phút",s:"giây",ms:"mili giây",decimal:","},zh_CN:{y:"年",mo:"个月",w:"周",d:"天",h:"小时",m:"分钟",s:"秒",ms:"毫秒",decimal:"."},zh_TW:{y:"年",mo:"個月",w:"周",d:"天",h:"小時",m:"分鐘",s:"秒",ms:"毫秒",decimal:"."}};function t(e){var n=function(e,t){return function(e,t){var n,i,r;e=Math.abs(e);var o=t.languages[t.language]||f[t.language];if(!o)throw new Error("No language "+o+".");var a,s,l,c=[];for(n=0,i=t.units.length;n<i;n++)a=t.units[n],s=t.unitMeasures[a],l=n+1===i?e/s:Math.floor(e/s),c.push({unitCount:l,unitName:a}),e-=l*s;var u,d,h=0;for(n=0;n<c.length;n++)if(c[n].unitCount){h=n;break}if(t.round)for(n=c.length-1;0<=n&&((r=c[n]).unitCount=Math.round(r.unitCount),0!==n);n--)d=c[n-1],u=t.unitMeasures[d.unitName]/t.unitMeasures[r.unitName],(r.unitCount%u==0||t.largest&&t.largest-1<n-h)&&(d.unitCount+=r.unitCount/u,r.unitCount=0);var p=[];for(n=0,c.length;n<i&&((r=c[n]).unitCount&&p.push(g(r.unitCount,r.unitName,o,t)),p.length!==t.largest);n++);{if(!p.length)return g(0,t.units[t.units.length-1],o,t);if(!t.conjunction||1===p.length)return p.join(t.delimiter);if(2===p.length)return p.join(t.conjunction);if(2<p.length)return p.slice(0,-1).join(t.delimiter)+(t.serialComma?",":"")+t.conjunction+p.slice(-1)}}(e,i({},n,t||{}))};return i(n,{language:"en",delimiter:", ",spacer:" ",conjunction:"",serialComma:!0,units:["y","mo","w","d","h","m","s"],languages:{},round:!1,unitMeasures:{y:315576e5,mo:26298e5,w:6048e5,d:864e5,h:36e5,m:6e4,s:1e3,ms:1}},e)}var n=t({});function g(e,t,n,i){var r;r=void 0===i.decimal?n.decimal:i.decimal;var o,a=e.toString().replace(".",r),s=n[t];return o="function"==typeof s?s(e):s,a+i.spacer+o}function i(e){for(var t,n=1;n<arguments.length;n++)for(var i in t=arguments[n])t.hasOwnProperty(i)&&(e[i]=t[i]);return e}function r(e){return 1===e?0:Math.floor(e)!==e?1:2<=e%10&&e%10<=4&&!(10<e%100&&e%100<20)?2:3}function o(e){return Math.floor(e)!==e?2:5<=e%100&&e%100<=20||5<=e%10&&e%10<=9||e%10==0?0:e%10==1?1:1<e?2:0}function a(e){return 1===e?0:Math.floor(e)!==e?1:2<=e%10&&e%10<=4&&e%100<10?2:3}function s(e){return 1===e||e%10==1&&20<e%100?0:Math.floor(e)!==e||2<=e%10&&20<e%100||2<=e%10&&e%100<10?1:2}n.getSupportedLanguages=function(){var e=[];for(var t in f)f.hasOwnProperty(t)&&"gr"!==t&&e.push(t);return e},n.humanizer=t,"function"==typeof define&&define.amd?define(function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:this.humanizeDuration=n}(),function(e,t){if("function"!=typeof define||!define.amd)return t(e);define("angular-file-upload",["angular"],function(e){return t(e)})}("undefined"==typeof angular?null:angular,function(d){var e=d.module("angularFileUpload",[]);return e.value("fileUploaderOptions",{url:"/",alias:"file",headers:{},queue:[],progress:0,autoUpload:!1,removeAfterUpload:!1,method:"POST",filters:[],formData:[],queueLimit:Number.MAX_VALUE,withCredentials:!1}).factory("FileUploader",["fileUploaderOptions","$rootScope","$http","$window","$compile",function(n,e,i,r,o){function l(e){var t=d.copy(n);d.extend(this,t,e,{isUploading:!1,_nextIndex:0,_failFilterIndex:-1,_directives:{select:[],drop:[],over:[]}}),this.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.filters.unshift({name:"folder",fn:this._folderFilter})}function t(e,t,n,i){t=e._getFileOrFileLikeObject(t),d.extend(this,{url:e.url,alias:e.alias,headers:d.copy(e.headers),formData:d.copy(e.formData),removeAfterUpload:e.removeAfterUpload,withCredentials:e.withCredentials,method:e.method},n,{uploader:e,file:d.copy(t),isReady:!1,isUploading:!1,isUploaded:!1,isSuccess:!1,isCancel:!1,isError:!1,progress:0,index:null,_file:t}),i&&(this._input=d.element(i),this._replaceNode(this._input))}function a(e){d.extend(this,e),this.uploader._directives[this.prop].push(this),this._saveLinks(),this.bind()}function s(e){s.super_.apply(this,arguments),this.uploader.isHTML5||this.element.removeAttr("multiple"),this.element.prop("value",null)}function c(e){c.super_.apply(this,arguments)}function u(e){u.super_.apply(this,arguments)}return l.prototype.isHTML5=!(!r.File||!r.FormData),l.prototype.addToQueue=function(e,o,t){var n=d.isElement(e)?[e]:e,a=this._getFilters(t),i=this.queue.length,s=[];d.forEach(n,function(e){var t=this._getFileOrFileLikeObject(e);if(this._isValidFile(t,a,o)){var n=this.isFile(t)?null:e,i=new l.FileItem(this,t,o,n);s.push(i),this.queue.push(i),this._onAfterAddingFile(i)}else{var r=this.filters[this._failFilterIndex];this._onWhenAddingFileFailed(t,r,o)}},this),this.queue.length!==i&&(this._onAfterAddingAll(s),this.progress=this._getTotalProgress()),this._render(),this.autoUpload&&this.uploadAll()},l.prototype.removeFromQueue=function(e){var t=this.getIndexOfItem(e),n=this.queue[t];n.isUploading&&n.cancel(),this.queue.splice(t,1),n._destroy(),this.progress=this._getTotalProgress()},l.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},l.prototype.uploadItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))},l.prototype.cancelItem=function(e){var t=this.getIndexOfItem(e),n=this.queue[t],i=this.isHTML5?"_xhr":"_form";n&&n.isUploading&&n[i].abort()},l.prototype.uploadAll=function(){var e=this.getNotUploadedItems().filter(function(e){return!e.isUploading});e.length&&(d.forEach(e,function(e){e._prepareToUploading()}),e[0].upload())},l.prototype.cancelAll=function(){var e=this.getNotUploadedItems();d.forEach(e,function(e){e.cancel()})},l.prototype.isFile=function(e){var t=r.File;return t&&e instanceof t},l.prototype.isFileLikeObject=function(e){return e instanceof l.FileLikeObject},l.prototype.getIndexOfItem=function(e){return d.isNumber(e)?e:this.queue.indexOf(e)},l.prototype.getNotUploadedItems=function(){return this.queue.filter(function(e){return!e.isUploaded})},l.prototype.getReadyItems=function(){return this.queue.filter(function(e){return e.isReady&&!e.isUploading}).sort(function(e,t){return e.index-t.index})},l.prototype.destroy=function(){d.forEach(this._directives,function(e){d.forEach(this._directives[e],function(e){e.destroy()},this)},this)},l.prototype.onAfterAddingAll=function(e){},l.prototype.onAfterAddingFile=function(e){},l.prototype.onWhenAddingFileFailed=function(e,t,n){},l.prototype.onBeforeUploadItem=function(e){},l.prototype.onProgressItem=function(e,t){},l.prototype.onProgressAll=function(e){},l.prototype.onSuccessItem=function(e,t,n,i){},l.prototype.onErrorItem=function(e,t,n,i){},l.prototype.onCancelItem=function(e,t,n,i){},l.prototype.onCompleteItem=function(e,t,n,i){},l.prototype.onCompleteAll=function(){},l.prototype._getTotalProgress=function(e){if(this.removeAfterUpload)return e||0;var t=this.getNotUploadedItems().length,n=t?this.queue.length-t:this.queue.length,i=100/this.queue.length,r=(e||0)*i/100;return Math.round(n*i+r)},l.prototype._getFilters=function(e){if(d.isUndefined(e))return this.filters;if(d.isArray(e))return e;var t=e.split(/\s*,/);return this.filters.filter(function(e){return-1!==t.indexOf(e.name)},this)},l.prototype._render=function(){e.$$phase||e.$apply()},l.prototype._folderFilter=function(e){return!(!e.size&&!e.type)},l.prototype._queueLimitFilter=function(){return this.queue.length<this.queueLimit},l.prototype._isValidFile=function(t,e,n){return this._failFilterIndex=-1,!e.length||e.every(function(e){return this._failFilterIndex++,e.fn.call(this,t,n)},this)},l.prototype._getFileOrFileLikeObject=function(e){return this.isFile(e)||this.isFileLikeObject(e)?e:new l.FileLikeObject(e.value)},l.prototype._isSuccessCode=function(e){return 200<=e&&e<300||304===e},l.prototype._transformResponse=function(t){return d.forEach(i.defaults.transformResponse,function(e){t=e(t)}),t},l.prototype._parseHeaders=function(e){var n,i,r,o={};if(!e)return o;function a(e){return e.replace(/^\s+/,"").replace(/\s+$/,"")}return d.forEach(e.split("\n"),function(e){var t;r=e.indexOf(":"),t=a(e.substr(0,r)),n=t.toLowerCase(),i=a(e.substr(r+1)),n&&(o[n]=o[n]?o[n]+", "+i:i)}),o},l.prototype._xhrTransport=function(i){var r=i._xhr=new XMLHttpRequest,n=new FormData,o=this;o._onBeforeUploadItem(i),d.forEach(i.formData,function(e){d.forEach(e,function(e,t){n.append(t,e)})}),n.append(i.alias,i._file),r.upload.onprogress=function(e){var t=Math.round(e.lengthComputable?100*e.loaded/e.total:0);o._onProgressItem(i,t)},r.onload=function(){var e=o._parseHeaders(r.getAllResponseHeaders()),t=o._transformResponse(r.response),n=o._isSuccessCode(r.status)?"Success":"Error";o["_on"+n+"Item"](i,t,r.status,e),o._onCompleteItem(i,t,r.status,e)},r.onerror=function(){var e=o._parseHeaders(r.getAllResponseHeaders()),t=o._transformResponse(r.response);o._onErrorItem(i,t,r.status,e),o._onCompleteItem(i,t,r.status,e)},r.onabort=function(){var e=o._parseHeaders(r.getAllResponseHeaders()),t=o._transformResponse(r.response);o._onCancelItem(i,t,r.status,e),o._onCompleteItem(i,t,r.status,e)},r.open(i.method,i.url,!0),r.withCredentials=i.withCredentials,d.forEach(i.headers,function(e,t){r.setRequestHeader(t,e)}),r.send(n),this._render()},l.prototype._iframeTransport=function(r){var n=d.element('<form style="display: none;" />'),o=d.element('<iframe name="iframeTransport'+Date.now()+'">'),i=r._input,a=this;r._form&&r._form.replaceWith(i),r._form=n,a._onBeforeUploadItem(r),i.prop("name",r.alias),d.forEach(r.formData,function(e){d.forEach(e,function(e,t){n.append(d.element('<input type="hidden" name="'+t+'" value="'+e+'" />'))})}),n.prop({action:r.url,method:"POST",target:o.prop("name"),enctype:"multipart/form-data",encoding:"multipart/form-data"}),o.bind("load",function(){try{var e=o[0].contentDocument.body.innerHTML}catch(e){}var t={response:e,status:200,dummy:!0},n=a._transformResponse(t.response),i={};a._onSuccessItem(r,n,t.status,i),a._onCompleteItem(r,n,t.status,i)}),n.abort=function(){var e=0,t={};o.unbind("load").prop("src","javascript:false;"),n.replaceWith(i),a._onCancelItem(r,void 0,e,t),a._onCompleteItem(r,void 0,e,t)},i.after(n),n.append(i).append(o),n[0].submit(),this._render()},l.prototype._onWhenAddingFileFailed=function(e,t,n){this.onWhenAddingFileFailed(e,t,n)},l.prototype._onAfterAddingFile=function(e){this.onAfterAddingFile(e)},l.prototype._onAfterAddingAll=function(e){this.onAfterAddingAll(e)},l.prototype._onBeforeUploadItem=function(e){e._onBeforeUpload(),this.onBeforeUploadItem(e)},l.prototype._onProgressItem=function(e,t){var n=this._getTotalProgress(t);this.progress=n,e._onProgress(t),this.onProgressItem(e,t),this.onProgressAll(n),this._render()},l.prototype._onSuccessItem=function(e,t,n,i){e._onSuccess(t,n,i),this.onSuccessItem(e,t,n,i)},l.prototype._onErrorItem=function(e,t,n,i){e._onError(t,n,i),this.onErrorItem(e,t,n,i)},l.prototype._onCancelItem=function(e,t,n,i){e._onCancel(t,n,i),this.onCancelItem(e,t,n,i)},l.prototype._onCompleteItem=function(e,t,n,i){e._onComplete(t,n,i),this.onCompleteItem(e,t,n,i);var r=this.getReadyItems()[0];this.isUploading=!1,d.isDefined(r)?r.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},l.isFile=l.prototype.isFile,l.isFileLikeObject=l.prototype.isFileLikeObject,l.isHTML5=l.prototype.isHTML5,l.inherit=function(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).super_=t},l.FileLikeObject=function(e){var t=e;this.lastModifiedDate=null,this.size=null,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},l.FileItem=t,l.FileDirective=a,l.FileSelect=s,l.FileDrop=c,l.FileOver=u,t.prototype.upload=function(){this.uploader.uploadItem(this)},t.prototype.cancel=function(){this.uploader.cancelItem(this)},t.prototype.remove=function(){this.uploader.removeFromQueue(this)},t.prototype.onBeforeUpload=function(){},t.prototype.onProgress=function(e){},t.prototype.onSuccess=function(e,t,n){},t.prototype.onError=function(e,t,n){},t.prototype.onCancel=function(e,t,n){},t.prototype.onComplete=function(e,t,n){},t.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},t.prototype._onProgress=function(e){this.progress=e,this.onProgress(e)},t.prototype._onSuccess=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=null,this.onSuccess(e,t,n)},t.prototype._onError=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=null,this.onError(e,t,n)},t.prototype._onCancel=function(e,t,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=null,this.onCancel(e,t,n)},t.prototype._onComplete=function(e,t,n){this.onComplete(e,t,n),this.removeAfterUpload&&this.remove()},t.prototype._destroy=function(){this._input&&this._input.remove(),this._form&&this._form.remove(),delete this._form,delete this._input},t.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},t.prototype._replaceNode=function(e){var t=o(e.clone())(e.scope());t.prop("value",null),e.css("display","none"),e.after(t)},a.prototype.events={},a.prototype.bind=function(){for(var e in this.events){var t=this.events[e];this.element.bind(e,this[t])}},a.prototype.unbind=function(){for(var e in this.events)this.element.unbind(e,this.events[e])},a.prototype.destroy=function(){var e=this.uploader._directives[this.prop].indexOf(this);this.uploader._directives[this.prop].splice(e,1),this.unbind()},a.prototype._saveLinks=function(){for(var e in this.events){var t=this.events[e];this[t]=this[t].bind(this)}},l.inherit(s,a),s.prototype.events={$destroy:"destroy",change:"onChange"},s.prototype.prop="select",s.prototype.getOptions=function(){},s.prototype.getFilters=function(){},s.prototype.isEmptyAfterSelection=function(){return!!this.element.attr("multiple")},s.prototype.onChange=function(){var e=this.uploader.isHTML5?this.element[0].files:this.element[0],t=this.getOptions(),n=this.getFilters();this.uploader.isHTML5||this.destroy(),this.uploader.addToQueue(e,t,n),this.isEmptyAfterSelection()&&this.element.prop("value",null)},l.inherit(c,a),c.prototype.events={$destroy:"destroy",drop:"onDrop",dragover:"onDragOver",dragleave:"onDragLeave"},c.prototype.prop="drop",c.prototype.getOptions=function(){},c.prototype.getFilters=function(){},c.prototype.onDrop=function(e){var t=this._getTransfer(e);if(t){var n=this.getOptions(),i=this.getFilters();this._preventAndStop(e),d.forEach(this.uploader._directives.over,this._removeOverClass,this),this.uploader.addToQueue(t.files,n,i)}},c.prototype.onDragOver=function(e){var t=this._getTransfer(e);this._haveFiles(t.types)&&(t.dropEffect="copy",this._preventAndStop(e),d.forEach(this.uploader._directives.over,this._addOverClass,this))},c.prototype.onDragLeave=function(e){e.target===this.element[0]&&(this._preventAndStop(e),d.forEach(this.uploader._directives.over,this._removeOverClass,this))},c.prototype._getTransfer=function(e){return e.dataTransfer?e.dataTransfer:e.originalEvent.dataTransfer},c.prototype._preventAndStop=function(e){e.preventDefault(),e.stopPropagation()},c.prototype._haveFiles=function(e){return!!e&&(e.indexOf?-1!==e.indexOf("Files"):!!e.contains&&e.contains("Files"))},c.prototype._addOverClass=function(e){e.addOverClass()},c.prototype._removeOverClass=function(e){e.removeOverClass()},l.inherit(u,a),u.prototype.events={$destroy:"destroy"},u.prototype.prop="over",u.prototype.overClass="nv-file-over",u.prototype.addOverClass=function(){this.element.addClass(this.getOverClass())},u.prototype.removeOverClass=function(){this.element.removeClass(this.getOverClass())},u.prototype.getOverClass=function(){return this.overClass},l}]).directive("nvFileSelect",["$parse","FileUploader",function(o,a){return{link:function(e,t,n){var i=e.$eval(n.uploader);if(!(i instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');var r=new a.FileSelect({uploader:i,element:t});r.getOptions=o(n.options).bind(r,e),r.getFilters=function(){return n.filters}}}}]).directive("nvFileDrop",["$parse","FileUploader",function(o,a){return{link:function(e,t,n){var i=e.$eval(n.uploader);if(!(i instanceof a))throw new TypeError('"Uploader" must be an instance of FileUploader');if(i.isHTML5){var r=new a.FileDrop({uploader:i,element:t});r.getOptions=o(n.options).bind(r,e),r.getFilters=function(){return n.filters}}}}}]).directive("nvFileOver",["FileUploader",function(r){return{link:function(e,t,n){var i=e.$eval(n.uploader);if(!(i instanceof r))throw new TypeError('"Uploader" must be an instance of FileUploader');new r.FileOver({uploader:i,element:t}).getOverClass=function(){return n.overClass||this.overClass}}}}]),e}),function(e){function t(e,n,i){void 0===i&&(i="id");var t=e.length;return _.remove(e,function(t){return!_.some(n,function(e){return e[i]===t[i]})}),e.length!==t}e.removeElements=t,e.sync=function(n,e,i){void 0===i&&(i="id");var r=t(n,e,i);return e&&e.forEach(function(t){var e=_.find(n,function(e){return e[i]===t[i]});e?t!==e&&(angular.copy(t,e),r=!0):(r=!0,n.push(t))}),r}}(ArrayHelpers||(ArrayHelpers={})),function(n){var t=null;n.connectionSettingsKey="jvmConnect",n._resetUrlPrefix=function(){t=null},n.url=function(e){return e&&_.startsWith(e,"/")&&(t||(t=$("base").attr("href")||"",_.endsWith(t,"/")&&(t=t.substring(0,t.length-1))),t)?t+e:e},n.windowLocation=function(){return window.location},n.unescapeHTML=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value},n._resetJolokiaUrls=function(){return[n.url("jolokia"),"/jolokia"]};n._resetJolokiaUrls();n.trimLeading=function(e,t){return e&&t&&(_.startsWith(e,t)||0===e.indexOf(t))?e.substring(t.length):e},n.trimTrailing=function(e,t){return e&&t&&_.endsWith(e,t)?e.substring(0,e.length-t.length):e},n.adjustHeight=function(){var e=$(window).height()-$("#main-nav").height();$("#main").css("min-height",e+"px")},n.isChromeApp=function(){var t=!1;try{t=!!(chrome&&chrome.app&&chrome.extension)}catch(e){t=!1}return t},n.addCSS=function(e){if("createStyleSheet"in document)document.createStyleSheet(e);else{var t=$("<link>");$("head").append(t),t.attr({rel:"stylesheet",type:"text/css",href:e})}};var e={};function i(e){return""+e}function r(e){if(e.$$phase)return e.$$phase;if(HawtioCore.injector){var t=HawtioCore.injector.get("$rootScope");if(t)return t.$$phase}}n.getLocalStorage=function(){return window.localStorage||e},n.asArray=function(e){return angular.isArray(e)?e:[e]},n.parseBooleanValue=function(e,t){if(void 0===t&&(t=!1),!angular.isDefined(e)||!e)return t;if(e.constructor===Boolean)return e;if(angular.isString(e))switch(e.toLowerCase()){case"true":case"1":case"yes":return!0;default:return!1}if(angular.isNumber(e))return 0!==e;throw new Error("Can't convert value "+e+" to boolean")},n.toString=function(e){return angular.isNumber(e)?i(e):angular.toJson(e,!0)},n.booleanToString=function(e){return""+e},n.parseIntValue=function(t,n){if(void 0===n&&(n="integer"),angular.isString(t))try{return parseInt(t)}catch(e){console.log("Failed to parse "+n+" with text '"+t+"'")}else if(angular.isNumber(t))return t;return null},n.numberToString=i,n.parseFloatValue=function(t,n){if(void 0===n&&(n="float"),angular.isString(t))try{return parseFloat(t)}catch(e){console.log("Failed to parse "+n+" with text '"+t+"'")}else if(angular.isNumber(t))return t;return null},n.pathGet=function(e,t){var n=angular.isArray(t)?t:(t||"").split("."),i=e;return angular.forEach(n,function(e){if(!i)return null;try{i=i[e]}catch(e){return null}}),i},n.pathSet=function(e,t,i){var n=angular.isArray(t)?t:(t||"").split("."),r=e,o=n.length-1;return angular.forEach(n,function(e,t){var n=r[e];(o<=t||!angular.isObject(n))&&(n=t<o?{}:i,r[e]=n),r=n}),r},n.$applyNowOrLater=function(e){r(e)?setTimeout(function(){n.$apply(e)},50):e.$apply()},n.$applyLater=function(e,t){void 0===t&&(t=50),setTimeout(function(){n.$apply(e)},t)},n.$apply=function(e){r(e)||e.$apply()},n.$digest=function(e){r(e)||e.$digest()},n.getOrCreateElements=function(e,t){var n=e;return angular.forEach(t,function(e){if(n){var t=$(n).children(e);t&&t.length||($("<"+e+"></"+e+">").appendTo(n),t=$(n).children(e)),n=t}}),n};var o={"#":"&#35;","'":"&#39;","<":"&lt;",">":"&gt;",'"':"&quot;"};function a(e){return _.trim(e," '\"")}n.unescapeHtml=function(i){return angular.forEach(o,function(e,t){var n=new RegExp(e,"g");i=i.replace(n,t)}),i=i.replace(/&gt;/g,">")},n.escapeHtml=function(e){if(angular.isString(e)){for(var t="",n=0;n<e.length;n++){var i=e.charAt(n);t+=i=o[i]||i}return t}return e},n.isBlank=function(e){return null==e||!!angular.isString(e)&&0===e.trim().length},n.trimQuotes=a,n.humanizeValue=function(e){if(e){var t=e+"";if(n.isBlank(t))return t;try{t=_.snakeCase(t),t=_.capitalize(t.split("_").join(" "))}catch(e){}return a(t)}return e}}(Core||(Core={})),function(e){var t="hawtio-compile",n=Logger.get(t);e._module=angular.module(t,[]),e._module.run(function(){n.debug("loaded")}),e._module.directive("compile",["$compile",function(r){return function(t,n,i){t.$watch(function(e){return e.$eval(i.compile)},function(e){n.html(e),r(n.contents())(t)})}}]),hawtioPluginLoader.addModule(t)}(HawtioCompile||(HawtioCompile={})),function(e){Logger.get("ControllerHelpers");e.createClassSelector=function(n){return function(e,t){return e===t&&e in n?n[e]:""}},e.createValueClassSelector=function(t){return function(e){return e in t?t[e]:""}},e.bindModelToSearchParam=function(e,n,t,i,r,o,a){t in e||(e[t]=r);var s=o||Core.doNothing,l=(a||Core.doNothing)(n.search()[i]||r);Core.pathSet(e,t,l),e.$watch(t,function(e,t){e!==t&&(null!=e?n.search(i,s(e)):n.search(i,""))})},e.reloadWhenParametersChange=function(e,t,i,r){void 0===r&&(r=["nid"]);var o=angular.copy(i.search());t.$on("$routeUpdate",function(){var t=i.search(),n=[];angular.forEach(r,function(e){t[e]!==o[e]&&n.push(e)}),n.length&&e.reload()})}}(ControllerHelpers||(ControllerHelpers={})),function(e){var t="hawtio-core-filters",n=angular.module(t,[]);n.filter("valueToHtml",function(){return Core.valueToHtml}),n.filter("humanize",function(){return Core.humanizeValue}),n.filter("humanizeMs",function(){return Core.humanizeMilliseconds}),n.filter("maskPassword",function(){return Core.maskPassword});var i=function(e){return humandate.relativeTime(e)};n.filter("relativeTime",function(){return i}),n.filter("humanizeDate",function(){return i}),n.filter("humanizeDuration",function(){return function(e){return humanizeDuration(e,{round:!0})}}),hawtioPluginLoader.addModule(t)}(CoreFilters||(CoreFilters={})),function(u){function i(e,t){var n=e.jolokiaHandle;n&&(t.unregister(n),e.jolokiaHandle=null)}function o(e,t){return void 0===t&&(t={}),t.mimeType="application/json",angular.isDefined(e)&&(t.success=e),t.method||(t.method="POST"),t.canonicalNaming=!1,t.canonicalProperties=!1,t.error||(t.error=function(e){u.defaultJolokiaErrorHandler(e,t)}),t}function t(e){return e.replace(/\./g,"-")}u.log=Logger.get("Core"),u.lazyLoaders={},u.numberTypeNames={byte:!0,short:!0,int:!0,long:!0,float:!0,double:!0,"java.lang.byte":!0,"java.lang.short":!0,"java.lang.integer":!0,"java.lang.long":!0,"java.lang.float":!0,"java.lang.double":!0},u.lineCount=function(e){var t=0;return e&&(t=1,e.toString().each(/\n/,function(){return t++})),t},u.safeNull=function(e){return"boolean"==typeof e?e+"":"number"==typeof e?e+"":e||""},u.safeNullAsString=function(e,t){if("boolean"==typeof e)return""+e;if("number"==typeof e)return""+e;if("string"==typeof e)return""+e;if("javax.management.openmbean.CompositeData"===t||"[Ljavax.management.openmbean.CompositeData;"===t||"java.util.Map"===t)return angular.toJson(e,!0);if("javax.management.ObjectName"===t)return""+(null==e?"":e.canonicalName);if("javax.management.openmbean.TabularData"!==t)return angular.isArray(e)?e.join("\n"):e?""+e:"";var n=[];for(var i in e){var r=i+"="+e[i];n.push(r)}return(n=_.sortBy(n,function(e){return e.toString()})).join("\n")},u.toSearchArgumentArray=function(e){if(e){if(angular.isArray(e))return e;if(angular.isString(e))return e.split(",")}return[]},u.folderMatchesPatterns=function(e,t){if(e){var r=e.folderNames;if(r)return t.any(function(e){for(var t=0;t<e.length;t++){var n=r[t],i=e[t];if(!n)return!1;if(i.indexOf(n)<0)return!1}return!0})}return!1},u.scopeStoreJolokiaHandle=function(e,t,n){n&&(e.$on("$destroy",function(){i(e,t)}),e.jolokiaHandle=n)},u.closeHandle=i,u.onSuccess=o,u.supportsLocalStorage=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}},u.isNumberTypeName=function(e){if(e){var t=e.toString().toLowerCase();return u.numberTypeNames[t]}return!1},u.encodeMBeanPath=function(e){return e.replace(/\//g,"!/").replace(":","/").escapeURL()},u.escapeMBeanPath=function(e){return e.replace(/\//g,"!/").replace(":","/")},u.encodeMBean=function(e){return e.replace(/\//g,"!/").escapeURL()},u.escapeDots=t,u.escapeTreeCssStyles=function(e){return t(e).replace(/span/g,"sp-an")},u.showLogPanel=function(){var e=$("#log-panel"),t=$("body");localStorage.showLog="true",e.css({bottom:"50%"}),t.css({"overflow-y":"hidden"})},u.logLevelClass=function(e){if(e){var t=e[0];if("w"===t||"W"===t)return"warning";if("e"===t||"E"===t)return"error";if("i"===t||"I"===t)return"info";if("d"===t||"D"===t)return""}return""},u.toPath=function(e){return u.isBlank(e)?e:_.startsWith(e,"#")?e.substring(1):e},u.parseMBean=function(e){var i={},t=e.split(":");return 1<t.length&&(i.domain=_.first(t),t=(t=_.without(t,_.first(t))).join(":"),i.attributes={},t.split(",").forEach(function(e){var t=e.split("="),n=_.first(t).trim();t=_.without(t,_.first(t)),i.attributes[n]=t.join("=").trim()})),i},u.executePostLoginTasks=function(){u.log.debug("Executing post login tasks"),u.postLoginTasks.execute()},u.executePreLogoutTasks=function(e){u.log.debug("Executing pre logout tasks"),u.preLogoutTasks.onComplete(e),u.preLogoutTasks.execute()},u.logout=function(e,r,o,a,t,s){void 0===t&&(t=null),void 0===s&&(s=null),e&&u.executePreLogoutTasks(function(){$.ajax("auth/logout/",{type:"POST",success:function(){r.username=null,r.password=null,r.loginDetails=null,r.rememberMe=!1,delete o.userDetails;var e=angular.fromJson(o.jvmConnect);_.each(e,function(e){delete e.userName,delete e.password}),o.setItem("jvmConnect",angular.toJson(e)),o.removeItem("activemqUserName"),o.removeItem("activemqPassword"),t&&angular.isFunction(t)&&t(),u.$apply(a)},error:function(e,t,n){r.username=null,r.password=null,r.loginDetails=null,r.rememberMe=!1,delete o.userDetails;var i=angular.fromJson(o.jvmConnect);switch(_.each(i,function(e){delete e.userName,delete e.password}),o.setItem("jvmConnect",angular.toJson(i)),o.removeItem("activemqUserName"),o.removeItem("activemqPassword"),e.status){case 401:case 403:u.log.debug("Failed to log out, ",n);break;case 0:break;default:u.log.debug("Failed to log out, ",n)}s&&angular.isFunction(s)&&s(),u.$apply(a)}})})},u.createHref=function(e,t,n){void 0===n&&(n=null);var i=angular.copy(e.search());n&&angular.forEach(n,function(e){return delete i[e]});var r=u.hashToString(i);if(r){var o=0<=t.indexOf("?")?"&":"?";t+=o+r}return t},u.hashToString=function(e){var n=[];angular.forEach(e,function(e,t){n.push(t+"="+e)});var t=n.join("&");return encodeURI(t)},u.stringToHash=function(e){var r={};if(e){var t=decodeURI(e).split("&");angular.forEach(t,function(e){var t=e.split("="),n=t[0],i=t[1]||n;r[n]=i})}return r},u.registerForChanges=function(e,t,arguments,n,i){var r={responseJson:"",success:function(e){var t=angular.toJson(e.value);r.responseJson!==t&&(r.responseJson=t,n(e))}};return angular.extend(r,i),u.register(e,t,arguments,o(void 0,r))};var e=null;function n(e){if(!("type"in e))return null;var t=e.type;switch(t.toLowerCase()){case"exec":t+=":"+e.mbean+":"+e.operation;var n=function(arguments){return StringHelpers.toString(arguments)}(e.arguments);u.isBlank(n)||(t+=":"+n);break;case"read":t+=":"+e.mbean+":"+e.attribute;break;default:return null}return t}function l(arguments){return angular.isArray(arguments)?arguments.map(function(e){return n(e)}).join(":"):n(arguments)}function c(){return null===e&&(e={},u.log.debug("Created response history",e)),e}function s(arguments,e){var t=c(),n=l(arguments);if(null!==n){var i,r,o,a=_.keys(t);if(a.length>=u.MAX_RESPONSE_CACHE_SIZE){u.log.debug("Cache limit (",u.MAX_RESPONSE_CACHE_SIZE,") met or  exceeded (",a.length,"), trimming oldest response");var s=(i=t,o=r=null,angular.forEach(i,function(e,t){e&&e.timestamp?(null===r||e.timestamp<r)&&(r=e.timestamp,o=t):(r=0,o=t)}),o);null!==s?(u.log.debug("Deleting key: ",s),delete t[s]):(u.log.debug("Got null key, could be a cache problem, wiping cache"),a.forEach(function(e){u.log.debug("Deleting key: ",e),delete t[e]}))}t[n]=e}else u.log.debug("key for arguments is null, not caching: ",StringHelpers.toString(arguments))}function d(e,arguments,t){var n=c(),i=l(arguments);if(null!==i)if(i in n&&"success"in t){var r=n[i];setTimeout(function(){t.success(r)},10)}else u.log.debug("Unable to find existing response for key: ",i),e.request(arguments,t);else e.request(arguments,t)}function h(t,e){angular.isDefined(e.$jhandle)&&(e.$jhandle.forEach(function(e){t.unregister(e)}),delete e.$jhandle)}u.getOrInitObjectFromLocalStorage=function(e){return e in localStorage||(localStorage[e]=angular.toJson({})),angular.fromJson(localStorage[e])},u.getResponseHistory=c,u.MAX_RESPONSE_CACHE_SIZE=20,u.register=function(t,n,arguments,e){if(!n.$$destroyed){angular.isDefined(n.$jhandle)&&angular.isArray(n.$jhandle)||(n.$jhandle=[]),angular.isDefined(n.$on)&&n.$on("$destroy",function(e){h(t,n)});var i=null;if("success"in e){var r=e.success,o=arguments;e.success=function(e){s(o,e),r(e)}}if(angular.isArray(arguments)){if(1<=arguments.length){o=[e],angular.forEach(arguments,function(e){return o.push(e)});var a=t.register;i=a.apply(t,o),n.$jhandle.push(i),d(t,arguments,e)}}else i=t.register(e,arguments),n.$jhandle.push(i),d(t,arguments,e);return function(){null!==i&&(n.$jhandle.remove(i),t.unregister(i))}}},u.unregister=h,u.defaultJolokiaErrorHandler=function(e,t){void 0===t&&(t={});var n=e.stacktrace;if(n)if(t.silent)u.log.debug("Operation ",i," failed due to: ",e.error);else{var i=u.pathGet(e,["request","operation"])||"unknown";0<=n.indexOf("javax.management.InstanceNotFoundException")||0<=n.indexOf("javax.management.AttributeNotFoundException")||0<=n.indexOf("java.lang.IllegalArgumentException: No operation")?u.log.debug("Operation ",i," failed due to: ",e.error):u.log.warn("Operation ",i," failed due to: ",e.error)}},u.logJolokiaStackTrace=function(e){if(e.stacktrace){var t=u.pathGet(e,["request","operation"])||"unknown";u.log.info("Operation ",t," failed due to: ",e.error)}},u.xmlNodeToString=function(t){try{return(new XMLSerializer).serializeToString(t)}catch(e){try{return t.xml}catch(e){console.log("WARNING: XMLSerializer not supported")}}return!1},u.isTextNode=function(e){return e&&3===e.nodeType},u.fileExtension=function(e,t){void 0===t&&(t="");var n=t;if(e){var i=e.lastIndexOf(".");0<i&&(n=e.substring(i+1,e.length).toLowerCase())}return n},u.getUUID=function(){var e=new Date,t=1e3*e.getTime()+e.getUTCMilliseconds(),n=Math.floor(65536*(1+Math.random()));return t.toString(16)+n.toString(16)};var a=/[^\d]*(\d+)\.(\d+)(\.(\d+))?.*/;function p(e,t){return e+" "+(1===e?t:t+"s")}function r(e,t){var n=e+":"+t;return"Basic "+(n=window.btoa(n))}u.parseVersionNumbers=function(e){if(e){var t=e.match(a);if(t&&4<t.length){var n=t[1],i=t[2],r=t[4];if(angular.isDefined(r))return[parseInt(n),parseInt(i),parseInt(r)];if(angular.isDefined(i))return[parseInt(n),parseInt(i)];if(angular.isDefined(n))return[parseInt(n)]}}return null},u.versionToSortableString=function(e,n){return void 0===n&&(n=4),(e||"").split(".").map(function(e){var t=e.length;return n<=t?e:_.padLeft(e,n-t," ")}).join(".")},u.time=function(e,t){var n=(new Date).getTime(),i=t(),r=(new Date).getTime()-n;return console.log(e+" "+r),i},u.compareVersionNumberArrays=function(e,t){if(e&&!t)return 1;if(!e&&t)return-1;if(e===t)return 0;for(var n=0;n<e.length;n++){var i=e[n];if(n>=t.length)return 1;var r=t[n];if(!angular.isDefined(i))return-1;if(!angular.isDefined(r))return 1;if(r<i)return 1;if(i<r)return-1}return 0},u.valueToHtml=function n(t){if(angular.isArray(t)){var e=t.length;if(e){if(1===e)return n(t[0]);var i="<ul>";return angular.forEach(t,function(e){i+="<li>"+n(e)+"</li>"}),i+"</ul>"}return""}if(angular.isObject(t))return i="<table>",angular.forEach(t,function(e,t){i+="<tr><td>"+t+"</td><td>"+n(e)+"</td></tr>"}),i+"</table>";if(angular.isString(t)){var r=t;return angular.forEach(["http://","https://","file://","mailto:"],function(e){r.startsWith(e)&&(r="<a href='"+t+"'>"+t+"</a>")}),r}return t},u.tryParseJson=function(e){if(e=_.trim(e),_.startsWith(e,"[")&&_.endsWith(e,"]")||_.startsWith(e,"{")&&_.endsWith(e,"}"))try{return JSON.parse(e)}catch(e){}return null},u.maybePlural=p,u.objectNameProperties=function(e){var r={};if(e){var t=e.indexOf(":");if(0<t){var n=e.substring(t+1).split(",");angular.forEach(n,function(e){var t=e.split("="),n=t[0],i=t[1]||n;r[n]=i})}}return r},u.toSafeDomID=function(e){return e?e.replace(/(\/|\.)/g,"_"):e},u.forEachLeafFolder=function n(e,i){angular.forEach(e,function(e){var t=e.children;angular.isArray(t)&&0<t.length?n(t,i):i(e)})},u.extractHashURL=function(e){var t=e.split("#");if(0===t.length)return e;var n=t[1];return 1<t.length&&t.slice(2).forEach(function(e){n=n+"#"+e}),n},u.authHeaderValue=function(e){return r(e.username,e.password)},u.getBasicAuthHeader=r;var f=new RegExp("^(https?)://(([^:/?#]*)(?::([0-9]+))?)");u.parseUrl=function(e){if(u.isBlank(e))return null;var t=e.match(f);if(null===t)return null;var n=t[1],i=t[3],r=t[4],o=null;o=u.isBlank(r)?e.split(i):e.split(r);var a=u.parseIntValue(r),s=o[1];return s&&_.startsWith(s,"/")&&(s=s.slice(1,s.length)),{scheme:n,host:i,port:a,path:s}},u.getDocHeight=function(){var e=document;return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},u.useProxyIfExternal=function(e){if(u.isChromeApp())return e;var t=window.location.host;if(!e.startsWith("http://"+t+"/")&&!e.startsWith("https://"+t+"/")){var n=e.indexOf("://");0<n&&(e=e.substring(n+3)),e=e.replace(":","/"),e=u.trimLeading(e,"/"),e=u.trimTrailing(e,"/"),e=u.url("/proxy/"+e)}return e},u.extractTargetUrl=function(e,t,n){angular.isUndefined(t)&&(t=e.scheme());var i=e.host(),r=e.absUrl(),o=r.indexOf("url=");if(0<o){r=r.substr(o+4);var a=decodeURIComponent(r);if(a&&0<(o=a.indexOf("/proxy/"))){0<(o=(a=a.substr(o+7)).indexOf("://"))&&(a=a.substr(o+3));var s=a.split("/");if(1<=s.length&&(i=s[0]),angular.isUndefined(n)&&2<=s.length){var l=u.parseIntValue(s[1],"port number");l&&(n=l)}}}angular.isUndefined(n)&&(n=e.port());var c=t+"://"+i;return 80!=n&&(c+=":"+n),c},u.isProxyUrl=function(e){return 0<e.url().indexOf("/hawtio/proxy/")},u.doNothing=function(e){return e},u.bindModelToSearchParam=ControllerHelpers.bindModelToSearchParam,u.reloadWhenParametersChange=ControllerHelpers.reloadWhenParametersChange,u.throttled=function(t,n){var i=0,r=null;return function(){var e=Date.now();return i<e&&(i=e+n,r=t()),r}},u.parseJsonText=function(t,n){void 0===n&&(n="JSON");var e=null;try{e=angular.fromJson(t)}catch(e){u.log.info("Failed to parse "+n+" from: "+t+". "+e)}return e},u.humanizeValueHtml=function(e){return!0===e?'<i class="icon-check"></i>':!1===e?'<i class="icon-check-empty"></i>':u.humanizeValue(e)},u.getQueryParameterValue=function(e,t){for(var n=(e||"").split("?"),i=(n&&0<n.length?n[1]:"").split("&"),r=0;r<i.length;r++){var o=i[r].split("=");if(decodeURIComponent(o[0])==t)return decodeURIComponent(o[1])}return null},u.humanizeMilliseconds=function(e){if(!angular.isNumber(e))return"XXX";var t=e/1e3,n=Math.floor(t/31536e3);if(n)return p(n,"year");var i=Math.floor((t%=31536e3)/86400);if(i)return p(i,"day");var r=Math.floor((t%=86400)/3600);if(r)return p(r,"hour");var o=Math.floor((t%=3600)/60);return o?p(o,"minute"):(t=Math.floor(t%60))?p(t,"second"):e+" ms"},u.getRegexs=function(){var e=[];try{e=angular.fromJson(localStorage.regexs)}catch(e){delete localStorage.regexs}return e},u.removeRegex=function(t){var e=u.getRegexs(),n=function(e){return e.name===t};e.any(n)&&(e=e.exclude(n),u.writeRegexs(e))},u.writeRegexs=function(e){localStorage.regexs=angular.toJson(e)},u.maskPassword=function(e){e&&(e=e.replace(new RegExp("(.*://.*:)(.*)(@)","i"),"$1xxxxxx$3"));return e},u.matchFilterIgnoreCase=function(t,e){if(angular.isUndefined(t)||angular.isUndefined(e))return!0;if(null==t||null==e)return!0;if(t=t.toString().trim().toLowerCase(),e=e.toString().trim().toLowerCase(),0===t.length||0===e.length)return!0;var n=e.split(",");return(n=n.filter(function(e){return 0<e.length}).map(function(e){return e.trim()})).some(function(e){return-1<t.indexOf(e)})}}(Core||(Core={})),function(e){function t(e){var t=e||{};return angular.extend({scheme:"http",host:null,port:null,path:null,useProxy:!0,jolokiaUrl:null,userName:null,password:null,view:null,name:null},t)}e.createConnectToServerOptions=t,e.createConnectOptions=function(e){return t(e)}}(Core||(Core={})),function(e){var t="hawtio-event-tasks",o=Logger.get(t),n=angular.module(t,[]);n.factory("locationChangeStartTasks",function(){return new Core.ParameterizedTasksImpl}),n.factory("postLoginTasks",function(){return Core.postLoginTasks}),n.factory("preLogoutTasks",function(){return Core.preLogoutTasks}),n.factory("postLogoutTasks",function(){return Core.postLogoutTasks}),n.run(["$rootScope","locationChangeStartTasks","postLoginTasks","preLogoutTasks","postLogoutTasks",function(e,i,t,n,r){n.addTask("ResetPreLogoutTasks",function(){n.reset()}),n.addTask("ResetPostLoginTasks",function(){n.reset()}),t.addTask("ResetPostLogoutTasks",function(){r.reset()}),e.$on("$locationChangeStart",function(e,t,n){i.execute(e,t,n)}),o.debug("loaded")}]),hawtioPluginLoader.addModule(t)}(EventServices||(EventServices={})),function(e){hawtioPluginLoader.addModule("angularFileUpload"),e.useJolokiaTransport=function(i,e,r,o){var a=e;a._xhrTransport=function(t){var n=new FileReader;n.onload=function(){if(2===n.readyState){var e=o(n.result);r.request(e,Core.onSuccess(function(e){t.json=n.result,a._onSuccessItem(t,e,e.status,{}),a._onCompleteItem(t,e,e.status,{}),Core.$apply(i)},{error:function(e){a._onErrorItem(t,e,e.status,{}),a._onCompleteItem(t,e,e.status,{}),Core.$apply(i)}}))}},n.readAsText(t._file)}}}(FileUpload||(FileUpload={})),function(e){function a(e,t,n,i){if(void 0===n&&(n=-1),void 0===i&&(i=0),0<n&&n<=i||50<i)return!1;var r=t.toLowerCase(),o=!1;return angular.isString(e)?o=-1!==e.toLowerCase().indexOf(r):angular.isNumber(e)?o=-1!==(""+e).toLowerCase().indexOf(r):angular.isArray(e)?o=_.some(e,function(e){return a(e,r,n,i+1)}):angular.isObject(e)&&(o=a(_.values(e),r,n,i)),o}e.log=Logger.get("FilterHelpers"),e.search=function(t,e,n,i){void 0===n&&(n=-1),void 0===i&&(i=!0);var r=e.split(" "),o=_.filter(r,function(e){return a(t,e,n)});return i?o.length===r.length:0<o.length},e.searchObject=a}(FilterHelpers||(FilterHelpers={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Core;!function(t){var e=function(){function i(e){this.title=e,this.id=null,this.typeName=null,this.items=[],this.folderNames=[],this.domain=null,this.objectName=null,this.map={},this.entries={},this.addClass=null,this.parent=null,this.isLazy=!1,this.icon=null,this.tooltip=null,this.entity=null,this.version=null,this.mbean=null,this.addClass=t.escapeTreeCssStyles(e)}return Object.defineProperty(i.prototype,"key",{get:function(){return this.id},set:function(e){this.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"children",{get:function(){return this.items},set:function(e){this.items=e},enumerable:!0,configurable:!0}),i.prototype.get=function(e){return this.map[e]},i.prototype.isFolder=function(){return 0<this.children.length},i.prototype.navigate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this;return e.forEach(function(e){n&&(n=n.get(e))}),n},i.prototype.hasEntry=function(e,t){var n=this.entries;if(n){var i=n[e];return i&&t===i}return!1},i.prototype.parentHasEntry=function(e,t){return!!this.parent&&this.parent.hasEntry(e,t)},i.prototype.ancestorHasEntry=function(e,t){for(var n=this.parent;n;){if(n.hasEntry(e,t))return!0;n=n.parent}return!1},i.prototype.ancestorHasType=function(e){for(var t=this.parent;t;){if(e===t.typeName)return!0;t=t.parent}return!1},i.prototype.getOrElse=function(e,t){void 0===t&&(t=new i(e));var n=this.map[e];return n||(n=t,this.map[e]=n,this.children.push(n),n.parent=this),n},i.prototype.sortChildren=function(t){var e=this.children;e&&(this.children=_.sortBy(e,"title"),t&&angular.forEach(e,function(e){return e.sortChildren(t)}))},i.prototype.moveChild=function(e){e&&e.parent!==this&&(e.detach(),(e.parent=this).children.push(e))},i.prototype.insertBefore=function(e,t){e.detach(),e.parent=this;var n=_.indexOf(this.children,t);0<=n&&this.children.splice(n,0,e)},i.prototype.insertAfter=function(e,t){e.detach(),e.parent=this;var n=_.indexOf(this.children,t);0<=n&&this.children.splice(n+1,0,e)},i.prototype.detach=function(){var t=this,e=this.parent;if(e){var n=e.children;if(n){var i=n.indexOf(this);i<0?_.remove(e.children,function(e){return e.key===t.key}):n.splice(i,1)}this.parent=null}},i.prototype.findDescendant=function(t){if(t(this))return this;var n=null;return angular.forEach(this.children,function(e){n||(n=e.findDescendant(t))}),n},i.prototype.findAncestor=function(e){return e(this)?this:null!=this.parent?this.parent.findAncestor(e):null},i}();t.Folder=e}(Core||(Core={}));var Folder=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Core.Folder),Core,Log,ObjectHelpers,PluginHelpers,PollHelpers,Core,SelectionHelpers,StorageHelpers,StringHelpers;(Core||(Core={})).operationToString=function(e,t){return t&&0!==t.length?e+"("+t.map(function(e){return angular.isString(e)&&(e=angular.fromJson(e)),e.type}).join(",")+")":e+"()"},function(n){var c=/\s*at\s+([\w\.$_]+(\.([\w$_]+))*)\((.*)?:(\d+)\).*\[(.*)\]/;n.formatStackTrace=function(e){if(!e)return"";if(!angular.isArray(e)&&angular.isString(e)&&(e=e.split("\n")),!angular.isArray(e))return"";var t='<ul class="unstyled">\n';return e.each(function(e){t+="<li>"+n.formatStackLine(e)+"</li>\n"}),t+="</ul>\n"},n.formatStackLine=function(e){var t=c.exec(e);if(t&&6<t.length){var n=t[1],i=t[4],r=(e=t[5],t[6]);if(n&&i&&r){var o=n,a=n.lastIndexOf(".");0<a&&(o=n.substring(0,a));var s="#/source/view/"+r+"/class/"+o+"/"+i;return angular.isDefined(e)&&(s+="?line="+e),"<div class='stack-line'>  at <a href='"+s+"'>"+n+"</a>(<span class='fileName'>"+i+"</span>:<span class='lineNumber'>"+e+"</span>)[<span class='mavenCoords'>"+r+"</span>]</div>"}}var l=!0;return e&&(e=_.trim(e),_.startsWith(e,"at")&&(e="  "+e,l=!1)),l?'<pre class="stack-line bold">'+e+"</pre>":'<pre class="stack-line">'+e+"</pre>"}}(Log||(Log={})),(ObjectHelpers||(ObjectHelpers={})).toMap=function(e,t,n){if(!e||0===e.length)return{};var i={};return e.forEach(function(e){angular.isObject(e)&&(i[e[t]]=e,angular.isFunction(n)&&n(e))}),i},function(e){e.createControllerFunction=function(n,i){return function(e,t){return n.controller(i+"."+e,t)}},e.createRoutingFunction=function(n){return function(e,t){return void 0===t&&(t=!0),{templateUrl:UrlHelpers.join(n,e),reloadOnSearch:t}}}}(PluginHelpers||(PluginHelpers={})),function(e){var l=Logger.get("PollHelpers");e.setupPolling=function(t,e,n,i,r){if(void 0===n&&(n=2e3),!t.$hasPoller){if(t.$hasPoller=!0,i||(i=HawtioCore.injector.get("$timeout")),!r)try{r=HawtioCore.injector.get("jolokia")}catch(e){}var o=void 0,a=t.name||"anonymous scope",s=function(){e(function(){var e=t.$keepPolling;angular.isFunction(e)||(e=function(){return!r||r.isRunning()}),e()&&t.$hasPoller&&(o=i(s,n))})};return t.$on&&(t.$on("$destroy",function(){l.debug("scope",a," being destroyed, cancelling polling"),delete t.$hasPoller,i.cancel(o)}),t.$on("$routeChangeStart",function(){l.debug("route changing, cancelling polling for scope: ",a),delete t.$hasPoller,i.cancel(o)})),s}l.debug("scope already has polling set up, ignoring subsequent polling request")}}(PollHelpers||(PollHelpers={})),function(l){l.parsePreferencesJson=function(e,t){var n=null;return angular.isDefined(e)&&(n=l.parseJsonText(e,"localStorage for "+t)),n},l.initPreferenceScope=function(a,s,e){angular.forEach(e,function(i,r){a[r]=i.value;var e=i.converter,o=i.formatter;if(o||(o=function(e){return e}),e||(e=function(e){return e}),r in s){var t=e(s[r]);l.log.debug("from local storage, setting ",r," to ",t),a[r]=t}else t=i.value,l.log.debug("from default, setting ",r," to ",t),s[r]=t;var n=i.override;n||(n=function(e,t){if(e!==t){angular.isFunction(i.pre)&&i.pre(e);var n=o(e);l.log.debug("to local storage, setting ",r," to ",n),s[r]=n,angular.isFunction(i.post)&&i.post(e)}}),i.compareAsObject?a.$watch(r,n,!0):a.$watch(r,n)})},l.isValidFunction=function(e,t,n){return!t||t(e,n)}}(Core||(Core={})),function(e){Logger.get("SelectionHelpers");function n(e){e.forEach(function(e){e.selected=!1})}function t(e,t){e.forEach(function(e){t?t(e)&&(e.selected=!0):e.selected=!0})}function i(e){e.selected=!e.selected}function r(e,t){n(e),i(t)}function o(e,t,n){n.ctrlKey?i(t):t.selected?i(t):r(e,t)}function a(e){e.length=0}function s(e,t,n){var i=n||_.matches(t);_.some(e,i)?_.remove(e,i):e.push(t)}function l(e,t){return angular.isDefined(e)?e:t}function c(e){return l(e,!1)}function u(e){return l(e,!0)}function d(e,t,n){return e?u(t):c(n)}function h(e,t,n,i,r){if(!e)return c(i);var o=r||_.matches(t);return d(_.some(e,o),n,i)}function p(e,t,n,i,r){if(0===e.length)return u(n);var o=r||t;return angular.isArray(t)?d(_.intersection(e,t).length===e.length,n,i):d(e.any(o),n,i)}e.selectNone=n,e.selectAll=t,e.toggleSelection=i,e.selectOne=r,e.sync=function(e,t,n){return t.forEach(function(t){t.selected=_.some(e,function(e){return e[n]===t[n]})}),_.filter(t,function(e){return e.selected})},e.select=o,e.isSelected=function(e,t,n){return d(e.selected,t,n)},e.clearGroup=a,e.toggleSelectionFromGroup=s,e.isInGroup=h,e.filterByGroup=p,e.syncGroupSelection=function(e,n,i){var r=[];i?e.forEach(function(t){var e=_.find(n,function(e){return t[i]===e[i]});e&&r.push(e)}):e.forEach(function(t){var e=_.find(n,function(e){return _.isEqual(t,e)});e&&r.push(e)}),a(e),e.push.apply(e,r)},e.decorate=function(e){e.selectNone=n,e.selectAll=t,e.toggleSelection=i,e.selectOne=r,e.select=o,e.clearGroup=a,e.toggleSelectionFromGroup=s,e.isInGroup=h,e.viewOnly=!1,e.filterByGroup=p}}(SelectionHelpers||(SelectionHelpers={})),(StorageHelpers||(StorageHelpers={})).bindModelToLocalStorage=function(n){var i=(n.$scope.name+":"||"::")+n.modelName,r=n.to||Core.doNothing,t=n.from||Core.doNothing,e=function(e){return null==e&&(e=n.localStorage[i]),t(e)},o=e(void 0);ControllerHelpers.bindModelToSearchParam(n.$scope,n.$location,n.modelName,n.paramName,o||n.initialValue,function(e){angular.isFunction(n.onChange)&&n.onChange(e);var t=r(e);return n.localStorage[i]=t},e)},function(o){var t=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:/i;o.isDate=function(e){return!!angular.isString(e)&&t.test(e)},o.obfusicate=function(e){return angular.isString(e)?e.split("").map(function(e){return"*"}).join(""):null},o.toString=function i(e){if(!e)return"{ null }";var r=[];return angular.forEach(e,function(e,t){var n=e;"password"===(""+t).toLowerCase()?n=o.obfusicate(e):angular.isObject(n)&&(n=i(n)),r.push(t+": "+n)}),"{ "+r.join(", ")+" }"}}(StringHelpers||(StringHelpers={}));var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),Core,UI,UrlHelpers;!function(e){var r=Logger.get("hawtio-tasks"),t=function(){function e(){this.tasks={},this.tasksExecuted=!1,this._onComplete=null}return e.prototype.addTask=function(e,t){this.tasks[e]=t,this.tasksExecuted&&this.executeTask(e,t)},e.prototype.executeTask=function(t,e){if(angular.isFunction(e)){r.debug("Executing task : ",t);try{e()}catch(e){r.debug("Failed to execute task: ",t," error: ",e)}}},e.prototype.onComplete=function(e){this._onComplete=e},e.prototype.execute=function(){var n=this;this.tasksExecuted||(angular.forEach(this.tasks,function(e,t){n.executeTask(t,e)}),this.tasksExecuted=!0,angular.isFunction(this._onComplete)&&this._onComplete())},e.prototype.reset=function(){this.tasksExecuted=!1},e}(),n=function(t){function e(){var e=t.call(this)||this;return e.tasks={},e.onComplete(function(){e.reset()}),e}return __extends(e,t),e.prototype.addTask=function(e,t){this.tasks[e]=t},e.prototype.execute=function(){for(var n=this,e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!this.tasksExecuted){var i=e;_.keys(this.tasks).forEach(function(t){var e=n.tasks[t];if(angular.isFunction(e)){r.debug("Executing task: ",t," with parameters: ",i);try{e.apply(e,i)}catch(e){r.debug("Failed to execute task: ",t," error: ",e)}}}),this.tasksExecuted=!0,angular.isFunction(this._onComplete)&&this._onComplete()}},e}(e.TasksImpl=t);e.ParameterizedTasksImpl=n,e.postLoginTasks=new e.TasksImpl,e.preLogoutTasks=new e.TasksImpl,e.postLogoutTasks=new e.TasksImpl}(Core||(Core={})),function(t){t.scrollBarWidth=null,t.findParentWith=function e(t,n){return n in t?t:t.$parent?e(t.$parent,n):null},t.getIfSet=function(e,t,n){if(e in t){var i=t[e];if(!Core.isBlank(i))return i}return n},t.observe=function(t,e,n,i,r){void 0===r&&(r=null),e.$observe(n,function(e){angular.isDefined(e)?t[n]=e:t[n]=i,angular.isDefined(r)&&r&&r(t[n])})},t.getScrollbarWidth=function(){if(!angular.isDefined(t.scrollBarWidth)){var e=document.createElement("div");e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,document.body.appendChild(e),t.scrollBarWidth=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return t.scrollBarWidth}}(UI||(UI={})),function(e){var i=Logger.get("UrlHelpers");function r(e){return e&&_.startsWith(e,"#")?e.substring(1):e}function o(e){return-1!==e.indexOf("?")?e.split("?")[0]:e}function a(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[],i=e.length-1;return e.forEach(function(e,t){Core.isBlank(e)||("/"!==e?(0!==t&&e.match(/^\//)&&(e=e.slice(1)),t!==i&&e.match(/\/$/)&&(e=e.slice(0,e.length-1)),Core.isBlank(e)||n.push(e)):n.push(""))}),n.join("/")}e.noHash=r,e.extractPath=o,e.contextActive=function(e,t){var n=o(e);return _.endsWith(t,"/")&&_.startsWith(t,"/")?-1<n.indexOf(t):_.startsWith(t,"/")?_.startsWith(r(n),t):_.endsWith(n,t)},e.join=a,e.parseQueryString=function(e){var t=new URI(e);return URI.parseQuery(t.query())},e.maybeProxy=function(e,t){if(e&&_.startsWith(e,"proxy/"))return i.debug("Jolokia URL is proxied, applying proxy to: ",t),a("proxy",t);var n=window.location.origin;return t&&_.startsWith(t,"http")&&!_.startsWith(t,n)?(i.debug("Url doesn't match page origin: ",n," applying proxy to: ",t),a("proxy",t)):(i.debug("No need to proxy: ",t),t)},e.escapeColons=function(e){return _.startsWith(e,"proxy")?e.replace(/:/g,"\\:"):e.replace(/:([^\/])/,"\\:$1")}}(UrlHelpers||(UrlHelpers={})),function(e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else{if("function"==typeof define&&define.amd)return define([],e);(this||window).CodeMirror=e()}}(function(){"use strict";var e=navigator.userAgent,t=navigator.platform,g=/gecko\/\d/i.test(e),n=/MSIE \d/.test(e),i=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),w=n||i,x=w&&(n?document.documentMode||6:i[1]),m=/WebKit\//.test(e),r=m&&/Qt\/\d+\.\d+/.test(e),o=/Chrome\//.test(e),v=/Opera\//.test(e),l=/Apple Computer/.test(navigator.vendor),a=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),c=/PhantomJS/.test(e),s=/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),u=s||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),y=s||/Mac/.test(t),h=/\bCrOS\b/.test(e),d=/win/i.test(t),p=v&&e.match(/Version\/(\d*\.\d*)/);p&&(p=Number(p[1])),p&&15<=p&&(m=!(v=!1));var f=y&&(r||v&&(null==p||p<12.11)),b=g||w&&9<=x,C=!1,S=!1;function k(e,t){if(!(this instanceof k))return new k(e,t);this.options=t=t?wo(t):{},wo(Zn,t,!1),L(t);var n=t.value;"string"==typeof n&&(n=new gr(n,t.mode,null,t.lineSeparator)),this.doc=n;var i=new k.inputStyles[t.inputStyle](this),r=this.display=new _(e,n,i);$(r.wrapper.CodeMirror=this),I(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),t.autofocus&&!u&&r.input.focus(),q(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new lo,keySeq:null,specialChars:null};var o=this;for(var a in w&&x<11&&setTimeout(function(){o.display.input.reset(!0)},20),function(r){var o=r.display;zr(o.scroller,"mousedown",Xt(r,un)),zr(o.scroller,"dblclick",w&&x<11?Xt(r,function(e){if(!Zr(r,e)){var t=cn(r,e);if(t&&!hn(r,e)&&!ln(r.display,e)){Fr(e);var n=r.findWordAt(t);He(r.doc,n.anchor,n.head)}}}):function(e){Zr(r,e)||Fr(e)});b||zr(o.scroller,"contextmenu",function(e){$n(r,e)});var n,i={end:0};function a(){o.activeTouch&&(n=setTimeout(function(){o.activeTouch=null},1e3),(i=o.activeTouch).end=+new Date)}function s(e,t){if(null==t.left)return!0;var n=t.left-e.left,i=t.top-e.top;return 400<n*n+i*i}zr(o.scroller,"touchstart",function(e){if(!Zr(r,e)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(e)){clearTimeout(n);var t=+new Date;o.activeTouch={start:t,moved:!1,prev:t-i.end<=300?i:null},1==e.touches.length&&(o.activeTouch.left=e.touches[0].pageX,o.activeTouch.top=e.touches[0].pageY)}}),zr(o.scroller,"touchmove",function(){o.activeTouch&&(o.activeTouch.moved=!0)}),zr(o.scroller,"touchend",function(e){var t=o.activeTouch;if(t&&!ln(o,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var n,i=r.coordsChar(o.activeTouch,"page");n=!t.prev||s(t,t.prev)?new Me(i,i):!t.prev.prev||s(t,t.prev.prev)?r.findWordAt(i):new Me(pe(i.line,0),je(r.doc,pe(i.line+1,0))),r.setSelection(n.anchor,n.head),r.focus(),Fr(e)}a()}),zr(o.scroller,"touchcancel",a),zr(o.scroller,"scroll",function(){o.scroller.clientHeight&&(mn(r,o.scroller.scrollTop),vn(r,o.scroller.scrollLeft,!0),Xr(r,"scroll",r))}),zr(o.scroller,"mousewheel",function(e){xn(r,e)}),zr(o.scroller,"DOMMouseScroll",function(e){xn(r,e)}),zr(o.wrapper,"scroll",function(){o.wrapper.scrollTop=o.wrapper.scrollLeft=0}),o.dragFunctions={enter:function(e){Zr(r,e)||Br(e)},over:function(e){Zr(r,e)||(!function(e,t){var n=cn(e,t);if(!n)return;var i=document.createDocumentFragment();nt(e,n,i),e.display.dragCursor||(e.display.dragCursor=Eo("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv));Po(e.display.dragCursor,i)}(r,e),Br(e))},start:function(e){!function(e,t){if(w&&(!e.state.draggingText||+new Date-pn<100))return Br(t);if(Zr(e,t)||ln(e.display,t))return;if(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!l){var n=Eo("img",null,null,"position: fixed; left: 0; top: 0;");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",v&&(n.width=n.height=1,e.display.wrapper.appendChild(n),n._top=n.offsetTop),t.dataTransfer.setDragImage(n,0,0),v&&n.parentNode.removeChild(n)}}(r,e)},drop:Xt(r,fn),leave:function(e){Zr(r,e)||gn(r)}};var e=o.input.getField();zr(e,"keyup",function(e){An.call(r,e)}),zr(e,"keydown",Xt(r,Dn)),zr(e,"keypress",Xt(r,En)),zr(e,"focus",function(e){In(r,e)}),zr(e,"blur",function(e){Pn(r,e)})}(this),function(){if(Fo)return;zr(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,Ro(sn)},100))}),zr(window,"blur",function(){Ro(Pn)}),Fo=!0;var e}(),Bt(this),this.curOp.forceUpdate=!0,br(this,n),t.autofocus&&!u||o.hasFocus()?setTimeout(xo(In,this),20):Pn(this),ei)ei.hasOwnProperty(a)&&ei[a](this,t[a],ni);z(this),t.finishInit&&t.finishInit(this);for(var s=0;s<ai.length;++s)ai[s](this);Vt(this),m&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(r.lineDiv).textRendering&&(r.lineDiv.style.textRendering="auto")}function _(e,t,n){var i=this;this.input=n,i.scrollbarFiller=Eo("div",null,"CodeMirror-scrollbar-filler"),i.scrollbarFiller.setAttribute("cm-not-content","true"),i.gutterFiller=Eo("div",null,"CodeMirror-gutter-filler"),i.gutterFiller.setAttribute("cm-not-content","true"),i.lineDiv=Eo("div",null,"CodeMirror-code"),i.selectionDiv=Eo("div",null,null,"position: relative; z-index: 1"),i.cursorDiv=Eo("div",null,"CodeMirror-cursors"),i.measure=Eo("div",null,"CodeMirror-measure"),i.lineMeasure=Eo("div",null,"CodeMirror-measure"),i.lineSpace=Eo("div",[i.measure,i.lineMeasure,i.selectionDiv,i.cursorDiv,i.lineDiv],null,"position: relative; outline: none"),i.mover=Eo("div",[Eo("div",[i.lineSpace],"CodeMirror-lines")],null,"position: relative"),i.sizer=Eo("div",[i.mover],"CodeMirror-sizer"),i.sizerWidth=null,i.heightForcer=Eo("div",null,null,"position: absolute; height: "+io+"px; width: 1px;"),i.gutters=Eo("div",null,"CodeMirror-gutters"),i.lineGutter=null,i.scroller=Eo("div",[i.sizer,i.heightForcer,i.gutters],"CodeMirror-scroll"),i.scroller.setAttribute("tabIndex","-1"),i.wrapper=Eo("div",[i.scrollbarFiller,i.gutterFiller,i.scroller],"CodeMirror"),w&&x<8&&(i.gutters.style.zIndex=-1,i.scroller.style.paddingRight=0),m||g&&u||(i.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(i.wrapper):e(i.wrapper)),i.viewFrom=i.viewTo=t.first,i.reportedViewFrom=i.reportedViewTo=t.first,i.view=[],i.renderedView=null,i.externalMeasured=null,i.viewOffset=0,i.lastWrapHeight=i.lastWrapWidth=0,i.updateLineNumbers=null,i.nativeBarWidth=i.barHeight=i.barWidth=0,i.scrollbarsClipped=!1,i.lineNumWidth=i.lineNumInnerWidth=i.lineNumChars=null,i.alignWidgets=!1,i.cachedCharWidth=i.cachedTextHeight=i.cachedPaddingH=null,i.maxLine=null,i.maxLineLength=0,i.maxLineChanged=!1,i.wheelDX=i.wheelDY=i.wheelStartX=i.wheelStartY=null,i.shift=!1,i.selForContextMenu=null,i.activeTouch=null,n.init(i)}function T(e){e.doc.mode=k.getMode(e.options,e.doc.modeOption),D(e)}function D(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.frontier=e.doc.first,ot(e,100),e.state.modeGen++,e.curOp&&en(e)}function A(i){var r=Lt(i.display),o=i.options.lineWrapping,a=o&&Math.max(5,i.display.scroller.clientWidth/jt(i.display)-3);return function(e){if(Bi(i.doc,e))return 0;var t=0;if(e.widgets)for(var n=0;n<e.widgets.length;n++)e.widgets[n].height&&(t+=e.widgets[n].height);return o?t+(Math.ceil(e.text.length/a)||1)*r:t+r}}function E(e){var t=e.doc,n=A(e);t.iter(function(e){var t=n(e);t!=e.height&&Sr(e,t)})}function I(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),_t(e)}function P(e){$(e),en(e),setTimeout(function(){U(e)},20)}function $(e){var t=e.display.gutters,n=e.options.gutters;Io(t);for(var i=0;i<n.length;++i){var r=n[i],o=t.appendChild(Eo("div",null,"CodeMirror-gutter "+r));"CodeMirror-linenumbers"==r&&((e.display.lineGutter=o).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=i?"":"none",M(e)}function M(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function O(e){if(0==e.height)return 0;for(var t,n=e.text.length,i=e;t=Li(i);){i=(r=t.find(0,!0)).from.line,n+=r.from.ch-r.to.ch}for(i=e;t=ji(i);){var r=t.find(0,!0);n-=i.text.length-r.from.ch,n+=(i=r.to.line).text.length-r.to.ch}return n}function N(e){var n=e.display,t=e.doc;n.maxLine=wr(t,t.first),n.maxLineLength=O(n.maxLine),n.maxLineChanged=!0,t.iter(function(e){var t=O(e);t>n.maxLineLength&&(n.maxLineLength=t,n.maxLine=e)})}function L(e){var t=mo(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function j(e){var t=e.display,n=t.gutters.offsetWidth,i=Math.round(e.doc.height+ct(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?n:0,docHeight:i,scrollHeight:i+dt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:n}}function R(e,t,n){this.cm=n;var i=this.vert=Eo("div",[Eo("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),r=this.horiz=Eo("div",[Eo("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");e(i),e(r),zr(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),zr(r,"scroll",function(){r.clientWidth&&t(r.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,w&&x<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function F(){}function q(n){n.display.scrollbars&&(n.display.scrollbars.clear(),n.display.scrollbars.addClass&&No(n.display.wrapper,n.display.scrollbars.addClass)),n.display.scrollbars=new k.scrollbarModel[n.options.scrollbarStyle](function(e){n.display.wrapper.insertBefore(e,n.display.scrollbarFiller),zr(e,"mousedown",function(){n.state.focused&&setTimeout(function(){n.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){"horizontal"==t?vn(n,e):mn(n,e)},n),n.display.scrollbars.addClass&&Lo(n.display.wrapper,n.display.scrollbars.addClass)}function H(e,t){t||(t=j(e));var n=e.display.barWidth,i=e.display.barHeight;B(e,t);for(var r=0;r<4&&n!=e.display.barWidth||i!=e.display.barHeight;r++)n!=e.display.barWidth&&e.options.lineWrapping&&Z(e),B(e,j(e)),n=e.display.barWidth,i=e.display.barHeight}function B(e,t){var n=e.display,i=n.scrollbars.update(t);n.sizer.style.paddingRight=(n.barWidth=i.right)+"px",n.sizer.style.paddingBottom=(n.barHeight=i.bottom)+"px",n.heightForcer.style.borderBottom=i.bottom+"px solid transparent",i.right&&i.bottom?(n.scrollbarFiller.style.display="block",n.scrollbarFiller.style.height=i.bottom+"px",n.scrollbarFiller.style.width=i.right+"px"):n.scrollbarFiller.style.display="",i.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(n.gutterFiller.style.display="block",n.gutterFiller.style.height=i.bottom+"px",n.gutterFiller.style.width=t.gutterWidth+"px"):n.gutterFiller.style.display=""}function V(e,t,n){var i=n&&null!=n.top?Math.max(0,n.top):e.scroller.scrollTop;i=Math.floor(i-lt(e));var r=n&&null!=n.bottom?n.bottom:i+e.wrapper.clientHeight,o=_r(t,i),a=_r(t,r);if(n&&n.ensure){var s=n.ensure.from.line,l=n.ensure.to.line;s<o?a=_r(t,Tr(wr(t,o=s))+e.wrapper.clientHeight):Math.min(l,t.lastLine())>=a&&(o=_r(t,Tr(wr(t,l))-e.wrapper.clientHeight),a=l)}return{from:o,to:Math.max(a,o+1)}}function U(e){var t=e.display,n=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var i=G(t)-t.scroller.scrollLeft+e.doc.scrollLeft,r=t.gutters.offsetWidth,o=i+"px",a=0;a<n.length;a++)if(!n[a].hidden){e.options.fixedGutter&&(n[a].gutter&&(n[a].gutter.style.left=o),n[a].gutterBackground&&(n[a].gutterBackground.style.left=o));var s=n[a].alignable;if(s)for(var l=0;l<s.length;l++)s[l].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=i+r+"px")}}function z(e){if(!e.options.lineNumbers)return!1;var t=e.doc,n=W(e.options,t.first+t.size-1),i=e.display;if(n.length==i.lineNumChars)return!1;var r=i.measure.appendChild(Eo("div",[Eo("div",n)],"CodeMirror-linenumber CodeMirror-gutter-elt")),o=r.firstChild.offsetWidth,a=r.offsetWidth-o;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(o,i.lineGutter.offsetWidth-a)+1,i.lineNumWidth=i.lineNumInnerWidth+a,i.lineNumChars=i.lineNumInnerWidth?n.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",M(e),!0}function W(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function G(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Y(e,t,n){var i=e.display;this.viewport=t,this.visible=V(i,e.doc,t),this.editorIsHidden=!i.wrapper.offsetWidth,this.wrapperHeight=i.wrapper.clientHeight,this.wrapperWidth=i.wrapper.clientWidth,this.oldDisplayWidth=ht(e),this.force=n,this.dims=te(e),this.events=[]}function X(e,t){var n=e.display,i=e.doc;if(t.editorIsHidden)return nn(e),!1;if(!t.force&&t.visible.from>=n.viewFrom&&t.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==an(e))return!1;z(e)&&(nn(e),t.dims=te(e));var r=i.first+i.size,o=Math.max(t.visible.from-e.options.viewportMargin,i.first),a=Math.min(r,t.visible.to+e.options.viewportMargin);n.viewFrom<o&&o-n.viewFrom<20&&(o=Math.max(i.first,n.viewFrom)),n.viewTo>a&&n.viewTo-a<20&&(a=Math.min(r,n.viewTo)),S&&(o=qi(e.doc,o),a=Hi(e.doc,a));var s=o!=n.viewFrom||a!=n.viewTo||n.lastWrapHeight!=t.wrapperHeight||n.lastWrapWidth!=t.wrapperWidth;!function(e,t,n){var i=e.display;0==i.view.length||t>=i.viewTo||n<=i.viewFrom?(i.view=Zt(e,t,n),i.viewFrom=t):(i.viewFrom>t?i.view=Zt(e,t,i.viewFrom).concat(i.view):i.viewFrom<t&&(i.view=i.view.slice(rn(e,t))),i.viewFrom=t,i.viewTo<n?i.view=i.view.concat(Zt(e,i.viewTo,n)):i.viewTo>n&&(i.view=i.view.slice(0,rn(e,n))));i.viewTo=n}(e,o,a),n.viewOffset=Tr(wr(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var l=an(e);if(!s&&0==l&&!t.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Mo();return 4<l&&(n.lineDiv.style.display="none"),function(n,e,t){var i=n.display,r=n.options.lineNumbers,o=i.lineDiv,a=o.firstChild;function s(e){var t=e.nextSibling;return m&&y&&n.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var l=i.view,c=i.viewFrom,u=0;u<l.length;u++){var d=l[u];if(d.hidden);else if(d.node&&d.node.parentNode==o){for(;a!=d.node;)a=s(a);var h=r&&null!=e&&e<=c&&d.lineNumber;d.changes&&(-1<mo(d.changes,"gutter")&&(h=!1),ne(n,d,c,t)),h&&(Io(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(W(n.options,c)))),a=d.node.nextSibling}else{var p=ce(n,d,c,t);o.insertBefore(p,a)}c+=d.size}for(;a;)a=s(a)}(e,n.updateLineNumbers,t.dims),4<l&&(n.lineDiv.style.display=""),n.renderedView=n.view,c&&Mo()!=c&&c.offsetHeight&&c.focus(),Io(n.cursorDiv),Io(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,s&&(n.lastWrapHeight=t.wrapperHeight,n.lastWrapWidth=t.wrapperWidth,ot(e,400)),!(n.updateLineNumbers=null)}function J(e,t){for(var n=t.viewport,i=!0;(i&&e.options.lineWrapping&&t.oldDisplayWidth!=ht(e)||(n&&null!=n.top&&(n={top:Math.min(e.doc.height+ct(e.display)-pt(e),n.top)}),t.visible=V(e.display,e.doc,n),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&X(e,t);i=!1){Z(e);var r=j(e);et(e),H(e,r),Q(e,r)}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function K(e,t){var n=new Y(e,t);if(X(e,n)){Z(e),J(e,n);var i=j(e);et(e),H(e,i),Q(e,i),n.finish()}}function Q(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+dt(e)+"px"}function Z(e){for(var t=e.display,n=t.lineDiv.offsetTop,i=0;i<t.view.length;i++){var r,o=t.view[i];if(!o.hidden){if(w&&x<8){var a=o.node.offsetTop+o.node.offsetHeight;r=a-n,n=a}else{var s=o.node.getBoundingClientRect();r=s.bottom-s.top}var l=o.line.height-r;if(r<2&&(r=Lt(t)),(.001<l||l<-.001)&&(Sr(o.line,r),ee(o.line),o.rest))for(var c=0;c<o.rest.length;c++)ee(o.rest[c])}}}function ee(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t)e.widgets[t].height=e.widgets[t].node.parentNode.offsetHeight}function te(e){for(var t=e.display,n={},i={},r=t.gutters.clientLeft,o=t.gutters.firstChild,a=0;o;o=o.nextSibling,++a)n[e.options.gutters[a]]=o.offsetLeft+o.clientLeft+r,i[e.options.gutters[a]]=o.clientWidth;return{fixedPos:G(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:n,gutterWidth:i,wrapperWidth:t.wrapper.clientWidth}}function ne(e,t,n,i){for(var r=0;r<t.changes.length;r++){var o=t.changes[r];"text"==o?oe(e,t):"gutter"==o?se(e,t,n,i):"class"==o?ae(t):"widget"==o&&le(e,t,i)}t.changes=null}function ie(e){return e.node==e.text&&(e.node=Eo("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),w&&x<8&&(e.node.style.zIndex=2)),e.node}function re(e,t){var n=e.display.externalMeasured;return n&&n.line==t.line?(e.display.externalMeasured=null,t.measure=n.measure,n.built):or(e,t)}function oe(e,t){var n=t.text.className,i=re(e,t);t.text==t.node&&(t.node=i.pre),t.text.parentNode.replaceChild(i.pre,t.text),t.text=i.pre,i.bgClass!=t.bgClass||i.textClass!=t.textClass?(t.bgClass=i.bgClass,t.textClass=i.textClass,ae(t)):n&&(t.text.className=n)}function ae(e){!function(e){var t=e.bgClass?e.bgClass+" "+(e.line.bgClass||""):e.line.bgClass;if(t&&(t+=" CodeMirror-linebackground"),e.background)t?e.background.className=t:(e.background.parentNode.removeChild(e.background),e.background=null);else if(t){var n=ie(e);e.background=n.insertBefore(Eo("div",null,t),n.firstChild)}}(e),e.line.wrapClass?ie(e).className=e.line.wrapClass:e.node!=e.text&&(e.node.className="");var t=e.textClass?e.textClass+" "+(e.line.textClass||""):e.line.textClass;e.text.className=t||""}function se(e,t,n,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var r=ie(t);t.gutterBackground=Eo("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),r.insertBefore(t.gutterBackground,t.text)}var o=t.line.gutterMarkers;if(e.options.lineNumbers||o){r=ie(t);var a=t.gutter=Eo("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),r.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||o&&o["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(Eo("div",W(e.options,n),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),o)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=o.hasOwnProperty(l)&&o[l];c&&a.appendChild(Eo("div",[c],"CodeMirror-gutter-elt","left: "+i.gutterLeft[l]+"px; width: "+i.gutterWidth[l]+"px"))}}}function le(e,t,n){t.alignable&&(t.alignable=null);for(var i=t.node.firstChild;i;i=r){var r=i.nextSibling;"CodeMirror-linewidget"==i.className&&t.node.removeChild(i)}ue(e,t,n)}function ce(e,t,n,i){var r=re(e,t);return t.text=t.node=r.pre,r.bgClass&&(t.bgClass=r.bgClass),r.textClass&&(t.textClass=r.textClass),ae(t),se(e,t,n,i),ue(e,t,i),t.node}function ue(e,t,n){if(de(e,t.line,t,n,!0),t.rest)for(var i=0;i<t.rest.length;i++)de(e,t.rest[i],t,n,!1)}function de(e,t,n,i,r){if(t.widgets)for(var o=ie(n),a=0,s=t.widgets;a<s.length;++a){var l=s[a],c=Eo("div",[l.node],"CodeMirror-linewidget");l.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),he(l,c,n,i),e.display.input.setUneditable(c),r&&l.above?o.insertBefore(c,n.gutter||n.text):o.appendChild(c),Kr(l,"redraw")}}function he(e,t,n,i){if(e.noHScroll){(n.alignable||(n.alignable=[])).push(t);var r=i.wrapperWidth;t.style.left=i.fixedPos+"px",e.coverGutter||(r-=i.gutterTotalWidth,t.style.paddingLeft=i.gutterTotalWidth+"px"),t.style.width=r+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-i.gutterTotalWidth+"px"))}R.prototype=wo({update:function(e){var t=e.scrollWidth>e.clientWidth+1,n=e.scrollHeight>e.clientHeight+1,i=e.nativeBarWidth;if(n){this.vert.style.display="block",this.vert.style.bottom=t?i+"px":"0";var r=e.viewHeight-(t?i:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+r)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=n?i+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(n?i:0);this.horiz.firstChild.style.width=e.scrollWidth-e.clientWidth+o+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==i&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:n?i:0,bottom:t?i:0}},setScrollLeft:function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var e=y&&!a?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new lo,this.disableVert=new lo},enableZeroWidthBar:function(n,i){n.style.pointerEvents="auto",i.set(1e3,function e(){var t=n.getBoundingClientRect();document.elementFromPoint(t.left+1,t.bottom-1)!=n?n.style.pointerEvents="none":i.set(1e3,e)})},clear:function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)}},R.prototype),F.prototype=wo({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},F.prototype),k.scrollbarModel={native:R,null:F},Y.prototype.signal=function(e,t){to(e,t)&&this.events.push(arguments)},Y.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Xr.apply(null,this.events[e])};var pe=k.Pos=function(e,t){if(!(this instanceof pe))return new pe(e,t);this.line=e,this.ch=t},fe=k.cmpPos=function(e,t){return e.line-t.line||e.ch-t.ch};function ge(e){return pe(e.line,e.ch)}function me(e,t){return fe(e,t)<0?t:e}function ve(e,t){return fe(e,t)<0?e:t}function ye(e){e.state.focused||(e.display.input.focus(),In(e))}var be=null;function we(e,t,n,i,r){var o=e.doc;e.display.shift=!1,i||(i=o.sel);var a=e.state.pasteIncoming||"paste"==r,s=o.splitLines(t),l=null;if(a&&1<i.ranges.length)if(be&&be.text.join("\n")==t){if(i.ranges.length%be.text.length==0){l=[];for(var c=0;c<be.text.length;c++)l.push(o.splitLines(be.text[c]))}}else s.length==i.ranges.length&&(l=vo(s,function(e){return[e]}));for(c=i.ranges.length-1;0<=c;c--){var u=i.ranges[c],d=u.from(),h=u.to();u.empty()&&(n&&0<n?d=pe(d.line,d.ch-n):e.state.overwrite&&!a?h=pe(h.line,Math.min(wr(o,h.line).text.length,h.ch+fo(s).length)):be&&be.lineWise&&be.text.join("\n")==t&&(d=h=pe(d.line,0)));var p=e.curOp.updateInput,f={from:d,to:h,text:l?l[c%l.length]:s,origin:r||(a?"paste":e.state.cutIncoming?"cut":"+input")};Rn(e.doc,f),Kr(e,"inputRead",e,f)}t&&!a&&Ce(e,t),Wn(e),e.curOp.updateInput=p,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function xe(e,t){var n=e.clipboardData&&e.clipboardData.getData("Text");if(n)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||Yt(t,function(){we(t,n,0,null,"paste")}),!0}function Ce(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var n=e.doc.sel,i=n.ranges.length-1;0<=i;i--){var r=n.ranges[i];if(!(100<r.head.ch||i&&n.ranges[i-1].head.line==r.head.line)){var o=e.getModeAt(r.head),a=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(-1<t.indexOf(o.electricChars.charAt(s))){a=Yn(e,r.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(wr(e.doc,r.head.line).text.slice(0,r.head.ch))&&(a=Yn(e,r.head.line,"smart"));a&&Kr(e,"electricInput",e,r.head.line)}}}function Se(e){for(var t=[],n=[],i=0;i<e.doc.sel.ranges.length;i++){var r=e.doc.sel.ranges[i].head.line,o={anchor:pe(r,0),head:pe(r+1,0)};n.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:n}}function ke(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function _e(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new lo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function Te(){var e=Eo("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=Eo("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return m?e.style.width="1000px":e.setAttribute("wrap","off"),s&&(e.style.border="1px solid black"),ke(e),t}function De(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new lo,this.gracePeriod=!1}function Ae(e,t){var n=mt(e,t.line);if(!n||n.hidden)return null;var i=wr(e.doc,t.line),r=ft(n,i,t.line),o=Dr(i),a="left";o&&(a=ra(o,t.ch)%2?"right":"left");var s=xt(r.map,t.ch,a);return s.offset="right"==s.collapse?s.end:s.start,s}function Ee(e,t){return t&&(e.bad=!0),e}function Ie(e,t,n){var i;if(t==e.display.lineDiv){if(!(i=e.display.lineDiv.childNodes[n]))return Ee(e.clipPos(pe(e.display.viewTo-1)),!0);t=null,n=0}else for(i=t;;i=i.parentNode){if(!i||i==e.display.lineDiv)return null;if(i.parentNode&&i.parentNode==e.display.lineDiv)break}for(var r=0;r<e.display.view.length;r++){var o=e.display.view[r];if(o.node==i)return Pe(o,t,n)}}function Pe(c,e,t){var n=c.text.firstChild,i=!1;if(!e||!$o(n,e))return Ee(pe(kr(c.line),0),!0);if(e==n&&(i=!0,e=n.childNodes[t],t=0,!e)){var r=c.rest?fo(c.rest):c.line;return Ee(pe(kr(r),r.text.length),i)}var o=3==e.nodeType?e:null,a=e;for(o||1!=e.childNodes.length||3!=e.firstChild.nodeType||(o=e.firstChild,t&&(t=o.nodeValue.length));a.parentNode!=n;)a=a.parentNode;var u=c.measure,d=u.maps;function s(e,t,n){for(var i=-1;i<(d?d.length:0);i++)for(var r=i<0?u.map:d[i],o=0;o<r.length;o+=3){var a=r[o+2];if(a==e||a==t){var s=kr(i<0?c.line:c.rest[i]),l=r[o]+n;return(n<0||a!=e)&&(l=r[o+(n?1:0)]),pe(s,l)}}}var l=s(o,a,t);if(l)return Ee(l,i);for(var h=a.nextSibling,p=o?o.nodeValue.length-t:0;h;h=h.nextSibling){if(l=s(h,h.firstChild,0))return Ee(pe(l.line,l.ch-p),i);p+=h.textContent.length}var f=a.previousSibling;for(p=t;f;f=f.previousSibling){if(l=s(f,f.firstChild,-1))return Ee(pe(l.line,l.ch+p),i);p+=f.textContent.length}}function $e(e,t){this.ranges=e,this.primIndex=t}function Me(e,t){this.anchor=e,this.head=t}function Oe(e,t){var n=e[t];e.sort(function(e,t){return fe(e.from(),t.from())}),t=mo(e,n);for(var i=1;i<e.length;i++){var r=e[i],o=e[i-1];if(0<=fe(o.to(),r.from())){var a=ve(o.from(),r.from()),s=me(o.to(),r.to()),l=o.empty()?r.from()==r.head:o.from()==o.head;i<=t&&--t,e.splice(--i,2,new Me(l?s:a,l?a:s))}}return new $e(e,t)}function Ne(e,t){return new $e([new Me(e,t||e)],0)}function Le(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function je(e,t){if(t.line<e.first)return pe(e.first,0);var n,i,r,o=e.first+e.size-1;return t.line>o?pe(o,wr(e,o).text.length):(i=wr(e,(n=t).line).text.length,null==(r=n.ch)||i<r?pe(n.line,i):r<0?pe(n.line,0):n)}function Re(e,t){return t>=e.first&&t<e.first+e.size}function Fe(e,t){for(var n=[],i=0;i<t.length;i++)n[i]=je(e,t[i]);return n}function qe(e,t,n,i){if(e.cm&&e.cm.display.shift||e.extend){var r=t.anchor;if(i){var o=fe(n,r)<0;o!=fe(i,r)<0?(r=n,n=i):o!=fe(n,i)<0&&(n=i)}return new Me(r,n)}return new Me(i||n,n)}function He(e,t,n,i){We(e,new $e([qe(e,e.sel.primary(),t,n)],0),i)}function Be(e,t,n){for(var i=[],r=0;r<e.sel.ranges.length;r++)i[r]=qe(e,e.sel.ranges[r],t[r],null);We(e,Oe(i,e.sel.primIndex),n)}function Ve(e,t,n,i){var r=e.sel.ranges.slice(0);r[t]=n,We(e,Oe(r,e.sel.primIndex),i)}function Ue(e,t,n,i){We(e,Ne(t,n),i)}function ze(e,t,n){var i=e.history.done,r=fo(i);r&&r.ranges?Ge(e,i[i.length-1]=t,n):We(e,t,n)}function We(e,t,n){Ge(e,t,n),function(e,t,n,i){var r=e.history,o=i&&i.origin;n==r.lastSelOp||o&&r.lastSelOrigin==o&&(r.lastModTime==r.lastSelTime&&r.lastOrigin==o||(a=e,s=o,l=fo(r.done),c=t,u=s.charAt(0),"*"==u||"+"==u&&l.ranges.length==c.ranges.length&&l.somethingSelected()==c.somethingSelected()&&new Date-a.history.lastSelTime<=(a.cm?a.cm.options.historyEventDelay:500)))?r.done[r.done.length-1]=t:$r(t,r.done);var a,s,l,c,u;r.lastSelTime=+new Date,r.lastSelOrigin=o,r.lastSelOp=n,i&&!1!==i.clearRedo&&Ir(r.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,n)}function Ge(e,t,n){var i,r,o,a;(to(e,"beforeSelectionChange")||e.cm&&to(e.cm,"beforeSelectionChange"))&&(i=e,o=n,a={ranges:(r=t).ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new Me(je(i,e[t].anchor),je(i,e[t].head))},origin:o&&o.origin},Xr(i,"beforeSelectionChange",i,a),i.cm&&Xr(i.cm,"beforeSelectionChange",i.cm,a),t=a.ranges!=r.ranges?Oe(a.ranges,a.ranges.length-1):r),Ye(e,Je(e,t,n&&n.bias||(fe(t.primary().head,e.sel.primary().head)<0?-1:1),!0)),n&&!1===n.scroll||!e.cm||Wn(e.cm)}function Ye(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,eo(e.cm)),Kr(e,"cursorActivity",e))}function Xe(e){Ye(e,Je(e,e.sel,null,!1))}function Je(e,t,n,i){for(var r,o=0;o<t.ranges.length;o++){var a=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],l=Qe(e,a.anchor,s&&s.anchor,n,i),c=Qe(e,a.head,s&&s.head,n,i);(r||l!=a.anchor||c!=a.head)&&(r||(r=t.ranges.slice(0,o)),r[o]=new Me(l,c))}return r?Oe(r,t.primIndex):t}function Ke(e,t,n,i,r){var o=wr(e,t.line);if(o.markedSpans)for(var a=0;a<o.markedSpans.length;++a){var s=o.markedSpans[a],l=s.marker;if((null==s.from||(l.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(l.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(r&&(Xr(l,"beforeCursorEnter"),l.explicitlyCleared)){if(o.markedSpans){--a;continue}break}if(!l.atomic)continue;if(n){var c,u=l.find(i<0?1:-1);if((i<0?l.inclusiveRight:l.inclusiveLeft)&&(u=Ze(e,u,-i,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=fe(u,n))&&(i<0?c<0:0<c))return Ke(e,u,t,i,r)}var d=l.find(i<0?-1:1);return(i<0?l.inclusiveLeft:l.inclusiveRight)&&(d=Ze(e,d,i,d.line==t.line?o:null)),d?Ke(e,d,t,i,r):null}}return t}function Qe(e,t,n,i,r){var o=i||1,a=Ke(e,t,n,o,r)||!r&&Ke(e,t,n,o,!0)||Ke(e,t,n,-o,r)||!r&&Ke(e,t,n,-o,!0);return a||(e.cantEdit=!0,pe(e.first,0))}function Ze(e,t,n,i){return n<0&&0==t.ch?t.line>e.first?je(e,pe(t.line-1)):null:0<n&&t.ch==(i||wr(e,t.line)).text.length?t.line<e.first+e.size-1?pe(t.line+1,0):null:new pe(t.line,t.ch+n)}function et(e){e.display.input.showSelection(e.display.input.prepareSelection())}function tt(e,t){for(var n=e.doc,i={},r=i.cursors=document.createDocumentFragment(),o=i.selection=document.createDocumentFragment(),a=0;a<n.sel.ranges.length;a++)if(!1!==t||a!=n.sel.primIndex){var s=n.sel.ranges[a];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var l=s.empty();(l||e.options.showCursorWhenSelecting)&&nt(e,s.head,r),l||it(e,s,o)}}return i}function nt(e,t,n){var i=Pt(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),r=n.appendChild(Eo("div"," ","CodeMirror-cursor"));if(r.style.left=i.left+"px",r.style.top=i.top+"px",r.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var o=n.appendChild(Eo("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));o.style.display="",o.style.left=i.other.left+"px",o.style.top=i.other.top+"px",o.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function it(r,e,t){var n=r.display,o=r.doc,a=document.createDocumentFragment(),i=ut(r.display),f=i.left,g=Math.max(n.sizerWidth,ht(r)-n.sizer.offsetLeft)-i.right;function m(e,t,n,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(Eo("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px; top: "+t+"px; width: "+(null==n?g-e:n)+"px; height: "+(i-t)+"px"))}function s(n,l,c){var u,d,i=wr(o,n),h=i.text.length;function p(e,t){return It(r,pe(n,e),"div",i,t)}return function(e,t,n,i){if(!e)return i(t,n,"ltr");for(var r=!1,o=0;o<e.length;++o){var a=e[o];(a.from<n&&a.to>t||t==n&&a.to==t)&&(i(Math.max(a.from,t),Math.min(a.to,n),1==a.level?"rtl":"ltr"),r=!0)}r||i(t,n,"ltr")}(Dr(i),l||0,null==c?h:c,function(e,t,n){var i,r,o,a=p(e,"left");if(e==t)r=o=(i=a).left;else{if(i=p(t-1,"right"),"rtl"==n){var s=a;a=i,i=s}r=a.left,o=i.right}null==l&&0==e&&(r=f),3<i.top-a.top&&(m(r,a.top,null,a.bottom),r=f,a.bottom<i.top&&m(r,a.bottom,null,i.top)),null==c&&t==h&&(o=g),(!u||a.top<u.top||a.top==u.top&&a.left<u.left)&&(u=a),(!d||i.bottom>d.bottom||i.bottom==d.bottom&&i.right>d.right)&&(d=i),r<f+1&&(r=f),m(r,i.top,o-r,i.bottom)}),{start:u,end:d}}var l=e.from(),c=e.to();if(l.line==c.line)s(l.line,l.ch,c.ch);else{var u=wr(o,l.line),d=wr(o,c.line),h=Fi(u)==Fi(d),p=s(l.line,l.ch,h?u.text.length+1:null).end,v=s(c.line,h?0:null,c.ch).start;h&&(p.top<v.top-2?(m(p.right,p.top,null,p.bottom),m(f,v.top,v.left,v.bottom)):m(p.right,p.top,v.left-p.right,p.bottom)),p.bottom<v.top&&m(f,p.bottom,null,v.top)}t.appendChild(a)}function rt(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var n=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){t.cursorDiv.style.visibility=(n=!n)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function ot(e,t){e.doc.mode.startState&&e.doc.frontier<e.display.viewTo&&e.state.highlight.set(t,xo(at,e))}function at(l){var c=l.doc;if(c.frontier<c.first&&(c.frontier=c.first),!(c.frontier>=l.display.viewTo)){var u=+new Date+l.options.workTime,d=li(c.mode,st(l,c.frontier)),h=[];c.iter(c.frontier,Math.min(c.first+c.size,l.display.viewTo+500),function(e){if(c.frontier>=l.display.viewFrom){var t=e.styles,n=e.text.length>l.options.maxHighlightLength,i=Zi(l,e,n?li(c.mode,d):d,!0);e.styles=i.styles;var r=e.styleClasses,o=i.classes;o?e.styleClasses=o:r&&(e.styleClasses=null);for(var a=!t||t.length!=e.styles.length||r!=o&&(!r||!o||r.bgClass!=o.bgClass||r.textClass!=o.textClass),s=0;!a&&s<t.length;++s)a=t[s]!=e.styles[s];a&&h.push(c.frontier),e.stateAfter=n?d:li(c.mode,d)}else e.text.length<=l.options.maxHighlightLength&&tr(l,e.text,d),e.stateAfter=c.frontier%5==0?li(c.mode,d):null;if(++c.frontier,+new Date>u)return ot(l,l.options.workDelay),!0}),h.length&&Yt(l,function(){for(var e=0;e<h.length;e++)tn(l,h[e],"text")})}}function st(n,i,e){var r=n.doc,o=n.display;if(!r.mode.startState)return!0;var a=function(e,t,n){for(var i,r,o=e.doc,a=n?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;a<s;--s){if(s<=o.first)return o.first;var l=wr(o,s-1);if(l.stateAfter&&(!n||s<=o.frontier))return s;var c=co(l.text,null,e.options.tabSize);(null==r||c<i)&&(r=s-1,i=c)}return r}(n,i,e),s=a>r.first&&wr(r,a-1).stateAfter;return s=s?li(r.mode,s):ci(r.mode),r.iter(a,i,function(e){tr(n,e.text,s);var t=a==i-1||a%5==0||a>=o.viewFrom&&a<o.viewTo;e.stateAfter=t?li(r.mode,s):null,++a}),e&&(r.frontier=a),s}function lt(e){return e.lineSpace.offsetTop}function ct(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function ut(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=Po(e.measure,Eo("pre","x")),n=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,i={left:parseInt(n.paddingLeft),right:parseInt(n.paddingRight)};return isNaN(i.left)||isNaN(i.right)||(e.cachedPaddingH=i),i}function dt(e){return io-e.display.nativeBarWidth}function ht(e){return e.display.scroller.clientWidth-dt(e)-e.display.barWidth}function pt(e){return e.display.scroller.clientHeight-dt(e)-e.display.barHeight}function ft(e,t,n){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var i=0;i<e.rest.length;i++)if(e.rest[i]==t)return{map:e.measure.maps[i],cache:e.measure.caches[i]};for(i=0;i<e.rest.length;i++)if(kr(e.rest[i])>n)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function gt(e,t,n,i){return yt(e,vt(e,t),n,i)}function mt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[rn(e,t)];var n=e.display.externalMeasured;return n&&t>=n.lineN&&t<n.lineN+n.size?n:void 0}function vt(e,t){var n=kr(t),i=mt(e,n);i&&!i.text?i=null:i&&i.changes&&(ne(e,i,n,te(e)),e.curOp.forceUpdate=!0),i||(i=function(e,t){var n=kr(t=Fi(t)),i=e.display.externalMeasured=new Qt(e.doc,t,n);i.lineN=n;var r=i.built=or(e,i);return i.text=r.pre,Po(e.display.lineMeasure,r.pre),i}(e,t));var r=ft(i,t,n);return{line:t,view:i,rect:null,map:r.map,cache:r.cache,before:r.before,hasHeights:!1}}function yt(e,t,n,i,r){t.before&&(n=-1);var o,a=n+(i||"");return t.cache.hasOwnProperty(a)?o=t.cache[a]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(!function(e,t,n){var i=e.options.lineWrapping,r=i&&ht(e);if(!t.measure.heights||i&&t.measure.width!=r){var o=t.measure.heights=[];if(i){t.measure.width=r;for(var a=t.text.firstChild.getClientRects(),s=0;s<a.length-1;s++){var l=a[s],c=a[s+1];2<Math.abs(l.bottom-c.bottom)&&o.push((l.bottom+c.top)/2-n.top)}}o.push(n.bottom-n.top)}}(e,t.view,t.rect),t.hasHeights=!0),(o=function(e,t,n,i){var r,o=xt(t.map,n,i),a=o.node,s=o.start,l=o.end,c=o.collapse;if(3==a.nodeType){for(var u=0;u<4;u++){for(;s&&Ao(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+l<o.coverEnd&&Ao(t.line.text.charAt(o.coverStart+l));)++l;if((r=w&&x<9&&0==s&&l==o.coverEnd-o.coverStart?a.parentNode.getBoundingClientRect():Ct(To(a,s,l).getClientRects(),i)).left||r.right||0==s)break;l=s,s-=1,c="right"}w&&x<11&&(r=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Xo)return Xo;var t=Po(e,Eo("span","x")),n=t.getBoundingClientRect(),i=To(t,0,1).getBoundingClientRect();return Xo=1<Math.abs(n.left-i.left)}(e))return t;var n=screen.logicalXDPI/screen.deviceXDPI,i=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*n,right:t.right*n,top:t.top*i,bottom:t.bottom*i}}(e.display.measure,r))}else{var d;0<s&&(c=i="right"),r=e.options.lineWrapping&&1<(d=a.getClientRects()).length?d["right"==i?d.length-1:0]:a.getBoundingClientRect()}if(w&&x<9&&!s&&(!r||!r.left&&!r.right)){var h=a.parentNode.getClientRects()[0];r=h?{left:h.left,right:h.left+jt(e.display),top:h.top,bottom:h.bottom}:wt}for(var p=r.top-t.rect.top,f=r.bottom-t.rect.top,g=(p+f)/2,m=t.view.measure.heights,u=0;u<m.length-1&&!(g<m[u]);u++);var v=u?m[u-1]:0,y=m[u],b={left:("right"==c?r.right:r.left)-t.rect.left,right:("left"==c?r.left:r.right)-t.rect.left,top:v,bottom:y};r.left||r.right||(b.bogus=!0);e.options.singleCursorHeightPerLine||(b.rtop=p,b.rbottom=f);return b}(e,t,n,i)).bogus||(t.cache[a]=o)),{left:o.left,right:o.right,top:r?o.rtop:o.top,bottom:r?o.rbottom:o.bottom}}_e.prototype=wo({init:function(t){var n=this,i=this.cm,e=this.wrapper=Te(),r=this.textarea=e.firstChild;function o(e){if(!Zr(i,e)){if(i.somethingSelected())be={lineWise:!1,text:i.getSelections()},n.inaccurateSelection&&(n.prevInput="",n.inaccurateSelection=!1,r.value=be.text.join("\n"),go(r));else{if(!i.options.lineWiseCopyCut)return;var t=Se(i);be={lineWise:!0,text:t.text},"cut"==e.type?i.setSelections(t.ranges,null,oo):(n.prevInput="",r.value=t.text.join("\n"),go(r))}"cut"==e.type&&(i.state.cutIncoming=!0)}}t.wrapper.insertBefore(e,t.wrapper.firstChild),s&&(r.style.width="0px"),zr(r,"input",function(){w&&9<=x&&n.hasSelection&&(n.hasSelection=null),n.poll()}),zr(r,"paste",function(e){Zr(i,e)||xe(e,i)||(i.state.pasteIncoming=!0,n.fastPoll())}),zr(r,"cut",o),zr(r,"copy",o),zr(t.scroller,"paste",function(e){ln(t,e)||Zr(i,e)||(i.state.pasteIncoming=!0,n.focus())}),zr(t.lineSpace,"selectstart",function(e){ln(t,e)||Fr(e)}),zr(r,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),zr(r,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},prepareSelection:function(){var e=this.cm,t=e.display,n=e.doc,i=tt(e);if(e.options.moveInputWithCursor){var r=Pt(e,n.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),a=t.lineDiv.getBoundingClientRect();i.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,r.top+a.top-o.top)),i.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,r.left+a.left-o.left))}return i},showSelection:function(e){var t=this.cm.display;Po(t.cursorDiv,e.cursors),Po(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},reset:function(e){if(!this.contextMenuPending){var t,n,i=this.cm,r=i.doc;if(i.somethingSelected()){this.prevInput="";var o=r.sel.primary(),a=(t=Yo&&(100<o.to().line-o.from().line||1e3<(n=i.getSelection()).length))?"-":n||i.getSelection();this.textarea.value=a,i.state.focused&&go(this.textarea),w&&9<=x&&(this.hasSelection=a)}else e||(this.prevInput=this.textarea.value="",w&&9<=x&&(this.hasSelection=null));this.inaccurateSelection=t}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if("nocursor"!=this.cm.options.readOnly&&(!u||Mo()!=this.textarea))try{this.textarea.focus()}catch(e){}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var e=this;e.pollingFast||e.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},fastPoll:function(){var t=!1,n=this;n.pollingFast=!0,n.polling.set(20,function e(){n.poll()||t?(n.pollingFast=!1,n.slowPoll()):(t=!0,n.polling.set(60,e))})},poll:function(){var e=this.cm,t=this.textarea,n=this.prevInput;if(this.contextMenuPending||!e.state.focused||Go(t)&&!n&&!this.composing||e.isReadOnly()||e.options.disableInput||e.state.keySeq)return!1;var i=t.value;if(i==n&&!e.somethingSelected())return!1;if(w&&9<=x&&this.hasSelection===i||y&&/[\uf700-\uf7ff]/.test(i))return e.display.input.reset(),!1;if(e.doc.sel==e.display.selForContextMenu){var r=i.charCodeAt(0);if(8203!=r||n||(n="​"),8666==r)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,i.length);o<a&&n.charCodeAt(o)==i.charCodeAt(o);)++o;var s=this;return Yt(e,function(){we(e,i.slice(o),n.length-o,null,s.composing?"*compose":null),1e3<i.length||-1<i.indexOf("\n")?t.value=s.prevInput="":s.prevInput=i,s.composing&&(s.composing.range.clear(),s.composing.range=e.markText(s.composing.start,e.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){w&&9<=x&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(e){var n=this,i=n.cm,r=i.display,o=n.textarea,t=cn(i,e),a=r.scroller.scrollTop;if(t&&!v){i.options.resetSelectionOnContextMenu&&-1==i.doc.sel.contains(t)&&Xt(i,We)(i.doc,Ne(t),oo);var s=o.style.cssText,l=n.wrapper.style.cssText;n.wrapper.style.cssText="position: absolute";var c=n.wrapper.getBoundingClientRect();if(o.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(e.clientY-c.top-5)+"px; left: "+(e.clientX-c.left-5)+"px; z-index: 1000; background: "+(w?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",m)var u=window.scrollY;if(r.input.focus(),m&&window.scrollTo(null,u),r.input.reset(),i.somethingSelected()||(o.value=n.prevInput=" "),n.contextMenuPending=!0,r.selForContextMenu=i.doc.sel,clearTimeout(r.detectingSelectAll),w&&9<=x&&h(),b){Br(e);var d=function(){Yr(window,"mouseup",d),setTimeout(p,20)};zr(window,"mouseup",d)}else setTimeout(p,50)}function h(){if(null!=o.selectionStart){var e=i.somethingSelected(),t="​"+(e?o.value:"");o.value="⇚",o.value=t,n.prevInput=e?"":"​",o.selectionStart=1,o.selectionEnd=t.length,r.selForContextMenu=i.doc.sel}}function p(){if(n.contextMenuPending=!1,n.wrapper.style.cssText=l,o.style.cssText=s,w&&x<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=a),null!=o.selectionStart){(!w||w&&x<9)&&h();var e=0,t=function(){r.selForContextMenu==i.doc.sel&&0==o.selectionStart&&0<o.selectionEnd&&"​"==n.prevInput?Xt(i,ui.selectAll)(i):e++<10?r.detectingSelectAll=setTimeout(t,500):r.input.reset()};r.detectingSelectAll=setTimeout(t,200)}}},readOnlyChanged:function(e){e||this.reset()},setUneditable:yo,needsContentAttribute:!1},_e.prototype),De.prototype=wo({init:function(e){var a=this,s=a.cm,l=a.div=e.lineDiv;function t(e){if(!Zr(s,e)){if(s.somethingSelected())be={lineWise:!1,text:s.getSelections()},"cut"==e.type&&s.replaceSelection("",null,"cut");else{if(!s.options.lineWiseCopyCut)return;var t=Se(s);be={lineWise:!0,text:t.text},"cut"==e.type&&s.operation(function(){s.setSelections(t.ranges,0,oo),s.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=be.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var i=Te(),r=i.firstChild;s.display.lineSpace.insertBefore(i,s.display.lineSpace.firstChild),r.value=be.text.join("\n");var o=document.activeElement;go(r),setTimeout(function(){s.display.lineSpace.removeChild(i),o.focus(),o==l&&a.showPrimarySelection()},50)}}ke(l,s.options.spellcheck),zr(l,"paste",function(e){Zr(s,e)||xe(e,s)||x<=11&&setTimeout(Xt(s,function(){a.pollContent()||en(s)}),20)}),zr(l,"compositionstart",function(e){var t=e.data;if(a.composing={sel:s.doc.sel,data:t,startData:t},t){var n=s.doc.sel.primary(),i=s.getLine(n.head.line).indexOf(t,Math.max(0,n.head.ch-t.length));-1<i&&i<=n.head.ch&&(a.composing.sel=Ne(pe(n.head.line,i),pe(n.head.line,i+t.length)))}}),zr(l,"compositionupdate",function(e){a.composing.data=e.data}),zr(l,"compositionend",function(e){var t=a.composing;t&&(e.data==t.startData||/\u200b/.test(e.data)||(t.data=e.data),setTimeout(function(){t.handled||a.applyComposition(t),a.composing==t&&(a.composing=null)},50))}),zr(l,"touchstart",function(){a.forceCompositionEnd()}),zr(l,"input",function(){a.composing||!s.isReadOnly()&&a.pollContent()||Yt(a.cm,function(){en(s)})}),zr(l,"copy",t),zr(l,"cut",t)},prepareSelection:function(){var e=tt(this.cm,!1);return e.focus=this.cm.state.focused,e},showSelection:function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},showPrimarySelection:function(){var e=window.getSelection(),t=this.cm.doc.sel.primary(),n=Ie(this.cm,e.anchorNode,e.anchorOffset),i=Ie(this.cm,e.focusNode,e.focusOffset);if(!n||n.bad||!i||i.bad||0!=fe(ve(n,i),t.from())||0!=fe(me(n,i),t.to())){var r=Ae(this.cm,t.from()),o=Ae(this.cm,t.to());if(r||o){var a=this.cm.display.view,s=e.rangeCount&&e.getRangeAt(0);if(r){if(!o){var l=a[a.length-1].measure,c=l.maps?l.maps[l.maps.length-1]:l.map;o={node:c[c.length-1],offset:c[c.length-2]-c[c.length-3]}}}else r={node:a[0].measure.map[2],offset:0};try{var u=To(r.node,r.offset,o.offset,o.node)}catch(e){}u&&(!g&&this.cm.state.focused?(e.collapse(r.node,r.offset),u.collapsed||e.addRange(u)):(e.removeAllRanges(),e.addRange(u)),s&&null==e.anchorNode?e.addRange(s):g&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){e.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(e){Po(this.cm.display.cursorDiv,e.cursors),Po(this.cm.display.selectionDiv,e.selection)},rememberSelection:function(){var e=window.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},selectionInEditor:function(){var e=window.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return $o(this.div,t)},focus:function(){"nocursor"!=this.cm.options.readOnly&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){var t=this;this.selectionInEditor()?this.pollSelection():Yt(this.cm,function(){t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},selectionChanged:function(){var e=window.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var e=window.getSelection(),t=this.cm;this.rememberSelection();var n=Ie(t,e.anchorNode,e.anchorOffset),i=Ie(t,e.focusNode,e.focusOffset);n&&i&&Yt(t,function(){We(t.doc,Ne(n,i),oo),(n.bad||i.bad)&&(t.curOp.selectionChanged=!0)})}},pollContent:function(){var e,t=this.cm,n=t.display,i=t.doc.sel.primary(),r=i.from(),o=i.to();if(r.line<n.viewFrom||o.line>n.viewTo-1)return!1;if(r.line==n.viewFrom||0==(e=rn(t,r.line)))var a=kr(n.view[0].line),s=n.view[0].node;else a=kr(n.view[e].line),s=n.view[e-1].node.nextSibling;var l=rn(t,o.line);if(l==n.view.length-1)var c=n.viewTo-1,u=n.lineDiv.lastChild;else c=kr(n.view[l+1].line)-1,u=n.view[l+1].node.previousSibling;for(var d=t.doc.splitLines(function(l,e,t,c,u){var d="",h=!1,p=l.doc.lineSeparator();function f(e){if(1==e.nodeType){var t=e.getAttribute("cm-text");if(null!=t)return""==t&&(t=e.textContent.replace(/\u200b/g,"")),void(d+=t);var n,i=e.getAttribute("cm-marker");if(i){var r=l.findMarks(pe(c,0),pe(u+1,0),(s=+i,function(e){return e.id==s}));return void(r.length&&(n=r[0].find())&&(d+=xr(l.doc,n.from,n.to).join(p)))}if("false"==e.getAttribute("contenteditable"))return;for(var o=0;o<e.childNodes.length;o++)f(e.childNodes[o]);/^(pre|div|p)$/i.test(e.nodeName)&&(h=!0)}else if(3==e.nodeType){var a=e.nodeValue;if(!a)return;h&&(d+=p,h=!1),d+=a}var s}for(;f(e),e!=t;)e=e.nextSibling;return d}(t,s,u,a,c)),h=xr(t.doc,pe(a,0),pe(c,wr(t.doc,c).text.length));1<d.length&&1<h.length;)if(fo(d)==fo(h))d.pop(),h.pop(),c--;else{if(d[0]!=h[0])break;d.shift(),h.shift(),a++}for(var p=0,f=0,g=d[0],m=h[0],v=Math.min(g.length,m.length);p<v&&g.charCodeAt(p)==m.charCodeAt(p);)++p;for(var y=fo(d),b=fo(h),w=Math.min(y.length-(1==d.length?p:0),b.length-(1==h.length?p:0));f<w&&y.charCodeAt(y.length-f-1)==b.charCodeAt(b.length-f-1);)++f;d[d.length-1]=y.slice(0,y.length-f),d[0]=d[0].slice(p);var x=pe(a,p),C=pe(c,h.length?fo(h).length-f:0);return 1<d.length||d[0]||fe(x,C)?(Vn(t.doc,d,x,C,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(e){this.cm.isReadOnly()?Xt(this.cm,en)(this.cm):e.data&&e.data!=e.startData&&Xt(this.cm,we)(this.cm,e.data,0,e.sel)},setUneditable:function(e){e.contentEditable="false"},onKeyPress:function(e){e.preventDefault(),this.cm.isReadOnly()||Xt(this.cm,we)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0)},readOnlyChanged:function(e){this.div.contentEditable=String("nocursor"!=e)},onContextMenu:yo,resetPosition:yo,needsContentAttribute:!0},De.prototype),k.inputStyles={textarea:_e,contenteditable:De},$e.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var n=this.ranges[t],i=e.ranges[t];if(0!=fe(n.anchor,i.anchor)||0!=fe(n.head,i.head))return!1}return!0},deepCopy:function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Me(ge(this.ranges[t].anchor),ge(this.ranges[t].head));return new $e(e,this.primIndex)},somethingSelected:function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},contains:function(e,t){t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=this.ranges[n];if(0<=fe(t,i.from())&&fe(e,i.to())<=0)return n}return-1}},Me.prototype={from:function(){return ve(this.anchor,this.head)},to:function(){return me(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var bt,wt={left:0,right:0,top:0,bottom:0};function xt(e,t,n){for(var i,r,o,a,s=0;s<e.length;s+=3){var l=e[s],c=e[s+1];if(t<l?(r=0,o=1,a="left"):t<c?o=(r=t-l)+1:(s==e.length-3||t==c&&e[s+3]>t)&&(r=(o=c-l)-1,c<=t&&(a="right")),null!=r){if(i=e[s+2],l==c&&n==(i.insertLeft?"left":"right")&&(a=n),"left"==n&&0==r)for(;s&&e[s-2]==e[s-3]&&e[s-1].insertLeft;)i=e[2+(s-=3)],a="left";if("right"==n&&r==c-l)for(;s<e.length-3&&e[s+3]==e[s+4]&&!e[s+5].insertLeft;)i=e[(s+=3)+2],a="right";break}}return{node:i,start:r,end:o,collapse:a,coverStart:l,coverEnd:c}}function Ct(e,t){var n=wt;if("left"==t)for(var i=0;i<e.length&&(n=e[i]).left==n.right;i++);else for(i=e.length-1;0<=i&&(n=e[i]).left==n.right;i--);return n}function St(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function kt(e){e.display.externalMeasure=null,Io(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)St(e.display.view[t])}function _t(e){kt(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Tt(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Dt(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function At(e,t,n,i){if(t.widgets)for(var r=0;r<t.widgets.length;++r)if(t.widgets[r].above){var o=Wi(t.widgets[r]);n.top+=o,n.bottom+=o}if("line"==i)return n;i||(i="local");var a=Tr(t);if("local"==i?a+=lt(e.display):a-=e.display.viewOffset,"page"==i||"window"==i){var s=e.display.lineSpace.getBoundingClientRect();a+=s.top+("window"==i?0:Dt());var l=s.left+("window"==i?0:Tt());n.left+=l,n.right+=l}return n.top+=a,n.bottom+=a,n}function Et(e,t,n){if("div"==n)return t;var i=t.left,r=t.top;if("page"==n)i-=Tt(),r-=Dt();else if("local"==n||!n){var o=e.display.sizer.getBoundingClientRect();i+=o.left,r+=o.top}var a=e.display.lineSpace.getBoundingClientRect();return{left:i-a.left,top:r-a.top}}function It(e,t,n,i,r){return i||(i=wr(e.doc,t.line)),At(e,i,gt(e,i,t.ch,r),n)}function Pt(i,e,r,o,a,s){function l(e,t){var n=yt(i,a,e,t?"right":"left",s);return t?n.left=n.right:n.right=n.left,At(i,o,n,r)}function t(e,t){var n=c[t],i=n.level%2;return e==Qo(n)&&t&&n.level<c[t-1].level?(e=Zo(n=c[--t])-(n.level%2?0:1),i=!0):e==Zo(n)&&t<c.length-1&&n.level<c[t+1].level&&(e=Qo(n=c[++t])-n.level%2,i=!1),i&&e==n.to&&e>n.from?l(e-1):l(e,i)}o=o||wr(i.doc,e.line),a||(a=vt(i,o));var c=Dr(o),n=e.ch;if(!c)return l(n);var u=t(n,ra(c,n));return null!=Jo&&(u.other=t(n,Jo)),u}function $t(e,t){var n=0;t=je(e.doc,t);e.options.lineWrapping||(n=jt(e.display)*t.ch);var i=wr(e.doc,t.line),r=Tr(i)+lt(e.display);return{left:n,right:n,top:r,bottom:r+i.height}}function Mt(e,t,n,i){var r=pe(e,t);return r.xRel=i,n&&(r.outside=!0),r}function Ot(e,t,n){var i=e.doc;if((n+=e.display.viewOffset)<0)return Mt(i.first,0,!0,-1);var r=_r(i,n),o=i.first+i.size-1;if(o<r)return Mt(i.first+i.size-1,wr(i,o).text.length,!0,1);t<0&&(t=0);for(var a=wr(i,r);;){var s=Nt(e,a,r,t,n),l=ji(a),c=l&&l.find(0,!0);if(!l||!(s.ch>c.from.ch||s.ch==c.from.ch&&0<s.xRel))return s;r=kr(a=c.to.line)}}function Nt(n,i,r,e,t){var o=t-Tr(i),a=!1,s=2*n.display.wrapper.clientWidth,l=vt(n,i);function c(e){var t=Pt(n,pe(r,e),"line",i,l);return a=!0,o>t.bottom?t.left-s:o<t.top?t.left+s:(a=!1,t.left)}var u=Dr(i),d=i.text.length,h=ea(i),p=ta(i),f=c(h),g=a,m=c(p),v=a;if(m<e)return Mt(r,p,v,1);for(;;){if(u?p==h||p==aa(i,h,1):p-h<=1){var y=e<f||e-f<=m-e?h:p,b=y==h?g:v,w=e-(y==h?f:m);if(v&&!u&&!/\s/.test(i.text.charAt(y))&&0<w&&y<i.text.length&&1<l.view.measure.heights.length){var x=yt(n,l,y,"right");o<=x.bottom&&o>=x.top&&Math.abs(e-x.right)<w&&(b=!1,y++,w=e-x.right)}for(;Ao(i.text.charAt(y));)++y;return Mt(r,y,b,w<-1?-1:1<w?1:0)}var C=Math.ceil(d/2),S=h+C;if(u){S=h;for(var k=0;k<C;++k)S=aa(i,S,1)}var _=c(S);e<_?(p=S,m=_,(v=a)&&(m+=1e3),d=C):(h=S,f=_,g=a,d-=C)}}function Lt(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bt){bt=Eo("pre");for(var t=0;t<49;++t)bt.appendChild(document.createTextNode("x")),bt.appendChild(Eo("br"));bt.appendChild(document.createTextNode("x"))}Po(e.measure,bt);var n=bt.offsetHeight/50;return 3<n&&(e.cachedTextHeight=n),Io(e.measure),n||1}function jt(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=Eo("span","xxxxxxxxxx"),n=Eo("pre",[t]);Po(e.measure,n);var i=t.getBoundingClientRect(),r=(i.right-i.left)/10;return 2<r&&(e.cachedCharWidth=r),r||10}var Rt,Ft,qt=null,Ht=0;function Bt(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ht},qt?qt.ops.push(e.curOp):e.curOp.ownsGroup=qt={ops:[e.curOp],delayedCallbacks:[]}}function Vt(e){var t=e.curOp.ownsGroup;if(t)try{!function(e){var t=e.delayedCallbacks,n=0;do{for(;n<t.length;n++)t[n].call(null);for(var i=0;i<e.ops.length;i++){var r=e.ops[i];if(r.cursorActivityHandlers)for(;r.cursorActivityCalled<r.cursorActivityHandlers.length;)r.cursorActivityHandlers[r.cursorActivityCalled++].call(null,r.cm)}}while(n<t.length)}(t)}finally{qt=null;for(var n=0;n<t.ops.length;n++)t.ops[n].cm.curOp=null;!function(e){for(var t=e.ops,n=0;n<t.length;n++)Ut(t[n]);for(var n=0;n<t.length;n++)i=t[n],i.updatedDisplay=i.mustUpdate&&X(i.cm,i.update);var i;for(var n=0;n<t.length;n++)zt(t[n]);for(var n=0;n<t.length;n++)Wt(t[n]);for(var n=0;n<t.length;n++)Gt(t[n])}(t)}}function Ut(e){var t,n,i=e.cm,r=i.display;!(n=(t=i).display).scrollbarsClipped&&n.scroller.offsetWidth&&(n.nativeBarWidth=n.scroller.offsetWidth-n.scroller.clientWidth,n.heightForcer.style.height=dt(t)+"px",n.sizer.style.marginBottom=-n.nativeBarWidth+"px",n.sizer.style.borderRightWidth=dt(t)+"px",n.scrollbarsClipped=!0),e.updateMaxLine&&N(i),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&i.options.lineWrapping,e.update=e.mustUpdate&&new Y(i,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function zt(e){var t=e.cm,n=t.display;e.updatedDisplay&&Z(t),e.barMeasure=j(t),n.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=gt(t,n.maxLine,n.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(n.scroller.clientWidth,n.sizer.offsetLeft+e.adjustWidthTo+dt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,n.sizer.offsetLeft+e.adjustWidthTo-ht(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=n.input.prepareSelection(e.focus))}function Wt(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&vn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var n=e.focus&&e.focus==Mo()&&(!document.hasFocus||document.hasFocus());e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,n),(e.updatedDisplay||e.startHeight!=t.doc.height)&&H(t,e.barMeasure),e.updatedDisplay&&Q(t,e.barMeasure),e.selectionChanged&&rt(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),n&&ye(e.cm)}function Gt(e){var t=e.cm,n=t.display,i=t.doc;if(e.updatedDisplay&&J(t,e.update),null==n.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(n.wheelStartX=n.wheelStartY=null),null==e.scrollTop||n.scroller.scrollTop==e.scrollTop&&!e.forceScroll||(i.scrollTop=Math.max(0,Math.min(n.scroller.scrollHeight-n.scroller.clientHeight,e.scrollTop)),n.scrollbars.setScrollTop(i.scrollTop),n.scroller.scrollTop=i.scrollTop),null==e.scrollLeft||n.scroller.scrollLeft==e.scrollLeft&&!e.forceScroll||(i.scrollLeft=Math.max(0,Math.min(n.scroller.scrollWidth-n.scroller.clientWidth,e.scrollLeft)),n.scrollbars.setScrollLeft(i.scrollLeft),n.scroller.scrollLeft=i.scrollLeft,U(t)),e.scrollToPos){var r=function(e,t,n,i){null==i&&(i=0);for(var r=0;r<5;r++){var o=!1,a=Pt(e,t),s=n&&n!=t?Pt(e,n):a,l=Un(e,Math.min(a.left,s.left),Math.min(a.top,s.top)-i,Math.max(a.left,s.left),Math.max(a.bottom,s.bottom)+i),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(mn(e,l.scrollTop),1<Math.abs(e.doc.scrollTop-c)&&(o=!0)),null!=l.scrollLeft&&(vn(e,l.scrollLeft),1<Math.abs(e.doc.scrollLeft-u)&&(o=!0)),!o)break}return a}(t,je(i,e.scrollToPos.from),je(i,e.scrollToPos.to),e.scrollToPos.margin);e.scrollToPos.isCursor&&t.state.focused&&function(e,t){if(Zr(e,"scrollCursorIntoView"))return;var n=e.display,i=n.sizer.getBoundingClientRect(),r=null;t.top+i.top<0?r=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(r=!1);if(null!=r&&!c){var o=Eo("div","​",null,"position: absolute; top: "+(t.top-n.viewOffset-lt(e.display))+"px; height: "+(t.bottom-t.top+dt(e)+n.barHeight)+"px; left: "+t.left+"px; width: 2px;");e.display.lineSpace.appendChild(o),o.scrollIntoView(r),e.display.lineSpace.removeChild(o)}}(t,r)}var o=e.maybeHiddenMarkers,a=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Xr(o[s],"hide");if(a)for(s=0;s<a.length;++s)a[s].lines.length&&Xr(a[s],"unhide");n.wrapper.offsetHeight&&(i.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Xr(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function Yt(e,t){if(e.curOp)return t();Bt(e);try{return t()}finally{Vt(e)}}function Xt(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Bt(e);try{return t.apply(e,arguments)}finally{Vt(e)}}}function Jt(e){return function(){if(this.curOp)return e.apply(this,arguments);Bt(this);try{return e.apply(this,arguments)}finally{Vt(this)}}}function Kt(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Bt(e);try{return t.apply(this,arguments)}finally{Vt(e)}}}function Qt(e,t,n){this.line=t,this.rest=function(e){var t,n;for(;t=ji(e);)e=t.find(1,!0).line,(n||(n=[])).push(e);return n}(t),this.size=this.rest?kr(fo(this.rest))-n+1:1,this.node=this.text=null,this.hidden=Bi(e,t)}function Zt(e,t,n){for(var i,r=[],o=t;o<n;o=i){var a=new Qt(e.doc,wr(e.doc,o),o);i=o+a.size,r.push(a)}return r}function en(e,t,n,i){null==t&&(t=e.doc.first),null==n&&(n=e.doc.first+e.doc.size),i||(i=0);var r=e.display;if(i&&n<r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>t)&&(r.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=r.viewTo)S&&qi(e.doc,t)<r.viewTo&&nn(e);else if(n<=r.viewFrom)S&&Hi(e.doc,n+i)>r.viewFrom?nn(e):(r.viewFrom+=i,r.viewTo+=i);else if(t<=r.viewFrom&&n>=r.viewTo)nn(e);else if(t<=r.viewFrom){(o=on(e,n,n+i,1))?(r.view=r.view.slice(o.index),r.viewFrom=o.lineN,r.viewTo+=i):nn(e)}else if(n>=r.viewTo){var o;(o=on(e,t,t,-1))?(r.view=r.view.slice(0,o.index),r.viewTo=o.lineN):nn(e)}else{var a=on(e,t,t,-1),s=on(e,n,n+i,1);a&&s?(r.view=r.view.slice(0,a.index).concat(Zt(e,a.lineN,s.lineN)).concat(r.view.slice(s.index)),r.viewTo+=i):nn(e)}var l=r.externalMeasured;l&&(n<l.lineN?l.lineN+=i:t<l.lineN+l.size&&(r.externalMeasured=null))}function tn(e,t,n){e.curOp.viewChanged=!0;var i=e.display,r=e.display.externalMeasured;if(r&&t>=r.lineN&&t<r.lineN+r.size&&(i.externalMeasured=null),!(t<i.viewFrom||t>=i.viewTo)){var o=i.view[rn(e,t)];if(null!=o.node){var a=o.changes||(o.changes=[]);-1==mo(a,n)&&a.push(n)}}}function nn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function rn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var n=e.display.view,i=0;i<n.length;i++)if((t-=n[i].size)<0)return i}function on(e,t,n,i){var r,o=rn(e,t),a=e.display.view;if(!S||n==e.doc.first+e.doc.size)return{index:o,lineN:n};for(var s=0,l=e.display.viewFrom;s<o;s++)l+=a[s].size;if(l!=t){if(0<i){if(o==a.length-1)return null;r=l+a[o].size-t,o++}else r=l-t;t+=r,n+=r}for(;qi(e.doc,n)!=n;){if(o==(i<0?0:a.length-1))return null;n+=i*a[o-(i<0?1:0)].size,o+=i}return{index:o,lineN:n}}function an(e){for(var t=e.display.view,n=0,i=0;i<t.length;i++){var r=t[i];r.hidden||r.node&&!r.changes||++n}return n}function sn(e){var t=e.display;t.lastWrapHeight==t.wrapper.clientHeight&&t.lastWrapWidth==t.wrapper.clientWidth||(t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize())}function ln(e,t){for(var n=Vr(t);n!=e.wrapper;n=n.parentNode)if(!n||1==n.nodeType&&"true"==n.getAttribute("cm-ignore-events")||n.parentNode==e.sizer&&n!=e.mover)return!0}function cn(e,t,n,i){var r=e.display;if(!n&&"true"==Vr(t).getAttribute("cm-not-content"))return null;var o,a,s=r.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,a=t.clientY-s.top}catch(t){return null}var l,c=Ot(e,o,a);if(i&&1==c.xRel&&(l=wr(e.doc,c.line).text).length==c.ch){var u=co(l,l.length,e.options.tabSize)-l.length;c=pe(c.line,Math.max(0,Math.round((o-ut(e.display).left)/jt(e.display))-u))}return c}function un(e){var t=this,n=t.display;if(!(Zr(t,e)||n.activeTouch&&n.input.supportsTouch()))if(n.shift=e.shiftKey,ln(n,e))m||(n.scroller.draggable=!1,setTimeout(function(){n.scroller.draggable=!0},100));else if(!hn(t,e)){var i,r=cn(t,e);switch(window.focus(),Ur(e)){case 1:t.state.selectingText?t.state.selectingText(e):r?function(e,t,n){w?setTimeout(xo(ye,e),0):e.curOp.focus=Mo();var i,r=+new Date;Ft&&Ft.time>r-400&&0==fe(Ft.pos,n)?i="triple":Rt&&Rt.time>r-400&&0==fe(Rt.pos,n)?(i="double",Ft={time:r,pos:n}):(i="single",Rt={time:r,pos:n});var o,a=e.doc.sel,s=y?t.metaKey:t.ctrlKey;e.options.dragDrop&&Bo&&!e.isReadOnly()&&"single"==i&&-1<(o=a.contains(n))&&(fe((o=a.ranges[o]).from(),n)<0||0<n.xRel)&&(0<fe(o.to(),n)||n.xRel<0)?function(t,n,i,r){var o=t.display,a=+new Date,s=Xt(t,function(e){m&&(o.scroller.draggable=!1),t.state.draggingText=!1,Yr(document,"mouseup",s),Yr(o.scroller,"drop",s),Math.abs(n.clientX-e.clientX)+Math.abs(n.clientY-e.clientY)<10&&(Fr(e),!r&&+new Date-200<a&&He(t.doc,i),m||w&&9==x?setTimeout(function(){document.body.focus(),o.input.focus()},20):o.input.focus())});m&&(o.scroller.draggable=!0);(t.state.draggingText=s).copy=y?n.altKey:n.ctrlKey,o.scroller.dragDrop&&o.scroller.dragDrop();zr(document,"mouseup",s),zr(o.scroller,"drop",s)}(e,t,n,s):function(g,e,m,v,t){var o=g.display,y=g.doc;Fr(e);var b,w,x=y.sel,n=x.ranges;t&&!e.shiftKey?(w=y.sel.contains(m),b=-1<w?n[w]:new Me(m,m)):(b=y.sel.primary(),w=y.sel.primIndex);if(h?e.shiftKey&&e.metaKey:e.altKey)v="rect",t||(b=new Me(m,m)),m=cn(g,e,!0,!0),w=-1;else if("double"==v){var i=g.findWordAt(m);b=g.display.shift||y.extend?qe(y,b,i.anchor,i.head):i}else if("triple"==v){var r=new Me(pe(m.line,0),je(y,pe(m.line+1,0)));b=g.display.shift||y.extend?qe(y,b,r.anchor,r.head):r}else b=qe(y,b,m);t?-1==w?(w=n.length,We(y,Oe(n.concat([b]),w),{scroll:!1,origin:"*mouse"})):1<n.length&&n[w].empty()&&"single"==v&&!e.shiftKey?(We(y,Oe(n.slice(0,w).concat(n.slice(w+1)),0),{scroll:!1,origin:"*mouse"}),x=y.sel):Ve(y,w,b,ao):(We(y,new $e([b],w=0),ao),x=y.sel);var C=m;var a=o.wrapper.getBoundingClientRect(),s=0;function l(e){var t=++s,n=cn(g,e,!0,"rect"==v);if(n)if(0!=fe(n,C)){g.curOp.focus=Mo(),function(e){if(0==fe(C,e))return;if(C=e,"rect"==v){for(var t=[],n=g.options.tabSize,i=co(wr(y,m.line).text,m.ch,n),r=co(wr(y,e.line).text,e.ch,n),o=Math.min(i,r),a=Math.max(i,r),s=Math.min(m.line,e.line),l=Math.min(g.lastLine(),Math.max(m.line,e.line));s<=l;s++){var c=wr(y,s).text,u=uo(c,o,n);o==a?t.push(new Me(pe(s,u),pe(s,u))):c.length>u&&t.push(new Me(pe(s,u),pe(s,uo(c,a,n))))}t.length||t.push(new Me(m,m)),We(y,Oe(x.ranges.slice(0,w).concat(t),w),{origin:"*mouse",scroll:!1}),g.scrollIntoView(e)}else{var d=b,h=d.anchor,p=e;if("single"!=v){if("double"==v)var f=g.findWordAt(e);else var f=new Me(pe(e.line,0),je(y,pe(e.line+1,0)));0<fe(f.anchor,h)?(p=f.head,h=ve(d.from(),f.anchor)):(p=f.anchor,h=me(d.to(),f.head))}var t=x.ranges.slice(0);t[w]=new Me(je(y,h),p),We(y,Oe(t,w),ao)}}(n);var i=V(o,y);(n.line>=i.to||n.line<i.from)&&setTimeout(Xt(g,function(){s==t&&l(e)}),150)}else{var r=e.clientY<a.top?-20:e.clientY>a.bottom?20:0;r&&setTimeout(Xt(g,function(){s==t&&(o.scroller.scrollTop+=r,l(e))}),50)}}function c(e){g.state.selectingText=!1,s=1/0,Fr(e),o.input.focus(),Yr(document,"mousemove",u),Yr(document,"mouseup",d),y.history.lastSelOrigin=null}var u=Xt(g,function(e){Ur(e)?l(e):c(e)}),d=Xt(g,c);g.state.selectingText=d,zr(document,"mousemove",u),zr(document,"mouseup",d)}(e,t,n,i,s)}(t,e,r):Vr(e)==n.scroller&&Fr(e);break;case 2:m&&(t.state.lastMiddleDown=+new Date),r&&He(t.doc,r),setTimeout(function(){n.input.focus()},20),Fr(e);break;case 3:b?$n(t,e):((i=t).state.delayingBlurEvent=!0,setTimeout(function(){i.state.delayingBlurEvent&&(i.state.delayingBlurEvent=!1,Pn(i))},100))}}}function dn(e,t,n,i){try{var r=t.clientX,o=t.clientY}catch(t){return!1}if(r>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;i&&Fr(t);var a=e.display,s=a.lineDiv.getBoundingClientRect();if(o>s.bottom||!to(e,n))return Hr(t);o-=s.top-a.viewOffset;for(var l=0;l<e.options.gutters.length;++l){var c=a.gutters.childNodes[l];if(c&&c.getBoundingClientRect().right>=r){var u=_r(e.doc,o),d=e.options.gutters[l];return Xr(e,n,e,u,d,t),Hr(t)}}}function hn(e,t){return dn(e,t,"gutterClick",!0)}var pn=0;function fn(e){var r=this;if(gn(r),!Zr(r,e)&&!ln(r.display,e)){Fr(e),w&&(pn=+new Date);var o=cn(r,e,!0),t=e.dataTransfer.files;if(o&&!r.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var a=t.length,s=Array(a),l=0,n=function(e,n){if(!r.options.allowDropFileTypes||-1!=mo(r.options.allowDropFileTypes,e.type)){var i=new FileReader;i.onload=Xt(r,function(){var e=i.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),s[n]=e,++l==a){var t={from:o=je(r.doc,o),to:o,text:r.doc.splitLines(s.join(r.doc.lineSeparator())),origin:"paste"};Rn(r.doc,t),ze(r.doc,Ne(o,Mn(t)))}}),i.readAsText(e)}},i=0;i<a;++i)n(t[i],i);else{if(r.state.draggingText&&-1<r.doc.sel.contains(o))return r.state.draggingText(e),void setTimeout(function(){r.display.input.focus()},20);try{if(s=e.dataTransfer.getData("Text")){if(r.state.draggingText&&!r.state.draggingText.copy)var c=r.listSelections();if(Ge(r.doc,Ne(o,o)),c)for(i=0;i<c.length;++i)Vn(r.doc,"",c[i].anchor,c[i].head,"drag");r.replaceSelection(s,"around","paste"),r.display.input.focus()}}catch(e){}}}}function gn(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function mn(e,t){Math.abs(e.doc.scrollTop-t)<2||(e.doc.scrollTop=t,g||K(e,{top:t}),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t),e.display.scrollbars.setScrollTop(t),g&&K(e),ot(e,100))}function vn(e,t,n){(n?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)||(t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),e.doc.scrollLeft=t,U(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}var yn=0,bn=null;w?bn=-.53:g?bn=15:o?bn=-.7:l&&(bn=-1/3);var wn=function(e){var t=e.wheelDeltaX,n=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==n&&e.detail&&e.axis==e.VERTICAL_AXIS?n=e.detail:null==n&&(n=e.wheelDelta),{x:t,y:n}};function xn(e,t){var n=wn(t),i=n.x,r=n.y,o=e.display,a=o.scroller,s=a.scrollWidth>a.clientWidth,l=a.scrollHeight>a.clientHeight;if(i&&s||r&&l){if(r&&y&&m)e:for(var c=t.target,u=o.view;c!=a;c=c.parentNode)for(var d=0;d<u.length;d++)if(u[d].node==c){e.display.currentWheelTarget=c;break e}if(i&&!g&&!v&&null!=bn)return r&&l&&mn(e,Math.max(0,Math.min(a.scrollTop+r*bn,a.scrollHeight-a.clientHeight))),vn(e,Math.max(0,Math.min(a.scrollLeft+i*bn,a.scrollWidth-a.clientWidth))),(!r||r&&l)&&Fr(t),void(o.wheelStartX=null);if(r&&null!=bn){var h=r*bn,p=e.doc.scrollTop,f=p+o.wrapper.clientHeight;h<0?p=Math.max(0,p+h-50):f=Math.min(e.doc.height,f+h+50),K(e,{top:p,bottom:f})}yn<20&&(null==o.wheelStartX?(o.wheelStartX=a.scrollLeft,o.wheelStartY=a.scrollTop,o.wheelDX=i,o.wheelDY=r,setTimeout(function(){if(null!=o.wheelStartX){var e=a.scrollLeft-o.wheelStartX,t=a.scrollTop-o.wheelStartY,n=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,n&&(bn=(bn*yn+n)/(yn+1),++yn)}},200)):(o.wheelDX+=i,o.wheelDY+=r))}}function Cn(e,t,n){if("string"==typeof t&&!(t=ui[t]))return!1;e.display.input.ensurePolled();var i=e.display.shift,r=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n&&(e.display.shift=!1),r=t(e)!=ro}finally{e.display.shift=i,e.state.suppressEdits=!1}return r}k.wheelEventPixels=function(e){var t=wn(e);return t.x*=bn,t.y*=bn,t};var Sn=new lo;function kn(e,t,n,i){var r=e.state.keySeq;if(r){if(fi(t))return"handled";Sn.set(50,function(){e.state.keySeq==r&&(e.state.keySeq=null,e.display.input.reset())}),t=r+" "+t}var o=function(e,t,n){for(var i=0;i<e.state.keyMaps.length;i++){var r=pi(t,e.state.keyMaps[i],n,e);if(r)return r}return e.options.extraKeys&&pi(t,e.options.extraKeys,n,e)||pi(t,e.options.keyMap,n,e)}(e,t,i);return"multi"==o&&(e.state.keySeq=t),"handled"==o&&Kr(e,"keyHandled",e,t,n),"handled"!=o&&"multi"!=o||(Fr(n),rt(e)),r&&!o&&/\'$/.test(t)?(Fr(n),!0):!!o}function _n(t,e){var n=gi(e,!0);return!!n&&(e.shiftKey&&!t.state.keySeq?kn(t,"Shift-"+n,e,function(e){return Cn(t,e,!0)})||kn(t,n,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Cn(t,e)}):kn(t,n,e,function(e){return Cn(t,e)}))}var Tn=null;function Dn(e){if(this.curOp.focus=Mo(),!Zr(this,e)){w&&x<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var n=_n(this,e);v&&(Tn=n?t:null,!n&&88==t&&!Yo&&(y?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function n(e){18!=e.keyCode&&e.altKey||(No(t,"CodeMirror-crosshair"),Yr(document,"keyup",n),Yr(document,"mouseover",n))}Lo(t,"CodeMirror-crosshair"),zr(document,"keyup",n),zr(document,"mouseover",n)}(this)}}function An(e){16==e.keyCode&&(this.doc.sel.shift=!1),Zr(this,e)}function En(e){if(!(ln(this.display,e)||Zr(this,e)||e.ctrlKey&&!e.altKey||y&&e.metaKey)){var t=e.keyCode,n=e.charCode;if(v&&t==Tn)return Tn=null,void Fr(e);if(!v||e.which&&!(e.which<10)||!_n(this,e)){var i,r=String.fromCharCode(null==n?t:n);if(!kn(i=this,"'"+r+"'",e,function(e){return Cn(i,e,!0)}))this.display.input.onKeyPress(e)}}}function In(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Xr(e,"focus",e,t),e.state.focused=!0,Lo(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),m&&setTimeout(function(){e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),rt(e))}function Pn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Xr(e,"blur",e,t),e.state.focused=!1,No(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function $n(e,t){var n,i;ln(e.display,t)||(i=t,to(n=e,"gutterContextMenu")&&dn(n,i,"gutterContextMenu",!1))||(Zr(e,t,"contextmenu")||e.display.input.onContextMenu(t))}var Mn=k.changeEnd=function(e){return e.text?pe(e.from.line+e.text.length-1,fo(e.text).length+(1==e.text.length?e.from.ch:0)):e.to};function On(e,t){if(fe(e,t.from)<0)return e;if(fe(e,t.to)<=0)return Mn(t);var n=e.line+t.text.length-(t.to.line-t.from.line)-1,i=e.ch;return e.line==t.to.line&&(i+=Mn(t).ch-t.to.ch),pe(n,i)}function Nn(e,t){for(var n=[],i=0;i<e.sel.ranges.length;i++){var r=e.sel.ranges[i];n.push(new Me(On(r.anchor,t),On(r.head,t)))}return Oe(n,e.sel.primIndex)}function Ln(e,t,n){return e.line==t.line?pe(n.line,e.ch-t.ch+n.ch):pe(n.line+(e.line-t.line),e.ch)}function jn(r,e,t){var n={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){this.canceled=!0}};return t&&(n.update=function(e,t,n,i){e&&(this.from=je(r,e)),t&&(this.to=je(r,t)),n&&(this.text=n),void 0!==i&&(this.origin=i)}),Xr(r,"beforeChange",r,n),r.cm&&Xr(r.cm,"beforeChange",r.cm,n),n.canceled?null:{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Rn(e,t,n){if(e.cm){if(!e.cm.curOp)return Xt(e.cm,Rn)(e,t,n);if(e.cm.state.suppressEdits)return}if(!(to(e,"beforeChange")||e.cm&&to(e.cm,"beforeChange"))||(t=jn(e,t,!0))){var i=C&&!n&&function(e,t,n){var i=null;if(e.iter(t.line,n.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var n=e.markedSpans[t].marker;!n.readOnly||i&&-1!=mo(i,n)||(i||(i=[])).push(n)}}),!i)return null;for(var r=[{from:t,to:n}],o=0;o<i.length;++o)for(var a=i[o],s=a.find(0),l=0;l<r.length;++l){var c=r[l];if(!(fe(c.to,s.from)<0||0<fe(c.from,s.to))){var u=[l,1],d=fe(c.from,s.from),h=fe(c.to,s.to);(d<0||!a.inclusiveLeft&&!d)&&u.push({from:c.from,to:s.from}),(0<h||!a.inclusiveRight&&!h)&&u.push({from:s.to,to:c.to}),r.splice.apply(r,u),l+=u.length-1}}return r}(e,t.from,t.to);if(i)for(var r=i.length-1;0<=r;--r)Fn(e,{from:i[r].from,to:i[r].to,text:r?[""]:t.text});else Fn(e,t)}}function Fn(e,n){if(1!=n.text.length||""!=n.text[0]||0!=fe(n.from,n.to)){var t=Nn(e,n);Pr(e,n,t,e.cm?e.cm.curOp.id:NaN),Bn(e,n,t,Di(e,n));var i=[];yr(e,function(e,t){t||-1!=mo(i,e.history)||(Rr(e.history,n),i.push(e.history)),Bn(e,n,null,Di(e,n))})}}function qn(e,t,n){if(!e.cm||!e.cm.state.suppressEdits||n){for(var i,r=e.history,o=e.sel,a="undo"==t?r.done:r.undone,s="undo"==t?r.undone:r.done,l=0;l<a.length&&(i=a[l],n?!i.ranges||i.equals(e.sel):i.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;(i=a.pop()).ranges;){if($r(i,s),n&&!i.equals(e.sel))return void We(e,i,{clearRedo:!1});o=i}var c=[];$r(o,s),s.push({changes:c,generation:r.generation}),r.generation=i.generation||++r.maxGeneration;var u=to(e,"beforeChange")||e.cm&&to(e.cm,"beforeChange");for(l=i.changes.length-1;0<=l;--l){var d=i.changes[l];if(d.origin=t,u&&!jn(e,d,!1))return void(a.length=0);c.push(Er(e,d));var h=l?Nn(e,d):fo(a);Bn(e,d,h,Ei(e,d)),!l&&e.cm&&e.cm.scrollIntoView({from:d.from,to:Mn(d)});var p=[];yr(e,function(e,t){t||-1!=mo(p,e.history)||(Rr(e.history,d),p.push(e.history)),Bn(e,d,null,Ei(e,d))})}}}}function Hn(e,t){if(0!=t&&(e.first+=t,e.sel=new $e(vo(e.sel.ranges,function(e){return new Me(pe(e.anchor.line+t,e.anchor.ch),pe(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){en(e.cm,e.first,e.first-t,t);for(var n=e.cm.display,i=n.viewFrom;i<n.viewTo;i++)tn(e.cm,i,"gutter")}}function Bn(e,t,n,i){if(e.cm&&!e.cm.curOp)return Xt(e.cm,Bn)(e,t,n,i);if(t.to.line<e.first)Hn(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var r=t.text.length-1-(e.first-t.from.line);Hn(e,r),t={from:pe(e.first,0),to:pe(t.to.line+r,t.to.ch),text:[fo(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:pe(o,wr(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=xr(e,t.from,t.to),n||(n=Nn(e,t)),e.cm?function(e,t,n){var i=e.doc,r=e.display,o=t.from,a=t.to,s=!1,l=o.line;e.options.lineWrapping||(l=kr(Fi(wr(i,o.line))),i.iter(l,a.line+1,function(e){if(e==r.maxLine)return s=!0}));-1<i.sel.contains(t.from,t.to)&&eo(e);dr(i,t,n,A(e)),e.options.lineWrapping||(i.iter(l,o.line+t.text.length,function(e){var t=O(e);t>r.maxLineLength&&(r.maxLine=e,r.maxLineLength=t,r.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0));i.frontier=Math.min(i.frontier,o.line),ot(e,400);var c=t.text.length-(a.line-o.line)-1;t.full?en(e):o.line!=a.line||1!=t.text.length||ur(e.doc,t)?en(e,o.line,a.line+1,c):tn(e,o.line,"text");var u=to(e,"changes"),d=to(e,"change");if(d||u){var h={from:o,to:a,text:t.text,removed:t.removed,origin:t.origin};d&&Kr(e,"change",e,h),u&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}(e.cm,t,i):dr(e,t,i),Ge(e,n,oo)}}function Vn(e,t,n,i,r){if(i||(i=n),fe(i,n)<0){var o=i;i=n,n=o}"string"==typeof t&&(t=e.splitLines(t)),Rn(e,{from:n,to:i,text:t,origin:r})}function Un(e,t,n,i,r){var o=e.display,a=Lt(e.display);n<0&&(n=0);var s=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,l=pt(e),c={};l<r-n&&(r=n+l);var u=e.doc.height+ct(o),d=n<a,h=u-a<r;if(n<s)c.scrollTop=d?0:n;else if(s+l<r){var p=Math.min(n,(h?u:r)-l);p!=s&&(c.scrollTop=p)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft,g=ht(e)-(e.options.fixedGutter?o.gutters.offsetWidth:0),m=g<i-t;return m&&(i=t+g),t<10?c.scrollLeft=0:t<f?c.scrollLeft=Math.max(0,t-(m?0:10)):g+f-3<i&&(c.scrollLeft=i+(m?0:10)-g),c}function zn(e,t,n){null==t&&null==n||Gn(e),null!=t&&(e.curOp.scrollLeft=(null==e.curOp.scrollLeft?e.doc.scrollLeft:e.curOp.scrollLeft)+t),null!=n&&(e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+n)}function Wn(e){Gn(e);var t=e.getCursor(),n=t,i=t;e.options.lineWrapping||(n=t.ch?pe(t.line,t.ch-1):t,i=pe(t.line,t.ch+1)),e.curOp.scrollToPos={from:n,to:i,margin:e.options.cursorScrollMargin,isCursor:!0}}function Gn(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var n=$t(e,t.from),i=$t(e,t.to),r=Un(e,Math.min(n.left,i.left),Math.min(n.top,i.top)-t.margin,Math.max(n.right,i.right),Math.max(n.bottom,i.bottom)+t.margin);e.scrollTo(r.scrollLeft,r.scrollTop)}}function Yn(e,t,n,i){var r,o=e.doc;null==n&&(n="add"),"smart"==n&&(o.mode.indent?r=st(e,t):n="prev");var a=e.options.tabSize,s=wr(o,t),l=co(s.text,null,a);s.stateAfter&&(s.stateAfter=null);var c,u=s.text.match(/^\s*/)[0];if(i||/\S/.test(s.text)){if("smart"==n&&((c=o.mode.indent(r,s.text.slice(u.length),s.text))==ro||150<c)){if(!i)return;n="prev"}}else c=0,n="not";"prev"==n?c=t>o.first?co(wr(o,t-1).text,null,a):0:"add"==n?c=l+e.options.indentUnit:"subtract"==n?c=l-e.options.indentUnit:"number"==typeof n&&(c=l+n),c=Math.max(0,c);var d="",h=0;if(e.options.indentWithTabs)for(var p=Math.floor(c/a);p;--p)h+=a,d+="\t";if(h<c&&(d+=po(c-h)),d!=u)return Vn(o,d,pe(t,0),pe(t,u.length),"+input"),!(s.stateAfter=null);for(p=0;p<o.sel.ranges.length;p++){var f=o.sel.ranges[p];if(f.head.line==t&&f.head.ch<u.length){Ve(o,p,new Me(h=pe(t,u.length),h));break}}}function Xn(e,t,n,i){var r=t,o=t;return"number"==typeof t?o=wr(e,Le(e,t)):r=kr(t),null==r?null:(i(o,r)&&e.cm&&tn(e.cm,r,n),o)}function Jn(t,e){for(var n=t.doc.sel.ranges,i=[],r=0;r<n.length;r++){for(var o=e(n[r]);i.length&&fe(o.from,fo(i).to)<=0;){var a=i.pop();if(fe(a.from,o.from)<0){o.from=a.from;break}}i.push(o)}Yt(t,function(){for(var e=i.length-1;0<=e;e--)Vn(t.doc,"",i[e].from,i[e].to,"+delete");Wn(t)})}function Kn(i,e,r,t,o){var a=e.line,s=e.ch,n=r,l=wr(i,a);function c(e){var t,n=(o?aa:sa)(l,s,r,!0);if(null==n){if(e||(t=a+r)<i.first||t>=i.first+i.size||!(l=wr(i,a=t)))return!1;s=o?(r<0?ta:ea)(l):r<0?l.text.length:0}else s=n;return!0}if("char"==t)c();else if("column"==t)c(!0);else if("word"==t||"group"==t)for(var u=null,d="group"==t,h=i.cm&&i.cm.getHelper(e,"wordChars"),p=!0;!(r<0)||c(!p);p=!1){var f=l.text.charAt(s)||"\n",g=ko(f,h)?"w":d&&"\n"==f?"n":!d||/\s/.test(f)?null:"p";if(!d||p||g||(g="s"),u&&u!=g){r<0&&(r=1,c());break}if(g&&(u=g),0<r&&!c(!p))break}var m=Qe(i,pe(a,s),e,n,!0);return fe(e,m)||(m.hitSide=!0),m}function Qn(e,t,n,i){var r,o=e.doc,a=t.left;if("page"==i){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*Lt(e.display),3);r=(0<n?t.bottom:t.top)+n*l}else"line"==i&&(r=0<n?t.bottom+3:t.top-3);for(;;){var c=Ot(e,a,r);if(!c.outside)break;if(n<0?r<=0:r>=o.height){c.hitSide=!0;break}r+=5*n}return c}k.prototype={constructor:k,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var n=this.options,i=n[e];n[e]==t&&"mode"!=e||(n[e]=t,ei.hasOwnProperty(e)&&Xt(this,ei[e])(this,t,i))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](mi(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,n=0;n<t.length;++n)if(t[n]==e||t[n].name==e)return t.splice(n,1),!0},addOverlay:Jt(function(e,t){var n=e.token?e:k.getMode(this.options,e);if(n.startState)throw new Error("Overlays may not be stateful.");!function(e,t,n){var i=0,r=n(t);for(;i<e.length&&n(e[i])<=r;)i++;e.splice(i,0,t)}(this.state.overlays,{mode:n,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,en(this)}),removeOverlay:Jt(function(e){for(var t=this.state.overlays,n=0;n<t.length;++n){var i=t[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return t.splice(n,1),this.state.modeGen++,void en(this)}}),indentLine:Jt(function(e,t,n){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),Re(this.doc,e)&&Yn(this,e,t,n)}),indentSelection:Jt(function(e){for(var t=this.doc.sel.ranges,n=-1,i=0;i<t.length;i++){var r=t[i];if(r.empty())r.head.line>n&&(Yn(this,r.head.line,e,!0),n=r.head.line,i==this.doc.sel.primIndex&&Wn(this));else{var o=r.from(),a=r.to(),s=Math.max(n,o.line);n=Math.min(this.lastLine(),a.line-(a.ch?0:1))+1;for(var l=s;l<n;++l)Yn(this,l,e);var c=this.doc.sel.ranges;0==o.ch&&t.length==c.length&&0<c[i].from().ch&&Ve(this.doc,i,new Me(o,c[i].to()),oo)}}}),getTokenAt:function(e,t){return Ki(this,e,t)},getLineTokens:function(e,t){return Ki(this,pe(e),t,!0)},getTokenTypeAt:function(e){e=je(this.doc,e);var t,n=er(this,wr(this.doc,e.line)),i=0,r=(n.length-1)/2,o=e.ch;if(0==o)t=n[2];else for(;;){var a=i+r>>1;if((a?n[2*a-1]:0)>=o)r=a;else{if(!(n[2*a+1]<o)){t=n[2*a+2];break}i=a+1}}var s=t?t.indexOf("cm-overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?k.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!si.hasOwnProperty(t))return n;var i=si[t],r=this.getModeAt(e);if("string"==typeof r[t])i[r[t]]&&n.push(i[r[t]]);else if(r[t])for(var o=0;o<r[t].length;o++){var a=i[r[t][o]];a&&n.push(a)}else r.helperType&&i[r.helperType]?n.push(i[r.helperType]):i[r.name]&&n.push(i[r.name]);for(o=0;o<i._global.length;o++){var s=i._global[o];s.pred(r,this)&&-1==mo(n,s.val)&&n.push(s.val)}return n},getStateAfter:function(e,t){var n=this.doc;return st(this,(e=Le(n,null==e?n.first+n.size-1:e))+1,t)},cursorCoords:function(e,t){var n=this.doc.sel.primary();return Pt(this,null==e?n.head:"object"==typeof e?je(this.doc,e):e?n.from():n.to(),t||"page")},charCoords:function(e,t){return It(this,je(this.doc,e),t||"page")},coordsChar:function(e,t){return Ot(this,(e=Et(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=Et(this,{top:e,left:0},t||"page").top,_r(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t){var n,i=!1;if("number"==typeof e){var r=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:r<e&&(e=r,i=!0),n=wr(this.doc,e)}else n=e;return At(this,n,{top:0,left:0},t||"page").top+(i?this.doc.height-Tr(n):0)},defaultTextHeight:function(){return Lt(this.display)},defaultCharWidth:function(){return jt(this.display)},setGutterMarker:Jt(function(e,n,i){return Xn(this.doc,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[n]=i)&&_o(t)&&(e.gutterMarkers=null),!0})}),clearGutter:Jt(function(t){var n=this,e=n.doc,i=e.first;e.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&(e.gutterMarkers[t]=null,tn(n,i,"gutter"),_o(e.gutterMarkers)&&(e.gutterMarkers=null)),++i})}),lineInfo:function(e){if("number"==typeof e){if(!Re(this.doc,e))return null;var t=e;if(!(e=wr(this.doc,e)))return null}else{if(null==(t=kr(e)))return null}return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,n,i,r){var o,a,s,l,c,u,d=this.display,h=(e=Pt(this,je(this.doc,e))).bottom,p=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),d.sizer.appendChild(t),"over"==i)h=e.top;else if("above"==i||"near"==i){var f=Math.max(d.wrapper.clientHeight,this.doc.height),g=Math.max(d.sizer.clientWidth,d.lineSpace.clientWidth);("above"==i||e.bottom+t.offsetHeight>f)&&e.top>t.offsetHeight?h=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=f&&(h=e.bottom),p+t.offsetWidth>g&&(p=g-t.offsetWidth)}t.style.top=h+"px",t.style.left=t.style.right="","right"==r?(p=d.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==r?p=0:"middle"==r&&(p=(d.sizer.clientWidth-t.offsetWidth)/2),t.style.left=p+"px"),n&&(o=this,s=h,l=(a=p)+t.offsetWidth,c=h+t.offsetHeight,null!=(u=Un(o,a,s,l,c)).scrollTop&&mn(o,u.scrollTop),null!=u.scrollLeft&&vn(o,u.scrollLeft))},triggerOnKeyDown:Jt(Dn),triggerOnKeyPress:Jt(En),triggerOnKeyUp:An,execCommand:function(e){if(ui.hasOwnProperty(e))return ui[e].call(null,this)},triggerElectric:Jt(function(e){Ce(this,e)}),findPosH:function(e,t,n,i){var r=1;t<0&&(r=-1,t=-t);for(var o=0,a=je(this.doc,e);o<t&&!(a=Kn(this.doc,a,r,n,i)).hitSide;++o);return a},moveH:Jt(function(t,n){var i=this;i.extendSelectionsBy(function(e){return i.display.shift||i.doc.extend||e.empty()?Kn(i.doc,e.head,t,n,i.options.rtlMoveVisually):t<0?e.from():e.to()},so)}),deleteH:Jt(function(n,i){var e=this.doc.sel,r=this.doc;e.somethingSelected()?r.replaceSelection("",null,"+delete"):Jn(this,function(e){var t=Kn(r,e.head,n,i,!1);return n<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,n,i){var r=1,o=i;t<0&&(r=-1,t=-t);for(var a=0,s=je(this.doc,e);a<t;++a){var l=Pt(this,s,"div");if(null==o?o=l.left:l.left=o,(s=Qn(this,l,r,n)).hitSide)break}return s},moveV:Jt(function(i,r){var o=this,a=this.doc,s=[],l=!o.display.shift&&!a.extend&&a.sel.somethingSelected();if(a.extendSelectionsBy(function(e){if(l)return i<0?e.from():e.to();var t=Pt(o,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),s.push(t.left);var n=Qn(o,t,i,r);return"page"==r&&e==a.sel.primary()&&zn(o,null,It(o,n,"div").top-t.top),n},so),s.length)for(var e=0;e<a.sel.ranges.length;e++)a.sel.ranges[e].goalColumn=s[e]}),findWordAt:function(e){var t=wr(this.doc,e.line).text,n=e.ch,i=e.ch;if(t){var r=this.getHelper(e,"wordChars");(e.xRel<0||i==t.length)&&n?--n:++i;for(var o=t.charAt(n),a=ko(o,r)?function(e){return ko(e,r)}:/\s/.test(o)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!ko(e)};0<n&&a(t.charAt(n-1));)--n;for(;i<t.length&&a(t.charAt(i));)++i}return new Me(pe(e.line,n),pe(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Lo(this.display.cursorDiv,"CodeMirror-overwrite"):No(this.display.cursorDiv,"CodeMirror-overwrite"),Xr(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==Mo()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Jt(function(e,t){null==e&&null==t||Gn(this),null!=e&&(this.curOp.scrollLeft=e),null!=t&&(this.curOp.scrollTop=t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-dt(this)-this.display.barHeight,width:e.scrollWidth-dt(this)-this.display.barWidth,clientHeight:pt(this),clientWidth:ht(this)}},scrollIntoView:Jt(function(e,t){if(null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:pe(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line)Gn(this),this.curOp.scrollToPos=e;else{var n=Un(this,Math.min(e.from.left,e.to.left),Math.min(e.from.top,e.to.top)-e.margin,Math.max(e.from.right,e.to.right),Math.max(e.from.bottom,e.to.bottom)+e.margin);this.scrollTo(n.scrollLeft,n.scrollTop)}}),setSize:Jt(function(e,t){var n=this;function i(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}null!=e&&(n.display.wrapper.style.width=i(e)),null!=t&&(n.display.wrapper.style.height=i(t)),n.options.lineWrapping&&kt(this);var r=n.display.viewFrom;n.doc.iter(r,n.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){tn(n,r,"widget");break}++r}),n.curOp.forceUpdate=!0,Xr(n,"refresh",this)}),operation:function(e){return Yt(this,e)},refresh:Jt(function(){var e=this.display.cachedTextHeight;en(this),this.curOp.forceUpdate=!0,_t(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),M(this),(null==e||.5<Math.abs(e-Lt(this.display)))&&E(this),Xr(this,"refresh",this)}),swapDoc:Jt(function(e){var t=this.doc;return t.cm=null,br(this,e),_t(this),this.display.input.reset(),this.scrollTo(e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,Kr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},no(k);var Zn=k.defaults={},ei=k.optionHandlers={};function ti(e,t,i,n){k.defaults[e]=t,i&&(ei[e]=n?function(e,t,n){n!=ni&&i(e,t,n)}:i)}var ni=k.Init={toString:function(){return"CodeMirror.Init"}};ti("value","",function(e,t){e.setValue(t)},!0),ti("mode",null,function(e,t){e.doc.modeOption=t,T(e)},!0),ti("indentUnit",2,T,!0),ti("indentWithTabs",!1),ti("smartIndent",!0),ti("tabSize",4,function(e){D(e),_t(e),en(e)},!0),ti("lineSeparator",null,function(e,i){if(e.doc.lineSep=i){var r=[],o=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var n=e.text.indexOf(i,t);if(-1==n)break;t=n+i.length,r.push(pe(o,n))}o++});for(var t=r.length-1;0<=t;t--)Vn(e.doc,i,r[t],pe(r[t].line,r[t].ch+i.length))}}),ti("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,n){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),n!=k.Init&&e.refresh()}),ti("specialCharPlaceholder",function(e){var t=Eo("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t},function(e){e.refresh()},!0),ti("electricChars",!0),ti("inputStyle",u?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),ti("spellcheck",!1,function(e,t){e.getInputField().spellcheck=t},!0),ti("rtlMoveVisually",!d),ti("wholeLineUpdateBefore",!0),ti("theme","default",function(e){I(e),P(e)},!0),ti("keyMap","default",function(e,t,n){var i=mi(t),r=n!=k.Init&&mi(n);r&&r.detach&&r.detach(e,i),i.attach&&i.attach(e,r||null)}),ti("extraKeys",null),ti("lineWrapping",!1,function(e){e.options.lineWrapping?(Lo(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(No(e.display.wrapper,"CodeMirror-wrap"),N(e)),E(e),en(e),_t(e),setTimeout(function(){H(e)},100)},!0),ti("gutters",[],function(e){L(e.options),P(e)},!0),ti("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?G(e.display)+"px":"0",e.refresh()},!0),ti("coverGutterNextToScrollbar",!1,function(e){H(e)},!0),ti("scrollbarStyle","native",function(e){q(e),H(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),ti("lineNumbers",!1,function(e){L(e.options),P(e)},!0),ti("firstLineNumber",1,P,!0),ti("lineNumberFormatter",function(e){return e},P,!0),ti("showCursorWhenSelecting",!1,et,!0),ti("resetSelectionOnContextMenu",!0),ti("lineWiseCopyCut",!0),ti("readOnly",!1,function(e,t){"nocursor"==t?(Pn(e),e.display.input.blur(),e.display.disabled=!0):e.display.disabled=!1,e.display.input.readOnlyChanged(t)}),ti("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),ti("dragDrop",!0,function(e,t,n){if(!t!=!(n&&n!=k.Init)){var i=e.display.dragFunctions,r=t?zr:Yr;r(e.display.scroller,"dragstart",i.start),r(e.display.scroller,"dragenter",i.enter),r(e.display.scroller,"dragover",i.over),r(e.display.scroller,"dragleave",i.leave),r(e.display.scroller,"drop",i.drop)}}),ti("allowDropFileTypes",null),ti("cursorBlinkRate",530),ti("cursorScrollMargin",0),ti("cursorHeight",1,et,!0),ti("singleCursorHeightPerLine",!0,et,!0),ti("workTime",100),ti("workDelay",100),ti("flattenSpans",!0,D,!0),ti("addModeClass",!1,D,!0),ti("pollInterval",100),ti("undoDepth",200,function(e,t){e.doc.history.undoDepth=t}),ti("historyEventDelay",1250),ti("viewportMargin",10,function(e){e.refresh()},!0),ti("maxHighlightLength",1e4,D,!0),ti("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),ti("tabindex",null,function(e,t){e.display.input.getField().tabIndex=t||""}),ti("autofocus",null);var ii=k.modes={},ri=k.mimeModes={};k.defineMode=function(e,t){k.defaults.mode||"null"==e||(k.defaults.mode=e),2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),ii[e]=t},k.defineMIME=function(e,t){ri[e]=t},k.resolveMode=function(e){if("string"==typeof e&&ri.hasOwnProperty(e))e=ri[e];else if(e&&"string"==typeof e.name&&ri.hasOwnProperty(e.name)){var t=ri[e.name];"string"==typeof t&&(t={name:t}),(e=bo(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return k.resolveMode("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return k.resolveMode("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}},k.getMode=function(e,t){t=k.resolveMode(t);var n=ii[t.name];if(!n)return k.getMode(e,"text/plain");var i=n(e,t);if(oi.hasOwnProperty(t.name)){var r=oi[t.name];for(var o in r)r.hasOwnProperty(o)&&(i.hasOwnProperty(o)&&(i["_"+o]=i[o]),i[o]=r[o])}if(i.name=t.name,t.helperType&&(i.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)i[o]=t.modeProps[o];return i},k.defineMode("null",function(){return{token:function(e){e.skipToEnd()}}}),k.defineMIME("text/plain","null");var oi=k.modeExtensions={};k.extendMode=function(e,t){wo(t,oi.hasOwnProperty(e)?oi[e]:oi[e]={})},k.defineExtension=function(e,t){k.prototype[e]=t},k.defineDocExtension=function(e,t){gr.prototype[e]=t},k.defineOption=ti;var ai=[];k.defineInitHook=function(e){ai.push(e)};var si=k.helpers={};k.registerHelper=function(e,t,n){si.hasOwnProperty(e)||(si[e]=k[e]={_global:[]}),si[e][t]=n},k.registerGlobalHelper=function(e,t,n,i){k.registerHelper(e,t,i),si[e]._global.push({pred:n,val:i})};var li=k.copyState=function(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var n={};for(var i in t){var r=t[i];r instanceof Array&&(r=r.concat([])),n[i]=r}return n},ci=k.startState=function(e,t,n){return!e.startState||e.startState(t,n)};k.innerMode=function(e,t){for(;e.innerMode;){var n=e.innerMode(t);if(!n||n.mode==e)break;t=n.state,e=n.mode}return n||{mode:e,state:t}};var ui=k.commands={selectAll:function(e){e.setSelection(pe(e.firstLine(),0),pe(e.lastLine()),oo)},singleSelection:function(e){e.setSelection(e.getCursor("anchor"),e.getCursor("head"),oo)},killLine:function(n){Jn(n,function(e){if(e.empty()){var t=wr(n.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<n.lastLine()?{from:e.head,to:pe(e.head.line+1,0)}:{from:e.head,to:pe(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){Jn(t,function(e){return{from:pe(e.from().line,0),to:je(t.doc,pe(e.to().line+1,0))}})},delLineLeft:function(e){Jn(e,function(e){return{from:pe(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(n){Jn(n,function(e){var t=n.charCoords(e.head,"div").top+5;return{from:n.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(i){Jn(i,function(e){var t=i.charCoords(e.head,"div").top+5,n=i.coordsChar({left:i.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:n}})},undo:function(e){e.undo()},redo:function(e){e.redo()},undoSelection:function(e){e.undoSelection()},redoSelection:function(e){e.redoSelection()},goDocStart:function(e){e.extendSelection(pe(e.firstLine(),0))},goDocEnd:function(e){e.extendSelection(pe(e.lastLine()))},goLineStart:function(t){t.extendSelectionsBy(function(e){return na(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){t.extendSelectionsBy(function(e){return ia(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){t.extendSelectionsBy(function(e){return function(e,t){var n,i=wr(e.doc,t);for(;n=ji(i);)i=n.find(1,!0).line,t=null;var r=Dr(i),o=r?r[0].level%2?ea(i):ta(i):i.text.length;return pe(null==t?kr(i):t,o)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(n){n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5;return n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div")},so)},goLineLeft:function(n){n.extendSelectionsBy(function(e){var t=n.charCoords(e.head,"div").top+5;return n.coordsChar({left:0,top:t},"div")},so)},goLineLeftSmart:function(i){i.extendSelectionsBy(function(e){var t=i.charCoords(e.head,"div").top+5,n=i.coordsChar({left:0,top:t},"div");return n.ch<i.getLine(n.line).search(/\S/)?ia(i,e.head):n},so)},goLineUp:function(e){e.moveV(-1,"line")},goLineDown:function(e){e.moveV(1,"line")},goPageUp:function(e){e.moveV(-1,"page")},goPageDown:function(e){e.moveV(1,"page")},goCharLeft:function(e){e.moveH(-1,"char")},goCharRight:function(e){e.moveH(1,"char")},goColumnLeft:function(e){e.moveH(-1,"column")},goColumnRight:function(e){e.moveH(1,"column")},goWordLeft:function(e){e.moveH(-1,"word")},goGroupRight:function(e){e.moveH(1,"group")},goGroupLeft:function(e){e.moveH(-1,"group")},goWordRight:function(e){e.moveH(1,"word")},delCharBefore:function(e){e.deleteH(-1,"char")},delCharAfter:function(e){e.deleteH(1,"char")},delWordBefore:function(e){e.deleteH(-1,"word")},delWordAfter:function(e){e.deleteH(1,"word")},delGroupBefore:function(e){e.deleteH(-1,"group")},delGroupAfter:function(e){e.deleteH(1,"group")},indentAuto:function(e){e.indentSelection("smart")},indentMore:function(e){e.indentSelection("add")},indentLess:function(e){e.indentSelection("subtract")},insertTab:function(e){e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],n=e.listSelections(),i=e.options.tabSize,r=0;r<n.length;r++){var o=n[r].from(),a=co(e.getLine(o.line),o.ch,i);t.push(po(i-a%i))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(a){Yt(a,function(){for(var e=a.listSelections(),t=[],n=0;n<e.length;n++){var i=e[n].head,r=wr(a.doc,i.line).text;if(r)if(i.ch==r.length&&(i=new pe(i.line,i.ch-1)),0<i.ch)i=new pe(i.line,i.ch+1),a.replaceRange(r.charAt(i.ch-1)+r.charAt(i.ch-2),pe(i.line,i.ch-2),i,"+transpose");else if(i.line>a.doc.first){var o=wr(a.doc,i.line-1).text;o&&a.replaceRange(r.charAt(0)+a.doc.lineSeparator()+o.charAt(o.length-1),pe(i.line-1,o.length-1),pe(i.line,1),"+transpose")}t.push(new Me(i,i))}a.setSelections(t)})},newlineAndIndent:function(i){Yt(i,function(){for(var e=i.listSelections().length,t=0;t<e;t++){var n=i.listSelections()[t];i.replaceRange(i.doc.lineSeparator(),n.anchor,n.head,"+input"),i.indentLine(n.from().line+1,null,!0)}Wn(i)})},openLine:function(e){e.replaceSelection("\n","start")},toggleOverwrite:function(e){e.toggleOverwrite()}},di=k.keyMap={};function hi(e){for(var t,n,i,r,o=e.split(/-(?!$)/),a=(e=o[o.length-1],0);a<o.length-1;a++){var s=o[a];if(/^(cmd|meta|m)$/i.test(s))r=!0;else if(/^a(lt)?$/i.test(s))t=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return t&&(e="Alt-"+e),n&&(e="Ctrl-"+e),r&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}di.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},di.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},di.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},di.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},di.default=y?di.macDefault:di.pcDefault,k.normalizeKeyMap=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];if(/^(name|fallthrough|(de|at)tach)$/.test(n))continue;if("..."==i){delete e[n];continue}for(var r=vo(n.split(" "),hi),o=0;o<r.length;o++){var a,s;o==r.length-1?(s=r.join(" "),a=i):(s=r.slice(0,o+1).join(" "),a="...");var l=t[s];if(l){if(l!=a)throw new Error("Inconsistent bindings for "+s)}else t[s]=a}delete e[n]}for(var c in t)e[c]=t[c];return e};var pi=k.lookupKey=function(e,t,n,i){var r=(t=mi(t)).call?t.call(e,i):t[e];if(!1===r)return"nothing";if("..."===r)return"multi";if(null!=r&&n(r))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return pi(e,t.fallthrough,n,i);for(var o=0;o<t.fallthrough.length;o++){var a=pi(e,t.fallthrough[o],n,i);if(a)return a}}},fi=k.isModifierKey=function(e){var t="string"==typeof e?e:Ko[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t},gi=k.keyName=function(e,t){if(v&&34==e.keyCode&&e.char)return!1;var n=Ko[e.keyCode],i=n;return null!=i&&!e.altGraphKey&&(e.altKey&&"Alt"!=n&&(i="Alt-"+i),(f?e.metaKey:e.ctrlKey)&&"Ctrl"!=n&&(i="Ctrl-"+i),(f?e.ctrlKey:e.metaKey)&&"Cmd"!=n&&(i="Cmd-"+i),!t&&e.shiftKey&&"Shift"!=n&&(i="Shift-"+i),i)};function mi(e){return"string"==typeof e?di[e]:e}k.fromTextArea=function(t,e){if((e=e?wo(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var n=Mo();e.autofocus=n==t||null!=t.getAttribute("autofocus")&&n==document.body}function i(){t.value=s.getValue()}if(t.form&&(zr(t.form,"submit",i),!e.leaveSubmitMethodAlone)){var r=t.form,o=r.submit;try{var a=r.submit=function(){i(),r.submit=o,r.submit(),r.submit=a}}catch(e){}}e.finishInit=function(e){e.save=i,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,i(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(Yr(t.form,"submit",i),"function"==typeof t.form.submit&&(t.form.submit=o))}},t.style.display="none";var s=k(function(e){t.parentNode.insertBefore(e,t.nextSibling)},e);return s};var vi=k.StringStream=function(e,t){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};vi.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},eat:function(e){var t=this.string.charAt(this.pos);if("string"==typeof e)var n=t==e;else n=t&&(e.test?e.test(t):e(t));if(n)return++this.pos,t},eatWhile:function(e){for(var t=this.pos;this.eat(e););return this.pos>t},eatSpace:function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},skipToEnd:function(){this.pos=this.string.length},skipTo:function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},backUp:function(e){this.pos-=e},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=co(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?co(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return co(this.string,null,this.tabSize)-(this.lineStart?co(this.string,this.lineStart,this.tabSize):0)},match:function(e,t,n){if("string"!=typeof e){var i=this.string.slice(this.pos).match(e);return i&&0<i.index?null:(i&&!1!==t&&(this.pos+=i[0].length),i)}var r=function(e){return n?e.toLowerCase():e};if(r(this.string.substr(this.pos,e.length))==r(e))return!1!==t&&(this.pos+=e.length),!0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}}};var yi=0,bi=k.TextMarker=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++yi};no(bi),bi.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Bt(e),to(this,"clear")){var n=this.find();n&&Kr(this,"clear",n.from,n.to)}for(var i=null,r=null,o=0;o<this.lines.length;++o){var a=this.lines[o],s=_i(a.markedSpans,this);e&&!this.collapsed?tn(e,kr(a),"text"):e&&(null!=s.to&&(r=kr(a)),null!=s.from&&(i=kr(a))),a.markedSpans=Ti(a.markedSpans,s),null==s.from&&this.collapsed&&!Bi(this.doc,a)&&e&&Sr(a,Lt(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(o=0;o<this.lines.length;++o){var l=Fi(this.lines[o]),c=O(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=i&&e&&this.collapsed&&en(e,i,r+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Xe(e.doc)),e&&Kr(e,"markerCleared",e,this),t&&Vt(e),this.parent&&this.parent.clear()}},bi.prototype.find=function(e,t){var n,i;null==e&&"bookmark"==this.type&&(e=1);for(var r=0;r<this.lines.length;++r){var o=this.lines[r],a=_i(o.markedSpans,this);if(null!=a.from&&(n=pe(t?o:kr(o),a.from),-1==e))return n;if(null!=a.to&&(i=pe(t?o:kr(o),a.to),1==e))return i}return n&&{from:n,to:i}},bi.prototype.changed=function(){var o=this.find(-1,!0),a=this,s=this.doc.cm;o&&s&&Yt(s,function(){var e=o.line,t=kr(o.line),n=mt(s,t);if(n&&(St(n),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!Bi(a.doc,e)&&null!=a.height){var i=a.height;a.height=null;var r=Wi(a)-i;r&&Sr(e,e.height+r)}})},bi.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=mo(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},bi.prototype.detachLine=function(e){if(this.lines.splice(mo(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}};yi=0;function wi(t,i,r,e,n){if(e&&e.shared)return function(e,n,i,r,o){(r=wo(r)).shared=!1;var a=[wi(e,n,i,r,o)],s=a[0],l=r.widgetNode;return yr(e,function(e){l&&(r.widgetNode=l.cloneNode(!0)),a.push(wi(e,je(e,n),je(e,i),r,o));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;s=fo(a)}),new xi(a,s)}(t,i,r,e,n);if(t.cm&&!t.cm.curOp)return Xt(t.cm,wi)(t,i,r,e,n);var o=new bi(t,n),a=fe(i,r);if(e&&wo(e,o,!1),0<a||0==a&&!1!==o.clearWhenEmpty)return o;if(o.replacedWith&&(o.collapsed=!0,o.widgetNode=Eo("span",[o.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||o.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(o.widgetNode.insertLeft=!0)),o.collapsed){if(Ri(t,i.line,i,r,o)||i.line!=r.line&&Ri(t,r.line,i,r,o))throw new Error("Inserting collapsed marker partially overlapping an existing one");S=!0}o.addToHistory&&Pr(t,{from:i,to:r,origin:"markText"},t.sel,NaN);var s,l=i.line,c=t.cm;if(t.iter(l,r.line+1,function(e){var t,n;c&&o.collapsed&&!c.options.lineWrapping&&Fi(e)==c.display.maxLine&&(s=!0),o.collapsed&&l!=i.line&&Sr(e,0),t=e,n=new ki(o,l==i.line?i.ch:null,l==r.line?r.ch:null),t.markedSpans=t.markedSpans?t.markedSpans.concat([n]):[n],n.marker.attachLine(t),++l}),o.collapsed&&t.iter(i.line,r.line+1,function(e){Bi(t,e)&&Sr(e,0)}),o.clearOnEnter&&zr(o,"beforeCursorEnter",function(){o.clear()}),o.readOnly&&(C=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),o.collapsed&&(o.id=++yi,o.atomic=!0),c){if(s&&(c.curOp.updateMaxLine=!0),o.collapsed)en(c,i.line,r.line+1);else if(o.className||o.title||o.startStyle||o.endStyle||o.css)for(var u=i.line;u<=r.line;u++)tn(c,u,"text");o.atomic&&Xe(c.doc),Kr(c,"markerAdded",c,o)}return o}var xi=k.SharedTextMarker=function(e,t){this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=this};function Ci(e){return e.findMarks(pe(e.first,0),e.clipPos(pe(e.lastLine())),function(e){return e.parent})}function Si(e){for(var t=0;t<e.length;t++){var n=e[t],i=[n.primary.doc];yr(n.primary.doc,function(e){i.push(e)});for(var r=0;r<n.markers.length;r++){var o=n.markers[r];-1==mo(i,o.doc)&&(o.parent=null,n.markers.splice(r--,1))}}}function ki(e,t,n){this.marker=e,this.from=t,this.to=n}function _i(e,t){if(e)for(var n=0;n<e.length;++n){var i=e[n];if(i.marker==t)return i}}function Ti(e,t){for(var n,i=0;i<e.length;++i)e[i]!=t&&(n||(n=[])).push(e[i]);return n}function Di(e,t){if(t.full)return null;var n=Re(e,t.from.line)&&wr(e,t.from.line).markedSpans,i=Re(e,t.to.line)&&wr(e,t.to.line).markedSpans;if(!n&&!i)return null;var r=t.from.ch,o=t.to.ch,a=0==fe(t.from,t.to),s=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],a=o.marker;if(null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t)||o.from==t&&"bookmark"==a.type&&(!n||!o.marker.insertLeft)){var s=null==o.to||(a.inclusiveRight?o.to>=t:o.to>t);(i||(i=[])).push(new ki(a,o.from,s?null:o.to))}}return i}(n,r,a),l=function(e,t,n){if(e)for(var i,r=0;r<e.length;++r){var o=e[r],a=o.marker;if(null==o.to||(a.inclusiveRight?o.to>=t:o.to>t)||o.from==t&&"bookmark"==a.type&&(!n||o.marker.insertLeft)){var s=null==o.from||(a.inclusiveLeft?o.from<=t:o.from<t);(i||(i=[])).push(new ki(a,s?null:o.from-t,null==o.to?null:o.to-t))}}return i}(i,o,a),c=1==t.text.length,u=fo(t.text).length+(c?r:0);if(s)for(var d=0;d<s.length;++d){if(null==(h=s[d]).to)(p=_i(l,h.marker))?c&&(h.to=null==p.to?null:p.to+u):h.to=r}if(l)for(d=0;d<l.length;++d){var h,p;if(null!=(h=l[d]).to&&(h.to+=u),null==h.from)(p=_i(s,h.marker))||(h.from=u,c&&(s||(s=[])).push(h));else h.from+=u,c&&(s||(s=[])).push(h)}s&&(s=Ai(s)),l&&l!=s&&(l=Ai(l));var f=[s];if(!c){var g,m=t.text.length-2;if(0<m&&s)for(d=0;d<s.length;++d)null==s[d].to&&(g||(g=[])).push(new ki(s[d].marker,null,null));for(d=0;d<m;++d)f.push(g);f.push(l)}return f}function Ai(e){for(var t=0;t<e.length;++t){var n=e[t];null!=n.from&&n.from==n.to&&!1!==n.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Ei(e,t){var n=function(e,t){var n=t["spans_"+e.id];if(!n)return null;for(var i=0,r=[];i<t.text.length;++i)r.push(Or(n[i]));return r}(e,t),i=Di(e,t);if(!n)return i;if(!i)return n;for(var r=0;r<n.length;++r){var o=n[r],a=i[r];if(o&&a)e:for(var s=0;s<a.length;++s){for(var l=a[s],c=0;c<o.length;++c)if(o[c].marker==l.marker)continue e;o.push(l)}else a&&(n[r]=a)}return n}function Ii(e){var t=e.markedSpans;if(t){for(var n=0;n<t.length;++n)t[n].marker.detachLine(e);e.markedSpans=null}}function Pi(e,t){if(t){for(var n=0;n<t.length;++n)t[n].marker.attachLine(e);e.markedSpans=t}}function $i(e){return e.inclusiveLeft?-1:0}function Mi(e){return e.inclusiveRight?1:0}function Oi(e,t){var n=e.lines.length-t.lines.length;if(0!=n)return n;var i=e.find(),r=t.find(),o=fe(i.from,r.from)||$i(e)-$i(t);if(o)return-o;var a=fe(i.to,r.to)||Mi(e)-Mi(t);return a||t.id-e.id}function Ni(e,t){var n,i=S&&e.markedSpans;if(i)for(var r,o=0;o<i.length;++o)(r=i[o]).marker.collapsed&&null==(t?r.from:r.to)&&(!n||Oi(n,r.marker)<0)&&(n=r.marker);return n}function Li(e){return Ni(e,!0)}function ji(e){return Ni(e,!1)}function Ri(e,t,n,i,r){var o=wr(e,t),a=S&&o.markedSpans;if(a)for(var s=0;s<a.length;++s){var l=a[s];if(l.marker.collapsed){var c=l.marker.find(0),u=fe(c.from,n)||$i(l.marker)-$i(r),d=fe(c.to,i)||Mi(l.marker)-Mi(r);if(!(0<=u&&d<=0||u<=0&&0<=d)&&(u<=0&&(l.marker.inclusiveRight&&r.inclusiveLeft?0<=fe(c.to,n):0<fe(c.to,n))||0<=u&&(l.marker.inclusiveRight&&r.inclusiveLeft?fe(c.from,i)<=0:fe(c.from,i)<0)))return!0}}}function Fi(e){for(var t;t=Li(e);)e=t.find(-1,!0).line;return e}function qi(e,t){var n=wr(e,t),i=Fi(n);return n==i?t:kr(i)}function Hi(e,t){if(t>e.lastLine())return t;var n,i=wr(e,t);if(!Bi(e,i))return t;for(;n=ji(i);)i=n.find(1,!0).line;return kr(i)+1}function Bi(e,t){var n=S&&t.markedSpans;if(n)for(var i,r=0;r<n.length;++r)if((i=n[r]).marker.collapsed){if(null==i.from)return!0;if(!i.marker.widgetNode&&0==i.from&&i.marker.inclusiveLeft&&Vi(e,t,i))return!0}}function Vi(e,t,n){if(null==n.to){var i=n.marker.find(1,!0);return Vi(e,i.line,_i(i.line.markedSpans,n.marker))}if(n.marker.inclusiveRight&&n.to==t.text.length)return!0;for(var r,o=0;o<t.markedSpans.length;++o)if((r=t.markedSpans[o]).marker.collapsed&&!r.marker.widgetNode&&r.from==n.to&&(null==r.to||r.to!=n.from)&&(r.marker.inclusiveLeft||n.marker.inclusiveRight)&&Vi(e,t,r))return!0}no(xi),xi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();Kr(this,"clear")}},xi.prototype.find=function(e,t){return this.primary.find(e,t)};var Ui=k.LineWidget=function(e,t,n){if(n)for(var i in n)n.hasOwnProperty(i)&&(this[i]=n[i]);this.doc=e,this.node=t};function zi(e,t,n){Tr(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&zn(e,null,n)}function Wi(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!$o(document.body,e.node)){var n="position: relative;";e.coverGutter&&(n+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(n+="width: "+t.display.wrapper.clientWidth+"px;"),Po(t.display.measure,Eo("div",[e.node],null,n))}return e.height=e.node.parentNode.offsetHeight}no(Ui),Ui.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,n=this.line,i=kr(n);if(null!=i&&t){for(var r=0;r<t.length;++r)t[r]==this&&t.splice(r--,1);t.length||(n.widgets=null);var o=Wi(this);Sr(n,Math.max(0,n.height-o)),e&&Yt(e,function(){zi(e,n,-o),tn(e,i,"widget")})}},Ui.prototype.changed=function(){var e=this.height,t=this.doc.cm,n=this.line;this.height=null;var i=Wi(this)-e;i&&(Sr(n,n.height+i),t&&Yt(t,function(){t.curOp.forceUpdate=!0,zi(t,n,i)}))};var Gi=k.Line=function(e,t,n){this.text=e,Pi(this,t),this.height=n?n(this):1};function Yi(e,t){if(e)for(;;){var n=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!n)break;e=e.slice(0,n.index)+e.slice(n.index+n[0].length);var i=n[1]?"bgClass":"textClass";null==t[i]?t[i]=n[2]:new RegExp("(?:^|s)"+n[2]+"(?:$|s)").test(t[i])||(t[i]+=" "+n[2])}return e}function Xi(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var n=k.innerMode(e,t);return n.mode.blankLine?n.mode.blankLine(n.state):void 0}}function Ji(e,t,n,i){for(var r=0;r<10;r++){i&&(i[0]=k.innerMode(e,n).mode);var o=e.token(t,n);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Ki(e,t,n,i){function r(e){return{start:d.start,end:d.pos,string:d.current(),type:o||null,state:e?li(a.mode,u):u}}var o,a=e.doc,s=a.mode;t=je(a,t);var l,c=wr(a,t.line),u=st(e,t.line,n),d=new vi(c.text,e.options.tabSize);for(i&&(l=[]);(i||d.pos<t.ch)&&!d.eol();)d.start=d.pos,o=Ji(s,d,u),i&&l.push(r(!0));return i?l:r()}function Qi(e,t,n,i,r,o,a){var s=n.flattenSpans;null==s&&(s=e.options.flattenSpans);var l,c=0,u=null,d=new vi(t,e.options.tabSize),h=e.options.addModeClass&&[null];for(""==t&&Yi(Xi(n,i),o);!d.eol();){if(d.pos>e.options.maxHighlightLength?(s=!1,a&&tr(e,t,i,d.pos),d.pos=t.length,l=null):l=Yi(Ji(n,d,i,h),o),h){var p=h[0].name;p&&(l="m-"+(l?p+" "+l:p))}if(!s||u!=l){for(;c<d.start;)r(c=Math.min(d.start,c+5e3),u);u=l}d.start=d.pos}for(;c<d.pos;){var f=Math.min(d.pos,c+5e3);r(f,u),c=f}}function Zi(e,t,n,i){var o=[e.state.modeGen],r={};Qi(e,t.text,e.doc.mode,n,function(e,t){o.push(e,t)},r,i);for(var a=0;a<e.state.overlays.length;++a){var s=e.state.overlays[a],l=1,c=0;Qi(e,t.text,s.mode,!0,function(e,t){for(var n=l;c<e;){var i=o[l];e<i&&o.splice(l,1,e,o[l+1],i),l+=2,c=Math.min(e,i)}if(t)if(s.opaque)o.splice(n,l-n,e,"cm-overlay "+t),l=n+2;else for(;n<l;n+=2){var r=o[n+1];o[n+1]=(r?r+" ":"")+"cm-overlay "+t}},r)}return{styles:o,classes:r.bgClass||r.textClass?r:null}}function er(e,t,n){if(!t.styles||t.styles[0]!=e.state.modeGen){var i=st(e,kr(t)),r=Zi(e,t,t.text.length>e.options.maxHighlightLength?li(e.doc.mode,i):i);t.stateAfter=i,t.styles=r.styles,r.classes?t.styleClasses=r.classes:t.styleClasses&&(t.styleClasses=null),n===e.doc.frontier&&e.doc.frontier++}return t.styles}function tr(e,t,n,i){var r=e.doc.mode,o=new vi(t,e.options.tabSize);for(o.start=o.pos=i||0,""==t&&Xi(r,n);!o.eol();)Ji(r,o,n),o.start=o.pos}no(Gi),Gi.prototype.lineNo=function(){return kr(this)};var nr={},ir={};function rr(e,t){if(!e||/^\s*$/.test(e))return null;var n=t.addModeClass?ir:nr;return n[e]||(n[e]=e.replace(/\S+/g,"cm-$&"))}function or(e,t){var n=Eo("span",null,null,m?"padding-right: .1px":null),i={pre:Eo("pre",[n],"CodeMirror-line"),content:n,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(w||m)&&e.getOption("lineWrapping")};t.measure={};for(var r=0;r<=(t.rest?t.rest.length:0);r++){var o,a=r?t.rest[r-1]:t.line;i.pos=0,i.addToken=ar,Uo(e.display.measure)&&(o=Dr(a))&&(i.addToken=sr(i.addToken,o)),i.map=[],cr(a,i,er(e,a,t!=e.display.externalMeasured&&kr(a))),a.styleClasses&&(a.styleClasses.bgClass&&(i.bgClass=jo(a.styleClasses.bgClass,i.bgClass||"")),a.styleClasses.textClass&&(i.textClass=jo(a.styleClasses.textClass,i.textClass||""))),0==i.map.length&&i.map.push(0,0,i.content.appendChild(Vo(e.display.measure))),0==r?(t.measure.map=i.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(i.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(m){var s=i.content.lastChild;(/\bcm-tab\b/.test(s.className)||s.querySelector&&s.querySelector(".cm-tab"))&&(i.content.className="cm-tab-wrap-hack")}return Xr(e,"renderLine",e,t.line,i.pre),i.pre.className&&(i.textClass=jo(i.pre.className,i.textClass||"")),i}function ar(e,t,n,i,r,o,a){if(t){var s=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var n=t,i="",r=0;r<e.length;r++){var o=e.charAt(r);" "!=o||!n||r!=e.length-1&&32!=e.charCodeAt(r+1)||(o=" "),i+=o,n=" "==o}return i}(t,e.trailingSpace):t,l=e.cm.state.specialChars,c=!1;if(l.test(t)){m=document.createDocumentFragment();for(var u=0;;){l.lastIndex=u;var d=l.exec(t),h=d?d.index-u:t.length-u;if(h){var p=document.createTextNode(s.slice(u,u+h));w&&x<9?m.appendChild(Eo("span",[p])):m.appendChild(p),e.map.push(e.pos,e.pos+h,p),e.col+=h,e.pos+=h}if(!d)break;if(u+=h+1,"\t"==d[0]){var f=e.cm.options.tabSize,g=f-e.col%f;(p=m.appendChild(Eo("span",po(g),"cm-tab"))).setAttribute("role","presentation"),p.setAttribute("cm-text","\t"),e.col+=g}else if("\r"==d[0]||"\n"==d[0]){(p=m.appendChild(Eo("span","\r"==d[0]?"␍":"␤","cm-invalidchar"))).setAttribute("cm-text",d[0]),e.col+=1}else{(p=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),w&&x<9?m.appendChild(Eo("span",[p])):m.appendChild(p),e.col+=1}e.map.push(e.pos,e.pos+1,p),e.pos++}}else{e.col+=t.length;var m=document.createTextNode(s);e.map.push(e.pos,e.pos+t.length,m),w&&x<9&&(c=!0),e.pos+=t.length}if(e.trailingSpace=32==s.charCodeAt(t.length-1),n||i||r||c||a){var v=n||"";i&&(v+=i),r&&(v+=r);var y=Eo("span",[m],v,a);return o&&(y.title=o),e.content.appendChild(y)}e.content.appendChild(m)}}function sr(d,h){return function(e,t,n,i,r,o,a){n=n?n+" cm-force-border":"cm-force-border";for(var s=e.pos,l=s+t.length;;){for(var c=0;c<h.length;c++){var u=h[c];if(u.to>s&&u.from<=s)break}if(u.to>=l)return d(e,t,n,i,r,o,a);d(e,t.slice(0,u.to-s),n,i,null,o,a),i=null,t=t.slice(u.to-s),s=u.to}}}function lr(e,t,n,i){var r=!i&&n.widgetNode;r&&e.map.push(e.pos,e.pos+t,r),!i&&e.cm.display.input.needsContentAttribute&&(r||(r=e.content.appendChild(document.createElement("span"))),r.setAttribute("cm-marker",n.id)),r&&(e.cm.display.input.setUneditable(r),e.content.appendChild(r)),e.pos+=t,e.trailingSpace=!1}function cr(e,t,n){var i=e.markedSpans,r=e.text,o=0;if(i)for(var a,s,l,c,u,d,h,p=r.length,f=0,g=(_=1,""),m=0;;){if(m==f){l=c=u=d=s="",h=null,m=1/0;for(var v,y=[],b=0;b<i.length;++b){var w=i[b],x=w.marker;"bookmark"==x.type&&w.from==f&&x.widgetNode?y.push(x):w.from<=f&&(null==w.to||w.to>f||x.collapsed&&w.to==f&&w.from==f)?(null!=w.to&&w.to!=f&&m>w.to&&(m=w.to,c=""),x.className&&(l+=" "+x.className),x.css&&(s=(s?s+";":"")+x.css),x.startStyle&&w.from==f&&(u+=" "+x.startStyle),x.endStyle&&w.to==m&&(v||(v=[])).push(x.endStyle,w.to),x.title&&!d&&(d=x.title),x.collapsed&&(!h||Oi(h.marker,x)<0)&&(h=w)):w.from>f&&m>w.from&&(m=w.from)}if(v)for(b=0;b<v.length;b+=2)v[b+1]==m&&(c+=" "+v[b]);if(!h||h.from==f)for(b=0;b<y.length;++b)lr(t,0,y[b]);if(h&&(h.from||0)==f){if(lr(t,(null==h.to?p+1:h.to)-f,h.marker,null==h.from),null==h.to)return;h.to==f&&(h=!1)}}if(p<=f)break;for(var C=Math.min(p,m);;){if(g){var S=f+g.length;if(!h){var k=C<S?g.slice(0,C-f):g;t.addToken(t,k,a?a+l:l,u,f+k.length==m?c:"",d,s)}if(C<=S){g=g.slice(C-f),f=C;break}f=S,u=""}g=r.slice(o,o=n[_++]),a=rr(n[_++],t.cm.options)}}else for(var _=1;_<n.length;_+=2)t.addToken(t,r.slice(o,o=n[_]),rr(n[_+1],t.cm.options))}function ur(e,t){return 0==t.from.ch&&0==t.to.ch&&""==fo(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function dr(e,i,t,r){function o(e){return t?t[e]:null}function n(e,t,n){!function(e,t,n,i){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Ii(e),Pi(e,n);var r=i?i(e):1;r!=e.height&&Sr(e,r)}(e,t,n,r),Kr(e,"change",e,i)}function a(e,t){for(var n=e,i=[];n<t;++n)i.push(new Gi(c[n],o(n),r));return i}var s=i.from,l=i.to,c=i.text,u=wr(e,s.line),d=wr(e,l.line),h=fo(c),p=o(c.length-1),f=l.line-s.line;if(i.full)e.insert(0,a(0,c.length)),e.remove(c.length,e.size-c.length);else if(ur(e,i)){var g=a(0,c.length-1);n(d,d.text,p),f&&e.remove(s.line,f),g.length&&e.insert(s.line,g)}else if(u==d){if(1==c.length)n(u,u.text.slice(0,s.ch)+h+u.text.slice(l.ch),p);else(g=a(1,c.length-1)).push(new Gi(h+u.text.slice(l.ch),p,r)),n(u,u.text.slice(0,s.ch)+c[0],o(0)),e.insert(s.line+1,g)}else if(1==c.length)n(u,u.text.slice(0,s.ch)+c[0]+d.text.slice(l.ch),o(0)),e.remove(s.line+1,f);else{n(u,u.text.slice(0,s.ch)+c[0],o(0)),n(d,h+d.text.slice(l.ch),p);g=a(1,c.length-1);1<f&&e.remove(s.line+1,f-1),e.insert(s.line+1,g)}Kr(e,"change",e,i)}function hr(e){this.lines=e,this.parent=null;for(var t=0,n=0;t<e.length;++t)e[t].parent=this,n+=e[t].height;this.height=n}function pr(e){this.children=e;for(var t=0,n=0,i=0;i<e.length;++i){var r=e[i];t+=r.chunkSize(),n+=r.height,r.parent=this}this.size=t,this.height=n,this.parent=null}hr.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var n=e,i=e+t;n<i;++n){var r=this.lines[n];this.height-=r.height,(o=r).parent=null,Ii(o),Kr(r,"delete")}var o;this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,n){this.height+=n,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=this},iterN:function(e,t,n){for(var i=e+t;e<i;++e)if(n(this.lines[e]))return!0}},pr.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var n=0;n<this.children.length;++n){var i=this.children[n],r=i.chunkSize();if(e<r){var o=Math.min(t,r-e),a=i.height;if(i.removeInner(e,o),this.height-=a-i.height,r==o&&(this.children.splice(n--,1),i.parent=null),0==(t-=o))break;e=0}else e-=r}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof hr))){var s=[];this.collapse(s),this.children=[new hr(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,n){this.size+=t.length,this.height+=n;for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<=o){if(r.insertInner(e,t,n),r.lines&&50<r.lines.length){for(var a=r.lines.length%25+25,s=a;s<r.lines.length;){var l=new hr(r.lines.slice(s,s+=25));r.height-=l.height,this.children.splice(++i,0,l),l.parent=this}r.lines=r.lines.slice(0,a),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new pr(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var n=mo(e.parent.children,e);e.parent.children.splice(n+1,0,t)}else{var i=new pr(e.children);(i.parent=e).children=[i,t],e=i}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,n){for(var i=0;i<this.children.length;++i){var r=this.children[i],o=r.chunkSize();if(e<o){var a=Math.min(t,o-e);if(r.iterN(e,a,n))return!0;if(0==(t-=a))break;e=0}else e-=o}}};var fr=0,gr=k.Doc=function(e,t,n,i){if(!(this instanceof gr))return new gr(e,t,n,i);null==n&&(n=0),pr.call(this,[new hr([new Gi("",null)])]),this.first=n,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=n;var r=pe(n,0);this.sel=Ne(r),this.history=new Ar(null),this.id=++fr,this.modeOption=t,this.lineSep=i,this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),dr(this,{from:r,to:r,text:e}),We(this,Ne(r),oo)};gr.prototype=bo(pr.prototype,{constructor:gr,iter:function(e,t,n){n?this.iterN(e-this.first,t-e,n):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var n=0,i=0;i<t.length;++i)n+=t[i].height;this.insertInner(e-this.first,t,n)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Cr(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Kt(function(e){var t=pe(this.first,0),n=this.first+this.size-1;Rn(this,{from:t,to:pe(n,wr(this,n).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),We(this,Ne(t))}),replaceRange:function(e,t,n,i){Vn(this,e,t=je(this,t),n=n?je(this,n):t,i)},getRange:function(e,t,n){var i=xr(this,je(this,e),je(this,t));return!1===n?i:i.join(n||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(Re(this,e))return wr(this,e)},getLineNumber:function(e){return kr(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=wr(this,e)),Fi(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return je(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Kt(function(e,t,n){Ue(this,je(this,"number"==typeof e?pe(e,t||0):e),null,n)}),setSelection:Kt(function(e,t,n){Ue(this,je(this,e),je(this,t||e),n)}),extendSelection:Kt(function(e,t,n){He(this,je(this,e),t&&je(this,t),n)}),extendSelections:Kt(function(e,t){Be(this,Fe(this,e),t)}),extendSelectionsBy:Kt(function(e,t){Be(this,Fe(this,vo(this.sel.ranges,e)),t)}),setSelections:Kt(function(e,t,n){if(e.length){for(var i=0,r=[];i<e.length;i++)r[i]=new Me(je(this,e[i].anchor),je(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),We(this,Oe(r,t),n)}}),addSelection:Kt(function(e,t,n){var i=this.sel.ranges.slice(0);i.push(new Me(je(this,e),je(this,t||e))),We(this,Oe(i,i.length-1),n)}),getSelection:function(e){for(var t,n=this.sel.ranges,i=0;i<n.length;i++){var r=xr(this,n[i].from(),n[i].to());t=t?t.concat(r):r}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],n=this.sel.ranges,i=0;i<n.length;i++){var r=xr(this,n[i].from(),n[i].to());!1!==e&&(r=r.join(e||this.lineSeparator())),t[i]=r}return t},replaceSelection:function(e,t,n){for(var i=[],r=0;r<this.sel.ranges.length;r++)i[r]=e;this.replaceSelections(i,t,n||"+input")},replaceSelections:Kt(function(e,t,n){for(var i=[],r=this.sel,o=0;o<r.ranges.length;o++){var a=r.ranges[o];i[o]={from:a.from(),to:a.to(),text:this.splitLines(e[o]),origin:n}}var s=t&&"end"!=t&&function(e,t,n){for(var i=[],r=pe(e.first,0),o=r,a=0;a<t.length;a++){var s=t[a],l=Ln(s.from,r,o),c=Ln(Mn(s),r,o);if(r=s.to,o=c,"around"==n){var u=e.sel.ranges[a],d=fe(u.head,u.anchor)<0;i[a]=new Me(d?c:l,d?l:c)}else i[a]=new Me(l,l)}return new $e(i,e.sel.primIndex)}(this,i,t);for(o=i.length-1;0<=o;o--)Rn(this,i[o]);s?ze(this,s):this.cm&&Wn(this.cm)}),undo:Kt(function(){qn(this,"undo")}),redo:Kt(function(){qn(this,"redo")}),undoSelection:Kt(function(){qn(this,"undo",!0)}),redoSelection:Kt(function(){qn(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,n=0,i=0;i<e.done.length;i++)e.done[i].ranges||++t;for(i=0;i<e.undone.length;i++)e.undone[i].ranges||++n;return{undo:t,redo:n}},clearHistory:function(){this.history=new Ar(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Nr(this.history.done),undone:Nr(this.history.undone)}},setHistory:function(e){var t=this.history=new Ar(this.history.maxGeneration);t.done=Nr(e.done.slice(0),null,!0),t.undone=Nr(e.undone.slice(0),null,!0)},addLineClass:Kt(function(e,n,i){return Xn(this,e,"gutter"==n?"gutter":"class",function(e){var t="text"==n?"textClass":"background"==n?"bgClass":"gutter"==n?"gutterClass":"wrapClass";if(e[t]){if(Oo(i).test(e[t]))return!1;e[t]+=" "+i}else e[t]=i;return!0})}),removeLineClass:Kt(function(e,o,a){return Xn(this,e,"gutter"==o?"gutter":"class",function(e){var t="text"==o?"textClass":"background"==o?"bgClass":"gutter"==o?"gutterClass":"wrapClass",n=e[t];if(!n)return!1;if(null==a)e[t]=null;else{var i=n.match(Oo(a));if(!i)return!1;var r=i.index+i[0].length;e[t]=n.slice(0,i.index)+(i.index&&r!=n.length?" ":"")+n.slice(r)||null}return!0})}),addLineWidget:Kt(function(e,t,n){return r=e,o=new Ui(i=this,t,n),(a=i.cm)&&o.noHScroll&&(a.display.alignWidgets=!0),Xn(i,r,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==o.insertAt?t.push(o):t.splice(Math.min(t.length-1,Math.max(0,o.insertAt)),0,o),o.line=e,a&&!Bi(i,e)){var n=Tr(e)<i.scrollTop;Sr(e,e.height+Wi(o)),n&&zn(a,null,o.height),a.curOp.forceUpdate=!0}return!0}),o;var i,r,o,a}),removeLineWidget:function(e){e.clear()},markText:function(e,t,n){return wi(this,je(this,e),je(this,t),n,n&&n.type||"range")},setBookmark:function(e,t){var n={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return wi(this,e=je(this,e),e,n,"bookmark")},findMarksAt:function(e){var t=[],n=wr(this,(e=je(this,e)).line).markedSpans;if(n)for(var i=0;i<n.length;++i){var r=n[i];(null==r.from||r.from<=e.ch)&&(null==r.to||r.to>=e.ch)&&t.push(r.marker.parent||r.marker)}return t},findMarks:function(r,o,a){r=je(this,r),o=je(this,o);var s=[],l=r.line;return this.iter(r.line,o.line+1,function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;n++){var i=t[n];null!=i.to&&l==r.line&&r.ch>=i.to||null==i.from&&l!=r.line||null!=i.from&&l==o.line&&i.from>=o.ch||a&&!a(i.marker)||s.push(i.marker.parent||i.marker)}++l}),s},getAllMarks:function(){var i=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var n=0;n<t.length;++n)null!=t[n].from&&i.push(t[n].marker)}),i},posFromIndex:function(n){var i,r=this.first,o=this.lineSeparator().length;return this.iter(function(e){var t=e.text.length+o;if(n<t)return i=n,!0;n-=t,++r}),je(this,pe(r,i))},indexFromPos:function(e){var t=(e=je(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var n=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+n}),t},copy:function(e){var t=new gr(Cr(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,n=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<n&&(n=e.to);var i=new gr(Cr(this,t,n),e.mode||this.modeOption,t,this.lineSep);return e.sharedHist&&(i.history=this.history),(this.linked||(this.linked=[])).push({doc:i,sharedHist:e.sharedHist}),i.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var n=0;n<t.length;n++){var i=t[n],r=i.find(),o=e.clipPos(r.from),a=e.clipPos(r.to);if(fe(o,a)){var s=wi(e,o,a,i.primary,i.primary.type);i.markers.push(s),s.parent=i}}}(i,Ci(this)),i},unlinkDoc:function(e){if(e instanceof k&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Si(Ci(this));break}}if(e.history==this.history){var n=[e.id];yr(e,function(e){n.push(e.id)},!0),e.history=new Ar(null),e.history.done=Nr(this.history.done,n),e.history.undone=Nr(this.history.undone,n)}},iterLinkedDocs:function(e){yr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Wo(e)},lineSeparator:function(){return this.lineSep||"\n"}}),gr.prototype.eachLine=gr.prototype.iter;var mr="iter insert remove copy getEditor constructor".split(" ");for(var vr in gr.prototype)gr.prototype.hasOwnProperty(vr)&&mo(mr,vr)<0&&(k.prototype[vr]=function(e){return function(){return e.apply(this.doc,arguments)}}(gr.prototype[vr]));function yr(e,s,l){!function e(t,n,i){if(t.linked)for(var r=0;r<t.linked.length;++r){var o=t.linked[r];if(o.doc!=n){var a=i&&o.sharedHist;l&&!a||(s(o.doc,a),e(o.doc,t,a))}}}(e,null,!0)}function br(e,t){if(t.cm)throw new Error("This document is already in use.");E((e.doc=t).cm=e),T(e),e.options.lineWrapping||N(e),e.options.mode=t.modeOption,en(e)}function wr(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var n=e;!n.lines;)for(var i=0;;++i){var r=n.children[i],o=r.chunkSize();if(t<o){n=r;break}t-=o}return n.lines[t]}function xr(e,n,i){var r=[],o=n.line;return e.iter(n.line,i.line+1,function(e){var t=e.text;o==i.line&&(t=t.slice(0,i.ch)),o==n.line&&(t=t.slice(n.ch)),r.push(t),++o}),r}function Cr(e,t,n){var i=[];return e.iter(t,n,function(e){i.push(e.text)}),i}function Sr(e,t){var n=t-e.height;if(n)for(var i=e;i;i=i.parent)i.height+=n}function kr(e){if(null==e.parent)return null;for(var t=e.parent,n=mo(t.lines,e),i=t.parent;i;i=(t=i).parent)for(var r=0;i.children[r]!=t;++r)n+=i.children[r].chunkSize();return n+t.first}function _r(e,t){var n=e.first;e:do{for(var i=0;i<e.children.length;++i){var r=e.children[i],o=r.height;if(t<o){e=r;continue e}t-=o,n+=r.chunkSize()}return n}while(!e.lines);for(i=0;i<e.lines.length;++i){var a=e.lines[i].height;if(t<a)break;t-=a}return n+i}function Tr(e){for(var t=0,n=(e=Fi(e)).parent,i=0;i<n.lines.length;++i){var r=n.lines[i];if(r==e)break;t+=r.height}for(var o=n.parent;o;o=(n=o).parent)for(i=0;i<o.children.length;++i){var a=o.children[i];if(a==n)break;t+=a.height}return t}function Dr(e){var t=e.order;return null==t&&(t=e.order=la(e.text)),t}function Ar(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Er(e,t){var n={from:ge(t.from),to:Mn(t),text:xr(e,t.from,t.to)};return Mr(e,n,t.from.line,t.to.line+1),yr(e,function(e){Mr(e,n,t.from.line,t.to.line+1)},!0),n}function Ir(e){for(;e.length;){if(!fo(e).ranges)break;e.pop()}}function Pr(e,t,n,i){var r=e.history;r.undone.length=0;var o,a,s=+new Date;if((r.lastOp==i||r.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&e.cm&&r.lastModTime>s-e.cm.options.historyEventDelay||"*"==t.origin.charAt(0)))&&(o=(a=r).lastOp==i?(Ir(a.done),fo(a.done)):a.done.length&&!fo(a.done).ranges?fo(a.done):1<a.done.length&&!a.done[a.done.length-2].ranges?(a.done.pop(),fo(a.done)):void 0)){var l=fo(o.changes);0==fe(t.from,t.to)&&0==fe(t.from,l.to)?l.to=Mn(t):o.changes.push(Er(e,t))}else{var c=fo(r.done);for(c&&c.ranges||$r(e.sel,r.done),o={changes:[Er(e,t)],generation:r.generation},r.done.push(o);r.done.length>r.undoDepth;)r.done.shift(),r.done[0].ranges||r.done.shift()}r.done.push(n),r.generation=++r.maxGeneration,r.lastModTime=r.lastSelTime=s,r.lastOp=r.lastSelOp=i,r.lastOrigin=r.lastSelOrigin=t.origin,l||Xr(e,"historyAdded")}function $r(e,t){var n=fo(t);n&&n.ranges&&n.equals(e)||t.push(e)}function Mr(t,n,e,i){var r=n["spans_"+t.id],o=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,i),function(e){e.markedSpans&&((r||(r=n["spans_"+t.id]={}))[o]=e.markedSpans),++o})}function Or(e){if(!e)return null;for(var t,n=0;n<e.length;++n)e[n].marker.explicitlyCleared?t||(t=e.slice(0,n)):t&&t.push(e[n]);return t?t.length?t:null:e}function Nr(e,t,n){for(var i=0,r=[];i<e.length;++i){var o=e[i];if(o.ranges)r.push(n?$e.prototype.deepCopy.call(o):o);else{var a=o.changes,s=[];r.push({changes:s});for(var l=0;l<a.length;++l){var c,u=a[l];if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var d in u)(c=d.match(/^spans_(\d+)$/))&&-1<mo(t,Number(c[1]))&&(fo(s)[d]=u[d],delete u[d])}}}return r}function Lr(e,t,n,i){n<e.line?e.line+=i:t<e.line&&(e.line=t,e.ch=0)}function jr(e,t,n,i){for(var r=0;r<e.length;++r){var o=e[r],a=!0;if(o.ranges){o.copied||((o=e[r]=o.deepCopy()).copied=!0);for(var s=0;s<o.ranges.length;s++)Lr(o.ranges[s].anchor,t,n,i),Lr(o.ranges[s].head,t,n,i)}else{for(s=0;s<o.changes.length;++s){var l=o.changes[s];if(n<l.from.line)l.from=pe(l.from.line+i,l.from.ch),l.to=pe(l.to.line+i,l.to.ch);else if(t<=l.to.line){a=!1;break}}a||(e.splice(0,r+1),r=0)}}}function Rr(e,t){var n=t.from.line,i=t.to.line,r=t.text.length-(i-n)-1;jr(e.done,n,i,r),jr(e.undone,n,i,r)}no(gr);var Fr=k.e_preventDefault=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1},qr=k.e_stopPropagation=function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0};function Hr(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}var Br=k.e_stop=function(e){Fr(e),qr(e)};function Vr(e){return e.target||e.srcElement}function Ur(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),y&&e.ctrlKey&&1==t&&(t=3),t}var zr=k.on=function(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent)e.attachEvent("on"+t,n);else{var i=e._handlers||(e._handlers={});(i[t]||(i[t]=[])).push(n)}},Wr=[];function Gr(e,t,n){var i=e._handlers&&e._handlers[t];return n?i&&0<i.length?i.slice():Wr:i||Wr}var Yr=k.off=function(e,t,n){if(e.removeEventListener)e.removeEventListener(t,n,!1);else if(e.detachEvent)e.detachEvent("on"+t,n);else for(var i=Gr(e,t,!1),r=0;r<i.length;++r)if(i[r]==n){i.splice(r,1);break}},Xr=k.signal=function(e,t){var n=Gr(e,t,!0);if(n.length)for(var i=Array.prototype.slice.call(arguments,2),r=0;r<n.length;++r)n[r].apply(null,i)},Jr=null;function Kr(e,t){var n=Gr(e,t,!1);if(n.length){var i,r=Array.prototype.slice.call(arguments,2);qt?i=qt.delayedCallbacks:Jr?i=Jr:(i=Jr=[],setTimeout(Qr,0));for(var o=0;o<n.length;++o)i.push(a(n[o]))}function a(e){return function(){e.apply(null,r)}}}function Qr(){var e=Jr;Jr=null;for(var t=0;t<e.length;++t)e[t]()}function Zr(e,t,n){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Xr(e,n||t.type,e,t),Hr(t)||t.codemirrorIgnore}function eo(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var n=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),i=0;i<t.length;++i)-1==mo(n,t[i])&&n.push(t[i])}function to(e,t){return 0<Gr(e,t).length}function no(e){e.prototype.on=function(e,t){zr(this,e,t)},e.prototype.off=function(e,t){Yr(this,e,t)}}var io=30,ro=k.Pass={toString:function(){return"CodeMirror.Pass"}},oo={scroll:!1},ao={origin:"*mouse"},so={origin:"+move"};function lo(){this.id=null}lo.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var co=k.countColumn=function(e,t,n,i,r){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var o=i||0,a=r||0;;){var s=e.indexOf("\t",o);if(s<0||t<=s)return a+(t-o);a+=s-o,a+=n-a%n,o=s+1}},uo=k.findColumn=function(e,t,n){for(var i=0,r=0;;){var o=e.indexOf("\t",i);-1==o&&(o=e.length);var a=o-i;if(o==e.length||t<=r+a)return i+Math.min(a,t-r);if(r+=o-i,i=o+1,t<=(r+=n-r%n))return i}},ho=[""];function po(e){for(;ho.length<=e;)ho.push(fo(ho)+" ");return ho[e]}function fo(e){return e[e.length-1]}var go=function(e){e.select()};function mo(e,t){for(var n=0;n<e.length;++n)if(e[n]==t)return n;return-1}function vo(e,t){for(var n=[],i=0;i<e.length;i++)n[i]=t(e[i],i);return n}function yo(){}function bo(e,t){var n;return Object.create?n=Object.create(e):(yo.prototype=e,n=new yo),t&&wo(t,n),n}function wo(e,t,n){for(var i in t||(t={}),e)!e.hasOwnProperty(i)||!1===n&&t.hasOwnProperty(i)||(t[i]=e[i]);return t}function xo(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}s?go=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:w&&(go=function(e){try{e.select()}catch(e){}});var Co=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,So=k.isWordChar=function(e){return/\w/.test(e)||""<e&&(e.toUpperCase()!=e.toLowerCase()||Co.test(e))};function ko(e,t){return t?!!(-1<t.source.indexOf("\\w")&&So(e))||t.test(e):So(e)}function _o(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var To,Do=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function Ao(e){return 768<=e.charCodeAt(0)&&Do.test(e)}function Eo(e,t,n,i){var r=document.createElement(e);if(n&&(r.className=n),i&&(r.style.cssText=i),"string"==typeof t)r.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)r.appendChild(t[o]);return r}function Io(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function Po(e,t){return Io(e).appendChild(t)}To=document.createRange?function(e,t,n,i){var r=document.createRange();return r.setEnd(i||e,n),r.setStart(e,t),r}:function(e,t,n){var i=document.body.createTextRange();try{i.moveToElementText(e.parentNode)}catch(e){return i}return i.collapse(!0),i.moveEnd("character",n),i.moveStart("character",t),i};var $o=k.contains=function(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)};function Mo(){for(var e=document.activeElement;e&&e.root&&e.root.activeElement;)e=e.root.activeElement;return e}function Oo(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}w&&x<11&&(Mo=function(){try{return document.activeElement}catch(e){return document.body}});var No=k.rmClass=function(e,t){var n=e.className,i=Oo(t).exec(n);if(i){var r=n.slice(i.index+i[0].length);e.className=n.slice(0,i.index)+(r?i[1]+r:"")}},Lo=k.addClass=function(e,t){var n=e.className;Oo(t).test(n)||(e.className+=(n?" ":"")+t)};function jo(e,t){for(var n=e.split(" "),i=0;i<n.length;i++)n[i]&&!Oo(n[i]).test(t)&&(t+=" "+n[i]);return t}function Ro(e){if(document.body.getElementsByClassName)for(var t=document.body.getElementsByClassName("CodeMirror"),n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&e(i)}}var Fo=!1;var qo,Ho,Bo=function(){if(w&&x<9)return!1;var e=Eo("div");return"draggable"in e||"dragDrop"in e}();function Vo(e){if(null==qo){var t=Eo("span","​");Po(e,Eo("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(qo=t.offsetWidth<=1&&2<t.offsetHeight&&!(w&&x<8))}var n=qo?Eo("span","​"):Eo("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return n.setAttribute("cm-text",""),n}function Uo(e){if(null!=Ho)return Ho;var t=Po(e,document.createTextNode("AخA")),n=To(t,0,1).getBoundingClientRect(),i=To(t,1,2).getBoundingClientRect();return Io(e),!(!n||n.left==n.right)&&(Ho=i.right-n.right<3)}var zo,Wo=k.splitLines=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,n=[],i=e.length;t<=i;){var r=e.indexOf("\n",t);-1==r&&(r=e.length);var o=e.slice(t,"\r"==e.charAt(r-1)?r-1:r),a=o.indexOf("\r");-1!=a?(n.push(o.slice(0,a)),t+=a+1):(n.push(o),t=r+1)}return n}:function(e){return e.split(/\r\n?|\n/)},Go=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){try{var t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Yo="oncopy"in(zo=Eo("div"))||(zo.setAttribute("oncopy","return;"),"function"==typeof zo.oncopy),Xo=null;var Jo,Ko=k.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};function Qo(e){return e.level%2?e.to:e.from}function Zo(e){return e.level%2?e.from:e.to}function ea(e){var t=Dr(e);return t?Qo(t[0]):0}function ta(e){var t=Dr(e);return t?Zo(fo(t)):e.text.length}function na(e,t){var n=wr(e.doc,t),i=Fi(n);i!=n&&(t=kr(i));var r=Dr(i),o=r?r[0].level%2?ta(i):ea(i):0;return pe(t,o)}function ia(e,t){var n=na(e,t.line),i=wr(e.doc,n.line),r=Dr(i);if(r&&0!=r[0].level)return n;var o=Math.max(0,i.text.search(/\S/)),a=t.line==n.line&&t.ch<=o&&t.ch;return pe(n.line,a?0:o)}function ra(e,t){Jo=null;for(var n,i=0;i<e.length;++i){var r=e[i];if(r.from<t&&r.to>t)return i;if(r.from==t||r.to==t){if(null!=n)return o=e,a=r.level,s=e[n].level,void 0,l=o[0].level,a==l||s!=l&&a<s?(r.from!=r.to&&(Jo=n),i):(r.from!=r.to&&(Jo=i),n);n=i}}var o,a,s,l;return n}function oa(e,t,n,i){if(!i)return t+n;for(;0<(t+=n)&&Ao(e.text.charAt(t)););return t}function aa(e,t,n,i){var r=Dr(e);if(!r)return sa(e,t,n,i);for(var o=ra(r,t),a=r[o],s=oa(e,t,a.level%2?-n:n,i);;){if(s>a.from&&s<a.to)return s;if(s==a.from||s==a.to)return ra(r,s)==o?s:0<n==(a=r[o+=n]).level%2?a.to:a.from;if(!(a=r[o+=n]))return null;s=0<n==a.level%2?oa(e,a.to,-1,i):oa(e,a.from,1,i)}}function sa(e,t,n,i){var r=t+n;if(i)for(;0<r&&Ao(e.text.charAt(r));)r+=n;return r<0||r>e.text.length?null:r}!function(){for(var e=0;e<10;e++)Ko[e+48]=Ko[e+96]=String(e);for(e=65;e<=90;e++)Ko[e]=String.fromCharCode(e);for(e=1;e<=12;e++)Ko[e+111]=Ko[e+63235]="F"+e}();var la=function(){var b="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",w="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm";var x=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,C=/[stwN]/,S=/[LRr]/,k=/[Lb1n]/,_=/[1n]/;function T(e,t,n){this.level=e,this.from=t,this.to=n}return function(e){if(!x.test(e))return!1;for(var t,n=e.length,i=[],r=0;r<n;++r)i.push(u=(t=e.charCodeAt(r))<=247?b.charAt(t):1424<=t&&t<=1524?"R":1536<=t&&t<=1773?w.charAt(t-1536):1774<=t&&t<=2220?"r":8192<=t&&t<=8203?"w":8204==t?"b":"L");r=0;for(var o="L";r<n;++r){"m"==(u=i[r])?i[r]=o:o=u}r=0;for(var a="L";r<n;++r){"1"==(u=i[r])&&"r"==a?i[r]="n":S.test(u)&&"r"==(a=u)&&(i[r]="R")}for(r=1,o=i[0];r<n-1;++r){"+"==(u=i[r])&&"1"==o&&"1"==i[r+1]?i[r]="1":","!=u||o!=i[r+1]||"1"!=o&&"n"!=o||(i[r]=o),o=u}for(r=0;r<n;++r){if(","==(u=i[r]))i[r]="N";else if("%"==u){for(var s=r+1;s<n&&"%"==i[s];++s);for(var l=r&&"!"==i[r-1]||s<n&&"1"==i[s]?"1":"N",c=r;c<s;++c)i[c]=l;r=s-1}}for(r=0,a="L";r<n;++r){var u=i[r];"L"==a&&"1"==u?i[r]="L":S.test(u)&&(a=u)}for(r=0;r<n;++r)if(C.test(i[r])){for(s=r+1;s<n&&C.test(i[s]);++s);var d="L"==(r?i[r-1]:"L"),h="L"==(s<n?i[s]:"L");for(l=d||h?"L":"R",c=r;c<s;++c)i[c]=l;r=s-1}var p,f=[];for(r=0;r<n;)if(k.test(i[r])){var g=r;for(++r;r<n&&k.test(i[r]);++r);f.push(new T(0,g,r))}else{var m=r,v=f.length;for(++r;r<n&&"L"!=i[r];++r);for(c=m;c<r;)if(_.test(i[c])){m<c&&f.splice(v,0,new T(1,m,c));var y=c;for(++c;c<r&&_.test(i[c]);++c);f.splice(v,0,new T(2,y,c)),m=c}else++c;m<r&&f.splice(v,0,new T(1,m,r))}return 1==f[0].level&&(p=e.match(/^\s+/))&&(f[0].from=p[0].length,f.unshift(new T(0,0,p[0].length))),1==fo(f).level&&(p=e.match(/\s+$/))&&(fo(f).to-=p[0].length,f.push(new T(0,n-p[0].length,n))),2==f[0].level&&f.unshift(new T(1,f[0].to,f[0].to)),f[0].level!=fo(f).level&&f.push(new T(f[0].level,n,n)),f}}();return k.version="5.19.0",k}),function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return c(t||e)},r,r.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(t,e,n){(function(e){e.graphlib=t("./index")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index":2}],2:[function(e,t,n){var i=e("./lib");t.exports={Graph:i.Graph,json:e("./lib/json"),alg:e("./lib/alg"),version:i.version}},{"./lib":18,"./lib/alg":9,"./lib/json":19}],3:[function(e,t,n){var a=e("../lodash");t.exports=function(t){var n,i={},r=[];function o(e){a.has(i,e)||(i[e]=!0,n.push(e),a.each(t.successors(e),o),a.each(t.predecessors(e),o))}return a.each(t.nodes(),function(e){n=[],o(e),n.length&&r.push(n)}),r}},{"../lodash":20}],4:[function(e,t,n){var a=e("../lodash");t.exports=function(t,e,n){a.isArray(e)||(e=[e]);var i=[],r={};return a.each(e,function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(n,e,i,r,o){a.has(r,e)||(r[e]=!0,i||o.push(e),a.each(n.neighbors(e),function(e){t(n,e,i,r,o)}),i&&o.push(e))}(t,e,"post"===n,r,i)}),i}},{"../lodash":20}],5:[function(e,t,n){var o=e("./dijkstra"),a=e("../lodash");t.exports=function(n,i,r){return a.transform(n.nodes(),function(e,t){e[t]=o(n,t,i,r)},{})}},{"../lodash":20,"./dijkstra":6}],6:[function(e,t,n){var i=e("../lodash"),r=e("../data/priority-queue");t.exports=function(t,e,n,i){return function(e,n,o,t){var a,s,l={},c=new r,i=function(e){var t=e.v!==a?e.v:e.w,n=l[t],i=o(e),r=s.distance+i;if(i<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+e+" Weight: "+i);r<n.distance&&(n.distance=r,n.predecessor=a,c.decrease(t,r))};e.nodes().forEach(function(e){var t=e===n?0:Number.POSITIVE_INFINITY;l[e]={distance:t},c.add(e,t)});for(;0<c.size()&&(a=c.removeMin(),(s=l[a]).distance!==Number.POSITIVE_INFINITY);)t(a).forEach(i);return l}(t,String(e),n||o,i||function(e){return t.outEdges(e)})};var o=i.constant(1)},{"../data/priority-queue":16,"../lodash":20}],7:[function(e,t,n){var i=e("../lodash"),r=e("./tarjan");t.exports=function(t){return i.filter(r(t),function(e){return 1<e.length||1===e.length&&t.hasEdge(e[0],e[0])})}},{"../lodash":20,"./tarjan":14}],8:[function(e,t,n){var i=e("../lodash");t.exports=function(t,e,n){return i=t,r=e||a,o=n||function(e){return t.outEdges(e)},l={},c=i.nodes(),c.forEach(function(i){l[i]={},l[i][i]={distance:0},c.forEach(function(e){i!==e&&(l[i][e]={distance:Number.POSITIVE_INFINITY})}),o(i).forEach(function(e){var t=e.v===i?e.w:e.v,n=r(e);l[i][t]={distance:n,predecessor:i}})}),c.forEach(function(a){var s=l[a];c.forEach(function(e){var o=l[e];c.forEach(function(e){var t=o[a],n=s[e],i=o[e],r=t.distance+n.distance;r<i.distance&&(i.distance=r,i.predecessor=n.predecessor)})})}),l;var i,r,o,l,c};var a=i.constant(1)},{"../lodash":20}],9:[function(e,t,n){t.exports={components:e("./components"),dijkstra:e("./dijkstra"),dijkstraAll:e("./dijkstra-all"),findCycles:e("./find-cycles"),floydWarshall:e("./floyd-warshall"),isAcyclic:e("./is-acyclic"),postorder:e("./postorder"),preorder:e("./preorder"),prim:e("./prim"),tarjan:e("./tarjan"),topsort:e("./topsort")}},{"./components":3,"./dijkstra":6,"./dijkstra-all":5,"./find-cycles":7,"./floyd-warshall":8,"./is-acyclic":10,"./postorder":11,"./preorder":12,"./prim":13,"./tarjan":14,"./topsort":15}],10:[function(e,t,n){var i=e("./topsort");t.exports=function(e){try{i(e)}catch(e){if(e instanceof i.CycleException)return!1;throw e}return!0}},{"./topsort":15}],11:[function(e,t,n){var i=e("./dfs");t.exports=function(e,t){return i(e,t,"post")}},{"./dfs":4}],12:[function(e,t,n){var i=e("./dfs");t.exports=function(e,t){return i(e,t,"pre")}},{"./dfs":4}],13:[function(e,t,n){var l=e("../lodash"),c=e("../graph"),u=e("../data/priority-queue");t.exports=function(e,r){var o,t=new c,a={},s=new u;function n(e){var t=e.v===o?e.w:e.v,n=s.priority(t);if(void 0!==n){var i=r(e);i<n&&(a[t]=o,s.decrease(t,i))}}if(0===e.nodeCount())return t;l.each(e.nodes(),function(e){s.add(e,Number.POSITIVE_INFINITY),t.setNode(e)}),s.decrease(e.nodes()[0],0);var i=!1;for(;0<s.size();){if(o=s.removeMin(),l.has(a,o))t.setEdge(o,a[o]);else{if(i)throw new Error("Input graph is not connected: "+e);i=!0}e.nodeEdges(o).forEach(n)}return t}},{"../data/priority-queue":16,"../graph":17,"../lodash":20}],14:[function(e,t,n){var u=e("../lodash");t.exports=function(o){var a=0,s=[],l={},c=[];return o.nodes().forEach(function(e){u.has(l,e)||function t(e){var n=l[e]={onStack:!0,lowlink:a,index:a++};if(s.push(e),o.successors(e).forEach(function(e){u.has(l,e)?l[e].onStack&&(n.lowlink=Math.min(n.lowlink,l[e].index)):(t(e),n.lowlink=Math.min(n.lowlink,l[e].lowlink))}),n.lowlink===n.index){for(var i,r=[];i=s.pop(),l[i].onStack=!1,r.push(i),e!==i;);c.push(r)}}(e)}),c}},{"../lodash":20}],15:[function(e,t,n){var a=e("../lodash");function i(n){var i={},r={},o=[];if(a.each(n.sinks(),function e(t){if(a.has(r,t))throw new s;a.has(i,t)||(r[t]=!0,i[t]=!0,a.each(n.predecessors(t),e),delete r[t],o.push(t))}),a.size(i)!==n.nodeCount())throw new s;return o}function s(){}(t.exports=i).CycleException=s},{"../lodash":20}],16:[function(e,t,n){var o=e("../lodash");function i(){this._arr=[],this._keyIndices={}}(t.exports=i).prototype.size=function(){return this._arr.length},i.prototype.keys=function(){return this._arr.map(function(e){return e.key})},i.prototype.has=function(e){return o.has(this._keyIndices,e)},i.prototype.priority=function(e){var t=this._keyIndices[e];if(void 0!==t)return this._arr[t].priority},i.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},i.prototype.add=function(e,t){var n=this._keyIndices;if(e=String(e),o.has(n,e))return!1;var i=this._arr,r=i.length;return n[e]=r,i.push({key:e,priority:t}),this._decrease(r),!0},i.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var e=this._arr.pop();return delete this._keyIndices[e.key],this._heapify(0),e.key},i.prototype.decrease=function(e,t){var n=this._keyIndices[e];if(t>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+this._arr[n].priority+" New: "+t);this._arr[n].priority=t,this._decrease(n)},i.prototype._heapify=function(e){var t=this._arr,n=2*e,i=n+1,r=e;n<t.length&&(r=t[n].priority<t[r].priority?n:r,i<t.length&&(r=t[i].priority<t[r].priority?i:r),r!==e&&(this._swap(e,r),this._heapify(r)))},i.prototype._decrease=function(e){for(var t,n=this._arr,i=n[e].priority;0!==e&&!(n[t=e>>1].priority<i);)this._swap(e,t),e=t},i.prototype._swap=function(e,t){var n=this._arr,i=this._keyIndices,r=n[e],o=n[t];n[e]=o,n[t]=r,i[o.key]=e,i[r.key]=t}},{"../lodash":20}],17:[function(e,t,n){"use strict";var l=e("./lodash");t.exports=r;var s="\0",i="\0",c="";function r(e){this._isDirected=!l.has(e,"directed")||e.directed,this._isMultigraph=!!l.has(e,"multigraph")&&e.multigraph,this._isCompound=!!l.has(e,"compound")&&e.compound,this._label=void 0,this._defaultNodeLabelFn=l.constant(void 0),this._defaultEdgeLabelFn=l.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[i]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function u(e,t){e[t]?e[t]++:e[t]=1}function o(e,t){--e[t]||delete e[t]}function d(e,t,n,i){var r=""+t,o=""+n;if(!e&&o<r){var a=r;r=o,o=a}return r+c+o+c+(l.isUndefined(i)?s:i)}function a(e,t){return d(e,t.v,t.w,t.name)}r.prototype._nodeCount=0,r.prototype._edgeCount=0,r.prototype.isDirected=function(){return this._isDirected},r.prototype.isMultigraph=function(){return this._isMultigraph},r.prototype.isCompound=function(){return this._isCompound},r.prototype.setGraph=function(e){return this._label=e,this},r.prototype.graph=function(){return this._label},r.prototype.setDefaultNodeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultNodeLabelFn=e,this},r.prototype.nodeCount=function(){return this._nodeCount},r.prototype.nodes=function(){return l.keys(this._nodes)},r.prototype.sources=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._in[e])},this)},r.prototype.sinks=function(){return l.filter(this.nodes(),function(e){return l.isEmpty(this._out[e])},this)},r.prototype.setNodes=function(e,t){var n=arguments;return l.each(e,function(e){1<n.length?this.setNode(e,t):this.setNode(e)},this),this},r.prototype.setNode=function(e,t){return l.has(this._nodes,e)?1<arguments.length&&(this._nodes[e]=t):(this._nodes[e]=1<arguments.length?t:this._defaultNodeLabelFn(e),this._isCompound&&(this._parent[e]=i,this._children[e]={},this._children[i][e]=!0),this._in[e]={},this._preds[e]={},this._out[e]={},this._sucs[e]={},++this._nodeCount),this},r.prototype.node=function(e){return this._nodes[e]},r.prototype.hasNode=function(e){return l.has(this._nodes,e)},r.prototype.removeNode=function(e){var t=this;if(l.has(this._nodes,e)){var n=function(e){t.removeEdge(t._edgeObjs[e])};delete this._nodes[e],this._isCompound&&(this._removeFromParentsChildList(e),delete this._parent[e],l.each(this.children(e),function(e){this.setParent(e)},this),delete this._children[e]),l.each(l.keys(this._in[e]),n),delete this._in[e],delete this._preds[e],l.each(l.keys(this._out[e]),n),delete this._out[e],delete this._sucs[e],--this._nodeCount}return this},r.prototype.setParent=function(e,t){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(l.isUndefined(t))t=i;else{for(var n=t+="";!l.isUndefined(n);n=this.parent(n))if(n===e)throw new Error("Setting "+t+" as parent of "+e+" would create create a cycle");this.setNode(t)}return this.setNode(e),this._removeFromParentsChildList(e),this._parent[e]=t,this._children[t][e]=!0,this},r.prototype._removeFromParentsChildList=function(e){delete this._children[this._parent[e]][e]},r.prototype.parent=function(e){if(this._isCompound){var t=this._parent[e];if(t!==i)return t}},r.prototype.children=function(e){if(l.isUndefined(e)&&(e=i),this._isCompound){var t=this._children[e];if(t)return l.keys(t)}else{if(e===i)return this.nodes();if(this.hasNode(e))return[]}},r.prototype.predecessors=function(e){var t=this._preds[e];if(t)return l.keys(t)},r.prototype.successors=function(e){var t=this._sucs[e];if(t)return l.keys(t)},r.prototype.neighbors=function(e){var t=this.predecessors(e);if(t)return l.union(t,this.successors(e))},r.prototype.filterNodes=function(n){var i=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});i.setGraph(this.graph()),l.each(this._nodes,function(e,t){n(t)&&i.setNode(t,e)},this),l.each(this._edgeObjs,function(e){i.hasNode(e.v)&&i.hasNode(e.w)&&i.setEdge(e,this.edge(e))},this);var r=this,o={};return this._isCompound&&l.each(i.nodes(),function(e){i.setParent(e,function e(t){var n=r.parent(t);return void 0===n||i.hasNode(n)?o[t]=n:n in o?o[n]:e(n)}(e))}),i},r.prototype.setDefaultEdgeLabel=function(e){return l.isFunction(e)||(e=l.constant(e)),this._defaultEdgeLabelFn=e,this},r.prototype.edgeCount=function(){return this._edgeCount},r.prototype.edges=function(){return l.values(this._edgeObjs)},r.prototype.setPath=function(e,n){var i=this,r=arguments;return l.reduce(e,function(e,t){return 1<r.length?i.setEdge(e,t,n):i.setEdge(e,t),t}),this},r.prototype.setEdge=function(){var e,t,n,i,r=!1,o=arguments[0];"object"==typeof o&&null!==o&&"v"in o?(e=o.v,t=o.w,n=o.name,2===arguments.length&&(i=arguments[1],r=!0)):(e=o,t=arguments[1],n=arguments[3],2<arguments.length&&(i=arguments[2],r=!0)),e=""+e,t=""+t,l.isUndefined(n)||(n=""+n);var a=d(this._isDirected,e,t,n);if(l.has(this._edgeLabels,a))return r&&(this._edgeLabels[a]=i),this;if(!l.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(e),this.setNode(t),this._edgeLabels[a]=r?i:this._defaultEdgeLabelFn(e,t,n);var s=function(e,t,n,i){var r=""+t,o=""+n;if(!e&&o<r){var a=r;r=o,o=a}var s={v:r,w:o};i&&(s.name=i);return s}(this._isDirected,e,t,n);return e=s.v,t=s.w,Object.freeze(s),this._edgeObjs[a]=s,u(this._preds[t],e),u(this._sucs[e],t),this._in[t][a]=s,this._out[e][a]=s,this._edgeCount++,this},r.prototype.edge=function(e,t,n){var i=1===arguments.length?a(this._isDirected,e):d(this._isDirected,e,t,n);return this._edgeLabels[i]},r.prototype.hasEdge=function(e,t,n){var i=1===arguments.length?a(this._isDirected,e):d(this._isDirected,e,t,n);return l.has(this._edgeLabels,i)},r.prototype.removeEdge=function(e,t,n){var i=1===arguments.length?a(this._isDirected,arguments[0]):d(this._isDirected,e,t,n),r=this._edgeObjs[i];return r&&(e=r.v,t=r.w,delete this._edgeLabels[i],delete this._edgeObjs[i],o(this._preds[t],e),o(this._sucs[e],t),delete this._in[t][i],delete this._out[e][i],this._edgeCount--),this},r.prototype.inEdges=function(e,t){var n=this._in[e];if(n){var i=l.values(n);return t?l.filter(i,function(e){return e.v===t}):i}},r.prototype.outEdges=function(e,t){var n=this._out[e];if(n){var i=l.values(n);return t?l.filter(i,function(e){return e.w===t}):i}},r.prototype.nodeEdges=function(e,t){var n=this.inEdges(e,t);if(n)return n.concat(this.outEdges(e,t))}},{"./lodash":20}],18:[function(e,t,n){t.exports={Graph:e("./graph"),version:e("./version")}},{"./graph":17,"./version":21}],19:[function(e,t,n){var o=e("./lodash"),i=e("./graph");t.exports={write:function(e){var t={options:{directed:e.isDirected(),multigraph:e.isMultigraph(),compound:e.isCompound()},nodes:(r=e,o.map(r.nodes(),function(e){var t=r.node(e),n=r.parent(e),i={v:e};return o.isUndefined(t)||(i.value=t),o.isUndefined(n)||(i.parent=n),i})),edges:(i=e,o.map(i.edges(),function(e){var t=i.edge(e),n={v:e.v,w:e.w};return o.isUndefined(e.name)||(n.name=e.name),o.isUndefined(t)||(n.value=t),n}))};var i;var r;o.isUndefined(e.graph())||(t.value=o.clone(e.graph()));return t},read:function(e){var t=new i(e.options).setGraph(e.value);return o.each(e.nodes,function(e){t.setNode(e.v,e.value),e.parent&&t.setParent(e.v,e.parent)}),o.each(e.edges,function(e){t.setEdge({v:e.v,w:e.w,name:e.name},e.value)}),t}}},{"./graph":17,"./lodash":20}],20:[function(e,t,n){var i;if("function"==typeof e)try{i=e("lodash")}catch(e){}i||(i=window._),t.exports=i},{lodash:void 0}],21:[function(e,t,n){t.exports="1.0.7"},{}]},{},[1]),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.dagre=e()}}(function(){return function o(a,s,l){function c(n,e){if(!s[n]){if(!a[n]){var t="function"==typeof require&&require;if(!e&&t)return t(n,!0);if(u)return u(n,!0);var i=new Error("Cannot find module '"+n+"'");throw i.code="MODULE_NOT_FOUND",i}var r=s[n]={exports:{}};a[n][0].call(r.exports,function(e){var t=a[n][1][e];return c(t||e)},r,r.exports,o,a,s,l)}return s[n].exports}for(var u="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){t.exports={graphlib:e("./lib/graphlib"),layout:e("./lib/layout"),debug:e("./lib/debug"),util:{time:e("./lib/util").time,notime:e("./lib/util").notime},version:e("./lib/version")}},{"./lib/debug":6,"./lib/graphlib":7,"./lib/layout":9,"./lib/util":29,"./lib/version":30}],2:[function(e,t,n){"use strict";var s=e("./lodash"),l=e("./greedy-fas");t.exports={run:function(n){var e="greedy"===n.graph().acyclicer?l(n,(t=n,function(e){return t.edge(e).weight})):(i=n,r=[],o={},a={},s.each(i.nodes(),function t(e){s.has(a,e)||(a[e]=!0,o[e]=!0,s.each(i.outEdges(e),function(e){s.has(o,e.w)?r.push(e):t(e.w)}),delete o[e])}),r);var i,r,o,a;var t;s.each(e,function(e){var t=n.edge(e);n.removeEdge(e),t.forwardName=e.name,t.reversed=!0,n.setEdge(e.w,e.v,t,s.uniqueId("rev"))})},undo:function(i){s.each(i.edges(),function(e){var t=i.edge(e);if(t.reversed){i.removeEdge(e);var n=t.forwardName;delete t.reversed,delete t.forwardName,i.setEdge(e.w,e.v,t,n)}})}}},{"./greedy-fas":8,"./lodash":10}],3:[function(e,t,n){var s=e("./lodash"),c=e("./util");function l(e,t,n,i,r,o){var a={width:0,height:0,rank:o,borderType:t},s=r[t][o-1],l=c.addDummyNode(e,"border",a,n);r[t][o]=l,e.setParent(l,i),s&&e.setEdge(s,l,{weight:1})}t.exports=function(a){s.each(a.children(),function e(t){var n=a.children(t),i=a.node(t);n.length&&s.each(n,e);if(s.has(i,"minRank")){i.borderLeft=[],i.borderRight=[];for(var r=i.minRank,o=i.maxRank+1;r<o;++r)l(a,"borderLeft","_bl",t,i,r),l(a,"borderRight","_br",t,i,r)}})}},{"./lodash":10,"./util":29}],4:[function(e,t,n){"use strict";var r=e("./lodash");function o(t){r.each(t.nodes(),function(e){i(t.node(e))}),r.each(t.edges(),function(e){i(t.edge(e))})}function i(e){var t=e.width;e.width=e.height,e.height=t}function a(e){e.y=-e.y}function s(e){var t=e.x;e.x=e.y,e.y=t}t.exports={adjust:function(e){var t=e.graph().rankdir.toLowerCase();"lr"!==t&&"rl"!==t||o(e)},undo:function(e){var t=e.graph().rankdir.toLowerCase();"bt"!==t&&"rl"!==t||(n=e,r.each(n.nodes(),function(e){a(n.node(e))}),r.each(n.edges(),function(e){var t=n.edge(e);r.each(t.points,a),r.has(t,"y")&&a(t)}));var n;"lr"!==t&&"rl"!==t||(i=e,r.each(i.nodes(),function(e){s(i.node(e))}),r.each(i.edges(),function(e){var t=i.edge(e);r.each(t.points,s),r.has(t,"x")&&s(t)}),o(e));var i}}},{"./lodash":10}],5:[function(e,t,n){function i(){var e={};e._next=e._prev=e,this._sentinel=e}function r(e){e._prev._next=e._next,e._next._prev=e._prev,delete e._next,delete e._prev}function o(e,t){if("_next"!==e&&"_prev"!==e)return t}(t.exports=i).prototype.dequeue=function(){var e=this._sentinel,t=e._prev;if(t!==e)return r(t),t},i.prototype.enqueue=function(e){var t=this._sentinel;e._prev&&e._next&&r(e),e._next=t._next,t._next._prev=e,(t._next=e)._prev=t},i.prototype.toString=function(){for(var e=[],t=this._sentinel,n=t._prev;n!==t;)e.push(JSON.stringify(n,o)),n=n._prev;return"["+e.join(", ")+"]"}},{}],6:[function(e,t,n){var r=e("./lodash"),o=e("./util"),a=e("./graphlib").Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),i=new a({compound:!0,multigraph:!0}).setGraph({});return r.each(t.nodes(),function(e){i.setNode(e,{label:e}),i.setParent(e,"layer"+t.node(e).rank)}),r.each(t.edges(),function(e){i.setEdge(e.v,e.w,{},e.name)}),r.each(e,function(e,t){var n="layer"+t;i.setNode(n,{rank:"same"}),r.reduce(e,function(e,t){return i.setEdge(e,t,{style:"invis"}),t})}),i}}},{"./graphlib":7,"./lodash":10,"./util":29}],7:[function(e,t,n){var i;if("function"==typeof e)try{i=e("graphlib")}catch(e){}i||(i=window.graphlib),t.exports=i},{graphlib:void 0}],8:[function(e,t,n){var l=e("./lodash"),c=e("./graphlib").Graph,u=e("./data/list");t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(e,r){var o=new c,a=0,s=0;l.each(e.nodes(),function(e){o.setNode(e,{v:e,in:0,out:0})}),l.each(e.edges(),function(e){var t=o.edge(e.v,e.w)||0,n=r(e),i=t+n;o.setEdge(e.v,e.w,i),s=Math.max(s,o.node(e.v).out+=n),a=Math.max(a,o.node(e.w).in+=n)});var t=l.range(s+a+3).map(function(){return new u}),n=a+1;return l.each(o.nodes(),function(e){h(t,n,o.node(e))}),{graph:o,buckets:t,zeroIdx:n}}(t,e||r),i=function(e,t,n){var i,r=[],o=t[t.length-1],a=t[0];for(;e.nodeCount();){for(;i=a.dequeue();)d(e,t,n,i);for(;i=o.dequeue();)d(e,t,n,i);if(e.nodeCount())for(var s=t.length-2;0<s;--s)if(i=t[s].dequeue()){r=r.concat(d(e,t,n,i,!0));break}}return r}(n.graph,n.buckets,n.zeroIdx);return l.flatten(l.map(i,function(e){return t.outEdges(e.v,e.w)}),!0)};var r=l.constant(1);function d(r,o,a,e,i){var s=i?[]:void 0;return l.each(r.inEdges(e.v),function(e){var t=r.edge(e),n=r.node(e.v);i&&s.push({v:e.v,w:e.w}),n.out-=t,h(o,a,n)}),l.each(r.outEdges(e.v),function(e){var t=r.edge(e),n=e.w,i=r.node(n);i.in-=t,h(o,a,i)}),r.removeNode(e.v),s}function h(e,t,n){n.out?n.in?e[n.out-n.in+t].enqueue(n):e[e.length-1].enqueue(n):e[0].enqueue(n)}},{"./data/list":5,"./graphlib":7,"./lodash":10}],9:[function(e,t,n){"use strict";var c=e("./lodash"),r=e("./acyclic"),o=e("./normalize"),a=e("./rank"),s=e("./util").normalizeRanks,l=e("./parent-dummy-chains"),u=e("./util").removeEmptyRanks,d=e("./nesting-graph"),h=e("./add-border-segments"),p=e("./coordinate-system"),f=e("./order"),g=e("./position"),m=e("./util"),v=e("./graphlib").Graph;t.exports=function(t,e){var i=e&&e.debugTiming?m.time:m.notime;i("layout",function(){var n=i("  buildLayoutGraph",function(){return n=t,i=new v({multigraph:!0,compound:!0}),e=D(n.graph()),i.setGraph(c.merge({},b,T(e,y),c.pick(e,w))),c.each(n.nodes(),function(e){var t=D(n.node(e));i.setNode(e,c.defaults(T(t,x),C)),i.setParent(e,n.parent(e))}),c.each(n.edges(),function(e){var t=D(n.edge(e));i.setEdge(e,c.merge({},k,T(t,S),c.pick(t,_)))}),i;var n,i,e});i("  runLayout",function(){var t,e;t=n,(e=i)("    makeSpaceForEdgeLabels",function(){var n,i;(i=(n=t).graph()).ranksep/=2,c.each(n.edges(),function(e){var t=n.edge(e);t.minlen*=2,"c"!==t.labelpos.toLowerCase()&&("TB"===i.rankdir||"BT"===i.rankdir?t.width+=t.labeloffset:t.height+=t.labeloffset)})}),e("    removeSelfEdges",function(){var n;n=t,c.each(n.edges(),function(e){if(e.v===e.w){var t=n.node(e.v);t.selfEdges||(t.selfEdges=[]),t.selfEdges.push({e:e,label:n.edge(e)}),n.removeEdge(e)}})}),e("    acyclic",function(){r.run(t)}),e("    nestingGraph.run",function(){d.run(t)}),e("    rank",function(){a(m.asNonCompoundGraph(t))}),e("    injectEdgeLabelProxies",function(){var o;o=t,c.each(o.edges(),function(e){var t=o.edge(e);if(t.width&&t.height){var n=o.node(e.v),i=o.node(e.w),r={rank:(i.rank-n.rank)/2+n.rank,e:e};m.addDummyNode(o,"edge-proxy",r,"_ep")}})}),e("    removeEmptyRanks",function(){u(t)}),e("    nestingGraph.cleanup",function(){d.cleanup(t)}),e("    normalizeRanks",function(){s(t)}),e("    assignRankMinMax",function(){var n,i;n=t,i=0,c.each(n.nodes(),function(e){var t=n.node(e);t.borderTop&&(t.minRank=n.node(t.borderTop).rank,t.maxRank=n.node(t.borderBottom).rank,i=c.max(i,t.maxRank))}),n.graph().maxRank=i}),e("    removeEdgeLabelProxies",function(){var n;n=t,c.each(n.nodes(),function(e){var t=n.node(e);"edge-proxy"===t.dummy&&(n.edge(t.e).labelRank=t.rank,n.removeNode(e))})}),e("    normalize.run",function(){o.run(t)}),e("    parentDummyChains",function(){l(t)}),e("    addBorderSegments",function(){h(t)}),e("    order",function(){f(t)}),e("    insertSelfEdges",function(){var r,e;r=t,e=m.buildLayerMatrix(r),c.each(e,function(e){var i=0;c.each(e,function(e,t){var n=r.node(e);n.order=t+i,c.each(n.selfEdges,function(e){m.addDummyNode(r,"selfedge",{width:e.label.width,height:e.label.height,rank:n.rank,order:t+ ++i,e:e.e,label:e.label},"_se")}),delete n.selfEdges})})}),e("    adjustCoordinateSystem",function(){p.adjust(t)}),e("    position",function(){g(t)}),e("    positionSelfEdges",function(){var s;s=t,c.each(s.nodes(),function(e){var t=s.node(e);if("selfedge"===t.dummy){var n=s.node(t.e.v),i=n.x+n.width/2,r=n.y,o=t.x-i,a=n.height/2;s.setEdge(t.e,t.label),s.removeNode(e),t.label.points=[{x:i+2*o/3,y:r-a},{x:i+5*o/6,y:r-a},{x:i+o,y:r},{x:i+5*o/6,y:r+a},{x:i+2*o/3,y:r+a}],t.label.x=t.x,t.label.y=t.y}})}),e("    removeBorderNodes",function(){var a;a=t,c.each(a.nodes(),function(e){if(a.children(e).length){var t=a.node(e),n=a.node(t.borderTop),i=a.node(t.borderBottom),r=a.node(c.last(t.borderLeft)),o=a.node(c.last(t.borderRight));t.width=Math.abs(o.x-r.x),t.height=Math.abs(i.y-n.y),t.x=r.x+t.width/2,t.y=n.y+t.height/2}}),c.each(a.nodes(),function(e){"border"===a.node(e).dummy&&a.removeNode(e)})}),e("    normalize.undo",function(){o.undo(t)}),e("    fixupEdgeLabelCoords",function(){var n;n=t,c.each(n.edges(),function(e){var t=n.edge(e);if(c.has(t,"x"))switch("l"!==t.labelpos&&"r"!==t.labelpos||(t.width-=t.labeloffset),t.labelpos){case"l":t.x-=t.width/2+t.labeloffset;break;case"r":t.x+=t.width/2+t.labeloffset}})}),e("    undoCoordinateSystem",function(){p.undo(t)}),e("    translateGraph",function(){!function(n){var o=Number.POSITIVE_INFINITY,a=0,s=Number.POSITIVE_INFINITY,l=0,e=n.graph(),t=e.marginx||0,i=e.marginy||0;function r(e){var t=e.x,n=e.y,i=e.width,r=e.height;o=Math.min(o,t-i/2),a=Math.max(a,t+i/2),s=Math.min(s,n-r/2),l=Math.max(l,n+r/2)}c.each(n.nodes(),function(e){r(n.node(e))}),c.each(n.edges(),function(e){var t=n.edge(e);c.has(t,"x")&&r(t)}),o-=t,s-=i,c.each(n.nodes(),function(e){var t=n.node(e);t.x-=o,t.y-=s}),c.each(n.edges(),function(e){var t=n.edge(e);c.each(t.points,function(e){e.x-=o,e.y-=s}),c.has(t,"x")&&(t.x-=o),c.has(t,"y")&&(t.y-=s)}),e.width=a-o+t,e.height=l-s+i}(t)}),e("    assignNodeIntersects",function(){var a;a=t,c.each(a.edges(),function(e){var t,n,i=a.edge(e),r=a.node(e.v),o=a.node(e.w);i.points?(t=i.points[0],n=i.points[i.points.length-1]):(i.points=[],t=o,n=r),i.points.unshift(m.intersectRect(r,t)),i.points.push(m.intersectRect(o,n))})}),e("    reversePoints",function(){var n;n=t,c.each(n.edges(),function(e){var t=n.edge(e);t.reversed&&t.points.reverse()})}),e("    acyclic.undo",function(){r.undo(t)})}),i("  updateInputGraph",function(){var i,r;i=t,r=n,c.each(i.nodes(),function(e){var t=i.node(e),n=r.node(e);t&&(t.x=n.x,t.y=n.y,r.children(e).length&&(t.width=n.width,t.height=n.height))}),c.each(i.edges(),function(e){var t=i.edge(e),n=r.edge(e);t.points=n.points,c.has(n,"x")&&(t.x=n.x,t.y=n.y)}),i.graph().width=r.graph().width,i.graph().height=r.graph().height})})};var y=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},w=["acyclicer","ranker","rankdir","align"],x=["width","height"],C={width:0,height:0},S=["minlen","weight","width","height","labeloffset"],k={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},_=["labelpos"];function T(e,t){return c.mapValues(c.pick(e,t),Number)}function D(e){var n={};return c.each(e,function(e,t){n[t.toLowerCase()]=e}),n}},{"./acyclic":2,"./add-border-segments":3,"./coordinate-system":4,"./graphlib":7,"./lodash":10,"./nesting-graph":11,"./normalize":12,"./order":17,"./parent-dummy-chains":22,"./position":24,"./rank":26,"./util":29}],10:[function(e,t,n){var i;if("function"==typeof e)try{i=e("lodash")}catch(e){}i||(i=window._),t.exports=i},{lodash:void 0}],11:[function(e,t,n){var m=e("./lodash"),v=e("./util");t.exports={run:function(t){var n=v.addDummyNode(t,"root",{},"_root"),i=(a=t,s={},m.each(a.children(),function(e){!function t(e,n){var i=a.children(e);i&&i.length&&m.each(i,function(e){t(e,n+1)}),s[e]=n}(e,1)}),s),r=m.max(i)-1,o=2*r+1;var a,s;t.graph().nestingRoot=n,m.each(t.edges(),function(e){t.edge(e).minlen*=o});var l=(c=t,m.reduce(c.edges(),function(e,t){return e+c.edge(t).weight},0)+1);var c;m.each(t.children(),function(e){!function a(s,l,c,u,d,h,p){var e=s.children(p);if(!e.length)return void(p!==l&&s.setEdge(l,p,{weight:0,minlen:c}));var f=v.addBorderNode(s,"_bt"),g=v.addBorderNode(s,"_bb"),t=s.node(p);s.setParent(f,p);t.borderTop=f;s.setParent(g,p);t.borderBottom=g;m.each(e,function(e){a(s,l,c,u,d,h,e);var t=s.node(e),n=t.borderTop?t.borderTop:e,i=t.borderBottom?t.borderBottom:e,r=t.borderTop?u:2*u,o=n!==i?1:d-h[p]+1;s.setEdge(f,n,{weight:r,minlen:o,nestingEdge:!0}),s.setEdge(i,g,{weight:r,minlen:o,nestingEdge:!0})});s.parent(p)||s.setEdge(l,f,{weight:0,minlen:d+h[p]})}(t,n,o,l,r,i,e)}),t.graph().nodeRankFactor=o},cleanup:function(n){var e=n.graph();n.removeNode(e.nestingRoot),delete e.nestingRoot,m.each(n.edges(),function(e){var t=n.edge(e);t.nestingEdge&&n.removeEdge(e)})}}},{"./lodash":10,"./util":29}],12:[function(e,t,n){"use strict";var i=e("./lodash"),h=e("./util");t.exports={run:function(t){t.graph().dummyChains=[],i.each(t.edges(),function(e){!function(e,t){var n,i,r,o=t.v,a=e.node(o).rank,s=t.w,l=e.node(s).rank,c=t.name,u=e.edge(t),d=u.labelRank;if(l===a+1)return;for(e.removeEdge(t),r=0,++a;a<l;++r,++a)u.points=[],i={width:0,height:0,edgeLabel:u,edgeObj:t,rank:a},n=h.addDummyNode(e,"edge",i,"_d"),a===d&&(i.width=u.width,i.height=u.height,i.dummy="edge-label",i.labelpos=u.labelpos),e.setEdge(o,n,{weight:u.weight},c),0===r&&e.graph().dummyChains.push(n),o=n;e.setEdge(o,s,{weight:u.weight},c)}(t,e)})},undo:function(r){i.each(r.graph().dummyChains,function(e){var t,n=r.node(e),i=n.edgeLabel;for(r.setEdge(n.edgeObj,i);n.dummy;)t=r.successors(e)[0],r.removeNode(e),i.points.push({x:n.x,y:n.y}),"edge-label"===n.dummy&&(i.x=n.x,i.y=n.y,i.width=n.width,i.height=n.height),e=t,n=r.node(e)})}}},{"./lodash":10,"./util":29}],13:[function(e,t,n){var i=e("../lodash");t.exports=function(r,o,e){var a,s={};i.each(e,function(e){for(var t,n,i=r.parent(e);i;){if((t=r.parent(i))?(n=s[t],s[t]=i):(n=a,a=i),n&&n!==i)return void o.setEdge(n,i);i=t}})}},{"../lodash":10}],14:[function(e,t,n){var i=e("../lodash");t.exports=function(r,e){return i.map(e,function(e){var t=r.inEdges(e);if(t.length){var n=i.reduce(t,function(e,t){var n=r.edge(t),i=r.node(t.v);return{sum:e.sum+n.weight*i.order,weight:e.weight+n.weight}},{sum:0,weight:0});return{v:e,barycenter:n.sum/n.weight,weight:n.weight}}return{v:e}})}},{"../lodash":10}],15:[function(e,t,n){var l=e("../lodash"),r=e("../graphlib").Graph;t.exports=function(o,n,i){var a=function(e){var t;for(;e.hasNode(t=l.uniqueId("_root")););return t}(o),s=new r({compound:!0}).setGraph({root:a}).setDefaultNodeLabel(function(e){return o.node(e)});return l.each(o.nodes(),function(r){var e=o.node(r),t=o.parent(r);(e.rank===n||e.minRank<=n&&n<=e.maxRank)&&(s.setNode(r),s.setParent(r,t||a),l.each(o[i](r),function(e){var t=e.v===r?e.w:e.v,n=s.edge(t,r),i=l.isUndefined(n)?0:n.weight;s.setEdge(t,r,{weight:o.edge(e).weight+i})}),l.has(e,"minRank")&&s.setNode(r,{borderLeft:e.borderLeft[n],borderRight:e.borderRight[n]}))}),s}},{"../graphlib":7,"../lodash":10}],16:[function(e,t,n){"use strict";var c=e("../lodash");function r(t,e,n){for(var i=c.zipObject(n,c.map(n,function(e,t){return t})),r=c.flatten(c.map(e,function(e){return c.chain(t.outEdges(e)).map(function(e){return{pos:i[e.w],weight:t.edge(e).weight}}).sortBy("pos").value()}),!0),o=1;o<n.length;)o<<=1;var a=2*o-1;o-=1;var s=c.map(new Array(a),function(){return 0}),l=0;return c.each(r.forEach(function(e){var t=e.pos+o;s[t]+=e.weight;for(var n=0;0<t;)t%2&&(n+=s[t+1]),s[t=t-1>>1]+=e.weight;l+=e.weight*n})),l}t.exports=function(e,t){for(var n=0,i=1;i<t.length;++i)n+=r(e,t[i-1],t[i]);return n}},{"../lodash":10}],17:[function(e,t,n){"use strict";var u=e("../lodash"),d=e("./init-order"),h=e("./cross-count"),o=e("./sort-subgraph"),i=e("./build-layer-graph"),a=e("./add-subgraph-constraints"),s=e("../graphlib").Graph,p=e("../util");function f(t,e,n){return u.map(e,function(e){return i(t,e,n)})}function g(e,i){var r=new s;u.each(e,function(n){var e=n.graph().root,t=o(n,e,r,i);u.each(t.vs,function(e,t){n.node(e).order=t}),a(n,r,t.vs)})}function m(n,e){u.each(e,function(e){u.each(e,function(e,t){n.node(e).order=t})})}t.exports=function(e){var t=p.maxRank(e),n=f(e,u.range(1,t+1),"inEdges"),i=f(e,u.range(t-1,-1,-1),"outEdges"),r=d(e);m(e,r);for(var o,a=Number.POSITIVE_INFINITY,s=0,l=0;l<4;++s,++l){g(s%2?n:i,2<=s%4),r=p.buildLayerMatrix(e);var c=h(e,r);c<a&&(l=0,o=u.cloneDeep(r),a=c)}m(e,o)}},{"../graphlib":7,"../lodash":10,"../util":29,"./add-subgraph-constraints":13,"./build-layer-graph":15,"./cross-count":16,"./init-order":18,"./sort-subgraph":20}],18:[function(e,t,n){"use strict";var a=e("../lodash");t.exports=function(i){var r={},e=a.filter(i.nodes(),function(e){return!i.children(e).length}),t=a.max(a.map(e,function(e){return i.node(e).rank})),o=a.map(a.range(t+1),function(){return[]});var n=a.sortBy(e,function(e){return i.node(e).rank});return a.each(n,function e(t){if(!a.has(r,t)){r[t]=!0;var n=i.node(t);o[n.rank].push(t),a.each(i.successors(t),e)}}),o}},{"../lodash":10}],19:[function(e,t,n){"use strict";var a=e("../lodash");t.exports=function(e,t){var i={};return a.each(e,function(e,t){var n=i[e.v]={indegree:0,in:[],out:[],vs:[e.v],i:t};a.isUndefined(e.barycenter)||(n.barycenter=e.barycenter,n.weight=e.weight)}),a.each(t.edges(),function(e){var t=i[e.v],n=i[e.w];a.isUndefined(t)||a.isUndefined(n)||(n.indegree++,t.out.push(i[e.w]))}),function(n){var e=[];function t(o){return function(e){var t,n,i,r;e.merged||(a.isUndefined(e.barycenter)||a.isUndefined(o.barycenter)||e.barycenter>=o.barycenter)&&(n=e,r=i=0,(t=o).weight&&(i+=t.barycenter*t.weight,r+=t.weight),n.weight&&(i+=n.barycenter*n.weight,r+=n.weight),t.vs=n.vs.concat(t.vs),t.barycenter=i/r,t.weight=r,t.i=Math.min(n.i,t.i),n.merged=!0)}}function i(t){return function(e){e.in.push(t),0==--e.indegree&&n.push(e)}}for(;n.length;){var r=n.pop();e.push(r),a.each(r.in.reverse(),t(r)),a.each(r.out,i(r))}return a.chain(e).filter(function(e){return!e.merged}).map(function(e){return a.pick(e,["vs","i","barycenter","weight"])}).value()}(a.filter(i,function(e){return!e.indegree}))}},{"../lodash":10}],20:[function(e,t,n){var v=e("../lodash"),y=e("./barycenter"),b=e("./resolve-conflicts"),w=e("./sort");t.exports=function r(o,e,a,s){var t=o.children(e),n=o.node(e),i=n?n.borderLeft:void 0,l=n?n.borderRight:void 0,c={};i&&(t=v.filter(t,function(e){return e!==i&&e!==l}));var u=y(o,t);v.each(u,function(e){if(o.children(e.v).length){var t=r(o,e.v,a,s);c[e.v]=t,v.has(t,"barycenter")&&(n=e,i=t,v.isUndefined(n.barycenter)?(n.barycenter=i.barycenter,n.weight=i.weight):(n.barycenter=(n.barycenter*n.weight+i.barycenter*i.weight)/(n.weight+i.weight),n.weight+=i.weight))}var n,i});var d=b(u,a);h=d,p=c,v.each(h,function(e){e.vs=v.flatten(e.vs.map(function(e){return p[e]?p[e].vs:e}),!0)});var h,p;var f=w(d,s);if(i&&(f.vs=v.flatten([i,f.vs,l],!0),o.predecessors(i).length)){var g=o.node(o.predecessors(i)[0]),m=o.node(o.predecessors(l)[0]);v.has(f,"barycenter")||(f.barycenter=0,f.weight=0),f.barycenter=(f.barycenter*f.weight+g.order+m.order)/(f.weight+2),f.weight+=2}return f}},{"../lodash":10,"./barycenter":14,"./resolve-conflicts":19,"./sort":21}],21:[function(e,t,n){var d=e("../lodash"),h=e("../util");function p(e,t,n){for(var i;t.length&&(i=d.last(t)).i<=n;)t.pop(),e.push(i.vs),n++;return n}t.exports=function(e,t){var n=h.partition(e,function(e){return d.has(e,"barycenter")}),i=n.lhs,r=d.sortBy(n.rhs,function(e){return-e.i}),o=[],a=0,s=0,l=0;i.sort((c=!!t,function(e,t){return e.barycenter<t.barycenter?-1:e.barycenter>t.barycenter?1:c?t.i-e.i:e.i-t.i})),l=p(o,r,l),d.each(i,function(e){l+=e.vs.length,o.push(e.vs),a+=e.barycenter*e.weight,s+=e.weight,l=p(o,r,l)});var c;var u={vs:d.flatten(o,!0)};s&&(u.barycenter=a/s,u.weight=s);return u}},{"../lodash":10,"../util":29}],22:[function(e,t,n){var a=e("./lodash");t.exports=function(c){var u=(i=c,r={},o=0,a.each(i.children(),function e(t){var n=o;a.each(i.children(t),e),r[t]={low:n,lim:o++}}),r);var i,r,o;a.each(c.graph().dummyChains,function(e){for(var t=c.node(e),n=t.edgeObj,i=function(e,t,n,i){var r,o,a=[],s=[],l=Math.min(t[n].low,t[i].low),c=Math.max(t[n].lim,t[i].lim);r=n;for(;r=e.parent(r),a.push(r),r&&(t[r].low>l||c>t[r].lim););o=r,r=i;for(;(r=e.parent(r))!==o;)s.push(r);return{path:a.concat(s.reverse()),lca:o}}(c,u,n.v,n.w),r=i.path,o=i.lca,a=0,s=r[a],l=!0;e!==n.w;){if(t=c.node(e),l){for(;(s=r[a])!==o&&c.node(s).maxRank<t.rank;)a++;s===o&&(l=!1)}if(!l){for(;a<r.length-1&&c.node(s=r[a+1]).minRank<=t.rank;)a++;s=r[a]}c.setParent(e,s),e=c.successors(e)[0]}})}},{"./lodash":10}],23:[function(e,t,n){"use strict";var b=e("../lodash"),w=e("../graphlib").Graph,i=e("../util");function r(c,e){var u={};return b.reduce(e,function(e,i){var o=0,a=0,s=e.length,l=b.last(i);return b.each(i,function(e,t){var n=function(t,e){if(t.node(e).dummy)return b.find(t.predecessors(e),function(e){return t.node(e).dummy})}(c,e),r=n?c.node(n).order:s;(n||e===l)&&(b.each(i.slice(a,t+1),function(i){b.each(c.predecessors(i),function(e){var t=c.node(e),n=t.order;!(n<o||r<n)||t.dummy&&c.node(i).dummy||d(u,e,i)})}),a=t+1,o=r)}),i}),u}function c(l,e){var a={};function c(t,e,n,i,r){var o;b.each(b.range(e,n),function(e){o=t[e],l.node(o).dummy&&b.each(l.predecessors(o),function(e){var t=l.node(e);t.dummy&&(t.order<i||t.order>r)&&d(a,e,o)})})}return b.reduce(e,function(i,r){var o,a=-1,s=0;return b.each(r,function(e,t){if("border"===l.node(e).dummy){var n=l.predecessors(e);n.length&&(o=l.node(n[0]).order,c(r,s,t,a,o),s=t,a=o)}c(r,s,r.length,o,i.length)}),r}),a}function d(e,t,n){if(n<t){var i=t;t=n,n=i}var r=e[t];r||(e[t]=r={}),r[n]=!0}function h(e,t,n){if(n<t){var i=t;t=n,n=i}return b.has(e[t],n)}function u(e,t,s,l){var c={},u={},d={};return b.each(t,function(e){b.each(e,function(e,t){c[e]=e,u[e]=e,d[e]=t})}),b.each(t,function(e){var a=-1;b.each(e,function(e){var t=l(e);if(t.length)for(var n=((t=b.sortBy(t,function(e){return d[e]})).length-1)/2,i=Math.floor(n),r=Math.ceil(n);i<=r;++i){var o=t[i];u[e]===e&&a<d[o]&&!h(s,e,o)&&(u[o]=e,u[e]=c[e]=c[o],a=d[o])}})}),{root:c,align:u}}function p(r,e,t,n,i){var o,a,s,l,c,u,d,h,p,f,g={},m=(o=r,a=e,s=t,l=i,c=new w,u=o.graph(),h=u.nodesep,p=u.edgesep,f=l,d=function(e,t,n){var i,r=e.node(t),o=e.node(n),a=0;if(a+=r.width/2,b.has(r,"labelpos"))switch(r.labelpos.toLowerCase()){case"l":i=-r.width/2;break;case"r":i=r.width/2}if(i&&(a+=f?i:-i),i=0,a+=(r.dummy?p:h)/2,a+=(o.dummy?p:h)/2,a+=o.width/2,b.has(o,"labelpos"))switch(o.labelpos.toLowerCase()){case"l":i=o.width/2;break;case"r":i=-o.width/2}return i&&(a+=f?i:-i),i=0,a},b.each(a,function(e){var r;b.each(e,function(e){var t=s[e];if(c.setNode(t),r){var n=s[r],i=c.edge(n,t);c.setEdge(n,t,Math.max(d(o,e,r),i||0))}r=e})}),c),v={};b.each(m.nodes(),function n(e){b.has(v,e)||(v[e]=!0,g[e]=b.reduce(m.inEdges(e),function(e,t){return n(t.v),Math.max(e,g[t.v]+m.edge(t))},0))});var y=i?"borderLeft":"borderRight";return b.each(m.nodes(),function n(e){if(2!==v[e]){v[e]++;var t=r.node(e),i=b.reduce(m.outEdges(e),function(e,t){return n(t.w),Math.min(e,g[t.w]-m.edge(t))},Number.POSITIVE_INFINITY);i!==Number.POSITIVE_INFINITY&&t.borderType!==y&&(g[e]=Math.max(g[e],i))}}),b.each(n,function(e){g[e]=g[t[e]]}),g}function f(n,e){return b.min(e,function(e){var t=b.min(e,function(e,t){return e-o(n,t)/2});return b.max(e,function(e,t){return e+o(n,t)/2})-t})}function g(o,a){var s=b.min(a),l=b.max(a);b.each(["u","d"],function(r){b.each(["l","r"],function(e){var t,n=r+e,i=o[n];i!==a&&(t="l"===e?s-b.min(i):l-b.max(i))&&(o[n]=b.mapValues(i,function(e){return e+t}))})})}function m(i,r){return b.mapValues(i.ul,function(e,t){if(r)return i[r.toLowerCase()][t];var n=b.sortBy(b.pluck(i,t));return(n[1]+n[2])/2})}function o(e,t){return e.node(t).width}t.exports={positionX:function(o){var a,e=i.buildLayerMatrix(o),s=b.merge(r(o,e),c(o,e)),l={};b.each(["u","d"],function(r){a="u"===r?e:b.values(e).reverse(),b.each(["l","r"],function(e){"r"===e&&(a=b.map(a,function(e){return b.values(e).reverse()}));var t=b.bind("u"===r?o.predecessors:o.successors,o),n=u(o,a,s,t),i=p(o,a,n.root,n.align,"r"===e);"r"===e&&(i=b.mapValues(i,function(e){return-e})),l[r+e]=i})});var t=f(o,l);return g(l,t),m(l,o.graph().align)},findType1Conflicts:r,findType2Conflicts:c,addConflict:d,hasConflict:h,verticalAlignment:u,horizontalCompaction:p,alignCoordinates:g,findSmallestWidthAlignment:f,balance:m}},{"../graphlib":7,"../lodash":10,"../util":29}],24:[function(e,t,n){"use strict";var a=e("../lodash"),s=e("../util"),l=e("./bk").positionX;t.exports=function(n){i=n=s.asNonCompoundGraph(n),e=s.buildLayerMatrix(i),r=i.graph().ranksep,o=0,a.each(e,function(e){var t=a.max(a.map(e,function(e){return i.node(e).height}));a.each(e,function(e){i.node(e).y=o+t/2}),o+=t+r}),a.each(l(n),function(e,t){n.node(t).x=e});var i,e,r,o}},{"../lodash":10,"../util":29,"./bk":23}],25:[function(e,t,n){"use strict";var s=e("../lodash"),a=e("../graphlib").Graph,l=e("./util").slack;function c(o,a){return s.each(o.nodes(),function i(r){s.each(a.nodeEdges(r),function(e){var t=e.v,n=r===t?e.w:t;o.hasNode(n)||l(a,e)||(o.setNode(n,{}),o.setEdge(r,n,{}),i(n))})}),o.nodeCount()}function u(t,n){return s.min(n.edges(),function(e){if(t.hasNode(e.v)!==t.hasNode(e.w))return l(n,e)})}function d(e,t,n){s.each(e.nodes(),function(e){t.node(e).rank+=n})}t.exports=function(e){var t,n,i=new a({directed:!1}),r=e.nodes()[0],o=e.nodeCount();i.setNode(r,{});for(;c(i,e)<o;)t=u(i,e),n=i.hasNode(t.v)?l(e,t):-l(e,t),d(i,e,n);return i}},{"../graphlib":7,"../lodash":10,"./util":28}],26:[function(e,t,n){"use strict";var i=e("./util").longestPath,r=e("./feasible-tree"),o=e("./network-simplex");t.exports=function(e){switch(e.graph().ranker){case"network-simplex":s(e);break;case"tight-tree":i(t=e),r(t);break;case"longest-path":a(e);break;default:s(e)}var t};var a=i;function s(e){o(e)}},{"./feasible-tree":25,"./network-simplex":27,"./util":28}],27:[function(e,t,n){"use strict";var f=e("../lodash"),i=e("./feasible-tree"),u=e("./util").slack,r=e("./util").longestPath,d=e("../graphlib").alg.preorder,s=e("../graphlib").alg.postorder,o=e("../util").simplify;function a(e){e=o(e),r(e);var t,n=i(e);for(p(n),h(n,e);t=c(n);)m(n,e,t,g(n,e,t))}function h(o,a){var e=s(o,o.nodes());e=e.slice(0,e.length-1),f.each(e,function(e){var t,n,i,r;n=a,i=e,r=(t=o).node(i).parent,t.edge(i,r).cutvalue=l(t,n,i)})}function l(l,c,u){var d=l.node(u).parent,h=!0,e=c.edge(u,d),p=0;return e||(h=!1,e=c.edge(d,u)),p=e.weight,f.each(c.nodeEdges(u),function(e){var t,n,i=e.v===u,r=i?e.w:e.v;if(r!==d){var o=i===h,a=c.edge(e).weight;if(p+=o?a:-a,t=u,n=r,l.hasEdge(t,n)){var s=l.edge(u,r).cutvalue;p+=o?-s:s}}}),p}function p(e,t){arguments.length<2&&(t=e.nodes()[0]),function t(n,i,r,o,e){var a=r,s=n.node(o);i[o]=!0;f.each(n.neighbors(o),function(e){f.has(i,e)||(r=t(n,i,r,e,o))});s.low=a;s.lim=r++;e?s.parent=e:delete s.parent;return r}(e,{},1,t)}function c(t){return f.find(t.edges(),function(e){return t.edge(e).cutvalue<0})}function g(t,n,e){var i=e.v,r=e.w;n.hasEdge(i,r)||(i=e.w,r=e.v);var o=t.node(i),a=t.node(r),s=o,l=!1;o.lim>a.lim&&(s=a,l=!0);var c=f.filter(n.edges(),function(e){return l===v(t,t.node(e.v),s)&&l!==v(t,t.node(e.w),s)});return f.min(c,function(e){return u(n,e)})}function m(e,t,n,i){var r,o,a,s,l=n.v,c=n.w;e.removeEdge(l,c),e.setEdge(i.v,i.w,{}),p(e),h(e,t),r=e,o=t,a=f.find(r.nodes(),function(e){return!o.node(e).parent}),s=(s=d(r,a)).slice(1),f.each(s,function(e){var t=r.node(e).parent,n=o.edge(e,t),i=!1;n||(n=o.edge(t,e),i=!0),o.node(e).rank=o.node(t).rank+(i?n.minlen:-n.minlen)})}function v(e,t,n){return n.low<=t.lim&&t.lim<=n.lim}(t.exports=a).initLowLimValues=p,a.initCutValues=h,a.calcCutValue=l,a.leaveEdge=c,a.enterEdge=g,a.exchangeEdges=m},{"../graphlib":7,"../lodash":10,"../util":29,"./feasible-tree":25,"./util":28}],28:[function(e,t,n){"use strict";var a=e("../lodash");t.exports={longestPath:function(r){var o={};a.each(r.sources(),function t(e){var n=r.node(e);if(a.has(o,e))return n.rank;o[e]=!0;var i=a.min(a.map(r.outEdges(e),function(e){return t(e.w)-r.edge(e).minlen}));i===Number.POSITIVE_INFINITY&&(i=0);return n.rank=i})},slack:function(e,t){return e.node(t.w).rank-e.node(t.v).rank-e.edge(t).minlen}}},{"../lodash":10}],29:[function(e,t,n){"use strict";var s=e("./lodash"),o=e("./graphlib").Graph;function a(e,t,n,i){for(var r;r=s.uniqueId(i),e.hasNode(r););return n.dummy=t,e.setNode(r,n),r}function l(n){return s.max(s.map(n.nodes(),function(e){var t=n.node(e).rank;if(!s.isUndefined(t))return t}))}t.exports={addDummyNode:a,simplify:function(i){var r=(new o).setGraph(i.graph());return s.each(i.nodes(),function(e){r.setNode(e,i.node(e))}),s.each(i.edges(),function(e){var t=r.edge(e.v,e.w)||{weight:0,minlen:1},n=i.edge(e);r.setEdge(e.v,e.w,{weight:t.weight+n.weight,minlen:Math.max(t.minlen,n.minlen)})}),r},asNonCompoundGraph:function(t){var n=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return s.each(t.nodes(),function(e){t.children(e).length||n.setNode(e,t.node(e))}),s.each(t.edges(),function(e){n.setEdge(e,t.edge(e))}),n},successorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.outEdges(e),function(e){t[e.w]=(t[e.w]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},predecessorWeights:function(n){var e=s.map(n.nodes(),function(e){var t={};return s.each(n.inEdges(e),function(e){t[e.v]=(t[e.v]||0)+n.edge(e).weight}),t});return s.zipObject(n.nodes(),e)},intersectRect:function(e,t){var n,i,r=e.x,o=e.y,a=t.x-r,s=t.y-o,l=e.width/2,c=e.height/2;if(!a&&!s)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=c*a/s,i=c):(a<0&&(l=-l),i=(n=l)*s/a);return{x:r+n,y:o+i}},buildLayerMatrix:function(i){var r=s.map(s.range(l(i)+1),function(){return[]});return s.each(i.nodes(),function(e){var t=i.node(e),n=t.rank;s.isUndefined(n)||(r[n][t.order]=e)}),r},normalizeRanks:function(n){var i=s.min(s.map(n.nodes(),function(e){return n.node(e).rank}));s.each(n.nodes(),function(e){var t=n.node(e);s.has(t,"rank")&&(t.rank-=i)})},removeEmptyRanks:function(n){var i=s.min(s.map(n.nodes(),function(e){return n.node(e).rank})),r=[];s.each(n.nodes(),function(e){var t=n.node(e).rank-i;r[t]||(r[t]=[]),r[t].push(e)});var o=0,a=n.graph().nodeRankFactor;s.each(r,function(e,t){s.isUndefined(e)&&t%a!=0?--o:o&&s.each(e,function(e){n.node(e).rank+=o})})},addBorderNode:function(e,t,n,i){var r={width:0,height:0};4<=arguments.length&&(r.rank=n,r.order=i);return a(e,"border",r,t)},maxRank:l,partition:function(e,t){var n={lhs:[],rhs:[]};return s.each(e,function(e){t(e)?n.lhs.push(e):n.rhs.push(e)}),n},time:function(e,t){var n=s.now();try{return t()}finally{console.log(e+" time: "+(s.now()-n)+"ms")}},notime:function(e,t){return t()}}},{"./graphlib":7,"./lodash":10}],30:[function(e,t,n){t.exports="0.7.5"},{}]},{},[1])(1)}),function(a,v){"use strict";var u,d,h,y=a,b=y.document,c=y.navigator,r=y.setTimeout,e=y.clearTimeout,p=y.setInterval,t=y.clearInterval,l=y.getComputedStyle,s=y.encodeURIComponent,f=y.ActiveXObject,o=y.Error,n=y.Number.parseInt||y.parseInt,g=y.Number.parseFloat||y.parseFloat,i=y.Number.isNaN||y.isNaN,m=y.Date.now,w=y.Object.keys,x=y.Object.defineProperty,C=y.Object.prototype.hasOwnProperty,S=y.Array.prototype.slice,k=function(){var e=function(e){return e};if("function"==typeof y.wrap&&"function"==typeof y.unwrap)try{var t=b.createElement("div"),n=y.unwrap(t);1===t.nodeType&&n&&1===n.nodeType&&(e=y.unwrap)}catch(e){}return e}(),_=function(e){return S.call(e,0)},T=function(){var e,t,n,i,r,o=_(arguments),a=o[0]||{};for(e=1,t=o.length;e<t;e++)if(null!=(n=o[e]))for(i in n)C.call(n,i)&&(a[i],a!==(r=n[i])&&r!==v&&(a[i]=r));return a},D=function(e){var t,n,i,r;if("object"!=typeof e||null==e||"number"==typeof e.nodeType)t=e;else if("number"==typeof e.length)for(t=[],n=0,i=e.length;n<i;n++)C.call(e,n)&&(t[n]=D(e[n]));else for(r in t={},e)C.call(e,r)&&(t[r]=D(e[r]));return t},A=function(e,t){if(e&&1===e.nodeType&&e.ownerDocument&&t&&(1===t.nodeType&&t.ownerDocument&&t.ownerDocument===e.ownerDocument||9===t.nodeType&&!t.ownerDocument&&t===e.ownerDocument))do{if(e===t)return!0;e=e.parentNode}while(e);return!1},E=function(e){var t;return"string"==typeof e&&e&&(t=e.split("#")[0].split("?")[0],t=e.slice(0,e.lastIndexOf("/")+1)),t},I=function(){var e,t,n;if(b.currentScript&&(e=b.currentScript.src))return e;if(1===(t=b.getElementsByTagName("script")).length)return t[0].src||v;if("readyState"in t[0])for(n=t.length;n--;)if("interactive"===t[n].readyState&&(e=t[n].src))return e;return"loading"===b.readyState&&(e=t[t.length-1].src)?e:(e=function(){var e,t,n,i,r;try{throw new o}catch(e){t=e}return t&&(e=t.sourceURL||t.fileName||("string"==typeof(n=t.stack)&&n&&((r=n.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1]?i=r[1]:(r=n.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1]&&(i=r[1])),i)),e}())?e:v},P=null==a.opener&&(!!a.top&&a!=a.top||!!a.parent&&a!=a.parent),$={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},M={},O={},N=null,L=0,j=0,R={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},F=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],q=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],H=new RegExp("^flash-("+q.map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),B=new RegExp("^flash-("+q.slice(1).map(function(e){return e.replace(/^flash-/,"")}).join("|")+")$"),V={swfPath:(E(I())||function(){var e,t,n,i=b.getElementsByTagName("script");for(e=i.length;e--;){if(!(n=i[e].src)){t=null;break}if(n=E(n),null==t)t=n;else if(t!==n){t=null;break}}return t||v}()||"")+"ZeroClipboard.swf",trustedDomains:a.location.host?[a.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},U=function(e){void 0===e?(!function(e){if(e)for(var t in e)C.call(e,t)&&delete e[t]}(O),N=null):"string"==typeof e&&C.call(O,e)&&delete O[e]},z=function(e){return"string"==typeof e&&e&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(e)},W=function(e){var t;if("string"==typeof e&&e?(t=e,e={}):"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(t=e.type),t){t=t.toLowerCase(),!e.target&&(/^(copy|aftercopy|_click)$/.test(t)||"error"===t&&"clipboard-error"===e.name)&&(e.target=h),T(e,{type:t,target:e.target||d||null,relatedTarget:e.relatedTarget||null,currentTarget:$&&$.bridge||null,timeStamp:e.timeStamp||m()||null});var n=R[e.type];return"error"===e.type&&e.name&&n&&(n=n[e.name]),n&&(e.message=n),"ready"===e.type&&T(e,{target:null,version:$.version}),"error"===e.type&&(H.test(e.name)&&T(e,{target:null,minimumVersion:"11.0.0"}),B.test(e.name)&&T(e,{version:$.version})),"copy"===e.type&&(e.clipboardData={setData:Ce.setData,clearData:Ce.clearData}),"aftercopy"===e.type&&(e=oe(e,N)),e.target&&!e.relatedTarget&&(e.relatedTarget=G(e.target)),Y(e)}},G=function(e){var t=e&&e.getAttribute&&e.getAttribute("data-clipboard-target");return t?b.getElementById(t):null},Y=function(e){if(e&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type)){var t=e.target,n="_mouseover"===e.type&&e.relatedTarget?e.relatedTarget:v,i="_mouseout"===e.type&&e.relatedTarget?e.relatedTarget:v,r=fe(t),o=y.screenLeft||y.screenX||0,a=y.screenTop||y.screenY||0,s=b.body.scrollLeft+b.documentElement.scrollLeft,l=b.body.scrollTop+b.documentElement.scrollTop,c=r.left+("number"==typeof e._stageX?e._stageX:0),u=r.top+("number"==typeof e._stageY?e._stageY:0),d=c-s,h=u-l,p=o+d,f=a+h,g="number"==typeof e.movementX?e.movementX:0,m="number"==typeof e.movementY?e.movementY:0;delete e._stageX,delete e._stageY,T(e,{srcElement:t,fromElement:n,toElement:i,screenX:p,screenY:f,pageX:c,pageY:u,clientX:d,clientY:h,x:d,y:h,movementX:g,movementY:m,offsetX:0,offsetY:0,layerX:0,layerY:0})}return e},X=function(e){var t=e&&"string"==typeof e.type&&e.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(t)},J=function(e,t,n,i){i?r(function(){e.apply(t,n)},0):e.apply(t,n)},K=function(e){if("object"==typeof e&&e&&e.type){var t=X(e),n=M["*"]||[],i=M[e.type]||[],r=n.concat(i);if(r&&r.length){var o,a,s,l,c;for(o=0,a=r.length;o<a;o++)l=this,"string"==typeof(s=r[o])&&"function"==typeof y[s]&&(s=y[s]),"object"==typeof s&&s&&"function"==typeof s.handleEvent&&(s=(l=s).handleEvent),"function"==typeof s&&(c=T({},e),J(s,l,[c],t))}return this}},Q=function(e){var t,n,i=e.target||d||null,r="swf"===e._source;switch(delete e._source,e.type){case"error":var o="flash-sandboxed"===e.name||(t=e,n=null,(!1===P||t&&"error"===t.type&&t.name&&-1!==F.indexOf(t.name))&&(n=!1),n);"boolean"==typeof o&&($.sandboxed=o),-1!==q.indexOf(e.name)?T($,{disabled:"flash-disabled"===e.name,outdated:"flash-outdated"===e.name,unavailable:"flash-unavailable"===e.name,degraded:"flash-degraded"===e.name,deactivated:"flash-deactivated"===e.name,overdue:"flash-overdue"===e.name,ready:!1}):"version-mismatch"===e.name&&(u=e.swfVersion,T($,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),me();break;case"ready":u=e.swfVersion;var a=!0===$.deactivated;T($,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:a,ready:!a}),me();break;case"beforecopy":h=i;break;case"copy":var s,l,c=e.relatedTarget;!O["text/html"]&&!O["text/plain"]&&c&&(l=c.value||c.outerHTML||c.innerHTML)&&(s=c.value||c.textContent||c.innerText)?(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s),l!==s&&e.clipboardData.setData("text/html",l)):!O["text/plain"]&&e.target&&(s=e.target.getAttribute("data-clipboard-text"))&&(e.clipboardData.clearData(),e.clipboardData.setData("text/plain",s));break;case"aftercopy":Z(e),Ce.clearData(),i&&i!==ue()&&i.focus&&i.focus();break;case"_mouseover":Ce.focus(i),!0===V.bubbleEvents&&r&&(i&&i!==e.relatedTarget&&!A(e.relatedTarget,i)&&ee(T({},e,{type:"mouseenter",bubbles:!1,cancelable:!1})),ee(T({},e,{type:"mouseover"})));break;case"_mouseout":Ce.blur(),!0===V.bubbleEvents&&r&&(i&&i!==e.relatedTarget&&!A(e.relatedTarget,i)&&ee(T({},e,{type:"mouseleave",bubbles:!1,cancelable:!1})),ee(T({},e,{type:"mouseout"})));break;case"_mousedown":de(i,V.activeClass),!0===V.bubbleEvents&&r&&ee(T({},e,{type:e.type.slice(1)}));break;case"_mouseup":he(i,V.activeClass),!0===V.bubbleEvents&&r&&ee(T({},e,{type:e.type.slice(1)}));break;case"_click":!(h=null)===V.bubbleEvents&&r&&ee(T({},e,{type:e.type.slice(1)}));break;case"_mousemove":!0===V.bubbleEvents&&r&&ee(T({},e,{type:e.type.slice(1)}))}if(/^_(?:click|mouse(?:over|out|down|up|move))$/.test(e.type))return!0},Z=function(e){if(e.errors&&0<e.errors.length){var t=D(e);T(t,{type:"error",name:"clipboard-error"}),delete t.success,r(function(){Ce.emit(t)},0)}},ee=function(e){if(e&&"string"==typeof e.type&&e){var t,n=e.target||null,i=n&&n.ownerDocument||b,r={view:i.defaultView||y,canBubble:!0,cancelable:!0,detail:"click"===e.type?1:0,button:"number"==typeof e.which?e.which-1:"number"==typeof e.button?e.button:i.createEvent?0:1},o=T(r,e);n&&i.createEvent&&n.dispatchEvent&&(o=[o.type,o.canBubble,o.cancelable,o.view,o.detail,o.screenX,o.screenY,o.clientX,o.clientY,o.ctrlKey,o.altKey,o.shiftKey,o.metaKey,o.button,o.relatedTarget],(t=i.createEvent("MouseEvents")).initMouseEvent&&(t.initMouseEvent.apply(t,o),t._source="js",n.dispatchEvent(t)))}},te=function(e){for(var t=e&&e.parentNode;t&&"OBJECT"===t.nodeName&&t.parentNode;)t=t.parentNode;return t||null},ne=function(){var e,t,n=$.bridge,i=te(n);if(!n){var r=ce(y.location.host,V),o="never"===r?"none":"all",a=se(T({jsVersion:Ce.version},V)),s=V.swfPath+ae(V.swfPath,V);(t=b.createElement("div")).id=V.containerId,t.className=V.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+be(V.zIndex),i=t;var l=b.createElement("div");i.appendChild(l),b.body.appendChild(i);var c=b.createElement("div"),u="activex"===$.pluginType;c.innerHTML='<object id="'+V.swfObjectId+'" name="'+V.swfObjectId+'" width="100%" height="100%" '+(u?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+s+'"')+">"+(u?'<param name="movie" value="'+s+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+o+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+a+'"/><div id="'+V.swfObjectId+'_fallbackContent">&nbsp;</div></object>',n=c.firstChild,c=null,k(n).ZeroClipboard=Ce,i.replaceChild(n,l),function(){var e=V.flashLoadTimeout;if("number"==typeof e&&0<=e){var t=Math.min(1e3,e/10),n=V.swfObjectId+"_fallbackContent";j=p(function(){var e=b.getElementById(n);ge(e)&&(me(),$.deactivated=null,Ce.emit({type:"error",name:"swf-not-found"}))},t)}}()}return n||((n=b[V.swfObjectId])&&(e=n.length)&&(n=n[e-1]),!n&&i&&(n=i.firstChild)),$.bridge=n||null,n},ie=function(){var n=$.bridge;if(n){var i=te(n);i&&("activex"===$.pluginType&&"readyState"in n?(n.style.display="none",function e(){if(4===n.readyState){for(var t in n)"function"==typeof n[t]&&(n[t]=null);n.parentNode&&n.parentNode.removeChild(n),i.parentNode&&i.parentNode.removeChild(i)}else r(e,10)}()):(n.parentNode&&n.parentNode.removeChild(n),i.parentNode&&i.parentNode.removeChild(i))),me(),$.ready=null,$.bridge=null,$.deactivated=null,u=v}},re=function(e){var t={},n={};if("object"==typeof e&&e){for(var i in e)if(i&&C.call(e,i)&&"string"==typeof e[i]&&e[i])switch(i.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":t.text=e[i],n.text=i;break;case"text/html":case"html":case"air:html":case"flash:html":t.html=e[i],n.html=i;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":t.rtf=e[i],n.rtf=i}return{data:t,formatMap:n}}},oe=function(e,t){if("object"!=typeof e||!e||"object"!=typeof t||!t)return e;var n={};for(var i in e)if(C.call(e,i))if("errors"===i){n[i]=e[i]?e[i].slice():[];for(var r=0,o=n[i].length;r<o;r++)n[i][r].format=t[n[i][r].format]}else if("success"!==i&&"data"!==i)n[i]=e[i];else{n[i]={};var a=e[i];for(var s in a)s&&C.call(a,s)&&C.call(t,s)&&(n[i][t[s]]=a[s])}return n},ae=function(e,t){return null==t||t&&!0===t.cacheBust?(-1===e.indexOf("?")?"?":"&")+"noCache="+m():""},se=function(e){var t,n,i,r,o="",a=[];if(e.trustedDomains&&("string"==typeof e.trustedDomains?r=[e.trustedDomains]:"object"==typeof e.trustedDomains&&"length"in e.trustedDomains&&(r=e.trustedDomains)),r&&r.length)for(t=0,n=r.length;t<n;t++)if(C.call(r,t)&&r[t]&&"string"==typeof r[t]){if(!(i=le(r[t])))continue;if("*"===i){a.length=0,a.push(i);break}a.push.apply(a,[i,"//"+i,y.location.protocol+"//"+i])}return a.length&&(o+="trustedOrigins="+s(a.join(","))),!0===e.forceEnhancedClipboard&&(o+=(o?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof e.swfObjectId&&e.swfObjectId&&(o+=(o?"&":"")+"swfObjectId="+s(e.swfObjectId)),"string"==typeof e.jsVersion&&e.jsVersion&&(o+=(o?"&":"")+"jsVersion="+s(e.jsVersion)),o},le=function(e){if(null==e||""===e)return null;if(""===(e=e.replace(/^\s+|\s+$/g,"")))return null;var t=e.indexOf("//"),n=(e=-1===t?e:e.slice(t+2)).indexOf("/");return(e=-1===n?e:-1===t||0===n?null:e.slice(0,n))&&".swf"===e.slice(-4).toLowerCase()?null:e||null},ce=function(e,t){var n=le(t.swfPath);null===n&&(n=e);var i=function(e){var t,n,i,r=[];if("string"==typeof e&&(e=[e]),"object"!=typeof e||!e||"number"!=typeof e.length)return r;for(t=0,n=e.length;t<n;t++)if(C.call(e,t)&&(i=le(e[t]))){if("*"===i){r.length=0,r.push("*");break}-1===r.indexOf(i)&&r.push(i)}return r}(t.trustedDomains),r=i.length;if(0<r){if(1===r&&"*"===i[0])return"always";if(-1!==i.indexOf(e))return 1===r&&e===n?"sameDomain":"always"}return"never"},ue=function(){try{return b.activeElement}catch(e){return null}},de=function(e,t){var n,i,r,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&0<o.length)if(e.classList)for(n=0,i=o.length;n<i;n++)e.classList.add(o[n]);else if(e.hasOwnProperty("className")){for(r=" "+e.className+" ",n=0,i=o.length;n<i;n++)-1===r.indexOf(" "+o[n]+" ")&&(r+=o[n]+" ");e.className=r.replace(/^\s+|\s+$/g,"")}return e},he=function(e,t){var n,i,r,o=[];if("string"==typeof t&&t&&(o=t.split(/\s+/)),e&&1===e.nodeType&&0<o.length)if(e.classList&&0<e.classList.length)for(n=0,i=o.length;n<i;n++)e.classList.remove(o[n]);else if(e.className){for(r=(" "+e.className+" ").replace(/[\r\n\t]/g," "),n=0,i=o.length;n<i;n++)r=r.replace(" "+o[n]+" "," ");e.className=r.replace(/^\s+|\s+$/g,"")}return e},pe=function(e,t){var n=l(e,null).getPropertyValue(t);return"cursor"!==t||n&&"auto"!==n||"A"!==e.nodeName?n:"pointer"},fe=function(e){var t={left:0,top:0,width:0,height:0};if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),i=y.pageXOffset,r=y.pageYOffset,o=b.documentElement.clientLeft||0,a=b.documentElement.clientTop||0,s=0,l=0;if("relative"===pe(b.body,"position")){var c=b.body.getBoundingClientRect(),u=b.documentElement.getBoundingClientRect();s=c.left-u.left||0,l=c.top-u.top||0}t.left=n.left+i-o-s,t.top=n.top+r-a-l,t.width="width"in n?n.width:n.right-n.left,t.height="height"in n?n.height:n.bottom-n.top}return t},ge=function(e){if(!e)return!1;var t=l(e,null),n=0<g(t.height),i=0<g(t.width),r=0<=g(t.top),o=0<=g(t.left),a=n&&i&&r&&o,s=a?null:fe(e);return"none"!==t.display&&"collapse"!==t.visibility&&(a||!!s&&(n||0<s.height)&&(i||0<s.width)&&(r||0<=s.top)&&(o||0<=s.left))},me=function(){e(L),L=0,t(j),j=0},ve=function(){var e;if(d&&(e=te($.bridge))){var t=fe(d);T(e.style,{width:t.width+"px",height:t.height+"px",top:t.top+"px",left:t.left+"px",zIndex:""+be(V.zIndex)})}},ye=function(e){!0===$.ready&&($.bridge&&"function"==typeof $.bridge.setHandCursor?$.bridge.setHandCursor(e):$.ready=!1)},be=function(e){return/^(?:auto|inherit)$/.test(e)?e:("number"!=typeof e||i(e)?"string"==typeof e&&(t=be(n(e,10))):t=e,"number"==typeof t?t:"auto");var t},we=function(e){var t,n,i,r=$.sandboxed,o=null;if(e=!0===e,!1===P)o=!1;else{try{n=a.frameElement||null}catch(e){i={name:e.name,message:e.message}}if(n&&1===n.nodeType&&"IFRAME"===n.nodeName)try{o=n.hasAttribute("sandbox")}catch(e){o=null}else{try{t=document.domain||null}catch(e){t=null}(null===t||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(o=!0)}}return r===($.sandboxed=o)||e||xe(f),o},xe=function(t){var n,e,i=!1,r=!1,o=!1,a="";function s(e){var t=e.match(/[\d]+/g);return t.length=3,t.join(".")}function l(e){var t;e&&(i=!0,e.version&&(a=s(e.version)),!a&&e.description&&(a=s(e.description)),e.filename&&(t=e.filename,o=!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))))}if(c.plugins&&c.plugins.length)l(c.plugins["Shockwave Flash"]),c.plugins["Shockwave Flash 2.0"]&&(i=!0,a="2.0.0.11");else if(c.mimeTypes&&c.mimeTypes.length)l((e=c.mimeTypes["application/x-shockwave-flash"])&&e.enabledPlugin);else if(void 0!==t){r=!0;try{n=new t("ShockwaveFlash.ShockwaveFlash.7"),i=!0,a=s(n.GetVariable("$version"))}catch(e){try{n=new t("ShockwaveFlash.ShockwaveFlash.6"),i=!0,a="6.0.21"}catch(e){try{n=new t("ShockwaveFlash.ShockwaveFlash"),i=!0,a=s(n.GetVariable("$version"))}catch(e){r=!1}}}}$.disabled=!0!==i,$.outdated=a&&g(a)<g("11.0.0"),$.version=a||"0.0.0",$.pluginType=o?"pepper":r?"activex":i?"netscape":"unknown"};xe(f),we(!0);var Ce=function(){if(!(this instanceof Ce))return new Ce;"function"==typeof Ce._createClient&&Ce._createClient.apply(this,_(arguments))};x(Ce,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Ce.config=function(){return function(e){if("object"==typeof e&&null!==e)for(var t in e)if(C.call(e,t))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(t))V[t]=e[t];else if(null==$.bridge)if("containerId"===t||"swfObjectId"===t){if(!z(e[t]))throw new Error("The specified `"+t+"` value is not valid as an HTML4 Element ID");V[t]=e[t]}else V[t]=e[t];return"string"==typeof e&&e?C.call(V,e)?V[e]:void 0:D(V)}.apply(this,_(arguments))},Ce.state=function(){return function(){return we(),{browser:function(e,t){for(var n={},i=0,r=t.length;i<r;i++)t[i]in e&&(n[t[i]]=e[t[i]]);return n}(c,["userAgent","platform","appName"]),flash:function(e,t){var n={};for(var i in e)-1===t.indexOf(i)&&(n[i]=e[i]);return n}($,["bridge"]),zeroclipboard:{version:Ce.version,config:Ce.config()}}}.apply(this,_(arguments))},Ce.isFlashUnusable=function(){return function(){return!!($.disabled||$.outdated||$.sandboxed||$.unavailable||$.degraded||$.deactivated)}.apply(this,_(arguments))},Ce.on=function(){return function(e,t){var n,i,r,o={};if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ce.on(n,e[n]);if(r&&r.length){for(n=0,i=r.length;n<i;n++)o[e=r[n].replace(/^on/,"")]=!0,M[e]||(M[e]=[]),M[e].push(t);if(o.ready&&$.ready&&Ce.emit({type:"ready"}),o.error){for(n=0,i=q.length;n<i;n++)if(!0===$[q[n].replace(/^flash-/,"")]){Ce.emit({type:"error",name:q[n]});break}u!==v&&Ce.version!==u&&Ce.emit({type:"error",name:"version-mismatch",jsVersion:Ce.version,swfVersion:u})}}return Ce}.apply(this,_(arguments))},Ce.off=function(){return function(e,t){var n,i,r,o,a;if(0===arguments.length)o=w(M);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&Ce.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;n<i;n++)if(e=o[n].toLowerCase().replace(/^on/,""),(a=M[e])&&a.length)if(t)for(r=a.indexOf(t);-1!==r;)a.splice(r,1),r=a.indexOf(t,r);else a.length=0;return Ce}.apply(this,_(arguments))},Ce.handlers=function(){return function(e){return"string"==typeof e&&e?D(M[e])||null:D(M)}.apply(this,_(arguments))},Ce.emit=function(){return function(e){var t,n,i;if((e=W(e))&&!Q(e))return"ready"===e.type&&!0===$.overdue?Ce.emit({type:"error",name:"flash-overdue"}):(t=T({},e),K.call(this,t),"copy"===e.type&&(n=(i=re(O)).data,N=i.formatMap),n)}.apply(this,_(arguments))},Ce.create=function(){return function(){var e=$.sandboxed;if(we(),"boolean"!=typeof $.ready&&($.ready=!1),$.sandboxed!==e&&!0===$.sandboxed)$.ready=!1,Ce.emit({type:"error",name:"flash-sandboxed"});else if(!Ce.isFlashUnusable()&&null===$.bridge){var t=V.flashLoadTimeout;"number"==typeof t&&0<=t&&(L=r(function(){"boolean"!=typeof $.deactivated&&($.deactivated=!0),!0===$.deactivated&&Ce.emit({type:"error",name:"flash-deactivated"})},t)),$.overdue=!1,ne()}}.apply(this,_(arguments))},Ce.destroy=function(){return function(){Ce.clearData(),Ce.blur(),Ce.emit("destroy"),ie(),Ce.off()}.apply(this,_(arguments))},Ce.setData=function(){return function(e,t){var n;if("object"==typeof e&&e&&void 0===t)n=e,Ce.clearData();else{if("string"!=typeof e||!e)return;(n={})[e]=t}for(var i in n)"string"==typeof i&&i&&C.call(n,i)&&"string"==typeof n[i]&&n[i]&&(O[i]=n[i])}.apply(this,_(arguments))},Ce.clearData=function(){return U.apply(this,_(arguments))},Ce.getData=function(){return function(e){return void 0===e?D(O):"string"==typeof e&&C.call(O,e)?O[e]:void 0}.apply(this,_(arguments))},Ce.focus=Ce.activate=function(){return function(e){if(e&&1===e.nodeType){d&&(he(d,V.activeClass),d!==e&&he(d,V.hoverClass)),de(d=e,V.hoverClass);var t=e.getAttribute("title")||V.title;if("string"==typeof t&&t){var n=te($.bridge);n&&n.setAttribute("title",t)}var i=!0===V.forceHandCursor||"pointer"===pe(e,"cursor");ye(i),ve()}}.apply(this,_(arguments))},Ce.blur=Ce.deactivate=function(){return function(){var e=te($.bridge);e&&(e.removeAttribute("title"),e.style.left="0px",e.style.top="-9999px",e.style.width="1px",e.style.height="1px"),d&&(he(d,V.hoverClass),he(d,V.activeClass),d=null)}.apply(this,_(arguments))},Ce.activeElement=function(){return function(){return d||null}.apply(this,_(arguments))};var Se=0,ke={},_e=0,Te={},De={};T(V,{autoActivate:!0});var Ae=function(e){if(!e||!e.type)return!1;if(e.client&&e.client!==this)return!1;var t=ke[this.id],n=t&&t.elements,i=!!n&&0<n.length,r=!e.target||i&&-1!==n.indexOf(e.target),o=e.relatedTarget&&i&&-1!==n.indexOf(e.relatedTarget),a=e.client&&e.client===this;return!(!t||!(r||o||a))},Ee=function(e){var t=ke[this.id];if("object"==typeof e&&e&&e.type&&t){var n=X(e),i=t&&t.handlers["*"]||[],r=t&&t.handlers[e.type]||[],o=i.concat(r);if(o&&o.length){var a,s,l,c,u;for(a=0,s=o.length;a<s;a++)c=this,"string"==typeof(l=o[a])&&"function"==typeof y[l]&&(l=y[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(l=(c=l).handleEvent),"function"==typeof l&&(u=T({},e),J(l,c,[u],n))}}},Ie=function(e){return"string"==typeof e&&(e=[]),"number"!=typeof e.length?[e]:e},Pe=function(t){if(t&&1===t.nodeType){var n=function(e){(e||(e=y.event))&&("js"!==e._source&&(e.stopImmediatePropagation(),e.preventDefault()),delete e._source)},e=function(e){(e||(e=y.event))&&(n(e),Ce.focus(t))};t.addEventListener("mouseover",e,!1),t.addEventListener("mouseout",n,!1),t.addEventListener("mouseenter",n,!1),t.addEventListener("mouseleave",n,!1),t.addEventListener("mousemove",n,!1),De[t.zcClippingId]={mouseover:e,mouseout:n,mouseenter:n,mouseleave:n,mousemove:n}}},$e=function(e){if(e&&1===e.nodeType){var t=De[e.zcClippingId];if("object"==typeof t&&t){for(var n,i,r=["move","leave","enter","out","over"],o=0,a=r.length;o<a;o++)"function"==typeof(i=t[n="mouse"+r[o]])&&e.removeEventListener(n,i,!1);delete De[e.zcClippingId]}}};Ce._createClient=function(){(function(e){var t=this;t.id=""+Se++,ke[t.id]={instance:t,elements:[],handlers:{}},e&&t.clip(e),Ce.on("*",function(e){return t.emit(e)}),Ce.on("destroy",function(){t.destroy()}),Ce.create()}).apply(this,_(arguments))},Ce.prototype.on=function(){return function(e,t){var n,i,r,o={},a=ke[this.id],s=a&&a.handlers;if(!a)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof e&&e)r=e.toLowerCase().split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.on(n,e[n]);if(r&&r.length){for(n=0,i=r.length;n<i;n++)o[e=r[n].replace(/^on/,"")]=!0,s[e]||(s[e]=[]),s[e].push(t);if(o.ready&&$.ready&&this.emit({type:"ready",client:this}),o.error){for(n=0,i=q.length;n<i;n++)if($[q[n].replace(/^flash-/,"")]){this.emit({type:"error",name:q[n],client:this});break}u!==v&&Ce.version!==u&&this.emit({type:"error",name:"version-mismatch",jsVersion:Ce.version,swfVersion:u})}}return this}.apply(this,_(arguments))},Ce.prototype.off=function(){return function(e,t){var n,i,r,o,a,s=ke[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)o=w(l);else if("string"==typeof e&&e)o=e.split(/\s+/);else if("object"==typeof e&&e&&void 0===t)for(n in e)C.call(e,n)&&"string"==typeof n&&n&&"function"==typeof e[n]&&this.off(n,e[n]);if(o&&o.length)for(n=0,i=o.length;n<i;n++)if((a=l[e=o[n].toLowerCase().replace(/^on/,"")])&&a.length)if(t)for(r=a.indexOf(t);-1!==r;)a.splice(r,1),r=a.indexOf(t,r);else a.length=0;return this}.apply(this,_(arguments))},Ce.prototype.handlers=function(){return function(e){var t=null,n=ke[this.id]&&ke[this.id].handlers;return n&&(t="string"==typeof e&&e?n[e]?n[e].slice(0):[]:D(n)),t}.apply(this,_(arguments))},Ce.prototype.emit=function(){return function(e){if(Ae.call(this,e)){"object"==typeof e&&e&&"string"==typeof e.type&&e.type&&(e=T({},e));var t=T({},W(e),{client:this});Ee.call(this,t)}return this}.apply(this,_(arguments))},Ce.prototype.clip=function(){return function(e){if(!ke[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");e=Ie(e);for(var t=0;t<e.length;t++)if(C.call(e,t)&&e[t]&&1===e[t].nodeType){e[t].zcClippingId?-1===Te[e[t].zcClippingId].indexOf(this.id)&&Te[e[t].zcClippingId].push(this.id):(e[t].zcClippingId="zcClippingId_"+_e++,Te[e[t].zcClippingId]=[this.id],!0===V.autoActivate&&Pe(e[t]));var n=ke[this.id]&&ke[this.id].elements;-1===n.indexOf(e[t])&&n.push(e[t])}return this}.apply(this,_(arguments))},Ce.prototype.unclip=function(){return function(e){var t=ke[this.id];if(!t)return this;for(var n,i=t.elements,r=(e=void 0===e?i.slice(0):Ie(e)).length;r--;)if(C.call(e,r)&&e[r]&&1===e[r].nodeType){for(n=0;-1!==(n=i.indexOf(e[r],n));)i.splice(n,1);var o=Te[e[r].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(!0===V.autoActivate&&$e(e[r]),delete e[r].zcClippingId)}}return this}.apply(this,_(arguments))},Ce.prototype.elements=function(){return function(){var e=ke[this.id];return e&&e.elements?e.elements.slice(0):[]}.apply(this,_(arguments))},Ce.prototype.destroy=function(){return function(){ke[this.id]&&(this.unclip(),this.off(),delete ke[this.id])}.apply(this,_(arguments))},Ce.prototype.setText=function(e){if(!ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.setData("text/plain",e),this},Ce.prototype.setHtml=function(e){if(!ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.setData("text/html",e),this},Ce.prototype.setRichText=function(e){if(!ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.setData("application/rtf",e),this},Ce.prototype.setData=function(){if(!ke[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.setData.apply(this,_(arguments)),this},Ce.prototype.clearData=function(){if(!ke[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.clearData.apply(this,_(arguments)),this},Ce.prototype.getData=function(){if(!ke[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Ce.getData.apply(this,_(arguments))},"function"==typeof define&&define.amd?define(function(){return Ce}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Ce:a.ZeroClipboard=Ce}(function(){return this||window}()),("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):window.toastr=t(window.jQuery)})(["jquery"],function(S){return function(){var m,t,v,y=0,i="error",r="info",o="success",a="warning",e={clear:function(e,t){var n=x();m||b(n),s(e,n,t)||function(e){for(var t=m.children(),n=t.length-1;0<=n;n--)s(S(t[n]),e)}(n)},remove:function(e){var t=x();m||b(t),e&&0===S(":focus",e).length?C(e):m.children().length&&m.remove()},error:function(e,t,n){return l({type:i,iconClass:x().iconClasses.error,message:e,optionsOverride:n,title:t})},getContainer:b,info:function(e,t,n){return l({type:r,iconClass:x().iconClasses.info,message:e,optionsOverride:n,title:t})},options:{},subscribe:function(e){t=e},success:function(e,t,n){return l({type:o,iconClass:x().iconClasses.success,message:e,optionsOverride:n,title:t})},version:"2.1.3",warning:function(e,t,n){return l({type:a,iconClass:x().iconClasses.warning,message:e,optionsOverride:n,title:t})}};return e;function b(e,t){return e||(e=x()),(m=S("#"+e.containerId)).length||t&&(n=e,(m=S("<div/>").attr("id",n.containerId).addClass(n.positionClass)).appendTo(S(n.target)),m=m),m;var n}function s(e,t,n){var i=!(!n||!n.force)&&n.force;return!(!e||!i&&0!==S(":focus",e).length||(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){C(e)}}),0))}function w(e){t&&t(e)}function l(t){var r=x(),e=t.iconClass||r.iconClass;if(void 0!==t.optionsOverride&&(r=S.extend(r,t.optionsOverride),e=t.optionsOverride.iconClass||e),!function(e,t){if(e.preventDuplicates){if(t.message===v)return!0;v=t.message}return!1}(r,t)){y++,m=b(r,!0);var o=null,a=S("<div/>"),n=S("<div/>"),i=S("<div/>"),s=S("<div/>"),l=S(r.closeHtml),c={intervalId:null,hideEta:null,maxHideTime:null},u={toastId:y,state:"visible",startTime:new Date,options:r,map:t};return t.iconClass&&a.addClass(r.toastClass).addClass(e),function(){if(t.title){var e=t.title;r.escapeHtml&&(e=d(t.title)),n.append(e).addClass(r.titleClass),a.append(n)}}(),function(){if(t.message){var e=t.message;r.escapeHtml&&(e=d(t.message)),i.append(e).addClass(r.messageClass),a.append(i)}}(),r.closeButton&&(l.addClass(r.closeClass).attr("role","button"),a.prepend(l)),r.progressBar&&(s.addClass(r.progressClass),a.prepend(s)),r.rtl&&a.addClass("rtl"),r.newestOnTop?m.prepend(a):m.append(a),function(){var e="";switch(t.iconClass){case"toast-success":case"toast-info":e="polite";break;default:e="assertive"}a.attr("aria-live",e)}(),a.hide(),a[r.showMethod]({duration:r.showDuration,easing:r.showEasing,complete:r.onShown}),0<r.timeOut&&(o=setTimeout(h,r.timeOut),c.maxHideTime=parseFloat(r.timeOut),c.hideEta=(new Date).getTime()+c.maxHideTime,r.progressBar&&(c.intervalId=setInterval(g,10))),r.closeOnHover&&a.hover(f,p),!r.onclick&&r.tapToDismiss&&a.click(h),r.closeButton&&l&&l.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&!0!==e.cancelBubble&&(e.cancelBubble=!0),r.onCloseClick&&r.onCloseClick(e),h(!0)}),r.onclick&&a.click(function(e){r.onclick(e),h()}),w(u),r.debug&&console&&console.log(u),a}function d(e){return null==e&&(e=""),e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(e){var t=e&&!1!==r.closeMethod?r.closeMethod:r.hideMethod,n=e&&!1!==r.closeDuration?r.closeDuration:r.hideDuration,i=e&&!1!==r.closeEasing?r.closeEasing:r.hideEasing;if(!S(":focus",a).length||e)return clearTimeout(c.intervalId),a[t]({duration:n,easing:i,complete:function(){C(a),clearTimeout(o),r.onHidden&&"hidden"!==u.state&&r.onHidden(),u.state="hidden",u.endTime=new Date,w(u)}})}function p(){(0<r.timeOut||0<r.extendedTimeOut)&&(o=setTimeout(h,r.extendedTimeOut),c.maxHideTime=parseFloat(r.extendedTimeOut),c.hideEta=(new Date).getTime()+c.maxHideTime)}function f(){clearTimeout(o),c.hideEta=0,a.stop(!0,!0)[r.showMethod]({duration:r.showDuration,easing:r.showEasing})}function g(){var e=(c.hideEta-(new Date).getTime())/c.maxHideTime*100;s.width(e+"%")}}function x(){return S.extend({},{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,closeMethod:!1,closeDuration:!1,closeEasing:!1,closeOnHover:!0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",escapeHtml:!1,target:"body",closeHtml:'<button type="button">&times;</button>',closeClass:"toast-close-button",newestOnTop:!0,preventDuplicates:!1,progressBar:!1,progressClass:"toast-progress",rtl:!1},e.options)}function C(e){m||(m=b()),e.is(":visible")||(e.remove(),e=null,0===m.children().length&&(m.remove(),v=void 0))}}()}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(T){T.ui=T.ui||{};T.ui.version="1.12.1";var r,n=0,s=Array.prototype.slice;T.cleanData=(r=T.cleanData,function(e){var t,n,i;for(i=0;null!=(n=e[i]);i++)try{(t=T._data(n,"events"))&&t.remove&&T(n).triggerHandler("remove")}catch(e){}r(e)}),T.widget=function(e,n,t){var i,r,o,a={},s=e.split(".")[0],l=s+"-"+(e=e.split(".")[1]);return t||(t=n,n=T.Widget),T.isArray(t)&&(t=T.extend.apply(null,[{}].concat(t))),T.expr[":"][l.toLowerCase()]=function(e){return!!T.data(e,l)},T[s]=T[s]||{},i=T[s][e],r=T[s][e]=function(e,t){if(!this._createWidget)return new r(e,t);arguments.length&&this._createWidget(e,t)},T.extend(r,i,{version:t.version,_proto:T.extend({},t),_childConstructors:[]}),(o=new n).options=T.widget.extend({},o.options),T.each(t,function(t,o){T.isFunction(o)?a[t]=function(){function i(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var e,t=this._super,n=this._superApply;return this._super=i,this._superApply=r,e=o.apply(this,arguments),this._super=t,this._superApply=n,e}}():a[t]=o}),r.prototype=T.widget.extend(o,{widgetEventPrefix:i&&o.widgetEventPrefix||e},a,{constructor:r,namespace:s,widgetName:e,widgetFullName:l}),i?(T.each(i._childConstructors,function(e,t){var n=t.prototype;T.widget(n.namespace+"."+n.widgetName,r,t._proto)}),delete i._childConstructors):n._childConstructors.push(r),T.widget.bridge(e,r),r},T.widget.extend=function(e){for(var t,n,i=s.call(arguments,1),r=0,o=i.length;r<o;r++)for(t in i[r])n=i[r][t],i[r].hasOwnProperty(t)&&void 0!==n&&(T.isPlainObject(n)?e[t]=T.isPlainObject(e[t])?T.widget.extend({},e[t],n):T.widget.extend({},n):e[t]=n);return e},T.widget.bridge=function(o,t){var a=t.prototype.widgetFullName||o;T.fn[o]=function(n){var e="string"==typeof n,i=s.call(arguments,1),r=this;return e?this.length||"instance"!==n?this.each(function(){var e,t=T.data(this,a);return"instance"===n?(r=t,!1):t?T.isFunction(t[n])&&"_"!==n.charAt(0)?(e=t[n].apply(t,i))!==t&&void 0!==e?(r=e&&e.jquery?r.pushStack(e.get()):e,!1):void 0:T.error("no such method '"+n+"' for "+o+" widget instance"):T.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+n+"'")}):r=void 0:(i.length&&(n=T.widget.extend.apply(null,[n].concat(i))),this.each(function(){var e=T.data(this,a);e?(e.option(n||{}),e._init&&e._init()):T.data(this,a,new t(n,this))})),r}},T.Widget=function(){},T.Widget._childConstructors=[],T.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,t){t=T(t||this.defaultElement||this)[0],this.element=T(t),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=T(),this.hoverable=T(),this.focusable=T(),this.classesElementLookup={},t!==this&&(T.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=T(t.style?t.ownerDocument:t.document||t),this.window=T(this.document[0].defaultView||this.document[0].parentWindow)),this.options=T.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:T.noop,_create:T.noop,_init:T.noop,destroy:function(){var n=this;this._destroy(),T.each(this.classesElementLookup,function(e,t){n._removeClass(t,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:T.noop,widget:function(){return this.element},option:function(e,t){var n,i,r,o=e;if(0===arguments.length)return T.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(n=e.split(".")).shift(),n.length){for(i=o[e]=T.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)i[n[r]]=i[n[r]]||{},i=i[n[r]];if(e=n.pop(),1===arguments.length)return void 0===i[e]?null:i[e];i[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(e){var t,n,i;for(t in e)i=this.classesElementLookup[t],e[t]!==this.options.classes[t]&&i&&i.length&&(n=T(i.get()),this._removeClass(i,t),n.addClass(this._classes({element:n,keys:t,classes:e,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(r){var o=[],a=this;function e(e,t){var n,i;for(i=0;i<e.length;i++)n=a.classesElementLookup[e[i]]||T(),n=r.add?T(T.unique(n.get().concat(r.element.get()))):T(n.not(r.element).get()),a.classesElementLookup[e[i]]=n,o.push(e[i]),t&&r.classes[e[i]]&&o.push(r.classes[e[i]])}return r=T.extend({element:this.element,classes:this.options.classes||{}},r),this._on(r.element,{remove:"_untrackClassesElement"}),r.keys&&e(r.keys.match(/\S+/g)||[],!0),r.extra&&e(r.extra.match(/\S+/g)||[]),o.join(" ")},_untrackClassesElement:function(n){var i=this;T.each(i.classesElementLookup,function(e,t){-1!==T.inArray(n.target,t)&&(i.classesElementLookup[e]=T(t.not(n.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(a,s,e){var l,c=this;"boolean"!=typeof a&&(e=s,s=a,a=!1),e?(s=l=T(s),this.bindings=this.bindings.add(s)):(e=s,s=this.element,l=this.widget()),T.each(e,function(e,t){function n(){if(a||!0!==c.options.disabled&&!T(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(n.guid=t.guid=t.guid||n.guid||T.guid++);var i=e.match(/^([\w:-]*)\s*(.*)$/),r=i[1]+c.eventNamespace,o=i[2];o?l.on(r,o,n):s.on(r,n)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(t).off(t),this.bindings=T(this.bindings.not(e).get()),this.focusable=T(this.focusable.not(e).get()),this.hoverable=T(this.hoverable.not(e).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(T(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(T(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(T(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(T(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,t,n){var i,r,o=this.options[e];if(n=n||{},(t=T.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],r=t.originalEvent)for(i in r)i in t||(t[i]=r[i]);return this.element.trigger(t,n),!(T.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(n))||t.isDefaultPrevented())}},T.each({show:"fadeIn",hide:"fadeOut"},function(o,a){T.Widget.prototype["_"+o]=function(t,e,n){var i;"string"==typeof e&&(e={effect:e});var r=e?!0===e||"number"==typeof e?a:e.effect||a:o;"number"==typeof(e=e||{})&&(e={duration:e}),i=!T.isEmptyObject(e),e.complete=n,e.delay&&t.delay(e.delay),i&&T.effects&&T.effects.effect[r]?t[o](e):r!==o&&t[r]?t[r](e.duration,e.easing,n):t.queue(function(e){T(this)[o](),n&&n.call(t[0]),e()})}});T.widget;!function(){var r,C=Math.max,S=Math.abs,i=/left|center|right/,o=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,s=/^\w+/,l=/%$/,c=T.fn.position;function k(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function _(e,t){return parseInt(T.css(e,t),10)||0}T.position={scrollbarWidth:function(){if(void 0!==r)return r;var e,t,n=T("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),i=n.children()[0];return T("body").append(n),e=i.offsetWidth,n.css("overflow","scroll"),e===(t=i.offsetWidth)&&(t=n[0].clientWidth),n.remove(),r=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),i="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?T.position.scrollbarWidth():0,height:i?T.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=T(e||window),n=T.isWindow(t[0]),i=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:n,isDocument:i,offset:!n&&!i?T(e).offset():{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:t.outerWidth(),height:t.outerHeight()}}},T.fn.position=function(d){if(!d||!d.of)return c.apply(this,arguments);d=T.extend({},d);var h,p,f,g,m,e,t,n,v=T(d.of),y=T.position.getWithinInfo(d.within),b=T.position.getScrollInfo(y),w=(d.collision||"flip").split(" "),x={};return e=9===(n=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:T.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(d.at="left top"),p=e.width,f=e.height,g=e.offset,m=T.extend({},g),T.each(["my","at"],function(){var e,t,n=(d[this]||"").split(" ");1===n.length&&(n=i.test(n[0])?n.concat(["center"]):o.test(n[0])?["center"].concat(n):["center","center"]),n[0]=i.test(n[0])?n[0]:"center",n[1]=o.test(n[1])?n[1]:"center",e=a.exec(n[0]),t=a.exec(n[1]),x[this]=[e?e[0]:0,t?t[0]:0],d[this]=[s.exec(n[0])[0],s.exec(n[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?m.left+=p:"center"===d.at[0]&&(m.left+=p/2),"bottom"===d.at[1]?m.top+=f:"center"===d.at[1]&&(m.top+=f/2),h=k(x.at,p,f),m.left+=h[0],m.top+=h[1],this.each(function(){var n,e,a=T(this),s=a.outerWidth(),l=a.outerHeight(),t=_(this,"marginLeft"),i=_(this,"marginTop"),r=s+t+_(this,"marginRight")+b.width,o=l+i+_(this,"marginBottom")+b.height,c=T.extend({},m),u=k(x.my,a.outerWidth(),a.outerHeight());"right"===d.my[0]?c.left-=s:"center"===d.my[0]&&(c.left-=s/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],n={marginLeft:t,marginTop:i},T.each(["left","top"],function(e,t){T.ui.position[w[e]]&&T.ui.position[w[e]][t](c,{targetWidth:p,targetHeight:f,elemWidth:s,elemHeight:l,collisionPosition:n,collisionWidth:r,collisionHeight:o,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:a})}),d.using&&(e=function(e){var t=g.left-c.left,n=t+p-s,i=g.top-c.top,r=i+f-l,o={target:{element:v,left:g.left,top:g.top,width:p,height:f},element:{element:a,left:c.left,top:c.top,width:s,height:l},horizontal:n<0?"left":0<t?"right":"center",vertical:r<0?"top":0<i?"bottom":"middle"};p<s&&S(t+n)<p&&(o.horizontal="center"),f<l&&S(i+r)<f&&(o.vertical="middle"),C(S(t),S(n))>C(S(i),S(r))?o.important="horizontal":o.important="vertical",d.using.call(this,e,o)}),a.offset(T.extend(c,{using:e}))})},T.ui.position={fit:{left:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollLeft:i.offset.left,o=i.width,a=e.left-t.collisionPosition.marginLeft,s=r-a,l=a+t.collisionWidth-o-r;t.collisionWidth>o?0<s&&l<=0?(n=e.left+s+t.collisionWidth-o-r,e.left+=s-n):e.left=0<l&&s<=0?r:l<s?r+o-t.collisionWidth:r:0<s?e.left+=s:0<l?e.left-=l:e.left=C(e.left-a,e.left)},top:function(e,t){var n,i=t.within,r=i.isWindow?i.scrollTop:i.offset.top,o=t.within.height,a=e.top-t.collisionPosition.marginTop,s=r-a,l=a+t.collisionHeight-o-r;t.collisionHeight>o?0<s&&l<=0?(n=e.top+s+t.collisionHeight-o-r,e.top+=s-n):e.top=0<l&&s<=0?r:l<s?r+o-t.collisionHeight:r:0<s?e.top+=s:0<l?e.top-=l:e.top=C(e.top-a,e.top)}},flip:{left:function(e,t){var n,i,r=t.within,o=r.offset.left+r.scrollLeft,a=r.width,s=r.isWindow?r.scrollLeft:r.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-s,u=l+t.collisionWidth-a-s,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((n=e.left+d+h+p+t.collisionWidth-a-o)<0||n<S(c))&&(e.left+=d+h+p):0<u&&(0<(i=e.left-t.collisionPosition.marginLeft+d+h+p-s)||S(i)<u)&&(e.left+=d+h+p)},top:function(e,t){var n,i,r=t.within,o=r.offset.top+r.scrollTop,a=r.height,s=r.isWindow?r.scrollTop:r.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-s,u=l+t.collisionHeight-a-s,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?((i=e.top+d+h+p+t.collisionHeight-a-o)<0||i<S(c))&&(e.top+=d+h+p):0<u&&(0<(n=e.top-t.collisionPosition.marginTop+d+h+p-s)||S(n)<u)&&(e.top+=d+h+p)}},flipfit:{left:function(){T.ui.position.flip.left.apply(this,arguments),T.ui.position.fit.left.apply(this,arguments)},top:function(){T.ui.position.flip.top.apply(this,arguments),T.ui.position.fit.top.apply(this,arguments)}}}}();T.ui.position,T.extend(T.expr[":"],{data:T.expr.createPseudo?T.expr.createPseudo(function(t){return function(e){return!!T.data(e,t)}}):function(e,t,n){return!!T.data(e,n[3])}}),T.fn.extend({disableSelection:(e="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(e+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var e,i,l="ui-effects-",c="ui-effects-style",d="ui-effects-animated",u=T;T.effects={effect:{}},function(u,d){var c,h=/^([\-+])=\s*(\d+\.?\d*)/,e=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],p=u.Color=function(e,t,n,i){return new u.Color.fn.parse(e,t,n,i)},f={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},a=p.support={},t=u("<p>")[0],m=u.each;function v(e,t,n){var i=g[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:e<0?0:i.max<e?i.max:e)}function s(a){var s=p(),l=s._rgba=[];return a=a.toLowerCase(),m(e,function(e,t){var n,i=t.re.exec(a),r=i&&t.parse(i),o=t.space||"rgba";if(r)return n=s[o](r),s[f[o].cache]=n[f[o].cache],l=s._rgba=n._rgba,!1}),l.length?("0,0,0,0"===l.join()&&u.extend(l,c.transparent),s):c[a]}function l(e,t,n){return 6*(n=(n+1)%1)<1?e+(t-e)*n*6:2*n<1?t:3*n<2?e+(t-e)*(2/3-n)*6:e}t.style.cssText="background-color:rgba(1,1,1,.5)",a.rgba=-1<t.style.backgroundColor.indexOf("rgba"),m(f,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),p.fn=u.extend(p.prototype,{parse:function(r,e,t,n){if(r===d)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=u(r).css(e),e=d);var o=this,i=u.type(r),a=this._rgba=[];return e!==d&&(r=[r,e,t,n],i="array"),"string"===i?this.parse(s(r)||c._default):"array"===i?(m(f.rgba.props,function(e,t){a[t.idx]=v(r[t.idx],t)}),this):"object"===i?(m(f,r instanceof p?function(e,t){r[t.cache]&&(o[t.cache]=r[t.cache].slice())}:function(e,n){var i=n.cache;m(n.props,function(e,t){if(!o[i]&&n.to){if("alpha"===e||null==r[e])return;o[i]=n.to(o._rgba)}o[i][t.idx]=v(r[e],t,!0)}),o[i]&&u.inArray(null,o[i].slice(0,3))<0&&(o[i][3]=1,n.from&&(o._rgba=n.from(o[i])))}),this):void 0},is:function(e){var r=p(e),o=!0,a=this;return m(f,function(e,t){var n,i=r[t.cache];return i&&(n=a[t.cache]||t.to&&t.to(a._rgba)||[],m(t.props,function(e,t){if(null!=i[t.idx])return o=i[t.idx]===n[t.idx]})),o}),o},_space:function(){var n=[],i=this;return m(f,function(e,t){i[t.cache]&&n.push(e)}),n.pop()},transition:function(e,a){var s=p(e),t=s._space(),n=f[t],i=0===this.alpha()?p("transparent"):this,l=i[n.cache]||n.to(i._rgba),c=l.slice();return s=s[n.cache],m(n.props,function(e,t){var n=t.idx,i=l[n],r=s[n],o=g[t.type]||{};null!==r&&(null===i?c[n]=r:(o.mod&&(r-i>o.mod/2?i+=o.mod:i-r>o.mod/2&&(i-=o.mod)),c[n]=v((r-i)*a+i,t)))}),this[t](c)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),n=t.pop(),i=p(e)._rgba;return p(u.map(t,function(e,t){return(1-n)*i[t]+n*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),n=t.pop();return e&&t.push(~~(255*n)),"#"+u.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,f.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),c=s-l,u=s+l,d=.5*u;return t=l===s?0:i===s?60*(r-o)/c+360:r===s?60*(o-i)/c+120:60*(i-r)/c+240,n=0===c?0:d<=.5?c/u:c/(2-u),[Math.round(t)%360,n,d,null==a?1:a]},f.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],r=e[3],o=i<=.5?i*(1+n):i+n-i*n,a=2*i-o;return[Math.round(255*l(a,o,t+1/3)),Math.round(255*l(a,o,t)),Math.round(255*l(a,o,t-1/3)),r]},m(f,function(l,e){var n=e.props,a=e.cache,s=e.to,c=e.from;p.fn[l]=function(e){if(s&&!this[a]&&(this[a]=s(this._rgba)),e===d)return this[a].slice();var t,i=u.type(e),r="array"===i||"object"===i?e:arguments,o=this[a].slice();return m(n,function(e,t){var n=r["object"===i?e:t.idx];null==n&&(n=o[t.idx]),o[t.idx]=v(n,t)}),c?((t=p(c(o)))[a]=o,t):p(o)},m(n,function(a,s){p.fn[a]||(p.fn[a]=function(e){var t,n=u.type(e),i="alpha"===a?this._hsla?"hsla":"rgba":l,r=this[i](),o=r[s.idx];return"undefined"===n?o:("function"===n&&(e=e.call(this,o),n=u.type(e)),null==e&&s.empty?this:("string"===n&&(t=h.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),r[s.idx]=e,this[i](r)))})})}),p.hook=function(e){var t=e.split(" ");m(t,function(e,o){u.cssHooks[o]={set:function(e,t){var n,i,r="";if("transparent"!==t&&("string"!==u.type(t)||(n=s(t)))){if(t=p(n||t),!a.rgba&&1!==t._rgba[3]){for(i="backgroundColor"===o?e.parentNode:e;(""===r||"transparent"===r)&&i&&i.style;)try{r=u.css(i,"backgroundColor"),i=i.parentNode}catch(e){}t=t.blend(r&&"transparent"!==r?r:"_default")}t=t.toRgbaString()}try{e.style[o]=t}catch(e){}}},u.fx.step[o]=function(e){e.colorInit||(e.start=p(e.elem,o),e.end=p(e.end),e.colorInit=!0),u.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},p.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),u.cssHooks.borderColor={expand:function(n){var i={};return m(["Top","Right","Bottom","Left"],function(e,t){i["border"+t+"Color"]=n}),i}},c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(u),function(){var o,r,a,s=["add","remove","toggle"],l={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function c(e){var t,n,i=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(i&&i.length&&i[0]&&i[i[0]])for(n=i.length;n--;)"string"==typeof i[t=i[n]]&&(r[T.camelCase(t)]=i[t]);else for(t in i)"string"==typeof i[t]&&(r[t]=i[t]);return r}T.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){T.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(u.style(e.elem,t,e.end),e.setAttr=!0)}}),T.fn.addBack||(T.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),T.effects.animateClass=function(r,e,t,n){var o=T.speed(e,t,n);return this.queue(function(){var e,n=T(this),t=n.attr("class")||"",i=o.children?n.find("*").addBack():n;i=i.map(function(){return{el:T(this),start:c(this)}}),(e=function(){T.each(s,function(e,t){r[t]&&n[t+"Class"](r[t])})})(),i=i.map(function(){return this.end=c(this.el[0]),this.diff=function(e,t){var n,i,r={};for(n in t)i=t[n],e[n]!==i&&(l[n]||!T.fx.step[n]&&isNaN(parseFloat(i))||(r[n]=i));return r}(this.start,this.end),this}),n.attr("class",t),i=i.map(function(){var e=this,t=T.Deferred(),n=T.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,n),t.promise()}),T.when.apply(T,i.get()).done(function(){e(),T.each(arguments,function(){var t=this.el;T.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(n[0])})})},T.fn.extend({addClass:(a=T.fn.addClass,function(e,t,n,i){return t?T.effects.animateClass.call(this,{add:e},t,n,i):a.apply(this,arguments)}),removeClass:(r=T.fn.removeClass,function(e,t,n,i){return 1<arguments.length?T.effects.animateClass.call(this,{remove:e},t,n,i):r.apply(this,arguments)}),toggleClass:(o=T.fn.toggleClass,function(e,t,n,i,r){return"boolean"==typeof t||void 0===t?n?T.effects.animateClass.call(this,t?{add:e}:{remove:e},n,i,r):o.apply(this,arguments):T.effects.animateClass.call(this,{toggle:e},t,n,i)}),switchClass:function(e,t,n,i,r){return T.effects.animateClass.call(this,{add:t,remove:e},n,i,r)}})}(),function(){var t,n,i,r;function u(e,t,n,i){return T.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),T.isFunction(t)&&(i=t,n=null,t={}),("number"==typeof t||T.fx.speeds[t])&&(i=n,n=t,t={}),T.isFunction(n)&&(i=n,n=null),t&&T.extend(e,t),n=n||t.duration,e.duration=T.fx.off?0:"number"==typeof n?n:n in T.fx.speeds?T.fx.speeds[n]:T.fx.speeds._default,e.complete=i||t.complete,e}function o(e){return!(e&&"number"!=typeof e&&!T.fx.speeds[e])||("string"==typeof e&&!T.effects.effect[e]||(!!T.isFunction(e)||"object"==typeof e&&!e.effect))}function a(e,t){var n=t.outerWidth(),i=t.outerHeight(),r=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(e)||["",0,n,i,0];return{top:parseFloat(r[1])||0,right:"auto"===r[2]?n:parseFloat(r[2]),bottom:"auto"===r[3]?i:parseFloat(r[3]),left:parseFloat(r[4])||0}}T.expr&&T.expr.filters&&T.expr.filters.animated&&(T.expr.filters.animated=(t=T.expr.filters.animated,function(e){return!!T(e).data(d)||t(e)})),!1!==T.uiBackCompat&&T.extend(T.effects,{save:function(e,t){for(var n=0,i=t.length;n<i;n++)null!==t[n]&&e.data(l+t[n],e[0].style[t[n]])},restore:function(e,t){for(var n,i=0,r=t.length;i<r;i++)null!==t[i]&&(n=e.data(l+t[i]),e.css(t[i],n))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},createWrapper:function(n){if(n.parent().is(".ui-effects-wrapper"))return n.parent();var i={width:n.outerWidth(!0),height:n.outerHeight(!0),float:n.css("float")},e=T("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:n.width(),height:n.height()},r=document.activeElement;try{r.id}catch(e){r=document.body}return n.wrap(e),(n[0]===r||T.contains(n[0],r))&&T(r).trigger("focus"),e=n.parent(),"static"===n.css("position")?(e.css({position:"relative"}),n.css({position:"relative"})):(T.extend(i,{position:n.css("position"),zIndex:n.css("z-index")}),T.each(["top","left","bottom","right"],function(e,t){i[t]=n.css(t),isNaN(parseInt(i[t],10))&&(i[t]="auto")}),n.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t),e.css(i).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||T.contains(e[0],t))&&T(t).trigger("focus")),e}}),T.extend(T.effects,{version:"1.12.1",define:function(e,t,n){return n||(n=t,t="effect"),T.effects.effect[e]=n,T.effects.effect[e].mode=t,n},scaledDimensions:function(e,t,n){if(0===t)return{height:0,width:0,outerHeight:0,outerWidth:0};var i="horizontal"!==n?(t||100)/100:1,r="vertical"!==n?(t||100)/100:1;return{height:e.height()*r,width:e.width()*i,outerHeight:e.outerHeight()*r,outerWidth:e.outerWidth()*i}},clipToBox:function(e){return{width:e.clip.right-e.clip.left,height:e.clip.bottom-e.clip.top,left:e.clip.left,top:e.clip.top}},unshift:function(e,t,n){var i=e.queue();1<t&&i.splice.apply(i,[1,0].concat(i.splice(t,n))),e.dequeue()},saveStyle:function(e){e.data(c,e[0].style.cssText)},restoreStyle:function(e){e[0].style.cssText=e.data(c)||"",e.removeData(c)},mode:function(e,t){var n=e.is(":hidden");return"toggle"===t&&(t=n?"show":"hide"),(n?"hide"===t:"show"===t)&&(t="none"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createPlaceholder:function(e){var t,n=e.css("position"),i=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",t=T("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data(l+"placeholder",t)),e.css({position:n,left:i.left,top:i.top}),t},removePlaceholder:function(e){var t=l+"placeholder",n=e.data(t);n&&(n.remove(),e.removeData(t))},cleanUp:function(e){T.effects.restoreStyle(e),T.effects.removePlaceholder(e)},setTransition:function(i,e,r,o){return o=o||{},T.each(e,function(e,t){var n=i.cssUnit(t);0<n[0]&&(o[t]=n[0]*r+n[1])}),o}}),T.fn.extend({effect:function(){var i=u.apply(this,arguments),r=T.effects.effect[i.effect],o=r.mode,e=i.queue,t=e||"fx",a=i.complete,s=i.mode,l=[],n=function(e){var t=T(this),n=T.effects.mode(t,s)||o;t.data(d,!0),l.push(n),o&&("show"===n||n===o&&"hide"===n)&&t.show(),o&&"none"===n||T.effects.saveStyle(t),T.isFunction(e)&&e()};if(T.fx.off||!r)return s?this[s](i.duration,a):this.each(function(){a&&a.call(this)});function c(e){var t=T(this);function n(){T.isFunction(a)&&a.call(t[0]),T.isFunction(e)&&e()}i.mode=l.shift(),!1===T.uiBackCompat||o?"none"===i.mode?(t[s](),n()):r.call(t[0],i,function(){t.removeData(d),T.effects.cleanUp(t),"hide"===i.mode&&t.hide(),n()}):(t.is(":hidden")?"hide"===s:"show"===s)?(t[s](),n()):r.call(t[0],i,n)}return!1===e?this.each(n).each(c):this.queue(t,n).queue(t,c)},show:(r=T.fn.show,function(e){if(o(e))return r.apply(this,arguments);var t=u.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(i=T.fn.hide,function(e){if(o(e))return i.apply(this,arguments);var t=u.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(n=T.fn.toggle,function(e){if(o(e)||"boolean"==typeof e)return n.apply(this,arguments);var t=u.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var n=this.css(e),i=[];return T.each(["em","px","%","pt"],function(e,t){0<n.indexOf(t)&&(i=[parseFloat(n),t])}),i},cssClip:function(e){return e?this.css("clip","rect("+e.top+"px "+e.right+"px "+e.bottom+"px "+e.left+"px)"):a(this.css("clip"),this)},transfer:function(e,t){var n=T(this),i=T(e.to),r="fixed"===i.css("position"),o=T("body"),a=r?o.scrollTop():0,s=r?o.scrollLeft():0,l=i.offset(),c={top:l.top-a,left:l.left-s,height:i.innerHeight(),width:i.innerWidth()},u=n.offset(),d=T("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:u.top-a,left:u.left-s,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),T.isFunction(t)&&t()})}}),T.fx.step.clip=function(e){e.clipInit||(e.start=T(e.elem).cssClip(),"string"==typeof e.end&&(e.end=a(e.end,e.elem)),e.clipInit=!0),T(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),i={},T.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){i[e]=function(e){return Math.pow(e,t+2)}}),T.extend(i,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),T.each(i,function(e,t){T.easing["easeIn"+e]=t,T.easing["easeOut"+e]=function(e){return 1-t(1-e)},T.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}});T.effects,T.effects.define("blind","hide",function(e,t){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},i=T(this),r=e.direction||"up",o=i.cssClip(),a={clip:T.extend({},o)},s=T.effects.createPlaceholder(i);a.clip[n[r][0]]=a.clip[n[r][1]],"show"===e.mode&&(i.cssClip(a.clip),s&&s.css(T.effects.clipToBox(a)),a.clip=o),s&&s.animate(T.effects.clipToBox(a),e.duration,e.easing),i.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),T.effects.define("bounce",function(e,t){var n,i,r,o=T(this),a=e.mode,s="hide"===a,l="show"===a,c=e.direction||"up",u=e.distance,d=e.times||5,h=2*d+(l||s?1:0),p=e.duration/h,f=e.easing,g="up"===c||"down"===c?"top":"left",m="up"===c||"left"===c,v=0,y=o.queue().length;for(T.effects.createPlaceholder(o),r=o.css(g),u||(u=o["top"===g?"outerHeight":"outerWidth"]()/3),l&&((i={opacity:1})[g]=r,o.css("opacity",0).css(g,m?2*-u:2*u).animate(i,p,f)),s&&(u/=Math.pow(2,d-1)),(i={})[g]=r;v<d;v++)(n={})[g]=(m?"-=":"+=")+u,o.animate(n,p,f).animate(i,p,f),u=s?2*u:u/2;s&&((n={opacity:0})[g]=(m?"-=":"+=")+u,o.animate(n,p,f)),o.queue(t),T.effects.unshift(o,y,h+1)}),T.effects.define("clip","hide",function(e,t){var n,i={},r=T(this),o=e.direction||"vertical",a="both"===o,s=a||"horizontal"===o,l=a||"vertical"===o;n=r.cssClip(),i.clip={top:l?(n.bottom-n.top)/2:n.top,right:s?(n.right-n.left)/2:n.right,bottom:l?(n.bottom-n.top)/2:n.bottom,left:s?(n.right-n.left)/2:n.left},T.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(i.clip),i.clip=n),r.animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),T.effects.define("drop","hide",function(e,t){var n,i=T(this),r="show"===e.mode,o=e.direction||"left",a="up"===o||"down"===o?"top":"left",s="up"===o||"left"===o?"-=":"+=",l="+="===s?"-=":"+=",c={opacity:0};T.effects.createPlaceholder(i),n=e.distance||i["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=s+n,r&&(i.css(c),c[a]=l+n,c.opacity=1),i.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),T.effects.define("explode","hide",function(e,t){var n,i,r,o,a,s,l=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=l,u=T(this),d="show"===e.mode,h=u.show().css("visibility","hidden").offset(),p=Math.ceil(u.outerWidth()/c),f=Math.ceil(u.outerHeight()/l),g=[];function m(){g.push(this),g.length===l*c&&(u.css({visibility:"visible"}),T(g).remove(),t())}for(n=0;n<l;n++)for(o=h.top+n*f,s=n-(l-1)/2,i=0;i<c;i++)r=h.left+i*p,a=i-(c-1)/2,u.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-i*p,top:-n*f}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:p,height:f,left:r+(d?a*p:0),top:o+(d?s*f:0),opacity:d?0:1}).animate({left:r+(d?0:a*p),top:o+(d?0:s*f),opacity:d?1:0},e.duration||500,e.easing,m)}),T.effects.define("fade","toggle",function(e,t){var n="show"===e.mode;T(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),T.effects.define("fold","hide",function(t,e){var n=T(this),i=t.mode,r="show"===i,o="hide"===i,a=t.size||15,s=/([0-9]+)%/.exec(a),l=!!t.horizFirst?["right","bottom"]:["bottom","right"],c=t.duration/2,u=T.effects.createPlaceholder(n),d=n.cssClip(),h={clip:T.extend({},d)},p={clip:T.extend({},d)},f=[d[l[0]],d[l[1]]],g=n.queue().length;s&&(a=parseInt(s[1],10)/100*f[o?0:1]),h.clip[l[0]]=a,p.clip[l[0]]=a,p.clip[l[1]]=0,r&&(n.cssClip(p.clip),u&&u.css(T.effects.clipToBox(p)),p.clip=d),n.queue(function(e){u&&u.animate(T.effects.clipToBox(h),c,t.easing).animate(T.effects.clipToBox(p),c,t.easing),e()}).animate(h,c,t.easing).animate(p,c,t.easing).queue(e),T.effects.unshift(n,g,4)}),T.effects.define("highlight","show",function(e,t){var n=T(this),i={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(i.opacity=0),T.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(i,{queue:!1,duration:e.duration,easing:e.easing,complete:t})}),T.effects.define("size",function(r,t){var e,o,n,i=T(this),a=["fontSize"],s=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],l=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=r.mode,u="effect"!==c,d=r.scale||"both",h=r.origin||["middle","center"],p=i.css("position"),f=i.position(),g=T.effects.scaledDimensions(i),m=r.from||g,v=r.to||T.effects.scaledDimensions(i,0);T.effects.createPlaceholder(i),"show"===c&&(n=m,m=v,v=n),o={from:{y:m.height/g.height,x:m.width/g.width},to:{y:v.height/g.height,x:v.width/g.width}},"box"!==d&&"both"!==d||(o.from.y!==o.to.y&&(m=T.effects.setTransition(i,s,o.from.y,m),v=T.effects.setTransition(i,s,o.to.y,v)),o.from.x!==o.to.x&&(m=T.effects.setTransition(i,l,o.from.x,m),v=T.effects.setTransition(i,l,o.to.x,v))),"content"!==d&&"both"!==d||o.from.y!==o.to.y&&(m=T.effects.setTransition(i,a,o.from.y,m),v=T.effects.setTransition(i,a,o.to.y,v)),h&&(e=T.effects.getBaseline(h,g),m.top=(g.outerHeight-m.outerHeight)*e.y+f.top,m.left=(g.outerWidth-m.outerWidth)*e.x+f.left,v.top=(g.outerHeight-v.outerHeight)*e.y+f.top,v.left=(g.outerWidth-v.outerWidth)*e.x+f.left),i.css(m),"content"!==d&&"both"!==d||(s=s.concat(["marginTop","marginBottom"]).concat(a),l=l.concat(["marginLeft","marginRight"]),i.find("*[width]").each(function(){var e=T(this),t=T.effects.scaledDimensions(e),n={height:t.height*o.from.y,width:t.width*o.from.x,outerHeight:t.outerHeight*o.from.y,outerWidth:t.outerWidth*o.from.x},i={height:t.height*o.to.y,width:t.width*o.to.x,outerHeight:t.height*o.to.y,outerWidth:t.width*o.to.x};o.from.y!==o.to.y&&(n=T.effects.setTransition(e,s,o.from.y,n),i=T.effects.setTransition(e,s,o.to.y,i)),o.from.x!==o.to.x&&(n=T.effects.setTransition(e,l,o.from.x,n),i=T.effects.setTransition(e,l,o.to.x,i)),u&&T.effects.saveStyle(e),e.css(n),e.animate(i,r.duration,r.easing,function(){u&&T.effects.restoreStyle(e)})})),i.animate(v,{queue:!1,duration:r.duration,easing:r.easing,complete:function(){var e=i.offset();0===v.opacity&&i.css("opacity",m.opacity),u||(i.css("position","static"===p?"relative":p).offset(e),T.effects.saveStyle(i)),t()}})}),T.effects.define("scale",function(e,t){var n=T(this),i=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==i?0:100),o=T.extend(!0,{from:T.effects.scaledDimensions(n),to:T.effects.scaledDimensions(n,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),T.effects.effect.size.call(this,o,t)}),T.effects.define("puff","hide",function(e,t){var n=T.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});T.effects.effect.scale.call(this,n,t)}),T.effects.define("pulsate","show",function(e,t){var n=T(this),i=e.mode,r="show"===i,o=r||"hide"===i,a=2*(e.times||5)+(o?1:0),s=e.duration/a,l=0,c=1,u=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),l=1);c<a;c++)n.animate({opacity:l},s,e.easing),l=1-l;n.animate({opacity:l},s,e.easing),n.queue(t),T.effects.unshift(n,u,a+1)}),T.effects.define("shake",function(e,t){var n=1,i=T(this),r=e.direction||"left",o=e.distance||20,a=e.times||3,s=2*a+1,l=Math.round(e.duration/s),c="up"===r||"down"===r?"top":"left",u="up"===r||"left"===r,d={},h={},p={},f=i.queue().length;for(T.effects.createPlaceholder(i),d[c]=(u?"-=":"+=")+o,h[c]=(u?"+=":"-=")+2*o,p[c]=(u?"-=":"+=")+2*o,i.animate(d,l,e.easing);n<a;n++)i.animate(h,l,e.easing).animate(p,l,e.easing);i.animate(h,l,e.easing).animate(d,l/2,e.easing).queue(t),T.effects.unshift(i,f,s+1)}),T.effects.define("slide","show",function(e,t){var n,i,r=T(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,s=e.direction||"left",l="up"===s||"down"===s?"top":"left",c="up"===s||"left"===s,u=e.distance||r["top"===l?"outerHeight":"outerWidth"](!0),d={};T.effects.createPlaceholder(r),n=r.cssClip(),i=r.position()[l],d[l]=(c?-1:1)*u+i,d.clip=r.cssClip(),d.clip[o[s][1]]=d.clip[o[s][0]],"show"===a&&(r.cssClip(d.clip),r.css(l,d[l]),d.clip=n,d[l]=i),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:t})});!1!==T.uiBackCompat&&T.effects.define("transfer",function(e,t){T(this).transfer(e,t)});T.ui.focusable=function(e,t){var n,i,r,o,a,s=e.nodeName.toLowerCase();return"area"===s?(i=(n=e.parentNode).name,!(!e.href||!i||"map"!==n.nodeName.toLowerCase())&&(0<(r=T("img[usemap='#"+i+"']")).length&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(o=!e.disabled)&&(a=T(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===s&&e.href||t,o&&T(e).is(":visible")&&function(e){var t=e.css("visibility");for(;"inherit"===t;)e=e.parent(),t=e.css("visibility");return"hidden"!==t}(T(e)))},T.extend(T.expr[":"],{focusable:function(e){return T.ui.focusable(e,null!=T.attr(e,"tabindex"))}});T.ui.focusable,T.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):T(this[0].form)},T.ui.formResetMixin={_formResetHandler:function(){var t=T(this);setTimeout(function(){var e=t.data("ui-form-reset-instances");T.each(e,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(T.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===T.fn.jquery.substring(0,3)&&(T.each(["Width","Height"],function(e,n){var r="Width"===n?["Left","Right"]:["Top","Bottom"],i=n.toLowerCase(),o={innerWidth:T.fn.innerWidth,innerHeight:T.fn.innerHeight,outerWidth:T.fn.outerWidth,outerHeight:T.fn.outerHeight};function a(e,t,n,i){return T.each(r,function(){t-=parseFloat(T.css(e,"padding"+this))||0,n&&(t-=parseFloat(T.css(e,"border"+this+"Width"))||0),i&&(t-=parseFloat(T.css(e,"margin"+this))||0)}),t}T.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each(function(){T(this).css(i,a(this,e)+"px")})},T.fn["outer"+n]=function(e,t){return"number"!=typeof e?o["outer"+n].call(this,e):this.each(function(){T(this).css(i,a(this,e,!0,t)+"px")})}}),T.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))});var t,o;T.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},T.ui.escapeSelector=(t=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(t,"\\$1")}),T.fn.labels=function(){var e,t,n,i,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(i=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),t="label[for='"+T.ui.escapeSelector(n)+"']",i=i.add(r.find(t).addBack(t))),this.pushStack(i))},T.fn.scrollParent=function(e){var t=this.css("position"),n="absolute"===t,i=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=T(this);return(!n||"static"!==e.css("position"))&&i.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&r.length?r:T(this[0].ownerDocument||document)},T.extend(T.expr[":"],{tabbable:function(e){var t=T.attr(e,"tabindex"),n=null!=t;return(!n||0<=t)&&T.ui.focusable(e,n)}}),T.fn.extend({uniqueId:(o=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++o)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&T(this).removeAttr("id")})}}),T.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=T(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():T()}},_createIcons:function(){var e,t,n=this.options.icons;n&&(e=T("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),t=this.active.children(".ui-accordion-header-icon"),this._removeClass(t,n.header)._addClass(t,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons())):this._activate(t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!e)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=T.ui.keyCode,n=this.headers.length,i=this.headers.index(e.target),r=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:r=this.headers[(i+1)%n];break;case t.LEFT:case t.UP:r=this.headers[(i-1+n)%n];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:r=this.headers[0];break;case t.END:r=this.headers[n-1]}r&&(T(e.target).attr("tabIndex",-1),T(r).attr("tabIndex",0),T(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===T.ui.keyCode.UP&&e.ctrlKey&&T(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=T()):!1===e.active?this._activate(0):this.active.length&&!T.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=T()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var n,e=this.options,t=e.heightStyle,i=this.element.parent();this.active=this._findActive(e.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=T(this),t=e.uniqueId().attr("id"),n=e.next(),i=n.uniqueId().attr("id");e.attr("aria-controls",i),n.attr("aria-labelledby",t)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(n=i.height(),this.element.siblings(":visible").each(function(){var e=T(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.headers.each(function(){n-=T(this).outerHeight(!0)}),this.headers.next().each(function(){T(this).height(Math.max(0,n-T(this).innerHeight()+T(this).height()))}).css("overflow","auto")):"auto"===t&&(n=0,this.headers.next().each(function(){var e=T(this).is(":visible");e||T(this).show(),n=Math.max(n,T(this).css("height","").height()),e||T(this).hide()}).height(n))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:T.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):T()},_setupEvents:function(e){var n={keydown:"_keydown"};e&&T.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,n),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t,n,i=this.options,r=this.active,o=T(e.currentTarget),a=o[0]===r[0],s=a&&i.collapsible,l=s?T():o.next(),c=r.next(),u={oldHeader:r,oldPanel:c,newHeader:s?T():o,newPanel:l};e.preventDefault(),a&&!i.collapsible||!1===this._trigger("beforeActivate",e,u)||(i.active=!s&&this.headers.index(o),this.active=a?T():o,this._toggle(u),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),i.icons&&(t=r.children(".ui-accordion-header-icon"),this._removeClass(t,null,i.icons.activeHeader)._addClass(t,null,i.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),i.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,i.icons.header)._addClass(n,null,i.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=n,this.options.animate?this._animate(t,n,e):(n.hide(),t.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),t.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):t.length&&this.headers.filter(function(){return 0===parseInt(T(this).attr("tabIndex"),10)}).attr("tabIndex",-1),t.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,n,t){var i,r,o,a=this,s=0,l=e.css("box-sizing"),c=e.length&&(!n.length||e.index()<n.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){a._toggleComplete(t)};return"number"==typeof d&&(o=d),"string"==typeof d&&(r=d),r=r||d.easing||u.easing,o=o||d.duration||u.duration,n.length?e.length?(i=e.show().outerHeight(),n.animate(this.hideProps,{duration:o,easing:r,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:o,easing:r,complete:h,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?"content-box"===l&&(s+=t.now):"content"!==a.options.heightStyle&&(t.now=Math.round(i-n.outerHeight()-s),s=0)}})):n.animate(this.hideProps,o,r,h):e.animate(this.showProps,o,r,h)},_toggleComplete:function(e){var t=e.oldPanel,n=t.prev();this._removeClass(t,"ui-accordion-content-active"),this._removeClass(n,"ui-accordion-header-active")._addClass(n,"ui-accordion-header-collapsed"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}}),T.ui.safeActiveElement=function(t){var n;try{n=t.activeElement}catch(e){n=t.body}return n||(n=t.body),n.nodeName||(n=t.body),n},T.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var t=T(e.target),n=T(T.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),t.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var t=T(e.target).closest(".ui-menu-item"),n=T(e.currentTarget);t[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var n=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,n)},blur:function(e){this._delay(function(){!T.contains(this.element[0],T.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=T(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var t,n,i,r,o=!0;switch(e.keyCode){case T.ui.keyCode.PAGE_UP:this.previousPage(e);break;case T.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case T.ui.keyCode.HOME:this._move("first","first",e);break;case T.ui.keyCode.END:this._move("last","last",e);break;case T.ui.keyCode.UP:this.previous(e);break;case T.ui.keyCode.DOWN:this.next(e);break;case T.ui.keyCode.LEFT:this.collapse(e);break;case T.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case T.ui.keyCode.ENTER:case T.ui.keyCode.SPACE:this._activate(e);break;case T.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",r=!1,i=96<=e.keyCode&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),i===n?r=!0:i=n+i,t=this._filterMenuItems(i),(t=r&&-1!==t.index(this.active.next())?this.active.nextAll(".ui-menu-item"):t).length||(i=String.fromCharCode(e.keyCode),t=this._filterMenuItems(i)),t.length?(this.focus(e,t),this.previousFilter=i,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,t,n,i,r=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),t=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=T(this),t=e.prev(),n=T("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),t.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",t.attr("id"))}),this._addClass(t,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=T(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),i=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(i,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!T.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var n=this.element.find(".ui-menu-icon");this._removeClass(n,null,this.options.icons.submenu)._addClass(n,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var n,i,r;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),i=this.active.children(".ui-menu-item-wrapper"),this._addClass(i,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",i.attr("id")),r=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(r,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(n=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(n),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,n,i,r,o,a;this._hasScroll()&&(t=parseFloat(T.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(T.css(this.activeMenu[0],"paddingTop"))||0,i=e.offset().top-this.activeMenu.offset().top-t-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),i<0?this.activeMenu.scrollTop(r+i):o<i+a&&this.activeMenu.scrollTop(r+i-o+a))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=T.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,n){clearTimeout(this.timer),this.timer=this._delay(function(){var e=n?this.element:T(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this._removeClass(e.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!T(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,n){var i;this.active&&(i="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),i&&i.length&&this.active||(i=this.activeMenu.find(this.options.items)[t]()),this.focus(n,i)},nextPage:function(e){var t,n,i;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=T(this)).offset().top-n-i<0}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,n,i;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,i=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=T(this)).offset().top-n+i}),this.focus(e,t)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||T(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)},_filterMenuItems:function(e){var t=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+t,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(T.trim(T(this).children(".ui-menu-item-wrapper").text()))})}});T.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var n,i,r,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,o="input"===e;this.isMultiLine=t||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[t||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))i=r=n=!0;else{i=r=n=!1;var t=T.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:n=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:n=!0,this._move("nextPage",e);break;case t.UP:n=!0,this._keyEvent("previous",e);break;case t.DOWN:n=!0,this._keyEvent("next",e);break;case t.ENTER:this.menu.active&&(n=!0,e.preventDefault(),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(e),e.preventDefault());break;default:i=!0,this._searchTimeout(e)}}},keypress:function(e){if(n)return n=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!i){var t=T.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(r)return r=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=T("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==T.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,t){var n,i;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){T(e.target).trigger(e.originalEvent)});i=t.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:i})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value),(n=t.item.attr("aria-label")||i.value)&&T.trim(n).length&&(this.liveRegion.children().hide(),T("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,t){var n=t.item.data("ui-autocomplete-item"),i=this.previous;this.element[0]!==T.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=T("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var t=this.menu.element[0];return e.target===this.element[0]||e.target===t||T.contains(t,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?T(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var n,i,r=this;T.isArray(this.options.source)?(n=this.options.source,this.source=function(e,t){t(T.ui.autocomplete.filter(n,e.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,t){r.xhr&&r.xhr.abort(),r.xhr=T.ajax({url:i,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(i){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),t=this.menu.element.is(":visible"),n=i.altKey||i.ctrlKey||i.metaKey||i.shiftKey;e&&(!e||t||n)||(this.selectedItem=null,this.search(null,i))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=++this.requestIndex;return T.proxy(function(e){t===this.requestIndex&&this.__response(e),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:T.map(e,function(e){return"string"==typeof e?{label:e,value:e}:T.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(T.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(n,e){var i=this;T.each(e,function(e,t){i._renderItemData(n,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return T("<li>").append(T("<div>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),T.extend(T.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var n=new RegExp(T.ui.autocomplete.escapeRegex(t),"i");return T.grep(e,function(e){return n.test(e.label||e.value||e)})}}),T.widget("ui.autocomplete",T.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),T("<div>").text(t).appendTo(this.liveRegion))}});T.ui.autocomplete;var a=/ui-corner-([a-z]){2,6}/g;T.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var a=this,s=[];T.each(this.options.items,function(r,e){var t,o={};if(e)return"controlgroupLabel"===r?((t=a.element.find(e)).each(function(){var e=T(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),a._addClass(t,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(t.get()))):void(T.fn[r]&&(o=a["_"+r+"Options"]?a["_"+r+"Options"]("middle"):{classes:{}},a.element.find(e).each(function(){var e=T(this),t=e[r]("instance"),n=T.widget.extend({},o);if("button"!==r||!e.parent(".ui-spinner").length){t||(t=e[r]()[r]("instance")),t&&(n.classes=a._resolveClassesValues(n.classes,t)),e[r](n);var i=e[r]("widget");T.data(i[0],"ui-controlgroup-data",t||e[r]("instance")),s.push(i[0])}})))}),this.childWidgets=T(T.unique(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var e=T(this).data("ui-controlgroup-data");e&&e[t]&&e[t]()})},_updateCornerClass:function(e,t){var n=this._buildSimpleOptions(t,"label").classes.label;this._removeClass(e,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(e,null,n)},_buildSimpleOptions:function(e,t){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[t]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[e],i},_spinnerOptions:function(e){var t=this._buildSimpleOptions(e,"ui-spinner");return t.classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(e){return this._buildSimpleOptions(e,"ui-button")},_checkboxradioOptions:function(e){return this._buildSimpleOptions(e,"ui-checkboxradio-label")},_selectmenuOptions:function(e){var t="vertical"===this.options.direction;return{width:!!t&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(t?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(t?"top":"left")},last:{"ui-selectmenu-button-open":t?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(t?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[e]}},_resolveClassesValues:function(n,i){var r={};return T.each(n,function(e){var t=i.options.classes[e]||"";t=T.trim(t.replace(a,"")),r[e]=(t+" "+n[e]).replace(/\s+/g," ")}),r},_setOption:function(e,t){"direction"===e&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(e,t),"disabled"!==e?this.refresh():this._callChildMethod(t?"disable":"enable")},refresh:function(){var r,o=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),r=this.childWidgets,this.options.onlyVisible&&(r=r.filter(":visible")),r.length&&(T.each(["first","last"],function(e,t){var n=r[t]().data("ui-controlgroup-data");if(n&&o["_"+n.widgetName+"Options"]){var i=o["_"+n.widgetName+"Options"](1===r.length?"only":t);i.classes=o._resolveClassesValues(i.classes,n),n.element[n.widgetName](i)}else o._updateCornerClass(r[t](),t)}),this._callChildMethod("refresh"))}});T.widget("ui.checkboxradio",[T.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t,n=this,i=this._super()||{};return this._readType(),t=this.element.labels(),this.label=T(t[t.length-1]),this.label.length||T.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?T(this).text():this.outerHTML}),this.originalLabel&&(i.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(i.disabled=e),i},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||T.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+T.ui.escapeSelector(e)+"']";return e?(this.form.length?T(this.form[0].elements).filter(t):T(t).filter(function(){return 0===T(this).form().length})).not(this.element):T([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=T(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,t){if("label"!==e||t){if(this._super(e,t),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",t),void(this.element[0].disabled=t);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=T("<span>"),this.iconSpace=T("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,t=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),t!==this.options.disabled&&this._setOptions({disabled:t})}}]);var h;T.ui.checkboxradio;T.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var e,t=this._super()||{};return this.isInput=this.element.is("input"),null!=(e=this.element[0].disabled)&&(t.disabled=e),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(t.label=this.originalLabel),t},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===T.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,t){var n="iconPosition"!==e,i=n?this.options.iconPosition:t,r="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=T("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,t),this._attachIcon(i),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=T("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(e){this.icon[/^(?:end|bottom)/.test(e)?"before":"after"](this.iconSpace)},_attachIcon:function(e){this.element[/^(?:end|bottom)/.test(e)?"append":"prepend"](this.icon)},_setOptions:function(e){var t=void 0===e.showLabel?this.options.showLabel:e.showLabel,n=void 0===e.icon?this.options.icon:e.icon;t||n||(e.showLabel=!0),this._super(e)},_setOption:function(e,t){"icon"===e&&(t?this._updateIcon(e,t):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===e&&this._updateIcon(e,t),"showLabel"===e&&(this._toggleClass("ui-button-icon-only",null,!t),this._updateTooltip()),"label"===e&&(this.isInput?this.element.val(t):(this.element.html(t),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(e,t),"disabled"===e&&(this._toggleClass(null,"ui-state-disabled",t),(this.element[0].disabled=t)&&this.element.blur())},refresh:function(){var e=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOptions({disabled:e}),this._updateTooltip()}}),!1!==T.uiBackCompat&&(T.widget("ui.button",T.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(e,t){"text"!==e?("showLabel"===e&&(this.options.text=t),"icon"===e&&(this.options.icons.primary=t),"icons"===e&&(t.primary?(this._super("icon",t.primary),this._super("iconPosition","beginning")):t.secondary&&(this._super("icon",t.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",t)}}),T.fn.button=(h=T.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?h.apply(this,arguments):(T.ui.checkboxradio||T.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),T.fn.buttonset=function(){return T.ui.controlgroup||T.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var p;T.ui.button;function f(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},T.extend(this._defaults,this.regional[""]),this.regional.en=T.extend(!0,{},this.regional[""]),this.regional["en-US"]=T.extend(!0,{},this.regional.en),this.dpDiv=g(T("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",t,function(){T(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&T(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&T(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",t,m)}function m(){T.datepicker._isDisabledDatepicker(p.inline?p.dpDiv.parent()[0]:p.input[0])||(T(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),T(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&T(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&T(this).addClass("ui-datepicker-next-hover"))}function v(e,t){for(var n in T.extend(e,t),t)null==t[n]&&(e[n]=t[n]);return e}T.extend(T.ui,{datepicker:{version:"1.12.1"}}),T.extend(f.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return v(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var n,i,r;i="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(T(e),i)).settings=T.extend({},t||{}),"input"===n?this._connectDatepicker(e,r):i&&this._inlineDatepicker(e,r)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?g(T("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var n=T(e);t.append=T([]),t.trigger=T([]),n.hasClass(this.markerClassName)||(this._attachments(n,t),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(t),T.data(e,"datepicker",t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var n,i,r,o=this._get(t,"appendText"),a=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=T("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](t.append)),e.off("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(n=this._get(t,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(i=this._get(t,"buttonText"),r=this._get(t,"buttonImage"),t.trigger=T(this._get(t,"buttonImageOnly")?T("<img/>").addClass(this._triggerClass).attr({src:r,alt:i,title:i}):T("<button type='button'></button>").addClass(this._triggerClass).html(r?T("<img/>").attr({src:r,alt:i,title:i}):i)),e[a?"before":"after"](t.trigger),t.trigger.on("click",function(){return T.datepicker._datepickerShowing&&T.datepicker._lastInput===e[0]?T.datepicker._hideDatepicker():(T.datepicker._datepickerShowing&&T.datepicker._lastInput!==e[0]&&T.datepicker._hideDatepicker(),T.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,n,i,r,o=new Date(2009,11,20),a=this._get(e,"dateFormat");a.match(/[DM]/)&&(t=function(e){for(r=i=n=0;r<e.length;r++)e[r].length>n&&(n=e[r].length,i=r);return i},o.setMonth(t(this._get(e,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var n=T(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(t.dpDiv),T.data(e,"datepicker",t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,n,i,r){var o,a,s,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=T("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),T("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},T.data(this._dialogInput[0],"datepicker",u)),v(u.settings,i||{}),t=t&&t.constructor===Date?this._formatDate(u,t):t,this._dialogInput.val(t),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(a=document.documentElement.clientWidth,s=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+l,s/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),T.blockUI&&T.blockUI(this.dpDiv),T.data(this._dialogInput[0],"datepicker",u),this},_destroyDatepicker:function(e){var t,n=T(e),i=T.data(e,"datepicker");n.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),T.removeData(e,"datepicker"),"input"===t?(i.append.remove(),i.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||n.removeClass(this.markerClassName).empty(),p===i&&(p=null))},_enableDatepicker:function(t){var e,n,i=T(t),r=T.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=T.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,n,i=T(t),r=T.data(t,"datepicker");i.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((n=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=T.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return T.data(e,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,n){var i,r,o,a,s=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?T.extend({},T.datepicker._defaults):s?"all"===t?T.extend({},s.settings):this._get(s,t):null;i=t||{},"string"==typeof t&&((i={})[t]=n),s&&(this._curInst===s&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(s,"min"),a=this._getMinMaxDate(s,"max"),v(s.settings,i),null!==o&&void 0!==i.dateFormat&&void 0===i.minDate&&(s.settings.minDate=this._formatDate(s,o)),null!==a&&void 0!==i.dateFormat&&void 0===i.maxDate&&(s.settings.maxDate=this._formatDate(s,a)),"disabled"in i&&(i.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(T(e),s),this._autoSize(s),this._setDate(s,r),this._updateAlternate(s),this._updateDatepicker(s))},_changeDatepicker:function(e,t,n){this._optionDatepicker(e,t,n)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var n=this._getInst(e);n&&(this._setDate(n,t),this._updateDatepicker(n),this._updateAlternate(n))},_getDateDatepicker:function(e,t){var n=this._getInst(e);return n&&!n.inline&&this._setDateFromField(n,t),n?this._getDate(n):null},_doKeyDown:function(e){var t,n,i,r=T.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,T.datepicker._datepickerShowing)switch(e.keyCode){case 9:T.datepicker._hideDatepicker(),o=!1;break;case 13:return(i=T("td."+T.datepicker._dayOverClass+":not(."+T.datepicker._currentClass+")",r.dpDiv))[0]&&T.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,i[0]),(t=T.datepicker._get(r,"onSelect"))?(n=T.datepicker._formatDate(r),t.apply(r.input?r.input[0]:null,[n,r])):T.datepicker._hideDatepicker(),!1;case 27:T.datepicker._hideDatepicker();break;case 33:T.datepicker._adjustDate(e.target,e.ctrlKey?-T.datepicker._get(r,"stepBigMonths"):-T.datepicker._get(r,"stepMonths"),"M");break;case 34:T.datepicker._adjustDate(e.target,e.ctrlKey?+T.datepicker._get(r,"stepBigMonths"):+T.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&T.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&T.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&T.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&T.datepicker._adjustDate(e.target,e.ctrlKey?-T.datepicker._get(r,"stepBigMonths"):-T.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&T.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&T.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&T.datepicker._adjustDate(e.target,e.ctrlKey?+T.datepicker._get(r,"stepBigMonths"):+T.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&T.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?T.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,n,i=T.datepicker._getInst(e.target);if(T.datepicker._get(i,"constrainInput"))return t=T.datepicker._possibleChars(T.datepicker._get(i,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!t||-1<t.indexOf(n)},_doKeyUp:function(e){var t=T.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{T.datepicker.parseDate(T.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,T.datepicker._getFormatConfig(t))&&(T.datepicker._setDateFromField(t),T.datepicker._updateAlternate(t),T.datepicker._updateDatepicker(t))}catch(e){}return!0},_showDatepicker:function(e){var t,n,i,r,o,a,s;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=T("input",e.parentNode)[0]),T.datepicker._isDisabledDatepicker(e)||T.datepicker._lastInput===e)||(t=T.datepicker._getInst(e),T.datepicker._curInst&&T.datepicker._curInst!==t&&(T.datepicker._curInst.dpDiv.stop(!0,!0),t&&T.datepicker._datepickerShowing&&T.datepicker._hideDatepicker(T.datepicker._curInst.input[0])),!1!==(i=(n=T.datepicker._get(t,"beforeShow"))?n.apply(e,[e,t]):{})&&(v(t.settings,i),t.lastVal=null,T.datepicker._lastInput=e,T.datepicker._setDateFromField(t),T.datepicker._inDialog&&(e.value=""),T.datepicker._pos||(T.datepicker._pos=T.datepicker._findPos(e),T.datepicker._pos[1]+=e.offsetHeight),r=!1,T(e).parents().each(function(){return!(r|="fixed"===T(this).css("position"))}),o={left:T.datepicker._pos[0],top:T.datepicker._pos[1]},T.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),T.datepicker._updateDatepicker(t),o=T.datepicker._checkOffset(t,o,r),t.dpDiv.css({position:T.datepicker._inDialog&&T.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(a=T.datepicker._get(t,"showAnim"),s=T.datepicker._get(t,"duration"),t.dpDiv.css("z-index",function(e){for(var t,n;e.length&&e[0]!==document;){if(("absolute"===(t=e.css("position"))||"relative"===t||"fixed"===t)&&(n=parseInt(e.css("zIndex"),10),!isNaN(n)&&0!==n))return n;e=e.parent()}return 0}(T(e))+1),T.datepicker._datepickerShowing=!0,T.effects&&T.effects.effect[a]?t.dpDiv.show(a,T.datepicker._get(t,"showOptions"),s):t.dpDiv[a||"show"](a?s:null),T.datepicker._shouldFocusInput(t)&&t.input.trigger("focus"),T.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(p=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var t,n=this._getNumberOfMonths(e),i=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");0<r.length&&m.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<i&&e.dpDiv.addClass("ui-datepicker-multi-"+i).css("width",17*i+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===T.datepicker._curInst&&T.datepicker._datepickerShowing&&T.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,n){var i=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,s=document.documentElement.clientWidth+(n?0:T(document).scrollLeft()),l=document.documentElement.clientHeight+(n?0:T(document).scrollTop());return t.left-=this._get(e,"isRTL")?i-o:0,t.left-=n&&t.left===e.input.offset().left?T(document).scrollLeft():0,t.top-=n&&t.top===e.input.offset().top+a?T(document).scrollTop():0,t.left-=Math.min(t.left,t.left+i>s&&i<s?Math.abs(t.left+i-s):0),t.top-=Math.min(t.top,t.top+r>l&&r<l?Math.abs(r+a):0),t},_findPos:function(e){for(var t,n=this._getInst(e),i=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||T.expr.filters.hidden(e));)e=e[i?"previousSibling":"nextSibling"];return[(t=T(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,n,i,r,o=this._curInst;!o||e&&o!==T.data(e,"datepicker")||this._datepickerShowing&&(t=this._get(o,"showAnim"),n=this._get(o,"duration"),i=function(){T.datepicker._tidyDialog(o)},T.effects&&(T.effects.effect[t]||T.effects[t])?o.dpDiv.hide(t,T.datepicker._get(o,"showOptions"),n,i):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?n:null,i),t||i(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),T.blockUI&&(T.unblockUI(),T("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(T.datepicker._curInst){var t=T(e.target),n=T.datepicker._getInst(t[0]);(t[0].id===T.datepicker._mainDivId||0!==t.parents("#"+T.datepicker._mainDivId).length||t.hasClass(T.datepicker.markerClassName)||t.closest("."+T.datepicker._triggerClass).length||!T.datepicker._datepickerShowing||T.datepicker._inDialog&&T.blockUI)&&(!t.hasClass(T.datepicker.markerClassName)||T.datepicker._curInst===n)||T.datepicker._hideDatepicker()}},_adjustDate:function(e,t,n){var i=T(e),r=this._getInst(i[0]);this._isDisabledDatepicker(i[0])||(this._adjustInstDate(r,t+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var t,n=T(e),i=this._getInst(n[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(n)},_selectMonthYear:function(e,t,n){var i=T(e),r=this._getInst(i[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(i)},_selectDay:function(e,t,n,i){var r,o=T(e);T(i).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=T("a",i).html(),r.selectedMonth=r.currentMonth=t,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var t=T(e);this._selectDate(t,"")},_selectDate:function(e,t){var n,i=T(e),r=this._getInst(i[0]);t=null!=t?t:this._formatDate(r),r.input&&r.input.val(t),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[t,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var t,n,i,r=this._get(e,"altField");r&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),i=this.formatDate(t,n,this._getFormatConfig(e)),T(r).val(i))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1},parseDate:function(n,o,e){if(null==n||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var i,t,r,a,s=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,d=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,f=-1,g=-1,m=-1,v=-1,y=!1,b=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t},w=function(e){var t=b(e),n="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,i=new RegExp("^\\d{"+("y"===e?n:1)+","+n+"}"),r=o.substring(s).match(i);if(!r)throw"Missing number at position "+s;return s+=r[0].length,parseInt(r[0],10)},x=function(e,t,n){var i=-1,r=T.map(b(e)?n:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(T.each(r,function(e,t){var n=t[1];if(o.substr(s,n.length).toLowerCase()===n.toLowerCase())return i=t[0],s+=n.length,!1}),-1!==i)return i+1;throw"Unknown name at position "+s},C=function(){if(o.charAt(s)!==n.charAt(i))throw"Unexpected literal at position "+s;s++};for(i=0;i<n.length;i++)if(y)"'"!==n.charAt(i)||b("'")?C():y=!1;else switch(n.charAt(i)){case"d":m=w("d");break;case"D":x("D",u,d);break;case"o":v=w("o");break;case"m":g=w("m");break;case"M":g=x("M",h,p);break;case"y":f=w("y");break;case"@":f=(a=new Date(w("@"))).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"!":f=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,m=a.getDate();break;case"'":b("'")?C():y=!0;break;default:C()}if(s<o.length&&(r=o.substr(s),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=c?0:-100)),-1<v)for(g=1,m=v;;){if(m<=(t=this._getDaysInMonth(f,g-1)))break;g++,m-=t}if((a=this._daylightSavingAdjust(new Date(f,g-1,m))).getFullYear()!==f||a.getMonth()+1!==g||a.getDate()!==m)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(n,e,t){if(!e)return"";var i,r=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,a=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,s=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t},c=function(e,t,n){var i=""+t;if(l(e))for(;i.length<n;)i="0"+i;return i},u=function(e,t,n,i){return l(e)?i[t]:n[t]},d="",h=!1;if(e)for(i=0;i<n.length;i++)if(h)"'"!==n.charAt(i)||l("'")?d+=n.charAt(i):h=!1;else switch(n.charAt(i)){case"d":d+=c("d",e.getDate(),2);break;case"D":d+=u("D",e.getDay(),r,o);break;case"o":d+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":d+=c("m",e.getMonth()+1,2);break;case"M":d+=u("M",e.getMonth(),a,s);break;case"y":d+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":d+=e.getTime();break;case"!":d+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?d+="'":h=!0;break;default:d+=n.charAt(i)}return d},_possibleChars:function(n){var i,e="",t=!1,r=function(e){var t=i+1<n.length&&n.charAt(i+1)===e;return t&&i++,t};for(i=0;i<n.length;i++)if(t)"'"!==n.charAt(i)||r("'")?e+=n.charAt(i):t=!1;else switch(n.charAt(i)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":r("'")?e+="'":t=!0;break;default:e+=n.charAt(i)}return e},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var n=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,r=this._getDefaultDate(e),o=r,a=this._getFormatConfig(e);try{o=this.parseDate(n,i,a)||r}catch(e){i=t?"":i}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=i?o.getDate():0,e.currentMonth=i?o.getMonth():0,e.currentYear=i?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(s,e,t){var n,i,r=null==e||""===e?t:"string"==typeof e?function(e){try{return T.datepicker.parseDate(T.datepicker._get(s,"dateFormat"),e,T.datepicker._getFormatConfig(s))}catch(e){}for(var t=(e.toLowerCase().match(/^c/)?T.datepicker._getDate(s):null)||new Date,n=t.getFullYear(),i=t.getMonth(),r=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,a=o.exec(e);a;){switch(a[2]||"d"){case"d":case"D":r+=parseInt(a[1],10);break;case"w":case"W":r+=7*parseInt(a[1],10);break;case"m":case"M":i+=parseInt(a[1],10),r=Math.min(r,T.datepicker._getDaysInMonth(n,i));break;case"y":case"Y":n+=parseInt(a[1],10),r=Math.min(r,T.datepicker._getDaysInMonth(n,i))}a=o.exec(e)}return new Date(n,i,r)}(e):"number"==typeof e?isNaN(e)?t:(n=e,(i=new Date).setDate(i.getDate()+n),i):new Date(e.getTime());return(r=r&&"Invalid Date"===r.toString()?t:r)&&(r.setHours(0),r.setMinutes(0),r.setSeconds(0),r.setMilliseconds(0)),this._daylightSavingAdjust(r)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,n){var i=!t,r=e.selectedMonth,o=e.selectedYear,a=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=a.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=a.getMonth(),e.drawYear=e.selectedYear=e.currentYear=a.getFullYear(),r===e.selectedMonth&&o===e.selectedYear||n||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){T.datepicker._adjustDate(n,-t,"M")},next:function(){T.datepicker._adjustDate(n,+t,"M")},hide:function(){T.datepicker._hideDatepicker()},today:function(){T.datepicker._gotoToday(n)},selectDay:function(){return T.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return T.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return T.datepicker._selectMonthYear(n,this,"Y"),!1}};T(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,n,i,r,o,a,s,l,c,u,d,h,p,f,g,m,v,y,b,w,x,C,S,k,_,T,D,A,E,I,P,$,M,O,N,L,j,R,F,q=new Date,H=this._daylightSavingAdjust(new Date(q.getFullYear(),q.getMonth(),q.getDate())),B=this._get(e,"isRTL"),V=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),z=this._get(e,"navigationAsDateFormat"),W=this._getNumberOfMonths(e),G=this._get(e,"showCurrentAtPos"),Y=this._get(e,"stepMonths"),X=1!==W[0]||1!==W[1],J=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),Z=e.drawMonth-G,ee=e.drawYear;if(Z<0&&(Z+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-W[0]*W[1]+1,Q.getDate())),t=K&&t<K?K:t;this._daylightSavingAdjust(new Date(ee,Z,1))>t;)--Z<0&&(Z=11,ee--);for(e.drawMonth=Z,e.drawYear=ee,n=this._get(e,"prevText"),n=z?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,Z-Y,1)),this._getFormatConfig(e)):n,i=this._canAdjustMonth(e,-1,ee,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+n+"</span></a>",r=this._get(e,"nextText"),r=z?this.formatDate(r,this._daylightSavingAdjust(new Date(ee,Z+Y,1)),this._getFormatConfig(e)):r,o=this._canAdjustMonth(e,1,ee,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+r+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+r+"</span></a>",a=this._get(e,"currentText"),s=this._get(e,"gotoCurrent")&&e.currentDay?J:H,a=z?this.formatDate(a,s,this._getFormatConfig(e)):a,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=V?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,s)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,d=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),g=this._get(e,"monthNamesShort"),m=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),b=this._getDefaultDate(e),w="",C=0;C<W[0];C++){for(S="",this.maxRows=4,k=0;k<W[1];k++){if(_=this._daylightSavingAdjust(new Date(ee,Z,e.selectedDay)),T=" ui-corner-all",D="",X){if(D+="<div class='ui-datepicker-group",1<W[1])switch(k){case 0:D+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case W[1]-1:D+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:D+=" ui-datepicker-group-middle",T=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===C?B?o:i:"")+(/all|right/.test(T)&&0===C?B?i:o:"")+this._generateMonthYearHeader(e,Z,ee,K,Q,0<C||0<k,f,g)+"</div><table class='ui-datepicker-calendar'><thead><tr>",A=d?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",x=0;x<7;x++)A+="<th scope='col'"+(5<=(x+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+h[E=(x+u)%7]+"'>"+p[E]+"</span></th>";for(D+=A+"</tr></thead><tbody>",I=this._getDaysInMonth(ee,Z),ee===e.selectedYear&&Z===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,I)),P=(this._getFirstDayOfMonth(ee,Z)-u+7)%7,$=Math.ceil((P+I)/7),M=X&&this.maxRows>$?this.maxRows:$,this.maxRows=M,O=this._daylightSavingAdjust(new Date(ee,Z,1-P)),N=0;N<M;N++){for(D+="<tr>",L=d?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(O)+"</td>":"",x=0;x<7;x++)j=m?m.apply(e.input?e.input[0]:null,[O]):[!0,""],F=(R=O.getMonth()!==Z)&&!y||!j[0]||K&&O<K||Q&&Q<O,L+="<td class='"+(5<=(x+u+6)%7?" ui-datepicker-week-end":"")+(R?" ui-datepicker-other-month":"")+(O.getTime()===_.getTime()&&Z===e.selectedMonth&&e._keyEvent||b.getTime()===O.getTime()&&b.getTime()===_.getTime()?" "+this._dayOverClass:"")+(F?" "+this._unselectableClass+" ui-state-disabled":"")+(R&&!v?"":" "+j[1]+(O.getTime()===J.getTime()?" "+this._currentClass:"")+(O.getTime()===H.getTime()?" ui-datepicker-today":""))+"'"+(R&&!v||!j[2]?"":" title='"+j[2].replace(/'/g,"&#39;")+"'")+(F?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(R&&!v?"&#xa0;":F?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===H.getTime()?" ui-state-highlight":"")+(O.getTime()===J.getTime()?" ui-state-active":"")+(R?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);D+=L+"</tr>"}11<++Z&&(Z=0,ee++),S+=D+="</tbody></table>"+(X?"</div>"+(0<W[0]&&k===W[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=S}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,n,i,r,o,a,s){var l,c,u,d,h,p,f,g,m=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",w="";if(o||!m)w+="<span class='ui-datepicker-month'>"+a[t]+"</span>";else{for(l=i&&i.getFullYear()===n,c=r&&r.getFullYear()===n,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=i.getMonth())&&(!c||u<=r.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+s[u]+"</option>");w+="</select>"}if(y||(b+=w+(!o&&m&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+n+"</span>";else{for(d=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?n+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t})(d[0]),g=Math.max(f,p(d[1]||"")),f=i?Math.max(f,i.getFullYear()):f,g=r?Math.min(g,r.getFullYear()):g,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=g;f++)e.yearshtml+="<option value='"+f+"'"+(f===n?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",b+=e.yearshtml,e.yearshtml=null}return b+=this._get(e,"yearSuffix"),y&&(b+=(!o&&m&&v?"":"&#xa0;")+w),b+="</div>"},_adjustInstDate:function(e,t,n){var i=e.selectedYear+("Y"===n?t:0),r=e.selectedMonth+("M"===n?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(i,r))+("D"===n?t:0),a=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,r,o)));e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear(),"M"!==n&&"Y"!==n||this._notifyChange(e)},_restrictMinMax:function(e,t){var n=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),r=n&&t<n?n:t;return i&&i<r?i:r},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,n,i){var r=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(n,i+(t<0?t:r[0]*r[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var n,i,r=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),a=null,s=null,l=this._get(e,"yearRange");return l&&(n=l.split(":"),i=(new Date).getFullYear(),a=parseInt(n[0],10),s=parseInt(n[1],10),n[0].match(/[+\-].*/)&&(a+=i),n[1].match(/[+\-].*/)&&(s+=i)),(!r||t.getTime()>=r.getTime())&&(!o||t.getTime()<=o.getTime())&&(!a||t.getFullYear()>=a)&&(!s||t.getFullYear()<=s)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,n,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var r=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,n,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),r,this._getFormatConfig(e))}}),T.fn.datepicker=function(e){if(!this.length)return this;T.datepicker.initialized||(T(document).on("mousedown",T.datepicker._checkExternalClick),T.datepicker.initialized=!0),0===T("#"+T.datepicker._mainDivId).length&&T("body").append(T.datepicker.dpDiv);var t=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?T.datepicker["_"+e+"Datepicker"].apply(T.datepicker,[this[0]].concat(t)):this.each(function(){"string"==typeof e?T.datepicker["_"+e+"Datepicker"].apply(T.datepicker,[this].concat(t)):T.datepicker._attachDatepicker(this,e)}):T.datepicker["_"+e+"Datepicker"].apply(T.datepicker,[this[0]].concat(t))},T.datepicker=new f,T.datepicker.initialized=!1,T.datepicker.uuid=(new Date).getTime(),T.datepicker.version="1.12.1";T.datepicker,T.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var y=!1;T(document).on("mouseup",function(){y=!1});T.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(e){if(!0===T.data(e.target,t.widgetName+".preventClickEvent"))return T.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!y){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,n=1===e.which,i=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&T(e.target).closest(this.options.cancel).length;return!(n&&!i&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===T.data(e.target,this.widgetName+".preventClickEvent")&&T.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),y=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(T.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&T.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,y=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),T.ui.plugin={add:function(e,t,n){var i,r=T.ui[e].prototype;for(i in n)r.plugins[i]=r.plugins[i]||[],r.plugins[i].push([t,n[i]])},call:function(e,t,n,i){var r,o=e.plugins[t];if(o&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)e.options[o[r][0]]&&o[r][1].apply(e.element,n)}},T.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&T(e).trigger("blur")};T.widget("ui.draggable",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<T(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===t.iframeFix?"iframe":t.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=T(this);return T("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var t=T.ui.safeActiveElement(this.document[0]);T(e.target).closest(t).length||T.ui.safeBlur(t)},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),T.ui.ddmanager&&(T.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=0<this.helper.parents().filter(function(){return"fixed"===T(this).css("position")}).length,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),T.ui.ddmanager&&!t.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),T.ui.ddmanager&&T.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(e,t){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!t){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new T.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",T.ui.ddmanager&&T.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,n=!1;return T.ui.ddmanager&&!this.options.dropBehaviour&&(n=T.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||T.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?T(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),T.ui.ddmanager&&T.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),T.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new T.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!T(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var t=this.options,n=T.isFunction(t.helper),i=n?T(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),n&&i[0]===this.element[0]&&this._setPositionRelative(),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),T.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),t=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==t&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options,r=this.document[0];this.relativeContainer=null,i.containment?"window"!==i.containment?"document"!==i.containment?i.containment.constructor!==Array?("parent"===i.containment&&(i.containment=this.helper[0].parentNode),(n=(t=T(i.containment))[0])&&(e=/(scroll|auto)/.test(t.css("overflow")),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=t)):this.containment=i.containment:this.containment=[0,0,T(r).width()-this.helperProportions.width-this.margins.left,(T(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[T(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,T(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,T(window).scrollLeft()+T(window).width()-this.helperProportions.width-this.margins.left,T(window).scrollTop()+(T(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*n}},_generatePosition:function(e,t){var n,i,r,o,a=this.options,s=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return s&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),n=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):n=this.containment,e.pageX-this.offset.click.left<n[0]&&(l=n[0]+this.offset.click.left),e.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),e.pageX-this.offset.click.left>n[2]&&(l=n[2]+this.offset.click.left),e.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),a.grid&&(r=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=n?r-this.offset.click.top>=n[1]||r-this.offset.click.top>n[3]?r:r-this.offset.click.top>=n[1]?r-a.grid[1]:r+a.grid[1]:r,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-a.grid[0]:o+a.grid[0]:o),"y"===a.axis&&(l=this.originalPageX),"x"===a.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:s?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:s?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,t,n){return n=n||this._uiHash(),T.ui.plugin.call(this,e,[t,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),T.Widget.prototype._trigger.call(this,e,t,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),T.ui.plugin.add("draggable","connectToSortable",{start:function(t,e,n){var i=T.extend({},e,{item:n.element});n.sortables=[],T(n.options.connectToSortable).each(function(){var e=T(this).sortable("instance");e&&!e.options.disabled&&(n.sortables.push(e),e.refreshPositions(),e._trigger("activate",t,i))})},stop:function(t,e,n){var i=T.extend({},e,{item:n.element});n.cancelHelperRemoval=!1,T.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,i))})},drag:function(n,i,r){T.each(r.sortables,function(){var e=!1,t=this;t.positionAbs=r.positionAbs,t.helperProportions=r.helperProportions,t.offset.click=r.offset.click,t._intersectsWith(t.containerCache)&&(e=!0,T.each(r.sortables,function(){return this.positionAbs=r.positionAbs,this.helperProportions=r.helperProportions,this.offset.click=r.offset.click,this!==t&&this._intersectsWith(this.containerCache)&&T.contains(t.element[0],this.element[0])&&(e=!1),e})),e?(t.isOver||(t.isOver=1,r._parent=i.helper.parent(),t.currentItem=i.helper.appendTo(t.element).data("ui-sortable-item",!0),t.options._helper=t.options.helper,t.options.helper=function(){return i.helper[0]},n.target=t.currentItem[0],t._mouseCapture(n,!0),t._mouseStart(n,!0,!0),t.offset.click.top=r.offset.click.top,t.offset.click.left=r.offset.click.left,t.offset.parent.left-=r.offset.parent.left-t.offset.parent.left,t.offset.parent.top-=r.offset.parent.top-t.offset.parent.top,r._trigger("toSortable",n),r.dropped=t.element,T.each(r.sortables,function(){this.refreshPositions()}),r.currentItem=r.element,t.fromOutside=r),t.currentItem&&(t._mouseDrag(n),i.position=t.position)):t.isOver&&(t.isOver=0,t.cancelHelperRemoval=!0,t.options._revert=t.options.revert,t.options.revert=!1,t._trigger("out",n,t._uiHash(t)),t._mouseStop(n,!0),t.options.revert=t.options._revert,t.options.helper=t.options._helper,t.placeholder&&t.placeholder.remove(),i.helper.appendTo(r._parent),r._refreshOffsets(n),i.position=r._generatePosition(n,!0),r._trigger("fromSortable",n),r.dropped=!1,T.each(r.sortables,function(){this.refreshPositions()}))})}}),T.ui.plugin.add("draggable","cursor",{start:function(e,t,n){var i=T("body"),r=n.options;i.css("cursor")&&(r._cursor=i.css("cursor")),i.css("cursor",r.cursor)},stop:function(e,t,n){var i=n.options;i._cursor&&T("body").css("cursor",i._cursor)}}),T.ui.plugin.add("draggable","opacity",{start:function(e,t,n){var i=T(t.helper),r=n.options;i.css("opacity")&&(r._opacity=i.css("opacity")),i.css("opacity",r.opacity)},stop:function(e,t,n){var i=n.options;i._opacity&&T(t.helper).css("opacity",i._opacity)}}),T.ui.plugin.add("draggable","scroll",{start:function(e,t,n){n.scrollParentNotHidden||(n.scrollParentNotHidden=n.helper.scrollParent(!1)),n.scrollParentNotHidden[0]!==n.document[0]&&"HTML"!==n.scrollParentNotHidden[0].tagName&&(n.overflowOffset=n.scrollParentNotHidden.offset())},drag:function(e,t,n){var i=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(i.axis&&"x"===i.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<i.scrollSensitivity?o.scrollTop=r=o.scrollTop+i.scrollSpeed:e.pageY-n.overflowOffset.top<i.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<i.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+i.scrollSpeed:e.pageX-n.overflowOffset.left<i.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-T(a).scrollTop()<i.scrollSensitivity?r=T(a).scrollTop(T(a).scrollTop()-i.scrollSpeed):T(window).height()-(e.pageY-T(a).scrollTop())<i.scrollSensitivity&&(r=T(a).scrollTop(T(a).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-T(a).scrollLeft()<i.scrollSensitivity?r=T(a).scrollLeft(T(a).scrollLeft()-i.scrollSpeed):T(window).width()-(e.pageX-T(a).scrollLeft())<i.scrollSensitivity&&(r=T(a).scrollLeft(T(a).scrollLeft()+i.scrollSpeed)))),!1!==r&&T.ui.ddmanager&&!i.dropBehaviour&&T.ui.ddmanager.prepareOffsets(n,e)}}),T.ui.plugin.add("draggable","snap",{start:function(e,t,n){var i=n.options;n.snapElements=[],T(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var e=T(this),t=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t,n){var i,r,o,a,s,l,c,u,d,h,p=n.options,f=p.snapTolerance,g=t.offset.left,m=g+n.helperProportions.width,v=t.offset.top,y=v+n.helperProportions.height;for(d=n.snapElements.length-1;0<=d;d--)l=(s=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,u=(c=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,m<s-f||l+f<g||y<c-f||u+f<v||!T.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,T.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(c-y)<=f,r=Math.abs(u-v)<=f,o=Math.abs(s-m)<=f,a=Math.abs(l-g)<=f,i&&(t.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:u,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s-n.helperProportions.width}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l}).left)),h=i||r||o||a,"outer"!==p.snapMode&&(i=Math.abs(c-v)<=f,r=Math.abs(u-y)<=f,o=Math.abs(s-g)<=f,a=Math.abs(l-m)<=f,i&&(t.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(t.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),o&&(t.position.left=n._convertPositionTo("relative",{top:0,left:s}).left),a&&(t.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(i||r||o||a||h)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,T.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=i||r||o||a||h)}}),T.ui.plugin.add("draggable","stack",{start:function(e,t,n){var i,r=n.options,o=T.makeArray(T(r.stack)).sort(function(e,t){return(parseInt(T(e).css("zIndex"),10)||0)-(parseInt(T(t).css("zIndex"),10)||0)});o.length&&(i=parseInt(T(o[0]).css("zIndex"),10)||0,T(o).each(function(e){T(this).css("zIndex",i+e)}),this.css("zIndex",i+o.length))}}),T.ui.plugin.add("draggable","zIndex",{start:function(e,t,n){var i=T(t.helper),r=n.options;i.css("zIndex")&&(r._zIndex=i.css("zIndex")),i.css("zIndex",r.zIndex)},stop:function(e,t,n){var i=n.options;i._zIndex&&T(t.helper).css("zIndex",i._zIndex)}});T.ui.draggable;T.widget("ui.resizable",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseFloat(e)||0},_isNumber:function(e){return!isNaN(parseFloat(e))},_hasScroll:function(e,t){if("hidden"===T(e).css("overflow"))return!1;var n,i=t&&"left"===t?"scrollLeft":"scrollTop";return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)},_create:function(){var e,t=this.options,n=this;this._addClass("ui-resizable"),T.extend(this,{_aspectRatio:!!t.aspectRatio,aspectRatio:t.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:t.helper||t.ghost||t.animate?t.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(T("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),t.autoHide&&T(this.element).on("mouseenter",function(){t.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){t.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){T(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(e,t){switch(this._super(e,t),e){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,t,n,i,r,o=this.options,a=this;if(this.handles=o.handles||(T(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=T(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},t=0;t<n.length;t++)i="ui-resizable-"+(e=T.trim(n[t])),r=T("<div>"),this._addClass(r,"ui-resizable-handle "+i),r.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var t,n,i,r;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String?this.handles[t]=this.element.children(this.handles[t]).first().show():(this.handles[t].jquery||this.handles[t].nodeType)&&(this.handles[t]=T(this.handles[t]),this._on(this.handles[t],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=T(this.handles[t],this.element),r=/sw|ne|nw|se|n|s/.test(t)?n.outerHeight():n.outerWidth(),i=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(i,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[t])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var t,n,i=!1;for(t in this.handles)((n=T(this.handles[t])[0])===e.target||T.contains(n,e.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(e){var t,n,i,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),t=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(t+=T(r.containment).scrollLeft()||0,n+=T(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:t,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=T(".ui-resizable-"+this.axis).css("cursor"),T("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,n,i=this.originalMousePosition,r=this.axis,o=e.pageX-i.left||0,a=e.pageY-i.top||0,s=this._change[r];return this._updatePrevProperties(),s&&(t=s.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),T.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges())),!1},_mouseStop:function(e){this.resizing=!1;var t,n,i,r,o,a,s,l=this.options,c=this;return this._helper&&(i=(n=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&this._hasScroll(t[0],"left")?0:c.sizeDiff.height,r=n?0:c.sizeDiff.width,o={width:c.helper.width()-r,height:c.helper.height()-i},a=parseFloat(c.element.css("left"))+(c.position.left-c.originalPosition.left)||null,s=parseFloat(c.element.css("top"))+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(T.extend(o,{top:s,left:a})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),T("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,n,i,r,o,a=this.options;o={minWidth:this._isNumber(a.minWidth)?a.minWidth:0,maxWidth:this._isNumber(a.maxWidth)?a.maxWidth:1/0,minHeight:this._isNumber(a.minHeight)?a.minHeight:0,maxHeight:this._isNumber(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,r=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),r<o.maxHeight&&(o.maxHeight=r)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(n.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,r=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,a=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,s=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,c=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),r&&(e.height=t.maxHeight),o&&c&&(e.left=s-t.minWidth),i&&c&&(e.left=s-t.maxWidth),a&&u&&(e.top=l-t.minHeight),r&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,n=[],i=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],r=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];t<4;t++)n[t]=parseFloat(i[t])||0,n[t]+=parseFloat(r[t])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,n=this.helper||this.element;t<this._proportionallyResizeElements.length;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||T("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize;return{left:this.originalPosition.left+t,width:n.width-t}},n:function(e,t,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(e,t,n){return T.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},sw:function(e,t,n){return T.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,n]))},ne:function(e,t,n){return T.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,n]))},nw:function(e,t,n){return T.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,n]))}},_propagate:function(e,t){T.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),T.ui.plugin.add("resizable","animate",{stop:function(t){var n=T(this).resizable("instance"),e=n.options,i=n._proportionallyResizeElements,r=i.length&&/textarea/i.test(i[0].nodeName),o=r&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,a=r?0:n.sizeDiff.width,s={width:n.size.width-a,height:n.size.height-o},l=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,c=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(T.extend(s,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&T(i[0]).css({width:e.width,height:e.height}),n._updateCache(e),n._propagate("resize",t)}})}}),T.ui.plugin.add("resizable","containment",{start:function(){var n,i,e,t,r,o,a,s=T(this).resizable("instance"),l=s.options,c=s.element,u=l.containment,d=u instanceof T?u.get(0):/parent/.test(u)?c.parent().get(0):u;d&&(s.containerElement=T(d),/document/.test(u)||u===document?(s.containerOffset={left:0,top:0},s.containerPosition={left:0,top:0},s.parentData={element:T(document),left:0,top:0,width:T(document).width(),height:T(document).height()||document.body.parentNode.scrollHeight}):(n=T(d),i=[],T(["Top","Right","Left","Bottom"]).each(function(e,t){i[e]=s._num(n.css("padding"+t))}),s.containerOffset=n.offset(),s.containerPosition=n.position(),s.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},e=s.containerOffset,t=s.containerSize.height,r=s.containerSize.width,o=s._hasScroll(d,"left")?d.scrollWidth:r,a=s._hasScroll(d)?d.scrollHeight:t,s.parentData={element:d,left:e.left,top:e.top,width:o,height:a}))},resize:function(e){var t,n,i,r,o=T(this).resizable("instance"),a=o.options,s=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},d=o.containerElement,h=!0;d[0]!==document&&/static/.test(d.css("position"))&&(u=s),l.left<(o._helper?s.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-s.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio,h=!1),o.position.left=a.helper?s.left:0),l.top<(o._helper?s.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-s.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,h=!1),o.position.top=o._helper?s.top:0),i=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),i&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),t=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-u.left:o.offset.left-s.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-u.top:o.offset.top-s.top)),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,c&&(o.size.height=o.size.width/o.aspectRatio,h=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,h=!1)),h||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=T(this).resizable("instance"),t=e.options,n=e.containerOffset,i=e.containerPosition,r=e.containerElement,o=T(e.helper),a=o.offset(),s=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(r.css("position"))&&T(this).css({left:a.left-i.left-n.left,width:s,height:l}),e._helper&&!t.animate&&/static/.test(r.css("position"))&&T(this).css({left:a.left-i.left-n.left,width:s,height:l})}}),T.ui.plugin.add("resizable","alsoResize",{start:function(){var e=T(this).resizable("instance").options;T(e.alsoResize).each(function(){var e=T(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,n){var t=T(this).resizable("instance"),i=t.options,r=t.originalSize,o=t.originalPosition,a={height:t.size.height-r.height||0,width:t.size.width-r.width||0,top:t.position.top-o.top||0,left:t.position.left-o.left||0};T(i.alsoResize).each(function(){var e=T(this),i=T(this).data("ui-resizable-alsoresize"),r={},t=e.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];T.each(t,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&0<=n&&(r[t]=n||null)}),e.css(r)})},stop:function(){T(this).removeData("ui-resizable-alsoresize")}}),T.ui.plugin.add("resizable","ghost",{start:function(){var e=T(this).resizable("instance"),t=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:t.height,width:t.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==T.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=T(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=T(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),T.ui.plugin.add("resizable","grid",{resize:function(){var e,t=T(this).resizable("instance"),n=t.options,i=t.size,r=t.originalSize,o=t.originalPosition,a=t.axis,s="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=s[0]||1,c=s[1]||1,u=Math.round((i.width-r.width)/l)*l,d=Math.round((i.height-r.height)/c)*c,h=r.width+u,p=r.height+d,f=n.maxWidth&&n.maxWidth<h,g=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>p;n.grid=s,m&&(h+=l),v&&(p+=c),f&&(h-=l),g&&(p-=c),/^(se|s|e)$/.test(a)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.top=o.top-d):/^(sw)$/.test(a)?(t.size.width=h,t.size.height=p,t.position.left=o.left-u):((p-c<=0||h-l<=0)&&(e=t._getPaddingPlusBorderDimensions(this)),0<p-c?(t.size.height=p,t.position.top=o.top-d):(p=c-e.height,t.size.height=p,t.position.top=o.top+r.height-p),0<h-l?(t.size.width=h,t.position.left=o.left-u):(h=l-e.width,t.size.width=h,t.position.left=o.left+r.width-h))}});T.ui.resizable;T.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=T(this).css(e).offset().top;t<0&&T(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&T.fn.draggable&&this._makeDraggable(),this.options.resizable&&T.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?T(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:T.noop,enable:T.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||T.ui.safeBlur(T.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var n=!1,i=this.uiDialog.siblings(".ui-front:visible").map(function(){return+T(this).css("z-index")}).get(),r=Math.max.apply(null,i);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!t&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=T(T.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var e=this._focusedElement;e||(e=this.element.find("[autofocus]")),e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).trigger("focus")},_keepFocus:function(e){function t(){var e=T.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||T.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=T("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===T.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===T.ui.keyCode.TAB&&!e.isDefaultPrevented()){var t=this.uiDialog.find(":tabbable"),n=t.filter(":first"),i=t.filter(":last");e.target!==i[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){i.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=T("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){T(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=T("<button type='button'></button>").button({label:T("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=T("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title?e.text(this.options.title):e.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=T("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=T("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var r=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),T.isEmptyObject(e)||T.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(T.each(e,function(e,t){var n,i;t=T.isFunction(t)?{click:t,text:e}:t,t=T.extend({type:"button"},t),n=t.click,i={icon:t.icon,iconPosition:t.iconPosition,showLabel:t.showLabel,icons:t.icons,text:t.text},delete t.click,delete t.icon,delete t.iconPosition,delete t.showLabel,delete t.icons,"boolean"==typeof t.text&&delete t.text,T("<button></button>",t).button(i).appendTo(r.uiButtonSet).on("click",function(){n.apply(r.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var r=this,o=this.options;function a(e){return{position:e.position,offset:e.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){r._addClass(T(this),"ui-dialog-dragging"),r._blockFrames(),r._trigger("dragStart",e,a(t))},drag:function(e,t){r._trigger("drag",e,a(t))},stop:function(e,t){var n=t.offset.left-r.document.scrollLeft(),i=t.offset.top-r.document.scrollTop();o.position={my:"left top",at:"left"+(0<=n?"+":"")+n+" top"+(0<=i?"+":"")+i,of:r.window},r._removeClass(T(this),"ui-dialog-dragging"),r._unblockFrames(),r._trigger("dragStop",e,a(t))}})},_makeResizable:function(){var o=this,a=this.options,e=a.resizable,t=this.uiDialog.css("position"),n="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";function s(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:a.maxWidth,maxHeight:a.maxHeight,minWidth:a.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,t){o._addClass(T(this),"ui-dialog-resizing"),o._blockFrames(),o._trigger("resizeStart",e,s(t))},resize:function(e,t){o._trigger("resize",e,s(t))},stop:function(e,t){var n=o.uiDialog.offset(),i=n.left-o.document.scrollLeft(),r=n.top-o.document.scrollTop();a.height=o.uiDialog.height(),a.width=o.uiDialog.width(),a.position={my:"left top",at:"left"+(0<=i?"+":"")+i+" top"+(0<=r?"+":"")+r,of:o.window},o._removeClass(T(this),"ui-dialog-resizing"),o._unblockFrames(),o._trigger("resizeStop",e,s(t))}}).css("position",t)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=T(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),t=T.inArray(this,e);-1!==t&&e.splice(t,1)},_trackingInstances:function(){var e=this.document.data("ui-dialog-instances");return e||(e=[],this.document.data("ui-dialog-instances",e)),e},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var n=this,i=!1,r={};T.each(e,function(e,t){n._setOption(e,t),e in n.sizeRelatedOptions&&(i=!0),e in n.resizableRelatedOptions&&(r[e]=t)}),i&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",r)},_setOption:function(e,t){var n,i,r=this.uiDialog;"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:T("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=r.is(":data(ui-draggable)"))&&!t&&r.draggable("destroy"),!n&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((i=r.is(":data(ui-resizable)"))&&!t&&r.resizable("destroy"),i&&"string"==typeof t&&r.resizable("option","handles",t),i||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,n,i=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),i.minWidth>i.width&&(i.width=i.minWidth),e=this.uiDialog.css({height:"auto",width:i.width}).outerHeight(),t=Math.max(0,i.minHeight-e),n="number"==typeof i.maxHeight?Math.max(0,i.maxHeight-e):"none","auto"===i.height?this.element.css({minHeight:t,maxHeight:n,height:"auto"}):this.element.height(Math.max(0,i.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=T(this);return T("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!T(e.target).closest(".ui-dialog").length||!!T(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(e){t||this._allowInteraction(e)||(e.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=T("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var e=this.document.data("ui-dialog-overlays")-1;e?this.document.data("ui-dialog-overlays",e):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==T.uiBackCompat&&T.widget("ui.dialog",T.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(e,t){"dialogClass"===e&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}});T.ui.dialog;T.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,t=this.options,n=t.accept;this.isover=!1,this.isout=!0,this.accept=T.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(t.scope),t.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){T.ui.ddmanager.droppables[e]=T.ui.ddmanager.droppables[e]||[],T.ui.ddmanager.droppables[e].push(this)},_splice:function(e){for(var t=0;t<e.length;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var e=T.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,t){if("accept"===e)this.accept=T.isFunction(t)?t:function(e){return e.is(t)};else if("scope"===e){var n=T.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(t)}this._super(e,t)},_activate:function(e){var t=T.ui.ddmanager.current;this._addActiveClass(),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=T.ui.ddmanager.current;this._removeActiveClass(),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=T.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=T.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(t)))},_drop:function(t,e){var n=e||T.ui.ddmanager.current,i=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=T(this).droppable("instance");if(e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&b(n,T.extend(e,{offset:e.element.offset()}),e.options.tolerance,t))return!(i=!0)}),!i&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",t,this.ui(n)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var b=T.ui.intersect=function(){function h(e,t,n){return t<=e&&e<t+n}return function(e,t,n,i){if(!t.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,s=o+e.helperProportions.height,l=t.offset.left,c=t.offset.top,u=l+t.proportions().width,d=c+t.proportions().height;switch(n){case"fit":return l<=r&&a<=u&&c<=o&&s<=d;case"intersect":return l<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<u&&c<o+e.helperProportions.height/2&&s-e.helperProportions.height/2<d;case"pointer":return h(i.pageY,c,t.proportions().height)&&h(i.pageX,l,t.proportions().width);case"touch":return(c<=o&&o<=d||c<=s&&s<=d||o<c&&d<s)&&(l<=r&&r<=u||l<=a&&a<=u||r<l&&u<a);default:return!1}}}();!(T.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,t){var n,i,r=T.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(i=0;i<a.length;i++)if(a[i]===r[n].element[0]){r[n].proportions().height=0;continue e}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],t),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,t){var n=!1;return T.each((T.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&b(e,this,this.options.tolerance,t)&&(n=this._drop.call(this,t)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),n},dragStart:function(e,t){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||T.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,a){o.options.refreshPositions&&T.ui.ddmanager.prepareOffsets(o,a),T.each(T.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,n,i=b(o,this,this.options.tolerance,a),r=!i&&this.isover?"isout":i&&!this.isover?"isover":null;r&&(this.options.greedy&&(t=this.options.scope,(n=this.element.parents(":data(ui-droppable)").filter(function(){return T(this).droppable("instance").options.scope===t})).length&&((e=T(n[0]).droppable("instance")).greedyChild="isover"===r)),e&&"isover"===r&&(e.isover=!1,e.isout=!0,e._out.call(e,a)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,a),e&&"isout"===r&&(e.isout=!1,e.isover=!0,e._over.call(e,a)))}})},dragStop:function(e,t){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||T.ui.ddmanager.prepareOffsets(e,t)}})!==T.uiBackCompat&&T.widget("ui.droppable",T.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});T.ui.droppable,T.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=T("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(e){if(void 0===e)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return void 0===e&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",e),this._toggleClass(null,"ui-state-disabled",!!e)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(t.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=T("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),T.widget("ui.selectable",T.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var i=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){i.elementPos=T(i.element[0]).offset(),i.selectees=T(i.options.filter,i.element[0]),i._addClass(i.selectees,"ui-selectee"),i.selectees.each(function(){var e=T(this),t=e.offset(),n={left:t.left-i.elementPos.left,top:t.top-i.elementPos.top};T.data(this,"selectable-item",{element:this,$element:e,left:n.left,top:n.top,right:n.left+e.outerWidth(),bottom:n.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=T("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(n){var i=this,e=this.options;this.opos=[n.pageX,n.pageY],this.elementPos=T(this.element[0]).offset(),this.options.disabled||(this.selectees=T(e.filter,this.element[0]),this._trigger("start",n),T(e.appendTo).append(this.helper),this.helper.css({left:n.pageX,top:n.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=T.data(this,"selectable-item");e.startselected=!0,n.metaKey||n.ctrlKey||(i._removeClass(e.$element,"ui-selected"),e.selected=!1,i._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,i._trigger("unselecting",n,{unselecting:e.element}))}),T(n.target).parents().addBack().each(function(){var e,t=T.data(this,"selectable-item");if(t)return e=!n.metaKey&&!n.ctrlKey||!t.$element.hasClass("ui-selected"),i._removeClass(t.$element,e?"ui-unselecting":"ui-selected")._addClass(t.$element,e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?i._trigger("selecting",n,{selecting:t.element}):i._trigger("unselecting",n,{unselecting:t.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var e,r=this,o=this.options,a=this.opos[0],s=this.opos[1],l=i.pageX,c=i.pageY;return l<a&&(e=l,l=a,a=e),c<s&&(e=c,c=s,s=e),this.helper.css({left:a,top:s,width:l-a,height:c-s}),this.selectees.each(function(){var e=T.data(this,"selectable-item"),t=!1,n={};e&&e.element!==r.element[0]&&(n.left=e.left+r.elementPos.left,n.right=e.right+r.elementPos.left,n.top=e.top+r.elementPos.top,n.bottom=e.bottom+r.elementPos.top,"touch"===o.tolerance?t=!(n.left>l||n.right<a||n.top>c||n.bottom<s):"fit"===o.tolerance&&(t=n.left>a&&n.right<l&&n.top>s&&n.bottom<c),t?(e.selected&&(r._removeClass(e.$element,"ui-selected"),e.selected=!1),e.unselecting&&(r._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1),e.selecting||(r._addClass(e.$element,"ui-selecting"),e.selecting=!0,r._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&((i.metaKey||i.ctrlKey)&&e.startselected?(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,r._addClass(e.$element,"ui-selected"),e.selected=!0):(r._removeClass(e.$element,"ui-selecting"),e.selecting=!1,e.startselected&&(r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0),r._trigger("unselecting",i,{unselecting:e.element}))),e.selected&&(i.metaKey||i.ctrlKey||e.startselected||(r._removeClass(e.$element,"ui-selected"),e.selected=!1,r._addClass(e.$element,"ui-unselecting"),e.unselecting=!0,r._trigger("unselecting",i,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var n=this;return this.dragged=!1,T(".ui-unselecting",this.element[0]).each(function(){var e=T.data(this,"selectable-item");n._removeClass(e.$element,"ui-unselecting"),e.unselecting=!1,e.startselected=!1,n._trigger("unselected",t,{unselected:e.element})}),T(".ui-selecting",this.element[0]).each(function(){var e=T.data(this,"selectable-item");n._removeClass(e.$element,"ui-selecting")._addClass(e.$element,"ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,n._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),T.widget("ui.selectmenu",[T.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=T()},_drawButton:function(){var e,t=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(e){this.button.focus(),e.preventDefault()}}),this.element.hide(),this.button=T("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=T("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){t._rendered||t._refreshMenu()})},_drawMenu:function(){var i=this;this.menu=T("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=T("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(e,t){e.preventDefault(),i._setSelection(),i._select(t.item.data("ui-selectmenu-item"),e)},focus:function(e,t){var n=t.item.data("ui-selectmenu-item");null!=i.focusIndex&&n.index!==i.focusIndex&&(i._trigger("focus",e,{item:n}),i.isOpen||i._select(n,e)),i.focusIndex=n.index,i.button.attr("aria-activedescendant",i.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var e,t=this.element.find("option");this.menu.empty(),this._parseOptions(t),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,t.length&&(e=this._getSelectedItem(),this.menuInstance.focus(null,e),this._setAria(e.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(e){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",e)))},_position:function(){this.menuWrap.position(T.extend({of:this.button},this.options.position))},close:function(e){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",e))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var t=T("<span>");return this._setText(t,e.label),this._addClass(t,"ui-selectmenu-text"),t},_renderMenu:function(i,e){var r=this,o="";T.each(e,function(e,t){var n;t.optgroup!==o&&(n=T("<li>",{text:t.optgroup}),r._addClass(n,"ui-selectmenu-optgroup","ui-menu-divider"+(t.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),n.appendTo(i),o=t.optgroup),r._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-selectmenu-item",t)},_renderItem:function(e,t){var n=T("<li>"),i=T("<div>",{title:t.element.attr("title")});return t.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(i,t.label),n.append(i).appendTo(e)},_setText:function(e,t){t?e.text(t):e.html("&#160;")},_move:function(e,t){var n,i,r=".ui-menu-item";this.isOpen?n=this.menuItems.eq(this.focusIndex).parent("li"):(n=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),r+=":not(.ui-state-disabled)"),(i="first"===e||"last"===e?n["first"===e?"prevAll":"nextAll"](r).eq(-1):n[e+"All"](r).eq(0)).length&&this.menuInstance.focus(t,i)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(e){this[this.isOpen?"close":"open"](e)},_setSelection:function(){var e;this.range&&(window.getSelection?((e=window.getSelection()).removeAllRanges(),e.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(T(e.target).closest(".ui-selectmenu-menu, #"+T.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var e;window.getSelection?(e=window.getSelection()).rangeCount&&(this.range=e.getRangeAt(0)):this.range=document.selection.createRange()},click:function(e){this._setSelection(),this._toggle(e)},keydown:function(e){var t=!0;switch(e.keyCode){case T.ui.keyCode.TAB:case T.ui.keyCode.ESCAPE:this.close(e),t=!1;break;case T.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case T.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case T.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case T.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case T.ui.keyCode.LEFT:this._move("prev",e);break;case T.ui.keyCode.RIGHT:this._move("next",e);break;case T.ui.keyCode.HOME:case T.ui.keyCode.PAGE_UP:this._move("first",e);break;case T.ui.keyCode.END:case T.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),t=!1}t&&e.preventDefault()}},_selectFocusedItem:function(e){var t=this.menuItems.eq(this.focusIndex).parent("li");t.hasClass("ui-state-disabled")||this._select(t.data("ui-selectmenu-item"),e)},_select:function(e,t){var n=this.element[0].selectedIndex;this.element[0].selectedIndex=e.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(e)),this._setAria(e),this._trigger("select",t,{item:e}),e.index!==n&&this._trigger("change",t,{item:e}),this.close(t)},_setAria:function(e){var t=this.menuItems.eq(e.index).attr("id");this.button.attr({"aria-labelledby":t,"aria-activedescendant":t}),this.menu.attr("aria-activedescendant",t)},_setOption:function(e,t){if("icons"===e){var n=this.button.find("span.ui-icon");this._removeClass(n,null,this.options.icons.button)._addClass(n,null,t.button)}this._super(e,t),"appendTo"===e&&this.menuWrap.appendTo(this._appendTo()),"width"===e&&this._resizeButton()},_setOptionDisabled:function(e){this._super(e),this.menuInstance.option("disabled",e),this.button.attr("aria-disabled",e),this._toggleClass(this.button,null,"ui-state-disabled",e),this.element.prop("disabled",e),e?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?T(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var e=this.options.width;!1!==e?(null===e&&(e=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(e)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var e=this._super();return e.disabled=this.element.prop("disabled"),e},_parseOptions:function(e){var n=this,i=[];e.each(function(e,t){i.push(n._parseOption(T(t),e))}),this.items=i},_parseOption:function(e,t){var n=e.parent("optgroup");return{element:e,index:t,value:e.val(),label:e.text(),optgroup:n.attr("label")||"",disabled:n.prop("disabled")||e.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),T.widget("ui.slider",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,n=this.options,i=this.element.find(".ui-slider-handle"),r=[];for(t=n.values&&n.values.length||1,i.length>t&&(i.slice(t).remove(),i=i.slice(0,t)),e=i.length;e<t;e++)r.push("<span tabindex='0'></span>");this.handles=i.add(T(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){T(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:T.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=T("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var t,n,i,r,o,a,s,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(n-l.values(e));(t<i||i===t&&(e===l._lastChangedValue||l.values(e)===c.min))&&(i=t,r=T(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),s=!T(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=s?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(i=n/t)&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),o[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var n,i,r;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!T.isArray(e))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,i=e,r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(i[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,t){var n,i=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),T.isArray(this.options.values)&&(i=this.options.values.length),this._super(e,t),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(t),this.handles.css("horizontal"===t?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=i-1;0<=n;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=0<n?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step;(e=Math.round((e-t)/n)*n+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,e,i,r,o=this.options.range,a=this.options,s=this,l=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(e){n=(s.values(e)-s._valueMin())/(s._valueMax()-s._valueMin())*100,c["horizontal"===s.orientation?"left":"bottom"]=n+"%",T(this).stop(1,1)[l?"animate":"css"](c,a.animate),!0===s.options.range&&("horizontal"===s.orientation?(0===e&&s.range.stop(1,1)[l?"animate":"css"]({left:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===e&&s.range.stop(1,1)[l?"animate":"css"]({bottom:n+"%"},a.animate),1===e&&s.range[l?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(e=this.value(),i=this._valueMin(),r=this._valueMax(),n=r!==i?(e-i)/(r-i)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[l?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:n+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:100-n+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:n+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(e){var t,n,i,r=T(e.target).data("ui-slider-handle-index");switch(e.keyCode){case T.ui.keyCode.HOME:case T.ui.keyCode.END:case T.ui.keyCode.PAGE_UP:case T.ui.keyCode.PAGE_DOWN:case T.ui.keyCode.UP:case T.ui.keyCode.RIGHT:case T.ui.keyCode.DOWN:case T.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(T(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(i=this.options.step,t=n=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case T.ui.keyCode.HOME:n=this._valueMin();break;case T.ui.keyCode.END:n=this._valueMax();break;case T.ui.keyCode.PAGE_UP:n=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/this.numPages);break;case T.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/this.numPages);break;case T.ui.keyCode.UP:case T.ui.keyCode.RIGHT:if(t===this._valueMax())return;n=this._trimAlignValue(t+i);break;case T.ui.keyCode.DOWN:case T.ui.keyCode.LEFT:if(t===this._valueMin())return;n=this._trimAlignValue(t-i)}this._slide(e,r,n)},keyup:function(e){var t=T(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),this._removeClass(T(e.target),null,"ui-state-active"))}}}),T.widget("ui.sortable",T.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,n){return t<=e&&e<t+n},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),T.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var n=null,i=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),T(e.target).parents().each(function(){if(T.data(this,r.widgetName+"-item")===r)return n=T(this),!1}),T.data(e.target,r.widgetName+"-item")===r&&(n=T(e.target)),!!n&&(!(this.options.handle&&!t&&(T(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(i=!0)}),!i))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,n){var i,r,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},T.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=T("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(i=this.containers.length-1;0<=i;i--)this.containers[i]._trigger("activate",e,this._uiHash(this));return T.ui.ddmanager&&(T.ui.ddmanager.current=this),T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,n,i,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&T.ui.ddmanager&&!o.dropBehaviour&&T.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(i=(n=this.items[t]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(i===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===i||T.contains(this.placeholder[0],i)||"semi-dynamic"===this.options.type&&T.contains(this.element[0],i))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),T.ui.ddmanager&&T.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(T.ui.ddmanager&&!this.options.dropBehaviour&&T.ui.ddmanager.drop(this,e),this.options.revert){var n=this,i=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,T(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new T.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),T.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?T(this.domPosition.prev).after(this.currentItem):T(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},T(e).each(function(){var e=(T(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&n.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t.each(function(){n.push(T(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=e.left,a=o+e.width,s=e.top,l=s+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||s<i+c&&i+c<l,h="y"===this.options.axis||o<t+u&&t+u<a,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<a&&s<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t,n,i="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),r="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width);return!(!i||!r)&&(t=this._getDragVerticalDirection(),n=this._getDragHorizontalDirection(),this.floating?"right"===n||"down"===t?2:1:t&&("down"===t?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&t||"up"===i&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,n,i,r,o=[],a=[],s=this._connectWith();if(s&&e)for(t=s.length-1;0<=t;t--)for(n=(i=T(s[t],this.document[0])).length-1;0<=n;n--)(r=T.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([T.isFunction(r.options.items)?r.options.items.call(r.element):T(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function l(){o.push(this)}for(a.push([T.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):T(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=a.length-1;0<=t;t--)a[t][0].each(l);return T(o)},_removeCurrentsFromItems:function(){var n=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=T.grep(this.items,function(e){for(var t=0;t<n.length;t++)if(n[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,n,i,r,o,a,s,l,c=this.items,u=[[T.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):T(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(n=(i=T(d[t],this.document[0])).length-1;0<=n;n--)(r=T.data(i[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(u.push([T.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):T(r.options.items,r.element),r]),this.containers.push(r));for(t=u.length-1;0<=t;t--)for(o=u[t][1],n=0,l=(a=u[t][0]).length;n<l;n++)(s=T(a[n])).data(this.widgetName+"-item",o),c.push({item:s,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,n,i,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(n=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(i=this.options.toleranceElement?T(this.options.toleranceElement,n.item):n.item,e||(n.width=i.outerWidth(),n.height=i.outerHeight()),r=i.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)r=this.containers[t].element.offset(),this.containers[t].containerCache.left=r.left,this.containers[t].containerCache.top=r.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(n){var i,r=(n=n||this).options;r.placeholder&&r.placeholder.constructor!==String||(i=r.placeholder,r.placeholder={element:function(){var e=n.currentItem[0].nodeName.toLowerCase(),t=T("<"+e+">",n.document[0]);return n._addClass(t,"ui-sortable-placeholder",i||n.currentItem[0].className)._removeClass(t,"ui-sortable-helper"),"tbody"===e?n._createTrPlaceholder(n.currentItem.find("tr").eq(0),T("<tr>",n.document[0]).appendTo(t)):"tr"===e?n._createTrPlaceholder(n.currentItem,t):"img"===e&&t.attr("src",n.currentItem.attr("src")),i||t.css("visibility","hidden"),t},update:function(e,t){i&&!r.forcePlaceholderSize||(t.height()||t.height(n.currentItem.innerHeight()-parseInt(n.currentItem.css("paddingTop")||0,10)-parseInt(n.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(n.currentItem.innerWidth()-parseInt(n.currentItem.css("paddingLeft")||0,10)-parseInt(n.currentItem.css("paddingRight")||0,10)))}}),n.placeholder=T(r.placeholder.element.call(n.element,n.currentItem)),n.currentItem.after(n.placeholder),r.placeholder.update(n,n.placeholder)},_createTrPlaceholder:function(e,t){var n=this;e.children().each(function(){T("<td>&#160;</td>",n.document[0]).attr("colspan",T(this).attr("colspan")||1).appendTo(t)})},_contactContainers:function(e){var t,n,i,r,o,a,s,l,c,u,d=null,h=null;for(t=this.containers.length-1;0<=t;t--)if(!T.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(d&&T.contains(this.containers[t].element[0],d.element[0]))continue;d=this.containers[t],h=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(i=1e4,r=null,o=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",u=c?"pageX":"pageY",n=this.items.length-1;0<=n;n--)T.contains(this.containers[h].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(s=this.items[n].item.offset()[o],l=!1,e[u]-s>this.items[n][a]/2&&(l=!0),Math.abs(e[u]-s)<i&&(i=Math.abs(e[u]-s),r=this.items[n],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var t=this.options,n=T.isFunction(t.helper)?T(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||T("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!t.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!t.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),T.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&T.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,n,i=this.options;"parent"===i.containment&&(i.containment=this.helper[0].parentNode),"document"!==i.containment&&"window"!==i.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===i.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===i.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(i.containment)||(e=T(i.containment)[0],t=T(i.containment).offset(),n="hidden"!==T(e).css("overflow"),this.containment=[t.left+(parseInt(T(e).css("borderLeftWidth"),10)||0)+(parseInt(T(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(T(e).css("borderTopWidth"),10)||0)+(parseInt(T(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(T(e).css("borderLeftWidth"),10)||0)-(parseInt(T(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(T(e).css("borderTopWidth"),10)||0)-(parseInt(T(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var n="absolute"===e?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(i[0].tagName);return{top:t.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:i.scrollTop())*n,left:t.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:i.scrollLeft())*n}},_generatePosition:function(e){var t,n,i=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&T.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-i.grid[1]:t+i.grid[1]:t,n=this.originalPageX+Math.round((r-this.originalPageX)/i.grid[0])*i.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-i.grid[0]:n+i.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:a.scrollLeft())}},_rearrange:function(e,t,n,i){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay(function(){r===this.counter&&this.refreshPositions(!i)})},_clear:function(e,t){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function r(t,n,i){return function(e){i._trigger(t,e,n._uiHash(n))}}for(this.fromOutside&&!t&&i.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||i.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(i.push(function(e){this._trigger("remove",e,this._uiHash())}),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;0<=n;n--)t||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;n<i.length;n++)i[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===T.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||T([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}});function w(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}T.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var i=this._super(),r=this.element;return T.each(["min","max","step"],function(e,t){var n=r.attr(t);null!=n&&n.length&&(i[t]=n)}),i},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){var t;function n(){this.element[0]===T.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=t,this._delay(function(){this.previous=t}))}t=this.element[0]===T.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,T(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(T(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,T(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&0<this.uiSpinner.height()&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var t=this.options,n=T.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,t.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,n){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,n)},e),this._spin(t*this.options.step,n)},_spin:function(e,t){var n=this.value()||0;this.counter||(this.counter=1),n=this._adjustValue(n+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:n})||(this._value(n),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?T.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_adjustValue:function(e){var t,n,i=this.options;return n=e-(t=null!==i.min?i.min:0),e=t+(n=Math.round(n/i.step)*i.step),e=parseFloat(e.toFixed(this._precision())),null!==i.max&&e>i.max?i.max:null!==i.min&&e<i.min?i.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){var n,i,r;if("culture"===e||"numberFormat"===e)return n=this._parse(this.element.val()),this.options[e]=t,void this.element.val(this._format(n));"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(i=this.buttons.first().find(".ui-icon"),this._removeClass(i,null,this.options.icons.up),this._addClass(i,null,t.up),r=this.buttons.last().find(".ui-icon"),this._removeClass(r,null,this.options.icons.down),this._addClass(r,null,t.down)),this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!e),this.element.prop("disabled",!!e),this.buttons.button(e?"disable":"enable")},_setOptions:w(function(e){this._super(e)}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var e=this.value();return null!==e&&e===this._adjustValue(e)},_value:function(e,t){var n;""!==e&&null!==(n=this._parse(e))&&(t||(n=this._adjustValue(n)),e=this._format(n)),this.element.val(e),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:w(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:w(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:w(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:w(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());w(this._value).call(this,e)},widget:function(){return this.uiSpinner}}),!1!==T.uiBackCompat&&T.widget("ui.spinner",T.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var x;T.ui.spinner;T.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(x=/#.*$/,function(e){var t,n;t=e.href.replace(x,""),n=location.href.replace(x,"");try{t=decodeURIComponent(t)}catch(e){}try{n=decodeURIComponent(n)}catch(e){}return 1<e.hash.length&&t===n}),_create:function(){var t=this,e=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,e.collapsible),this._processTabs(),e.active=this._initialActive(),T.isArray(e.disabled)&&(e.disabled=T.unique(e.disabled.concat(T.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=T(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var n=this.options.active,e=this.options.collapsible,i=location.hash.substring(1);return null===n&&(i&&this.tabs.each(function(e,t){if(T(t).attr("aria-controls")===i)return n=e,!1}),null===n&&(n=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==n&&-1!==n||(n=!!this.tabs.length&&0)),!1!==n&&-1===(n=this.tabs.index(this.tabs.eq(n)))&&(n=!e&&0),!e&&!1===n&&this.anchors.length&&(n=0),n},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):T()}},_tabKeydown:function(e){var t=T(T.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(t),i=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case T.ui.keyCode.RIGHT:case T.ui.keyCode.DOWN:n++;break;case T.ui.keyCode.UP:case T.ui.keyCode.LEFT:i=!1,n--;break;case T.ui.keyCode.END:n=this.anchors.length-1;break;case T.ui.keyCode.HOME:n=0;break;case T.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case T.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,i),e.ctrlKey||e.metaKey||(t.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===T.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===T.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===T.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){var n=this.tabs.length-1;for(;-1!==T.inArray((n<e&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).trigger("focus"),e},_setOption:function(e,t){"active"!==e?(this._super(e,t),"collapsible"===e&&(this._toggleClass("ui-tabs-collapsible",null,t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._activate(t)},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=T.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!T.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=T()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=T()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this,e=this.tabs,t=this.anchors,n=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){T(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){T(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return T("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=T(),this.anchors.each(function(e,t){var n,i,r,o=T(t).uniqueId().attr("id"),a=T(t).closest("li"),s=a.attr("aria-controls");l._isLocal(t)?(r=(n=t.hash).substring(1),i=l.element.find(l._sanitizeSelector(n))):(n="#"+(r=a.attr("aria-controls")||T({}).uniqueId()[0].id),(i=l.element.find(n)).length||(i=l._createPanel(r)).insertAfter(l.panels[e-1]||l.tablist),i.attr("aria-live","polite")),i.length&&(l.panels=l.panels.add(i)),s&&a.data("ui-tabs-aria-controls",s),a.attr({"aria-controls":r,"aria-labelledby":o}),i.attr("aria-labelledby",o)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),e&&(this._off(e.not(this.tabs)),this._off(t.not(this.anchors)),this._off(n.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return T("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var t,n,i;for(T.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),i=0;n=this.tabs[i];i++)t=T(n),!0===e||-1!==T.inArray(i,e)?(t.attr("aria-disabled","true"),this._addClass(t,null,"ui-state-disabled")):(t.removeAttr("aria-disabled"),this._removeClass(t,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var n={};e&&T.each(e.split(" "),function(e,t){n[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(e){e.preventDefault()}}),this._on(this.anchors,n),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var n,t=this.element.parent();"fill"===e?(n=t.height(),n-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=T(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(n-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){n-=T(this).outerHeight(!0)}),this.panels.each(function(){T(this).height(Math.max(0,n-T(this).innerHeight()+T(this).height()))}).css("overflow","auto")):"auto"===e&&(n=0,this.panels.each(function(){n=Math.max(n,T(this).height("").height())}).height(n))},_eventHandler:function(e){var t=this.options,n=this.active,i=T(e.currentTarget).closest("li"),r=i[0]===n[0],o=r&&t.collapsible,a=o?T():this._getPanelForTab(i),s=n.length?this._getPanelForTab(n):T(),l={oldTab:n,oldPanel:s,newTab:o?T():i,newPanel:a};e.preventDefault(),i.hasClass("ui-state-disabled")||i.hasClass("ui-tabs-loading")||this.running||r&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.tabs.index(i),this.active=r?T():i,this.xhr&&this.xhr.abort(),s.length||a.length||T.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(i),e),this._toggle(e,l))},_toggle:function(e,t){var n=this,i=t.newPanel,r=t.oldPanel;function o(){n.running=!1,n._trigger("activate",e,t)}function a(){n._addClass(t.newTab.closest("li"),"ui-tabs-active","ui-state-active"),i.length&&n.options.show?n._show(i,n.options.show,o):(i.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){n._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(t.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),a()),r.attr("aria-hidden","true"),t.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&r.length?t.oldTab.attr("tabIndex",-1):i.length&&this.tabs.filter(function(){return 0===T(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr("aria-hidden","false"),t.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var t,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),t=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:T.noop}))},_findActive:function(e){return!1===e?T():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+T.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){T.data(this,"ui-tabs-destroy")?T(this).remove():T(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=T(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(n){var e=this.options.disabled;!1!==e&&(void 0===n?e=!1:(n=this._getIndex(n),e=T.isArray(e)?T.map(e,function(e){return e!==n?e:null}):T.map(this.tabs,function(e,t){return t!==n?t:null})),this._setOptionDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(void 0===e)t=!0;else{if(e=this._getIndex(e),-1!==T.inArray(e,t))return;t=T.isArray(t)?T.merge([e],t).sort():[e]}this._setOptionDisabled(t)}},load:function(e,i){e=this._getIndex(e);var r=this,n=this.tabs.eq(e),t=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),a={tab:n,panel:o},s=function(e,t){"abort"===t&&r.panels.stop(!1,!0),r._removeClass(n,"ui-tabs-loading"),o.removeAttr("aria-busy"),e===r.xhr&&delete r.xhr};this._isLocal(t[0])||(this.xhr=T.ajax(this._ajaxSettings(t,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(n,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(e,t,n){setTimeout(function(){o.html(e),r._trigger("load",i,a),s(n,t)},1)}).fail(function(e,t){setTimeout(function(){s(e,t)},1)})))},_ajaxSettings:function(e,n,i){var r=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,t){return r._trigger("beforeLoad",n,T.extend({jqXHR:e,ajaxSettings:t},i))}}},_getPanelForTab:function(e){var t=T(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}}),!1!==T.uiBackCompat&&T.widget("ui.tabs",T.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});T.ui.tabs;T.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=T(this).attr("title")||"";return T("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,t){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",T.trim(n.join(" ")))},_removeDescribedBy:function(e){var t=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),i=T.inArray(t,n);-1!==i&&n.splice(i,1),e.removeData("ui-tooltip-id"),(n=T.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=T("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=T([])},_setOption:function(e,t){var n=this;this._super(e,t),"content"===e&&T.each(this.tooltips,function(e,t){n._updateContent(t.element)})},_setOptionDisabled:function(e){this[e?"_disable":"_enable"]()},_disable:function(){var i=this;T.each(this.tooltips,function(e,t){var n=T.Event("blur");n.target=n.currentTarget=t.element[0],i.close(n,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=T(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=T(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=T([])},open:function(e){var n=this,t=T(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=T(this);t.data("ui-tooltip-open")&&((e=T.Event("blur")).target=e.currentTarget=this,n.close(e,!0)),t.attr("title")&&(t.uniqueId(),n.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._registerCloseHandlers(e,t),this._updateContent(t,e))},_updateContent:function(t,n){var e,i=this.options.content,r=this,o=n?n.type:null;if("string"==typeof i||i.nodeType||i.jquery)return this._open(n,t,i);(e=i.call(t[0],function(e){r._delay(function(){t.data("ui-tooltip-open")&&(n&&(n.type=o),this._open(n,t,e))})}))&&this._open(n,t,e)},_open:function(e,t,n){var i,r,o,a,s=T.extend({},this.options.position);function l(e){s.of=e,r.is(":hidden")||r.position(s)}n&&((i=this._find(t))?i.tooltip.find(".ui-tooltip-content").html(n):(t.is("[title]")&&(e&&"mouseover"===e.type?t.attr("title",""):t.removeAttr("title")),i=this._tooltip(t),r=i.tooltip,this._addDescribedBy(t,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(a=T("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:l}),l(e)):r.position(T.extend({of:t},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(l(s.of),clearInterval(o))},T.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,n){var t={keyup:function(e){if(e.keyCode===T.ui.keyCode.ESCAPE){var t=T.Event(e);t.currentTarget=n[0],this.close(t,!0)}}};n[0]!==this.element[0]&&(t.remove=function(){this._removeTooltip(this._find(n).tooltip)}),e&&"mouseover"!==e.type||(t.mouseleave="close"),e&&"focusin"!==e.type||(t.focusout="close"),this._on(!0,n,t)},close:function(e){var t,n=this,i=T(e?e.currentTarget:this.element),r=this._find(i);r?(t=r.tooltip,r.closing||(clearInterval(this.delayedShow),i.data("ui-tooltip-title")&&!i.attr("title")&&i.attr("title",i.data("ui-tooltip-title")),this._removeDescribedBy(i),r.hiding=!0,t.stop(!0),this._hide(t,this.options.hide,function(){n._removeTooltip(T(this))}),i.removeData("ui-tooltip-open"),this._off(i,"mouseleave focusout keyup"),i[0]!==this.element[0]&&this._off(i,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&T.each(this.parents,function(e,t){T(t.element).attr("title",t.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:t}),r.hiding||(r.closing=!1))):i.removeData("ui-tooltip-open")},_tooltip:function(e){var t=T("<div>").attr("role","tooltip"),n=T("<div>").appendTo(t),i=t.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(t,"ui-tooltip","ui-widget ui-widget-content"),t.appendTo(this._appendTo(e)),this.tooltips[i]={element:e,tooltip:t}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_appendTo:function(e){var t=e.closest(".ui-front, dialog");return t.length||(t=this.document[0].body),t},_destroy:function(){var r=this;T.each(this.tooltips,function(e,t){var n=T.Event("blur"),i=t.element;n.target=n.currentTarget=i[0],r.close(n,!0),T("#"+e).remove(),i.data("ui-tooltip-title")&&(i.attr("title")||i.attr("title",i.data("ui-tooltip-title")),i.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==T.uiBackCompat&&T.widget("ui.tooltip",T.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var e=this._superApply(arguments);return this.options.tooltipClass&&e.tooltip.addClass(this.options.tooltipClass),e}});T.ui.tooltip});var _canLog=!0;function _log(e,t){if(_canLog){var n=Array.prototype.slice.apply(arguments,[1]),i=new Date,r=i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds();n[0]=r+" - "+n[0];try{switch(e){case"info":window.console.info.apply(window.console,n);break;case"warn":window.console.warn.apply(window.console,n);break;default:window.console.log.apply(window.console,n)}}catch(e){window.console?-2146827850===e.number&&window.console.log(n.join(", ")):_canLog=!1}}}function logMsg(e){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)}var getDynaTreePersistData=null,DTNodeStatus_Error=-1,DTNodeStatus_Loading=1,DTNodeStatus_Ok=0,DataTable,DataTable,CodeEditor,HawtioEditor,HawtioEditor,HawtioEditor,ForceGraph,ForceGraph,ForceGraph,Toastr,Core,Tree,UIBootstrap,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI,UI;!function($){var Class={create:function(){return function(){this.initialize.apply(this,arguments)}}};function getDtNodeFromElement(e){return alert("getDtNodeFromElement is deprecated"),$.ui.dynatree.getNode(e)}function noop(){}function offsetString(e){return 0===e?"":0<e?"+"+e:""+e}function _checkBrowser(){var e,t;return t={},(e=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}}(navigator.userAgent)).browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),t}function versionCompare(e,t){var n,i,r,o=(""+e).split("."),a=(""+t).split("."),s=Math.min(o.length,a.length);for(r=0;r<s;r++)if(n=parseInt(o[r],10),i=parseInt(a[r],10),isNaN(n)&&(n=o[r]),isNaN(i)&&(i=a[r]),n!=i)return i<n?1:n<i?-1:NaN;return o.length===a.length?0:o.length<a.length?-1:1}var BROWSER=_checkBrowser(),jquerySupports={positionMyOfs:0<=versionCompare($.ui.version,"1.9")},DynaTreeNode=Class.create();DynaTreeNode.prototype={initialize:function(e,t,n){this.parent=e,this.tree=t,"string"==typeof n&&(n={title:n}),null==n.key?n.key="_"+t._nodeCount++:n.key=""+n.key,this.data=$.extend({},$.ui.dynatree.nodedatadefaults,n),this.li=null,this.span=null,this.ul=null,this.childList=null,this._isLoading=!1,this.hasSubSel=!1,this.bExpanded=!1,this.bSelected=!1},toString:function(){return"DynaTreeNode<"+this.data.key+">: '"+this.data.title+"'"},toDict:function(e,t){var n,i=$.extend({},this.data);if(i.activate=this.tree.activeNode===this,i.focus=this.tree.focusNode===this,i.expand=this.bExpanded,i.select=this.bSelected,t&&t(i),e&&this.childList){i.children=[];for(var r=0,o=this.childList.length;r<o;r++)(n=this.childList[r]).isStatusNode()||i.children.push(n.toDict(!0,t))}else delete i.children;return i},fromDict:function(e){var t=e.children;if(void 0===t)return this.data=$.extend(this.data,e),void this.render();(e=$.extend({},e)).children=void 0,this.data=$.extend(this.data,e),this.removeChildren(),this.addChild(t)},_getInnerHtml:function(){var e=this.tree,t=e.options,n=e.cache,i=this.getLevel(),r=this.data,o="";i<t.minExpandLevel?1<i&&(o+=n.tagConnector):!1!==this.hasChildren()?o+=n.tagExpander:o+=n.tagConnector,t.checkbox&&!0!==r.hideCheckbox&&!r.isStatusNode&&(o+=n.tagCheckbox),r.icon?o+="<img src='"+("/"===r.icon.charAt(0)?r.icon:t.imagePath+r.icon)+"' alt='' />":!1===r.icon||(r.iconClass?o+="<span class=' "+r.iconClass+"'></span>":o+=n.tagNodeIcon);var a="";if(t.onCustomRender&&(a=t.onCustomRender.call(e,this)||""),!a){var s=r.tooltip?' title="'+r.tooltip.replace(/\"/g,"&quot;")+'"':"",l=r.href||"#";a=t.noLink||r.noLink?'<span style="display:inline-block;" class="'+t.classNames.title+'"'+s+">"+r.title+"</span>":'<a href="'+l+'" class="'+t.classNames.title+'"'+s+">"+r.title+"</a>"}return o+=a},_fixOrder:function(){var e=this.childList;if(e&&this.ul)for(var t=this.ul.firstChild,n=0,i=e.length-1;n<i;n++){var r=e[n],o=t.dtnode;r!==o?(this.tree.logDebug("_fixOrder: mismatch at index "+n+": "+r+" != "+o),this.ul.insertBefore(r.li,o.li)):t=t.nextSibling}},render:function(e,t){var n=this.tree,i=this.parent,r=this.data,o=n.options,a=o.classNames,s=this.isLastSibling(),l=!1;if(i||this.ul){if(i){this.li||(l=!0,this.li=document.createElement("li"),this.li.dtnode=this,r.key&&o.generateIds&&(this.li.id=o.idPrefix+r.key),this.span=document.createElement("span"),this.span.className=a.title,this.li.appendChild(this.span),i.ul||(i.ul=document.createElement("ul"),i.ul.style.display="none",i.li.appendChild(i.ul)),i.ul.appendChild(this.li)),this.span.innerHTML=this._getInnerHtml();var c=[];c.push(a.node),r.isFolder&&c.push(a.folder),this.bExpanded&&c.push(a.expanded),!1!==this.hasChildren()&&c.push(a.hasChildren),r.isLazy&&null===this.childList&&c.push(a.lazy),s&&c.push(a.lastsib),this.bSelected&&c.push(a.selected),this.hasSubSel&&c.push(a.partsel),n.activeNode===this&&c.push(a.active),r.addClass&&c.push(r.addClass),c.push(a.combinedExpanderPrefix+(this.bExpanded?"e":"c")+(r.isLazy&&null===this.childList?"d":"")+(s?"l":"")),c.push(a.combinedIconPrefix+(this.bExpanded?"e":"c")+(r.isFolder?"f":"")),this.span.className=c.join(" "),this.li.className=s?a.lastsib:"",l&&o.onCreate&&o.onCreate.call(n,this,this.span),o.onRender&&o.onRender.call(n,this,this.span)}}else this.li=this.span=null,this.ul=document.createElement("ul"),1<o.minExpandLevel?this.ul.className=a.container+" "+a.noConnector:this.ul.className=a.container;if((this.bExpanded||!0===t)&&this.childList){for(var u=0,d=this.childList.length;u<d;u++)this.childList[u].render(!1,t);this._fixOrder()}if(this.ul){var h="none"===this.ul.style.display,p=!!this.bExpanded;if(e&&o.fx&&h===p){var f=o.fx.duration||200;$(this.ul).animate(o.fx,f)}else this.ul.style.display=this.bExpanded||!i?"":"none"}},getKeyPath:function(e){var t=[],n=this.tree.options.keyPathSeparator;return this.visitParents(function(e){e.parent&&t.unshift(e.data.key)},!e),n+t.join(n)},getParent:function(){return this.parent},getChildren:function(){if(void 0!==this.hasChildren())return this.childList},hasChildren:function(){if(this.data.isLazy){if(null===this.childList||void 0===this.childList)return;if(0===this.childList.length)return!1;if(1===this.childList.length&&this.childList[0].isStatusNode())return;return!0}return!!this.childList},isFirstSibling:function(){var e=this.parent;return!e||e.childList[0]===this},isLastSibling:function(){var e=this.parent;return!e||e.childList[e.childList.length-1]===this},isLoading:function(){return!!this._isLoading},getPrevSibling:function(){if(!this.parent)return null;for(var e=this.parent.childList,t=1,n=e.length;t<n;t++)if(e[t]===this)return e[t-1];return null},getNextSibling:function(){if(!this.parent)return null;for(var e=this.parent.childList,t=0,n=e.length-1;t<n;t++)if(e[t]===this)return e[t+1];return null},isStatusNode:function(){return!0===this.data.isStatusNode},isChildOf:function(e){return this.parent&&this.parent===e},isDescendantOf:function(e){if(!e)return!1;for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1},countChildren:function(){var e=this.childList;if(!e)return 0;for(var t=e.length,n=0,i=t;n<i;n++){t+=e[n].countChildren()}return t},sortChildren:function(e,t){var n=this.childList;if(n){if(e=e||function(e,t){var n=e.data.title.toLowerCase(),i=t.data.title.toLowerCase();return n===i?0:i<n?1:-1},n.sort(e),t)for(var i=0,r=n.length;i<r;i++)n[i].childList&&n[i].sortChildren(e,"$norender$");"$norender$"!==t&&this.render()}},_setStatusNode:function(e){var t=this.childList?this.childList[0]:null;if(e)t?(e.isStatusNode=!0,e.key="_statusNode",t.data=e,t.render()):(e.isStatusNode=!0,e.key="_statusNode",t=this.addChild(e));else if(t&&t.isStatusNode()){try{this.ul&&(this.ul.removeChild(t.li),t.li=null)}catch(e){}1===this.childList.length?this.childList=[]:this.childList.shift()}},setLazyNodeStatus:function(e,t){var n=t&&t.tooltip?t.tooltip:null,i=t&&t.info?" ("+t.info+")":"";switch(e){case DTNodeStatus_Ok:this._setStatusNode(null),$(this.span).removeClass(this.tree.options.classNames.nodeLoading),this._isLoading=!1,this.tree.options.autoFocus&&(this===this.tree.tnRoot&&this.childList&&0<this.childList.length?this.childList[0].focus():this.focus());break;case DTNodeStatus_Loading:this._isLoading=!0,$(this.span).addClass(this.tree.options.classNames.nodeLoading),this.parent||this._setStatusNode({title:this.tree.options.strings.loading+i,tooltip:n,addClass:this.tree.options.classNames.nodeWait});break;case DTNodeStatus_Error:this._isLoading=!1,this._setStatusNode({title:this.tree.options.strings.loadError+i,tooltip:n,addClass:this.tree.options.classNames.nodeError});break;default:throw"Bad LazyNodeStatus: '"+e+"'."}},_parentList:function(e,t){for(var n=[],i=t?this:this.parent;i;)(e||i.parent)&&n.unshift(i),i=i.parent;return n},getLevel:function(){for(var e=0,t=this.parent;t;)e++,t=t.parent;return e},_getTypeForOuterNodeEvent:function(e){var t=this.tree.options.classNames,n=e.target;if(n.className.indexOf(t.node)<0)return null;for(var i=e.pageX-n.offsetLeft,r=e.pageY-n.offsetTop,o=0,a=n.childNodes.length;o<a;o++){var s=n.childNodes[o],l=s.offsetLeft-n.offsetLeft,c=s.offsetTop-n.offsetTop,u=s.clientWidth,d=s.clientHeight;if(l<=i&&i<=l+u&&c<=r&&r<=c+d){if(s.className==t.title)return"title";if(s.className==t.expander)return"expander";if(s.className==t.checkbox||s.className==t.radio)return"checkbox";if(s.className==t.nodeIcon)return"icon"}}return"prefix"},getEventTargetType:function(e){var t=e&&e.target?e.target.className:"",n=this.tree.options.classNames;return 0<=t.indexOf(n.title)?"title":0<=t.indexOf(n.expander)?"expander":0<=t.indexOf(n.checkbox)||0<=t.indexOf(n.radio)?"checkbox":0<=t.indexOf(n.nodeIcon)?"icon":0<=t.indexOf(n.empty)||0<=t.indexOf(n.vline)||0<=t.indexOf(n.connector)?"prefix":0<=t.indexOf(n.node)?this._getTypeForOuterNodeEvent(e):null},isVisible:function(){for(var e=this._parentList(!0,!1),t=0,n=e.length;t<n;t++)if(!e[t].bExpanded)return!1;return!0},makeVisible:function(){for(var e=this._parentList(!0,!1),t=0,n=e.length;t<n;t++)e[t]._expand(!0)},focus:function(){this.makeVisible();try{$(this.span).find(">a").focus()}catch(e){}},isFocused:function(){return this.tree.tnFocused===this},_activate:function(e,t){this.tree.logDebug("dtnode._activate(%o, fireEvents=%o) - %o",e,t,this);var n=this.tree.options;if(!this.data.isStatusNode)if(e){if(t&&n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,e,this))return;if(this.tree.activeNode){if(this.tree.activeNode===this)return;this.tree.activeNode.deactivate()}n.activeVisible&&this.makeVisible(),this.tree.activeNode=this,n.persist&&$.cookie(n.cookieId+"-active",this.data.key,n.cookie),this.tree.persistence.activeKey=this.data.key,$(this.span).addClass(n.classNames.active),t&&n.onActivate&&n.onActivate.call(this.tree,this)}else if(this.tree.activeNode===this){if(n.onQueryActivate&&!1===n.onQueryActivate.call(this.tree,!1,this))return;$(this.span).removeClass(n.classNames.active),n.persist&&$.cookie(n.cookieId+"-active","",n.cookie),this.tree.persistence.activeKey=null,this.tree.activeNode=null,t&&n.onDeactivate&&n.onDeactivate.call(this.tree,this)}},activate:function(){this._activate(!0,!0)},activateSilently:function(){this._activate(!0,!1)},deactivate:function(){this._activate(!1,!0)},isActive:function(){return this.tree.activeNode===this},_userActivate:function(){var e=!0,t=!1;if(this.data.isFolder)switch(this.tree.options.clickFolderMode){case 2:t=!(e=!1);break;case 3:e=t=!0}null===this.parent&&(t=!1),t&&(this.toggleExpand(),this.focus()),e&&this.activate()},_setSubSel:function(e){e?(this.hasSubSel=!0,$(this.span).addClass(this.tree.options.classNames.partsel)):(this.hasSubSel=!1,$(this.span).removeClass(this.tree.options.classNames.partsel))},_updatePartSelectionState:function(){var e;if(!this.hasChildren())return e=this.bSelected&&!this.data.unselectable&&!this.data.isStatusNode,this._setSubSel(!1),e;var t,n,i=this.childList,r=!0,o=!0;for(t=0,n=i.length;t<n;t++){var a=i[t]._updatePartSelectionState();!1!==a&&(o=!1),!0!==a&&(r=!1)}return e=!!r||!o&&void 0,this._setSubSel(void 0===e),this.bSelected=!0===e,e},_fixSelectionState:function(){var e,t,n;if(this.bSelected)for(this.visit(function(e){e.parent._setSubSel(!0),e.data.unselectable||e._select(!0,!1,!1)}),e=this.parent;e;){e._setSubSel(!0);var i=!0;for(t=0,n=e.childList.length;t<n;t++){var r=e.childList[t];if(!r.bSelected&&!r.data.isStatusNode&&!r.data.unselectable){i=!1;break}}i&&e._select(!0,!1,!1),e=e.parent}else for(this._setSubSel(!1),this.visit(function(e){e._setSubSel(!1),e._select(!1,!1,!1)}),e=this.parent;e;){e._select(!1,!1,!1);var o=!1;for(t=0,n=e.childList.length;t<n;t++)if(e.childList[t].bSelected||e.childList[t].hasSubSel){o=!0;break}e._setSubSel(o),e=e.parent}},_select:function(e,t,n){var i=this.tree.options;this.data.isStatusNode||this.bSelected!==e&&(t&&i.onQuerySelect&&!1===i.onQuerySelect.call(this.tree,e,this)||(1==i.selectMode&&e&&this.tree.visit(function(e){if(e.bSelected)return e._select(!1,!1,!1),!1}),(this.bSelected=e)?(i.persist&&this.tree.persistence.addSelect(this.data.key),$(this.span).addClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),t&&i.onSelect&&i.onSelect.call(this.tree,!0,this)):(i.persist&&this.tree.persistence.clearSelect(this.data.key),$(this.span).removeClass(i.classNames.selected),n&&3===i.selectMode&&this._fixSelectionState(),t&&i.onSelect&&i.onSelect.call(this.tree,!1,this))))},select:function(e){return this.data.unselectable?this.bSelected:this._select(!1!==e,!0,!0)},toggleSelect:function(){return this.select(!this.bSelected)},isSelected:function(){return this.bSelected},isLazy:function(){return!!this.data.isLazy},_loadContent:function(){try{var e=this.tree.options;this.tree.logDebug("_loadContent: start - %o",this),this.setLazyNodeStatus(DTNodeStatus_Loading),!0===e.onLazyRead.call(this.tree,this)&&(this.setLazyNodeStatus(DTNodeStatus_Ok),this.tree.logDebug("_loadContent: succeeded - %o",this))}catch(e){this.tree.logWarning("_loadContent: failed - %o",e),this.setLazyNodeStatus(DTNodeStatus_Error,{tooltip:""+e})}},_expand:function(e,t){if(this.bExpanded!==e){this.tree.logDebug("dtnode._expand(%o) - %o",e,this);var n=this.tree.options;if(!e&&this.getLevel()<n.minExpandLevel)this.tree.logDebug("dtnode._expand(%o) prevented collapse - %o",e,this);else if(!n.onQueryExpand||!1!==n.onQueryExpand.call(this.tree,e,this)){this.bExpanded=e,n.persist&&(e?this.tree.persistence.addExpand(this.data.key):this.tree.persistence.clearExpand(this.data.key));var i=!(this.data.isLazy&&null===this.childList||this._isLoading||t);if(this.render(i),this.bExpanded&&this.parent&&n.autoCollapse)for(var r=this._parentList(!1,!0),o=0,a=r.length;o<a;o++)r[o].collapseSiblings();n.activeVisible&&this.tree.activeNode&&!this.tree.activeNode.isVisible()&&this.tree.activeNode.deactivate(),e&&this.data.isLazy&&null===this.childList&&!this._isLoading?this._loadContent():n.onExpand&&n.onExpand.call(this.tree,e,this)}}else this.tree.logDebug("dtnode._expand(%o) IGNORED - %o",e,this)},isExpanded:function(){return this.bExpanded},expand:function(e){e=!1!==e,(this.childList||this.data.isLazy||!e)&&(null!==this.parent||e)&&this._expand(e)},scheduleAction:function(e,t){this.tree.timer&&(clearTimeout(this.tree.timer),this.tree.logDebug("clearTimeout(%o)",this.tree.timer));var n=this;switch(e){case"cancel":break;case"expand":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger expand"),n.expand(!0)},t);break;case"activate":this.tree.timer=setTimeout(function(){n.tree.logDebug("setTimeout: trigger activate"),n.activate()},t);break;default:throw"Invalid mode "+e}this.tree.logDebug("setTimeout(%s, %s): %s",e,t,this.tree.timer)},toggleExpand:function(){this.expand(!this.bExpanded)},collapseSiblings:function(){if(null!==this.parent)for(var e=this.parent.childList,t=0,n=e.length;t<n;t++)e[t]!==this&&e[t].bExpanded&&e[t]._expand(!1)},_onClick:function(e){var t=this.getEventTargetType(e);if("expander"===t)this.toggleExpand(),this.focus();else if("checkbox"===t)this.toggleSelect(),this.focus();else{this._userActivate();var n=this.span.getElementsByTagName("a");if(!n[0])return!0;BROWSER.msie&&parseInt(BROWSER.version,10)<9||n[0].focus()}e.preventDefault()},_onDblClick:function(e){},_onKeydown:function(e){var t,n=!0;switch(e.which){case 107:case 187:this.bExpanded||this.toggleExpand();break;case 109:case 189:this.bExpanded&&this.toggleExpand();break;case 32:this._userActivate();break;case 8:this.parent&&this.parent.focus();break;case 37:this.bExpanded?(this.toggleExpand(),this.focus()):this.parent&&this.parent.parent&&this.parent.focus();break;case 39:this.bExpanded||!this.childList&&!this.data.isLazy?this.childList&&this.childList[0].focus():(this.toggleExpand(),this.focus());break;case 38:for(t=this.getPrevSibling();t&&t.bExpanded&&t.childList;)t=t.childList[t.childList.length-1];!t&&this.parent&&this.parent.parent&&(t=this.parent),t&&t.focus();break;case 40:if(this.bExpanded&&this.childList)t=this.childList[0];else for(var i=this._parentList(!1,!0),r=i.length-1;0<=r&&!(t=i[r].getNextSibling());r--);t&&t.focus();break;default:n=!1}n&&e.preventDefault()},_onKeypress:function(e){},_onFocus:function(e){var t=this.tree.options;"blur"==e.type||"focusout"==e.type?(t.onBlur&&t.onBlur.call(this.tree,this),this.tree.tnFocused&&$(this.tree.tnFocused.span).removeClass(t.classNames.focused),this.tree.tnFocused=null,t.persist&&$.cookie(t.cookieId+"-focus","",t.cookie)):"focus"!=e.type&&"focusin"!=e.type||(this.tree.tnFocused&&this.tree.tnFocused!==this&&(this.tree.logDebug("dtnode.onFocus: out of sync: curFocus: %o",this.tree.tnFocused),$(this.tree.tnFocused.span).removeClass(t.classNames.focused)),this.tree.tnFocused=this,t.onFocus&&t.onFocus.call(this.tree,this),$(this.tree.tnFocused.span).addClass(t.classNames.focused),t.persist&&$.cookie(t.cookieId+"-focus",this.data.key,t.cookie))},visit:function(e,t){var n=!0;if(!0===t&&(!1===(n=e(this))||"skip"===n))return n;if(this.childList)for(var i=0,r=this.childList.length;i<r&&!1!==(n=this.childList[i].visit(e,!0));i++);return n},visitParents:function(e,t){if(t&&!1===e(this))return!1;for(var n=this.parent;n;){if(!1===e(n))return!1;n=n.parent}return!0},remove:function(){if(this===this.tree.root)throw"Cannot remove system root";return this.parent.removeChild(this)},removeChild:function(e){var t=this.childList;if(1===t.length){if(e!==t[0])throw"removeChild: invalid child";return this.removeChildren()}e===this.tree.activeNode&&e.deactivate(),this.tree.options.persist&&(e.bSelected&&this.tree.persistence.clearSelect(e.data.key),e.bExpanded&&this.tree.persistence.clearExpand(e.data.key)),e.removeChildren(!0),this.ul&&e.li&&this.ul.removeChild(e.li);for(var n=0,i=t.length;n<i;n++)if(t[n]===e){this.childList.splice(n,1);break}},removeChildren:function(e,t){this.tree.logDebug("%s.removeChildren(%o)",this,e);var n=this.tree,i=this.childList;if(i){for(var r=0,o=i.length;r<o;r++){var a=i[r];a!==n.activeNode||t||a.deactivate(),this.tree.options.persist&&!t&&(a.bSelected&&this.tree.persistence.clearSelect(a.data.key),a.bExpanded&&this.tree.persistence.clearExpand(a.data.key)),a.removeChildren(!0,t),this.ul&&a.li&&$("li",$(this.ul)).remove()}this.childList=null}e||(this._isLoading=!1,this.render())},setTitle:function(e){this.fromDict({title:e})},reload:function(e){throw"Use reloadChildren() instead"},reloadChildren:function(i){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.reloadChildren() requires lazy nodes.";if(i){var r=this,o="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key;this.tree.$tree.bind(o,function(e,t,n){if(r.tree.$tree.unbind(o),r.tree.logDebug("loaded %o, %o, %o",e,t,n),t!==r)throw"got invalid load event";i.call(r.tree,t,n)})}this.removeChildren(),this._loadContent()},_loadKeyPath:function(n,i){var r=this.tree;if(r.logDebug("%s._loadKeyPath(%s)",this,n),""===n)throw"Key path must not be empty";var o=n.split(r.options.keyPathSeparator);if(""===o[0])throw"Key path must be relative (don't start with '/')";var e=o.shift();if(this.childList)for(var t=0,a=this.childList.length;t<a;t++){var s=this.childList[t];if(s.data.key===e){if(0===o.length)i.call(r,s,"ok");else if(!s.data.isLazy||null!==s.childList&&void 0!==s.childList)i.call(r,s,"loaded"),s._loadKeyPath(o.join(r.options.keyPathSeparator),i);else{r.logDebug("%s._loadKeyPath(%s) -> reloading %s...",this,n,s);var l=this;s.reloadChildren(function(e,t){t?(r.logDebug("%s._loadKeyPath(%s) -> reloaded %s.",e,n,e),i.call(r,s,"loaded"),e._loadKeyPath(o.join(r.options.keyPathSeparator),i)):(r.logWarning("%s._loadKeyPath(%s) -> reloadChildren() failed.",l,n),i.call(r,s,"error"))})}return}}i.call(r,void 0,"notfound",e,0===o.length),r.logWarning("Node not found: "+e)},resetLazy:function(){if(null===this.parent)throw"Use tree.reload() instead";if(!this.data.isLazy)throw"node.resetLazy() requires lazy nodes.";this.expand(!1),this.removeChildren()},_addChildNode:function(e,t){var n=this.tree,i=n.options,r=n.persistence;if(null===(e.parent=this).childList?this.childList=[]:t||0<this.childList.length&&$(this.childList[this.childList.length-1].span).removeClass(i.classNames.lastsib),t){var o=$.inArray(t,this.childList);if(o<0)throw"<beforeNode> must be a child of <this>";this.childList.splice(o,0,e)}else this.childList.push(e);var a=n.isInitializing();if(i.persist&&r.cookiesFound&&a?(r.activeKey===e.data.key&&(n.activeNode=e),r.focusedKey===e.data.key&&(n.focusNode=e),e.bExpanded=0<=$.inArray(e.data.key,r.expandedKeyList),e.bSelected=0<=$.inArray(e.data.key,r.selectedKeyList)):(e.data.activate&&(n.activeNode=e,i.persist&&(r.activeKey=e.data.key)),e.data.focus&&(n.focusNode=e,i.persist&&(r.focusedKey=e.data.key)),e.bExpanded=!0===e.data.expand,e.bExpanded&&i.persist&&r.addExpand(e.data.key),e.bSelected=!0===e.data.select,e.bSelected&&i.persist&&r.addSelect(e.data.key)),i.minExpandLevel>=e.getLevel()&&(this.bExpanded=!0),e.bSelected&&3==i.selectMode)for(var s=this;s;)s.hasSubSel||s._setSubSel(!0),s=s.parent;return n.bEnableUpdate&&this.render(),e},addChild:function(e,t){if("string"==typeof e)throw"Invalid data type for "+e;if(e&&0!==e.length){if(e instanceof DynaTreeNode)return this._addChildNode(e,t);e.length||(e=[e]);for(var n=this.tree.enableUpdate(!1),i=null,r=0,o=e.length;r<o;r++){var a=e[r],s=this._addChildNode(new DynaTreeNode(this,this.tree,a),t);i||(i=s),a.children&&s.addChild(a.children,null)}return this.tree.enableUpdate(n),i}},append:function(e){return this.tree.logWarning("node.append() is deprecated (use node.addChild() instead)."),this.addChild(e,null)},appendAjax:function(e){var o=this;if(this.removeChildren(!1,!0),this.setLazyNodeStatus(DTNodeStatus_Loading),e.debugLazyDelay){var t=e.debugLazyDelay;return e.debugLazyDelay=0,this.tree.logInfo("appendAjax: waiting for debugLazyDelay "+t),void setTimeout(function(){o.appendAjax(e)},t)}var a=e.success,i=e.error,s="nodeLoaded.dynatree."+this.tree.$tree.attr("id")+"."+this.data.key,r=$.extend({},this.tree.options.ajaxDefaults,e,{success:function(e,t,n){var i=o.tree.phase,r=o.tree.options;o.tree.phase="init",r.postProcess?e=r.postProcess.call(this,e,this.dataType):e&&e.hasOwnProperty("d")&&(e="string"==typeof e.d?$.parseJSON(e.d):e.d),$.isArray(e)&&0===e.length||o.addChild(e,null),o.tree.phase="postInit",a&&a.call(r,o,e,t),o.tree.logDebug("trigger "+s),o.tree.$tree.trigger(s,[o,!0]),o.tree.phase=i,o.setLazyNodeStatus(DTNodeStatus_Ok),$.isArray(e)&&0===e.length&&(o.childList=[],o.render())},error:function(e,t,n){o.tree.logWarning("appendAjax failed:",t,":\n",e,"\n",n),i&&i.call(r,o,e,t,n),o.tree.$tree.trigger(s,[o,!1]),o.setLazyNodeStatus(DTNodeStatus_Error,{info:t,tooltip:""+n})}});$.ajax(r)},move:function(t,e){var n;if(this!==t){if(!this.parent)throw"Cannot move system root";void 0!==e&&"over"!=e||(e="child");var i=this.parent,r="child"===e?t:t.parent;if(r.isDescendantOf(this))throw"Cannot move a node to it's own descendant";if(1==this.parent.childList.length)this.parent.childList=this.parent.data.isLazy?[]:null,this.parent.bExpanded=!1;else{if((n=$.inArray(this,this.parent.childList))<0)throw"Internal error";this.parent.childList.splice(n,1)}if(this.parent.ul&&this.li&&this.parent.ul.removeChild(this.li),(this.parent=r).hasChildren())switch(e){case"child":r.childList.push(this);break;case"before":if((n=$.inArray(t,r.childList))<0)throw"Internal error";r.childList.splice(n,0,this);break;case"after":if((n=$.inArray(t,r.childList))<0)throw"Internal error";r.childList.splice(n+1,0,this);break;default:throw"Invalid mode "+e}else r.childList=[this];if(r.ul||(r.ul=document.createElement("ul"),r.ul.style.display="none",r.li&&r.li.appendChild(r.ul)),this.li&&r.ul.appendChild(this.li),this.tree!==t.tree)throw this.visit(function(e){e.tree=t.tree},null,!0),"Not yet implemented.";i.isDescendantOf(r)||i.render(),r.isDescendantOf(i)||r.render()}},lastentry:void 0};var DynaTreeStatus=Class.create();DynaTreeStatus._getTreePersistData=function(e,t){var n=new DynaTreeStatus(e,t);return n.read(),n.toDict()},getDynaTreePersistData=DynaTreeStatus._getTreePersistData,DynaTreeStatus.prototype={initialize:function(e,t){void 0===e&&(e=$.ui.dynatree.prototype.options.cookieId),t=$.extend({},$.ui.dynatree.prototype.options.cookie,t),this.cookieId=e,this.cookieOpts=t,this.cookiesFound=void 0,this.activeKey=null,this.focusedKey=null,this.expandedKeyList=null,this.selectedKeyList=null},_log:function(e){Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments)},read:function(){this.cookiesFound=!1;var e=$.cookie(this.cookieId+"-active");this.activeKey=e||"",e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-focus"),this.focusedKey=e||"",e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-expand"),this.expandedKeyList=e?e.split(","):[],e&&(this.cookiesFound=!0),e=$.cookie(this.cookieId+"-select"),this.selectedKeyList=e?e.split(","):[],e&&(this.cookiesFound=!0)},write:function(){$.cookie(this.cookieId+"-active",null===this.activeKey?"":this.activeKey,this.cookieOpts),$.cookie(this.cookieId+"-focus",null===this.focusedKey?"":this.focusedKey,this.cookieOpts),$.cookie(this.cookieId+"-expand",null===this.expandedKeyList?"":this.expandedKeyList.join(","),this.cookieOpts),$.cookie(this.cookieId+"-select",null===this.selectedKeyList?"":this.selectedKeyList.join(","),this.cookieOpts)},addExpand:function(e){$.inArray(e,this.expandedKeyList)<0&&(this.expandedKeyList.push(e),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},clearExpand:function(e){var t=$.inArray(e,this.expandedKeyList);0<=t&&(this.expandedKeyList.splice(t,1),$.cookie(this.cookieId+"-expand",this.expandedKeyList.join(","),this.cookieOpts))},addSelect:function(e){$.inArray(e,this.selectedKeyList)<0&&(this.selectedKeyList.push(e),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},clearSelect:function(e){var t=$.inArray(e,this.selectedKeyList);0<=t&&(this.selectedKeyList.splice(t,1),$.cookie(this.cookieId+"-select",this.selectedKeyList.join(","),this.cookieOpts))},isReloading:function(){return!0===this.cookiesFound},toDict:function(){return{cookiesFound:this.cookiesFound,activeKey:this.activeKey,focusedKey:this.activeKey,expandedKeyList:this.expandedKeyList,selectedKeyList:this.selectedKeyList}},lastentry:void 0};var DynaTree=Class.create();function _initDragAndDrop(e){var t=e.options.dnd||null;t&&(t.onDragStart||t.onDrop)&&_registerDnd(),t&&t.onDragStart&&e.$tree.draggable({addClasses:!1,appendTo:"body",containment:!1,delay:0,distance:4,revert:!0===t.revert&&function(e){if(logMsg("draggable.revert(), dropped=",e),"boolean"==typeof e)return!e;var t=$.ui.ddmanager&&$.ui.ddmanager.current&&$.ui.ddmanager.current.helper;return t&&t.hasClass("dynatree-drop-reject")},scroll:!0,scrollSpeed:7,scrollSensitivity:10,connectToDynatree:!0,helper:function(e){var t=$.ui.dynatree.getNode(e.target);return t?t.tree._onDragEvent("helper",t,null,e,null,null):"<div></div>"},start:function(e,t){return!!t.helper.data("dtSourceNode")}}),t&&t.onDrop&&e.$tree.droppable({addClasses:!1,tolerance:"pointer",greedy:!1})}DynaTree.version="@@Version",DynaTree.prototype={initialize:function(e){this.phase="init",this.$widget=e,this.options=e.options,this.$tree=e.element,this.timer=null,this.divTree=this.$tree.get(0),_initDragAndDrop(this)},_load:function(e){this.$widget;var t=this.options,n=this;this.bEnableUpdate=!0,this._nodeCount=1,this.activeNode=null,this.focusNode=null,void 0!==t.rootVisible&&this.logWarning("Option 'rootVisible' is no longer supported."),t.minExpandLevel<1&&(this.logWarning("Option 'minExpandLevel' must be >= 1."),t.minExpandLevel=1),t.classNames!==$.ui.dynatree.prototype.options.classNames&&(t.classNames=$.extend({},$.ui.dynatree.prototype.options.classNames,t.classNames)),t.ajaxDefaults!==$.ui.dynatree.prototype.options.ajaxDefaults&&(t.ajaxDefaults=$.extend({},$.ui.dynatree.prototype.options.ajaxDefaults,t.ajaxDefaults)),t.dnd!==$.ui.dynatree.prototype.options.dnd&&(t.dnd=$.extend({},$.ui.dynatree.prototype.options.dnd,t.dnd)),t.imagePath||$("script").each(function(){if(0<=this.src.search(/.*dynatree[^\/]*\.js$/i))return 0<=this.src.indexOf("/")?t.imagePath=this.src.slice(0,this.src.lastIndexOf("/"))+"/skin/":t.imagePath="skin/",n.logDebug("Guessing imagePath from '%s': '%s'",this.src,t.imagePath),!1}),this.persistence=new DynaTreeStatus(t.cookieId,t.cookie),t.persist&&($.cookie||_log("warn","Please include jquery.cookie.js to use persistence."),this.persistence.read()),this.logDebug("DynaTree.persistence: %o",this.persistence.toDict()),this.cache={tagEmpty:"<span class='"+t.classNames.empty+"'></span>",tagVline:"<span class='"+t.classNames.vline+"'></span>",tagExpander:"<span class='"+t.classNames.expander+"'></span>",tagConnector:"<span class='"+t.classNames.connector+"'></span>",tagNodeIcon:"<span class='"+t.classNames.nodeIcon+"'></span>",tagCheckbox:"<span class='"+t.classNames.checkbox+"'></span>",lastentry:void 0},(t.children||t.initAjax&&t.initAjax.url||t.initId)&&$(this.divTree).empty();var i=this.$tree.find(">ul:first").hide();this.tnRoot=new DynaTreeNode(null,this,{}),this.tnRoot.bExpanded=!0,this.tnRoot.render(),this.divTree.appendChild(this.tnRoot.ul);var r=this.tnRoot,o=t.persist&&this.persistence.isReloading(),a=!1,s=this.enableUpdate(!1);this.logDebug("Dynatree._load(): read tree structure..."),t.children?r.addChild(t.children):t.initAjax&&t.initAjax.url?(a=!0,r.data.isLazy=!0,this._reloadAjax(e)):t.initId?this._createFromTag(r,$("#"+t.initId)):(this._createFromTag(r,i),i.remove()),this._checkConsistency(),a||3!=t.selectMode||r._updatePartSelectionState(),this.logDebug("Dynatree._load(): render nodes..."),this.enableUpdate(s),this.logDebug("Dynatree._load(): bind events..."),this.$widget.bind(),this.logDebug("Dynatree._load(): postInit..."),this.phase="postInit",t.persist&&this.persistence.write(),this.focusNode&&this.focusNode.isVisible()&&(this.logDebug("Focus on init: %o",this.focusNode),this.focusNode.focus()),a||(t.onPostInit&&t.onPostInit.call(this,o,!1),e&&e.call(this,"ok")),this.phase="idle"},_reloadAjax:function(r){var o=this.options;if(!o.initAjax||!o.initAjax.url)throw"tree.reload() requires 'initAjax' mode.";var e=this.persistence,t=$.extend({},o.initAjax);t.addActiveKey&&(t.data.activeKey=e.activeKey),t.addFocusedKey&&(t.data.focusedKey=e.focusedKey),t.addExpandedKeyList&&(t.data.expandedKeyList=e.expandedKeyList.join(",")),t.addSelectedKeyList&&(t.data.selectedKeyList=e.selectedKeyList.join(",")),t.success&&this.logWarning("initAjax: success callback is ignored; use onPostInit instead."),t.error&&this.logWarning("initAjax: error callback is ignored; use onPostInit instead.");var a=e.isReloading();t.success=function(e,t,n){3==o.selectMode&&e.tree.tnRoot._updatePartSelectionState(),o.onPostInit&&o.onPostInit.call(e.tree,a,!1),r&&r.call(e.tree,"ok")},t.error=function(e,t,n,i){o.onPostInit&&o.onPostInit.call(e.tree,a,!0,t,n,i),r&&r.call(e.tree,"error",t,n,i)},this.logDebug("Dynatree._init(): send Ajax request..."),this.tnRoot.appendAjax(t)},toString:function(){return"Dynatree '"+this.$tree.attr("id")+"'"},toDict:function(e){var t=this.tnRoot.toDict(!0);return e?t:t.children},serializeArray:function(e){for(var t=this.getSelectedNodes(e),n=this.$tree.attr("name")||this.$tree.attr("id"),i=[],r=0,o=t.length;r<o;r++)i.push({name:n,value:t[r].data.key});return i},getPersistData:function(){return this.persistence.toDict()},logDebug:function(e){2<=this.options.debugLevel&&(Array.prototype.unshift.apply(arguments,["debug"]),_log.apply(this,arguments))},logInfo:function(e){1<=this.options.debugLevel&&(Array.prototype.unshift.apply(arguments,["info"]),_log.apply(this,arguments))},logWarning:function(e){Array.prototype.unshift.apply(arguments,["warn"]),_log.apply(this,arguments)},isInitializing:function(){return"init"==this.phase||"postInit"==this.phase},isReloading:function(){return("init"==this.phase||"postInit"==this.phase)&&this.options.persist&&this.persistence.cookiesFound},isUserEvent:function(){return"userEvent"==this.phase},redraw:function(){this.tnRoot.render(!1,!1)},renderInvisibleNodes:function(){this.tnRoot.render(!1,!0)},reload:function(e){this._load(e)},getRoot:function(){return this.tnRoot},enable:function(){this.$widget.enable()},disable:function(){this.$widget.disable()},getNodeByKey:function(t){var e=document.getElementById(this.options.idPrefix+t);if(e)return e.dtnode?e.dtnode:null;var n=null;return this.visit(function(e){if(e.data.key===t)return n=e,!1},!0),n},getActiveNode:function(){return this.activeNode},reactivate:function(e){var t=this.activeNode;t&&(this.activeNode=null,t.activate(),e&&t.focus())},getSelectedNodes:function(t){var n=[];return this.tnRoot.visit(function(e){if(e.bSelected&&(n.push(e),!0===t))return"skip"}),n},activateKey:function(e){var t=null===e?null:this.getNodeByKey(e);return t?(t.focus(),t.activate(),t):(this.activeNode&&this.activeNode.deactivate(),this.activeNode=null)},loadKeyPath:function(e,t){var n=e.split(this.options.keyPathSeparator);return""===n[0]&&n.shift(),n[0]==this.tnRoot.data.key&&(this.logDebug("Removed leading root key."),n.shift()),e=n.join(this.options.keyPathSeparator),this.tnRoot._loadKeyPath(e,t)},selectKey:function(e,t){var n=this.getNodeByKey(e);return n?(n.select(t),n):null},enableUpdate:function(e){return this.bEnableUpdate==e?e:((this.bEnableUpdate=e)&&this.redraw(),!e)},count:function(){return this.tnRoot.countChildren()},visit:function(e,t){return this.tnRoot.visit(e,t)},_createFromTag:function(parentTreeNode,$ulParent){var self=this;$ulParent.find(">li").each(function(){var $li=$(this),$liSpan=$li.find(">span:first"),$liA=$li.find(">a:first"),title,href=null,target=null,tooltip;if($liSpan.length)title=$liSpan.html();else if($liA.length)title=$liA.html(),href=$liA.attr("href"),target=$liA.attr("target"),tooltip=$liA.attr("title");else{title=$li.html();var iPos=title.search(/<ul/i);title=0<=iPos?$.trim(title.substring(0,iPos)):$.trim(title)}var data={title:title,tooltip:tooltip,isFolder:$li.hasClass("folder"),isLazy:$li.hasClass("lazy"),expand:$li.hasClass("expanded"),select:$li.hasClass("selected"),activate:$li.hasClass("active"),focus:$li.hasClass("focused"),noLink:$li.hasClass("noLink")};if(href&&(data.href=href,data.target=target),$li.attr("title")&&(data.tooltip=$li.attr("title")),$li.attr("id")&&(data.key=""+$li.attr("id")),$li.attr("data")){var dataAttr=$.trim($li.attr("data"));if(dataAttr){"{"!=dataAttr.charAt(0)&&(dataAttr="{"+dataAttr+"}");try{$.extend(data,eval("("+dataAttr+")"))}catch(e){throw"Error parsing node data: "+e+"\ndata:\n'"+dataAttr+"'"}}}var childNode=parentTreeNode.addChild(data),$ul=$li.find(">ul:first");$ul.length&&self._createFromTag(childNode,$ul)})},_checkConsistency:function(){},_setDndStatus:function(e,t,n,i,r){var o,a=e?$(e.span):null,s=$(t.span),l=0,c="center";if(this.$dndMarker||(this.$dndMarker=$("<div id='dynatree-drop-marker'></div>").hide().css({"z-index":1e3}).prependTo($(this.divTree).parent())),"after"===i||"before"===i||"over"===i){switch(i){case"before":this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-before"),c="top";break;case"after":this.$dndMarker.removeClass("dynatree-drop-before dynatree-drop-over"),this.$dndMarker.addClass("dynatree-drop-after"),c="bottom";break;default:this.$dndMarker.removeClass("dynatree-drop-after dynatree-drop-before"),this.$dndMarker.addClass("dynatree-drop-over"),s.addClass("dynatree-drop-target"),l=8}o=jquerySupports.positionMyOfs?{my:"left"+offsetString(l)+" center",at:"left "+c,of:s}:{my:"left center",at:"left "+c,of:s,offset:l+" 0"},this.$dndMarker.show().position(o)}else s.removeClass("dynatree-drop-target"),this.$dndMarker.hide();"after"===i?s.addClass("dynatree-drop-after"):s.removeClass("dynatree-drop-after"),"before"===i?s.addClass("dynatree-drop-before"):s.removeClass("dynatree-drop-before"),!0===r?(a&&a.addClass("dynatree-drop-accept"),s.addClass("dynatree-drop-accept"),n.addClass("dynatree-drop-accept")):(a&&a.removeClass("dynatree-drop-accept"),s.removeClass("dynatree-drop-accept"),n.removeClass("dynatree-drop-accept")),!1===r?(a&&a.addClass("dynatree-drop-reject"),s.addClass("dynatree-drop-reject"),n.addClass("dynatree-drop-reject")):(a&&a.removeClass("dynatree-drop-reject"),s.removeClass("dynatree-drop-reject"),n.removeClass("dynatree-drop-reject"))},_onDragEvent:function(e,t,n,i,r,o){var a,s,l,c=this.options.dnd,u=null,d=$(t.span);switch(e){case"helper":var h=$("<div class='dynatree-drag-helper'><span class='dynatree-drag-helper-img' /></div>").append(d.find(".dynatree-title").clone());$("ul.dynatree-container",t.tree.divTree).append(h),h.data("dtSourceNode",t),u=h;break;case"start":t.isStatusNode()?u=!1:c.onDragStart&&(u=c.onDragStart(t)),!1===u?(this.logDebug("tree.onDragStart() cancelled"),r.helper.trigger("mouseup"),r.helper.hide()):d.addClass("dynatree-drag-source");break;case"enter":u=!!(l=c.onDragEnter?c.onDragEnter(t,n,r,o):null)&&($.isArray(l)?{over:0<=$.inArray("over",l),before:0<=$.inArray("before",l),after:0<=$.inArray("after",l)}:{over:!0===l||"over"===l,before:!0===l||"before"===l,after:!0===l||"after"===l}),r.helper.data("enterResponse",u);break;case"over":if(a=null,!1===(s=r.helper.data("enterResponse")));else if("string"==typeof s)a=s;else{var p=d.offset(),f=i.pageX-p.left,g=i.pageY-p.top,m=(d.width(),g/d.height());s.after&&.75<m?a="after":!s.over&&s.after&&.5<m?a="after":s.before&&m<=.25?a="before":!s.over&&s.before&&m<=.5?a="before":s.over&&(a="over"),c.preventVoidMoves&&(t===n?a=null:"before"===a&&n&&t===n.getNextSibling()?a=null:"after"===a&&n&&t===n.getPrevSibling()?a=null:"over"===a&&n&&n.parent===t&&n.isLastSibling()&&(a=null)),r.helper.data("hitMode",a)}"over"===a&&c.autoExpandMS&&!1!==t.hasChildren()&&!t.bExpanded&&t.scheduleAction("expand",c.autoExpandMS),a&&c.onDragOver&&("over"!==(u=c.onDragOver(t,n,a,r,o))&&"before"!==u&&"after"!==u||(a=u)),this._setDndStatus(n,t,r.helper,a,!1!==u&&null!==a);break;case"drop":var v=r.helper.hasClass("dynatree-drop-reject");(a=r.helper.data("hitMode"))&&c.onDrop&&!v&&c.onDrop(t,n,a,r,o);break;case"leave":t.scheduleAction("cancel"),r.helper.data("enterResponse",null),r.helper.data("hitMode",null),this._setDndStatus(n,t,r.helper,"out",void 0),c.onDragLeave&&c.onDragLeave(t,n,r,o);break;case"stop":d.removeClass("dynatree-drag-source"),c.onDragStop&&c.onDragStop(t);break;default:throw"Unsupported drag event: "+e}return u},cancelDrag:function(){var e=$.ui.ddmanager.current;e&&e.cancel()},lastentry:void 0},$.widget("ui.dynatree",{_init:function(){if(versionCompare($.ui.version,"1.8")<0)return 0<=this.options.debugLevel&&_log("warn","ui.dynatree._init() was called; you should upgrade to jquery.ui.core.js v1.8 or higher."),this._create();2<=this.options.debugLevel&&_log("debug","ui.dynatree._init() was called; no current default functionality.")},_create:function(){1<=this.options.debugLevel&&logMsg("Dynatree._create(): version='%s', debugLevel=%o.",$.ui.dynatree.version,this.options.debugLevel),this.options.event+=".dynatree";this.element.get(0);this.tree=new DynaTree(this),this.tree._load(),this.tree.logDebug("Dynatree._init(): done.")},bind:function(){this.unbind();var e="click.dynatree dblclick.dynatree";function t(e){e=$.event.fix(e||window.event);var t=$.ui.dynatree.getNode(e.target);return!!t&&t._onFocus(e)}this.options.keyboard&&(e+=" keypress.dynatree keydown.dynatree"),this.element.bind(e,function(t){var n=$.ui.dynatree.getNode(t.target);if(!n)return!0;var i=n.tree,e=i.options;i.logDebug("event(%s): dtnode: %s",t.type,n);var r=i.phase;i.phase="userEvent";try{switch(t.type){case"click":return(!e.onClick||!1!==e.onClick.call(i,n,t))&&n._onClick(t);case"dblclick":return(!e.onDblClick||!1!==e.onDblClick.call(i,n,t))&&n._onDblClick(t);case"keydown":return(!e.onKeydown||!1!==e.onKeydown.call(i,n,t))&&n._onKeydown(t);case"keypress":return(!e.onKeypress||!1!==e.onKeypress.call(i,n,t))&&n._onKeypress(t)}}catch(e){i.logWarning("bind(%o): dtnode: %o, error: %o",t,n,e)}finally{i.phase=r}});var n=this.tree.divTree;n.addEventListener?(n.addEventListener("focus",t,!0),n.addEventListener("blur",t,!0)):n.onfocusin=n.onfocusout=t},unbind:function(){this.element.unbind(".dynatree")},enable:function(){this.bind(),$.Widget.prototype.enable.apply(this,arguments)},disable:function(){this.unbind(),$.Widget.prototype.disable.apply(this,arguments)},getTree:function(){return this.tree},getRoot:function(){return this.tree.getRoot()},getActiveNode:function(){return this.tree.getActiveNode()},getSelectedNodes:function(){return this.tree.getSelectedNodes()},lastentry:void 0}),versionCompare($.ui.version,"1.8")<0&&($.ui.dynatree.getter="getTree getRoot getActiveNode getSelectedNodes"),$.extend($.ui.dynatree,{version:"1.2.8",buildType:"release",_DynaTreeClass:DynaTree,_DynaTreeNodeClass:DynaTreeNode,getNode:function(e){if(e instanceof DynaTreeNode)return e;for(void 0!==e.selector&&(e=e[0]);e;){if(e.dtnode)return e.dtnode;e=e.parentNode}return null},getPersistData:DynaTreeStatus._getTreePersistData}),$.ui.dynatree.prototype.options={title:"Dynatree",minExpandLevel:1,imagePath:null,children:null,initId:null,initAjax:null,autoFocus:!0,keyboard:!0,persist:!1,autoCollapse:!1,clickFolderMode:3,activeVisible:!0,checkbox:!1,selectMode:2,fx:null,noLink:!1,onClick:null,onDblClick:null,onKeydown:null,onKeypress:null,onFocus:null,onBlur:null,onQueryActivate:null,onQuerySelect:null,onQueryExpand:null,onPostInit:null,onActivate:null,onDeactivate:null,onSelect:null,onExpand:null,onLazyRead:null,onCustomRender:null,onCreate:null,onRender:null,postProcess:null,dnd:{onDragStart:null,onDragStop:null,revert:!1,autoExpandMS:1e3,preventVoidMoves:!0,onDragEnter:null,onDragOver:null,onDrop:null,onDragLeave:null},ajaxDefaults:{cache:!1,timeout:0,dataType:"json"},strings:{loading:"Loading&#8230;",loadError:"Load error!"},generateIds:!1,idPrefix:"dynatree-id-",keyPathSeparator:"/",cookieId:"dynatree",cookie:{expires:null},classNames:{container:"dynatree-container",node:"dynatree-node",folder:"dynatree-folder",empty:"dynatree-empty",vline:"dynatree-vline",expander:"dynatree-expander",connector:"dynatree-connector",checkbox:"dynatree-checkbox",radio:"dynatree-radio",nodeIcon:"dynatree-icon",title:"dynatree-title",noConnector:"dynatree-no-connector",nodeError:"dynatree-statusnode-error",nodeWait:"dynatree-statusnode-wait",hidden:"dynatree-hidden",combinedExpanderPrefix:"dynatree-exp-",combinedIconPrefix:"dynatree-ico-",nodeLoading:"dynatree-loading",hasChildren:"dynatree-has-children",active:"dynatree-active",selected:"dynatree-selected",expanded:"dynatree-expanded",lazy:"dynatree-lazy",focused:"dynatree-focused",partsel:"dynatree-partsel",lastsib:"dynatree-lastsib"},debugLevel:1,lastentry:void 0},versionCompare($.ui.version,"1.8")<0&&($.ui.dynatree.defaults=$.ui.dynatree.prototype.options),$.ui.dynatree.nodedatadefaults={title:null,key:null,isFolder:!1,isLazy:!1,tooltip:null,href:null,icon:null,addClass:null,noLink:!1,activate:!1,focus:!1,expand:!1,select:!1,hideCheckbox:!1,unselectable:!1,children:null,lastentry:void 0};var didRegisterDnd=!1,_registerDnd=function(){didRegisterDnd||($.ui.plugin.add("draggable","connectToDynatree",{start:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null;if(i)return n.offset.click.top=-2,n.offset.click.left=16,i.tree._onDragEvent("start",i,null,e,t,n)},drag:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null,r=t.helper.data("dtTargetNode")||null,o=$.ui.dynatree.getNode(e.target);if(e.target&&!o&&0<$(e.target).closest("div.dynatree-drag-helper,#dynatree-drop-marker").length)return;t.helper.data("dtTargetNode",o),r&&r!==o&&r.tree._onDragEvent("leave",r,i,e,t,n),o&&o.tree.options.dnd.onDrop&&(o===r?o.tree._onDragEvent("over",o,i,e,t,n):o.tree._onDragEvent("enter",o,i,e,t,n))},stop:function(e,t){var n=$(this).data("ui-draggable")||$(this).data("draggable"),i=t.helper.data("dtSourceNode")||null,r=t.helper.data("dtTargetNode")||null,o="mouseup"==e.type&&1==e.which;logMsg("draggable-connectToDynatree.stop: targetNode(from event): %s, dtTargetNode: %s",r,t.helper.data("dtTargetNode")),o||logMsg("Drag was cancelled"),r&&(o&&r.tree._onDragEvent("drop",r,i,e,t,n),r.tree._onDragEvent("leave",r,i,e,t,n)),i&&i.tree._onDragEvent("stop",i,null,e,t,n)}}),didRegisterDnd=!0)}}(jQuery),function(e){"use strict";var p={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:f,hr:/^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\* *){3,})(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:f,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ {0,3}\[(label)\]: *\n? *<?([^\s>]+)>?(?:(?: +\n? *| *\n *)(title))? *(?:\n+|$)/,table:f,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,paragraph:/^([^\n]+(?:\n?(?!hr|heading|lheading| {0,3}>|tag)[^\n]+)+)/,text:/^[^\n]+/};function l(e){this.tokens=[],this.tokens.links={},this.options=e||m.defaults,this.rules=p.normal,this.options.gfm&&(this.options.tables?this.rules=p.tables:this.rules=p.gfm)}p._label=/(?:\\[\[\]]|[^\[\]])+/,p._title=/(?:"(?:\\"|[^"]|"[^"\n]*")*"|'\n?(?:[^'\n]+\n?)*'|\([^()]*\))/,p.def=t(p.def).replace("label",p._label).replace("title",p._title).getRegex(),p.bullet=/(?:[*+-]|\d+\.)/,p.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,p.item=t(p.item,"gm").replace(/bull/g,p.bullet).getRegex(),p.list=t(p.list).replace(/bull/g,p.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+p.def.source+")").getRegex(),p._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b",p.html=t(p.html).replace("comment",/<!--[\s\S]*?-->/).replace("closed",/<(tag)[\s\S]+?<\/\1>/).replace("closing",/<tag(?:"[^"]*"|'[^']*'|\s[^'"\/>\s]*)*?\/?>/).replace(/tag/g,p._tag).getRegex(),p.paragraph=t(p.paragraph).replace("hr",p.hr).replace("heading",p.heading).replace("lheading",p.lheading).replace("tag","<"+p._tag).getRegex(),p.blockquote=t(p.blockquote).replace("paragraph",p.paragraph).getRegex(),p.normal=g({},p),p.gfm=g({},p.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\n? *\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),p.gfm.paragraph=t(p.paragraph).replace("(?!","(?!"+p.gfm.fences.source.replace("\\1","\\2")+"|"+p.list.source.replace("\\1","\\3")+"|").getRegex(),p.tables=g({},p.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=p,l.lex=function(e,t){return new l(t).lex(e)},l.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},l.prototype.token=function(e,t){var n,i,r,o,a,s,l,c,u,d,h;for(e=e.replace(/^ +$/gm,"");e;)if((r=this.rules.newline.exec(e))&&(e=e.substring(r[0].length),1<r[0].length&&this.tokens.push({type:"space"})),r=this.rules.code.exec(e))e=e.substring(r[0].length),r=r[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?r:r.replace(/\n+$/,"")});else if(r=this.rules.fences.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"code",lang:r[2],text:r[3]||""});else if(r=this.rules.heading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:r[1].length,text:r[2]});else if(t&&(r=this.rules.nptable.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].split(/ *\| */);this.tokens.push(s)}else if(r=this.rules.hr.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"hr"});else if(r=this.rules.blockquote.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"blockquote_start"}),r=r[0].replace(/^ *> ?/gm,""),this.token(r,t),this.tokens.push({type:"blockquote_end"});else if(r=this.rules.list.exec(e)){for(e=e.substring(r[0].length),h=1<(o=r[2]).length,this.tokens.push({type:"list_start",ordered:h,start:h?+o:""}),n=!1,d=(r=r[0].match(this.rules.item)).length,c=0;c<d;c++)l=(s=r[c]).length,~(s=s.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(l-=s.length,s=this.options.pedantic?s.replace(/^ {1,4}/gm,""):s.replace(new RegExp("^ {1,"+l+"}","gm"),"")),this.options.smartLists&&c!==d-1&&(o===(a=p.bullet.exec(r[c+1])[0])||1<o.length&&1<a.length||(e=r.slice(c+1).join("\n")+e,c=d-1)),i=n||/\n\n(?!\s*$)/.test(s),c!==d-1&&(n="\n"===s.charAt(s.length-1),i||(i=n)),this.tokens.push({type:i?"loose_item_start":"list_item_start"}),this.token(s,!1),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(r=this.rules.html.exec(e))e=e.substring(r[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===r[1]||"script"===r[1]||"style"===r[1]),text:r[0]});else if(t&&(r=this.rules.def.exec(e)))e=e.substring(r[0].length),r[3]&&(r[3]=r[3].substring(1,r[3].length-1)),u=r[1].toLowerCase(),this.tokens.links[u]||(this.tokens.links[u]={href:r[2],title:r[3]});else if(t&&(r=this.rules.table.exec(e))){for(e=e.substring(r[0].length),s={type:"table",header:r[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:r[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:r[3].replace(/(?: *\| *)?\n$/,"").split("\n")},c=0;c<s.align.length;c++)/^ *-+: *$/.test(s.align[c])?s.align[c]="right":/^ *:-+: *$/.test(s.align[c])?s.align[c]="center":/^ *:-+ *$/.test(s.align[c])?s.align[c]="left":s.align[c]=null;for(c=0;c<s.cells.length;c++)s.cells[c]=s.cells[c].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(s)}else if(r=this.rules.lheading.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"heading",depth:"="===r[2]?1:2,text:r[1]});else if(t&&(r=this.rules.paragraph.exec(e)))e=e.substring(r[0].length),this.tokens.push({type:"paragraph",text:"\n"===r[1].charAt(r[1].length-1)?r[1].slice(0,-1):r[1]});else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),this.tokens.push({type:"text",text:r[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var n={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:f,tag:/^<!--[\s\S]*?-->|^<\/?[a-zA-Z0-9\-]+(?:"[^"]*"|'[^']*'|\s[^<'">\/\s]*)*?\/?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^_([^\s_](?:[^_]|__)+?[^\s_])_\b|^\*((?:\*\*|[^*])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`]?)\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:f,text:/^[\s\S]+?(?=[\\<!\[`*]|\b_| {2,}\n|$)/};function i(e,t){if(this.options=t||m.defaults,this.links=e,this.rules=n.normal,this.renderer=this.options.renderer||new r,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=n.breaks:this.rules=n.gfm:this.options.pedantic&&(this.rules=n.pedantic)}function r(e){this.options=e||{}}function o(){}function c(e){this.tokens=[],this.token=null,this.options=e||m.defaults,this.options.renderer=this.options.renderer||new r,this.renderer=this.options.renderer,this.renderer.options=this.options}function u(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(e){return e.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""})}function t(n,e){return n=n.source,e=e||"",{replace:function(e,t){return t=(t=t.source||t).replace(/(^|[^\[])\^/g,"$1"),n=n.replace(e,t),this},getRegex:function(){return new RegExp(n,e)}}}function a(e,t){return s[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?s[" "+e]=e+"/":s[" "+e]=e.replace(/[^/]*$/,"")),e=s[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}n._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,n._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,n.autolink=t(n.autolink).replace("scheme",n._scheme).replace("email",n._email).getRegex(),n._inside=/(?:\[[^\[\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,n._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,n.link=t(n.link).replace("inside",n._inside).replace("href",n._href).getRegex(),n.reflink=t(n.reflink).replace("inside",n._inside).getRegex(),n.normal=g({},n),n.pedantic=g({},n.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),n.gfm=g({},n.normal,{escape:t(n.escape).replace("])","~|])").getRegex(),url:t(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("email",n._email).getRegex(),_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:t(n.text).replace("]|","~]|").replace("|","|https?://|ftp://|www\\.|[a-zA-Z0-9.!#$%&'*+/=?^_`{\\|}~-]+@|").getRegex()}),n.breaks=g({},n.gfm,{br:t(n.br).replace("{2,}","*").getRegex(),text:t(n.gfm.text).replace("{2,}","*").getRegex()}),i.rules=n,i.output=function(e,t,n){return new i(t,n).output(e)},i.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),i="@"===r[2]?"mailto:"+(n=u(this.mangle(r[1]))):n=u(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):u(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(u(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(u(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else r[0]=this.rules._backpedal.exec(r[0])[0],e=e.substring(r[0].length),"@"===r[2]?i="mailto:"+(n=u(r[0])):(n=u(r[0]),i="www."===r[1]?"http://"+n:n),o+=this.renderer.link(i,null,n);return o},i.prototype.outputLink=function(e,t){var n=u(t.href),i=t.title?u(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,u(e[1]))},i.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},i.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),.5<Math.random()&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},r.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+u(t,!0)+'">'+(n?e:u(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:u(e,!0))+"\n</code></pre>"},r.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},r.prototype.html=function(e){return e},r.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},r.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},r.prototype.list=function(e,t,n){var i=t?"ol":"ul";return"<"+i+(t&&1!==n?' start="'+n+'"':"")+">\n"+e+"</"+i+">\n"},r.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},r.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},r.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},r.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},r.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},r.prototype.strong=function(e){return"<strong>"+e+"</strong>"},r.prototype.em=function(e){return"<em>"+e+"</em>"},r.prototype.codespan=function(e){return"<code>"+e+"</code>"},r.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},r.prototype.del=function(e){return"<del>"+e+"</del>"},r.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent(d(e)).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}this.options.baseUrl&&!h.test(e)&&(e=a(this.options.baseUrl,e));var r='<a href="'+e+'"';return t&&(r+=' title="'+t+'"'),r+=">"+n+"</a>"},r.prototype.image=function(e,t,n){this.options.baseUrl&&!h.test(e)&&(e=a(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},r.prototype.text=function(e){return e},o.prototype.strong=o.prototype.em=o.prototype.codespan=o.prototype.del=o.prototype.text=function(e){return e},o.prototype.link=o.prototype.image=function(e,t,n){return""+n},o.prototype.br=function(){return""},c.parse=function(e,t){return new c(t).parse(e)},c.prototype.parse=function(e){this.inline=new i(e.links,this.options),this.inlineText=new i(e.links,g({},this.options,{renderer:new o})),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},c.prototype.next=function(){return this.token=this.tokens.pop()},c.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},c.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},c.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,d(this.inlineText.output(this.token.text)));case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var a=this.token.ordered,s=this.token.start;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,a,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var l=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(l);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var s={},h=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function f(){}function g(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m(e,n,i){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(i||"function"==typeof n){i||(i=n,n=null);var r,o,a=(n=g({},m.defaults,n||{})).highlight,t=0;try{r=l.lex(e,n)}catch(e){return i(e)}o=r.length;var s=function(t){if(t)return n.highlight=a,i(t);var e;try{e=c.parse(r,n)}catch(e){t=e}return n.highlight=a,t?i(t):i(null,e)};if(!a||a.length<3)return s();if(delete n.highlight,!o)return s();for(;t<r.length;t++)!function(n){"code"!==n.type?--o||s():a(n.text,n.lang,function(e,t){return e?s(e):null==t||t===n.text?--o||s():(n.text=t,n.escaped=!0,void(--o||s()))})}(r[t])}else try{return n&&(n=g({},m.defaults,n)),c.parse(l.lex(e,n),n)}catch(e){if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",(n||m.defaults).silent)return"<p>An error occurred:</p><pre>"+u(e.message+"",!0)+"</pre>";throw e}}f.exec=f,m.options=m.setOptions=function(e){return g(m.defaults,e),m},m.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new r,xhtml:!1,baseUrl:null},m.Parser=c,m.parser=c.parse,m.Renderer=r,m.TextRenderer=o,m.Lexer=l,m.lexer=l.lex,m.InlineLexer=i,m.inlineLexer=i.output,m.parse=m,"undefined"!=typeof module&&"object"==typeof exports?module.exports=m:"function"==typeof define&&define.amd?define(function(){return m}):e.marked=m}(this||("undefined"!=typeof window?window:global)),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(o){return{link:function(e,t,n){function i(){t.removeClass("collapsing"),t.css({height:"auto"})}function r(){t.css({height:"0"}),t.removeClass("collapsing"),t.addClass("collapse")}e.$watch(n.collapse,function(e){e?function(){if(!t.hasClass("collapse")&&!t.hasClass("in"))return r();t.css({height:t[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),o.removeClass(t,"in",{to:{height:"0"}}).then(r)}():(t.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),o.addClass(t,"in",{to:{height:t[0].scrollHeight+"px"}}).then(i))})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,n,i){this.groups=[],this.closeOthers=function(t){(angular.isDefined(n.closeOthers)?e.$eval(n.closeOthers):i.closeOthers)&&angular.forEach(this.groups,function(e){e!==t&&(e.isOpen=!1)})},this.addGroup=function(t){var n=this;this.groups.push(t),t.$on("$destroy",function(e){n.removeGroup(t)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(t,n,e,i){i.addGroup(t),t.openClass=e.openClass||"panel-open",t.panelClass=e.panelClass,t.$watch("isOpen",function(e){n.toggleClass(t.openClass,e),e&&i.closeOthers(t)}),t.toggleOpen=function(e){t.isDisabled||e&&32!==e.which||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,i,r){i.setHeading(r(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,i){e.$watch(function(){return i[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(r){return{require:"alert",link:function(e,t,n,i){r(function(){i.close()},parseInt(n.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(i,r){return function(e,t,n){r||i.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),t.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),e.$watch(n.bindHtmlUnsafe,function(e){t.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(t,n,i,e){var r=e[0],o=e[1];n.find("input").css({display:"none"}),o.$render=function(){n.toggleClass(r.activeClass,angular.equals(o.$modelValue,t.$eval(i.btnRadio)))},n.bind(r.toggleEvent,function(){if(!i.disabled){var e=n.hasClass(r.activeClass);e&&!angular.isDefined(i.uncheckable)||t.$apply(function(){o.$setViewValue(e?null:t.$eval(i.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(c){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(i,t,n,e){var r=e[0],o=e[1];function a(){return l(n.btnCheckboxTrue,!0)}function s(){return l(n.btnCheckboxFalse,!1)}function l(e,t){var n=i.$eval(e);return angular.isDefined(n)?n:t}t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(r.activeClass,angular.equals(o.$modelValue,a()))},t.bind(r.toggleEvent,function(){n.disabled||i.$apply(function(){o.$setViewValue(t.hasClass(r.activeClass)?s():a()),o.$render()})}),t.on("keypress",function(e){n.disabled||32!==e.which||c[0].activeElement!==t[0]||i.$apply(function(){o.$setViewValue(t.hasClass(r.activeClass)?s():a()),o.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(i,t,n,r){var o,a,s=this,l=s.slides=i.slides=[],c=4<=angular.version.minor,u="uib-slideDirection",d=-1;s.currentSlide=null;var h=!1;function p(e){if(angular.isUndefined(l[e].index))return l[e];var t;l.length;for(t=0;t<l.length;++t)if(l[t].index==e)return l[t]}function f(){g();var e=+i.interval;!isNaN(e)&&0<e&&(o=n(m,e))}function g(){o&&(n.cancel(o),o=null)}function m(){var e=+i.interval;a&&!isNaN(e)&&0<e&&l.length?i.next():i.pause()}s.select=i.select=function(e,t){var n=i.indexOfSlide(e);void 0===t&&(t=n>s.getCurrentIndex()?"next":"prev"),e&&e!==s.currentSlide&&!i.$currentTransition&&function(e,t,n){if(h)return;angular.extend(e,{direction:n,active:!0}),angular.extend(s.currentSlide||{},{direction:n,active:!1}),r.enabled()&&!i.noTransition&&!i.$currentTransition&&e.$element&&1<s.slides.length&&(e.$element.data(u,e.direction),s.currentSlide&&s.currentSlide.$element&&s.currentSlide.$element.data(u,e.direction),i.$currentTransition=!0,c?r.on("addClass",e.$element,function(e,t){"close"===t&&(i.$currentTransition=null,r.off("addClass",e))}):e.$element.one("$animate:close",function(){i.$currentTransition=null}));s.currentSlide=e,d=t,f()}(e,n,t)},i.$on("$destroy",function(){h=!0}),s.getCurrentIndex=function(){return s.currentSlide&&angular.isDefined(s.currentSlide.index)?+s.currentSlide.index:d},i.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:l.indexOf(e)},i.next=function(){var e=(s.getCurrentIndex()+1)%l.length;if(0!==e||!i.noWrap())return s.select(p(e),"next");i.pause()},i.prev=function(){var e=s.getCurrentIndex()-1<0?l.length-1:s.getCurrentIndex()-1;if(!i.noWrap()||e!==l.length-1)return s.select(p(e),"prev");i.pause()},i.isActive=function(e){return s.currentSlide===e},i.$watch("interval",f),i.$on("$destroy",g),i.play=function(){a||(a=!0,f())},i.pause=function(){i.noPause||(a=!1,g())},s.addSlide=function(e,t){e.$element=t,l.push(e),1===l.length||e.active?(s.select(l[l.length-1]),1==l.length&&i.play()):e.active=!1},s.removeSlide=function(e){angular.isDefined(e.index)&&l.sort(function(e,t){return+e.index>+t.index});var t=l.indexOf(e);l.splice(t,1),0<l.length&&e.active?t>=l.length?s.select(l[t-1]):s.select(l[t]):t<d&&d--,0===l.length&&(s.currentSlide=null)},i.$watch("noTransition",function(e){t.data("uib-noTransition",e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(t,e,n,i){i.addSlide(t,e),t.$on("$destroy",function(){i.removeSlide(t)}),t.$watch("active",function(e){e&&i.select(t)})}}}).animation(".item",["$injector","$animate",function(e,s){var l="uib-noTransition",c="uib-slideDirection",u=null;function d(e,t,n){e.removeClass(t),n&&n()}return e.has("$animateCss")&&(u=e.get("$animateCss")),{beforeAddClass:function(e,t,n){if("active"==t&&e.parent()&&!e.parent().data(l)){var i=!1,r=e.data(c),o="next"==r?"left":"right",a=d.bind(this,e,o+" "+r,n);return e.addClass(r),u?u(e,{addClass:o}).start().done(a):s.addClass(e,o).then(function(){i||a(),n()}),function(){i=!0}}n()},beforeRemoveClass:function(e,t,n){if("active"===t&&e.parent()&&!e.parent().data(l)){var i=!1,r="next"==e.data(c)?"left":"right",o=d.bind(this,e,r,n);return u?u(e,{addClass:r}).start().done(o):s.addClass(e,r).then(function(){i||o(),n()}),function(){i=!0}}n()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(g,m,v){var y=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var b={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:m.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=m.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:m.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=m.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:m.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:m.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:m.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(e,t,n){if(!angular.isString(e)||!t)return e;var o,a,s;t=(t=m.DATETIME_FORMATS[t]||t).replace(y,"\\$&"),this.parsers[t]||(this.parsers[t]=(a=[],s=(o=t).split(""),angular.forEach(b,function(e,t){var n=o.indexOf(t);if(-1<n){o=o.split(""),s[n]="("+e.regex+")",o[n]="$";for(var i=n+1,r=n+t.length;i<r;i++)s[i]="",o[i]="$";o=o.join(""),a.push({index:n,apply:e.apply})}}),{regex:new RegExp("^"+s.join("")+"$"),map:v(a,"index")}));var i=this.parsers[t],r=i.regex,l=i.map,c=e.match(r);if(c&&c.length){var u,d;angular.isDate(n)&&!isNaN(n.getTime())?u={year:n.getFullYear(),month:n.getMonth(),date:n.getDate(),hours:n.getHours(),minutes:n.getMinutes(),seconds:n.getSeconds(),milliseconds:n.getMilliseconds()}:(n&&g.warn("dateparser:","baseDate is not a valid date"),u={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var h=1,p=c.length;h<p;h++){var f=l[h-1];f.apply&&f.apply.call(u,c[h])}return function(e,t,n){if(n<1)return!1;if(1===t&&28<n)return 29===n&&(e%4==0&&e%100!=0||e%400==0);return 3!==t&&5!==t&&8!==t&&10!==t||n<31}(u.year,u.month,u.date)&&(d=new Date(u.year,u.month,u.date,u.hours,u.minutes,u.seconds,u.milliseconds||0)),d}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(o,i){function a(e){return"static"===(n="position",((t=e).currentStyle?t.currentStyle[n]:i.getComputedStyle?i.getComputedStyle(t)[n]:t.style[n])||"static");var t,n}return{position:function(e){var t=this.offset(e),n={top:0,left:0},i=function(e){for(var t=o[0],n=e.offsetParent||t;n&&n!==t&&a(n);)n=n.offsetParent;return n||t}(e[0]);i!=o[0]&&((n=this.offset(angular.element(i))).top+=i.clientTop-i.scrollTop,n.left+=i.clientLeft-i.scrollLeft);var r=e[0].getBoundingClientRect();return{width:r.width||e.prop("offsetWidth"),height:r.height||e.prop("offsetHeight"),top:t.top-n.top,left:t.left-n.left}},offset:function(e){var t=e[0].getBoundingClientRect();return{width:t.width||e.prop("offsetWidth"),height:t.height||e.prop("offsetHeight"),top:t.top+(i.pageYOffset||o[0].documentElement.scrollTop),left:t.left+(i.pageXOffset||o[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,i){var r,o,a,s,l=n.split("-"),c=l[0],u=l[1]||"center";r=i?this.offset(e):this.position(e),o=t.prop("offsetWidth"),a=t.prop("offsetHeight");var d={center:function(){return r.left+r.width/2-o/2},left:function(){return r.left},right:function(){return r.left+r.width}},h={center:function(){return r.top+r.height/2-a/2},top:function(){return r.top},bottom:function(){return r.top+r.height}};switch(c){case"right":s={top:h[u](),left:d[c]()};break;case"left":s={top:h[u](),left:r.left-o};break;case"bottom":s={top:h[c](),left:d[u]()};break;default:s={top:r.top-a,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(n,i,e,r,t,o,a,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(e,t){l[e]=angular.isDefined(i[e])?t<6?r(i[e])(n.$parent):n.$parent.$eval(i[e]):a[e]}),angular.forEach(["minDate","maxDate"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){l[t]=e?new Date(e):null,l.refreshView()}):l[t]=a[t]?new Date(a[t]):null}),angular.forEach(["minMode","maxMode"],function(t){i[t]?n.$parent.$watch(e(i[t]),function(e){l[t]=angular.isDefined(e)?e:i[t],n[t]=l[t],("minMode"==t&&l.modes.indexOf(n.datepickerMode)<l.modes.indexOf(l[t])||"maxMode"==t&&l.modes.indexOf(n.datepickerMode)>l.modes.indexOf(l[t]))&&(n.datepickerMode=l[t])}):(l[t]=a[t]||null,n[t]=l[t])}),n.datepickerMode=n.datepickerMode||a.datepickerMode,n.uniqueId="datepicker-"+n.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(i.initDate)?(this.activeDate=n.$parent.$eval(i.initDate)||new Date,n.$parent.$watch(i.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())})):this.activeDate=new Date,n.isActive=function(e){return 0===l.compare(e.date,l.activeDate)&&(n.activeDateId=e.uid,!0)},this.init=function(e){(c=e).$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue);!isNaN(e)?this.activeDate=e:s||t.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(e){return this.minDate&&this.compare(e,this.minDate)<0||this.maxDate&&0<this.compare(e,this.maxDate)||i.dateDisabled&&n.dateDisabled({date:e,mode:n.datepickerMode})},this.customClass=function(e){return n.customClass({date:e,mode:n.datepickerMode})},this.split=function(e,t){for(var n=[];0<e.length;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},n.select=function(e){if(n.datepickerMode===l.minMode){var t=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),c.$setViewValue(t),c.$render()}else l.activeDate=e,n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)-1]},n.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},n.toggleMode=function(e){e=e||1,n.datepickerMode===l.maxMode&&1===e||n.datepickerMode===l.minMode&&-1===e||(n.datepickerMode=l.modes[l.modes.indexOf(n.datepickerMode)+e])},n.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};n.$on("datepicker.focus",u),n.keydown=function(e){var t=n.keys[e.which];if(t&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),l.shortcutPropagation||e.stopPropagation(),"enter"===t||"space"===t){if(l.isDisabled(l.activeDate))return;n.select(l.activeDate),u()}else!e.ctrlKey||"up"!==t&&"down"!==t?(l.handleKeyDown(t,e),l.refreshView()):(n.toggleMode("up"===t?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}).directive("daypicker",["dateFilter",function(g){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(h,e,t,p){h.showWeeks=p.showWeeks,p.step={months:1},p.element=e;var n=[31,28,31,30,31,30,31,31,30,31,30,31];function r(e,t){return 1!==t||e%4!=0||e%100==0&&e%400!=0?n[t]:29}function f(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}p._refreshView=function(){var e=p.activeDate.getFullYear(),t=p.activeDate.getMonth(),n=new Date(e,t,1),i=p.startingDay-n.getDay(),r=0<i?7-i:-i,o=new Date(n);0<r&&o.setDate(1-r);for(var a=function(e,t){for(var n,i=new Array(t),r=new Date(e),o=0;o<t;)n=new Date(r),p.fixTimeZone(n),i[o++]=n,r.setDate(r.getDate()+1);return i}(o,42),s=0;s<42;s++)a[s]=angular.extend(p.createDateObject(a[s],p.formatDay),{secondary:a[s].getMonth()!==t,uid:h.uniqueId+"-"+s});h.labels=new Array(7);for(var l=0;l<7;l++)h.labels[l]={abbr:g(a[l].date,p.formatDayHeader),full:g(a[l].date,"EEEE")};if(h.title=g(p.activeDate,p.formatDayTitle),h.rows=p.split(a,7),h.showWeeks){h.weekNumbers=[];for(var c=(11-p.startingDay)%7,u=h.rows.length,d=0;d<u;d++)h.weekNumbers.push(f(h.rows[d][c].date))}},p.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},p.handleKeyDown=function(e,t){var n=p.activeDate.getDate();if("left"===e)n-=1;else if("up"===e)n-=7;else if("right"===e)n+=1;else if("down"===e)n+=7;else if("pageup"===e||"pagedown"===e){var i=p.activeDate.getMonth()+("pageup"===e?-1:1);p.activeDate.setMonth(i,1),n=Math.min(r(p.activeDate.getFullYear(),p.activeDate.getMonth()),n)}else"home"===e?n=1:"end"===e&&(n=r(p.activeDate.getFullYear(),p.activeDate.getMonth()));p.activeDate.setDate(n)},p.refreshView()}}}]).directive("monthpicker",["dateFilter",function(a){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(r,e,t,o){o.step={years:1},o.element=e,o._refreshView=function(){for(var e,t=new Array(12),n=o.activeDate.getFullYear(),i=0;i<12;i++)e=new Date(n,i,1),o.fixTimeZone(e),t[i]=angular.extend(o.createDateObject(e,o.formatMonth),{uid:r.uniqueId+"-"+i});r.title=a(o.activeDate,o.formatMonthTitle),r.rows=o.split(t,3)},o.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},o.handleKeyDown=function(e,t){var n=o.activeDate.getMonth();if("left"===e)n-=1;else if("up"===e)n-=3;else if("right"===e)n+=1;else if("down"===e)n+=3;else if("pageup"===e||"pagedown"===e){var i=o.activeDate.getFullYear()+("pageup"===e?-1:1);o.activeDate.setFullYear(i)}else"home"===e?n=0:"end"===e&&(n=11);o.activeDate.setMonth(n)},o.refreshView()}}}]).directive("yearpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(r,e,t,o){var a=o.yearRange;function s(e){return parseInt((e-1)/a,10)*a+1}o.step={years:a},o.element=e,o._refreshView=function(){for(var e,t=new Array(a),n=0,i=s(o.activeDate.getFullYear());n<a;n++)e=new Date(i+n,0,1),o.fixTimeZone(e),t[n]=angular.extend(o.createDateObject(e,o.formatYear),{uid:r.uniqueId+"-"+n});r.title=[t[0].label,t[a-1].label].join(" - "),r.rows=o.split(t,5)},o.compare=function(e,t){return e.getFullYear()-t.getFullYear()},o.handleKeyDown=function(e,t){var n=o.activeDate.getFullYear();"left"===e?n-=1:"up"===e?n-=5:"right"===e?n+=1:"down"===e?n+=5:"pageup"===e||"pagedown"===e?n+=("pageup"===e?-1:1)*o.step.years:"home"===e?n=s(o.activeDate.getFullYear()):"end"===e&&(n=s(o.activeDate.getFullYear())+a-1),o.activeDate.setFullYear(n)},o.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(b,w,x,C,S,k,_,T,D){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(i,n,r,o){var a,s=angular.isDefined(r.closeOnDateSelection)?i.$parent.$eval(r.closeOnDateSelection):T.closeOnDateSelection,t=angular.isDefined(r.datepickerAppendToBody)?i.$parent.$eval(r.datepickerAppendToBody):T.appendToBody,l=angular.isDefined(r.onOpenFocus)?i.$parent.$eval(r.onOpenFocus):T.onOpenFocus,e=angular.isDefined(r.datepickerPopupTemplateUrl)?r.datepickerPopupTemplateUrl:T.datepickerPopupTemplateUrl,c=angular.isDefined(r.datepickerTemplateUrl)?r.datepickerTemplateUrl:T.datepickerTemplateUrl,u={};i.showButtonBar=angular.isDefined(r.showButtonBar)?i.$parent.$eval(r.showButtonBar):T.showButtonBar,i.getText=function(e){return i[e+"Text"]||T[e+"Text"]},i.isDisabled=function(e){return"today"===e&&(e=new Date),i.watchData.minDate&&i.compare(e,u.minDate)<0||i.watchData.maxDate&&0<i.compare(e,u.maxDate)};var d=!(i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())});if(T.html5Types[r.type]?(a=T.html5Types[r.type],d=!0):(a=r.datepickerPopup||T.datepickerPopup,r.$observe("datepickerPopup",function(e,t){var n=e||T.datepickerPopup;if(n!==a&&(a=n,o.$modelValue=null,!a))throw new Error("datepickerPopup must have a date format specified.")})),!a)throw new Error("datepickerPopup must have a date format specified.");if(d&&r.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var h=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");function p(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}h.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":e});var f=angular.element(h.children()[0]);if(f.attr("template-url",c),d&&"month"===r.type&&(f.attr("datepicker-mode",'"month"'),f.attr("min-mode","month")),r.datepickerOptions){var g=i.$parent.$eval(r.datepickerOptions);g&&g.initDate&&(i.initDate=g.initDate,f.attr("init-date","initDate"),delete g.initDate),angular.forEach(g,function(e,t){f.attr(p(t),e)})}i.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(t){if(r[t]){var e=w(r[t]);if(i.$parent.$watch(e,function(e){i.watchData[t]=e,"minDate"!==t&&"maxDate"!==t||(u[t]=new Date(e))}),f.attr(p(t),"watchData."+t),"datepickerMode"===t){var n=e.assign;i.$watch("watchData."+t,function(e,t){angular.isFunction(n)&&e!==t&&n(i.$parent,e)})}}}),r.dateDisabled&&f.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),r.showWeeks&&f.attr("show-weeks",r.showWeeks),r.customClass&&f.attr("custom-class","customClass({ date: date, mode: mode })"),d?o.$formatters.push(function(e){return i.date=e}):(o.$$parserName="date",o.$validators.date=function(e,t){var n=e||t;if(!r.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var i=_.parse(n,a);return!isNaN(i)}return!1}return!0},o.$parsers.unshift(function(e){if(angular.isNumber(e)&&(e=new Date(e)),!e)return null;if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=_.parse(e,a,i.date);return isNaN(t)?void 0:t}}),o.$formatters.push(function(e){return i.date=e,o.$isEmpty(e)?e:k(e,a)})),i.dateSelection=function(e){angular.isDefined(e)&&(i.date=e);var t=i.date?k(i.date,a):null;n.val(t),o.$setViewValue(t),s&&(i.isOpen=!1,n[0].focus())},o.$viewChangeListeners.push(function(){i.date=_.parse(o.$viewValue,a,i.date)});var m=function(e){!i.isOpen||n[0].contains(e.target)||h[0].contains(e.target)||i.$apply(function(){i.isOpen=!1})},v=function(e){27===e.which&&i.isOpen?(e.preventDefault(),e.stopPropagation(),i.$apply(function(){i.isOpen=!1}),n[0].focus()):40!==e.which||i.isOpen||(e.preventDefault(),e.stopPropagation(),i.$apply(function(){i.isOpen=!0}))};n.bind("keydown",v),i.keydown=function(e){27===e.which&&(i.isOpen=!1,n[0].focus())},i.$watch("isOpen",function(e){e?(i.position=t?S.offset(n):S.position(n),i.position.top=i.position.top+n.prop("offsetHeight"),D(function(){l&&i.$broadcast("datepicker.focus"),x.bind("click",m)},0,!1)):x.unbind("click",m)}),i.select=function(e){if("today"===e){var t=new Date;angular.isDate(i.date)?(e=new Date(i.date)).setFullYear(t.getFullYear(),t.getMonth(),t.getDate()):e=new Date(t.setHours(0,0,0,0))}i.dateSelection(e)},i.close=function(){i.isOpen=!1,n[0].focus()};var y=b(h)(i);h.remove(),t?x.find("body").append(y):n.after(y),i.$on("$destroy",function(){!0===i.isOpen&&(C.$$phase||i.$apply(function(){i.isOpen=!1})),y.remove(),n.unbind("keydown",v),x.unbind("click",m)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(t,i){var r=null;this.open=function(e){r||(t.bind("click",n),t.bind("keydown",o)),r&&r!==e&&(r.isOpen=!1),r=e},this.close=function(e){r===e&&(r=null,t.unbind("click",n),t.unbind("keydown",o))};var n=function(e){if(r&&(!e||"disabled"!==r.getAutoClose())){var t=r.getToggleElement();if(!(e&&t&&t[0].contains(e.target))){var n=r.getDropdownElement();e&&"outsideClick"===r.getAutoClose()&&n&&n[0].contains(e.target)||(r.isOpen=!1,i.$$phase||r.$apply())}}},o=function(e){27===e.which?(r.focusToggleElement(),n()):r.isKeynavEnabled()&&/(38|40)/.test(e.which)&&r.isOpen&&(e.preventDefault(),e.stopPropagation(),r.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(a,t,n,e,s,l,c,i,u,d){var h,r,p=this,f=a.$new(),g=e.openClass,m=angular.noop,v=t.onToggle?n(t.onToggle):angular.noop,y=!1,o=!1,b=i.find("body");this.init=function(e){p.$element=e,t.isOpen&&(r=n(t.isOpen),m=r.assign,a.$watch(r,function(e){f.isOpen=!!e})),y=angular.isDefined(t.dropdownAppendToBody),o=angular.isDefined(t.keyboardNav),y&&p.dropdownMenu&&(b.append(p.dropdownMenu),b.addClass("dropdown"),e.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return o},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:angular.isNumber(p.selectedOption)?p.selectedOption=p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:p.selectedOption=0;break;case 38:angular.isNumber(p.selectedOption)?p.selectedOption=0===p.selectedOption?0:p.selectedOption-1:p.selectedOption=t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(e,t){if(y&&p.dropdownMenu){var n=c.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),i={top:n.top+"px",display:e?"block":"none"};p.dropdownMenu.hasClass("dropdown-menu-right")?(i.left="auto",i.right=window.innerWidth-(n.left+p.$element.prop("offsetWidth"))+"px"):(i.left=n.left+"px",i.right="auto"),p.dropdownMenu.css(i)}var r=y?b:p.$element;if(l[e?"addClass":"removeClass"](r,g).then(function(){angular.isDefined(e)&&e!==t&&v(a,{open:!!e})}),e)p.dropdownMenuTemplateUrl&&d(p.dropdownMenuTemplateUrl).then(function(e){h=f.$new(),u(e.trim())(h,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),s.open(f);else{if(p.dropdownMenuTemplateUrl){h&&h.$destroy();var o=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith(o),p.dropdownMenu=o}s.close(f),p.selectedOption=null}angular.isFunction(m)&&m(a,e)}),a.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var w=a.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",w)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,i){i.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,i){if(i){var r=n.templateUrl;r&&(i.dropdownMenuTemplateUrl=r),i.dropdownMenu||(i.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,i){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=i.dropdownMenu.find("a");switch(e.which){case 40:angular.isNumber(i.selectedOption)?i.selectedOption=i.selectedOption===t.length-1?i.selectedOption:i.selectedOption+1:i.selectedOption=0;break;case 38:angular.isNumber(i.selectedOption)?i.selectedOption=0===i.selectedOption?0:i.selectedOption-1:i.selectedOption=t.length-1}t[i.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,n,i,r){if(r){n.addClass("dropdown-toggle"),r.toggleElement=n;var e=function(e){e.preventDefault(),n.hasClass("disabled")||i.disabled||t.$apply(function(){r.toggle()})};n.bind("click",e),n.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(e){n.attr("aria-expanded",!!e)}),t.$on("$destroy",function(){n.unbind("click",e)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var i=[];return{add:function(e,t){i.push({key:e,value:t})},get:function(e){for(var t=0;t<i.length;t++)if(e==i[t].key)return i[t]},keys:function(){for(var e=[],t=0;t<i.length;t++)e.push(i[t].key);return e},top:function(){return i[i.length-1]},remove:function(e){for(var t=-1,n=0;n<i.length;n++)if(e==i[n].key){t=n;break}return i.splice(t,1)[0]},removeTop:function(){return i.splice(i.length-1,1)[0]},length:function(){return i.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var r={};return{entries:function(){return Object.keys(r).map(function(e){return{key:e,value:r[e]}})},get:function(e){return r[e]},hasKey:function(e){return!!r[e]},keys:function(){return Object.keys(r)},put:function(e,t){r[e]||(r[e]=[]),r[e].push(t)},remove:function(e,t){var n=r[e];if(n){var i=n.indexOf(t);-1!==i&&n.splice(i,1),n.length||delete r[e]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(o,e,t){var a=null;return e.has("$animateCss")&&(a=e.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),n}};function n(e,i,r){r.modalInClass&&(a?a(i,{addClass:r.modalInClass}).start():o.addClass(i,r.modalInClass),e.$on(t.NOW_CLOSING_EVENT,function(e,t){var n=t();a?a(i,{removeClass:r.modalInClass}).start().then(n):o.removeClass(i,r.modalInClass).then(n)}))}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(o,a,s,e){var l=null;return e.has("$animateCss")&&(l=e.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(n,i,r){i.addClass(r.windowClass||""),n.size=r.size,n.close=function(e){var t=o.getTop();t&&t.value.backdrop&&"static"!==t.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),o.dismiss(t.key,"backdrop click"))},n.$isRendered=!0;var t=a.defer();r.$observe("modalRender",function(e){"true"==e&&t.resolve()}),t.promise.then(function(){var e=null;r.modalInClass&&(e=l?l(i,{addClass:r.modalInClass}).start():s.addClass(i,r.modalInClass),n.$on(o.NOW_CLOSING_EVENT,function(e,t){var n=t();l?l(i,{removeClass:r.modalInClass}).start().then(n):s.removeClass(i,r.modalInClass).then(n)})),a.when(e).then(function(){var e=i[0].querySelectorAll("[autofocus]");e.length?e[0].focus():i[0].focus()});var t=o.getTop();t&&o.modalRendered(t.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,i,r){r(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(o,e,c,u,d,a,t,n,i){var s=null;t.has("$animateCss")&&(s=t.get("$animateCss"));var h,p,r,f="modal-open",g=i.createNew(),m=n.createNew(),v={NOW_CLOSING_EVENT:"modal.stack.now-closing"};function y(){for(var e=-1,t=g.keys(),n=0;n<t.length;n++)g.get(t[n]).value.backdrop&&(e=n);return e}function l(t,e){var n=c.find("body").eq(0),i=g.get(t).value;g.remove(t),b(i.modalDomEl,i.modalScope,function(){var e=i.openedClass||f;m.remove(e,t),n.toggleClass(e,m.hasKey(e))}),function(){if(h&&-1==y()){b(h,p,function(){null}),p=h=void 0}}(),e&&e.focus?e.focus():n.focus()}function b(t,n,i){var e,r=null;return n.$broadcast(v.NOW_CLOSING_EVENT,function(){return e||(e=a.defer(),r=e.promise),function(){e.resolve()}}),a.when(r).then(function e(){if(e.done)return;e.done=!0;s?s(t,{event:"leave"}).start().then(function(){t.remove()}):o.leave(t);n.$destroy();i&&i()})}function w(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}return d.$watch(y,function(e){p&&(p.index=e)}),c.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=g.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),d.$apply(function(){v.dismiss(t.key,"escape key press")});break;case 9:v.loadFocusElementList(t);var n=!1;e.shiftKey?v.isFocusInFirstItem(e)&&(n=v.focusLastFocusableElement()):v.isFocusInLastItem(e)&&(n=v.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),v.open=function(e,t){var n=c[0].activeElement,i=t.openedClass||f;g.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),m.put(i,e);var r=c.find("body").eq(0),o=y();if(0<=o&&!h){(p=d.$new(!0)).index=o;var a=angular.element('<div modal-backdrop="modal-backdrop"></div>');a.attr("backdrop-class",t.backdropClass),t.animation&&a.attr("modal-animation","true"),h=u(a)(p),r.append(h)}var s=angular.element('<div modal-window="modal-window"></div>');s.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:g.length()-1,animate:"animate"}).html(t.content),t.animation&&s.attr("modal-animation","true");var l=u(s)(t.scope);g.top().value.modalDomEl=l,g.top().value.modalOpener=n,r.append(l),r.addClass(i),v.clearFocusListCache()},v.close=function(e,t){var n=g.get(e);return n&&w(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),l(e,n.value.modalOpener),!0):!n},v.dismiss=function(e,t){var n=g.get(e);return n&&w(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),l(e,n.value.modalOpener),!0):!n},v.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},v.getTop=function(){return g.top()},v.modalRendered=function(e){var t=g.get(e);t&&t.value.renderDeferred.resolve()},v.focusFirstFocusableElement=function(){return 0<r.length&&(r[0].focus(),!0)},v.focusLastFocusableElement=function(){return 0<r.length&&(r[r.length-1].focus(),!0)},v.isFocusInFirstItem=function(e){return 0<r.length&&(e.target||e.srcElement)==r[0]},v.isFocusInLastItem=function(e){return 0<r.length&&(e.target||e.srcElement)==r[r.length-1]},v.clearFocusListCache=function(){r=[],0},v.loadFocusElementList=function(e){if((void 0===r||!r.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(r=t[0].querySelectorAll("a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]"))}},v}]).provider("$modal",function(){var v={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(u,d,h,p,f,g){var e={};var m=null;return e.getPromiseChain=function(){return m},e.open=function(o){var a=h.defer(),s=h.defer(),l=h.defer(),c={result:a.promise,opened:s.promise,rendered:l.promise,close:function(e){return g.close(c,e)},dismiss:function(e){return g.dismiss(c,e)}};if((o=angular.extend({},v.options,o)).resolve=o.resolve||{},!o.template&&!o.templateUrl)throw new Error("One of template or templateUrl options is required.");var e,t,n,i,r=h.all([(n=o,n.template?h.when(n.template):p(angular.isFunction(n.templateUrl)?n.templateUrl():n.templateUrl))].concat((e=o.resolve,t=[],angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?t.push(h.when(u.invoke(e))):angular.isString(e)?t.push(h.when(u.get(e))):t.push(h.when(e))}),t)));return i=m=h.all([m]).then(function(){return r},function(){return r}).then(function(n){var e=(o.scope||d).$new();e.$close=c.close,e.$dismiss=c.dismiss,e.$on("$destroy",function(){e.$$uibDestructionScheduled||e.$dismiss("$uibUnscheduledDestruction")});var t,i={},r=1;o.controller&&(i.$scope=e,i.$modalInstance=c,angular.forEach(o.resolve,function(e,t){i[t]=n[r++]}),t=f(o.controller,i),o.controllerAs&&(o.bindToController&&angular.extend(t,e),e[o.controllerAs]=t)),g.open(c,{scope:e,deferred:a,renderDeferred:l,content:n[0],animation:o.animation,backdrop:o.backdrop,keyboard:o.keyboard,backdropClass:o.backdropClass,windowClass:o.windowClass,windowTemplateUrl:o.windowTemplateUrl,size:o.size,openedClass:o.openedClass}),s.resolve(!0)},function(e){s.reject(e),a.reject(e)}).finally(function(){m===i&&(m=null)}),c},e}]};return v}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(n,i,r){var o=this,a={$setViewValue:angular.noop},s=i.numPages?r(i.numPages).assign:angular.noop;this.init=function(e,t){a=e,this.config=t,a.$render=function(){o.render()},i.itemsPerPage?n.$parent.$watch(r(i.itemsPerPage),function(e){o.itemsPerPage=parseInt(e,10),n.totalPages=o.calculateTotalPages()}):this.itemsPerPage=t.itemsPerPage,n.$watch("totalItems",function(){n.totalPages=o.calculateTotalPages()}),n.$watch("totalPages",function(e){s(n.$parent,e),n.page>e?n.selectPage(e):a.$render()})},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(n.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){n.page=parseInt(a.$viewValue,10)||1},n.selectPage=function(e,t){t&&t.preventDefault(),(!n.ngDisabled||!t)&&n.page!==e&&0<e&&e<=n.totalPages&&(t&&t.target&&t.target.blur(),a.$setViewValue(e),a.$render())},n.getText=function(e){return n[e+"Text"]||o.config[e+"Text"]},n.noPrevious=function(){return 1===n.page},n.noNext=function(){return n.page===n.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(s,l){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];if(o){var u=angular.isDefined(n.maxSize)?e.$parent.$eval(n.maxSize):l.maxSize,d=angular.isDefined(n.rotate)?e.$parent.$eval(n.rotate):l.rotate;e.boundaryLinks=angular.isDefined(n.boundaryLinks)?e.$parent.$eval(n.boundaryLinks):l.boundaryLinks,e.directionLinks=angular.isDefined(n.directionLinks)?e.$parent.$eval(n.directionLinks):l.directionLinks,r.init(o,l),n.maxSize&&e.$parent.$watch(s(n.maxSize),function(e){u=parseInt(e,10),r.render()});var a=r.render;r.render=function(){a(),0<e.page&&e.page<=e.totalPages&&(e.pages=function(e,t){var n=[],i=1,r=t,o=angular.isDefined(u)&&u<t;o&&(d?t<(r=(i=Math.max(e-Math.floor(u/2),1))+u-1)&&(i=(r=t)-u+1):(i=(Math.ceil(e/u)-1)*u+1,r=Math.min(i+u-1,t)));for(var a=i;a<=r;a++){var s=h(a,a,a===e);n.push(s)}if(o&&!d){if(1<i){var l=h(i-1,"...",!1);n.unshift(l)}if(r<t){var c=h(r+1,"...",!1);n.push(c)}}return n}(e.page,e.totalPages))}}function h(e,t,n){return{number:e,text:t,active:n}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];o&&(e.align=angular.isDefined(n.align)?e.$parent.$eval(n.align):a.align,r.init(o,a))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){var s={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},l={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},c={};this.options=function(e){angular.extend(c,e)},this.setTriggers=function(e){angular.extend(l,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(e,o,$,M,O,a,N,L){return function(A,E,i,I){function P(e){var t=(e||I.trigger||i).split(" "),n=t.map(function(e){return l[e]||e});return{show:t,hide:n}}I=angular.extend({},s,c,I);var e=A.replace(/[A-Z]/g,function(e,t){return(t?"-":"")+e.toLowerCase()}),t=a.startSymbol(),n=a.endSymbol(),r="<div "+e+'-popup title="'+t+"title"+n+'" '+(I.useContentExp?'content-exp="contentExp()" ':'content="'+t+"content"+n+'" ')+'placement="'+t+"placement"+n+'" popup-class="'+t+"popupClass"+n+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(e,t){var D=o(r);return function(n,i,r,e){var o,t,a,s,l,c=!!angular.isDefined(I.appendToBody)&&I.appendToBody,u=P(void 0),d=angular.isDefined(r[E+"Enable"]),h=n.$new(!0),p=!1,f=!!angular.isDefined(r[E+"IsOpen"])&&L(r[E+"IsOpen"]),g=function(){o&&(l||(l=$(function(){o.css({top:0,left:0,width:"auto",height:"auto"});var e=O.position(o),t=O.positionElements(i,o,h.placement,c);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",o.css(t),l=null},0,!1)))};function m(){h.isOpen?y():v()}function v(){var e,t;d&&!n.$eval(r[E+"Enable"])||(h.popupClass=r[E+"Class"],C(),e=r[E+"PopupDelay"],t=parseInt(e,10),h.popupDelay=isNaN(t)?I.popupDelay:t,h.popupDelay?s||(s=$(b,h.popupDelay,!1)):b())}function y(){w(),N.$$phase||N.$digest()}function b(){if(s=null,a&&($.cancel(a),a=null),!(I.useContentExp?h.contentExp():h.content))return angular.noop;!function(){o&&x();t=h.$new(),o=D(t,function(e){c?M.find("body").append(e):i.after(e)}),I.useContentExp&&(t.$watch("contentExp()",function(e){!e&&h.isOpen&&w()}),t.$watch(function(){p||(p=!0,t.$$postDigest(function(){p=!1,h.isOpen&&g()}))}))}(),h.isOpen=!0,f&&f.assign(h.origScope,h.isOpen),N.$$phase||h.$apply(),o.css({display:"block"}),g()}function w(){h.isOpen=!1,f&&f.assign(h.origScope,h.isOpen),$.cancel(s),s=null,$.cancel(l),l=null,h.animation?a||(a=$(x,500)):x()}function x(){a=null,o&&(o.remove(),o=null),t&&(t.$destroy(),t=null)}function C(){var e=r[E+"Placement"];h.placement=angular.isDefined(e)?e:I.placement}h.origScope=n,h.isOpen=!1,h.contentExp=function(){return n.$eval(r[A])},I.useContentExp||r.$observe(A,function(e){!(h.content=e)&&h.isOpen?w():g()}),r.$observe("disabled",function(e){s&&e&&($.cancel(s),s=null),e&&h.isOpen&&w()}),r.$observe(E+"Title",function(e){h.title=e,g()}),r.$observe(E+"Placement",function(){h.isOpen&&(C(),g())}),f&&n.$watch(f,function(e){e!==h.isOpen&&m()});var S,k=function(){u.show.forEach(function(e){i.unbind(e,v)}),u.hide.forEach(function(e){i.unbind(e,y)})};S=r[E+"Trigger"],k(),"none"!==(u=P(S)).show&&u.show.forEach(function(e,t){e===u.hide[t]?i[0].addEventListener(e,m):e&&(i[0].addEventListener(e,v),i[0].addEventListener(u.hide[t],y))});var _=n.$eval(r[E+"Animation"]);h.animation=angular.isDefined(_)?!!_:I.animation;var T=n.$eval(r[E+"AppendToBody"]);(c=angular.isDefined(T)?T:c)&&n.$on("$locationChangeSuccess",function(){h.isOpen&&w()}),n.$on("$destroy",function(){$.cancel(a),$.cancel(s),$.cancel(l),k(),x(),h=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(d,i,h,p){return{link:function(e,o,t){var a,n,s,l=e.$eval(t.tooltipTemplateTranscludeScope),c=0,u=function(){n&&(n.remove(),n=null),a&&(a.$destroy(),a=null),s&&(d.leave(s).then(function(){n=null}),n=s,s=null)};e.$watch(i.parseAsResourceUrl(t.tooltipTemplateTransclude),function(i){var r=++c;i?(p(i,!0).then(function(e){if(r===c){var t=l.$new(),n=h(e)(t,function(e){u(),d.enter(e,o)});s=n,(a=t).$emit("$includeContentLoaded",i)}},function(){r===c&&(u(),e.$emit("$includeContentError",i))}),e.$emit("$includeContentRequested",i)):u()}),e.$on("$destroy",u)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(n,e,t){var i=this,r=angular.isDefined(e.animate)?n.$parent.$eval(e.animate):t.animate;this.bars=[],n.max=angular.isDefined(n.max)?n.max:t.max,this.addBar=function(t,e){r||e.css({transition:"none"}),this.bars.push(t),t.max=n.max,t.$watch("value",function(e){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=i.bars.reduce(function(e,t){return e+t.percent},0);100<e&&(t.percent-=e-100)},t.$on("$destroy",function(){e=null,i.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},n.$watch("max",function(e){i.bars.forEach(function(e){e.max=n.max,e.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){i.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(r,o){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,i){o&&r.warn("bar is now deprecated. Use uib-bar instead"),i.addBar(e,t)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,i){i.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(i,r,o){var a={$setViewValue:angular.noop};this.init=function(e){(a=e).$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(r.stateOn)?i.$parent.$eval(r.stateOn):o.stateOn,this.stateOff=angular.isDefined(r.stateOff)?i.$parent.$eval(r.stateOff):o.stateOff;var t=angular.isDefined(r.titles)?i.$parent.$eval(r.titles):o.titles;this.titles=angular.isArray(t)&&0<t.length?t:o.titles;var n=angular.isDefined(r.ratingStates)?i.$parent.$eval(r.ratingStates):new Array(angular.isDefined(r.max)?i.$parent.$eval(r.max):o.max);i.range=this.buildTemplateObjects(n)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;t<n;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},i.rate=function(e){!i.readonly&&0<=e&&e<=i.range.length&&(a.$setViewValue(a.$viewValue===e?0:e),a.$render())},i.enter=function(e){i.readonly||(i.value=e),i.onHover({value:e})},i.reset=function(){i.value=a.$viewValue,i.onLeave()},i.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),i.rate(i.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){i.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,i){var r=i[0],o=i[1];r.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var i,r=this,o=r.tabs=e.tabs=[];r.select=function(t){angular.forEach(o,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect(),t.selectCalled=!1)}),t.active=!0,t.selectCalled||(t.onSelect(),t.selectCalled=!0)},r.addTab=function(e){o.push(e),1===o.length&&!1!==e.active?e.active=!0:e.active?r.select(e):e.active=!1},r.removeTab=function(e){var t=o.indexOf(e);if(e.active&&1<o.length&&!i){var n=t==o.length-1?t-1:t+1;r.select(o[n])}o.splice(t,1)},e.$on("$destroy",function(){i=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=!!angular.isDefined(n.vertical)&&e.$parent.$eval(n.vertical),e.justified=!!angular.isDefined(n.justified)&&e.$parent.$eval(n.justified)}}}).directive("tab",["$parse","$log",function(o,a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(t,e,n,i,r){t.$watch("active",function(e){e&&i.select(t)}),t.disabled=!1,n.disable&&t.$parent.$watch(o(n.disable),function(e){t.disabled=!!e}),n.disabled&&(a.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),t.$parent.$watch(o(n.disabled),function(e){t.disabled=!!e})),t.select=function(){t.disabled||(t.active=!0)},i.addTab(t),t.$on("$destroy",function(){i.removeTab(t)}),t.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t,n,i){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){return{restrict:"A",require:"^tabset",link:function(e,n,t){var i=e.$eval(t.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){var t;(t=e).tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||t.hasAttribute("x-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase()||"x-tab-heading"===t.tagName.toLowerCase())?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(r,o,e,t,n,a){var i=new Date,s={$setViewValue:angular.noop},l=angular.isDefined(o.meridians)?r.$parent.$eval(o.meridians):a.meridians||n.DATETIME_FORMATS.AMPMS;this.init=function(e,t){(s=e).$render=this.render,s.$formatters.unshift(function(e){return e?new Date(e):null});var n=t.eq(0),i=t.eq(1);(angular.isDefined(o.mousewheel)?r.$parent.$eval(o.mousewheel):a.mousewheel)&&this.setupMousewheelEvents(n,i),(angular.isDefined(o.arrowkeys)?r.$parent.$eval(o.arrowkeys):a.arrowkeys)&&this.setupArrowkeyEvents(n,i),r.readonlyInput=angular.isDefined(o.readonlyInput)?r.$parent.$eval(o.readonlyInput):a.readonlyInput,this.setupInputEvents(n,i)};var c=a.hourStep;o.hourStep&&r.$parent.$watch(e(o.hourStep),function(e){c=parseInt(e,10)});var u,d,h=a.minuteStep;function p(){var e=parseInt(r.hours,10);if(r.showMeridian?0<e&&e<13:0<=e&&e<24)return r.showMeridian&&(12===e&&(e=0),r.meridian===l[1]&&(e+=12)),e}function f(){var e=parseInt(r.minutes,10);return 0<=e&&e<60?e:void 0}function g(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function m(e){v(),s.$setViewValue(new Date(i)),y(e)}function v(){s.$setValidity("time",!0),r.invalidHours=!1,r.invalidMinutes=!1}function y(e){var t=i.getHours(),n=i.getMinutes();r.showMeridian&&(t=0===t||12===t?12:t%12),r.hours="h"===e?t:g(t),"m"!==e&&(r.minutes=g(n)),r.meridian=i.getHours()<12?l[0]:l[1]}function b(e,t){var n=new Date(e.getTime()+6e4*t),i=new Date(e);return i.setHours(n.getHours(),n.getMinutes()),i}function w(e){i=b(i,e),m()}o.minuteStep&&r.$parent.$watch(e(o.minuteStep),function(e){h=parseInt(e,10)}),r.$parent.$watch(e(o.min),function(e){var t=new Date(e);u=isNaN(t)?void 0:t}),r.$parent.$watch(e(o.max),function(e){var t=new Date(e);d=isNaN(t)?void 0:t}),r.noIncrementHours=function(){var e=b(i,60*c);return d<e||e<i&&e<u},r.noDecrementHours=function(){var e=b(i,60*-c);return e<u||i<e&&d<e},r.noIncrementMinutes=function(){var e=b(i,h);return d<e||e<i&&e<u},r.noDecrementMinutes=function(){var e=b(i,-h);return e<u||i<e&&d<e},r.noToggleMeridian=function(){return i.getHours()<13?b(i,720)>d:b(i,-720)<u},r.showMeridian=a.showMeridian,o.showMeridian&&r.$parent.$watch(e(o.showMeridian),function(e){if(r.showMeridian=!!e,s.$error.time){var t=p(),n=f();angular.isDefined(t)&&angular.isDefined(n)&&(i.setHours(t),m())}else y()}),this.setupMousewheelEvents=function(e,t){var n=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||0<t};e.bind("mousewheel wheel",function(e){r.$apply(n(e)?r.incrementHours():r.decrementHours()),e.preventDefault()}),t.bind("mousewheel wheel",function(e){r.$apply(n(e)?r.incrementMinutes():r.decrementMinutes()),e.preventDefault()})},this.setupArrowkeyEvents=function(e,t){e.bind("keydown",function(e){38===e.which?(e.preventDefault(),r.incrementHours(),r.$apply()):40===e.which&&(e.preventDefault(),r.decrementHours(),r.$apply())}),t.bind("keydown",function(e){38===e.which?(e.preventDefault(),r.incrementMinutes(),r.$apply()):40===e.which&&(e.preventDefault(),r.decrementMinutes(),r.$apply())})},this.setupInputEvents=function(e,t){if(r.readonlyInput)return r.updateHours=angular.noop,void(r.updateMinutes=angular.noop);var n=function(e,t){s.$setViewValue(null),s.$setValidity("time",!1),angular.isDefined(e)&&(r.invalidHours=e),angular.isDefined(t)&&(r.invalidMinutes=t)};r.updateHours=function(){var e=p(),t=f();angular.isDefined(e)&&angular.isDefined(t)?(i.setHours(e),i<u||d<i?n(!0):m("h")):n(!0)},e.bind("blur",function(e){!r.invalidHours&&r.hours<10&&r.$apply(function(){r.hours=g(r.hours)})}),r.updateMinutes=function(){var e=f(),t=p();angular.isDefined(e)&&angular.isDefined(t)?(i.setMinutes(e),i<u||d<i?n(void 0,!0):m("m")):n(void 0,!0)},t.bind("blur",function(e){!r.invalidMinutes&&r.minutes<10&&r.$apply(function(){r.minutes=g(r.minutes)})})},this.render=function(){var e=s.$viewValue;isNaN(e)?(s.$setValidity("time",!1),t.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(e&&(i=e),i<u||d<i?(s.$setValidity("time",!1),r.invalidHours=!0,r.invalidMinutes=!0):v(),y())},r.showSpinners=angular.isDefined(o.showSpinners)?r.$parent.$eval(o.showSpinners):a.showSpinners,r.incrementHours=function(){r.noIncrementHours()||w(60*c)},r.decrementHours=function(){r.noDecrementHours()||w(60*-c)},r.incrementMinutes=function(){r.noIncrementMinutes()||w(h)},r.decrementMinutes=function(){r.noDecrementMinutes()||w(-h)},r.toggleMeridian=function(){r.noToggleMeridian()||w(720*(i.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,i){var r=i[0],o=i[1];o&&r.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(a,s,l,e,t){t||e.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var c=function(t,e,n){n=n||{};var i=a.defer(),r=c[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(e){l.$apply(function(){t.unbind(r,o),i.resolve(t)})};return r&&t.bind(r,o),s(function(){angular.isString(e)?t.addClass(e):angular.isFunction(e)?e(t):angular.isObject(e)&&t.css(e),r||i.resolve(t)}),i.promise.cancel=function(){r&&t.unbind(r,o),i.reject("Transition cancelled")},i.promise},n=document.createElement("trans");function i(e){for(var t in e)if(void 0!==n.style[t])return e[t]}return c.transitionEndEventName=i({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),c.animationEndEventName=i({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),c}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(n){var i=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(e){var t=e.match(i);if(!t)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+e+'".');return{itemName:t[3],source:n(t[4]),viewMapper:n(t[2]||t[1]),modelMapper:n(t[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(L,j,R,F,q,H,B,V,U){var z=[9,13,27,38,40];return{require:["ngModel","^?ngModelOptions"],link:function(s,l,a,e){var c=e[0],u=e[1],n=s.$eval(a.typeaheadMinLength);n||0===n||(n=1);var d,h,i=s.$eval(a.typeaheadWaitMs)||0,r=!1!==s.$eval(a.typeaheadEditable),p=j(a.typeaheadLoading).assign||angular.noop,f=j(a.typeaheadOnSelect),t=!!angular.isDefined(a.typeaheadSelectOnBlur)&&s.$eval(a.typeaheadSelectOnBlur),g=j(a.typeaheadNoResults).assign||angular.noop,o=a.typeaheadInputFormatter?j(a.typeaheadInputFormatter):void 0,m=!!a.typeaheadAppendToBody&&s.$eval(a.typeaheadAppendToBody),v=!1!==s.$eval(a.typeaheadFocusFirst),y=!!a.typeaheadSelectOnExact&&s.$eval(a.typeaheadSelectOnExact),b=j(a.ngModel),w=j(a.ngModel+"($$$p)"),x=U.parse(a.typeahead),C=s.$new(),S=s.$on("$destroy",function(){C.$destroy()});C.$on("$destroy",S);var k="typeahead-"+C.$id+"-"+Math.floor(1e4*Math.random());l.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":k});var _=angular.element("<div typeahead-popup></div>");_.attr({id:k,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(a.typeaheadTemplateUrl)&&_.attr("template-url",a.typeaheadTemplateUrl),angular.isDefined(a.typeaheadPopupTemplateUrl)&&_.attr("popup-template-url",a.typeaheadPopupTemplateUrl);var T=function(){C.matches=[],C.activeIdx=-1,l.attr("aria-expanded",!1)},D=function(e){return k+"-option-"+e};C.$watch("activeIdx",function(e){e<0?l.removeAttr("aria-activedescendant"):l.attr("aria-activedescendant",D(e))});var A,E,I=function(o){var a={$viewValue:o};p(s,!0),g(s,!1),R.when(x.source(s,a)).then(function(e){var t,n,i=o===c.$viewValue;if(i&&d)if(e&&0<e.length){C.activeIdx=v?0:-1,g(s,!1);for(var r=C.matches.length=0;r<e.length;r++)a[x.itemName]=e[r],C.matches.push({id:D(r),label:x.viewMapper(C,a),model:e[r]});C.query=o,$(),l.attr("aria-expanded",!0),y&&1===C.matches.length&&(t=o,n=0,C.matches.length>n&&t&&t.toUpperCase()===C.matches[n].label.toUpperCase())&&C.select(0)}else T(),g(s,!0);i&&p(s,!1)},function(){T(),p(s,!1),g(s,!0)})};function P(){C.moveInProgress||(C.moveInProgress=!0,C.$digest()),A&&F.cancel(A),A=F(function(){C.matches.length&&$(),C.moveInProgress=!1,C.$digest()},200)}function $(){C.position=m?V.offset(l):V.position(l),C.position.top+=l.prop("offsetHeight")}m&&(angular.element(H).bind("resize",P),q.find("body").bind("scroll",P)),C.moveInProgress=!1,T(),C.query=void 0;var M=function(){E&&F.cancel(E)};c.$parsers.unshift(function(e){var t;return d=!0,0===n||e&&e.length>=n?0<i?(M(),t=e,E=F(function(){I(t)},i)):I(e):(p(s,!1),M(),T()),r?e:e?void c.$setValidity("editable",!1):(c.$setValidity("editable",!0),null)}),c.$formatters.push(function(e){var t,n={};return r||c.$setValidity("editable",!0),o?(n.$model=e,o(s,n)):(n[x.itemName]=e,t=x.viewMapper(s,n),n[x.itemName]=void 0,t!==x.viewMapper(s,n)?t:e)}),C.select=function(e){var t,n,i,r,o={};h=!0,o[x.itemName]=n=C.matches[e].model,t=x.modelMapper(s,o),i=s,r=t,angular.isFunction(b(s))&&u&&u.$options&&u.$options.getterSetter?w(i,{$$$p:r}):b.assign(i,r),c.$setValidity("editable",!0),c.$setValidity("parse",!0),f(s,{$item:n,$model:t,$label:x.viewMapper(s,o)}),T(),!1!==C.$eval(a.typeaheadFocusOnSelect)&&F(function(){l[0].focus()},0,!1)},l.bind("keydown",function(e){if(0!==C.matches.length&&-1!==z.indexOf(e.which)){if(-1===C.activeIdx&&(9===e.which||13===e.which))return T(),void C.$digest();e.preventDefault(),40===e.which?(C.activeIdx=(C.activeIdx+1)%C.matches.length,C.$digest()):38===e.which?(C.activeIdx=(0<C.activeIdx?C.activeIdx:C.matches.length)-1,C.$digest()):13===e.which||9===e.which?C.$apply(function(){C.select(C.activeIdx)}):27===e.which&&(e.stopPropagation(),T(),C.$digest())}}),l.bind("blur",function(){t&&C.matches.length&&-1!==C.activeIdx&&!h&&(h=!0,C.$apply(function(){C.select(C.activeIdx)})),h=d=!1});var O=function(e){l[0]!==e.target&&3!==e.which&&0!==C.matches.length&&(T(),B.$$phase||C.$digest())};q.bind("click",O),s.$on("$destroy",function(){q.unbind("click",O),m&&N.remove(),_.remove()});var N=L(_)(C);m?q.find("body").append(N):l.after(N)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return 0<t.matches.length},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(r,o,a){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(t,n,e){var i=a(e.templateUrl)(t.$parent)||"template/typeahead/typeahead-match.html";r(i).then(function(e){o(e.trim())(t,function(e){n.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(n,e,i){var r;return r=e.has("$sanitize"),function(e,t){return!r&&/<.*>/g.test(e)&&i.warn("Unsafe use of typeahead please use ngSanitize"),e=t?(""+e).replace(new RegExp(t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"gi"),"<strong>$&</strong>"):e,r||(e=n.trustAsHtml(e)),e}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n\t  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n\t<li ng-transclude></li>\n\t<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n\t\t<span class="btn-group pull-left">\n\t\t\t<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n\t\t\t<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n\t\t</span>\n\t\t<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n\t</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n\tng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(e){e.pluginName="datatable",e.log=Logger.get("DataTable"),e._module=angular.module(e.pluginName,[]),hawtioPluginLoader.addModule(e.pluginName)}(DataTable||(DataTable={})),function(m){function v(n,e,t){var i=t,r=!1;return angular.forEach(e,function(e){var t=n[e];!r&&angular.isDefined(t)&&(i=t,r=!0)}),i}function y(e,t){if(t.columnDefs)for(var n=0,i=t.columnDefs;n<i.length;n++){var r=i[n];if(r.field===e&&void 0!==r.ascending)return r.ascending}return!0}m._module.directive("hawtioSimpleTable",["$compile","$timeout",function(c,g){return{restrict:"A",scope:{config:"=hawtioSimpleTable"},link:function(u,s,e){var d=u.config,h=d.data||"data",p=d.primaryKeyFn||function(e){var t=e.id||e._id||e._key||e.name;if(void 0===t)throw new Error("Missing primary key. Please add a property called 'id', '_id', '_key', or 'name' to your entities. Alternatively, set the 'primaryKeyFn' configuration option.");return t};u.rows=[];var f=u.$parent||u,t=function(){var e=Core.pathGet(f,h);if(e&&!angular.isArray(e)&&(e=[e],Core.pathSet(f,h,e)),!("sortInfo"in d)&&"columnDefs"in d){var t,n=_.first(d.columnDefs).defaultSort;t=angular.isUndefined(n)||!0===n?_.first(d.columnDefs).field:_.first(d.columnDefs.slice(1)).field,d.sortInfo={sortBy:t,ascending:y(t,d)}}var i=_.find(d.columnDefs,function(e){if(e.field===d.sortInfo.sortBy)return e});angular.isDefined(i)&&(i=i.customSortField);var r=u.config.sortInfo||{sortBy:"",ascending:!0},o=_.sortBy(e||[],i||function(e){return((e[r.sortBy]||"")+"").toLowerCase()});r.ascending||o.reverse();var a,s=-1,l=_.map(o,function(t){return{entity:t,index:++s,getProperty:function(e){return t[e]}}}),c=[];l.forEach(function(e,t){var n=p(e.entity);_.some(d.selectedItems,function(e){var t=p(e);return angular.equals(n,t)})&&(e.entity.index=e.index,c.push(e.entity),e.selected=!0,m.log.debug("Data changed so keep selecting row at index "+e.index))}),d.selectedItems.length=0,(a=d.selectedItems).push.apply(a,c),Core.pathSet(f,["hawtioSimpleTable",h,"rows"],l),u.rows=l};function r(){var e=d.selectedItems;if(e||(e=[],d.selectedItems=e),angular.isString(e)){var t=e;(e=Core.pathGet(f,t))||(e=[],f[t]=e)}return e}function l(){var e=u.config.multiSelect;return angular.isUndefined(e)&&(e=!0),e}f.$watchCollection(h,t),f.$on("hawtio.datatable."+h,t),u.toggleAllSelections=function(){var t=u.config.allRowsSelected,n=t,i=r();i.splice(0,i.length),angular.forEach(u.rows,function(e){e.selected=n,t&&u.showRow(e)&&i.push(e.entity)})},u.toggleRowSelection=function(t){if(t){var e=r();l()||(e.splice(0,e.length),angular.forEach(u.rows,function(e){e!==t&&(e.selected=!1)}));var n=t.entity;if(n){var i=e.indexOf(n);t.selected?i<0&&e.push(n):(u.config.allRowsSelected=!1,0<=i&&e.splice(i,1))}}},u.sortBy=function(e){u.config.sortInfo.sortBy===e?u.config.sortInfo.ascending=!u.config.sortInfo.ascending:(u.config.sortInfo.sortBy=e,u.config.sortInfo.ascending=y(e,u.config)),f.$broadcast("hawtio.datatable."+h)},u.getClass=function(e){return"sortInfo"in u.config&&u.config.sortInfo.sortBy===e?u.config.sortInfo.ascending?"asc":"desc":""},u.showRow=function(e){var t=Core.pathGet(u,["config","filterOptions","filterText"]);if(Core.isBlank(t))return!0;var n=null;try{n=e.entity.title}catch(e){}return n||(n=e.entity),FilterHelpers.search(n,t)},u.isSelected=function(e){return _.some(d.selectedItems,e.entity)},u.onRowSelected=function(e){var t=d.selectedItems.indexOf(e.entity);0<=t?(m.log.debug("De-selecting row at index "+e.index),d.selectedItems.splice(t,1),delete e.selected):(d.multiSelect||(d.selectedItems.length=0),m.log.debug("Selecting row at index "+e.index),e.entity.index=e.index,d.selectedItems.push(e.entity),angular.isDefined(e.selected)&&e.selected||(e.selected=!0))},u.$watchCollection("rows",function(){var e=s;e.empty();var t=v(d,["showSelectionCheckbox","displaySelectionCheckbox"],!0),n=v(d,["enableRowClickSelection"],!1),i=void 0!==d.maxBodyHeight,r=function(e,t,n,i){var r="<thead><tr>";t&&(r+="\n<th class='simple-table-checkbox'>",n&&(r+="<input type='checkbox' ng-show='rows.length' ng-model='config.allRowsSelected' ng-change='toggleAllSelections()'>"),r+="</th>");for(var o=0,a=e.length;o<a;o++){var s=e[o];r+="\n<th class='clickable no-fade table-header' ng-click=\"sortBy('"+s.field+"')\" ng-class=\"getClass('"+s.field+"')\">{{config.columnDefs["+o+"].displayName}}<span class='indicator'></span></th>"}i&&(r+="\n<th class='table-header'></th>");return r+="\n</tr></thead>\n"}(d.columnDefs,t,l(),i),o=function(e,t,n){var i="<tbody><tr ng-repeat='row in rows track by $index' ng-show='showRow(row)' ng-class=\"{'selected': isSelected(row)}\" >";t&&(i+="\n<td class='simple-table-checkbox'><input type='checkbox' ng-model='row.selected' ng-change='toggleRowSelection(row)'></td>");for(var r=n?"ng-click='onRowSelected(row)' ":"",o=0,a=e.length;o<a;o++){var s=e[o],l=s.cellTemplate||'<div class="ngCellText" title="{{row.entity.'+s.field+'}}">{{row.entity.'+s.field+"}}</div>";i+="\n<td + "+r+">"+l+"</td>"}return i+="\n</tr></tbody>"}(d.columnDefs,t,n);if(i){!function(e,t,n,i,r){if(e.html(n),e.addClass("scroll-body-table"),e.parent().hasClass("scroll-body-table-wrapper"))e.parent().scrollTop(0);else{var o=e.clone();o.html(t),o.removeClass("scroll-body-table"),o.addClass("scroll-header-table"),e.wrap('<div class="scroll-body-table-wrapper"></div>');var a=e.parent();a.css("max-height",r),a.wrap("<div></div>");var s=a.parent();s.addClass("table"),s.addClass("table-bordered");var l=a.width()-e.width();o.find("th:last-child").width(l),o.insertBefore(a),i(function(){$(window).resize(function(){var n=e.find("tr:first-child td").map(function(){return $(this).width()}).get();o.find("th").each(function(e,t){$(t).width(n[e])}),e.find("tr").each(function(e,t){$(t).find("td").each(function(e,t){$(t).width(n[e])})})}).resize()})}}(e,c(r)(u),c(o)(u),g,d.maxBodyHeight)}else{var a=c(r+o)(u);e.html(a)}})}}}])}(DataTable||(DataTable={})),function(a){a.GlobalCodeMirrorOptions={theme:"default",tabSize:4,lineNumbers:!0,indentWithTabs:!0,lineWrapping:!0,autoCloseTags:!0},a.detectTextFormat=function(e){var t="text";if(e){t="javascript";var n=_.trim(e);n&&_.startsWith(n,"<")&&_.endsWith(n,">")&&(t="xml")}return t},a.autoFormatEditor=function(e){if(e){var t=e.lineCount(),n={line:0,ch:0},i={line:t-1,ch:e.getLine(t-1).length};e.autoFormatRange(n,i),e.setSelection(n,n)}},a.createEditorSettings=function(e){var t,n,r,o,i;return void 0===e&&(e={}),e.extraKeys=e.extraKeys||{},"object"!=typeof(t=(t=e.mode)||{name:"text"})&&(t={name:t}),"javascript"===t.name&&angular.extend(t,{json:!0}),n=e,r=CodeMirror.newFoldFunction(CodeMirror.braceRangeFinder),o=CodeMirror.newFoldFunction(CodeMirror.tagRangeFinder),i=function(e,t){var n=e.getOption("mode"),i=n.name;n&&i&&("javascript"===i?r(e,t):("xml"===i||_.startsWith(i,"html"))&&o(e,t))},n.onGutterClick=i,n.extraKeys=angular.extend(n.extraKeys,{"Ctrl-Q":function(e){i(e,e.getCursor().line)}}),e.readOnly||(e.matchBrackets=!0),angular.extend(e,a.GlobalCodeMirrorOptions),e}}(CodeEditor||(CodeEditor={})),function(e){e.pluginName="hawtio-editor",e.templatePath="plugins/editor/html",e.log=Logger.get(e.pluginName)}(HawtioEditor||(HawtioEditor={})),function(e){e._module=angular.module(e.pluginName,[]),e._module.run(function(){e.log.debug("loaded")}),hawtioPluginLoader.addModule(e.pluginName)}(HawtioEditor||(HawtioEditor={})),function(t){t._module.directive("hawtioEditor",["$parse",function(e){return t.Editor(e)}]),t.Editor=function(i){return{restrict:"A",replace:!0,templateUrl:UrlHelpers.join(t.templatePath,"editor.html"),scope:{text:"=hawtioEditor",mode:"=",readOnly:"=?",outputEditor:"@",name:"@"},controller:["$scope","$element","$attrs",function(t,e,n){t.codeMirror=null,t.doc=null,t.options=[],UI.observe(t,n,"name","editor"),t.applyOptions=function(){t.codeMirror&&_.forEach(t.options,function(e){try{t.codeMirror.setOption(e.key,e.value)}catch(e){}})},t.$watch(_.debounce(function(){t.codeMirror&&t.codeMirror.refresh()},100,{trailing:!0})),t.$watch("codeMirror",function(){t.codeMirror&&(t.doc=t.codeMirror.getDoc(),t.codeMirror.on("change",function(e){t.text=t.doc.getValue(),t.dirty=!t.doc.isClean(),Core.$apply(t)}))})}],link:function(r,o,e){"dirty"in e&&(r.dirtyTarget=e.dirty,r.$watch("$parent['"+r.dirtyTarget+"']",function(e,t){e!==t&&(r.dirty=e)}));var t=_.cloneDeep(e);if(delete t.$$observers,delete t.$$element,delete t.$attr,delete t.class,delete t.hawtioEditor,delete t.mode,delete t.dirty,delete t.outputEditor,"onChange"in e){var n=e.onChange;delete t.onChange,r.options.push({onChange:function(e){var t=i(n);t&&t(r.$parent,{codeMirror:e})}})}function a(e){return"hawtioEditor_"+(r.name||"default")+"_"+e}angular.forEach(t,function(e,t){r.options.push({key:t,value:e})}),r.$watch("mode",function(){r.mode&&(r.codeMirror?r.codeMirror.setOption("mode",r.mode):r.options.push({key:"mode",value:r.mode}))}),r.$watch("readOnly",function(e){var t=Core.parseBooleanValue(e,!1);r.codeMirror?r.codeMirror.setOption("readOnly",t):r.options.push({key:"readOnly",value:t})}),r.$watch("dirty",function(e){"dirtyTarget"in r&&(r.$parent[r.dirtyTarget]=e),r.$emit(a("dirty"),e)}),r.$watch("text",function(e){if(e)if(r.codeMirror)r.doc&&!r.codeMirror.hasFocus()&&(e=r.text||"",(angular.isArray(e)||angular.isObject(e))&&(e=JSON.stringify(e,null,"  "),r.mode="javascript",r.codeMirror.setOption("mode","javascript")),r.doc.setValue(e),r.doc.markClean(),r.dirty=!1);else{var t={value:e};t=CodeEditor.createEditorSettings(t),r.codeMirror=CodeMirror.fromTextArea(o.find("textarea").get(0),t);var n=r.outputEditor;if(n){var i=r.$parent||r;Core.pathSet(i,n,r.codeMirror)}r.applyOptions(),r.$emit(a("instance"),r.codeMirror)}})}}}}(HawtioEditor||(HawtioEditor={})),function(e){var t="forceGraph";e._module=angular.module(t,[]),e._module.directive("hawtioForceGraph",function(){return new e.ForceGraphDirective}),hawtioPluginLoader.addModule(t)}(ForceGraph||(ForceGraph={})),function(e){Logger.get("ForceGraph");var t=function(){this.restrict="A",this.replace=!0,this.transclude=!1,this.scope={graph:"=graph",nodesize:"@",selectedModel:"@",linkDistance:"@",markerKind:"@",charge:"@"},this.link=function(s,l,e){s.trans=[0,0],s.scale=1,s.$watch("graph",function(e,t){n()}),s.redraw=function(){s.trans=d3.event.translate,s.scale=d3.event.scale,s.viewport.attr("transform","translate("+s.trans+") scale("+s.scale+")")},s.tick=function(){s.graphEdges.attr("d",function(e){var t=e.target.x-e.source.x,n=e.target.y-e.source.y,i=Math.sqrt(t*t+n*n);return"M"+e.source.x+","+e.source.y+"A"+i+","+i+" 0 0,1 "+e.target.x+","+e.target.y}),s.graphNodes.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),s.graphLabels.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),!Object.hasOwnProperty.call(window,"ActiveXObject")&&window.ActiveXObject||s.svg.selectAll(".link").each(function(){this.parentNode.insertBefore(this,this)})},s.mover=function(n){null!=n.popup&&$("#pop-up").fadeOut(100,function(){null!=n.popup.title?$("#pop-up-title").html(n.popup.title):$("#pop-up-title").html(""),null!=n.popup.content?$("#pop-up-content").html(n.popup.content):$("#pop-up-content").html("");var e=n.x*s.scale+s.trans[0]+20,t=n.y*s.scale+s.trans[1]+20;$("#pop-up").css({left:e,top:t}),$("#pop-up").fadeIn(100)})},s.mout=function(e){$("#pop-up").fadeOut(50)};var n=function(){var e=$(l),t=$(l).parent().height(),n=$(l).parent().width();e.children("svg").remove(),s.svg=d3.select(e[0]).append("svg").attr("width",n).attr("height",t);var i=null;if(s.graph&&(i=s.graph.linktypes),i&&(s.svg.append("svg:defs").selectAll("marker").data(i).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",15).attr("refY",-1.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),s.svg.append("svg:g").append("svg:rect").attr("class","graphbox.frame").attr("width",n).attr("height",t),s.viewport=s.svg.append("svg:g").call(d3.behavior.zoom().on("zoom",s.redraw)).append("svg:g"),s.viewport.append("svg:rect").attr("width",1e6).attr("height",1e6).attr("class","graphbox").attr("transform","translate(-50000, -500000)"),s.graph)){var r=s.$parent||s,o=s.selectedModel||"selectedNode";s.force=d3.layout.force().nodes(s.graph.nodes).links(s.graph.links).size([n,t]).on("tick",s.tick),angular.isDefined(s.linkDistance)&&s.force.linkDistance(s.linkDistance),angular.isDefined(s.charge)&&s.force.charge(s.charge);var a=s.markerKind||"marker-end";s.graphEdges=s.viewport.append("svg:g").selectAll("path").data(s.force.links()).enter().append("svg:path").attr("class",function(e){return"link "+e.type}).attr(a,function(e){return"url(#"+e.type+")"}),s.graphNodes=s.viewport.append("svg:g").selectAll("circle").data(s.force.nodes()).enter().append("a").attr("xlink:href",function(e){return e.navUrl}).on("mouseover.onLink",function(e,t){d3.select(d3.event.target).classed("selected",!0),r[o]=e,Core.pathSet(r,o,e),Core.$apply(r)}).on("mouseout.onLink",function(e,t){d3.select(d3.event.target).classed("selected",!1)}),s.graphNodes.filter(function(e){return null!=e.image}).append("image").attr("xlink:href",function(e){return e.image.url}).attr("x",function(e){return-e.image.width/2}).attr("y",function(e){return-e.image.height/2}).attr("width",function(e){return e.image.width}).attr("height",function(e){return e.image.height}),s.graphNodes.filter(function(e){return!((t=e).image&&t.image.url);var t}).append("circle").attr("class",function(e){return e.type}).attr("r",function(e){return e.size||s.nodesize}),s.graphLabels=s.viewport.append("svg:g").selectAll("g").data(s.force.nodes()).enter().append("svg:g"),s.graphLabels.append("svg:text").attr("x",8).attr("y",".31em").attr("class","shadow").text(function(e){return e.name}),s.graphLabels.append("svg:text").attr("x",8).attr("y",".31em").text(function(e){return e.name}),s.force.start(),s.graphNodes.call(s.force.drag).on("mouseover",s.mover).on("mouseout",s.mout)}}}};e.ForceGraphDirective=t}(ForceGraph||(ForceGraph={})),function(e){var t=function(){function e(){this.nodes={},this.links=[],this.linkTypes={}}return e.prototype.addNode=function(e){this.nodes[e.id]||(this.nodes[e.id]=e)},e.prototype.getNode=function(e){return this.nodes[e]},e.prototype.hasLinks=function(t){var n=this,i=!1;return this.links.forEach(function(e){e.source.id!=t&&e.target.id!=t||(i=i||null!=n.nodes[e.source.id]&&null!=n.nodes[e.target.id])}),i},e.prototype.addLink=function(e,t,n){null!=this.nodes[e]&&null!=this.nodes[t]&&(this.links.push({source:this.nodes[e],target:this.nodes[t],type:n}),this.linkTypes[n]||(this.linkTypes[n]={used:!0}))},e.prototype.nodeIndex=function(e,t){var n=-1,i=0;for(i=0;i<t.length;i++){if(t[i].id==e){n=i;break}}return n},e.prototype.filterNodes=function(t){var n={},i=[];d3.values(this.nodes).forEach(function(e){t(e)&&(n[e.id]=e)}),this.links.forEach(function(e){n[e.source.id]&&n[e.target.id]&&i.push(e)}),this.nodes=n,this.links=i},e.prototype.buildGraph=function(){var t=this,n=[],e=d3.keys(this.linkTypes),i=[];return d3.values(this.nodes).forEach(function(e){(null==e.includeInGraph||e.includeInGraph)&&(e.includeInGraph=!0,n.push(e))}),this.links.forEach(function(e){null!=t.nodes[e.source.id]&&null!=t.nodes[e.target.id]&&t.nodes[e.source.id].includeInGraph&&t.nodes[e.target.id].includeInGraph&&i.push({source:t.nodeIndex(e.source.id,n),target:t.nodeIndex(e.target.id,n),type:e.type})}),{nodes:n,links:i,linktypes:e}},e}();e.GraphBuilder=t}(ForceGraph||(ForceGraph={})),function(e){var t="hawtio-toastr";angular.module(t,[]);hawtioPluginLoader.addModule(t)}(Toastr||(Toastr={})),function(e){e.notification=function(e,t,n){void 0===n&&(n=null),null===n&&(n={}),"error"!==e&&"warning"!==e||angular.isDefined(n.onclick)||(n.onclick=window.showLogPanel),toastr[e](t,"",n)},e.clearNotifications=function(){toastr.clear()}}(Core||(Core={})),function(T){function t(e,t){$(e).dynatree("getRoot").visit(function(e){e.expand(t)})}T.pluginName="tree",T.log=Logger.get("Tree"),T.expandAll=function(e){t(e,!0)},T.contractAll=function(e){t(e,!1)},T.sanitize=function(e){if(e){angular.isArray(e)&&e.forEach(function(e){T.sanitize(e)});var t=e.title;t&&(e.title=_.escape(_.unescape(t))),e.children&&T.sanitize(e.children)}},T._module=angular.module(T.pluginName,[]),T._module.directive("hawtioTree",["workspace","$timeout","$location",function(k,r,_){return function(f,g,m){var t=null,v=null,e=null,y=n("onselect"),b=n("ondragstart"),w=n("ondragenter"),x=n("ondrop");function n(e){var t=null,n=m[e];return n&&(t=Core.pathGet(f,n),angular.isFunction(t)||(t=null)),t}var C=t=m.hawtioTree;function S(){Core.$applyNowOrLater(f)}function i(e){if((c=e)&&T.sanitize(c),c&&!v){var t=$(g),n=Core.asArray(c),i=m.hideroot,r=null;m.relativeiconpaths&&(r=[]),"true"===i&&(n=c.children);var o={imagePath:r,clickFolderMode:3,onActivate:function(e){var t=e.data;y?y(t,e):k.updateSelectionNode(t),Core.$apply(f)},onClick:function(e,t){if(t.metaKey){t.preventDefault();var n=_.absUrl();if(e&&e.data){var i=e.data.key;if(i){var r=_.search();r[C]=i;var o=n.indexOf("?");o<=0?n+="?":n=n.substring(0,o+1),n+=$.param(r)}}return window.open(n,"_blank"),window.focus(),!1}return!0},persist:!1,debugLevel:0,children:n,dnd:{onDragStart:b||function(e){return console.log("onDragStart!"),!0},onDragEnter:w||function(e,t){return console.log("onDragEnter!"),!0},onDrop:x||function(e,t,n){return console.log("onDrop!"),t.move(e,n),!0}}};x||w||b||delete o.dnd,v=t.dynatree(o);var a=!1,s=m.activatenodes;if(s){var l=f[s],c=t.dynatree("getTree");l&&c&&angular.forEach(Core.asArray(l),function(e){c.activateKey(e),a=!0})}var u=t.dynatree("getRoot");if(u){var d=m.onroot;if(d){var h=f[d];h&&h(u)}if(!a)if((n=u.getChildren())&&n.length){var p=n[0];p.expand(!0),p.activate(!0)}}}S()}f.$watch(t,i),f.$on("hawtio.tree."+t,function(e){i(Core.pathGet(f,t))}),g.bind("$destroy",function(){r.cancel(e)}),e=r(function(){S()},300)}}]),T._module.run(["helpRegistry",function(e){e.addDevDoc(T.pluginName,"app/tree/doc/developer.md")}]),hawtioPluginLoader.addModule(T.pluginName)}(Tree||(Tree={})),function(e){var t="hawtio-ui-bootstrap";angular.module(t,["ui.bootstrap"]),hawtioPluginLoader.addModule(t),hawtioPluginLoader.addModule("hawtio-compat.transition"),hawtioPluginLoader.addModule("hawtio-compat.dialog"),hawtioPluginLoader.addModule("hawtio-compat.modal")}(UIBootstrap||(UIBootstrap={})),function(e){e.log=Logger.get("UI"),e.scrollBarWidth=null,e.pluginName="hawtio-ui",e.templatePath="plugins/ui/html/"}(UI||(UI={})),function(e){e._module=angular.module(e.pluginName,[]),e._module.factory("UI",function(){return e}),e._module.factory("marked",function(){return marked.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!0,sanitize:!1,smartLists:!0,langPrefix:"language-"}),marked}),e._module.directive("compile",["$compile",function(r){return function(t,n,i){t.$watch(function(e){return e.$eval(i.compile)},function(e){n.html(e),r(n.contents())(t)})}}]),e._module.run([function(){e.log.debug("loaded")}]),hawtioPluginLoader.addModule(e.pluginName)}(UI||(UI={})),function(s){s._module.directive("hawtioAutoDropdown",function(){return s.AutoDropDown}),s.AutoDropDown={restrict:"A",link:function(e,a,t){function n(e){var t=a.get(0);if(!(e&&e.relatedNode!==t&&e.type&&e&&"resize"!==e.type)){var n=$(a.find(".overflow")),i=$(n.find("ul.dropdown-menu")),r=0;try{n.outerWidth()-n.innerWidth(),r=n.position().left-a.position().left-50}catch(e){s.log.debug("caught "+e)}if(a.children("li:not(.overflow):not(.pull-right):not(:hidden)").each(function(){var e=$(this);(r-=e.outerWidth(!0))<0&&(e.detach(),e.prependTo(i))}),0<i.children().length&&n.css({visibility:"visible"}),130<r){var o=!1;i.children("li:not(.overflow):not(.pull-right)").filter(function(){return"none"!==$(this).css("display")}).each(function(){if(!o){var e=$(this);r>e.outerWidth()?(r-=e.outerWidth(),e.detach(),e.insertBefore(n)):o=!0}})}0===i.children().length&&n.css({visibility:"hidden"})}}$(window).resize(n),a.get(0).addEventListener("DOMNodeInserted",n),e.$watch(setTimeout(n,500))}}}(UI||(UI={})),function(e){e.hawtioBreadcrumbs=function(){return{restrict:"E",replace:!0,templateUrl:e.templatePath+"breadcrumbs.html",require:"hawtioDropDown",scope:{config:"="},controller:["$scope","$element","$attrs",function(a,e,t){function s(){return _.last(_.sortBy(_.keys(a.levels),""))}function l(e,t,n){if(0!==t.length){var i=t.shift();if(e&&e.items){var r=!1;_.forEach(e.items,function(e){r||e.title!==i||(r=!0,l(a.levels[n]=e,t,n+1))})}var o=s();_.forOwn(a.levels,function(e,t){var n;e.open=t===o,delete e.action,n=e.items,_.forEach(n,function(e){return e.action=a.action})})}}a.action="itemClicked(config, $event)",a.levels={},a.isLastLevel=function(e){return e===s()},a.itemClicked=function(e,t){if(angular.isDefined(e.level)){a.levels[e.level]=e;var n=(i=_.sortBy(_.keys(a.levels),"")).slice(e.level+1);_.forEach(n,function(e){return delete a.levels[e]});var i=_.sortBy(_.keys(a.levels),""),r=[];_.forEach(i,function(e){r.push(a.levels[e].title)});var o="/"+r.join("/");a.config.path=o}},a.$watch("config.path",function(e){if(!Core.isBlank(e)){var t=_.filter(e.split("/"),function(e){return!Core.isBlank(e)});_.forEach(_.keys(a.levels),function(e){0<e&&delete a.levels[e]}),l(a.config,_.rest(t),1)}}),a.$watch("config",function(e,t){!function t(e,n){e.level=n,e.action=a.action,e.items&&_.forEach(e.items,function(e){t(e,n+1)})}(a.config,0),delete a.config.action,a.levels[0]=a.config})}]}},e._module.directive("hawtioBreadcrumbs",e.hawtioBreadcrumbs)}(UI||(UI={})),(UI||(UI={}))._module.directive("hawtioCardBg",["$timeout",function(i){return{restrict:"AC",link:function(e,t,n){i(function(){var e=$("body");e.addClass("cards-pf"),t.on("$destroy",function(){e.removeClass("cards-pf")})},10)}}}]),function(e){e.colors=["#5484ED","#A4BDFC","#46D6DB","#7AE7BF","#51B749","#FBD75B","#FFB878","#FF887C","#DC2127","#DBADFF","#E1E1E1"],e._module.constant("UIColors",e.colors)}(UI||(UI={})),function(r){r._module.directive("hawtioColorPicker",function(){return new r.ColorPicker}),r.selected="selected",r.unselected="unselected";var e=function(){this.restrict="A",this.replace=!0,this.scope={property:"=hawtioColorPicker"},this.templateUrl=r.templatePath+"colorPicker.html",this.compile=function(e,t,n){return{post:function(n,e,t,i){n.colorList=[],angular.forEach(r.colors,function(e){var t=r.unselected;n.property===e&&(t=r.selected),n.colorList.push({color:e,select:t})})}}},this.controller=["$scope","$element","$timeout",function(n,e,t){n.popout=!1,n.$watch("popout",function(){e.find(".color-picker-popout").toggleClass("popout-open",n.popout)}),n.selectColor=function(e){for(var t=0;t<n.colorList.length;t++)n.colorList[t].select=r.unselected,n.colorList[t]===e&&(n.property=e.color,n.colorList[t].select=r.selected)}}]};r.ColorPicker=e}(UI||(UI={})),function(e){e._module.directive("hawtioConfirmDialog",function(){return new e.ConfirmDialog});var t=function(){this.restrict="A",this.replace=!0,this.transclude=!0,this.templateUrl=e.templatePath+"confirmDialog.html",this.scope={show:"=hawtioConfirmDialog",title:"@",okButtonText:"@",showOkButton:"@",cancelButtonText:"@",onCancel:"&?",onOk:"&?",onClose:"&?"},this.controller=["$scope","$element","$attrs","$transclude","$compile",function(t,e,n,i,r){function o(){setTimeout(function(){var e=$("div.modal-backdrop");e&&e.length&&(Logger.get("ConfirmDialog").debug("Removing the backdrop div! "+e),e.remove())},200)}t.clone=null,i(function(e){t.clone=$(e).filter(".dialog-body")}),t.$watch("show",function(){t.show&&setTimeout(function(){t.body=$(".modal-body"),t.body.html(r(t.clone.html())(t.$parent)),Core.$apply(t)},50)}),n.$observe("okButtonText",function(e){angular.isDefined(e)||(t.okButtonText="OK")}),n.$observe("cancelButtonText",function(e){angular.isDefined(e)||(t.cancelButtonText="Cancel")}),n.$observe("title",function(e){angular.isDefined(e)||(t.title="Are you sure?")}),t.cancel=function(){t.show=!1,t.$parent.$eval(t.onCancel),o()},t.submit=function(){t.show=!1,t.$parent.$eval(t.onOk),o()},t.close=function(){t.$parent.$eval(t.onClose),o()}}]};e.ConfirmDialog=t}(UI||(UI={})),function(n){n._module.controller("UI.DeveloperPageController",["$scope","$http",function(e,t){e.getContents=function(r,o){var e=UrlHelpers.join(n.templatePath,"test",r);t({method:"GET",url:e}).success(function(e,t,n,i){o(e)}).error(function(e,t,n,i){o("Failed to fetch "+r+": "+e)})}}])}(UI||(UI={})),function(t){var e=function(){function e(){this.show=!1,this.options={backdropFade:!0,dialogFade:!0}}return e.prototype.open=function(){this.show=!0},e.prototype.close=function(){this.show=!1,this.removeBackdropFadeDiv(),setTimeout(this.removeBackdropFadeDiv,100)},e.prototype.removeBackdropFadeDiv=function(){$("div.modal-backdrop").remove()},e}();t.Dialog=e,t.multiItemConfirmActionDialog=function(e){return HawtioCore.injector.get("$dialog").dialog({resolve:{options:function(){return e}},templateUrl:UrlHelpers.join(t.templatePath,"multiItemConfirmActionDialog.html"),controller:["$scope","dialog","options",function(e,t,n){e.options=n,e.close=function(e){t.close(),n.onClose(e)},e.getName=function(e){return Core.pathGet(e,n.index.split("."))}}]})}}(UI||(UI={})),function(e){e.hawtioDrag=e._module.directive("hawtioDrag",[function(){return{replace:!1,transclude:!0,restrict:"A",template:"<span ng-transclude></span>",scope:{data:"=hawtioDrag"},link:function(t,n,e){n.attr({draggable:"true"});var i=n[0];i.draggable=!0,i.addEventListener("dragstart",function(e){return e.dataTransfer.effectAllowed="move",e.dataTransfer.setData("data",t.data),n.addClass("drag-started"),!1},!1),i.addEventListener("dragend",function(e){n.removeClass("drag-started")},!1)}}}]),e.hawtioDrop=e._module.directive("hawtioDrop",[function(){return{replace:!1,transclude:!0,restrict:"A",template:"<span ng-transclude></span>",scope:{onDrop:"&?hawtioDrop",ngModel:"=",property:"@",prefix:"@"},link:function(i,r,e){var t=function(e){return e.preventDefault&&e.preventDefault(),r.addClass("drag-over"),!1},n=r[0];n.addEventListener("dragenter",t,!1),n.addEventListener("dragover",t,!1),n.addEventListener("dragleave",function(e){return r.removeClass("drag-over"),!1},!1),n.addEventListener("drop",function(e){e.stopPropagation&&e.stopPropagation(),r.removeClass("drag-over");var t=e.dataTransfer.getData("data");i.onDrop&&i.$eval(i.onDrop,{data:t,model:i.ngModel,property:i.property});var n="hawtio-drop";return Core.isBlank(i.prefix)||(n=i.prefix+"-"+n),i.$emit(n,{data:t,model:i.ngModel,property:i.property}),Core.$apply(i),!1},!1)}}}])}(UI||(UI={})),function(e){e.hawtioDropDown=function(i){return{restrict:"A",replace:!0,templateUrl:e.templatePath+"dropDown.html",scope:{config:"=hawtioDropDown"},controller:["$scope","$element","$attrs",function(i,e,t){i.config||(i.config={}),"open"in i.config||(i.config.open=!1),i.action=function(e,t){if("items"in e&&!("action"in e))e.open=!e.open,t.preventDefault(),t.stopPropagation();else if("action"in e){var n=e.action;angular.isFunction(n)?n():angular.isString(n)&&i.$parent.$eval(n,{config:e,$event:t})}},i.$watch("config.items",function(e,t){e!==t&&(i.menuStyle=i.menuStyle+" ")},!0),i.submenu=function(e){return e&&e.submenu?"sub-menu":""},i.icon=function(e){return e&&!Core.isBlank(e.icon)?e.icon:"fa fa-spacer"},i.open=function(e){return e&&!e.open?"":"open"}}],link:function(e,t,n){e.menuStyle=i.get("withsubmenus.html"),"processSubmenus"in n&&(Core.parseBooleanValue(n.processSubmenus)||(e.menuStyle=i.get("withoutsubmenus.html")))}}},e._module.directive("hawtioDropDown",["$templateCache",e.hawtioDropDown])}(UI||(UI={})),function(n){n._module.directive("editableProperty",["$parse",function(e){return new n.EditableProperty(e)}]);var e=function(t){this.$parse=t,this.restrict="E",this.scope=!0,this.templateUrl=n.templatePath+"editableProperty.html",this.require="ngModel",this.link=null,this.link=function(n,i,r,o){function a(){return"input[type="+n.inputType+"]"}n.inputType=r.type||"text",n.min=r.min,n.max=r.max,n.getText=function(){return n.text?"password"===n.inputType?StringHelpers.obfusicate(n.text):n.text:""},n.editing=!1,$(i.find(".fa fa-pencil")[0]).hide(),n.getPropertyName=function(){var e=t(r.property)(n);return e||0===e||(e=r.property),e},o.$render=function(){o.$viewValue&&(n.text=o.$viewValue[n.getPropertyName()])},n.getInputStyle=function(){if(!n.text)return{};var e=(n.text+"").length/1.2;return e<5&&(e=5),{width:e+"em"}},n.showEdit=function(){$(i.find(".fa fa-pencil")[0]).show()},n.hideEdit=function(){$(i.find(".fa fa-pencil")[0]).hide()},n.$watch("editing",function(e,t){e!==t&&e&&setTimeout(function(){$(i.find(a())).focus().select()},50)}),n.doEdit=function(){n.editing=!0},n.stopEdit=function(){$(i.find(a())[0]).val(o.$viewValue[n.getPropertyName()]),n.editing=!1},n.saveEdit=function(){var e=$(i.find(a())[0]).val(),t=o.$viewValue;t[n.getPropertyName()]=e,o.$setViewValue(t),o.$render(),n.editing=!1,n.$parent.$eval(r.onSave)}}};n.EditableProperty=e}(UI||(UI={})),function(e){e._module.directive("expandable",function(){return new e.Expandable});var t=function(){function e(){var l=this;this.log=Logger.get("Expandable"),this.restrict="C",this.replace=!1,this.link=null,this.link=function(n,e,t){var i=l,r=e,o=null,a=null;angular.isDefined(t.model)&&(o=t.model,a=n[o],angular.isDefined(n[o].expanded)?a.expanded?i.forceOpen(a,r,n):i.forceClose(a,r,n):a.expanded=r.hasClass("opened"),o&&n.$watch(o+".expanded",function(e,t){c(e)!==c(t)&&(e?i.open(a,r,n):i.close(a,r,n))}));var s=r.find(".title");r.find(".cancel").bind("click",function(){return a=n[o],i.forceClose(a,r,n),!1}),s.bind("click",function(){var e;return a=n[o],(e=r).hasClass("opened")||!e.hasClass("closed")?i.close(a,r,n):i.open(a,r,n),!1})}}return e.prototype.open=function(e,t,n){t.find(".expandable-body").slideDown(400,function(){t.hasClass("opened")||t.addClass("opened"),t.removeClass("closed"),e&&(e.expanded=!0),Core.$apply(n)})},e.prototype.close=function(e,t,n){t.find(".expandable-body").slideUp(400,function(){t.removeClass("opened"),t.hasClass("closed")||t.addClass("closed"),e&&(e.expanded=!1),Core.$apply(n)})},e.prototype.forceClose=function(e,t,n){t.find(".expandable-body").slideUp(0,function(){t.hasClass("closed")||t.addClass("closed"),t.removeClass("opened"),e&&(e.expanded=!1),Core.$apply(n)})},e.prototype.forceOpen=function(e,t,n){t.find(".expandable-body").slideDown(0,function(){t.hasClass("opened")||t.addClass("opened"),t.removeClass("closed"),e&&(e.expanded=!0),Core.$apply(n)})},e}();function c(e){return!!e}e.Expandable=t}(UI||(UI={})),function(s){s._module.directive("hawtioFileDrop",[function(){return{restrict:"A",replace:!1,link:function(e,t,n){var i=n.hawtioFileDrop,r=n.downloadUrl,o=n.mimeType||"application/octet-stream";if(!Core.isBlank(i)&&!Core.isBlank(r)){if(!_.startsWith(r,"http"))r=(new URI).path(r).toString();var a=o+":"+i+":"+r;t.attr({draggable:!0}),t[0].addEventListener("dragstart",function(e){e.dataTransfer?(s.log.debug("Drag started, event: ",e,"File details: ",a),e.dataTransfer.setData("DownloadURL",a)):s.log.debug("Drag event object doesn't contain data transfer: ",e)}),n.$observe("downloadUrl",function(e){a=o+":"+i+":"+e})}}}}])}(UI||(UI={})),function(e){e.hawtioFilter=e._module.directive("hawtioFilter",[function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:e.templatePath+"filter.html",scope:{placeholder:"@",cssClass:"@",saveAs:"@?",ngModel:"="},controller:["$scope","localStorage","$location","$element",function(t,e,n,i){if(t.getClass=function(){var e=[];return Core.isBlank(t.cssClass)||e.push(t.cssClass),Core.isBlank(t.ngModel)||e.push("has-text"),e.join(" ")},!Core.isBlank(t.saveAs)){if(t.saveAs in e){var r=e[t.saveAs];Core.isBlank(r)?t.ngModel="":t.ngModel=r}else t.ngModel="";t.$watch("ngModel",function(){e[t.saveAs]=t.ngModel})}}]}}])}(UI||(UI={})),function(e){e._module.directive("gridster",function(){return new e.GridsterDirective});var t=function(){this.restrict="A",this.replace=!0,this.controller=["$scope","$element","$attrs",function(e,t,n){}],this.link=function(e,t,n){var i=10,r=6;angular.isDefined(n.extraRows)&&(i=n.extraRows.toNumber()),angular.isDefined(n.extraCols)&&(r=n.extraCols.toNumber());var o=$('<ul style="margin: 0"></ul>'),a=(a='<style type="text/css">')+"</style>";t.append($(a)),t.append(o),e.gridster=o.gridster({widget_margins:[6,6],grid_size:[150,150],extra_rows:i,extra_cols:r}).data("gridster")}};e.GridsterDirective=t}(UI||(UI={})),function(e){e.groupBy=function(){return function(l,c){if(!l||0===l.length)return l;if(Core.isBlank(c))return l;var u="endGroup",d=void 0;return l.forEach(function(e,t){var n,i,r,o,a=e[c]!==d;if(angular.isArray(e[c]))if(void 0===d)a=!0;else{var s=e[c];s.length!==d.length?a=!0:(a=!1,s.forEach(function(t){a||_.some(d,function(e){return e===t})||(a=!0)}))}a?(i=l,o=t,(r=e).newGroup=!0,r[u]=!1,d=r[c],0<o&&(i[o-1][u]=!0)):((n=e).newGroup=!1,n[u]=!1)}),l}},e._module.filter("hawtioGroupBy",e.groupBy)}(UI||(UI={})),(UI||(UI={}))._module.directive("httpSrc",["$http",function(o){return{scope:{httpSrcChanged:"="},link:function(n,i,r){function t(){n.objectURL&&URL.revokeObjectURL(n.objectURL)}n.$watch("objectURL",function(e,t){e!==t&&(i.attr("src",e),void 0!==n.httpSrcChanged&&(n.httpSrcChanged=e))}),n.$on("$destroy",t),r.$observe("httpSrc",function(e){t(),e&&0===e.indexOf("data:")?n.objectURL=e:e&&o.get(e,{responseType:"arraybuffer"}).then(function(e){var t=new Blob([e.data],{type:r.mediaType?r.mediaType:"application/octet-stream"});n.objectURL=URL.createObjectURL(t)})})}}}]),function(e){e.IconTestController=e._module.controller("UI.IconTestController",["$scope","$templateCache",function(n,e){n.exampleHtml=e.get("example-html"),n.exampleConfigJson=e.get("example-config-json"),n.$watch("exampleConfigJson",function(e,t){n.icons=angular.fromJson(n.exampleConfigJson)})}]),e.hawtioIcon=function(){return{restrict:"E",replace:!0,templateUrl:e.templatePath+"icon.html",scope:{icon:"=config"},link:function(e,t,n){e.icon&&("type"in e.icon||Core.isBlank(e.icon.src)||(_.startsWith(e.icon.src,"fa fa-")?e.icon.type="icon":e.icon.type="img"))}}},e._module.directive("hawtioIcon",e.hawtioIcon)}(UI||(UI={})),function(e){var x=Logger.get("hawtio-ui-jsplumb");e._module.directive("hawtioJsplumb",["$timeout","$window",function(e,w){return{restrict:"A",compile:function(e,t,n){return{post:function(o,a,e){a.css({position:"relative"});var t=function(){o.jsPlumb&&(o.jsPlumb.recalculateOffsets(a.children()),o.jsPlumb.repaintEverything())};a.on("$destroy",function(){o.jsPlumb&&(o.jsPlumb.reset(),delete o.jsPlumb,w.removeEventListener("resize",t))}),w.addEventListener("resize",t);var s=!0;angular.isDefined(e.draggable)&&(s=Core.parseBooleanValue(e.draggable));var l=!0;angular.isDefined(e.layout)&&(l=Core.parseBooleanValue(e.layout));var n="TB";if(angular.isDefined(e.direction))switch(e.direction){case"down":n="LR";break;default:n="TB"}var i=50,r=10,c=50;angular.isDefined(e.nodeSep)&&(i=Core.parseIntValue(e.nodeSep)),angular.isDefined(e.edgeSep)&&(r=Core.parseIntValue(e.edgeSep)),angular.isDefined(e.rankSep)&&(c=Core.parseIntValue(e.rankSep));var u=100;angular.isDefined(e.timeout)&&(u=Core.parseIntValue(e.timeout,"timeout"));var d=["Dot",{radius:10,cssClass:"jsplumb-circle",hoverClass:"jsplumb-circle-hover"}],h=["Label"],p=["Arrow",{location:1,id:"arrow",length:8,width:8,foldback:.8}],f=["Flowchart",{cornerRadius:4,gap:8}];angular.isDefined(o.connectorStyle)&&(f=o.connectorStyle);var g=[],m=[],v={};function y(){x.debug("finding jsplumb node elements");var e=a.find(".jsplumb-node");angular.forEach(e,function(e){if(!v[e.id]){var t=function(e){var t=$(e),n=t.attr("id"),i=t.attr("anchors");if(!Core.isBlank(i)&&-1!==i.indexOf("{{")&&-1!==i.indexOf("}}"))return null;i=Core.isBlank(i)?["Continuous"]:_.map(i.split(","),function(e){return e.trim()});var r={id:n,label:"node "+n,el:t,width:t.outerWidth(),height:t.outerHeight(),edges:[],connections:[],endpoints:[],anchors:i};return x.debug("New node created: ",r),r}(e);t&&(g.push(t),v[t.id]=t)}}),angular.forEach(g,function(i){var e=i.el.attr("connect-to");e&&(e=e.split(","),angular.forEach(e,function(e){var t=v[e.trim()];if(t){var n={source:i,target:t};m.push(n),i.edges.push(n),t.edges.push(n)}}))}),x.debug("Found nodes: ",g," connections: ",m)}function b(){if(x.debug("Drawing"),!o.jsPlumb){o.jsPlumb=jsPlumb.getInstance({Container:a});var e={LogEnabled:!0,DoNotThrowErrors:!1,Anchor:"Continuous",Connector:"Flowchart",ConnectorStyle:f,DragOptions:{cursor:"pointer",zIndex:2e3},Endpoint:d,PaintStyle:{strokeStyle:"#42a62c",lineWidth:4},HoverPaintStyle:{strokeStyle:"#42a62c",lineWidth:4},ConnectionOverlays:[p,h]};s||(e.ConnectionsDetachable=!1),angular.isFunction(o.customizeDefaultOptions)&&o.customizeDefaultOptions(e),o.jsPlumb.importDefaults(e)}if(o.jsPlumb.setContainer(a),y(),o.jsPlumbNodes=g,o.jsPlumbNodesById=v,o.jsPlumbTransitions=m,l){var t=o.layout=new dagre.graphlib.Graph;t.setGraph({}),t.setDefaultEdgeLabel(function(){return{}}),_.forEach(g,function(e){return t.setNode(e.id,e)}),_.forEach(m,function(e){t.setEdge(e.source.id,e.target.id)}),dagre.layout(t,{nodesep:i,edgesep:r,ranksep:c,rankDir:n})}angular.forEach(o.jsPlumbNodes,function(e){if(l){var t=e.el.width(),n=e.el.height(),i=e.y-n/2,r=e.x-t/2;e.el.css({top:i,left:r})}!function(e,t){var n={isSource:!0,isTarget:!0,anchor:t.anchors,connector:f,maxConnections:-1};angular.isFunction(o.customizeEndpointOptions)&&o.customizeEndpointOptions(e,t,n);var i=e.addEndpoint(t.el,n);t.endpoints.push(i),s&&e.draggable(t.el,{containment:a})}(o.jsPlumb,e)}),angular.forEach(o.jsPlumbTransitions,function(e){var t={connector:f,maxConnections:-1},n={source:e.source.el,target:e.target.el};angular.isFunction(o.customizeConnectionOptions)&&o.customizeConnectionOptions(o.jsPlumb,e,n,t);try{var i=o.jsPlumb.connect(n,t);e.source.connections.push(i),e.target.connections.push(i)}catch(e){x.warn("Caught error connecting source: ",n.source," to target: ",n.target," error: ",e)}}),o.jsPlumb.isSuspendDrawing()||(o.jsPlumb.recalculateOffsets(a.children()),o.jsPlumb.repaintEverything()),angular.isDefined(o.jsPlumbCallback)&&angular.isFunction(o.jsPlumbCallback)&&o.jsPlumbCallback(o.jsPlumb,o.jsPlumbNodes,o.jsPlumbNodesById,o.jsPlumbTransitions),x.debug("Finished drawing")}o.$on("jsplumbDoWhileSuspended",function(e,t){o.jsPlumb&&(o.jsPlumb.doWhileSuspended(function(){x.debug("Suspended jsplumb"),o.jsPlumb.reset(),t(),g=[],v={},m=[],b()}),setTimeout(function(){o.jsPlumb.recalculateOffsets(a.children()),o.jsPlumb.repaintEverything()}))}),setTimeout(b,u)}}}}}])}(UI||(UI={})),function(h){h.hawtioList=function(u,d){return{restrict:"",replace:!0,templateUrl:h.templatePath+"list.html",scope:{config:"=hawtioList"},link:function(o,e,t){o.rows=[],o.name="hawtioListScope",o.config.selectedItems||(o.config.selectedItems=[]),o.$watch("rows",function(e,t){e!==t&&(o.config.selectedItems.length=0,_.filter(o.rows,function(e){return e.selected}).forEach(function(e){o.config.selectedItems.push(e.entity)}))},!0),o.cellTemplate=u.get("cellTemplate.html"),o.rowTemplate=u.get("rowTemplate.html");var n=o.config.columnDefs,a="name",i="Name";if(n&&0<n.length){var r=_.first(n);a=r.field||a,i=r.displayName||i,r.cellTemplate&&(o.cellTemplate=r.cellTemplate)}var s=t.hawtioList,l=o.config.data;if(!Core.isBlank(s)&&!Core.isBlank(l)){o.listRoot=function(){return e.find(".hawtio-list-root")},o.getContents=function(e){var t=o.$new();t.row=e;var n=d(o.rowTemplate)(t),i=o.parentScope.$new();i.row=e,i.col={field:a};var r=d(o.cellTemplate)(i);return $(n).find(".hawtio-list-row-contents").append(r),n},o.setRows=function(e){o.rows=[];var n=o.listRoot();n.empty(),e&&e.forEach(function(t){var e={entity:t,getProperty:function(e){return angular.isDefined(e)?t[e]:null}};n.append(o.getContents(e)),o.rows.push(e)})};var c=h.findParentWith(o,s);c&&(o.parentScope=c).$watch(l,o.setRows,!0)}}}},h._module.directive("hawtioList",["$templateCache","$compile",h.hawtioList])}(UI||(UI={})),function(e){e._module.directive("hawtioObject",["$templateCache","$interpolate","$compile",function(x,o,c){return{restrict:"A",replace:!0,templateUrl:e.templatePath+"object.html",scope:{entity:"=?hawtioObject",config:"=?",path:"=?",row:"=?"},link:function(s,t,e){function p(e,t,n,i){var r=o(e);return r(n?{key:_.startCase(n),data:i,path:t}:{data:i,path:t})}function l(n,e){var i=void 0,t=Core.pathGet(e,["properties"]);return!i&&t&&angular.forEach(t,function(e,t){new RegExp(t).test(n)&&(i=!i||i.override||e.override?_.clone(e,!0):_.merge(i,e))}),i}function g(e,t,n){var i=n;return(t=l(e,t))&&t.template&&(i=t.template),i}function m(e,t,n,i,r){if(!(r=l(t,r))||!r.hidden){var o=null;o=r&&r.template?r.template:p(e,t,n,i);var a=s.$new();return a.row=s.row,a.entityConfig=r,a.data=i,a.path=t,c(o)(a)}}function f(u,d,h){var p=!1,f=void 0;return angular.forEach(d,function(e,t){var n,i,r,o,a,s,l,c;(angular.isNumber(t)&&"length"in d&&(p=!0),p)||(_.startsWith(t,"$")||(f||(f=angular.element("<span></span>")),angular.isArray(e)?f.append(function(e,t,n,i){var r=v(e,n,i);{if(r){var o=g(e,i,x.get("arrayAttributeTableTemplate.html"));return y(o,e,t,n,r,i)}var o=g(e,i,x.get("arrayAttributeListTemplate.html"));return m(o,e,t,n,i)}}(u+"/"+t,t,e,h)):angular.isObject(e)?0===_.size(e)?f.append(b(u+"/"+t,t,"empty",h)):f.append((l=e,m(g(a=u+"/"+(s=t),c=h,x.get("objectAttributeTemplate.html")),a,s,l,c))):StringHelpers.isDate(e)?f.append((n=u+"/"+t,i=t,r=new Date(e),m(g(n,o=h,x.get("dateAttributeTemplate.html")),n,i,r,o))):f.append(b(u+"/"+t,t,e,h))))}),f?f.children():f}function v(r,e,o){var a=void 0;if(!e)return a;var s=!1;return e.forEach(function(t){if(!s&&angular.isObject(t)){a||(a=[]);var e=_.keys(t),n=_.filter(e,function(e){return!angular.isFunction(t[e])}),i=_.filter(n,function(e){var t=l(r+"/"+e,o);return!t||!t.hidden});return _.union(a,i)}s=!(a=void 0)}),a&&(a=_.reject(a,function(e){return _.startsWith(""+e,"$")})),a}function y(e,o,t,n,a,s){var i=angular.element(p(e,o,t,n)),r=i.find("thead"),l=i.find("tbody"),c=x.get("headerTemplate.html"),u=x.get("cellTemplate.html"),d=x.get("rowTemplate.html"),h=angular.element(p(d,o,void 0,void 0));return a.forEach(function(e){h.append(p(c,o+"/"+e,e,void 0))}),r.append(h),n.forEach(function(n,i){var r=angular.element(p(d,o+"/"+i,void 0,void 0));a.forEach(function(e){var t=angular.element(p(u,o+"/"+i+"/"+e,void 0,void 0));t.append(w(o+"/"+i+"/"+e,n[e],s)),r.append(t)}),l.append(r)}),i}function b(e,t,n,i){return m(g(e,i,x.get("primitiveAttributeTemplate.html")),e,t,n,i)}function w(e,t,n){return angular.isArray(t)?(h=v(c=e,u=t,d=n))?y(g(c,d,x.get("arrayValueTableTemplate.html")),c,void 0,u,h,d):m(g(c,d,x.get("arrayValueListTemplate.html")),c,void 0,u,d):angular.isObject(t)?f(e,t,n):StringHelpers.isDate(t)?(a=e,s=Date.create(t),m(g(a,l=n,x.get("dateValueTemplate.html")),a,void 0,s,l)):(r=t,m(g(i=e,o=n,x.get("primitiveValueTemplate.html")),i,void 0,r,o));var i,r,o,a,s,l,c,u,d,h}s.$watch("entity",function(e){e?(s.path||(s.path=""),angular.isDefined(s.row)||(s.row={entity:e}),t.html(w(s.path,e,s.config))):t.empty()},!0)}}}])}(UI||(UI={})),function(e){e.hawtioPane=function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:e.templatePath+"pane.html",scope:{position:"@",width:"@",header:"@"},controller:["$scope","$element","$attrs","$transclude","$document","$timeout","$compile","$templateCache","$window",function(i,r,e,t,n,o,a,s,l){i.moving=!1,t(function(e){if(r.find(".pane-content").append(e),!Core.isBlank(i.header)){var t=s.get(i.header),n=r.find(".pane-header-wrapper");n.html(a(t)(i)),o(function(){r.find(".pane-viewport").css("top",n.height())},500)}}),i.setViewportTop=function(){var e=r.find(".pane-header-wrapper");o(function(){r.find(".pane-viewport").css("top",e.height())},10)},i.setWidth=function(e){e<6||(r.width(e),r.parent().css(i.padding,r.width()+"px"),i.setViewportTop())},i.open=function(){i.setWidth(i.width)},i.close=function(){i.width=r.width(),i.setWidth(6)},i.$on("pane.close",i.close),i.$on("pane.open",i.open),i.toggle=function(){i.moving||(6<r.width()?i.close():i.open())},i.startMoving=function(e){e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),n.on("mouseup.hawtio-pane",function(e){o(function(){i.moving=!1},250),e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),n.off(".hawtio-pane"),Core.$apply(i)}),n.on("mousemove.hawtio-pane",function(e){i.moving=!0,e.stopPropagation(),e.preventDefault(),e.stopImmediatePropagation(),"left"===i.position?i.setWidth(e.pageX+2):i.setWidth(l.innerWidth-e.pageX+2),Core.$apply(i)})}}],link:function(e,t,n){var i=t.parent(),r="left";e.position&&(r=e.position),t.addClass(r);var o=t.width(),a="padding-"+r;e.padding=a;var s=i.css(a);i.css(a,o+"px"),e.$on("$destroy",function(){i.css(a,s)})}}},e._module.directive("hawtioPane",e.hawtioPane)}(UI||(UI={})),function(e){e._module.directive("hawtioMessagePanel",function(){return new e.MessagePanel});var t=function(){this.restrict="A",this.link=function(e,t,n){var i="100%";if("hawtioMessagePanel"in n){var r=n.hawtioMessagePanel;Core.isBlank(r)||(i=r)}var o="1s";if("speed"in n){var a=n.speed;Core.isBlank(a)||(o=a)}t.css({position:"absolute",bottom:0,height:0,"min-height":0,transition:"all "+o+" ease-in-out"}),t.parent().mouseover(function(){t.css({height:i,"min-height":"auto"})}),t.parent().mouseout(function(){t.css({height:0,"min-height":0})})}};e.MessagePanel=t,e._module.directive("hawtioInfoPanel",function(){return new e.InfoPanel});var n=function(){this.restrict="A",this.link=function(e,n,t){var i={left:{side:"right",out:"width"},right:{side:"left",out:"width"},up:{side:"bottom",out:"height"},down:{side:"top",out:"height"}},r="right";if("hawtioInfoPanel"in t){var o=t.hawtioInfoPanel;Core.isBlank(o)||_.some(_.keys(i),o)&&(r=o)}var a="1s";if("speed"in t){var s=t.speed;Core.isBlank(s)||(a=s)}var l="open";if("toggle"in t){var c=t.toggle;Core.isBlank(s)||(l=c)}var u={position:"absolute",transition:"all "+a+" ease-in-out"},d={};d[i[r].out]="100%";var h={};h[i[r].out]=0,u[i[r].side]=0,u[i[r].out]=0,n.css(u),e.$watch(l,function(e,t){Core.parseBooleanValue(e)?n.css(d):n.css(h)}),n.click(function(){e[l]=!1,Core.$apply(e)})}};e.InfoPanel=n}(UI||(UI={})),function(e){e._module.directive("hawtioRow",function(){return new e.DivRow});var t=function(){this.restrict="A",this.link=function(e,t,n){t.get(0).addEventListener("DOMNodeInserted",function(){var e=t.children(),n=0;angular.forEach(e,function(e){var t=angular.element(e);switch(t.css("display")){case"none":break;default:n=n+t.outerWidth(!0)+5}}),t.width(n)})}};e.DivRow=t}(UI||(UI={})),function(o){o._module.directive("hawtioSlideout",function(){return new o.SlideOut});var e=function(){this.restrict="A",this.replace=!0,this.transclude=!0,this.templateUrl=o.templatePath+"slideout.html",this.scope={show:"=hawtioSlideout",direction:"@",top:"@",height:"@",title:"@",close:"@"},this.controller=["$scope","$element","$attrs","$transclude","$compile",function(t,n,e,i,r){t.clone=null,i(function(e){t.clone=$(e).filter(".dialog-body")}),o.observe(t,e,"direction","right"),o.observe(t,e,"top","10%",function(e){n.css("top",e)}),o.observe(t,e,"height","80%",function(e){n.css("height",e)}),o.observe(t,e,"title",""),o.observe(t,e,"close","true"),t.$watch("show",function(){t.show&&(t.body=n.find(".slideout-body"),t.body.html(r(t.clone.html())(t.$parent)))}),t.hidePanel=function(e){o.log.debug("Event: ",e),t.show=!1}}],this.link=function(e,t,n){e.$watch("show",function(){e.show?(t.addClass("out"),t.focus()):t.removeClass("out")})}};o.SlideOut=e}(UI||(UI={})),function(t){t._module.directive("hawtioPager",function(){return new t.TablePager});var e=function(){function e(){var i=this;this.restrict="A",this.scope=!0,this.templateUrl=t.templatePath+"tablePager.html",this.$scope=null,this.element=null,this.attrs=null,this.tableName=null,this.setRowIndexName=null,this.rowIndexName=null,this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.doLink=function(n,e,t){var i=this;this.$scope=n,this.element=e,this.attrs=t,this.tableName=t.hawtioPager||t.array||"data",this.setRowIndexName=t.onIndexChange||"onIndexChange",this.rowIndexName=t.rowIndex||"rowIndex",n.first=function(){i.goToIndex(0)},n.last=function(){i.goToIndex(n.tableLength()-1)},n.previous=function(){i.goToIndex(n.rowIndex()-1)},n.next=function(){i.goToIndex(n.rowIndex()+1)},n.isEmptyOrFirst=function(){var e=n.rowIndex();return n.tableLength()<=0||e<=0},n.isEmptyOrLast=function(){var e=n.rowIndex(),t=n.tableLength();return t<1||t<=e+1},n.rowIndex=function(){return Core.pathGet(n.$parent,i.rowIndexName.split("."))},n.tableLength=function(){var e=i.tableData();return e?e.length:0}},e.prototype.tableData=function(){return Core.pathGet(this.$scope.$parent,this.tableName.split("."))||[]},e.prototype.goToIndex=function(e){var t=this.setRowIndexName,n=this.$scope[t];angular.isFunction(n)?n(e):(console.log("No function defined in scope for "+t+" but was "+n),this.$scope[this.rowIndexName]=e)},e}();t.TablePager=e}(UI||(UI={})),function(n){n.selectedTags=n._module.filter("selectedTags",["$rootScope",function(o){return function(e,n,i){if(0===i.length)return e;var r=[];return _.forEach(e,function(e){var t=o.$eval(n,e);_.intersection(t,i).length===i.length&&r.push(e)}),r}}]),n.hawtioTagFilter=n._module.directive("hawtioTagFilter",["localStorage","$location",function(e,t){return{restrict:"E",replace:!0,templateUrl:n.templatePath+"tagFilter.html",scope:{selected:"=",tags:"=?",collection:"=",collectionProperty:"@",saveAs:"@"},link:function(i,e,t){function r(){i.collection&&i.collectionProperty?(i.selected.length?(i.filteredCollection=i.collection.filter(function(e){return SelectionHelpers.filterByGroup(i.selected,e[i.collectionProperty])}),i.visibleTags=[],i.filteredCollection.forEach(function(e){i.visibleTags=_.union(i.visibleTags,e[i.collectionProperty])})):(i.visibleTags=i.tags,i.filteredCollection=i.collection),i.visibleTags=i.visibleTags.map(function(n){return{id:n,count:i.filteredCollection.map(function(e){return e[i.collectionProperty]}).reduce(function(e,t){return _.includes(t,n)?e+1:e},0)}})):i.visibleTags=i.tags}SelectionHelpers.decorate(i),i.$watchCollection("collection",function(e){var t=_.union(_.map(e,function(e){return i.$eval(i.collectionProperty,e)})),n=[];_.forEach(t,function(e){n=_.union(n,e)}),i.tags=n}),i.$watchCollection("tags",function(e,t){e!==t&&(SelectionHelpers.syncGroupSelection(i.selected,i.tags),r())}),i.$watchCollection("selected",function(e){var t,n=_.uniq(e);i.selected.length=0,(t=i.selected).push.apply(t,n),r()})}}}])}(UI||(UI={})),function(e){e.hawtioTagList=e._module.directive("hawtioTagList",["$interpolate","$compile","$templateCache",function(s,n,i){return{restrict:"E",replace:!0,templateUrl:UrlHelpers.join(e.templatePath,"tagList.html"),scope:{tags:"=",remove:"=?",selected:"=?"},link:function(r,t,e){SelectionHelpers.decorate(r);var o=i.get("tagBase.html"),a=i.get("tagRemove.html");r.addSelected=function(e){r.selected&&r.selected.push(e)},r.isSelected=function(e){return!r.selected||_.include(r.selected,e)},r.removeTag=function(e){return r.tags.remove(e)},r.$watchCollection("tags",function(e){var i=angular.element("<div></div>");e.forEach(function(e){var t=s(o),n=angular.element(t({tag:e}));r.remove&&n.append(s(a)({tag:e})),r.selected&&n.attr("ng-click","toggleSelectionFromGroup(selected, '"+e+"')"),i.append(n)}),t.html(n(i.children())(r))})}}}])}(UI||(UI={})),function(f){f.TemplatePopover=function(d,h,p){return{restrict:"A",link:function(t,o,e){var n=f.getIfSet("title",e,void 0),i=f.getIfSet("trigger",e,"hover"),r=f.getIfSet("content",e,"popoverTemplate"),a=f.getIfSet("placement",e,"auto"),s=f.getIfSet("delay",e,"100"),l=f.getIfSet("container",e,"body"),c=f.getIfSet("selector",e,"false");"false"===l&&(l=!1),"false"===c&&(c=!1);var u=d.get(r);u&&(o.on("$destroy",function(){o.popover("destroy")}),o.popover({title:n,trigger:i,html:!0,content:function(){var e=h(u)(t);return Core.$digest(t),e},delay:s,container:l,selector:c,placement:function(e,t){if("auto"!==a)return a;var n=o,i=n.offset(),r=p.innerWidth();return i.left+n.outerWidth()/2<r/2?"right":"left"}}))}}},f._module.directive("hawtioTemplatePopover",["$templateCache","$compile","$document",f.TemplatePopover])}(UI||(UI={})),function(e){e.HawtioTocDisplay=function(r,m,e,v){var y=Logger.get("UI");return{restrict:"A",scope:{getContents:"&"},controller:["$scope","$element","$attrs",function(i,e,t){i.remaining=-1,i.render=!1,i.chapters=[],i.addChapter=function(e){console.log("Adding: ",e),i.chapters.push(e),angular.isDefined(e.text)||i.fetchItemContent(e)},i.getTarget=function(e){return e?e.replace(".","_"):""},i.getFilename=function(e,t){var n=e.split("/").last();return t&&!n.endsWith(t)&&(n=n+"."+t),n},i.$watch("remaining",function(e,t){e!==t&&0===e&&(i.render=!0)}),i.fetchItemContent=function(t){var n=i;i.$eval(function(e){e.getContents({filename:t.filename,cb:function(e){e&&(t.filename.endsWith(".md")?t.text=r(e):t.text=e,i.remaining--,Core.$apply(n))}})})}}],link:function(c,i,e){var r=0,t=$(".logbar"),o=$("#toc-content");if(t.length)r=t.height()+t.offset().top;else if(o.length){var n=o.offset();n&&(r=n.top)}r||(r=90);var a=null,s=i;o&&o.length||(o=i);var u=c.$parent||c,l=e.linkFilter,d=e.html;function h(){var n=$(window).scrollTop();i.find("li a").removeClass("active"),$(".panel-body").each(function(){var e=$(this).offset();if(e&&e.top>=n){var t=$(this).attr("id");if(t)return s.find("a[chapter-id='"+t+"']").addClass("active"),!1}})}function p(){var e=s.find("a");return l&&(e=e.filter(l)),e}function f(){s.get(0).id||(s.get(0).id="toc"),c.tocId="#"+s.get(0).id,c.remaining=p().length,p().each(function(e,t){y.debug("Found: ",t);var n={filename:c.getFilename(t.href,t.getAttribute("file-extension")),title:t.textContent,link:t};c.addChapter(n)}),setTimeout(function(){h()},100)}function g(e){if(y.debug("selected chapter changed: "+e),e){var t=0,n=$("#"+e);if(n.length){var i=n.offset();i&&(t=i.top-r),$("body,html").animate({scrollTop:t},1e3)}}}d?u.$watch(d,function(){var e=u[d];if(e&&e!==a){var t=v(a=e)(u);i.children().remove(),i.append(t),f()}}):f(),$(window).scroll(h),c.$watch("render",function(e,t){if(e!==t&&e&&!o.next(".hawtio-toc").length){var s=$('<div class="hawtio-toc"></div>');s.appendTo(o);var l=m.search().chapter;c.chapters.forEach(function(e,t){y.debug("index:",t);var n=$("<div></div>"),i=null,r=c.getTarget(e.filename),o=e.link;o&&o.setAttribute("chapter-id",r),0<t&&(i=$('<div class="panel-title"><a class="toc-back" href="">Back to Top</a></div>'));var a=$('<div class="panel-body" id="'+r+'">'+e.text+"</div>");i?n.append(i).append(v(a)(c)):n.append(v(a)(c)),n.hide().appendTo(s).fadeIn(1e3),r===l&&g(r)});var n=o.offset().top-r;s.find("a.toc-back").each(function(e,t){$(t).click(function(e){e.preventDefault(),$("body,html").animate({scrollTop:n},2e3)})}),p().each(function(e,t){var n=t.href,i=c.getFilename(n,t.getAttribute("file-extension"));$(t).click(function(e){y.debug("Clicked: ",e),e.preventDefault();var t=c.getTarget(i);return m.search("chapter",t),Core.$apply(u),g(t),!0})})}}),u.$on("$locationChangeSuccess",function(e,t,n){setTimeout(function(){g(m.search().chapter)},50)})}}},e._module.directive("hawtioTocDisplay",["marked","$location","$anchorScroll","$compile",e.HawtioTocDisplay])}(UI||(UI={})),function(r){r._module.directive("hawtioViewport",function(){return new r.ViewportHeight});var e=function(){this.restrict="A",this.link=function(e,o,a){var s=0,t=function(){var e=angular.element(a.hawtioViewport),t=angular.element(a.containingDiv),n=e.position().top+e.height(),i=t.height()-n;if(angular.isDefined(a.heightAdjust))var r=Core.parseIntValue(a.heightAdjust);i+=r,o.css({height:i,"min-height":i}),s!==i&&(s=i,o.trigger("resize"))};t(),e.$watch(t),$().resize(function(){return t(),Core.$apply(e),!1})}};r.ViewportHeight=e,r._module.directive("hawtioHorizontalViewport",function(){return new r.HorizontalViewport});var t=function(){this.restrict="A",this.link=function(e,t,n){var i=angular.isDefined(n.adjustParent)&&Core.parseBooleanValue(n.adjustParent);t.get(0).addEventListener("DOMNodeInserted",function(){var e=t.children();t.height(e.outerHeight(!0)),i&&t.parent().height(t.outerHeight(!0)+r.getScrollbarWidth())})}};r.HorizontalViewport=t}(UI||(UI={})),(UI||(UI={}))._module.directive("hawtioWindowHeight",["$window",function(o){return{restrict:"A",replace:!1,link:function(e,t,n){var r=o.innerHeight;function i(e){var t=e.offset();if(t){var n=t.top,i=r-n;0<i&&e.attr({style:"height: "+i+"px;"})}}e.$watch(_.debounce(function(){r=o.innerHeight,t.parents().each(function(e,t){i(t=$(t))}),i(t)},1e3,{trailing:!0}))}}}]),function(t){t._module.directive("zeroClipboard",["$parse",function(e){return t.ZeroClipboardDirective(e)}]),t.ZeroClipboardDirective=function(o){return{restrict:"A",link:function(n,e,t){var i=new ZeroClipboard(e.get(0),{moviePath:"img/ZeroClipboard.swf"});if(i.on("complete",function(e,t){t.text&&angular.isString(t.text)&&Core.notification("info","Copied text to clipboard: "+t.text.truncate(20)),Core.$apply(n)}),"useCallback"in t){var r=o(t.useCallback);r&&r(n,{clip:i})}}}}}(UI||(UI={})),angular.module("hawtio-ui-templates",[]).run(["$templateCache",function(e){e.put("plugins/editor/html/editor.html",'<div class="editor-autoresize">\n  <textarea name="{{name}}" ng-model="text"></textarea>\n</div>\n'),e.put("plugins/ui/html/breadcrumbs.html",'<div class="hawtio-breadcrumbs">\n  <ul ng-show="config">\n    <li ng-repeat="(level, config) in levels track by level" ng-show="config">\n      <span class="hawtio-breadcrumbs-menu" hawtio-drop-down="config" process-submenus="false"></span>\n      <i ng-if="!isLastLevel(level)" class="fa fa-angle-double-right hawtio-breadcrumbs-divider"></i>\n    </li>\n  </ul>\n</div>\n'),e.put("plugins/ui/html/colorPicker.html",'<div class="color-picker">\n  <div class="wrapper">\n    <div class="selected-color" style="background-color: {{property}};" ng-click="popout = !popout"></div>\n  </div>\n  <div class="color-picker-popout">\n    <table>\n      <tr>\n        <td ng-repeat="color in colorList">\n          <div class="{{color.select}}" style="background-color: {{color.color}};"\n               ng-click="selectColor(color)">\n          </div>\n        <td>\n        <td>\n          <i class="fa fa-remove clickable" ng-click="popout = !popout"></i>\n        </td>\n      </tr>\n    </table>\n  </div>\n</div>\n'),e.put("plugins/ui/html/confirmDialog.html",'<div modal="show">\n  <form class="form-horizontal no-bottom-margin">\n    <div class="modal-header"><h4>{{title}}</h4></div>\n    <div class="modal-body">\n    </div>\n    <div class="modal-footer">\n      <input class="btn btn-danger" ng-show="{{showOkButton != \'false\'}}" type="submit" value="{{okButtonText}}" ng-click="submit()">\n      <button class="btn btn-primary" ng-click="cancel()">{{cancelButtonText}}</button>\n    </div>\n  </form>\n</div>\n'),e.put("plugins/ui/html/developerPage.html",'<div ng-controller="UI.DeveloperPageController">\n\n  <div class="tocify" wiki-href-adjuster>\n    <div hawtio-toc-display\n         get-contents="getContents(filename, cb)">\n      <ul>\n        <li>\n          <a href="plugins/ui/html/test/icon.html" chapter-id="icons">icons</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/auto-columns.html" chapter-id="auto-columns">auto-columns</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/auto-dropdown.html" chapter-id="auto-dropdown">auto-dropdown</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/breadcrumbs.html" chapter-id="breadcrumbs">breadcrumbs</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/color-picker.html" chapter-id="color-picker">color-picker</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/confirm-dialog.html" chapter-id="confirm-dialog">confirm-dialog</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/drop-down.html" chapter-id="drop-down">drop-down</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/editable-property.html" chapter-id="editableProperty">editable-property</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/editor.html" chapter-id="editor">editor</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/expandable.html" chapter-id="expandable">expandable</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/file-upload.html" chapter-id="file-upload">file-upload</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/jsplumb.html" chapter-id="jsplumb">jsplumb</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/pager.html" chapter-id="pager">pager</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/slideout.html" chapter-id="slideout">slideout</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/template-popover.html" chapter-id="template-popover">template-popover</a>\n        </li>\n        <li>\n          <a href="plugins/ui/html/test/zero-clipboard.html" chapter-id="zero-clipboard">zero-clipboard</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n  <div class="toc-content" id="toc-content"></div>\n</div>\n'),e.put("plugins/ui/html/dropDown.html",'<span>\n\n  <script type="text/ng-template" id="withsubmenus.html">\n    <span class="hawtio-dropdown dropdown" ng-class="open(config)" ng-click="action(config, $event)">\n      <p ng-show="config.heading" ng-bind="config.heading"></p>\n      <span ng-show="config.title">\n        <i ng-class="icon(config)"></i>&nbsp;<span ng-bind="config.title"></span>\n        <span ng-show="config.items" ng-hide="config.submenu" class="caret"></span>\n        <span ng-show="config.items && config.submenu" class="submenu-caret"></span>\n      </span>\n\n      <ul ng-hide="config.action" ng-show="config.items" class="dropdown-menu" ng-class="submenu(config)">\n        <li ng-repeat="item in config.items track by $index" ng-init="config=item; config[\'submenu\']=true" ng-include="\'withsubmenus.html\'" hawtio-show object-name="{{item.objectName}}" method-name="{{item.methodName}}" argument-types="{{item.argumentTypes}}" mode="remove">\n        </li>\n      </ul>\n    </span>\n  <\/script>\n\n  <script type="text/ng-template" id="withoutsubmenus.html">\n    <span class="hawtio-dropdown dropdown" ng-class="open(config)" ng-click="action(config, $event)">\n      <p ng-if="config.heading" ng-bind="config.heading"></p>\n      <span ng-if="config.title">\n        <i ng-class="icon(config)"></i>&nbsp;<span ng-bind="config.title"></span>\n        <span ng-if="config.items && config.items.length > 0" class="caret"></span>\n     </span>\n\n      <ul ng-if="!config.action && config.items" class="dropdown-menu" ng-class="submenu(config)">\n        <li ng-repeat="item in config.items track by $index" hawtio-show object-name="{{item.objectName}}" method-name="{{item.methodName}}" argument-types="{{item.argumentTypes}}" mode="remove">\n          <span class="menu-item" ng-click="action(item, $event)">\n            <i ng-class="icon(item)"></i>&nbsp;<span ng-bind="item.title"></span>\n            <span ng-if="item.items" class="submenu-caret"></span>\n          </span>\n        </li>\n      </ul>\n\n    </span>\n  <\/script>\n  <span compile="menuStyle"></span>\n</span>\n'),e.put("plugins/ui/html/editableProperty.html",'<div ng-mouseenter="showEdit()" ng-mouseleave="hideEdit()" class="ep" ng-dblclick="doEdit()">\n  {{getText()}}&nbsp;<i class="ep-edit fa fa-pencil" title="Edit this item" ng-click="doEdit()" no-click></i>\n</div>\n<div class="ep editing" ng-show="editing" no-click>\n  <form class="form-inline no-bottom-margin" ng-submit="saveEdit()">\n    <fieldset>\n      <span ng-switch="inputType">\n        <span ng-switch-when="number">\n          <input type="number" size="{{text.length}}" ng-style="getInputStyle()" value="{{text}}" max="{{max}}" min="{{min}}">\n        </span>\n        <span ng-switch-when="password">\n          <input type="password" size="{{text.length}}" ng-style="getInputStyle()" value="{{text}}">\n        </span>\n        <span ng-switch-default>\n          <input type="text" size="{{text.length}}" ng-style="getInputStyle()" value="{{text}}">\n        </span>\n      </span>\n      <i class="green clickable fa fa-check icon1point5x" title="Save changes" ng-click="saveEdit()"></i>\n      <i class="red clickable fa fa-remove icon1point5x" title="Discard changes" ng-click="stopEdit()"></i>\n    </fieldset>\n  </form>\n</div>\n'),e.put("plugins/ui/html/editor.html",'<div class="editor-autoresize">\n  <textarea name="{{name}}" ng-model="text"></textarea>\n</div>\n'),e.put("plugins/ui/html/editorPreferences.html",'<div ng-controller="CodeEditor.PreferencesController">\n  <form class="form-horizontal">\n    <div class="control-group">\n      <label class="control-label" for="theme" title="The default theme to be used by the code editor">Theme</label>\n\n      <div class="controls">\n        <select id="theme" ng-model="preferences.theme">\n          <option value="default">Default</option>\n          <option value="ambiance">Ambiance</option>\n          <option value="blackboard">Blackboard</option>\n          <option value="cobalt">Cobalt</option>\n          <option value="eclipse">Eclipse</option>\n          <option value="monokai">Monokai</option>\n          <option value="neat">Neat</option>\n          <option value="twilight">Twilight</option>\n          <option value="vibrant-ink">Vibrant ink</option>\n        </select>\n      </div>\n    </div>\n  </form>\n\n  <form name="editorTabForm" class="form-horizontal">\n    <div class="control-group">\n      <label class="control-label" for="tabSIze">Tab size</label>\n\n      <div class="controls">\n        <input type="number" id="tabSize" name="tabSize" ng-model="preferences.tabSize" ng-required="ng-required" min="1" max="10"/>\n        <span class="help-block"\n            ng-hide="editorTabForm.tabSize.$valid">Please specify correct size (1-10).</span>\n      </div>\n    </div>\n  </form>\n\n  <div compile="codeMirrorEx"></div>\n\n\x3c!-- please do not change the tabs into spaces in the following script! --\x3e\n<script type="text/ng-template" id="exampleText">\nvar foo = "World!";\n\nvar myObject = {\n\tmessage: "Hello",\n\t\tgetMessage: function() {\n\t\treturn message + " ";\n \t}\n};\n\nwindow.alert(myObject.getMessage() + foo);\n<\/script>\n\n<script type="text/ng-template" id="codeMirrorExTemplate">\n  <div hawtio-editor="exampleText" mode="javascript"></div>\n<\/script>\n</div>\n\n</div>\n'),e.put("plugins/ui/html/filter.html",'<div class="inline-block section-filter">\n  <input type="text"\n         class="search-query"\n         ng-class="getClass()"\n         ng-model="ngModel"\n         placeholder="{{placeholder}}">\n  <i class="fa fa-remove clickable"\n     title="Clear Filter"\n     ng-click="ngModel = \'\'"></i>\n</div>\n'),e.put("plugins/ui/html/icon.html",'<span>\n  <span ng-show="icon && icon.type && icon.src" title="{{icon.title}}" ng-switch="icon.type">\n    <i ng-switch-when="icon" class="{{icon.src}} {{icon.class}}"></i>\n    <img ng-switch-when="img" ng-src="{{icon.src}}" class="{{icon.class}}">\n  </span>\n  <span ng-hide="icon && icon.type && icon.src">\n    &nbsp;\n  </span>\n</span>\n\n'),e.put("plugins/ui/html/layoutUI.html","<div ng-view></div>\n"),e.put("plugins/ui/html/list.html",'<div>\n\n  \x3c!-- begin cell template --\x3e\n  <script type="text/ng-template" id="cellTemplate.html">\n    <div class="ngCellText">\n      {{row.entity}}\n    </div>\n  <\/script>\n  \x3c!-- end cell template --\x3e\n\n  \x3c!-- begin row template --\x3e\n  <script type="text/ng-template" id="rowTemplate.html">\n    <div class="hawtio-list-row">\n      <div ng-show="config.showSelectionCheckbox"\n           class="hawtio-list-row-select">\n        <input type="checkbox" ng-model="row.selected">\n      </div>\n      <div class="hawtio-list-row-contents"></div>\n    </div>\n  <\/script>\n  \x3c!-- end row template --\x3e\n\n  \x3c!-- must have a little margin in the top --\x3e\n  <div class="hawtio-list-root" style="margin-top: 15px"></div>\n\n</div>\n'),e.put("plugins/ui/html/multiItemConfirmActionDialog.html",'<div>\n  <form class="no-bottom-margin">\n    <div class="modal-header">\n      <span>{{options.title || \'Are you sure?\'}}</span>\n    </div>\n    <div class="modal-body">\n      <p ng-show=\'options.action\'\n         ng-class=\'options.actionClass\'\n         ng-bind=\'options.action\'></p>\n      <ul>\n        <li ng-repeat="item in options.collection" ng-bind="getName(item)"></li>\n      </ul>\n      <p ng-show="options.custom" \n         ng-class="options.customClass" \n         ng-bind="options.custom"></p>\n    </div>\n    <div class="modal-footer">\n      <button class="btn" \n              ng-class="options.okClass" \n              ng-click="close(true)">{{options.okText || \'Ok\'}}</button>\n      <button class="btn" \n              ng-class="options.cancelClass"\n              ng-click="close(false)">{{options.cancelText || \'Cancel\'}}</button>\n    </div>\n  </form>\n</div>\n'),e.put("plugins/ui/html/object.html",'<div>\n  <script type="text/ng-template" id="primitiveValueTemplate.html">\n    <span ng-show="data" object-path="{{path}}">{{data}}</span>\n  <\/script>\n  <script type="text/ng-template" id="arrayValueListTemplate.html">\n    <ul class="zebra-list" ng-show="data" object-path="{{path}}">\n      <li ng-repeat="item in data">\n        <div hawtio-object="item" config="config" path="path" row="row"></div>\n      </li>\n    </ul>\n  <\/script>\n  <script type="text/ng-template" id="arrayValueTableTemplate.html">\n    <table class="table table-striped" object-path="{{path}}">\n      <thead>\n      </thead>\n      <tbody>\n      </tbody>\n    </table>\n  <\/script>\n  <script type="text/ng-template" id="dateAttributeTemplate.html">\n    <dl class="" ng-show="data" object-path="{{path}}">\n      <dt>{{key}}</dt>\n      <dd ng-show="data && data.getTime() > 0">{{data | date:"EEEE, MMMM dd, yyyy \'at\' hh : mm : ss a Z"}}</dd>\n      <dd ng-show="data && data.getTime() <= 0"></dd>\n\n    </dl>\n  <\/script>\n  <script type="text/ng-template" id="dateValueTemplate.html">\n    <span ng-show="data">\n      <span ng-show="data && data.getTime() > 0" object-path="{{path}}">{{data | date:"EEEE, MMMM dd, yyyy \'at\' hh : mm : ss a Z"}}</span>\n      <span ng-show="data && data.getTime() <= 0" object-path="{{path}}"></span>\n    </span>\n  <\/script>\n  <script type="text/ng-template" id="primitiveAttributeTemplate.html">\n    <dl class="" ng-show="data" object-path="{{path}}">\n      <dt>{{key}}</dt>\n      <dd>{{data}}</dd>\n    </dl>\n  <\/script>\n  <script type="text/ng-template" id="objectAttributeTemplate.html">\n    <dl class="" ng-show="data" object-path="{{path}}">\n      <dt>{{key}}</dt>\n      <dd>\n        <div hawtio-object="data" config="config" path="path" row="row"></div>\n      </dd>\n    </dl>\n  <\/script>\n  <script type="text/ng-template" id="arrayAttributeListTemplate.html">\n    <dl class="" ng-show="data" object-path="{{path}}">\n      <dt>{{key}}</dt>\n      <dd>\n        <ul class="zebra-list">\n          <li ng-repeat="item in data" ng-init="path = path + \'/\' + $index">\n            <div hawtio-object="item" config="config" path="path" row="row"></div>\n          </li>\n        </ul>\n      </dd>\n    </dl>\n  <\/script>\n  <script type="text/ng-template" id="arrayAttributeTableTemplate.html">\n    <dl class="" ng-show="data" object-path="{{path}}">\n      <dt>{{key}}</dt>\n      <dd>\n        <table class="table table-striped">\n          <thead>\n          </thead>\n          <tbody>\n          </tbody>\n        </table>\n      </dd>\n    </dl>\n  <\/script>\n  <script type="text/ng-template" id="headerTemplate.html">\n    <th object-path="{{path}}">{{key}}</th>\n  <\/script>\n  <script type="text/ng-template" id="rowTemplate.html">\n    <tr object-path="{{path}}"></tr>\n  <\/script>\n  <script type="text/ng-template" id="cellTemplate.html">\n    <td object-path="{{path}}"></td>\n  <\/script>\n</div>\n'),e.put("plugins/ui/html/pane.html",'<div class="pane">\n  <div class="pane-wrapper">\n    <div class="pane-header-wrapper">\n    </div>\n    <div class="pane-viewport">\n      <div class="pane-content">\n      </div>\n    </div>\n    <div class="pane-bar"\n         ng-mousedown="startMoving($event)"\n         ng-click="toggle()"></div>\n  </div>\n</div>\n'),e.put("plugins/ui/html/slideout.html",'<div class="slideout {{direction || \'right\'}}">\n  <div class=slideout-title>\n    <div ng-show="{{close || \'true\'}}" class="mouse-pointer pull-right" ng-click="hidePanel($event)" title="Close panel">\n      <i class="fa fa-remove"></i>\n    </div>\n    <span>{{title}}</span>\n  </div>\n  <div class="slideout-content">\n    <div class="slideout-body"></div>\n  </div>\n</div>\n'),e.put("plugins/ui/html/tablePager.html",'<div class="hawtio-pager clearfix">\n  <label>{{rowIndex() + 1}} / {{tableLength()}}</label>\n  <div class=btn-group>\n    <button class="btn" ng-disabled="isEmptyOrFirst()" ng-click="first()"><i class="fa fa-fast-backward"></i></button>\n    <button class="btn" ng-disabled="isEmptyOrFirst()" ng-click="previous()"><i class="fa fa-step-backward"></i></button>\n    <button class="btn" ng-disabled="isEmptyOrLast()" ng-click="next()"><i class="fa fa-step-forward"></i></button>\n    <button class="btn" ng-disabled="isEmptyOrLast()" ng-click="last()"><i class="fa fa-fast-forward"></i></button>\n  </div>\n</div>\n'),e.put("plugins/ui/html/tagFilter.html",'<div>\n  <ul class="list-unstyled label-list">\n    <li ng-repeat="tag in visibleTags | orderBy:\'tag.id || tag\'"\n        class="mouse-pointer"\n        ng-click="toggleSelectionFromGroup(selected, tag.id || tag)">\n              <span class="badge"\n                    ng-class="isInGroup(selected, tag.id || tag, \'badge-success\', \'\')"\n                      >{{tag.id || tag}}</span>\n              <span class="pull-right"\n                    ng-show="tag.count">{{tag.count}}&nbsp;</span>\n    </li>\n  </ul>\n  <div class="mouse-pointer"\n       ng-show="selected.length"\n       ng-click="clearGroup(selected)">\n    <i class="fa fa-remove" ></i> Clear Tags\n  </div>\n</div>\n'),e.put("plugins/ui/html/tagList.html",'<span>\n<script type="text/ng-template" id="tagBase.html">\n  <span class="badge mouse-pointer"ng-class="isSelected(\'{{tag}}\') ? \'badge-success\' : \'\'">{{tag}}</span>\n<\/script>\n<script type="text/ng-template" id="tagRemove.html">\n  <i class="fa fa-remove" ng-click="removeTag({{tag}})"></i>\n<\/script>\n</span>\n'),e.put("plugins/ui/html/toc.html",'<div>\n  <div ng-repeat="item in myToc">\n    <div id="{{item[\'href\']}}Target" ng-bind-html="item.text">\n    </div>\n  </div>\n</div>\n'),e.put("plugins/ui-bootstrap/html/message.html",'<div class="modal-header">\n\t<h3>{{ title }}</h3>\n</div>\n<div class="modal-body">\n\t<p>{{ message }}</p>\n</div>\n<div class="modal-footer">\n\t<button ng-repeat="btn in buttons" ng-click="close(btn.result)" class="btn" ng-class="btn.cssClass">{{ btn.label }}</button>\n</div>\n')}]),hawtioPluginLoader.addModule("hawtio-ui-templates");var dialogModule=angular.module("hawtio-compat.dialog",["hawtio-compat.transition"]),Forms,Forms;function escapeJSDiff(e){var t=e;return t=(t=(t=(t=t.replace(/&/g,"&amp;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;")).replace(/"/g,"&quot;")}function diffString(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var n=diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),i="",r=e.match(/\s+/g);null==r?r=["\n"]:r.push("\n");var o=t.match(/\s+/g);if(null==o?o=["\n"]:o.push("\n"),0==n.n.length)for(var a=0;a<n.o.length;a++)i+="<del>"+escapeJSDiff(n.o[a])+r[a]+"</del>";else{if(null==n.n[0].text)for(t=0;t<n.o.length&&null==n.o[t].text;t++)i+="<del>"+escapeJSDiff(n.o[t])+r[t]+"</del>";for(a=0;a<n.n.length;a++)if(null==n.n[a].text)i+="<ins>"+escapeJSDiff(n.n[a])+o[a]+"</ins>";else{var s="";for(t=n.n[a].row+1;t<n.o.length&&null==n.o[t].text;t++)s+="<del>"+escapeJSDiff(n.o[t])+r[t]+"</del>";i+=" "+n.n[a].text+o[a]+s}}return i}function randomColor(){return"rgb("+100*Math.random()+"%, "+100*Math.random()+"%, "+100*Math.random()+"%)"}function diffString2(e,t){e=e.replace(/\s+$/,""),t=t.replace(/\s+$/,"");var n=diff(""==e?[]:e.split(/\s+/),""==t?[]:t.split(/\s+/)),i=e.match(/\s+/g);null==i?i=["\n"]:i.push("\n");var r=t.match(/\s+/g);null==r?r=["\n"]:r.push("\n");for(var o="",a=new Array,s=0;s<n.o.length;s++)a[s]=randomColor(),null!=n.o[s].text?o+='<span style="background-color: '+a[s]+'">'+escapeJSDiff(n.o[s].text)+i[s]+"</span>":o+="<del>"+escapeJSDiff(n.o[s])+i[s]+"</del>";var l="";for(s=0;s<n.n.length;s++)null!=n.n[s].text?l+='<span style="background-color: '+a[n.n[s].row]+'">'+escapeJSDiff(n.n[s].text)+r[s]+"</span>":l+="<ins>"+escapeJSDiff(n.n[s])+r[s]+"</ins>";return{o:o,n:l}}function diff(e,t){for(var n=new Object,i=new Object,r=0;r<t.length;r++)null==n[t[r]]&&(n[t[r]]={rows:new Array,o:null}),n[t[r]].rows.push(r);for(r=0;r<e.length;r++)null==i[e[r]]&&(i[e[r]]={rows:new Array,n:null}),i[e[r]].rows.push(r);for(var r in n)1==n[r].rows.length&&void 0!==i[r]&&1==i[r].rows.length&&(t[n[r].rows[0]]={text:t[n[r].rows[0]],row:i[r].rows[0]},e[i[r].rows[0]]={text:e[i[r].rows[0]],row:n[r].rows[0]});for(r=0;r<t.length-1;r++)null!=t[r].text&&null==t[r+1].text&&t[r].row+1<e.length&&null==e[t[r].row+1].text&&t[r+1]==e[t[r].row+1]&&(t[r+1]={text:t[r+1],row:t[r].row+1},e[t[r].row+1]={text:e[t[r].row+1],row:r+1});for(r=t.length-1;0<r;r--)null!=t[r].text&&null==t[r-1].text&&0<t[r].row&&null==e[t[r].row-1].text&&t[r-1]==e[t[r].row-1]&&(t[r-1]={text:t[r-1],row:t[r].row-1},e[t[r].row-1]={text:e[t[r].row-1],row:r-1});return{o:e,n:t}}dialogModule.controller("MessageBoxController",["$scope","dialog","model",function(e,t,n){e.title=n.title,e.message=n.message,e.buttons=n.buttons,e.close=function(e){t.close(e)}}]),dialogModule.provider("$dialog",function(){var p={backdrop:!0,dialogClass:"modal",backdropClass:"modal-backdrop",transitionClass:"fade",triggerClass:"in",resolve:{},backdropFade:!1,dialogFade:!1,keyboard:!0,backdropClick:!0},f={},n={value:0};this.options=function(e){f=e},this.$get=["$http","$document","$compile","$rootScope","$controller","$templateCache","$q","$transition","$injector",function(r,e,o,a,s,l,c,u,d){var t=e.find("body");function i(e){var t=angular.element("<div>");return t.addClass(e),t}function h(e){var t=this,n=this.options=angular.extend({},p,f,e);this._open=!1,this.backdropEl=i(n.backdropClass),n.backdropFade&&(this.backdropEl.addClass(n.transitionClass),this.backdropEl.removeClass(n.triggerClass)),this.modalEl=i(n.dialogClass),n.dialogFade&&(this.modalEl.addClass(n.transitionClass),this.modalEl.removeClass(n.triggerClass)),this.handledEscapeKey=function(e){27===e.which&&(t.close(),e.preventDefault(),t.$scope.$apply())},this.handleBackDropClick=function(e){t.close(),e.preventDefault(),t.$scope.$apply()},this.handleLocationChange=function(){t.close()}}return h.prototype.isOpen=function(){return this._open},h.prototype.open=function(e,t){var i=this,n=this.options;if(e&&(n.templateUrl=e),t&&(n.controller=t),!n.template&&!n.templateUrl)throw new Error("Dialog.open expected template or templateUrl, neither found. Use options or open method to specify them.");return this._loadResolves().then(function(e){var t=e.$scope=i.$scope=e.$scope?e.$scope:a.$new();if(i.modalEl.html(e.$template),i.options.controller){var n=s(i.options.controller,e);i.modalEl.children().data("ngControllerController",n)}o(i.modalEl)(t),i._addElementsToDom(),setTimeout(function(){i.options.dialogFade&&i.modalEl.addClass(i.options.triggerClass),i.options.backdropFade&&i.backdropEl.addClass(i.options.triggerClass)}),i._bindEvents()}),this.deferred=c.defer(),this.deferred.promise},h.prototype.close=function(e){var t=this,n=this._getFadingElements();if(0<n.length)for(var i=n.length-1;0<=i;i--)u(n[i],r).then(o);else this._onCloseComplete(e);function r(e){e.removeClass(t.options.triggerClass)}function o(){t._open&&t._onCloseComplete(e)}},h.prototype._getFadingElements=function(){var e=[];return this.options.dialogFade&&e.push(this.modalEl),this.options.backdropFade&&e.push(this.backdropEl),e},h.prototype._bindEvents=function(){this.options.keyboard&&t.bind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.bind("click",this.handleBackDropClick)},h.prototype._unbindEvents=function(){this.options.keyboard&&t.unbind("keydown",this.handledEscapeKey),this.options.backdrop&&this.options.backdropClick&&this.backdropEl.unbind("click",this.handleBackDropClick)},h.prototype._onCloseComplete=function(e){this._removeElementsFromDom(),this._unbindEvents(),this.deferred.resolve(e)},h.prototype._addElementsToDom=function(){t.append(this.modalEl),this.options.backdrop&&(0===n.value&&t.append(this.backdropEl),n.value++),this._open=!0},h.prototype._removeElementsFromDom=function(){this.modalEl.remove(),this.options.backdrop&&(n.value--,0===n.value&&this.backdropEl.remove()),this._open=!1},h.prototype._loadResolves=function(){var e,n=[],i=[],t=this;return this.options.template?e=c.when(this.options.template):this.options.templateUrl&&(e=r.get(this.options.templateUrl,{cache:l}).then(function(e){return e.data})),angular.forEach(this.options.resolve||[],function(e,t){i.push(t),n.push(angular.isString(e)?d.get(e):d.invoke(e))}),i.push("$template"),n.push(e),c.all(n).then(function(e){var n={};return angular.forEach(e,function(e,t){n[i[t]]=e}),n.dialog=t,n})},{dialog:function(e){return new h(e)},messageBox:function(e,t,n){return new h({templateUrl:"plugins/ui-bootstrap/html/message.html",controller:"MessageBoxController",resolve:{model:function(){return{title:e,message:t,buttons:n}}}})}}}]}),function(){void 0===Math.sgn&&(Math.sgn=function(e){return 0==e?0:0<e?1:-1});var v=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},y=function(e,t){return e.x*t.x+e.y*t.y},d=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},b=function(e,t){return{x:e.x*t,y:e.y*t}},p=Math.pow(2,-65),i=function(e,t){for(var n=[],i=h(e,t),r=t.length-1,o=f(i,2*r-1,n,0),a=v(e,t[0]),s=d(a),l=0,c=0;c<o;c++){a=v(e,x(t,r,n[c],null,null));var u=d(a);u<s&&(s=u,l=n[c])}return a=v(e,t[r]),(u=d(a))<s&&(s=u,l=1),{location:l,distance:s}},h=function(e,t){for(var n=t.length-1,i=2*n-1,r=[],o=[],a=[],s=[],l=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=n;c++)r[c]=v(t[c],e);for(c=0;c<=n-1;c++)o[c]=v(t[c+1],t[c]),o[c]=b(o[c],3);for(var u=0;u<=n-1;u++)for(var d=0;d<=n;d++)a[u]||(a[u]=[]),a[u][d]=y(o[u],r[d]);for(c=0;c<=i;c++)s[c]||(s[c]=[]),s[c].y=0,s[c].x=parseFloat(c)/i;for(var h=n,p=n-1,f=0;f<=h+p;f++){var g=Math.max(0,f-p),m=Math.min(f,h);for(c=g;c<=m;c++)j=f-c,s[c+j].y+=a[j][c]*l[j][c]}return s},f=function(e,t,n,i){var r,o,a=[],s=[],l=[],c=[];switch(g(e,t)){case 0:return 0;case 1:if(64<=i)return n[0]=(e[0].x+e[t].x)/2,1;if(m(e,t))return n[0]=w(e,t),1}x(e,t,.5,a,s),r=f(a,t,l,i+1),o=f(s,t,c,i+1);for(var u=0;u<r;u++)n[u]=l[u];for(u=0;u<o;u++)n[u+r]=c[u];return r+o},g=function(e,t){var n,i,r=0;n=i=Math.sgn(e[0].y);for(var o=1;o<=t;o++)(n=Math.sgn(e[o].y))!=i&&r++,i=n;return r},m=function(e,t){var n,i,r,o,a,s,l,c;o=e[0].y-e[t].y,a=e[t].x-e[0].x,s=e[0].x*e[t].y-e[t].x*e[0].y;for(var u=max_distance_below=0,d=1;d<t;d++){var h=o*e[d].x+a*e[d].y+s;u<h?u=h:h<max_distance_below&&(max_distance_below=h)}return n=(1*(s-u)-0*(c=a))*(1/(0*c-1*(l=o))),l=o,c=a,i=(1*(s-max_distance_below)-0*c)*(1/(0*c-1*l)),r=Math.min(n,i),Math.max(n,i)-r<p?1:0},w=function(e,t){var n=e[t].x-e[0].x,i=e[t].y-e[0].y,r=e[0].x-0;return 0+1*((n*(e[0].y-0)-i*r)*(1/(0*n-1*i)))},x=function(e,t,n,i,r){for(var o=[[]],a=0;a<=t;a++)o[0][a]=e[a];for(var s=1;s<=t;s++)for(a=0;a<=t-s;a++)o[s]||(o[s]=[]),o[s][a]||(o[s][a]={}),o[s][a].x=(1-n)*o[s-1][a].x+n*o[s-1][a+1].x,o[s][a].y=(1-n)*o[s-1][a].y+n*o[s-1][a+1].y;if(null!=i)for(a=0;a<=t;a++)i[a]=o[a][0];if(null!=r)for(a=0;a<=t;a++)r[a]=o[t-a][a];return o[t][0]},c={},l=function(e,t){for(var n=function(t){var e=c[t];if(!e){var n=function(t){return function(e){return t}},i=function(){return function(e){return e}},r=function(){return function(e){return 1-e}},o=function(i){return function(e){for(var t=1,n=0;n<i.length;n++)t*=i[n](e);return t}};(e=[]).push(new function(){return function(e){return Math.pow(e,t)}});for(var a=1;a<t;a++){for(var s=[new n(t)],l=0;l<t-a;l++)s.push(new i);for(l=0;l<a;l++)s.push(new r);e.push(new o(s))}e.push(new function(){return function(e){return Math.pow(1-e,t)}}),c[t]=e}return e}(e.length-1),i=0,r=0,o=0;o<e.length;o++)i+=e[o].x*n[o](t),r+=e[o].y*n[o](t);return{x:i,y:r}},u=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},C=function(e){return e[0].x==e[1].x&&e[0].y==e[1].y},S=function(e,t,n){if(C(e))return{point:e[0],location:t};for(var i=l(e,t),r=0,o=t,a=0<n?1:-1,s=null;r<Math.abs(n);)s=l(e,o+=.005*a),r+=u(s,i),i=s;return{point:s,location:o}},k=function(e,t){var n=l(e,t),i=l(e.slice(0,e.length-1),t),r=i.y-n.y,o=i.x-n.x;return 0==r?1/0:Math.atan(r/o)};this.jsBezier={distanceFromCurve:i,gradientAtPoint:k,gradientAtPointAlongCurveFrom:function(e,t,n){var i=S(e,t,n);return 1<i.location&&(i.location=1),i.location<0&&(i.location=0),k(e,i.location)},nearestPointOnCurve:function(e,t){var n=i(e,t);return{point:x(t,t.length-1,n.location,null,null),location:n.location}},pointOnCurve:l,pointAlongCurveFrom:function(e,t,n){return S(e,t,n).point},perpendicularToCurveAt:function(e,t,n,i){var r=S(e,t,i=null==i?0:i),o=k(e,r.location),a=Math.atan(-1/o),s=n/2*Math.sin(a),l=n/2*Math.cos(a);return[{x:r.point.x+l,y:r.point.y+s},{x:r.point.x-l,y:r.point.y-s}]},locationAlongCurveFrom:function(e,t,n){return S(e,t,n).location},getLength:function(e){if(C(e))return 0;for(var t=l(e,0),n=0,i=0,r=null;i<1;)r=l(e,i+=.005),n+=u(r,t),t=r;return n}}}.call(this),function(){"use strict";var e=this.Biltong={},i=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n=function(e,t,n){return n(e=i(e)?e:[e.x,e.y],t=i(t)?t:[t.x,t.y])},c=e.gradient=function(e,t){return n(e,t,function(e,t){return t[0]==e[0]?t[1]>e[1]?1/0:-1/0:t[1]==e[1]?t[0]>e[0]?0:-0:(t[1]-e[1])/(t[0]-e[0])})},u=(e.normal=function(e,t){return-1/c(e,t)},e.lineLength=function(e,t){return n(e,t,function(e,t){return Math.sqrt(Math.pow(t[1]-e[1],2)+Math.pow(t[0]-e[0],2))})},e.quadrant=function(e,t){return n(e,t,function(e,t){return t[0]>e[0]?t[1]>e[1]?2:1:t[0]==e[0]?t[1]>e[1]?2:1:t[1]>e[1]?3:4})}),d=(e.theta=function(e,t){return n(e,t,function(e,t){var n=c(e,t),i=Math.atan(n),r=u(e,t);return 4!=r&&3!=r||(i+=Math.PI),i<0&&(i+=2*Math.PI),i})},e.intersects=function(e,t){var n=e.x,i=e.x+e.w,r=e.y,o=e.y+e.h,a=t.x,s=t.x+t.w,l=t.y,c=t.y+t.h;return n<=a&&a<=i&&r<=l&&l<=o||n<=s&&s<=i&&r<=l&&l<=o||n<=a&&a<=i&&r<=c&&c<=o||n<=s&&a<=i&&r<=c&&c<=o||a<=n&&n<=s&&l<=r&&r<=c||a<=i&&i<=s&&l<=r&&r<=c||a<=n&&n<=s&&l<=o&&o<=c||a<=i&&n<=s&&l<=o&&o<=c},e.encloses=function(e,t,r){var n=e.x,i=e.x+e.w,o=e.y,a=e.y+e.h,s=t.x,l=t.x+t.w,c=t.y,u=t.y+t.h,d=function(e,t,n,i){return r?e<=t&&i<=n:e<t&&i<n};return d(n,s,i,l)&&d(o,c,a,u)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),h=[null,[-1,-1],[-1,1],[1,1],[1,-1]];e.pointOnLine=function(e,t,n){var i=c(e,t),r=u(e,t),o=0<n?d[r]:h[r],a=Math.atan(i),s=Math.abs(n*Math.sin(a))*o[1],l=Math.abs(n*Math.cos(a))*o[0];return{x:e.x+l,y:e.y+s}},e.perpendicularLineTo=function(e,t,n){var i=c(e,t),r=Math.atan(-1/i),o=n/2*Math.sin(r),a=n/2*Math.cos(r);return[{x:t.x+a,y:t.y+o},{x:t.x-a,y:t.y-o}]}}.call(this),function(){"use strict";var f=-1<navigator.userAgent.toLowerCase().indexOf("android"),c=function(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1},g=function(e){return"string"==typeof e?document.getElementById(e):e},u=function(e){return e.srcElement||e.target},d=function(e,t){for(var n=0,i=e.length;n<i&&e[n]!=t;n++);n<e.length&&e.splice(n,1)},r=1,s=function(e,t,n){var i=r++;return e.__ta=e.__ta||{},e.__ta[t]=e.__ta[t]||{},(e.__ta[t][i]=n).__tauid=i},l=function(e,i,r,t){if(null==e)return r;var o=e.split(","),a=function(e){a.__tauid=r.__tauid;for(var t=u(e),n=0;n<o.length;n++)c(t,o[n],i)&&r.apply(t,arguments)};return n(r,t,a),a},n=function(e,t,n){e.__taExtra=e.__taExtra||[],e.__taExtra.push([t,n])},h=function(e,t,n,i){if(y&&w[t]){var r=l(i,e,n,w[t]);k(e,w[t],r,n)}"focus"===t&&null==e.getAttribute("tabindex")&&e.setAttribute("tabindex","1"),k(e,t,l(i,e,n,t),n)},p={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},i=function(o,l){return function(a,e,t,n){if("contextmenu"==e&&b)h(a,e,t,n);else{if(null==a.__taTapHandler){var s=a.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},i=function(){s.down=!1},r=function(){s.taps=0};h(a,"mousedown",function(e){for(var t=e.srcElement||e.target,n=0;n<s.downSelectors.length;n++)if(null==s.downSelectors[n]||c(t,s.downSelectors[n],a)){s.down=!0,setTimeout(i,o),setTimeout(r,l);break}}),h(a,"mouseup",function(e){if(s.down){var t=e.srcElement||e.target;s.taps++;var n=S(e);for(var i in p){var r=p[i];if(r.touches===n&&(1===r.taps||r.taps===s.taps))for(var o=0;o<s[i].length;o++)(null==s[i][o][1]||c(t,s[i][o][1],a))&&s[i][o][0].apply(u(e),[e])}}})}a.__taTapHandler.downSelectors.push(n),a.__taTapHandler[e].push([t,n]),t.__taUnstore=function(){d(a.__taTapHandler[e],t)}}}},m=function(e,t,n,i){for(var r in n.__tamee[e])n.__tamee[e][r].apply(i,[t])},v=function(){var a=[];return function(i,e,t,n){if(!i.__tamee){i.__tamee={over:!1,mouseenter:[],mouseexit:[]};var r=function(e){var t=u(e);(null==n&&t==i&&!i.__tamee.over||c(t,n,i)&&(null==t.__tamee||!t.__tamee.over))&&(m("mouseenter",e,i,t),t.__tamee=t.__tamee||{},t.__tamee.over=!0,a.push(t))},o=function(e){for(var t=u(e),n=0;n<a.length;n++)t!=a[n]||c(e.relatedTarget||e.toElement,"*",t)||(t.__tamee.over=!1,a.splice(n,1),m("mouseexit",e,i,t))};k(i,"mouseover",l(n,i,r,"mouseover"),r),k(i,"mouseout",l(n,i,o,"mouseout"),o)}t.__taUnstore=function(){delete i.__tamee[e][t.__tauid]},s(i,e,t),i.__tamee[e][t.__tauid]=t}},y="ontouchstart"in document.documentElement,b="onmousedown"in document.documentElement,w={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},e=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),t=-1<e&&e<9,x=function(e,t){if(null==e)return[0,0];var n=a(e),i=o(n,0);return[i[t+"X"],i[t+"Y"]]},C=function(e){return null==e?[0,0]:t?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:x(e,"page")},o=function(e,t){return e.item?e.item(t):e[t]},a=function(e){return e.touches&&0<e.touches.length?e.touches:e.changedTouches&&0<e.changedTouches.length?e.changedTouches:e.targetTouches&&0<e.targetTouches.length?e.targetTouches:[e]},S=function(e){return a(e).length},k=function(e,t,n,i){if(s(e,t,n),i.__tauid=n.__tauid,e.addEventListener)e.addEventListener(t,n,!1);else if(e.attachEvent){var r=t+n.__tauid;e["e"+r]=n,e[r]=function(){e["e"+r]&&e["e"+r](window.event)},e.attachEvent("on"+t,e[r])}},_=function(n,i,r){null!=r&&T(n,function(){var e=g(this);if(function(e,t,n){if(e.__ta&&e.__ta[t]&&delete e.__ta[t][n.__tauid],n.__taExtra){for(var i=0;i<n.__taExtra.length;i++)_(e,n.__taExtra[i][0],n.__taExtra[i][1]);n.__taExtra.length=0}n.__taUnstore&&n.__taUnstore()}(e,i,r),null!=r.__tauid)if(e.removeEventListener)e.removeEventListener(i,r,!1),y&&w[i]&&e.removeEventListener(w[i],r,!1);else if(this.detachEvent){var t=i+r.__tauid;e[t]&&e.detachEvent("on"+i,e[t]),e[t]=null,e["e"+t]=null}r.__taTouchProxy&&_(n,r.__taTouchProxy[1],r.__taTouchProxy[0])})},T=function(e,t){if(null!=e){e="undefined"!=typeof Window&&"unknown"!=typeof e.top&&e==e.top?[e]:"string"!=typeof e&&null==e.tagName&&null!=e.length?e:"string"==typeof e?document.querySelectorAll(e):[e];for(var n=0;n<e.length;n++)t.apply(e[n])}};this.Mottle=function(e){var t=(e=e||{}).clickThreshold||150,n=e.dblClickThreshold||350,r=new v,o=new i(t,n),a=e.smartClicks,l=function(e,t,n,i){null!=n&&T(e,function(){var e=g(this);a&&"click"===t?function(n,e,t,i){null==n.__taSmartClicks&&(h(n,"mousedown",function(e){n.__tad=C(e)},i),h(n,"mouseup",function(e){n.__tau=C(e)},i),h(n,"click",function(e){if(n.__tad&&n.__tau&&n.__tad[0]===n.__tau[0]&&n.__tad[1]===n.__tau[1])for(var t=0;t<n.__taSmartClicks.length;t++)n.__taSmartClicks[t].apply(u(e),[e])},i),n.__taSmartClicks=[]);n.__taSmartClicks.push(t),t.__taUnstore=function(){d(n.__taSmartClicks,t)}}(e,0,n,i):"tap"===t||"dbltap"===t||"contextmenu"===t?o(e,t,n,i):"mouseenter"===t||"mouseexit"==t?r(e,t,n,i):h(e,t,n,i)})};this.remove=function(e){return T(e,function(){var e=g(this);if(e.__ta)for(var t in e.__ta)for(var n in e.__ta[t])_(e,t,e.__ta[t][n]);e.parentNode&&e.parentNode.removeChild(e)}),this},this.on=function(e,t,n,i){var r=e,o=4==arguments.length?n:null,a=t,s=arguments[arguments.length-1];return l(r,a,s,o),this},this.off=function(e,t,n){return _(e,t,n),this},this.trigger=function(e,r,a,s){var l=b&&("undefined"==typeof MouseEvent||null==a||a.constructor===MouseEvent),c=y&&!b&&w[r]?w[r]:r,u=!(y&&!b&&w[r]),d=C(a),h=x(a,"screen"),p=x(a,"client");return T(e,function(){var e,o=g(this);a=a||{screenX:h[0],screenY:h[1],clientX:p[0],clientY:p[1]};var t=function(e){s&&(e.payload=s)},n={TouchEvent:function(e){var t=document.createTouch(window,o,0,d[0],d[1],h[0],h[1],p[0],p[1],0,0,0,0),n=document.createTouchList(t),i=document.createTouchList(t),r=document.createTouchList(t);e.initTouchEvent(c,!0,!0,window,null,h[0],h[1],p[0],p[1],!1,!1,!1,!1,n,i,r,1,0)},MouseEvents:function(e){if(e.initMouseEvent(c,!0,!0,window,0,h[0],h[1],p[0],p[1],!1,!1,!1,!1,1,o),f){var t=document.createTouch(window,o,0,d[0],d[1],h[0],h[1],p[0],p[1],0,0,0,0);e.touches=e.targetTouches=e.changedTouches=document.createTouchList(t)}}};if(document.createEvent){var i=!u&&!l&&y&&w[r]&&!f?"TouchEvent":"MouseEvents";e=document.createEvent(i),n[i](e),t(e),o.dispatchEvent(e)}else document.createEventObject&&((e=document.createEventObject()).eventType=e.eventName=c,e.screenX=h[0],e.screenY=h[1],e.clientX=p[0],e.clientY=p[1],t(e),o.fireEvent("on"+c,e))}),this}},Mottle.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},Mottle.pageLocation=C,Mottle.setForceTouchEvents=function(e){y=e},Mottle.setForceMouseEvents=function(e){b=e}}.call(this),function(){var l=function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(e){return"string"==typeof e},u=function(e){return"boolean"==typeof e},d=function(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)},o=function(e){return"[object Date]"===Object.prototype.toString.call(e)},a=function(e){return"[object Function]"===Object.prototype.toString.call(e)},h=this.jsPlumbUtil={isArray:l,isString:c,isBoolean:u,isNull:function(e){return null==e},isObject:d,isDate:o,isFunction:a,isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},clone:function(e){if(c(e))return""+e;if(u(e))return!!e;if(o(e))return new Date(e.getTime());if(a(e))return e;if(l(e)){for(var t=[],n=0;n<e.length;n++)t.push(this.clone(e[n]));return t}if(d(e)){var i={};for(var r in e)i[r]=this.clone(e[r]);return i}return e},merge:function(e,t,n){var i,r,o={};for(n=n||[],r=0;r<n.length;r++)o[n[r]]=!0;var a=this.clone(e);for(r in t)if(null==a[r])a[r]=t[r];else if(c(t[r])||u(t[r]))o[r]?((i=[]).push.apply(i,l(a[r])?a[r]:[a[r]]),i.push.apply(i,l(t[r])?t[r]:[t[r]]),a[r]=i):a[r]=t[r];else if(l(t[r]))i=[],l(a[r])&&i.push.apply(i,a[r]),i.push.apply(i,t[r]),a[r]=i;else if(d(t[r]))for(var s in d(a[r])||(a[r]={}),t[r])a[r][s]=t[r][s];return a},replace:function(e,t,s){if(null!=e){var l=e;return t.replace(/([^\.])+/g,function(e,t,n,i){var r=e.match(/([^\[0-9]+){1}(\[)([0-9+])/),o=function(){return l[r[1]]||(l[r[1]]=[],l[r[1]])};if(n+e.length>=i.length)r?o()[r[3]]=s:l[e]=s;else if(r){var a=o();l=a[r[3]]||(a[r[3]]={},a[r[3]])}else l=l[e]||(l[e]={},l[e])}),e}},functionChain:function(e,t,n){for(var i=0;i<n.length;i++){var r=n[i][0][n[i][1]].apply(n[i][0],n[i][2]);if(r===t)return r}return e},populate:function(e,o){var a=function(e){if(null!=e){if(c(e))return function(e){var t=e.match(/(\${.*?})/g);if(null!=t)for(var n=0;n<t.length;n++){var i=o[t[n].substring(2,t[n].length-1)]||"";null!=i&&(e=e.replace(t[n],i))}return e}(e);if(l(e)){for(var t=[],n=0;n<e.length;n++)t.push(a(e[n]));return t}if(d(e)){var i={};for(var r in e)i[r]=a(e[r]);return i}return e}};return a(e)},convertStyle:function(e,t){if("transparent"===e)return e;var n=e,i=function(e){return 1==(t=Number(e).toString(16)).length?"0"+t:t;var t},r=/(rgb[a]?\()(.*)(\))/;if(e.match(r)){var o=e.match(r)[2].split(",");n="#"+i(o[0])+i(o[1])+i(o[2]),t||4!=o.length||(n+=i(o[3]))}return n},findWithFunction:function(e,t){if(e)for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1},indexOf:function(e,t){return e.indexOf?e.indexOf(t):h.findWithFunction(e,function(e){return e==t})},removeWithFunction:function(e,t){var n=h.findWithFunction(e,t);return-1<n&&e.splice(n,1),-1!=n},remove:function(e,t){var n=h.indexOf(e,t);return-1<n&&e.splice(n,1),-1!=n},addWithFunction:function(e,t,n){-1==h.findWithFunction(e,n)&&e.push(t)},addToList:function(e,t,n,i){var r=e[t];return null==r&&(r=[],e[t]=r),r[i?"unshift":"push"](n),r},extend:function(n,i,e){var r;for(i=l(i)?i:[i],r=0;r<i.length;r++)for(var t in i[r].prototype)i[r].prototype.hasOwnProperty(t)&&(n.prototype[t]=i[r].prototype[t]);var o=function(e,t){return function(){for(r=0;r<i.length;r++)i[r].prototype[e]&&i[r].prototype[e].apply(this,arguments);return t.apply(this,arguments)}},a=function(e){for(var t in e)n.prototype[t]=o(t,e[t])};if(2<arguments.length)for(r=2;r<arguments.length;r++)a(arguments[r]);return n},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},logEnabled:!0,log:function(){if(h.logEnabled&&"undefined"!=typeof console)try{var e=arguments[arguments.length-1];console.log(e)}catch(e){}},wrap:function(t,n,i){return t=t||function(){},n=n||function(){},function(){var e=null;try{e=n.apply(this,arguments)}catch(e){h.log("jsPlumb function failed : "+e)}if(null==i||e!==i)try{e=t.apply(this,arguments)}catch(e){h.log("wrapped function failed : "+e)}return e}}};h.EventGenerator=function(){var s={},l=!1,c={ready:!0};this.bind=function(e,t,n){var i=function(e){h.addToList(s,e,t,n),t.__jsPlumb=t.__jsPlumb||{},t.__jsPlumb[jsPlumbUtil.uuid()]=e};if("string"==typeof e)i(e);else if(null!=e.length)for(var r=0;r<e.length;r++)i(e[r]);return this},this.fire=function(t,e,n){if(!l&&s[t]){var i=s[t].length,r=0,o=!1,a=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,e,n))for(;!o&&r<i&&!1!==a;){if(c[t])s[t][r].apply(this,[e,n]);else try{a=s[t][r].apply(this,[e,n])}catch(e){h.log("jsPlumb: fire failed for event "+t+" : "+e)}r++,null!=s&&null!=s[t]||(o=!0)}}return this},this.unbind=function(e,t){if(0===arguments.length)s={};else if(1===arguments.length){if("string"==typeof e)delete s[e];else if(e.__jsPlumb){var n;for(var i in e.__jsPlumb)n=e.__jsPlumb[i],h.remove(s[n]||[],e)}}else 2===arguments.length&&h.remove(s[e]||[],t);return this},this.getListener=function(e){return s[e]},this.setSuspendEvents=function(e){l=e},this.isSuspendEvents=function(){return l},this.silently=function(e){this.setSuspendEvents(!0);try{e()}catch(e){jsPlumbUtil.log("Cannot execute silent function "+e)}this.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in s)s[e]=null}},h.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&e?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r})}.call(this),function(){"use strict";var e=this.jsPlumbUtil;e.ieVersion=/MSIE\s([\d.]+)/.test(navigator.userAgent)?new Number(RegExp.$1):-1,e.oldIE=-1<e.ieVersion&&e.ieVersion<9,e.matchesSelector=function(e,t,n){for(var i=(n=n||e.parentNode).querySelectorAll(t),r=0;r<i.length;r++)if(i[r]===e)return!0;return!1},e.consume=function(e,t){e.stopPropagation?e.stopPropagation():e.returnValue=!1,!t&&e.preventDefault&&e.preventDefault()},e.sizeElement=function(e,t,n,i,r){e&&(e.style.height=r+"px",e.height=r,e.style.width=i+"px",e.width=i,e.style.left=t+"px",e.style.top=n+"px")}}.call(this),function(){"use strict";var ce,ue=[],de=this.jsPlumbUtil,he=function(){return""+(new Date).getTime()},n=function(e){if(e._jsPlumb.paintStyle&&e._jsPlumb.hoverPaintStyle){var t={};me.extend(t,e._jsPlumb.paintStyle),me.extend(t,e._jsPlumb.hoverPaintStyle),delete e._jsPlumb.hoverPaintStyle,t.gradient&&e._jsPlumb.paintStyle.fillStyle&&delete t.gradient,e._jsPlumb.hoverPaintStyle=t}},pe=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(e){return null==e?null:e.split(" ")},d=function(e,t,n){for(var i in t)e[i]=n},l=function(e,t,n){if(e.getDefaultType){var i=e.getTypeDescriptor(),r={},o=e.getDefaultType(),a=de.merge({},o);d(r,o,"__default");for(var s=0,l=e._jsPlumb.types.length;s<l;s++){var c=e._jsPlumb.types[s];if("__default"!==c){var u=e._jsPlumb.instance.getType(c,i);null!=u&&(a=de.merge(a,u,["cssClass"]),d(r,u,c))}}t&&(a=de.populate(a,t)),e.applyType(a,n,r),n||e.repaint()}},fe=window.jsPlumbUIComponent=function(e){jsPlumbUtil.EventGenerator.apply(this,arguments);var t=arguments,n=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:e._jsPlumb,parameters:e.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:e.beforeDetach,beforeDrop:e.beforeDrop,overlayPlacements:[],hoverClass:e.hoverClass||e._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(e,t,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][e]=t},this.getCachedTypeItem=function(e,t){return this._jsPlumb.typeCache[t]?this._jsPlumb.typeCache[t][e]:null},this.getId=function(){return n};var i=e.overlays||[],r={};if(this.defaultOverlayKeys){for(var o=0;o<this.defaultOverlayKeys.length;o++)Array.prototype.push.apply(i,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[o]]||[]);for(o=0;o<i.length;o++){var a=me.convertToFullOverlaySpec(i[o]);r[a[1].id]=a}}var s={overlays:r,parameters:e.parameters||{},scope:e.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return s},this.appendToDefaultType=function(e){for(var t in e)s[t]=e[t]},e.events)for(o in e.events)this.bind(o,e.events[o]);this.clone=function(){var e={};return this.constructor.apply(e,t),e}.bind(this),this.isDetachAllowed=function(e){var t=!0;if(this._jsPlumb.beforeDetach)try{t=this._jsPlumb.beforeDetach(e)}catch(e){de.log("jsPlumb: beforeDetach callback failed",e)}return t},this.isDropAllowed=function(e,t,n,i,r,o,a){var s=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:e,targetId:t,scope:n,connection:i,dropEndpoint:r,source:o,target:a});if(this._jsPlumb.beforeDrop)try{s=this._jsPlumb.beforeDrop({sourceId:e,targetId:t,scope:n,connection:i,dropEndpoint:r,source:o,target:a})}catch(e){de.log("jsPlumb: beforeDrop callback failed",e)}return s};var l=[];this.setListenerComponent=function(e){for(var t=0;t<l.length;t++)l[t][3]=e}},c=function(e,t){var n=e._jsPlumb.types[t],i=e._jsPlumb.instance.getType(n,e.getTypeDescriptor());null!=i&&i.cssClass&&e.canvas&&e._jsPlumb.instance.removeClass(e.canvas,i.cssClass)};jsPlumbUtil.extend(fe,jsPlumbUtil.EventGenerator,{getParameter:function(e){return this._jsPlumb.parameters[e]},setParameter:function(e,t){this._jsPlumb.parameters[e]=t},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(e){this._jsPlumb.parameters=e},hasClass:function(e){return me.hasClass(this.canvas,e)},addClass:function(e){me.addClass(this.canvas,e)},removeClass:function(e){me.removeClass(this.canvas,e)},updateClasses:function(e,t){me.updateClasses(this.canvas,e,t)},setType:function(e,t,n){this.clearTypes(),this._jsPlumb.types=s(e)||[],l(this,t,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(e,t){l(this,e,t)},hasType:function(e){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,e)},addType:function(e,t,n){var i=s(e),r=!1;if(null!=i){for(var o=0,a=i.length;o<a;o++)this.hasType(i[o])||(this._jsPlumb.types.push(i[o]),r=!0);r&&l(this,t,n)}},removeType:function(e,t){var n=s(e),i=!1,r=function(e){var t=de.indexOf(this._jsPlumb.types,e);return-1!=t&&(c(this,t),this._jsPlumb.types.splice(t,1),!0)}.bind(this);if(null!=n){for(var o=0,a=n.length;o<a;o++)i=r(n[o])||i;i&&l(this,null,t)}},clearTypes:function(e){for(var t=this._jsPlumb.types.length,n=0;n<t;n++)c(this,0),this._jsPlumb.types.splice(0,1);l(this,{},e)},toggleType:function(e,t,n){var i=s(e);if(null!=i){for(var r=0,o=i.length;r<o;r++){var a=jsPlumbUtil.indexOf(this._jsPlumb.types,i[r]);-1!=a?(c(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(i[r])}l(this,t,n)}},applyType:function(e,t){if(this.setPaintStyle(e.paintStyle,t),this.setHoverPaintStyle(e.hoverPaintStyle,t),e.parameters)for(var n in e.parameters)this.setParameter(n,e.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(e,t){this._jsPlumb.paintStyle=e,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,n(this),t||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(e,t){this._jsPlumb.hoverPaintStyle=e,n(this),t||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(e){(e||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(e,t,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){if(this._jsPlumb.hover=e,null!=this.canvas){if(null!=this._jsPlumb.instance.hoverClass){var i=e?"addClass":"removeClass";this._jsPlumb.instance[i](this.canvas,this._jsPlumb.instance.hoverClass)}null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[i](this.canvas,this._jsPlumb.hoverClass)}null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=e?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||he(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!t&&function(e,t,n,i){var r=e.getAttachedElements();if(r)for(var o=0,a=r.length;o<a;o++)i&&i==r[o]||r[o].setHover(t,!0,n)}(this,e,he(),this)}}});var ge=0,i=window.jsPlumbInstance=function(e){this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:4,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},e&&me.extend(this.Defaults,e),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},jsPlumbUtil.EventGenerator.apply(this);var t,v=this,r=(t=ge+1,ge++,t),n=v.bind,i={},y=1,c=function(e){if(null==e)return null;if(3==e.nodeType||8==e.nodeType)return{el:e,text:!0};var t=v.getElement(e);return{el:t,id:jsPlumbUtil.isString(e)&&null==t?e:R(t)}};for(var o in this.getInstanceIndex=function(){return r},this.setZoom=function(e,t){return jsPlumbUtil.oldIE||(y=e,v.fire("zoom",y),t&&v.repaintEverything()),!jsPlumbUtil.oldIE},this.getZoom=function(){return y},this.Defaults)i[o]=this.Defaults[o];var a,s=[];this.unbindContainer=function(){if(null!=a&&0<s.length)for(var e=0;e<s.length;e++)v.off(a,s[e][0],s[e][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)}),a=t,s.length=0;for(var n=function(e,t){var n=t.srcElement||t.target,i=(n&&n.parentNode?n.parentNode._jsPlumb:null)||(n?n._jsPlumb:null)||(n&&n.parentNode&&n.parentNode.parentNode?n.parentNode.parentNode._jsPlumb:null);i&&(i.fire(e,i,t),v.fire(e,i.component||i,t))},e=function(e,t,n){s.push([e,n]),v.on(a,e,t,n)},i=function(t){e(t,"._jsPlumb_connector > *",function(e){n(t,e)}),e(t,"._jsPlumb_endpoint, ._jsPlumb_endpoint > *, ._jsPlumb_endpoint svg *",function(e){n(t,e)}),e(t,"._jsPlumb_overlay, ._jsPlumb_overlay *",function(e){n(t,e)})},r=0;r<pe.length;r++)i(pe[r])},this.getContainer=function(){return a},this.bind=function(e,t){"ready"===e&&u?t():n.apply(v,[e,t])},v.importDefaults=function(e){for(var t in e)v.Defaults[t]=e[t];return e.Container&&v.setContainer(e.Container),v},v.restoreDefaults=function(){return v.Defaults=me.extend({},i),v};var l=null,u=!1,d=[],b={},h={},p={},f={},g={},m={},w=!1,x=[],C=!1,S=null,k=this.Defaults.Scope,_=null,T=1,D=function(){return""+T++},A=function(e,t){a?a.appendChild(e):t?this.getElement(t).appendChild(e):this.appendToRoot(e)}.bind(this),E=function(e,t,n,i){if(!me.headless&&!C){var r=R(e),o=v.getDragManager().getElementsForDraggable(r);null==n&&(n=he());var a=Z({elId:r,offset:t,recalc:!1,timestamp:n});if(o)for(var s in o)Z({elId:o[s].id,offset:{left:a.o.left+o[s].offset.left,top:a.o.top+o[s].offset.top},recalc:!1,timestamp:n});if(v.anchorManager.redraw(r,t,n,null,i),o)for(var l in o)v.anchorManager.redraw(o[l].id,t,n,o[l].offset,i,!0)}},I=function(e){return h[e]},P=function(i,e,t,n){if(!me.headless&&(null!=e&&e&&me.isDragSupported(i,v)&&!me.isAlreadyDraggable(i,v))){var r=t||v.Defaults.DragOptions;r=me.extend({},r);var o=me.dragEvents.drag,a=me.dragEvents.stop,s=me.dragEvents.start,l=v.getElement(i),c=v.getDragManager().getDragAncestor(l),u={left:0,top:0},d=u,h=!1;Q(n,i),r[s]=de.wrap(r[s],function(){if(d=null!=c?v.getOffset(c):u,v.setHoverSuspended(!0),v.select({source:i}).addClass(v.elementDraggingClass+" "+v.sourceElementDraggingClass,!0),v.select({target:i}).addClass(v.elementDraggingClass+" "+v.targetElementDraggingClass,!0),v.setConnectionBeingDragged(!0),r.canDrag)return t.canDrag()},!1),r[o]=de.wrap(r[o],function(){var e=v.getUIPosition(arguments,v.getZoom());e.left+=d.left,e.top+=d.top,E(i,e,null,!0),h&&v.addClass(i,"jsPlumb_dragged"),h=!0}),r[a]=de.wrap(r[a],function(){var e=[];e=1==arguments.length&&arguments[0].selection&&0<arguments[0].selection.length?arguments[0].selection:[[i,v.getUIPosition(arguments,v.getZoom(),!0)]];for(var t,n=0;n<e.length;n++)t=e[n],E(t[0],t[1]),v.removeClass(t[0],"jsPlumb_dragged"),v.select({source:t[0]}).removeClass(v.elementDraggingClass+" "+v.sourceElementDraggingClass,!0),v.select({target:t[0]}).removeClass(v.elementDraggingClass+" "+v.targetElementDraggingClass,!0),v.getDragManager().dragEnded(t[0]);h=!1,v.setHoverSuspended(!1),v.setConnectionBeingDragged(!1)});var p=R(i);m[p]=!0;var f=m[p];r.disabled=null!=f&&!f,v.initDraggable(i,r),v.getDragManager().register(i)}},$=function(e,t){var o=me.extend({},e);if(t&&me.extend(o,t),o.source&&(o.source.endpoint?o.sourceEndpoint=o.source:o.source=v.getElement(o.source)),o.target&&(o.target.endpoint?o.targetEndpoint=o.target:o.target=v.getElement(o.target)),e.uuids&&(o.sourceEndpoint=I(e.uuids[0]),o.targetEndpoint=I(e.uuids[1])),o.sourceEndpoint&&o.sourceEndpoint.isFull())de.log(v,"could not add connection; source endpoint is full");else if(o.targetEndpoint&&o.targetEndpoint.isFull())de.log(v,"could not add connection; target endpoint is full");else{if(!o.type&&o.sourceEndpoint&&(o.type=o.sourceEndpoint.connectionType),o.sourceEndpoint&&o.sourceEndpoint.connectorOverlays){o.overlays=o.overlays||[];for(var n=0,i=o.sourceEndpoint.connectorOverlays.length;n<i;n++)o.overlays.push(o.sourceEndpoint.connectorOverlays[n])}!o["pointer-events"]&&o.sourceEndpoint&&o.sourceEndpoint.connectorPointerEvents&&(o["pointer-events"]=o.sourceEndpoint.connectorPointerEvents);var a=function(e,t,n){return v.addEndpoint(e,function(e,t){var n=me.extend({},e);for(var i in t)t[i]&&(n[i]=t[i]);return n}(t,{anchor:o.anchors?o.anchors[n]:o.anchor,endpoint:o.endpoints?o.endpoints[n]:o.endpoint,paintStyle:o.endpointStyles?o.endpointStyles[n]:o.endpointStyle,hoverPaintStyle:o.endpointHoverStyles?o.endpointHoverStyles[n]:o.endpointHoverStyle}))},r=function(e,t,n){if(o[e]&&!o[e].endpoint&&!o[e+"Endpoint"]&&!o.newConnection){var i=n[R(o[e])];if(i){if(!i.enabled)return!1;var r=null!=i.endpoint&&i.endpoint._jsPlumb?i.endpoint:a(o[e],i.def,t);if(r.isFull())return!1;(o[e+"Endpoint"]=r)._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,i.uniqueEndpoint&&(i.endpoint?r.finalEndpoint=i.endpoint:((i.endpoint=r)._deleteOnDetach=!1,r._doNotDeleteOnDetach=!0))}}};if(!1!==r("source",0,this.sourceEndpointDefinitions)&&!1!==r("target",1,this.targetEndpointDefinitions))return o.sourceEndpoint&&o.targetEndpoint&&(function(e,t){for(var n=e.scope.split(/\s/),i=t.scope.split(/\s/),r=0;r<n.length;r++)for(var o=0;o<i.length;o++)if(i[o]==n[r])return!0;return!1}(o.sourceEndpoint,o.targetEndpoint)||(o=null)),o}}.bind(v),M=function(e){var t=v.Defaults.ConnectionType||v.getDefaultConnectionType();e._jsPlumb=v,e.newConnection=M,e.newEndpoint=N,e.endpointsByUUID=h,e.endpointsByElement=b,e.finaliseConnection=O,e.id="con_"+D();var n=new t(e);return n.isDetachable()&&(n.endpoints[0].initDraggable(),n.endpoints[1].initDraggable()),n},O=v.finaliseConnection=function(e,t,n,i){if(t=t||{},e.suspendedEndpoint||d.push(e),e.endpoints[0].isTemporarySource=!1,(null==e.suspendedEndpoint||i)&&v.anchorManager.newConnection(e),E(e.source),!t.doNotFireConnectionEvent&&!1!==t.fireEvent){var r={connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]};v.fire("connection",r,n)}},N=function(e,t){var n=v.Defaults.EndpointType||me.Endpoint,i=me.extend({},e);i._jsPlumb=v,i.newConnection=M,i.newEndpoint=N,i.endpointsByUUID=h,i.endpointsByElement=b,i.fireDetachEvent=H,i.elementId=t||R(i.source);var r=new n(i);return r.id="ep_"+D(),Q(i.elementId,i.source),me.headless||v.getDragManager().endpointAdded(i.source,t),r},L=function(e,t,n){var i=b[e];if(i&&i.length)for(var r=0,o=i.length;r<o;r++){for(var a=0,s=i[r].connections.length;a<s;a++){if(t(i[r].connections[a]))return}n&&n(i[r])}},j=function(e,n,i){n="block"===n;var t=null;i&&(t=n?function(e){e.setVisible(!0,!0,!0)}:function(e){e.setVisible(!1,!0,!0)});var r=c(e);L(r.id,function(e){if(n&&i){var t=e.sourceId===r.id?1:0;e.endpoints[t].isVisible()&&e.setVisible(!0)}else e.setVisible(n)},t)},R=function(e,t,n){if(jsPlumbUtil.isString(e))return e;if(null==e)return null;var i=v.getAttribute(e,"id");return i&&"undefined"!==i||(2==arguments.length&&void 0!==t?i=t:(1==arguments.length||3==arguments.length&&!n)&&(i="jsPlumb_"+r+"_"+D()),n||v.setAttribute(e,"id",i)),i};this.setConnectionBeingDragged=function(e){w=e},this.isConnectionBeingDragged=function(){return w},this.connectorClass="_jsPlumb_connector",this.connectorOutlineClass="_jsPlumb_connector_outline",this.connectedClass="_jsPlumb_connected",this.hoverClass="_jsPlumb_hover",this.endpointClass="_jsPlumb_endpoint",this.endpointConnectedClass="_jsPlumb_endpoint_connected",this.endpointFullClass="_jsPlumb_endpoint_full",this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed",this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden",this.overlayClass="_jsPlumb_overlay",this.draggingClass="_jsPlumb_dragging",this.elementDraggingClass="_jsPlumb_element_dragging",this.sourceElementDraggingClass="_jsPlumb_source_element_dragging",this.targetElementDraggingClass="_jsPlumb_target_element_dragging",this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor",this.hoverSourceClass="_jsPlumb_source_hover",this.hoverTargetClass="_jsPlumb_target_hover",this.dragSelectClass="_jsPlumb_drag_select",this.Anchors={},this.Connectors={svg:{},vml:{}},this.Endpoints={svg:{},vml:{}},this.Overlays={svg:{},vml:{}},this.ConnectorRenderers={},this.SVG="svg",this.VML="vml",this.addEndpoint=function(e,t,n){n=n||{};var i=me.extend({},n);me.extend(i,t),i.endpoint=i.endpoint||v.Defaults.Endpoint,i.paintStyle=i.paintStyle||v.Defaults.EndpointStyle;for(var r=[],o=de.isArray(e)||null!=e.length&&!de.isString(e)?e:[e],a=0,s=o.length;a<s;a++){i.source=v.getElement(o[a]),K(i.source);var l=R(i.source),c=N(i,l),u=Q(l,i.source).info.o;de.addToList(b,l,c),C||c.paint({anchorLoc:c.anchor.compute({xy:[u.left,u.top],wh:x[l],element:c,timestamp:S}),timestamp:S}),r.push(c),c._doNotDeleteOnDetach=!0}return 1==r.length?r[0]:r},this.addEndpoints=function(e,t,n){for(var i=[],r=0,o=t.length;r<o;r++){var a=v.addEndpoint(e,t[r],n);de.isArray(a)?Array.prototype.push.apply(i,a):i.push(a)}return i},this.animate=function(e,t,n){if(!this.animationSupported)return!1;n=n||{};var i=v.getElement(e),r=R(i),o=me.animEvents.step,a=me.animEvents.complete;n[o]=de.wrap(n[o],function(){v.revalidate(r)}),n[a]=de.wrap(n[a],function(){v.revalidate(r)}),v.doAnimate(i,t,n)},this.checkCondition=function(t,e){var n=v.getListener(t),i=!0;if(n&&0<n.length){var r=Array.prototype.slice.call(arguments,1);try{for(var o=0,a=n.length;o<a;o++)i=i&&n[o].apply(n[o],r)}catch(e){de.log(v,"cannot check condition ["+t+"]"+e)}}return i},this.connect=function(e,t){var n,i=$(e,t);if(i){if(null==i.source&&null==i.sourceEndpoint)return void jsPlumbUtil.log("Cannot establish connection - source does not exist");if(null==i.target&&null==i.targetEndpoint)return void jsPlumbUtil.log("Cannot establish connection - target does not exist");K(i.source),n=M(i),O(n,i)}return n};var F=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],q=function(e,t,n,i){var r,o,a,s=F[n],l=e[s.elId],c=(e[s.el],e.endpoints[n]),u={index:n,originalSourceId:0===n?l:e.sourceId,newSourceId:e.sourceId,originalTargetId:1==n?l:e.targetId,newTargetId:e.targetId,connection:e};if(t.constructor==me.Endpoint)(r=t).addConnection(e);else if(o=R(t),a=this[s.epDefs][o],o===e[s.elId])r=null;else if(a){if(!a.enabled)return;r=null!=a.endpoint&&a.endpoint._jsPlumb?a.endpoint:this.addEndpoint(t,a.def),a.uniqueEndpoint&&(a.endpoint=r),r._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0,r.addConnection(e)}else(r=e.makeEndpoint(0===n,t,o))._doNotDeleteOnDetach=!1,r._deleteOnDetach=!0;return null!=r&&(c.detachFromConnection(e),e.endpoints[n]=r,e[s.el]=r.element,e[s.elId]=r.elementId,u[0===n?"newSourceId":"newTargetId"]=r.elementId,B(u),i||e.repaint()),u}.bind(this);this.setSource=function(e,t,n){var i=q(e,t,0,n);this.anchorManager.sourceChanged(i.originalSourceId,i.newSourceId,e)},this.setTarget=function(e,t,n){var i=q(e,t,1,n);this.anchorManager.updateOtherEndpoint(i.originalSourceId,i.originalTargetId,i.newTargetId,e)},this.deleteEndpoint=function(e,t){var n="string"==typeof e?h[e]:e;return n&&v.deleteObject({endpoint:n,dontUpdateHover:t}),v},this.deleteEveryEndpoint=function(){var e=v.setSuspendDrawing(!0);for(var t in b){var n=b[t];if(n&&n.length)for(var i=0,r=n.length;i<r;i++)v.deleteEndpoint(n[i],!0)}return b={},p={},h={},v.anchorManager.reset(),v.getDragManager().reset(),e||v.setSuspendDrawing(!1),v};var H=function(e,t,n){var i=v.Defaults.ConnectionType||v.getDefaultConnectionType(),r=e.constructor==i?{connection:e,source:e.source,target:e.target,sourceId:e.sourceId,targetId:e.targetId,sourceEndpoint:e.endpoints[0],targetEndpoint:e.endpoints[1]}:e;t&&v.fire("connectionDetached",r,n),v.anchorManager.connectionDetached(r)},B=v.fireMoveEvent=function(e,t){v.fire("connectionMoved",e,t)};this.unregisterEndpoint=function(e){for(var t in e._jsPlumb.uuid&&(h[e._jsPlumb.uuid]=null),v.anchorManager.deleteEndpoint(e),b){var n=b[t];if(n){for(var i=[],r=0,o=n.length;r<o;r++)n[r]!=e&&i.push(n[r]);b[t]=i}b[t].length<1&&delete b[t]}},this.detach=function(){if(0!==arguments.length){var e=v.Defaults.ConnectionType||v.getDefaultConnectionType(),t=arguments[0].constructor==e,n=2==arguments.length&&t?arguments[1]||{}:arguments[0],i=!1!==n.fireEvent,r=n.forceDetach,o=t?arguments[0]:n.connection;if(o)(r||jsPlumbUtil.functionChain(!0,!1,[[o.endpoints[0],"isDetachAllowed",[o]],[o.endpoints[1],"isDetachAllowed",[o]],[o,"isDetachAllowed",[o]],[v,"checkCondition",["beforeDetach",o]]]))&&o.endpoints[0].detach(o,!1,!0,i);else{var a=me.extend({},n);if(a.uuids)I(a.uuids[0]).detachFrom(I(a.uuids[1]),i);else if(a.sourceEndpoint&&a.targetEndpoint)a.sourceEndpoint.detachFrom(a.targetEndpoint);else{var s=R(v.getElement(a.source)),l=R(v.getElement(a.target));L(s,function(e){(e.sourceId==s&&e.targetId==l||e.targetId==s&&e.sourceId==l)&&v.checkCondition("beforeDetach",e)&&e.endpoints[0].detach(e,!1,!0,i)})}}}},this.detachAllConnections=function(e,t){t=t||{},e=v.getElement(e);var n=R(e),i=b[n];if(i&&i.length)for(var r=0,o=i.length;r<o;r++)i[r].detachAll(!1!==t.fireEvent,t.forceDetach);return v},this.detachEveryConnection=function(r){return r=r||{},v.batch(function(){for(var e in b){var t=b[e];if(t&&t.length)for(var n=0,i=t.length;n<i;n++)t[n].detachAll(!1!==r.fireEvent,r.forceDetach)}d.length=0}),v},this.deleteObject=function(i){var r={endpoints:{},connections:{},endpointCount:0,connectionCount:0},e=!1!==i.fireEvent,o=!1!==i.deleteAttachedObjects,a=function(e){if(null!=e&&null==r.connections[e.id]&&(i.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),r.connections[e.id]=e,r.connectionCount++,o))for(var t=0;t<e.endpoints.length;t++)e.endpoints[t]._deleteOnDetach&&n(e.endpoints[t])},n=function(e){if(null!=e&&null==r.endpoints[e.id]&&(i.dontUpdateHover||null==e._jsPlumb||e.setHover(!1),r.endpoints[e.id]=e,r.endpointCount++,o))for(var t=0;t<e.connections.length;t++){var n=e.connections[t];a(n)}};for(var t in i.connection?a(i.connection):n(i.endpoint),r.connections){var s=r.connections[t];s._jsPlumb&&(jsPlumbUtil.removeWithFunction(d,function(e){return s.id==e.id}),H(s,e,i.originalEvent),s.endpoints[0].detachFromConnection(s),s.endpoints[1].detachFromConnection(s),s.cleanup(!0),s.destroy(!0))}for(var l in r.endpoints){var c=r.endpoints[l];c._jsPlumb&&(v.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return r},this.draggable=function(e,t){var n,i,r;if("object"==typeof e&&e.length)for(n=0,i=e.length;n<i;n++)(r=c(e[n])).el&&P(r.el,!0,t,r.id);else(r=c(e)).el&&P(r.el,!0,t,r.id);return v};var V=function(e,t,n){return function(){return function(e,t,n,i){for(var r=0,o=e.length;r<o;r++)e[r][t].apply(e[r],n);return i(e)}(e,t,arguments,n)}},U=function(e,t){return function(){return function(e,t,n){for(var i=[],r=0,o=e.length;r<o;r++)i.push([e[r][t].apply(e[r],n),e[r]]);return i}(e,t,arguments)}},z=function(e,t){var n=[];if(e)if("string"==typeof e){if("*"===e)return e;n.push(e)}else if(t)n=e;else if(e.length)for(var i=0,r=e.length;i<r;i++)n.push(c(e[i]).id);else n.push(c(e).id);return n},W=function(e,t,n){return"*"===e||(0<e.length?-1!=jsPlumbUtil.indexOf(e,t):!n)};this.getConnections=function(e,i){e?e.constructor==String&&(e={scope:e}):e={};for(var t=e.scope||v.getDefaultScope(),r=z(t,!0),n=z(e.source),o=z(e.target),a=!i&&1<r.length?{}:[],s=function(e,t){if(!i&&1<r.length){var n=a[e];null==n&&(n=a[e]=[]),n.push(t)}else a.push(t)},l=0,c=d.length;l<c;l++){var u=d[l];W(r,u.scope)&&W(n,u.sourceId)&&W(o,u.targetId)&&s(u.scope,u)}return a};var G=function(e,t){var n,i,r,o,a,s={length:e.length,each:(o=e,a=t,function(e){for(var t=0,n=o.length;t<n;t++)e(o[t]);return a(o)}),get:(r=e,function(e){return r[e]})},l=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],c=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,i=l.length;n<i;n++)s[l[n]]=V(e,l[n],t);for(n=0,i=c.length;n<i;n++)s[c[n]]=U(e,c[n]);return s},Y=function(n){var e=G(n,Y);return me.extend(e,{setDetachable:V(n,"setDetachable",Y),setReattach:V(n,"setReattach",Y),setConnector:V(n,"setConnector",Y),detach:function(){for(var e=0,t=n.length;e<t;e++)v.detach(n[e])},isDetachable:U(n,"isDetachable"),isReattach:U(n,"isReattach")})},X=function(n){var e=G(n,X);return me.extend(e,{setEnabled:V(n,"setEnabled",X),setAnchor:V(n,"setAnchor",X),isEnabled:U(n,"isEnabled"),detachAll:function(){for(var e=0,t=n.length;e<t;e++)n[e].detachAll()},remove:function(){for(var e=0,t=n.length;e<t;e++)v.deleteObject({endpoint:n[e]})}})};this.select=function(e){return(e=e||{}).scope=e.scope||"*",Y(e.connections||v.getConnections(e,!0))},this.selectEndpoints=function(e){(e=e||{}).scope=e.scope||"*";var t=!e.element&&!e.source&&!e.target,n=t?"*":z(e.element),i=t?"*":z(e.source),r=t?"*":z(e.target),o=z(e.scope,!0),a=[];for(var s in b){var l=W(n,s,!0),c=W(i,s,!0),u="*"!=i,d=W(r,s,!0),h="*"!=r;if(l||c||d)e:for(var p=0,f=b[s].length;p<f;p++){var g=b[s][p];if(W(o,g.scope,!0)){var m=u&&0<i.length&&!g.isSource,v=h&&0<r.length&&!g.isTarget;if(m||v)continue e;a.push(g)}}}return X(a)},this.getAllConnections=function(){return d},this.getDefaultScope=function(){return k},this.getEndpoint=I,this.getEndpoints=function(e){return b[c(e).id]},this.getDefaultEndpointType=function(){return me.Endpoint},this.getDefaultConnectionType=function(){return me.Connection},this.getId=R,this.appendElement=A;var J=!1;this.isHoverSuspended=function(){return J},this.setHoverSuspended=function(e){J=e},this.hide=function(e,t){return j(e,"none",t),v},this.idstamp=D,this.connectorsInitialized=!1,this.registerConnectorType=function(e,t){ue.push([e,t])};var K=function(e){if(!a&&e){var t=v.getElement(e);t.offsetParent&&v.setContainer(t.offsetParent)}},Q=v.manage=function(e,t){return p[e]||(p[e]={el:t,endpoints:[],connections:[]},p[e].info=Z({elId:e,timestamp:S})),p[e]},Z=this.updateOffset=function(e){var t,n=e.timestamp,i=e.recalc,r=e.offset,o=e.elId;return C&&!n&&(n=S),!i&&n&&n===g[o]?{o:e.offset||f[o],s:x[o]}:(i||!r&&null==f[o]?null!=(t=p[o]?p[o].el:null)&&(x[o]=v.getSize(t),f[o]=v.getOffset(t),g[o]=n):(f[o]=r||f[o],null==x[o]&&null!=(t=p[o].el)&&(x[o]=v.getSize(t)),g[o]=n),f[o]&&!f[o].right&&(f[o].right=f[o].left+x[o][0],f[o].bottom=f[o].top+x[o][1],f[o].width=x[o][0],f[o].height=x[o][1],f[o].centerx=f[o].left+f[o].width/2,f[o].centery=f[o].top+f[o].height/2),{o:f[o],s:x[o]})};this.init=function(){ce=me.getRenderModes();var e=function(e,t,n){me.Connectors[e][t]=function(){n.apply(this,arguments),me.ConnectorRenderers[e].apply(this,arguments)},jsPlumbUtil.extend(me.Connectors[e][t],[n,me.ConnectorRenderers[e]])};if(!me.connectorsInitialized){for(var t=0;t<ue.length;t++)for(var n=0;n<ce.length;n++)e(ce[n],ue[t][1],ue[t][0]);me.connectorsInitialized=!0}u||(v.Defaults.Container&&v.setContainer(v.Defaults.Container),v.anchorManager=new me.AnchorManager({jsPlumbInstance:v}),v.setRenderMode(v.Defaults.RenderMode),u=!0,v.fire("ready",v))}.bind(this),this.log=l,this.jsPlumbUIComponent=fe,this.makeAnchor=function(){var e,t=function(e,t){if(me.Anchors[e])return new me.Anchors[e](t);if(!v.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+e+"'"}};if(0===arguments.length)return null;var n=arguments[0],i=arguments[1],r=(arguments[2],null);if(n.compute&&n.getOrientation)return n;if("string"==typeof n)r=t(arguments[0],{elementId:i,jsPlumbInstance:v});else if(de.isArray(n))if(de.isArray(n[0])||de.isString(n[0]))2==n.length&&de.isObject(n[1])?de.isString(n[0])?(e=me.extend({elementId:i,jsPlumbInstance:v},n[1]),r=t(n[0],e)):(e=me.extend({elementId:i,jsPlumbInstance:v,anchors:n[0]},n[1]),r=new me.DynamicAnchor(e)):r=new me.DynamicAnchor({anchors:n,selector:null,elementId:i,jsPlumbInstance:v});else{var o={x:n[0],y:n[1],orientation:4<=n.length?[n[2],n[3]]:[0,0],offsets:6<=n.length?[n[4],n[5]]:[0,0],elementId:i,jsPlumbInstance:v,cssClass:7==n.length?n[6]:null};(r=new me.Anchor(o)).clone=function(){return new me.Anchor(o)}}return r.id||(r.id="anchor_"+D()),r},this.makeAnchors=function(e,t,n){for(var i=[],r=0,o=e.length;r<o;r++)"string"==typeof e[r]?i.push(me.Anchors[e[r]]({elementId:t,jsPlumbInstance:n})):de.isArray(e[r])&&i.push(v.makeAnchor(e[r],t,n));return i},this.makeDynamicAnchor=function(e,t){return new me.DynamicAnchor({anchors:e,selector:t,elementId:null,jsPlumbInstance:v})},this.targetEndpointDefinitions={};var ee=function(e,t,n){e.paintStyle=e.paintStyle||n.Defaults.EndpointStyles[t]||n.Defaults.EndpointStyle,e.hoverPaintStyle=e.hoverPaintStyle||n.Defaults.EndpointHoverStyles[t]||n.Defaults.EndpointHoverStyle,e.anchor=e.anchor||n.Defaults.Anchors[t]||n.Defaults.Anchor,e.endpoint=e.endpoint||n.Defaults.Endpoints[t]||n.Defaults.Endpoint};this.sourceEndpointDefinitions={};var te=function(s,l,e,t,n,c){var i=new fe(l),r=l._jsPlumb.EndpointDropHandler({jsPlumb:v,enabled:function(){return s.el[c].enabled},isFull:function(){var e=v.select({target:s.id}).length,t=s.el[c];return 0<t.maxConnections&&e>=t.maxConnections},element:s.el,elementId:s.id,isSource:t,isTarget:n,addClass:function(e){v.addClass(s.el,e)},removeClass:function(e){v.removeClass(s.el,e)},onDrop:function(e){e.endpoints[0].anchor.locked=!1},isDropAllowed:function(){return i.isDropAllowed.apply(i,arguments)},isRedrop:function(e){return null!=e.suspendedElement&&null!=e.suspendedEndpoint&&e.suspendedEndpoint.element===s.el},getEndpoint:function(e){var t=s.el[c],n=t.endpoint;if(null!=n&&null!=n._jsPlumb||((n=v.addEndpoint(s.el,l))._mtNew=!0),l.uniqueEndpoint&&(t.endpoint=n),n._doNotDeleteOnDetach=!1,n._deleteOnDetach=!0,e.isDetachable()&&n.initDraggable(),null!=n.anchor.positionFinder){var i=v.getUIPosition(arguments,v.getZoom()),r=v.getOffset(s.el),o=v.getSize(s.el),a=n.anchor.positionFinder(i,r,o,n.anchor.constructorParams);n.anchor.x=a[0],n.anchor.y=a[1]}return n},maybeCleanup:function(e){e._mtNew&&0===e.connections.length?v.deleteObject({endpoint:e}):delete e._mtNew}}),o=me.dragEvents.drop;return e.scope=e.scope||l.scope||v.Defaults.Scope,e[o]=de.wrap(e[o],r,!0),n&&(e[me.dragEvents.over]=function(){return!0}),!1===l.allowLoopback&&(e.canDrop=function(e){return e.getDragElement()._jsPlumbRelatedElement!=s.el}),v.initDroppable(s.el,e,"internal"),r};this.makeTarget=function(e,t,n){var o=me.extend({_jsPlumb:this},n);me.extend(o,t),ee(o,1,this);o.deleteEndpointsOnDetach;for(var a=o.maxConnections||-1,i=function(e){var t=c(e),n=t.id,i=me.extend({},o.dropOptions||{});K(n);var r={def:o,uniqueEndpoint:o.uniqueEndpoint,maxConnections:a,enabled:!0};t.el._jsPlumbTarget=r,this.targetEndpointDefinitions[n]=r,te(t,o,i,!0===o.isSource,!0,"_jsPlumbTarget")}.bind(this),r=e.length&&e.constructor!=String?e:[e],s=0,l=r.length;s<l;s++)i(r[s]);return this},this.unmakeTarget=function(e,t){var n=c(e);return me.destroyDroppable(n.el),t||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(e,t,n){var f=me.extend({_jsPlumb:this},n);me.extend(f,t),ee(f,0,this);for(var g=f.maxConnections||1,m=f.onMaxConnections,i=function(s){var c=s.id,l=this.getElement(s.el);K(c);var e={def:f,uniqueEndpoint:f.uniqueEndpoint,maxConnections:g,enabled:!0};this.sourceEndpointDefinitions[c]=e,s.el._jsPlumbSource=e;var t=me.dragEvents.stop,n=me.dragEvents.drag,u=me.extend({},f.dragOptions||{}),i=u.drag,d=u.stop,h=null,p=!1;u.scope=u.scope||f.scope,u[n]=de.wrap(u[n],function(){i&&i.apply(this,arguments),p=!1}),u[t]=de.wrap(u[t],function(){if(d&&d.apply(this,arguments),this.currentlyDragging=!1,null!=h._jsPlumb){var e=f.anchor||this.Defaults.Anchor,t=h.anchor,n=h.connections[0],i=this.makeAnchor(e,c,this),r=h.element;if(null!=i.positionFinder){var o=v.getOffset(r),a=this.getSize(r),s={left:o.left+t.x*a[0],top:o.top+t.y*a[1]},l=i.positionFinder(s,o,a,i.constructorParams);i.x=l[0],i.y=l[1]}h.setAnchor(i,!0),h.repaint(),this.repaint(h.elementId),null!=n&&this.repaint(n.targetId)}}.bind(this));var r=function(e){var t=this.getOriginalEvent(e);if(3!==e.which&&2!==e.button){var n=this.sourceEndpointDefinitions[c];if(n.enabled){if(c=this.getId(this.getElement(s.el)),f.filter)if(!1===(jsPlumbUtil.isString(f.filter)?function(e,t,n,i,r){for(var o=e.target||e.srcElement,a=!1,s=i.getSelector(t,n),l=0;l<s.length;l++)if(s[l]==o){a=!0;break}return r?!a:a}(t,s.el,f.filter,this,f.filterExclude):f.filter(t,s.el)))return;var i=this.select({source:c}).length;if(0<=n.maxConnections&&n.uniqueEndpoint&&i>=n.maxConnections)return m&&m({element:s.el,maxConnections:g},e),!1;var r=me.getPositionOnElement(t,l,y),o={};me.extend(o,f),o.isTemporarySource=!0,o.anchor=[r[0],r[1],0,0],o.dragOptions=u,h=this.addEndpoint(c,o),p=!0,h._doNotDeleteOnDetach=!1,h._deleteOnDetach=!0,n.uniqueEndpoint&&(n.endpoint?h.finalEndpoint=n.endpoint:((n.endpoint=h)._deleteOnDetach=!1,h._doNotDeleteOnDetach=!0));var a=function(){v.off(h.canvas,"mouseup",a),v.off(s.el,"mouseup",a),p&&(p=!1,v.deleteEndpoint(h))};v.on(h.canvas,"mouseup",a),v.on(s.el,"mouseup",a),v.trigger(h.canvas,"mousedown",e),jsPlumbUtil.consume(e)}}}.bind(this);this.on(s.el,"mousedown",r),e.trigger=r,f.filter&&(jsPlumbUtil.isString(f.filter)||jsPlumbUtil.isFunction(f.filter))&&v.setDragFilter(s.el,f.filter);var o=me.extend({},f.dropOptions||{});te(s,f,o,!0,!0===f.isTarget,"_jsPlumbSource")}.bind(this),r=e.length&&e.constructor!=String?e:[e],o=0,a=r.length;o<a;o++)i(c(r[o]));return this},this.unmakeSource=function(e,t){var n=c(e),i=this.sourceEndpointDefinitions[n.id].trigger;return i&&v.off(n.el,"mousedown",i),t||delete this.sourceEndpointDefinitions[n.id],this},this.unmakeEverySource=function(){for(var e in this.sourceEndpointDefinitions)v.unmakeSource(e,!0);return this.sourceEndpointDefinitions={},this};var ne=function(e,t){t=jsPlumbUtil.isArray(t)?t:[t];for(var n=R(e),i=0;i<t.length;i++){var r=this[t[i]][n];if(r)return r.def.scope||this.Defaults.Scope}}.bind(this),ie=function(e,t,n){n=jsPlumbUtil.isArray(n)?n:[n];for(var i=R(e),r=0;r<n.length;r++){var o=this[n[r]][i];o&&(o.def.scope=t,null!=this.scopeChange&&this.scopeChange(e,i,b[i],t,n[r]))}}.bind(this);this.getScope=function(e,t){return ne(e,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(e){return ne(e,"sourceEndpointDefinitions")},this.getTargetScope=function(e){return ne(e,"targetEndpointDefinitions")},this.setScope=function(e,t){ie(e,t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.setSourceScope=function(e,t){ie(e,t,"sourceEndpointDefinitions")},this.setTargetScope=function(e,t){ie(e,t,"targetEndpointDefinitions")},this.unmakeEveryTarget=function(){for(var e in this.targetEndpointDefinitions)v.unmakeTarget(e,!0);return this.targetEndpointDefinitions={},this};var re=function(e,t,n,i){var r="source"==e?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(de.isString(t))r[t].enabled=i?!r[t].enabled:n;else if(t.length)for(var o=0,a=t.length;o<a;o++){var s=c(t[o]);r[s.id]&&(r[s.id].enabled=i?!r[s.id].enabled:n)}else{var l=c(t).id;r[l].enabled=i?!r[l].enabled:n}return this}.bind(this),oe=function(e,t){return de.isString(e)||!e.length?t.apply(this,[e]):e.length?t.apply(this,[e[0]]):void 0}.bind(this);this.toggleSourceEnabled=function(e){return re("source",e,null,!0),this.isSourceEnabled(e)},this.setSourceEnabled=function(e,t){return re("source",e,t)},this.isSource=function(e){return oe(e,function(e){return null!=this.sourceEndpointDefinitions[c(e).id]}.bind(this))},this.isSourceEnabled=function(e){return oe(e,function(e){var t=this.sourceEndpointDefinitions[c(e).id];return t&&!0===t.enabled}.bind(this))},this.toggleTargetEnabled=function(e){return re("target",e,null,!0),this.isTargetEnabled(e)},this.isTarget=function(e){return oe(e,function(e){return null!=this.targetEndpointDefinitions[c(e).id]}.bind(this))},this.isTargetEnabled=function(e){return oe(e,function(e){var t=this.targetEndpointDefinitions[c(e).id];return t&&!0===t.enabled}.bind(this))},this.setTargetEnabled=function(e,t){return re("target",e,t)},this.ready=function(e){v.bind("ready",e)};var ae=function(e,t){if("object"==typeof e&&e.length)for(var n=0,i=e.length;n<i;n++)t(e[n]);else t(e);return v};this.repaint=function(e,t,n){return ae(e,function(e){E(e,t,n)})},this.revalidate=function(e,n,i){return ae(e,function(e){var t=i?e:v.getId(e);v.updateOffset({elId:t,recalc:!0,timestamp:n}),v.repaint(e)})},this.repaintEverything=function(){var e,t=he();for(e in b)v.updateOffset({elId:e,recalc:!0,timestamp:t});for(e in b)E(e,null,t);return this},this.removeAllEndpoints=function(e,o,a){a=a||[];var s=function(e){var t,n,i=c(e),r=b[i.id];if(r)for(a.push(i),t=0,n=r.length;t<n;t++)v.deleteEndpoint(r[t]);if(delete b[i.id],o&&i.el&&3!=i.el.nodeType&&8!=i.el.nodeType)for(t=0,n=i.el.childNodes.length;t<n;t++)s(i.el.childNodes[t])};return s(e),this};var se=function(e,t){v.removeAllEndpoints(e.id,!0,t);for(var n=function(e){v.getDragManager().elementRemoved(e.id),v.anchorManager.clearFor(e.id),v.anchorManager.removeFloatingConnection(e.id),delete v.floatingConnections[e.id],delete p[e.id],delete f[e.id],e.el&&(v.removeElement(e.el),e.el._jsPlumb=null)},i=1;i<t.length;i++)n(t[i]);n(e)};this.remove=function(e,t){var n=c(e),i=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&v.batch(function(){se(n,i)},!1===t),v},this.empty=function(e,t){var i=[],r=function(e,t){var n=c(e);if(n.text)n.el.parentNode.removeChild(n.el);else if(n.el){for(;0<n.el.childNodes.length;)r(n.el.childNodes[0]);t||se(n,i)}};return v.batch(function(){r(e,!0)},!1===t),v},this.reset=function(){v.silently(function(){v.deleteEveryEndpoint(),v.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},d.length=0,this.doReset&&this.doReset()}.bind(this))};var le=function(e){e.canvas&&e.canvas.parentNode&&e.canvas.parentNode.removeChild(e.canvas),e.cleanup(),e.destroy()};this.clear=function(){v.select().each(le),v.selectEndpoints().each(le),b={},h={}},this.setDefaultScope=function(e){return k=e,v},this.setDraggable=function(e,t){return me.each(e,function(e){v.isDragSupported(e)&&(m[v.getAttribute(e,"id")]=t,v.setElementDraggable(e,t))})},this.setId=function(o,a,e){var t;jsPlumbUtil.isString(o)?t=o:(o=this.getElement(o),t=this.getId(o));var n=this.getConnections({source:t,scope:"*"},!0),i=this.getConnections({target:t,scope:"*"},!0);a=""+a,e?o=this.getElement(a):(o=this.getElement(t),this.setAttribute(o,"id",a)),b[a]=b[t]||[];for(var r=0,s=b[a].length;r<s;r++)b[a][r].setElementId(a),b[a][r].setReferenceElement(o);delete b[t],this.anchorManager.changeId(t,a),this.getDragManager().changeId(t,a),p[a]=p[t],delete p[t];var l=function(e,t,n){for(var i=0,r=e.length;i<r;i++)e[i].endpoints[t].setElementId(a),e[i].endpoints[t].setReferenceElement(o),e[i][n+"Id"]=a,e[i][n]=o};l(n,0,"source"),l(i,1,"target"),this.repaint(a)},this.setDebugLog=function(e){l=e},this.setSuspendDrawing=function(e,t){var n=C;return S=(C=e)?(new Date).getTime():null,t&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return C},this.getSuspendedAt=function(){return S},this.batch=function(e,t){var n=this.isSuspendDrawing();n||this.setSuspendDrawing(!0);try{e()}catch(e){de.log("Function run while suspended failed",e)}n||this.setSuspendDrawing(!1,!t)},this.doWhileSuspended=this.batch,this.getCachedData=function(e){var t=f[e];return t?{o:t,s:x[e]}:Z({elId:e})},this.timestamp=he,this.setRenderMode=function(e){if(e!==me.SVG&&e!==me.VML)throw new TypeError("Render mode ["+e+"] not supported");return _=this.trySetRenderMode(e)},this.getRenderMode=function(){return _},this.show=function(e,t){return j(e,"block",t),v},this.toggleVisible=function(e,t){var n=null;t&&(n=function(e){var t=e.isVisible();e.setVisible(!t)}),L(e,function(e){var t=e.isVisible();e.setVisible(!t)},n)},this.toggleDraggable=function(e){return me.each(e,function(e){var t=v.getAttribute(e,"id"),n=null!=m[t]&&m[t];return n=!n,m[t]=n,v.setDraggable(e,n),n}.bind(this))},this.addListener=this.bind};jsPlumbUtil.extend(i,jsPlumbUtil.EventGenerator,{setAttribute:function(e,t,n){this.setAttribute(e,t,n)},getAttribute:function(e,t){return this.getAttribute(me.getElement(e),t)},convertToFullOverlaySpec:function(e){return jsPlumbUtil.isString(e)&&(e=[e,{}]),e.length<2&&(e[1]={}),e[1].id=e[1].id||jsPlumbUtil.uuid(),e},registerConnectionType:function(e,t){if(this._connectionTypes[e]=me.extend({},t),t.overlays){for(var n={},i=0;i<t.overlays.length;i++){var r=this.convertToFullOverlaySpec(t.overlays[i]);n[r[1].id]=r}this._connectionTypes[e].overlays=n}},registerConnectionTypes:function(e){for(var t in e)this.registerConnectionType(t,e[t])},registerEndpointType:function(e,t){this._endpointTypes[e]=me.extend({},t)},registerEndpointTypes:function(e){for(var t in e)this._endpointTypes[t]=me.extend({},e[t])},getType:function(e,t){return"connection"===t?this._connectionTypes[e]:this._endpointTypes[e]},setIdChanged:function(e,t){this.setId(e,t,!0)},setParent:function(e,t){var n=this.getElement(e),i=this.getId(n),r=this.getElement(t),o=this.getId(r);n.parentNode.removeChild(n),r.appendChild(n),this.getDragManager().setParent(n,i,r,o)},extend:function(e,t,n){var i;if(n)for(i=0;i<n.length;i++)e[n[i]]=t[n[i]];else for(i in t)e[i]=t[i];return e},floatingConnections:{},getFloatingAnchorIndex:function(e){return e.endpoints[0].isFloating()?0:1}});var me=new i;"undefined"!=typeof window&&(window.jsPlumb=me),me.getInstance=function(e){var t=new i(e);return t.init(),t},me.each=function(e,t){if(null!=e)if("string"==typeof e)t(me.getElement(e));else if(null!=e.length)for(var n=0;n<e.length;n++)t(me.getElement(e[n]));else t(e)},"function"==typeof define&&(define("jsplumb",[],function(){return me}),define("jsplumbinstance",[],function(){return me.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=me)}.call(this),function(){this.jsPlumbUtil;var t=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),n=function(){if(void 0===n.vml){var e=document.body.appendChild(document.createElement("div"));e.innerHTML='<v:shape id="vml_flag1" adj="1" />';var t=e.firstChild;null!=t&&null!=t.style?(t.style.behavior="url(#default#VML)",n.vml=!t||"object"==typeof t.adj):n.vml=!1,e.parentNode.removeChild(e)}return n.vml},e=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(t)&&(e=parseFloat(RegExp.$1))}return e}(),i=-1<e&&e<9,r=function(e,t){if(null==e)return[0,0];var n=a(e),i=o(n,0);return[i[t+"X"],i[t+"Y"]]},o=function(e,t){return e.item?e.item(t):e[t]},a=function(e){return e.touches&&0<e.touches.length?e.touches:e.changedTouches&&0<e.changedTouches.length?e.changedTouches:e.targetTouches&&0<e.targetTouches.length?e.targetTouches:[e]},s=function(l){var c={},t=[],u={},d={},h={};this.register=function(e){var o=l.getId(e),a=l.getOffset(e);c[o]||(c[o]=e,t.push(e),u[o]={});var s=function(e){if(e)for(var t=0;t<e.childNodes.length;t++)if(3!=e.childNodes[t].nodeType&&8!=e.childNodes[t].nodeType){var n=jsPlumb.getElement(e.childNodes[t]),i=l.getId(e.childNodes[t],null,!0);if(i&&d[i]&&0<d[i]){var r=l.getOffset(n);u[o][i]={id:i,offset:{left:r.left-a.left,top:r.top-a.top}},h[i]=o}s(e.childNodes[t])}};s(e)},this.updateOffsets=function(e){if(null!=e){var t=jsPlumb.getElement(e),n=l.getId(t),i=u[n],r=l.getOffset(t);if(i)for(var o in i)if(i.hasOwnProperty(o)){var a=jsPlumb.getElement(o),s=l.getOffset(a);u[n][o]={id:o,offset:{left:s.left-r.left,top:s.top-r.top}},h[o]=n}}},this.endpointAdded=function(e,t){t=t||l.getId(e);var n=document.body,i=e.parentNode;for(d[t]=d[t]?d[t]+1:1;null!=i&&i!=n;){var r=l.getId(i,null,!0);if(r&&c[r]){var o=l.getOffset(i);if(null==u[r][t]){var a=l.getOffset(e);u[r][t]={id:t,offset:{left:a.left-o.left,top:a.top-o.top}},h[t]=r}break}i=i.parentNode}},this.endpointDeleted=function(e){if(d[e.elementId]&&(d[e.elementId]--,d[e.elementId]<=0))for(var t in u)u.hasOwnProperty(t)&&u[t]&&(delete u[t][e.elementId],delete h[e.elementId])},this.changeId=function(e,t){u[t]=u[e],u[e]={},h[t]=h[e],h[e]=null},this.getElementsForDraggable=function(e){return u[e]},this.elementRemoved=function(e){var t=h[e];t&&(delete u[t][e],delete h[e])},this.reset=function(){c={},t=[],u={},d={}},this.dragEnded=function(e){var t=l.getId(e),n=h[t];n&&this.updateOffsets(n)},this.setParent=function(e,t,n,i){var r=h[t];if(r){u[i]||(u[i]={}),u[i][t]=u[r][t],delete u[r][t];var o=l.getOffset(n),a=l.getOffset(e);u[i][t].offset={left:a.left-o.left,top:a.top-o.top},h[t]=i}},this.getDragAncestor=function(e){var t=jsPlumb.getElement(e),n=l.getId(t),i=h[n];return i?jsPlumb.getElement(i):null}},l=function(e,t){var n;t=null==(n=t)?null:n.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==e.className.baseVal?e.className.baseVal=t:e.className=t},c=function(e){return void 0===e.className.baseVal?e.className:e.className.baseVal},u=function(e,t,n){t=null==t?[]:jsPlumbUtil.isArray(t)?t:t.split(/\s+/),n=null==n?[]:jsPlumbUtil.isArray(n)?n:n.split(/\s+/);var r=c(e).split(/\s+/),i=function(e,t){for(var n=0;n<t.length;n++)if(e)-1==jsPlumbUtil.indexOf(r,t[n])&&r.push(t[n]);else{var i=jsPlumbUtil.indexOf(r,t[n]);-1!=i&&r.splice(i,1)}};i(!0,t),i(!1,n),l(e,r.join(" "))};jsPlumb.extend(jsPlumbInstance.prototype,{headless:!1,pageLocation:function(e){return null==e?[0,0]:i?[e.clientX+document.documentElement.scrollLeft,e.clientY+document.documentElement.scrollTop]:r(e,"page")},screenLocation:function(e){return r(e,"screen")},clientLocation:function(e){return r(e,"client")},getDragManager:function(){return null==this.dragManager&&(this.dragManager=new s(this)),this.dragManager},recalculateOffsets:function(e){this.getDragManager().updateOffsets(e)},createElement:function(e,t,n,i){return this.createElementNS(null,e,t,n,i)},createElementNS:function(e,t,n,i,r){var o,a=null==e?document.createElement(t):document.createElementNS(e,t);for(o in n=n||{})a.style[o]=n[o];for(o in i&&(a.className=i),r=r||{})a.setAttribute(o,""+r[o]);return a},getAttribute:function(e,t){return null!=e.getAttribute?e.getAttribute(t):null},setAttribute:function(e,t,n){null!=e.setAttribute&&e.setAttribute(t,n)},setAttributes:function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])},appendToRoot:function(e){document.body.appendChild(e)},getRenderModes:function(){return["svg","vml"]},isRenderModeAvailable:function(e){return{svg:t,vml:n()}[e]},trySetRenderMode:function(e){var t;if(e){e=e.toLowerCase();var n=this.isRenderModeAvailable("svg"),i=this.isRenderModeAvailable("vml");"svg"===e&&n?t="svg":i&&(t="vml")}return t},addClass:function(e,t){jsPlumb.each(e,function(e){u(e,t)})},hasClass:function(e,t){return(e=jsPlumb.getElement(e)).classList?e.classList.contains(t):-1!=c(e).indexOf(t)},removeClass:function(e,t){jsPlumb.each(e,function(e){u(e,null,t)})},updateClasses:function(e,t,n){jsPlumb.each(e,function(e){u(e,t,n)})},setClass:function(e,t){jsPlumb.each(e,function(e){l(e,t)})},setPosition:function(e,t){e.style.left=t.left+"px",e.style.top=t.top+"px"},getPosition:function(n){var e=function(e){var t=n.style[e];return t?t.substring(0,t.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(e,t){return void 0!==window.getComputedStyle?getComputedStyle(e,null).getPropertyValue(t):e.currentStyle[t]},getSelector:function(e,t){return 1==arguments.length?null!=e.nodeType?e:document.querySelectorAll(e):e.querySelectorAll(t)},getOffset:function(t,e){t=jsPlumb.getElement(t);for(var n=this.getContainer(),i={left:t.offsetLeft,top:t.offsetTop},r=e||null!=n&&t.offsetParent!=n?t.offsetParent:null,o=function(e){if(null!=e&&e!==document.body&&(0<e.scrollTop||0<e.scrollLeft)){this.getStyle(t,"position");i.left-=e.scrollLeft,i.top-=e.scrollTop}}.bind(this);null!=r;)i.left+=r.offsetLeft,i.top+=r.offsetTop,o(r),r=e?r.offsetParent:r.offsetParent==n?null:r.offsetParent;if(null!=n&&!e&&(0<n.scrollTop||0<n.scrollLeft)){var a=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",s=this.getStyle(t,"position");"absolute"!==s&&"fixed"!==s&&"absolute"!==a&&"fixed"!=a&&(i.left-=n.scrollLeft,i.top-=n.scrollTop)}return i},getPositionOnElement:function(e,t,n){var i=void 0!==t.getBoundingClientRect?t.getBoundingClientRect():{left:0,top:0,width:0,height:0},r=document.body,o=document.documentElement,a=window.pageYOffset||o.scrollTop||r.scrollTop,s=window.pageXOffset||o.scrollLeft||r.scrollLeft,l=o.clientTop||r.clientTop||0,c=o.clientLeft||r.clientLeft||0,u=i.top+a-l+0*n,d=i.left+s-c+0*n,h=jsPlumb.pageLocation(e),p=i.width||t.offsetWidth*n,f=i.height||t.offsetHeight*n;return[(h[0]-d)/p,(h[1]-u)/f]},getAbsolutePosition:function(n){var e=function(e){var t=n.style[e];if(t)return parseFloat(t.substring(0,t.length-2))};return[e("left"),e("top")]},setAbsolutePosition:function(e,t,n,i){n?this.animate(e,{left:"+="+(t[0]-n[0]),top:"+="+(t[1]-n[1])},i):(e.style.left=t[0]+"px",e.style.top=t[1]+"px")},getSize:function(e){return[e.offsetWidth,e.offsetHeight]},getWidth:function(e){return e.offsetWidth},getHeight:function(e){return e.offsetHeight}})}.call(this),function(){"use strict";var s=this.jsPlumb,o=this.jsPlumbUtil,l="__label";s.OverlayCapableJsPlumbUIComponent=function(e){jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays[l]=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:l}]),this.setListenerComponent=function(e){if(this._jsPlumb)for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].setListenerComponent(e)}},s.OverlayCapableJsPlumbUIComponent.applyType=function(e,t){if(t.overlays){var n,i={};for(n in t.overlays){var r=e._jsPlumb.overlays[t.overlays[n][1].id];if(r)r.updateFrom(t.overlays[n][1]),i[t.overlays[n][1].id]=!0;else{var o=e.getCachedTypeItem("overlay",t.overlays[n][1].id);null!=o?(o.reattach(e._jsPlumb.instance),o.updateFrom(t.overlays[n][1]),e._jsPlumb.overlays[o.id]=o):o=e.addOverlay(t.overlays[n],!0),i[o.id]=!0}}for(n in e._jsPlumb.overlays)null==i[e._jsPlumb.overlays[n].id]&&e.removeOverlay(e._jsPlumb.overlays[n].id)}},o.extend(s.OverlayCapableJsPlumbUIComponent,jsPlumbUIComponent,{setHover:function(e,t){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][e?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(e,t){var n=function(e,t){var n=null;if(o.isArray(t)){var i=t[0],r=s.extend({component:e,_jsPlumb:e._jsPlumb.instance},t[1]);3==t.length&&s.extend(r,t[2]),n=new(s.Overlays[e._jsPlumb.instance.getRenderMode()][i])(r)}else n=t.constructor==String?new(s.Overlays[e._jsPlumb.instance.getRenderMode()][t])({component:e,_jsPlumb:e._jsPlumb.instance}):t;return n.id=n.id||o.uuid(),e.cacheTypeItem("overlay",n,n.id),e._jsPlumb.overlays[n.id]=n}(this,e);return t||this.repaint(),n},getOverlay:function(e){return this._jsPlumb.overlays[e]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(e){var t=this.getOverlay(e);t&&t.hide()},hideOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].hide()},showOverlay:function(e){var t=this.getOverlay(e);t&&t.show()},showOverlays:function(){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].show()},removeAllOverlays:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup&&this._jsPlumb.overlays[t].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,e||this.repaint()},removeOverlay:function(e){var t=this._jsPlumb.overlays[e];t&&(t.cleanup&&t.cleanup(),delete this._jsPlumb.overlays[e],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[e])},removeOverlays:function(){for(var e=0,t=arguments.length;e<t;e++)this.removeOverlay(arguments[e])},moveParent:function(e){for(var t in this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),e.appendChild(this.bgCanvas)),this.canvas.parentNode.removeChild(this.canvas),e.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[t].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[t].getElement();n.parentNode.removeChild(n),e.appendChild(n)}},getLabel:function(){var e=this.getOverlay(l);return null!=e?e.getLabel():null},getLabelOverlay:function(){return this.getOverlay(l)},setLabel:function(e){var t,n,i,r,o=this.getOverlay(l);if(o)e.constructor==String||e.constructor==Function?o.setLabel(e):(e.label&&o.setLabel(e.label),e.location&&o.setLocation(e.location));else{var a=e.constructor==String||e.constructor==Function?{label:e}:e;t=this,i={cssClass:(n=a).cssClass,labelStyle:t.labelStyle,id:l,component:t,_jsPlumb:t._jsPlumb.instance},r=jsPlumb.extend(i,n),o=new(s.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(r),this._jsPlumb.overlays[l]=o}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(e){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].cleanup(e),this._jsPlumb.overlays[t].destroy(e);e&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(e){this[e?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(e,t){this._jsPlumb.overlayPositions[e.id]=t},getAbsoluteOverlayPosition:function(e){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[e.id]:null}})}.call(this),function(){"use strict";var T=this.jsPlumb,D=this.jsPlumbUtil,a=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],l=function(t,e){return D.findWithFunction(e.connections,function(e){return e.id==t.id})};T.Endpoint=function(x){var C=x._jsPlumb,S=x.newConnection,k=x.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],T.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:x.connectionType,maxConnections:null==x.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:x.maxConnections,paintStyle:x.endpointStyle||x.paintStyle||x.style||this._jsPlumb.instance.Defaults.EndpointStyle||T.Defaults.EndpointStyle,hoverPaintStyle:x.endpointHoverStyle||x.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||T.Defaults.EndpointHoverStyle,connectorStyle:x.connectorStyle,connectorHoverStyle:x.connectorHoverStyle,connectorClass:x.connectorClass,connectorHoverClass:x.connectorHoverClass,connectorOverlays:x.connectorOverlays,connector:x.connector,connectorTooltip:x.connectorTooltip}),this._jsPlumb.enabled=!(!1===x.enabled),this._jsPlumb.visible=!0,this.element=T.getElement(x.source),this._jsPlumb.uuid=x.uuid;var _=this._jsPlumb.floatingEndpoint=null;this._jsPlumb.uuid&&(x.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=x.elementId,this._jsPlumb.connectionCost=x.connectionCost,this._jsPlumb.connectionsDirected=x.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var n=function(){var e=C.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var t=C.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"_"+this._jsPlumb.currentAnchorClass:"");this.removeClass(e),this.addClass(t),jsPlumb.updateClasses(this.element,t,e)}.bind(this);this.prepareAnchor=function(e){var t=this._jsPlumb.instance.makeAnchor(e,this.elementId,C);return t.bind("anchorChanged",function(e){this.fire("anchorChanged",{endpoint:this,anchor:e}),n()}.bind(this)),t},this.setPreparedAnchor=function(e,t){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=e,n(),t||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(e,t){var n=this.prepareAnchor(e);return this.setPreparedAnchor(n,t),this};var e=function(e){if(0<this.connections.length)for(var t=0;t<this.connections.length;t++)this.connections[t].setHover(e,!1);else this.setHover(e)}.bind(this);this.bind("mouseover",function(){e(!0)}),this.bind("mouseout",function(){e(!1)}),x._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(e,t){var n,i=function(e,t){var n=C.getRenderMode();if(T.Endpoints[n][e])return new T.Endpoints[n][e](t);if(!C.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+e+"'"}},r={_jsPlumb:this._jsPlumb.instance,cssClass:x.cssClass,container:x.container,tooltip:x.tooltip,connectorTooltip:x.connectorTooltip,endpoint:this};return D.isString(e)?n=i(e,r):D.isArray(e)?(r=D.merge(e[1],r),n=i(e[0],r)):n=e.clone(),n.clone=function(){return D.isString(e)?i(e,r):D.isArray(e)?(r=D.merge(e[1],r),i(e[0],r)):void 0}.bind(this),n.typeId=t,n},this.setEndpoint=function(e,t){var n=this.prepareEndpoint(e);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(e,t){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=e,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},T.extend(this,x,a),this.isSource=x.isSource||!1,this.isTemporarySource=x.isTemporarySource||!1,this.isTarget=x.isTarget||!1,this.connections=x.connections||[],this.connectorPointerEvents=x["connector-pointer-events"],this.scope=x.scope||C.getDefaultScope(),this.timestamp=null,this.reattachConnections=x.reattach||C.Defaults.ReattachConnections,this.connectionsDetachable=C.Defaults.ConnectionsDetachable,!1!==x.connectionsDetachable&&!1!==x.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==x.dragAllowedWhenFull,x.onMaxConnections&&this.bind("maxConnections",x.onMaxConnections),this.addConnection=function(e){this.connections.push(e),this[(0<this.connections.length?"add":"remove")+"Class"](C.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](C.endpointFullClass)},this.detachFromConnection=function(e,t,n){0<=(t=null==t?l(e,this):t)&&(this.connections.splice(t,1),this[(0<this.connections.length?"add":"remove")+"Class"](C.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](C.endpointFullClass)),!n&&this._deleteOnDetach&&0===this.connections.length&&C.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!1})},this.detach=function(e,t,n,i,r,o,a){var s=!1;return i=!1!==i,0<=(null==a?l(e,this):a)&&(n||e._forceDetach||e.isDetachable()&&e.isDetachAllowed(e)&&this.isDetachAllowed(e)&&C.checkCondition("beforeDetach",e,o))&&(C.deleteObject({connection:e,fireEvent:!t&&i,originalEvent:r,deleteAttachedObjects:!1}),s=!0),s},this.detachAll=function(e,t){for(var n=[];0<this.connections.length;){this.detach(this.connections[0],!1,!0===t,!1!==e,null,this,0)||(n.push(this.connections[0]),this.connections.splice(0,1))}return this.connections=n,this},this.detachFrom=function(e,t,n){for(var i=[],r=0;r<this.connections.length;r++)this.connections[r].endpoints[1]!=e&&this.connections[r].endpoints[0]!=e||i.push(this.connections[r]);for(var o=0;o<i.length;o++)this.detach(i[o],!1,!0,t,n);return this},this.getElement=function(){return this.element},this.setElement=function(e){var t=this._jsPlumb.instance.getId(e),n=this.elementId;return D.removeWithFunction(x.endpointsByElement[this.elementId],function(e){return e.id==this.id}.bind(this)),this.element=jsPlumb.getElement(e),this.elementId=C.getId(this.element),C.anchorManager.rehomeEndpoint(this,n,this.element),C.dragManager.endpointAdded(this.element),D.addToList(x.endpointsByElement,t,this),this},this.makeInPlaceCopy=function(){var e=this.anchor.getCurrentLocation({element:this}),t=this.anchor.getOrientation(this),n=this.anchor.getCssClass(),i={bind:function(){},compute:function(){return[e[0],e[1]]},getCurrentLocation:function(){return[e[0],e[1]]},getOrientation:function(){return t},getCssClass:function(){return n}};return k({dropOptions:x.dropOptions,anchor:i,source:this.element,paintStyle:this.getPaintStyle(),endpoint:x.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){var e=this.connections[0];return e||(this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:e)},this.setStyle=this.setPaintStyle,this.paint=function(e){var t=(e=e||{}).timestamp,n=!(!1===e.recalc);if(!t||this.timestamp!==t){var i=C.updateOffset({elId:this.elementId,timestamp:t}),r=e.offset?e.offset.o:i.o;if(null!=r){var o=e.anchorPoint,a=e.connectorPaintStyle;if(null==o){var s=e.dimensions||i.s,l={xy:[r.left,r.top],wh:s,element:this,timestamp:t};if(n&&this.anchor.isDynamic&&0<this.connections.length){var c=function(e,t){var n=0;if(null!=t)for(var i=0;i<e.connections.length;i++)if(e.connections[i].sourceId==t||e.connections[i].targetId==t){n=i;break}return e.connections[n]}(this,e.elementWithPrecedence),u=c.endpoints[0]==this?1:0,d=0===u?c.sourceId:c.targetId,h=C.getCachedData(d),p=h.o,f=h.s;l.txy=[p.left,p.top],l.twh=f,l.tElement=c.endpoints[u]}o=this.anchor.compute(l)}for(var g in this.endpoint.compute(o,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=t,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(g)){var m=this._jsPlumb.overlays[g];m.isVisible()&&(this._jsPlumb.overlayPlacements[g]=m.draw(this.endpoint,this._jsPlumb.paintStyleInUse),m.paint(this._jsPlumb.overlayPlacements[g]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var c=!1;this.initDraggable=function(){if(!c&&T.isDragSupported(this.element)){var m={id:null,element:null},v=null,y=!1,b=null,w=(a=m,s=C,l=!1,{drag:function(){if(l)return!(l=!1);var e=T.getUIPosition(arguments,s.getZoom());a.element&&(jsPlumb.setPosition(a.element,e),s.repaint(a.element,e))},stopDrag:function(){l=!0}}),e=x.dragOptions||{},t=T.dragEvents.start,n=T.dragEvents.stop,i=T.dragEvents.drag,r=function(){v=this.connectorSelector();var e=!0;this.isEnabled()||(e=!1),null!=v||this.isSource||this.isTemporarySource||(e=!1),!this.isSource||!this.isFull()||null!=v&&this.dragAllowedWhenFull||(e=!1),null==v||v.isDetachable(this)||(e=!1);var t=C.checkCondition(null==v?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:v});if(!1===t&&(e=!1),!1===e)return C.stopDrag&&C.stopDrag(this.canvas),w.stopDrag(),!1;for(var n=0;n<this.connections.length;n++)this.connections[n].setHover(!1);this.addClass("endpointDrag"),C.setConnectionBeingDragged(!0),v&&!this.isFull()&&this.isSource&&(v=null),C.updateOffset({elId:this.elementId}),(_=this.makeInPlaceCopy()).addClass(C.draggingClass),_.referenceEndpoint=this,_.paint(),function(e,t){var n=jsPlumb.createElement("div",{position:"absolute"});t.appendElement(n);var i=t.getId(n);t.manage(i,n),e.id=i,e.element=n}(m,C);var i,r,o,a,s,l,c,u,d=this._jsPlumb.instance.getOffset(_.canvas),h=this.canvas;if(jsPlumb.setPosition(m.element,d),this.parentAnchor&&(this.anchor=C.makeAnchor(this.parentAnchor,this.elementId,C)),C.setAttributes(this.canvas,{dragId:m.id,elId:this.elementId}),this._jsPlumb.floatingEndpoint=(i=this.getPaintStyle(),r=this.anchor,o=this.endpoint,a=this.canvas,s=m.element,l=C,c=k,u=this.scope,c({paintStyle:i,endpoint:o,anchor:new T.FloatingAnchor({reference:r,referenceCanvas:a,jsPlumbInstance:l}),source:s,scope:u})),this.canvas.style.visibility="hidden",null==v)this.anchor.locked=!0,this.setHover(!1,!1),(v=S({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:m.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:x.connectorStyle,hoverPaintStyle:x.connectorHoverStyle,connector:x.connector,overlays:x.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,data:t})).addClass(C.draggingClass),this._jsPlumb.floatingEndpoint.addClass(C.draggingClass),C.fire("connectionDrag",v);else{y=!0,v.setHover(!1);var p=v.endpoints[0].id==this.id?0:1;this.detachFromConnection(v,null,!0);var f=C.getDragScope(h);C.setAttribute(this.canvas,"originalScope",f);var g=C.getDropScope(h);C.setDragScope(h,g),C.fire("connectionDrag",v),0===p?(b=[v.source,v.sourceId,h,f],v.source=m.element,v.sourceId=m.id):(b=[v.target,v.targetId,h,f],v.target=m.element,v.targetId=m.id),v.endpoints[0===p?1:0].anchor.locked=!0,v.suspendedEndpoint=v.endpoints[p],v.suspendedElement=v.endpoints[p].getElement(),v.suspendedElementId=v.endpoints[p].elementId,v.suspendedElementType=0===p?"source":"target",v.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=v.suspendedEndpoint,v.endpoints[p]=this._jsPlumb.floatingEndpoint,v.addClass(C.draggingClass),this._jsPlumb.floatingEndpoint.addClass(C.draggingClass)}C.floatingConnections[m.id]=v,C.anchorManager.addFloatingConnection(m.id,v),D.addToList(x.endpointsByElement,m.id,this._jsPlumb.floatingEndpoint),C.currentlyDragging=!0}.bind(this),o=function(){if(C.setConnectionBeingDragged(!1),v&&null!=v.endpoints){var e=C.getDropEvent(arguments),t=C.getFloatingAnchorIndex(v);if(v.endpoints[0===t?1:0].anchor.locked=!1,v.removeClass(C.draggingClass),this._jsPlumb&&(v.deleteConnectionNow||v.endpoints[t]==this._jsPlumb.floatingEndpoint)&&y&&v.suspendedEndpoint){0===t?(v.source=b[0],v.sourceId=b[1]):(v.target=b[0],v.targetId=b[1]);var n=this._jsPlumb.floatingEndpoint;C.setDragScope(b[2],b[3]),v.endpoints[t]=v.suspendedEndpoint,v.isReattach()||v._forceReattach||v._forceDetach||!v.endpoints[0===t?1:0].detach(v,!1,!1,!0,e,!0)?(v.setHover(!1),v._forceDetach=null,v._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(v),v.suspendedEndpoint.addConnection(v),C.repaint(b[1])):C.deleteObject({endpoint:n})}C.remove(m.element,!1),C.deleteObject({endpoint:_}),this.deleteAfterDragStop?C.deleteObject({endpoint:this}):this._jsPlumb&&(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility="visible",this.anchor.locked=!1,this.paint({recalc:!1})),C.fire("connectionDragStop",v,e),C.currentlyDragging=!1,v=null}}.bind(this);(e=T.extend({},e)).scope=this.scope||e.scope,e[t]=D.wrap(e[t],r,!1),e[i]=D.wrap(e[i],w.drag),e[n]=D.wrap(e[n],o),e.multipleDrop=!1,e.canDrag=function(){return this.isSource||this.isTemporarySource||0<this.connections.length}.bind(this),C.initDraggable(this.canvas,e,"internal"),this.canvas._jsPlumbRelatedElement=this.element,c=!0}var a,s,l};var t=x.endpoint||this._jsPlumb.instance.Defaults.Endpoint||T.Defaults.Endpoint;this.setEndpoint(t,!0);var i=x.anchor?x.anchor:x.anchors?x.anchors:C.Defaults.Anchor||"Top";this.setAnchor(i,!0);var r=["default",x.type||""].join(" ");this.addType(r,x.data,!0),this.canvas=this.endpoint.canvas,((this.canvas._jsPlumb=this).isSource||this.isTarget||this.isTemporarySource)&&this.initDraggable();var o=function(e,t,n,i,r){if((this.isTarget||t)&&T.isDropSupported(this.element)){var o=x.dropOptions||C.Defaults.DropOptions||T.Defaults.DropOptions;(o=T.extend({},o)).scope=o.scope||this.scope;var a=T.dragEvents.drop,s=T.dragEvents.over,l=T.dragEvents.out,c=this,u=C.EndpointDropHandler({getEndpoint:function(){return c},jsPlumb:C,enabled:function(){return null==i||i.isEnabled()},isFull:function(){return i.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(e){c.addClass(e)},removeClass:function(e){c.removeClass(e)},isDropAllowed:function(){return c.isDropAllowed.apply(c,arguments)},reference:r,isRedrop:function(e,t){return e.suspendedEndpoint&&t.reference&&e.suspendedEndpoint.id===t.reference.id}});o[a]=D.wrap(o[a],u,!0),o[s]=D.wrap(o[s],function(){var e=T.getDragObject(arguments),t=C.getAttribute(T.getElement(e),"dragId"),n=C.floatingConnections[t];if(null!=n){var i=C.getFloatingAnchorIndex(n);if(this.isTarget&&0!==i||n.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==n.suspendedEndpoint.id){var r=C.checkCondition("checkDropAllowed",{sourceEndpoint:n.endpoints[i],targetEndpoint:this,connection:n});this[(r?"add":"remove")+"Class"](C.endpointDropAllowedClass),this[(r?"remove":"add")+"Class"](C.endpointDropForbiddenClass),n.endpoints[i].anchor.over(this.anchor,this)}}}.bind(this)),o[l]=D.wrap(o[l],function(){var e=T.getDragObject(arguments),t=null==e?null:C.getAttribute(T.getElement(e),"dragId"),n=t?C.floatingConnections[t]:null;if(null!=n){var i=C.getFloatingAnchorIndex(n);(this.isTarget&&0!==i||n.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==n.suspendedEndpoint.id)&&(this.removeClass(C.endpointDropAllowedClass),this.removeClass(C.endpointDropForbiddenClass),n.endpoints[i].anchor.out())}}.bind(this)),C.initDroppable(e,o,"internal",n)}}.bind(this);return this.anchor.isFloating||o(this.canvas,!0,!(x._transient||this.anchor.isFloating),this,x.reference),this},D.extend(T.Endpoint,T.OverlayCapableJsPlumbUIComponent,{setVisible:function(e,t,n){if(this._jsPlumb.visible=e,this.canvas&&(this.canvas.style.display=e?"block":"none"),this[e?"showOverlays":"hideOverlays"](),!t)for(var i=0;i<this.connections.length;i++)if(this.connections[i].setVisible(e),!n){var r=this===this.connections[i].endpoints[0]?1:0;1==this.connections[i].endpoints[r].connections.length&&this.connections[i].endpoints[r].setVisible(e,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(e,t){this.setPaintStyle(e.endpointStyle||e.paintStyle,t),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle,t),null!=e.maxConnections&&(this._jsPlumb.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),T.extend(this,e,a),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass),T.OverlayCapableJsPlumbUIComponent.applyType(this,e)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(e){this._jsPlumb.enabled=e},cleanup:function(){var e=this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"_"+this._jsPlumb.currentAnchorClass:"");jsPlumb.removeClass(this.element,e),this.anchor=null,this.endpoint.cleanup(),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(e){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(e)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(e){var t=!1;if(e)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]==e||this.connections[n].endpoints[0]==e){t=!0;break}return t},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(e){this._jsPlumb.connectionCost=e},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(e){this._jsPlumb.connectionsDirected=e},setElementId:function(e){this.elementId=e,this.anchor.elementId=e},setReferenceElement:function(e){this.element=T.getElement(e)},setDragAllowedWhenFull:function(e){this.dragAllowedWhenFull=e},equals:function(e){return this.anchor.equals(e.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(e){return this.anchor.compute(e)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(d){return function(e){var r=d.jsPlumb;d.removeClass(r.endpointDropAllowedClass),d.removeClass(r.endpointDropForbiddenClass);var o=r.getDropEvent(arguments),t=r.getDragObject(arguments),n=r.getAttribute(t,"dragId"),i=(r.getAttribute(t,"elId"),r.getAttribute(t,"originalScope")),a=r.floatingConnections[n];if(null!=a&&(!a.suspendedEndpoint||null!=a.suspendedEndpoint._jsPlumb)){var s=d.getEndpoint(a);if(d.isRedrop(a,d))return a._forceReattach=!0,a.setHover(!1),void(d.maybeCleanup&&d.maybeCleanup(s));var l=r.getFloatingAnchorIndex(a);if((0!==l||d.isSource)&&(1!==l||d.isTarget)){if(d.onDrop&&d.onDrop(a),i&&r.setDragScope(t,i),d.isFull(e)&&s.fire("maxConnections",{endpoint:this,connection:a,maxConnections:s._jsPlumb.maxConnections},o),!d.isFull()&&(0!==l||d.isSource)&&(1!=l||d.isTarget)&&d.enabled()){var c=!0;0===l?(a.source=d.element,a.sourceId=d.elementId):(a.target=d.element,a.targetId=d.elementId),a.suspendedEndpoint&&a.suspendedEndpoint._jsPlumb&&a.suspendedEndpoint.id!=s.id&&(a.isDetachAllowed(a)&&a.endpoints[l].isDetachAllowed(a)&&a.suspendedEndpoint.isDetachAllowed(a)&&r.checkCondition("beforeDetach",a)||(c=!1));var u=function(e){a.endpoints[l].detachFromConnection(a),a.suspendedEndpoint&&a.suspendedEndpoint.detachFromConnection(a),(a.endpoints[l]=s).addConnection(a);var t=s.getParameters();for(var n in t)a.setParameter(n,t[n]);if(a.suspendedEndpoint){var i=a.suspendedEndpoint.elementId;r.fireMoveEvent({index:l,originalSourceId:0===l?i:a.sourceId,newSourceId:0===l?s.elementId:a.sourceId,originalTargetId:1==l?i:a.targetId,newTargetId:1==l?s.elementId:a.targetId,originalSourceEndpoint:0===l?a.suspendedEndpoint:a.endpoints[0],newSourceEndpoint:0===l?s:a.endpoints[0],originalTargetEndpoint:1==l?a.suspendedEndpoint:a.endpoints[1],newTargetEndpoint:1==l?s:a.endpoints[1],connection:a},o)}else t.draggable&&r.initDraggable(this.element,dragOptions,"internal",r);(1==l?r.anchorManager.updateOtherEndpoint(a.sourceId,a.suspendedElementId,a.targetId,a):r.anchorManager.sourceChanged(a.suspendedEndpoint.elementId,a.sourceId,a),a.endpoints[0].finalEndpoint)&&(a.endpoints[0].detachFromConnection(a),a.endpoints[0]=a.endpoints[0].finalEndpoint,a.endpoints[0].addConnection(a));jsPlumbUtil.isObject(e)&&a.mergeData(e),r.finaliseConnection(a,null,o),a.setHover(!1)}.bind(this);if(c=c&&d.isDropAllowed(a.sourceId,a.targetId,a.scope,a,s))return u(c),!0;a.suspendedEndpoint&&(a.endpoints[l]=a.suspendedEndpoint,a.setHover(!1),a._forceDetach=!0,0===l?(a.source=a.suspendedEndpoint.element,a.sourceId=a.suspendedEndpoint.elementId):(a.target=a.suspendedEndpoint.element,a.targetId=a.suspendedEndpoint.elementId),a.suspendedEndpoint.addConnection(a),r.repaint(a.sourceId),a._forceDetach=!1)}d.maybeCleanup&&d.maybeCleanup(s),r.currentlyDragging=!1}}}}}.call(this),function(){"use strict";var t=this,b=t.jsPlumb,w=t.jsPlumbUtil,o=function(e,t,n,i,r){if(!e.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[t][n])throw{msg:"jsPlumb: unknown connector type '"+n+"'"};return new b.Connectors[t][n](i,r)},p=function(e,t,n){return e?n.makeAnchor(e,t,n):null},n=function(e,t,n,i){null!=t&&(t._jsPlumbConnections=t._jsPlumbConnections||{},i?delete t._jsPlumbConnections[e.id]:t._jsPlumbConnections[e.id]=!0,w.isEmpty(t._jsPlumbConnections)?n.removeClass(t,n.connectedClass):n.addClass(t,n.connectedClass))};b.Connection=function(r){var o=r.newEndpoint;this.id=r.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=r.previousConnection,this.source=b.getElement(r.source),this.target=b.getElement(r.target),r.sourceEndpoint&&(this.source=r.sourceEndpoint.getElement()),r.targetEndpoint&&(this.target=r.targetEndpoint.getElement()),b.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=r.scope,this.endpoints=[],this.endpointStyles=[];var a=this._jsPlumb.instance;a.manage(this.sourceId,this.source),a.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.editable=!0===r.editable,this._jsPlumb.params={cssClass:r.cssClass,container:r.container,"pointer-events":r["pointer-events"],editorParams:r.editorParams,overlays:r.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",function(){this.setHover(!0)}.bind(this)),this.bind("mouseout",function(){this.setHover(!1)}.bind(this)),this.makeEndpoint=function(e,t,n,i){return n=n||this._jsPlumb.instance.getId(t),this.prepareEndpoint(a,o,this,i,e?0:1,r,t,n)};var e=this.makeEndpoint(!0,this.source,this.sourceId,r.sourceEndpoint),t=this.makeEndpoint(!1,this.target,this.targetId,r.targetEndpoint);e&&w.addToList(r.endpointsByElement,this.sourceId,e),t&&w.addToList(r.endpointsByElement,this.targetId,t),this.scope||(this.scope=this.endpoints[0].scope),null!=r.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=r.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=r.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0));var n=a.Defaults.ConnectionsDetachable;!1===r.detachable&&(n=!1),!1===this.endpoints[0].connectionsDetachable&&(n=!1),!1===this.endpoints[1].connectionsDetachable&&(n=!1);var i=r.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||a.Defaults.ReattachConnections;this.appendToDefaultType({detachable:n,rettach:i,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||r.paintStyle||a.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||r.hoverPaintStyle||a.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle});var s=a.getSuspendedAt();if(!a.isSuspendDrawing()){var l=a.getCachedData(this.sourceId),c=l.o,u=l.s,d=a.getCachedData(this.targetId),h=d.o,p=d.s,f=s||a.timestamp(),g=this.endpoints[0].anchor.compute({xy:[c.left,c.top],wh:u,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[h.left,h.top],twh:p,tElement:this.endpoints[1],timestamp:f});this.endpoints[0].paint({anchorLoc:g,timestamp:f}),g=this.endpoints[1].anchor.compute({xy:[h.left,h.top],wh:p,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[c.left,c.top],twh:u,tElement:this.endpoints[0],timestamp:f}),this.endpoints[1].paint({anchorLoc:g,timestamp:f})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(){return!0===this._jsPlumb.detachable},this.setDetachable=function(e){this._jsPlumb.detachable=!0===e},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(e){this._jsPlumb.reattach=!0===e},this._jsPlumb.cost=r.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=r.directed,null==r.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var m=jsPlumb.extend({},this.endpoints[1].getParameters());b.extend(m,this.endpoints[0].getParameters()),b.extend(m,this.getParameters()),this.setParameters(m),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||r.connector||a.Defaults.Connector||b.Defaults.Connector,!0);var v=null!=r.data&&jsPlumbUtil.isObject(r.data)?r.data:{};this.getData=function(){return v},this.setData=function(e){v=e||{}},this.mergeData=function(e){v=jsPlumb.extend(v,e)};var y=["default",r.type,this.endpoints[0].connectionType,this.endpoints[1].connectionType].join(" ");/[^\s]/.test(y)&&this.addType(y,r.data,!0),this.updateConnectedClass()},w.extend(b.Connection,b.OverlayCapableJsPlumbUIComponent,{applyType:function(e,t,n){null!=e.detachable&&this.setDetachable(e.detachable),null!=e.reattach&&this.setReattach(e.reattach),e.scope&&(this.scope=e.scope),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass);var i=null;e.anchor?null==(i=this.getCachedTypeItem("anchors",n.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchor),this._jsPlumb.instance.makeAnchor(e.anchor)],this.cacheTypeItem("anchors",i,n.anchor)):e.anchors&&null==(i=this.getCachedTypeItem("anchors",n.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(e.anchors[0]),this._jsPlumb.instance.makeAnchor(e.anchors[1])],this.cacheTypeItem("anchors",i,n.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1]),b.OverlayCapableJsPlumbUIComponent.applyType(this,e)},addClass:function(e,t){t&&(this.endpoints[0].addClass(e),this.endpoints[1].addClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(e)),this.connector&&this.connector.addClass(e)},removeClass:function(e,t){t&&(this.endpoints[0].removeClass(e),this.endpoints[1].removeClass(e),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(e)),this.connector&&this.connector.removeClass(e)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(e){this._jsPlumb.visible=e,this.connector&&this.connector.setVisible(e),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,(this.target=null)!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(e){n(this,this.source,this._jsPlumb.instance,e),n(this,this.target,this._jsPlumb.instance,e)},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb.cost},setCost:function(e){this._jsPlumb.cost=e},isDirected:function(){return!0===this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(e,t){var n,i={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},r=this._jsPlumb.instance.getRenderMode();return w.isString(e)?n=o(this._jsPlumb.instance,r,e,i,this):w.isArray(e)&&(n=1==e.length?o(this._jsPlumb.instance,r,e[0],i,this):o(this._jsPlumb.instance,r,e[0],w.merge(e[1],i),this)),null!=t&&(n.typeId=t),n},setPreparedConnector:function(e,t,n,i){var r;if(null!=this.connector&&(r=this.connector,this.connector.cleanup(),this.connector.destroy()),this.connector=e,i&&this.cacheTypeItem("connector",e,i),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=r)for(var o=this.getOverlays(),a=0;a<o.length;a++)o[a].transfer&&o[a].transfer(this.connector);n||this.setListenerComponent(this.connector),t||this.repaint()},setConnector:function(e,t,n,i){var r=this.prepareConnector(e,i);this.setPreparedConnector(r,t,n,i)},paint:function(e){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var t=(e=e||{}).timestamp,n=this.targetId,i=this.sourceId;if(null==t||t!=this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:i}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,a=this.endpoints[0],s=this.endpoints[1],l=a.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:a,timestamp:t}),c=s.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:s,timestamp:t});this.connector.resetBounds(),this.connector.compute({sourcePos:l,targetPos:c,sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:r,targetInfo:o});var u={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var d in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(d)){var h=this._jsPlumb.overlays[d];h.isVisible()&&(this._jsPlumb.overlayPlacements[d]=h.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(h)),u.minX=Math.min(u.minX,this._jsPlumb.overlayPlacements[d].minX),u.maxX=Math.max(u.maxX,this._jsPlumb.overlayPlacements[d].maxX),u.minY=Math.min(u.minY,this._jsPlumb.overlayPlacements[d].minY),u.maxY=Math.max(u.maxY,this._jsPlumb.overlayPlacements[d].maxY))}var p=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,f=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),g={xmin:Math.min(this.connector.bounds.minX-(p+f),u.minX),ymin:Math.min(this.connector.bounds.minY-(p+f),u.minY),xmax:Math.max(this.connector.bounds.maxX+(p+f),u.maxX),ymax:Math.max(this.connector.bounds.maxY+(p+f),u.maxY)};for(var m in this.connector.paint(this._jsPlumb.paintStyleInUse,null,g),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(m)){var v=this._jsPlumb.overlays[m];v.isVisible()&&v.paint(this._jsPlumb.overlayPlacements[m],g)}}this._jsPlumb.lastPaintedAt=t}},repaint:function(e){e=e||{},this.paint({elId:this.sourceId,recalc:!(!1===e.recalc),timestamp:e.timestamp})},prepareEndpoint:function(e,t,n,i,r,o,a,s){var l;if(i)(n.endpoints[r]=i).addConnection(n);else{o.endpoints||(o.endpoints=[null,null]);var c=o.endpoints[r]||o.endpoint||e.Defaults.Endpoints[r]||jsPlumb.Defaults.Endpoints[r]||e.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;o.endpointStyles||(o.endpointStyles=[null,null]),o.endpointHoverStyles||(o.endpointHoverStyles=[null,null]);var u=o.endpointStyles[r]||o.endpointStyle||e.Defaults.EndpointStyles[r]||jsPlumb.Defaults.EndpointStyles[r]||e.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==u.fillStyle&&null!=o.paintStyle&&(u.fillStyle=o.paintStyle.strokeStyle),null==u.outlineColor&&null!=o.paintStyle&&(u.outlineColor=o.paintStyle.outlineColor),null==u.outlineWidth&&null!=o.paintStyle&&(u.outlineWidth=o.paintStyle.outlineWidth);var d=o.endpointHoverStyles[r]||o.endpointHoverStyle||e.Defaults.EndpointHoverStyles[r]||jsPlumb.Defaults.EndpointHoverStyles[r]||e.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=o.hoverPaintStyle&&(null==d&&(d={}),null==d.fillStyle&&(d.fillStyle=o.hoverPaintStyle.strokeStyle));var h=o.anchors?o.anchors[r]:o.anchor?o.anchor:p(e.Defaults.Anchors[r],s,e)||p(b.Defaults.Anchors[r],s,e)||p(e.Defaults.Anchor,s,e)||p(b.Defaults.Anchor,s,e);l=t({paintStyle:u,hoverPaintStyle:d,endpoint:c,connections:[n],uuid:o.uuids?o.uuids[r]:null,anchor:h,source:a,scope:o.scope,reattach:o.reattach||e.Defaults.ReattachConnections,detachable:o.detachable||e.Defaults.ConnectionsDetachable}),n.endpoints[r]=l,!1===o.drawEndpoints&&l.setVisible(!1,!0,!0)}return l}})}.call(this),function(){"use strict";var L=this.jsPlumbUtil,j=this.jsPlumb;j.AnchorManager=function(S){var A={},g={},d={},m={},v="identity",y=["left","top","right","bottom"],E={},l=this,I={},P=S.jsPlumbInstance,$={},M=function(e,t,n,i,r,o){if(e===t)return{orientation:v,a:["top","top"]};var a=Math.atan2(i.centery-n.centery,i.centerx-n.centerx),s=Math.atan2(n.centery-i.centery,n.centerx-i.centerx),l=[],c={};!function(e,t){for(var n=0;n<e.length;n++)c[e[n]]={left:[t[n].left,t[n].centery],right:[t[n].right,t[n].centery],top:[t[n].centerx,t[n].top],bottom:[t[n].centerx,t[n].bottom]}}(["source","target"],[n,i]);for(var u=0;u<y.length;u++)for(var d=0;d<y.length;d++)u!=d&&l.push({source:y[u],target:y[d],dist:Biltong.lineLength(c.source[y[u]],c.target[y[d]])});l.sort(function(e,t){return e.dist<t.dist?-1:e.dist>t.dist?1:0});for(var h=l[0].source,p=l[0].target,f=0;f<l.length&&(h=!r.isContinuous||r.isEdgeSupported(l[f].source)?l[f].source:null,p=!o.isContinuous||o.isEdgeSupported(l[f].target)?l[f].target:null,null==h||null==p);f++);return{a:[h,p],theta:a,theta2:s}},e=function(n){return function(e,t){return!1===(n?e[0][0]<t[0][0]:e[0][0]>t[0][0])?-1:1}},b={top:function(e,t){return e[0]>t[0]?1:-1},right:e(!0),bottom:e(!0),left:function(e,t){var n=e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0];return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])<n?1:e[0][1]>t[0][1]?1:-1}},O=function(f,e){var t=P.getCachedData(f),n=t.s,i=t.o,r=function(e,t,n,i,r,o,a){if(0<i.length)for(var s=function(e,t,n,i,r,o,a){for(var s=[],l=t[r?0:1]/(i.length+1),c=0;c<i.length;c++){var u=(c+1)*l,d=o*t[r?1:0];a&&(u=t[r?0:1]-u);var h=r?u:d,p=n[0]+h,f=h/t[0],g=r?d:u,m=n[1]+g,v=g/t[1];s.push([p,m,f,v,i[c][1],i[c][2]])}return s}(0,t,n,(p=b[e],i.sort(p)),r,o,"right"===e||"top"===e),l=function(e,t){g[e.id]=[t[0],t[1],t[2],t[3]],m[e.id]=a},c=0;c<s.length;c++){var u=s[c][4],d=u.endpoints[0].elementId===f,h=u.endpoints[1].elementId===f;d?l(u.endpoints[0],s[c]):h&&l(u.endpoints[1],s[c])}var p};r("bottom",n,[i.left,i.top],e.bottom,!0,1,[0,1]),r("top",n,[i.left,i.top],e.top,!0,0,[0,-1]),r("left",n,[i.left,i.top],e.left,!1,0,[-1,0]),r("right",n,[i.left,i.top],e.right,!1,1,[1,0])};this.reset=function(){A={},E={},I={}},this.addFloatingConnection=function(e,t){$[e]=t},this.removeFloatingConnection=function(e){delete $[e]},this.newConnection=function(o){var a=o.sourceId,s=o.targetId,l=o.endpoints,c=!0,e=function(e,t,n,i,r){a==s&&n.isContinuous&&(o._jsPlumb.instance.removeElement(l[1].canvas),c=!1),L.addToList(E,i,[r,t,n.constructor==j.DynamicAnchor])};e(0,l[0],l[0].anchor,s,o),c&&e(0,l[1],l[1].anchor,a,o)};var a=function(e){!function(e,t){if(e){var n=function(e){return e[4]==t};L.removeWithFunction(e.top,n),L.removeWithFunction(e.left,n),L.removeWithFunction(e.bottom,n),L.removeWithFunction(e.right,n)}}(I[e.elementId],e.id)};this.connectionDetached=function(e){var t=e.connection||e,n=e.sourceId,i=e.targetId,r=t.endpoints,o=function(e,t,n,i,r){null!=n&&n.constructor==j.FloatingAnchor||L.removeWithFunction(E[i],function(e){return e[0].id==r.id})};o(0,r[1],r[1].anchor,n,t),o(0,r[0],r[0].anchor,i,t),a(t.endpoints[0]),a(t.endpoints[1]),l.redraw(t.sourceId),l.redraw(t.targetId)},this.add=function(e,t){L.addToList(A,t,e)},this.changeId=function(e,t){E[t]=E[e],A[t]=A[e],delete E[e],delete A[e]},this.getConnectionsFor=function(e){return E[e]||[]},this.getEndpointsFor=function(e){return A[e]||[]},this.deleteEndpoint=function(t){L.removeWithFunction(A[t.elementId],function(e){return e.id==t.id}),a(t)},this.clearFor=function(e){delete A[e],A[e]=[]};var N=function(e,t,n,i,r,o,a,s,l,c,u,d){var h,p,f=-1,g=i.endpoints[a],m=g.id,v=[1,0][a],y=[[t,n],i,r,o,m],b=e[l],w=g._continuousAnchorEdge?e[g._continuousAnchorEdge]:null;if(w){var x=L.findWithFunction(w,function(e){return e[4]==m});if(-1!=x)for(w.splice(x,1),h=0;h<w.length;h++)p=w[h][1],L.addWithFunction(u,p,function(e){return e.id==p.id}),L.addWithFunction(d,w[h][1].endpoints[a],function(e){return e.id==p.endpoints[a].id}),L.addWithFunction(d,w[h][1].endpoints[v],function(e){return e.id==p.endpoints[v].id})}for(h=0;h<b.length;h++)p=b[h][1],1==S.idx&&b[h][3]===o&&-1==f&&(f=h),L.addWithFunction(u,p,function(e){return e.id==p.id}),L.addWithFunction(d,b[h][1].endpoints[a],function(e){return e.id==p.endpoints[a].id}),L.addWithFunction(d,b[h][1].endpoints[v],function(e){return e.id==p.endpoints[v].id});var C=s?-1!=f?f:0:b.length;b.splice(C,0,y),g._continuousAnchorEdge=l};this.updateOtherEndpoint=function(e,t,n,i){var r=L.findWithFunction(E[e],function(e){return e[0].id===i.id}),o=L.findWithFunction(E[t],function(e){return e[0].id===i.id});-1!=r&&(E[e][r][0]=i,E[e][r][1]=i.endpoints[1],E[e][r][2]=i.endpoints[1].anchor.constructor==j.DynamicAnchor),-1<o&&(E[t].splice(o,1),L.addToList(E,n,[i,i.endpoints[0],i.endpoints[0].anchor.constructor==j.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(e,t,n){if(e!==t){L.removeWithFunction(E[e],function(e){return e[0].id===n.id});var i=L.findWithFunction(E[n.targetId],function(e){return e[0].id===n.id});-1<i&&(E[n.targetId][i][0]=n,E[n.targetId][i][1]=n.endpoints[0],E[n.targetId][i][2]=n.endpoints[0].anchor.constructor==j.DynamicAnchor),L.addToList(E,t,[n,n.endpoints[1],n.endpoints[1].anchor.constructor==j.DynamicAnchor]),n.updateConnectedClass()}},this.rehomeEndpoint=function(e,t,n){var i=A[t]||[],r=P.getId(n);if(r!==t){var o=L.indexOf(i,e);if(-1<o){var a=i.splice(o,1)[0];l.add(a,r)}}for(var s=0;s<e.connections.length;s++)e.connections[s].sourceId==t?(e.connections[s].sourceId=e.elementId,e.connections[s].source=e.element,l.sourceChanged(t,e.elementId,e.connections[s])):e.connections[s].targetId==t&&(e.connections[s].targetId=e.elementId,e.connections[s].target=e.element,l.updateOtherEndpoint(e.connections[s].sourceId,t,e.elementId,e.connections[s]))},this.redraw=function(t,e,n,i,r,o){if(!P.isSuspendDrawing()){var a=A[t]||[],s=E[t]||[],l=[],c=[],u=[];n=n||P.timestamp(),i=i||{left:0,top:0},e&&(e={left:e.left+i.left,top:e.top+i.top});for(var d=P.updateOffset({elId:t,offset:e,recalc:!1,timestamp:n}),h={},p=0;p<s.length;p++){var f=s[p][0],g=f.sourceId,m=f.targetId,v=f.endpoints[0].anchor.isContinuous,y=f.endpoints[1].anchor.isContinuous;if(v||y){var b=g+"_"+m,w=h[b],x=f.sourceId==t?1:0;v&&!I[g]&&(I[g]={top:[],right:[],bottom:[],left:[]}),y&&!I[m]&&(I[m]={top:[],right:[],bottom:[],left:[]}),t!=m&&P.updateOffset({elId:m,timestamp:n}),t!=g&&P.updateOffset({elId:g,timestamp:n});var C=P.getCachedData(m),S=P.getCachedData(g);m==g&&(v||y)?N(I[g],-Math.PI/2,0,f,!1,m,0,!1,"top",0,l,c):(w||(w=M(g,m,S.o,C.o,f.endpoints[0].anchor,f.endpoints[1].anchor),h[b]=w),v&&N(I[g],w.theta,0,f,!1,m,0,!1,w.a[0],0,l,c),y&&N(I[m],w.theta2,-1,f,!0,g,1,!0,w.a[1],0,l,c)),v&&L.addWithFunction(u,g,function(e){return e===g}),y&&L.addWithFunction(u,m,function(e){return e===m}),L.addWithFunction(l,f,function(e){return e.id==f.id}),(v&&0===x||y&&1===x)&&L.addWithFunction(c,f.endpoints[x],function(e){return e.id==f.endpoints[x].id})}}for(p=0;p<a.length;p++)0===a[p].connections.length&&a[p].anchor.isContinuous&&(I[t]||(I[t]={top:[],right:[],bottom:[],left:[]}),N(I[t],-Math.PI/2,0,{endpoints:[a[p],a[p]],paint:function(){}},!1,t,0,!1,a[p].anchor.getDefaultFace(),0,l,c),L.addWithFunction(u,t,function(e){return e===t}));for(p=0;p<u.length;p++)O(u[p],I[u[p]]);for(p=0;p<a.length;p++)a[p].paint({timestamp:n,offset:d,dimensions:d.s,recalc:!0!==o});for(p=0;p<c.length;p++){var k=P.getCachedData(c[p].elementId);c[p].paint({timestamp:n,offset:k,dimensions:k.s})}for(p=0;p<s.length;p++){var _=s[p][1];if(_.anchor.constructor==j.DynamicAnchor){_.paint({elementWithPrecedence:t,timestamp:n}),L.addWithFunction(l,s[p][0],function(e){return e.id==s[p][0].id});for(var T=0;T<_.connections.length;T++)_.connections[T]!==s[p][0]&&L.addWithFunction(l,_.connections[T],function(e){return e.id==_.connections[T].id})}else _.anchor.constructor==j.Anchor&&L.addWithFunction(l,s[p][0],function(e){return e.id==s[p][0].id})}var D=$[t];for(D&&D.paint({timestamp:n,recalc:!1,elId:t}),p=0;p<l.length;p++)l[p].paint({elId:t,timestamp:n,recalc:!1,clearEdits:r})}};var t=function(t){L.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var e=t.faces||["top","right","bottom","left"],n=!(!1===t.clockwise),i={},r={top:"bottom",right:"left",left:"right",bottom:"top"},o={top:"right",right:"bottom",left:"top",bottom:"left"},a={top:"left",right:"top",left:"bottom",bottom:"right"},s=n?o:a,l=n?a:o,c=t.cssClass||"",u=0;u<e.length;u++)i[e[u]]=!0;this.getDefaultFace=function(){return 0===e.length?"top":e[0]},this.verifyEdge=function(e){return i[e]?e:i[r[e]]?r[e]:i[s[e]]?s[e]:i[l[e]]?l[e]:e},this.isEdgeSupported=function(e){return!0===i[e]},this.compute=function(e){return d[e.element.id]||g[e.element.id]||[0,0]},this.getCurrentLocation=function(e){return d[e.element.id]||g[e.element.id]||[0,0]},this.getOrientation=function(e){return m[e.id]||[0,0]},this.clearUserDefinedLocation=function(){delete d[t.elementId]},this.setUserDefinedLocation=function(e){d[t.elementId]=e},this.getCssClass=function(){return c}};P.continuousAnchorFactory={get:function(e){return new t(e)},clear:function(e){delete d[e],delete g[e]}}},j.Anchor=function(e){this.x=e.x||0,this.y=e.y||0,this.elementId=e.elementId,this.cssClass=e.cssClass||"",this.userDefinedLocation=null,this.orientation=e.orientation||[0,0],this.lastReturnValue=null,this.offsets=e.offsets||[0,0],this.timestamp=null,L.EventGenerator.apply(this),this.compute=function(e){var t=e.xy,n=e.wh,i=e.timestamp;return e.clearUserDefinedLocation&&(this.userDefinedLocation=null),i&&i===self.timestamp||(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:this.lastReturnValue=[t[0]+this.x*n[0]+this.offsets[0],t[1]+this.y*n[1]+this.offsets[1]],this.timestamp=i),this.lastReturnValue},this.getCurrentLocation=function(e){return null==this.lastReturnValue||null!=e.timestamp&&this.timestamp!=e.timestamp?this.compute(e):this.lastReturnValue}},L.extend(j.Anchor,L.EventGenerator,{equals:function(e){if(!e)return!1;var t=e.getOrientation(),n=this.getOrientation();return this.x==e.x&&this.y==e.y&&this.offsets[0]==e.offsets[0]&&this.offsets[1]==e.offsets[1]&&n[0]==t[0]&&n[1]==t[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(e){this.userDefinedLocation=e},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),j.FloatingAnchor=function(e){j.Anchor.apply(this,arguments);var n=e.reference,t=e.referenceCanvas,i=j.getSize(t),r=null,o=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(e){var t=e.xy,n=[t[0]+i[0]/2,t[1]+i[1]/2];return o=n},this.getOrientation=function(e){if(r)return r;var t=n.getOrientation(e);return[0*Math.abs(t[0])*-1,0*Math.abs(t[1])*-1]},this.over=function(e,t){r=e.getOrientation(t)},this.out=function(){r=null},this.getCurrentLocation=function(e){return null==o?this.compute(e):o}},L.extend(j.FloatingAnchor,j.Anchor);j.DynamicAnchor=function(e){j.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=e.elementId,this.jsPlumbInstance=e.jsPlumbInstance;for(var t=0;t<e.anchors.length;t++)this.anchors[t]=(n=e.anchors[t],i=this.jsPlumbInstance,r=this.elementId,n.constructor==j.Anchor?n:i.makeAnchor(n,r,i));var n,i,r;this.getAnchors=function(){return this.anchors},this.locked=!1;var a=0<this.anchors.length?this.anchors[0]:null,s=a,l=this,c=e.selector||function(e,t,n,i,r){for(var o,a,s,l,c,u,d,h,p,f=n[0]+i[0]/2,g=n[1]+i[1]/2,m=-1,v=1/0,y=0;y<r.length;y++){var b=(o=r[y],a=f,s=g,c=t,void 0,u=(l=e)[0]+o.x*c[0],d=l[1]+o.y*c[1],h=l[0]+c[0]/2,p=l[1]+c[1]/2,Math.sqrt(Math.pow(a-u,2)+Math.pow(s-d,2))+Math.sqrt(Math.pow(h-u,2)+Math.pow(p-d,2)));b<v&&(m=y+0,v=b)}return r[m]};this.compute=function(e){var t=e.xy,n=e.wh,i=e.txy,r=e.twh;this.timestamp=e.timestamp;var o=l.getUserDefinedLocation();return null!=o?o:this.locked||null==i||null==r?a.compute(e):(e.timestamp=null,a=c(t,n,i,r,this.anchors),this.x=a.x,this.y=a.y,a!=s&&this.fire("anchorChanged",a),(s=a).compute(e))},this.getCurrentLocation=function(e){return this.getUserDefinedLocation()||(null!=a?a.getCurrentLocation(e):null)},this.getOrientation=function(e){return null!=a?a.getOrientation(e):[0,0]},this.over=function(e,t){null!=a&&a.over(e,t)},this.out=function(){null!=a&&a.out()},this.getCssClass=function(){return a&&a.getCssClass()||""}},L.extend(j.DynamicAnchor,j.Anchor);var e=function(n,i,r,o,a,s){j.Anchors[a]=function(e){var t=e.jsPlumbInstance.makeAnchor([n,i,r,o,0,0],e.elementId,e.jsPlumbInstance);return t.type=a,s&&s(t,e),t}};e(.5,0,0,-1,"TopCenter"),e(.5,1,0,1,"BottomCenter"),e(0,.5,-1,0,"LeftMiddle"),e(1,.5,1,0,"RightMiddle"),e(.5,0,0,-1,"Top"),e(.5,1,0,1,"Bottom"),e(0,.5,-1,0,"Left"),e(1,.5,1,0,"Right"),e(.5,.5,0,0,"Center"),e(1,0,0,-1,"TopRight"),e(1,1,0,1,"BottomRight"),e(0,0,0,-1,"TopLeft"),e(0,1,0,1,"BottomLeft"),j.Defaults.DynamicAnchors=function(e){return e.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],e.elementId,e.jsPlumbInstance)},j.Anchors.AutoDefault=function(e){var t=e.jsPlumbInstance.makeDynamicAnchor(j.Defaults.DynamicAnchors(e));return t.type="AutoDefault",t};var t=function(n,i){j.Anchors[n]=function(e){var t=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:i}],e.elementId,e.jsPlumbInstance);return t.type=n,t}};j.Anchors.Continuous=function(e){return e.jsPlumbInstance.continuousAnchorFactory.get(e)},t("ContinuousLeft",["left"]),t("ContinuousTop",["top"]),t("ContinuousBottom",["bottom"]),t("ContinuousRight",["right"]),e(0,0,0,0,"Assign",function(e,t){var n=t.position||"Fixed";e.positionFinder=n.constructor==String?t.jsPlumbInstance.AnchorPositionFinders[n]:n,e.constructorParams=t}),jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(e,t,n){return[(e.left-t.left)/n[0],(e.top-t.top)/n[1]]},Grid:function(e,t,n,i){var r=e.left-t.left,o=e.top-t.top,a=n[0]/i.grid[0],s=n[1]/i.grid[1],l=Math.floor(r/a),c=Math.floor(o/s);return[(l*a+a/2)/n[0],(c*s+s/2)/n[1]]}},j.Anchors.Perimeter=function(e){var u=(e=e||{}).anchorCount||60,t=e.shape;if(!t)throw new Error("no shape supplied to Perimeter Anchor type");var n=function(){for(var e=2*Math.PI/u,t=0,n=[],i=0;i<u;i++){var r=.5+.5*Math.sin(t),o=.5+.5*Math.cos(t);n.push([r,o,0,0]),t+=e}return n},s=function(e){for(var l=u/e.length,c=[],t=function(e,t,n,i,r){for(var o=(n-e)/(l=u*r),a=(i-t)/l,s=0;s<l;s++)c.push([e+o*s,t+a*s,0,0])},n=0;n<e.length;n++)t.apply(null,e[n]);return c},i=function(e){for(var t=[],n=0;n<e.length;n++)t.push([e[n][0],e[n][1],e[n][2],e[n][3],1/e.length]);return s(t)},r=function(){return i([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},o={Circle:n,Ellipse:n,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:r,Square:r,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(e){for(var t=e.points,n=[],i=0,r=0;r<t.length-1;r++){var o=Math.sqrt(Math.pow(t[r][2]-t[r][0])+Math.pow(t[r][3]-t[r][1]));i+=o,n.push([t[r][0],t[r][1],t[r+1][0],t[r+1][1],o])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/i;return s(n)}};if(!o[t])throw new Error("Shape ["+t+"] is unknown by Perimeter Anchor type");var a=o[t](e);e.rotation&&(a=function(e,t){for(var n=[],i=t/180*Math.PI,r=0;r<e.length;r++){var o=e[r][0]-.5,a=e[r][1]-.5;n.push([o*Math.cos(i)-a*Math.sin(i)+.5,o*Math.sin(i)+a*Math.cos(i)+.5,e[r][2],e[r][3]])}return n}(a,e.rotation));var l=e.jsPlumbInstance.makeDynamicAnchor(a);return l.type="Perimeter",l}}.call(this),function(){"use strict";var r=this,m=r.jsPlumb,v=r.jsPlumbUtil,S=r.Biltong;m.Segments={AbstractSegment:function(e){this.params=e,this.findClosestPointOnPath=function(e,t){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(e.x1,e.x2),minY:Math.min(e.y1,e.y2),maxX:Math.max(e.x1,e.x2),maxY:Math.max(e.y1,e.y2)}}},Straight:function(e){var s,l,c,u,d,h,p;m.Segments.AbstractSegment.apply(this,arguments);this.type="Straight",this.getLength=function(){return s},this.getGradient=function(){return l},this.getCoordinates=function(){return{x1:u,y1:h,x2:d,y2:p}},this.setCoordinates=function(e){u=e.x1,h=e.y1,d=e.x2,p=e.y2,s=Math.sqrt(Math.pow(d-u,2)+Math.pow(p-h,2)),l=S.gradient({x:u,y:h},{x:d,y:p}),c=-1/l},this.setCoordinates({x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}),this.getBounds=function(){return{minX:Math.min(u,d),minY:Math.min(h,p),maxX:Math.max(u,d),maxY:Math.max(h,p)}},this.pointOnPath=function(e,t){if(0!==e||t){if(1!=e||t){var n=t?0<e?e:s+e:e*s;return S.pointOnLine({x:u,y:h},{x:d,y:p},n)}return{x:d,y:p}}return{x:u,y:h}},this.gradientAtPoint=function(e){return l},this.pointAlongPathFrom=function(e,t,n){var i=this.pointOnPath(e,n),r=t<=0?{x:u,y:h}:{x:d,y:p};return t<=0&&1<Math.abs(t)&&(t*=-1),S.pointOnLine(i,r,t)};var f=function(e,t,n){return n>=Math.min(e,t)&&n<=Math.max(e,t)},g=function(e,t,n){return Math.abs(n-e)<Math.abs(n-t)?e:t};this.findClosestPointOnPath=function(e,t){var n={d:1/0,x:null,y:null,l:null,x1:u,x2:d,y1:h,y2:p};if(0===l)n.y=h,n.x=f(u,d,e)?e:g(u,d,e);else if(l==1/0||l==-1/0)n.x=u,n.y=f(h,p,t)?t:g(h,p,t);else{var i=h-l*u,r=(t-c*e-i)/(l-c),o=l*r+i;n.x=f(u,d,r)?r:g(u,d,r),n.y=f(h,p,o)?o:g(h,p,o)}var a=S.lineLength([n.x,n.y],[u,h]);return n.d=S.lineLength([e,t],[n.x,n.y]),n.l=a/s,n}},Arc:function(s){m.Segments.AbstractSegment.apply(this,arguments);var e=function(e,t){return S.theta([s.cx,s.cy],[e,t])},o=2*Math.PI;this.radius=s.r,this.anticlockwise=s.ac,this.type="Arc",s.startAngle&&s.endAngle?(this.startAngle=s.startAngle,this.endAngle=s.endAngle,this.x1=s.cx+this.radius*Math.cos(s.startAngle),this.y1=s.cy+this.radius*Math.sin(s.startAngle),this.x2=s.cx+this.radius*Math.cos(s.endAngle),this.y2=s.cy+this.radius*Math.sin(s.endAngle)):(this.startAngle=e(s.x1,s.y1),this.endAngle=e(s.x2,s.y2),this.x1=s.x1,this.y1=s.y1,this.x2=s.x2,this.y2=s.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o),this.segment=S.quadrant([this.x1,this.y1],[this.x2,this.y2]);var t=this.endAngle<this.startAngle?this.endAngle+o:this.endAngle;this.sweep=Math.abs(t-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var l=2*Math.PI*this.radius,n=this.sweep/o,a=l*n;this.getLength=function(){return a},this.getBounds=function(){return{minX:s.cx-s.r,maxX:s.cx+s.r,minY:s.cy-s.r,maxY:s.cy+s.r}};var c=function(e){var t=Math.floor(e),n=Math.ceil(e);return e-t<1e-10?t:n-e<1e-10?n:e};this.pointOnPath=function(e,t){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==e)return{x:this.x2,y:this.y2,theta:this.endAngle};t&&(e/=a);var n=function(e,t){if(e.anticlockwise){var n=e.startAngle<e.endAngle?e.startAngle+o:e.startAngle;return n-Math.abs(n-e.endAngle)*t}var i=e.endAngle<e.startAngle?e.endAngle+o:e.endAngle,r=Math.abs(i-e.startAngle);return e.startAngle+r*t}(this,e),i=s.cx+s.r*Math.cos(n),r=s.cy+s.r*Math.sin(n);return{x:c(i),y:c(r),theta:n}},this.gradientAtPoint=function(e,t){var n=this.pointOnPath(e,t),i=S.normal([s.cx,s.cy],[n.x,n.y]);return this.anticlockwise||i!=1/0&&i!=-1/0||(i*=-1),i},this.pointAlongPathFrom=function(e,t,n){var i=this.pointOnPath(e,n),r=t/l*2*Math.PI,o=this.anticlockwise?-1:1,a=i.theta+o*r;return{x:s.cx+this.radius*Math.cos(a),y:s.cy+this.radius*Math.sin(a)}}},Bezier:function(e){this.curve=[{x:e.x1,y:e.y1},{x:e.cp1x,y:e.cp1y},{x:e.cp2x,y:e.cp2y},{x:e.x2,y:e.y2}];m.Segments.AbstractSegment.apply(this,arguments);this.bounds={minX:Math.min(e.x1,e.x2,e.cp1x,e.cp2x),minY:Math.min(e.y1,e.y2,e.cp1y,e.cp2y),maxX:Math.max(e.x1,e.x2,e.cp1x,e.cp2x),maxY:Math.max(e.y1,e.y2,e.cp1y,e.cp2y)},this.type="Bezier";var i=function(e,t,n){return n&&(t=r.jsBezier.locationAlongCurveFrom(e,0<t?0:1,t)),t};this.pointOnPath=function(e,t){return e=i(this.curve,e,t),r.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,t){return e=i(this.curve,e,t),r.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,t,n){return e=i(this.curve,e,n),r.jsBezier.pointAlongCurveFrom(this.curve,e,t)},this.getLength=function(){return r.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds}}};var d=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};m.Connectors.AbstractConnector=function(e){d.apply(this,arguments);var o=[],a=0,s=[],l=[],t=e.stub||0,b=v.isArray(t)?t[0]:t,w=v.isArray(t)?t[1]:t,n=e.gap||0,x=v.isArray(n)?n[0]:n,C=v.isArray(n)?n[1]:n,i=null,r=null;this.getPath=function(){},this.setPath=function(e){},this.findSegmentForPoint=function(e,t){for(var n={d:1/0,s:null,x:null,y:null,l:null},i=0;i<o.length;i++){var r=o[i].findClosestPointOnPath(e,t);r.d<n.d&&(n.d=r.d,n.l=r.l,n.x=r.x,n.y=r.y,n.s=o[i],n.x1=r.x1,n.x2=r.x2,n.y1=r.y1,n.y2=r.y2,n.index=i)}return n};var c=function(e,t){t&&(e=0<e?e/a:(a+e)/a);for(var n=s.length-1,i=1,r=0;r<s.length;r++)if(s[r][1]>=e){n=r,i=1==e?1:0===e?0:(e-s[r][0])/l[r];break}return{segment:o[n],proportion:i,index:n}};this.setSegments=function(e){i=[];for(var t=a=0;t<e.length;t++)i.push(e[t]),a+=e[t].getLength()},this.getLength=function(){return a};var u=function(e){this.lineWidth=e.lineWidth;var t=S.quadrant(e.sourcePos,e.targetPos),n=e.targetPos[0]<e.sourcePos[0],i=e.targetPos[1]<e.sourcePos[1],r=e.lineWidth||1,o=e.sourceEndpoint.anchor.getOrientation(e.sourceEndpoint),a=e.targetEndpoint.anchor.getOrientation(e.targetEndpoint),s=n?e.targetPos[0]:e.sourcePos[0],l=i?e.targetPos[1]:e.sourcePos[1],c=Math.abs(e.targetPos[0]-e.sourcePos[0]),u=Math.abs(e.targetPos[1]-e.sourcePos[1]);if(0===o[0]&&0===o[1]||0===a[0]&&0===a[1]){var d=u<c?0:1,h=[1,0][d];a=[],(o=[])[d]=e.sourcePos[d]>e.targetPos[d]?-1:1,a[d]=e.sourcePos[d]>e.targetPos[d]?1:-1,o[h]=0,a[h]=0}var p=n?c+x*o[0]:x*o[0],f=i?u+x*o[1]:x*o[1],g=n?C*a[0]:c+C*a[0],m=i?C*a[1]:u+C*a[1],v=o[0]*a[0]+o[1]*a[1],y={sx:p,sy:f,tx:g,ty:m,lw:r,xSpan:Math.abs(g-p),ySpan:Math.abs(m-f),mx:(p+g)/2,my:(f+m)/2,so:o,to:a,x:s,y:l,w:c,h:u,segment:t,startStubX:p+o[0]*b,startStubY:f+o[1]*b,endStubX:g+a[0]*w,endStubY:m+a[1]*w,isXGreaterThanStubTimes2:Math.abs(p-g)>b+w,isYGreaterThanStubTimes2:Math.abs(f-m)>b+w,opposite:-1==v,perpendicular:0===v,orthogonal:1==v,sourceAxis:0===o[0]?"y":"x",points:[s,l,c,u,p,f,g,m]};return y.anchorOrientation=y.opposite?"opposite":y.orthogonal?"orthogonal":"perpendicular",y};this.getSegments=function(){return o},this.updateBounds=function(e){var t=e.getBounds();this.bounds.minX=Math.min(this.bounds.minX,t.minX),this.bounds.maxX=Math.max(this.bounds.maxX,t.maxX),this.bounds.minY=Math.min(this.bounds.minY,t.minY),this.bounds.maxY=Math.max(this.bounds.maxY,t.maxY)};return this.pointOnPath=function(e,t){var n=c(e,t);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(e,t){var n=c(e,t);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(e,t,n){var i=c(e,n);return i.segment&&i.segment.pointAlongPathFrom(i.proportion,t,!1)||[0,0]},this.compute=function(e){r=u.call(this,e),a=o.length=s.length=l.length=0,this._compute(r,e),this.x=r.points[0],this.y=r.points[1],this.w=r.points[2],this.h=r.points[3],this.segment=r.segment,function(){for(var e=0,t=0;t<o.length;t++){var n=o[t].getLength();l[t]=n/a,s[t]=[e,e+=n/a]}}()},{addSegment:function(e,t,n){if(n.x1!=n.x2||n.y1!=n.y2){var i=new m.Segments[t](n);o.push(i),a+=i.getLength(),e.updateBounds(i)}},prepareCompute:u,sourceStub:b,targetStub:w,maxStub:Math.max(b,w),sourceGap:x,targetGap:C,maxGap:Math.max(x,C)}},v.extend(m.Connectors.AbstractConnector,d);var e=m.Connectors.Straight=function(){this.type="Straight";var n=m.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(e,t){n.addSegment(this,"Straight",{x1:e.sx,y1:e.sy,x2:e.startStubX,y2:e.startStubY}),n.addSegment(this,"Straight",{x1:e.startStubX,y1:e.startStubY,x2:e.endStubX,y2:e.endStubY}),n.addSegment(this,"Straight",{x1:e.endStubX,y1:e.endStubY,x2:e.tx,y2:e.ty})}};v.extend(m.Connectors.Straight,m.Connectors.AbstractConnector),m.registerConnectorType(e,"Straight"),m.Endpoints.AbstractEndpoint=function(e){return d.apply(this,arguments),{compute:this.compute=function(e,t,n,i){var r=this._compute.apply(this,arguments);return this.x=r[0],this.y=r[1],this.w=r[2],this.h=r[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,r},cssClass:e.cssClass}},v.extend(m.Endpoints.AbstractEndpoint,d),m.Endpoints.Dot=function(e){this.type="Dot";m.Endpoints.AbstractEndpoint.apply(this,arguments);e=e||{},this.radius=e.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(e,t,n,i){this.radius=n.radius||this.radius;var r=e[0]-this.radius,o=e[1]-this.radius,a=2*this.radius,s=2*this.radius;if(n.strokeStyle){var l=n.lineWidth||1;r-=l,o-=l,a+=2*l,s+=2*l}return[r,o,a,s,this.radius]}},v.extend(m.Endpoints.Dot,m.Endpoints.AbstractEndpoint),m.Endpoints.Rectangle=function(e){this.type="Rectangle";m.Endpoints.AbstractEndpoint.apply(this,arguments);e=e||{},this.width=e.width||20,this.height=e.height||20,this._compute=function(e,t,n,i){var r=n.width||this.width,o=n.height||this.height;return[e[0]-r/2,e[1]-o/2,r,o]}},v.extend(m.Endpoints.Rectangle,m.Endpoints.AbstractEndpoint);var o=function(e){m.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};v.extend(o,m.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(e){this._jsPlumb.displayElements.push(e)}}),m.Endpoints.Image=function(e){this.type="Image",o.apply(this,arguments),m.Endpoints.AbstractEndpoint.apply(this,arguments);var i=e.onload,t=e.src||e.url,n=e.cssClass?" "+e.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=e.width,this._jsPlumb.heightToUse=e.height,this._jsPlumb.endpoint=e.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,i&&i(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(e,t){var n=e.constructor==String?e:e.src;i=t,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(t,i),this._compute=function(e,t,n,i){return this.anchorPoint=e,this._jsPlumb.ready?[e[0]-this._jsPlumb.widthToUse/2,e[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=jsPlumb.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+n),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(e,t,n){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var i=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,r=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;v.sizeElement(this.canvas,i,r,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(e,t){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,t):r.setTimeout(function(){this.paint(e,t)}.bind(this),200))}},v.extend(m.Endpoints.Image,[o,m.Endpoints.AbstractEndpoint],{cleanup:function(e){e&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),m.Endpoints.Blank=function(e){m.Endpoints.AbstractEndpoint.apply(this,arguments);this.type="Blank",o.apply(this,arguments),this._compute=function(e,t,n,i){return[e[0],e[1],10,0]};var t=e.cssClass?" "+e.cssClass:"";this.canvas=jsPlumb.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+t),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(e,t){v.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},v.extend(m.Endpoints.Blank,[m.Endpoints.AbstractEndpoint,o],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),m.Endpoints.Triangle=function(e){this.type="Triangle",m.Endpoints.AbstractEndpoint.apply(this,arguments),(e=e||{}).width=e.width||55,e.height=e.height||55,this.width=e.width,this.height=e.height,this._compute=function(e,t,n,i){var r=n.width||self.width,o=n.height||self.height;return[e[0]-r/2,e[1]-o/2,r,o]}};var t=m.Overlays.AbstractOverlay=function(e){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=e.component,this.loc=null==e.location?.5:e.location,this.endpointLoc=null==e.endpointLocation?[.5,.5]:e.endpointLocation};t.prototype={cleanup:function(e){e&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(e){},setVisible:function(e){this.visible=e,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(e){this.loc+=e,this.component.repaint()},setLocation:function(e){this.loc=e,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},m.Overlays.Arrow=function(e){this.type="Arrow",t.apply(this,arguments),this.isAppendedAtTopLevel=!1,e=e||{},this.length=e.length||20,this.width=e.width||20,this.id=e.id;var p=(e.direction||1)<0?-1:1,f=e.paintStyle||{lineWidth:1},g=e.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.draw=function(e,t){var n,i,r,o;if(e.pointAlongPathFrom){if(v.isString(this.loc)||1<this.loc||this.loc<0){var a=parseInt(this.loc,10),s=this.loc<0?1:0;n=e.pointAlongPathFrom(s,a,!1),i=e.pointAlongPathFrom(s,a-p*this.length/2,!1),r=S.pointOnLine(n,i,this.length)}else if(1==this.loc){if(n=e.pointOnPath(this.loc),i=e.pointAlongPathFrom(this.loc,-this.length),r=S.pointOnLine(n,i,this.length),-1==p){var l=r;r=n,n=l}}else if(0===this.loc){if(r=e.pointOnPath(this.loc),i=e.pointAlongPathFrom(this.loc,this.length),n=S.pointOnLine(r,i,this.length),-1==p){var c=r;r=n,n=c}}else n=e.pointAlongPathFrom(this.loc,p*this.length/2),i=e.pointOnPath(this.loc),r=S.pointOnLine(n,i,this.length);var u={hxy:n,tail:o=S.perpendicularLineTo(n,r,this.width),cxy:S.pointOnLine(n,r,g*this.length)},d=f.strokeStyle||t.strokeStyle,h=f.fillStyle||t.strokeStyle;return{component:e,d:u,lineWidth:f.lineWidth||t.lineWidth,strokeStyle:d,fillStyle:h,minX:Math.min(n.x,o[0].x,o[1].x),maxX:Math.max(n.x,o[0].x,o[1].x),minY:Math.min(n.y,o[0].y,o[1].y),maxY:Math.max(n.y,o[0].y,o[1].y)}}return{component:e,minX:0,maxX:0,minY:0,maxY:0}}},v.extend(m.Overlays.Arrow,t,{updateFrom:function(e){this.length=e.length||this.length,this.width=e.width||this.width,this.direction=null!=e.direction?e.direction:this.direction,this.foldback=e.foldback||this.foldback}}),m.Overlays.PlainArrow=function(e){e=e||{};var t=m.extend(e,{foldback:1});m.Overlays.Arrow.call(this,t),this.type="PlainArrow"},v.extend(m.Overlays.PlainArrow,m.Overlays.Arrow),m.Overlays.Diamond=function(e){var t=(e=e||{}).length||40,n=jsPlumb.extend(e,{length:t/2,foldback:2});m.Overlays.Arrow.call(this,n),this.type="Diamond"},v.extend(m.Overlays.Diamond,m.Overlays.Arrow);var u=function(e,t){return(null==e._jsPlumb.cachedDimensions||t)&&(e._jsPlumb.cachedDimensions=e.getDimensions()),e._jsPlumb.cachedDimensions},n=function(n){m.jsPlumbUIComponent.apply(this,arguments),t.apply(this,arguments);var e=this.fire;this.fire=function(){e.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=n.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=n.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=n.create,this._jsPlumb.initiallyInvisible=!1===n.visible,this.getElement=function(){if(null==this._jsPlumb.div){var e=this._jsPlumb.div=jsPlumb.getElement(this._jsPlumb.create(this._jsPlumb.component));e.style.position="absolute",e.className=this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:n.cssClass?n.cssClass:""),this._jsPlumb.instance.appendElement(e),this._jsPlumb.instance.getId(e);var t="translate(-50%, -50%)";(this.canvas=e).style.webkitTransform=t,e.style.mozTransform=t,e.style.msTransform=t,e.style.oTransform=t,e.style.transform=t,e._jsPlumb=this,!1===n.visible&&(e.style.display="none")}return this._jsPlumb.div},this.draw=function(e,t,n){var i=u(this);if(null==i||2!=i.length)return{minX:0,maxX:0,minY:0,maxY:0};var r={x:0,y:0};if(n)r={x:n[0],y:n[1]};else if(e.pointOnPath){var o=this.loc,a=!1;(v.isString(this.loc)||this.loc<0||1<this.loc)&&(o=parseInt(this.loc,10),a=!0),r=e.pointOnPath(o,a)}else{var s=this.loc.constructor==Array?this.loc:this.endpointLoc;r={x:s[0]*e.w,y:s[1]*e.h}}var l=r.x-i[0]/2,c=r.y-i[1]/2;return{component:e,d:{minx:l,miny:c,td:i,cxy:r},minX:l,maxX:l+i[0],minY:c,maxY:c+i[1]}}};v.extend(n,[m.jsPlumbUIComponent,t],{getDimensions:function(){return v.oldIE?m.getSize(this.getElement()):[1,1]},setVisible:function(e){this._jsPlumb.div&&(this._jsPlumb.div.style.display=e?"block":"none",e&&this._jsPlumb.initiallyInvisible&&(u(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(e){e?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(e){null!=this._jsPlumb.div&&e.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var e=u(this);return Math.max(e[0],e[1])},paint:function(e,t){this._jsPlumb.initialised||(this.getElement(),e.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=e.component.x+e.d.minx+"px",this._jsPlumb.div.style.top=e.component.y+e.d.miny+"px"}}),m.Overlays.Custom=function(e){this.type="Custom",n.apply(this,arguments)},v.extend(m.Overlays.Custom,n),m.Overlays.GuideLines=function(){var s=this;s.length=50,s.lineWidth=5,this.type="GuideLines",t.apply(this,arguments),m.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e,t){var n=e.pointAlongPathFrom(s.loc,s.length/2),i=e.pointOnPath(s.loc),r=S.pointOnLine(n,i,s.length),o=S.perpendicularLineTo(n,r,40),a=S.perpendicularLineTo(r,n,20);return{connector:e,head:n,tail:r,headLine:a,tailLine:o,minX:Math.min(n.x,r.x,a[0].x,a[1].x),minY:Math.min(n.y,r.y,a[0].y,a[1].y),maxX:Math.max(n.x,r.x,a[0].x,a[1].x),maxY:Math.max(n.y,r.y,a[0].y,a[1].y)}}},m.Overlays.Label=function(e){this.labelStyle=e.labelStyle;this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var t=m.extend({create:function(){return jsPlumb.createElement("div")}},e);if(m.Overlays.Custom.call(this,t),this.type="Label",this.label=e.label||"",this.labelText=null,this.labelStyle){var n=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",n.style.font=this.labelStyle.font,n.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(n.style.background=this.labelStyle.fillStyle),0<this.labelStyle.borderWidth){var i=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";n.style.border=this.labelStyle.borderWidth+"px solid "+i}this.labelStyle.padding&&(n.style.padding=this.labelStyle.padding)}},v.extend(m.Overlays.Label,m.Overlays.Custom,{cleanup:function(e){e&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(e){this.label=e,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),n.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var e=this.label(this);this.getElement().innerHTML=e.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(e){e.label&&this.setLabel(e.label)}})}.call(this),function(){"use strict";var n=this,e=n.jsPlumb;e.extend(n.jsPlumbInstance.prototype,{getEventManager:function(){return(t=(e=this)._mottle)||(t=e._mottle=new n.Mottle),t;var e,t},on:function(e,t,n){this.getEventManager().on.apply(this,arguments)},off:function(e,t,n){this.getEventManager().off.apply(this,arguments)}})}.call(this),function(){"use strict";var t=this.jsPlumb,e=function(e){this.type="Flowchart",(e=e||{}).stub=null==e.stub?30:e.stub;var h,p=t.Connectors.AbstractConnector.apply(this,arguments),f=null==e.midpoint?.5:e.midpoint,g=!0===e.alwaysRespectStubs,w=null,x=null,C=null,m=null!=e.cornerRadius?e.cornerRadius:0,c=function(e){return e<0?-1:0===e?0:1},S=function(e,t,n,i){if(x!=t||C!=n){var r=null==x?i.sx:x,o=null==C?i.sy:C,a=r==t?"v":"h",s=c(t-r),l=c(n-o);x=t,C=n,e.push([r,o,t,n,a,s,l])}},v=function(e){return Math.sqrt(Math.pow(e[0]-e[2],2)+Math.pow(e[1]-e[3],2))},y=function(e){var t=[];return t.push.apply(t,e),t},k=function(e,t,n){for(var i,r=null,o=0;o<t.length-1;o++){if(r=r||y(t[o]),i=y(t[o+1]),0<m&&r[4]!=i[4]){var a=Math.min(m,v(r),v(i));r[2]-=r[5]*a,r[3]-=r[6]*a,i[0]+=i[5]*a,i[1]+=i[6]*a;var s=r[6]==i[5]&&1==i[5]||r[6]==i[5]&&0===i[5]&&r[5]!=i[6]||r[6]==i[5]&&-1==i[5],l=(i[1]>r[3]?1:-1)==(i[0]>r[2]?1:-1),c=l&&s||!l&&!s?i[0]:r[2],u=l&&s||!l&&!s?r[3]:i[1];p.addSegment(e,"Straight",{x1:r[0],y1:r[1],x2:r[2],y2:r[3]}),p.addSegment(e,"Arc",{r:a,x1:r[2],y1:r[3],x2:i[0],y2:i[1],cx:c,cy:u,ac:s})}else{var d=r[2]==r[0]?0:r[2]>r[0]?n.lw/2:-n.lw/2,h=r[3]==r[1]?0:r[3]>r[1]?n.lw/2:-n.lw/2;p.addSegment(e,"Straight",{x1:r[0]-d,y1:r[1]-h,x2:r[2]+d,y2:r[3]+h})}r=i}null!=i&&p.addSegment(e,"Straight",{x1:i[0],y1:i[1],x2:i[2],y2:i[3]})};this.setSegments=function(e){w=e},this.isEditable=function(){return!0},this.getOriginalSegments=function(){return w||h},this._compute=function(m,c){if(c.clearEdits&&(w=null),null==w){h=[],C=x=null;var v=m.startStubX+(m.endStubX-m.startStubX)*f,y=m.startStubY+(m.endStubY-m.startStubY)*f,b={x:[0,1],y:[1,0]},e=function(){return[m.startStubX,m.startStubY,m.endStubX,m.endStubY]},t={perpendicular:function(e){var t=m,n={x:[[t.startStubX,t.endStubX],null,[t.endStubX,t.startStubX]],y:[[t.startStubY,t.endStubY],null,[t.endStubY,t.startStubY]]},i={x:[[v,t.startStubY],[v,t.endStubY]],y:[[t.startStubX,y],[t.endStubX,y]]},r={x:[[t.endStubX,t.startStubY]],y:[[t.startStubX,t.endStubY]]},o={x:[[t.startStubX,t.endStubY],[t.endStubX,t.endStubY]],y:[[t.endStubX,t.startStubY],[t.endStubX,t.endStubY]]},a={x:[[t.startStubX,y],[t.endStubX,y],[t.endStubX,t.endStubY]],y:[[v,t.startStubY],[v,t.endStubY],[t.endStubX,t.endStubY]]},s={x:[t.startStubY,t.endStubY],y:[t.startStubX,t.endStubX]},l=b[e][0],c=b[e][1],u=t.so[l]+1,d=t.to[c]+1,h=-1==t.to[c]&&s[e][1]<s[e][0]||1==t.to[c]&&s[e][1]>s[e][0],p=n[e][u][0],f=n[e][u][1],g={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[e][u][d];return t.segment==g[3]||t.segment==g[2]&&h?i[e]:t.segment==g[2]&&f<p?r[e]:t.segment==g[2]&&p<=f||t.segment==g[1]&&!h?a[e]:t.segment==g[0]||t.segment==g[1]&&h?o[e]:void 0},orthogonal:function(e,t,n,i,r){var o=m,a={x:-1==o.so[0]?Math.min(t,i):Math.max(t,i),y:-1==o.so[1]?Math.min(t,i):Math.max(t,i)}[e];return{x:[[a,n],[a,r],[i,r]],y:[[n,a],[r,a],[r,i]]}[e]},opposite:function(e,t,n,i){var r=m,o={x:"y",y:"x"}[e],a={x:"height",y:"width"}[e],s=r["is"+e.toUpperCase()+"GreaterThanStubTimes2"];if(c.sourceEndpoint.elementId!=c.targetEndpoint.elementId)return!s||1==r.so[u]&&i<t||-1==r.so[u]&&t<i?{x:[[t,y],[i,y]],y:[[v,t],[v,i]]}[e]:1==r.so[u]&&t<i||-1==r.so[u]&&i<t?{x:[[v,r.sy],[v,r.ty]],y:[[r.sx,y],[r.tx,y]]}[e]:void 0;var l=n+(1-c.sourceEndpoint.anchor[o])*c.sourceInfo[a]+p.maxStub;return{x:[[t,l],[i,l]],y:[[l,t],[l,i]]}[e]}},n={perpendicular:e,orthogonal:e,opposite:function(e){var t=m,n="x"==e?0:1;return!g&&{x:function(){return 1==t.so[n]&&(t.startStubX>t.endStubX&&t.tx>t.startStubX||t.sx>t.endStubX&&t.tx>t.sx)||-1==t.so[n]&&(t.startStubX<t.endStubX&&t.tx<t.startStubX||t.sx<t.endStubX&&t.tx<t.sx)},y:function(){return 1==t.so[n]&&(t.startStubY>t.endStubY&&t.ty>t.startStubY||t.sy>t.endStubY&&t.ty>t.sy)||-1==t.so[n]&&(t.startStubY<t.endStubY&&t.ty<t.startStubY||t.sy<t.endStubY&&t.ty<t.sy)}}[e]()?{x:[(m.sx+m.tx)/2,m.startStubY,(m.sx+m.tx)/2,m.endStubY],y:[m.startStubX,(m.sy+m.ty)/2,m.endStubX,(m.sy+m.ty)/2]}[e]:[m.startStubX,m.startStubY,m.endStubX,m.endStubY]}}[m.anchorOrientation](m.sourceAxis),u="x"==m.sourceAxis?0:1,i="x"==m.sourceAxis?1:0,r=n[u],o=n[i],a=n[u+2],s=n[i+2];S(h,n[0],n[1],m);var l=t[m.anchorOrientation](m.sourceAxis,r,o,a,s);if(l)for(var d=0;d<l.length;d++)S(h,l[d][0],l[d][1],m);S(h,n[2],n[3],m),S(h,m.tx,m.ty,m),k(this,h,m)}else k(this,w,m)},this.getPath=function(){for(var e=null,t=null,n=[],i=w||h,r=0;r<i.length;r++){var o=i[r],a=o[4],s="v"==a?3:2;null!=e&&t===a?e[s]=o[s]:o[0]==o[2]&&o[1]==o[3]||(n.push({start:[o[0],o[1]],end:[o[2],o[3]]}),t=(e=o)[4])}return n},this.setPath=function(e){w=[];for(var t=0;t<e.length;t++){var n=e[t].start[0],i=e[t].start[1],r=e[t].end[0],o=e[t].end[1],a=n==r?"v":"h",s=c(r-n),l=c(o-i);w.push([n,i,r,o,a,s,l])}}};this.jsPlumbUtil.extend(e,t.Connectors.AbstractConnector),t.registerConnectorType(e,"Flowchart")}.call(this),function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){e=e||{},this.type="StateMachine";var $=t.Connectors.AbstractConnector.apply(this,arguments),M=e.curviness||10,O=e.margin||5,N=e.proximityLimit||80,L=e.orientation&&"clockwise"===e.orientation,j=e.loopbackRadius||25,R=!1!==e.showLoopback;this._compute=function(e,t){var n,i,r,o,a,s,l,c,u,d,h,p=Math.abs(t.sourcePos[0]-t.targetPos[0]),f=Math.abs(t.sourcePos[1]-t.targetPos[1]);if(R&&t.sourceEndpoint.elementId===t.targetEndpoint.elementId){var g=t.sourcePos[0],m=t.sourcePos[1]-O,v=g,y=m-j,b=2*j,w=2*j,x=v-j,C=y-j;e.points[0]=x,e.points[1]=C,e.points[2]=b,e.points[3]=w,$.addSegment(this,"Arc",{loopback:!0,x1:g-x+4,y1:m-C,startAngle:0,endAngle:2*Math.PI,r:j,ac:!L,x2:g-x-4,y2:m-C,cx:v-x,cy:y-C})}else{var S=t.sourcePos[0]<t.targetPos[0]?0:p,k=t.sourcePos[1]<t.targetPos[1]?0:f,_=t.sourcePos[0]<t.targetPos[0]?p:0,T=t.sourcePos[1]<t.targetPos[1]?f:0;0===t.sourcePos[2]&&(S-=O),1===t.sourcePos[2]&&(S+=O),0===t.sourcePos[3]&&(k-=O),1===t.sourcePos[3]&&(k+=O),0===t.targetPos[2]&&(_-=O),1===t.targetPos[2]&&(_+=O),0===t.targetPos[3]&&(T-=O),1===t.targetPos[3]&&(T+=O);var D=(S+_)/2,A=(k+T)/2,E=(u=k,h=T,(c=S)<=(d=_)&&h<=u?1:c<=d&&u<=h?2:d<=c&&u<=h?3:4),I=Math.sqrt(Math.pow(_-S,2)+Math.pow(T-k,2)),P=(n=D,i=A,r=E,o=t.sourcePos,a=t.targetPos,l=s=M,I<=N?[n,i]:1===r?o[3]<=0&&1<=a[3]?[n+(o[2]<.5?-1*s:s),i]:1<=o[2]&&a[2]<=0?[n,i+(o[3]<.5?-1*l:l)]:[n+-1*s,i+-1*l]:2===r?1<=o[3]&&a[3]<=0?[n+(o[2]<.5?-1*s:s),i]:1<=o[2]&&a[2]<=0?[n,i+(o[3]<.5?-1*l:l)]:[n+s,i+-1*l]:3===r?1<=o[3]&&a[3]<=0?[n+(o[2]<.5?-1*s:s),i]:o[2]<=0&&1<=a[2]?[n,i+(o[3]<.5?-1*l:l)]:[n+-1*s,i+-1*l]:4===r?o[3]<=0&&1<=a[3]?[n+(o[2]<.5?-1*s:s),i]:o[2]<=0&&1<=a[2]?[n,i+(o[3]<.5?-1*l:l)]:[n+s,i+-1*l]:void 0);$.addSegment(this,"Bezier",{x1:_,y1:T,x2:S,y2:k,cp1x:P[0],cp1y:P[1],cp2x:P[0],cp2y:P[1]})}}};e.extend(n,t.Connectors.AbstractConnector),t.registerConnectorType(n,"StateMachine")}.call(this),function(){"use strict";var t=this.jsPlumb,e=function(e){e=e||{};var h=t.Connectors.AbstractConnector.apply(this,arguments),l=e.curviness||150;this.type="Bezier",this.getCurviness=function(){return l},this._findControlPoint=function(e,t,n,i,r){var o=i.anchor.getOrientation(i),a=r.anchor.getOrientation(r),s=[];return o[0]!=a[0]||o[1]==a[1]?(0===a[0]?s.push(n[0]<t[0]?e[0]+10:e[0]-10):s.push(e[0]+l*a[0]),0===a[1]?s.push(n[1]<t[1]?e[1]+10:e[1]-10):s.push(e[1]+l*o[1])):(0===o[0]?s.push(t[0]<n[0]?e[0]+10:e[0]-10):s.push(e[0]-l*o[0]),0===o[1]?s.push(t[1]<n[1]?e[1]+10:e[1]-10):s.push(e[1]+l*a[1])),s},this._compute=function(e,t){var n=t.sourcePos,i=t.targetPos,r=Math.abs(n[0]-i[0]),o=Math.abs(n[1]-i[1]),a=n[0]<i[0]?r:0,s=n[1]<i[1]?o:0,l=n[0]<i[0]?0:r,c=n[1]<i[1]?0:o,u=this._findControlPoint([a,s],n,i,t.sourceEndpoint,t.targetEndpoint,e.so,e.to),d=this._findControlPoint([l,c],i,n,t.targetEndpoint,t.sourceEndpoint,e.so,e.to);h.addSegment(this,"Bezier",{x1:a,y1:s,x2:l,y2:c,cp1x:u[0],cp1y:u[1],cp2x:d[0],cp2y:d[1]})}};this.jsPlumbUtil.extend(e,t.Connectors.AbstractConnector),t.registerConnectorType(e,"Bezier")}.call(this),function(){"use strict";var p=this.jsPlumb,f=this.jsPlumbUtil,c={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},u="stroke-dasharray",d="dashstyle",n="http://www.w3.org/2000/svg",i="http://www.w3.org/1999/xhtml",g=function(e,t){for(var n in t)e.setAttribute(n,""+t[n])},m=function(e,t){return(t=t||{}).version="1.1",t.xmlns=i,jsPlumb.createElementNS(n,e,null,null,t)},l=function(e){return"position:absolute;left:"+e[0]+"px;top:"+e[1]+"px"},v=function(e){for(var t=e.querySelectorAll(" defs linearGradient radialGradient"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n])},y=function(e,t,n,i,r){if(t.setAttribute("fill",n.fillStyle?f.convertStyle(n.fillStyle,!0):"none"),t.setAttribute("stroke",n.strokeStyle?f.convertStyle(n.strokeStyle,!0):"none"),n.gradient?function(e,t,n,i,r){var o,a="jsplumb_gradient_"+r._jsPlumb.instance.idstamp();v(e),o=n.gradient.offset?m("radialGradient",{id:a}):m("linearGradient",{id:a,gradientUnits:"userSpaceOnUse"});var s=m("defs");e.appendChild(s),s.appendChild(o);for(var l=0;l<n.gradient.stops.length;l++){var c=1==r.segment||2==r.segment?l:n.gradient.stops.length-1-l,u=f.convertStyle(n.gradient.stops[c][1],!0),d=m("stop",{offset:Math.floor(100*n.gradient.stops[l][0])+"%","stop-color":u});o.appendChild(d)}var h=n.strokeStyle?"stroke":"fill";t.setAttribute(h,"url(#"+a+")")}(e,t,n,0,r):(v(e),t.setAttribute("style","")),n.lineWidth&&t.setAttribute("stroke-width",n.lineWidth),n[d]&&n.lineWidth&&!n[u]){var o=-1==n[d].indexOf(",")?" ":",",a=n[d].split(o),s="";a.forEach(function(e){s+=Math.floor(e*n.lineWidth)+o}),t.setAttribute(u,s)}else n[u]&&t.setAttribute(u,n[u]);for(var l in c)n[l]&&t.setAttribute(c[l],n[l])},b=function(e,t,n){e.childNodes.length>n?e.insertBefore(t,e.childNodes[n]):e.appendChild(t)};f.svg={node:m,attr:g,pos:l};var t=function(a){var e=a.pointerEventsSpec||"all",s={};p.jsPlumbUIComponent.apply(this,a.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var t=a.cssClass+" "+(a.originalArgs[0].cssClass||""),n={style:"",width:0,height:0,"pointer-events":e,position:"absolute"};this.svg=m("svg",n),a.useDivWrapper?(this.canvas=jsPlumb.createElement("div",{position:"absolute"}),f.sizeElement(this.canvas,0,0,1,1),this.canvas.className=t):(g(this.svg,{class:t}),this.canvas=this.svg),a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent),a.useDivWrapper&&this.canvas.appendChild(this.svg);var i=[this.canvas];return this.getDisplayElements=function(){return i},this.appendDisplayElement=function(e){i.push(e)},this.paint=function(e,t,n){if(null!=e){var i,r=[this.x,this.y],o=[this.w,this.h];null!=n&&(n.xmin<0&&(r[0]+=n.xmin),n.ymin<0&&(r[1]+=n.ymin),o[0]=n.xmax+(n.xmin<0?-n.xmin:0),o[1]=n.ymax+(n.ymin<0?-n.ymin:0)),a.useDivWrapper?(f.sizeElement(this.canvas,r[0],r[1],o[0],o[1]),r[0]=0,r[1]=0,i=l([0,0])):i=l([r[0],r[1]]),s.paint.apply(this,arguments),g(this.svg,{style:i,width:o[0]||0,height:o[1]||0})}},{renderer:s}};f.extend(t,p.jsPlumbUIComponent,{cleanup:function(e){e||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(e){var t=e.getContainer();this.canvas&&null==this.canvas.parentNode&&t.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&t.appendChild(this.bgCanvas)},setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none")}}),p.ConnectorRenderers.svg=function(d){var h=this;t.apply(this,[{cssClass:d._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:d._jsPlumb}]).renderer.paint=function(e,t,n){var i=h.getSegments(),r="",o=[0,0];if(n.xmin<0&&(o[0]=-n.xmin),n.ymin<0&&(o[1]=-n.ymin),0<i.length){for(var a=0;a<i.length;a++)r+=p.Segments.svg.SegmentRenderer.getPath(i[a]),r+=" ";var s={d:r,transform:"translate("+o[0]+","+o[1]+")","pointer-events":d["pointer-events"]||"visibleStroke"},l=null;h.x,h.y,h.w,h.h;if(e.outlineColor){var c=e.outlineWidth||1,u=e.lineWidth+2*c;delete(l=p.extend({},e)).gradient,l.strokeStyle=f.convertStyle(e.outlineColor),l.lineWidth=u,null==h.bgPath?(h.bgPath=m("path",s),p.addClass(h.bgPath,p.connectorOutlineClass),b(h.svg,h.bgPath,0)):g(h.bgPath,s),y(h.svg,h.bgPath,l,0,h)}null==h.path?(h.path=m("path",s),b(h.svg,h.path,e.outlineColor?1:0)):g(h.path,s),y(h.svg,h.path,e,0,h)}}},f.extend(p.ConnectorRenderers.svg,t),p.Segments.svg={SegmentRenderer:{getPath:function(i){return{Straight:function(){var e=i.getCoordinates();return"M "+e.x1+" "+e.y1+" L "+e.x2+" "+e.y2},Bezier:function(){var e=i.params;return"M "+e.x1+" "+e.y1+" C "+e.cp1x+" "+e.cp1y+" "+e.cp2x+" "+e.cp2y+" "+e.x2+" "+e.y2},Arc:function(){var e=i.params,t=i.sweep>Math.PI?1:0,n=i.anticlockwise?0:1;return"M"+i.x1+" "+i.y1+" A "+i.radius+" "+e.r+" 0 "+t+","+n+" "+i.x2+" "+i.y2}}[i.type]()}}};var e=p.SvgEndpoint=function(e){t.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]).renderer.paint=function(e){var t=p.extend({},e);t.outlineColor&&(t.strokeWidth=t.outlineWidth,t.strokeStyle=f.convertStyle(t.outlineColor,!0)),null==this.node?(this.node=this.makeNode(t),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),y(this.svg,this.node,t,(this.x,this.y,this.w,this.h),this),l(this.node,(this.x,this.y))}.bind(this)};f.extend(e,t),p.Endpoints.svg.Dot=function(){p.Endpoints.Dot.apply(this,arguments),e.apply(this,arguments),this.makeNode=function(e){return m("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(e){g(e,{cx:this.w/2,cy:this.h/2,r:this.radius})}},f.extend(p.Endpoints.svg.Dot,[p.Endpoints.Dot,e]),p.Endpoints.svg.Rectangle=function(){p.Endpoints.Rectangle.apply(this,arguments),e.apply(this,arguments),this.makeNode=function(e){return m("rect",{width:this.w,height:this.h})},this.updateNode=function(e){g(e,{width:this.w,height:this.h})}},f.extend(p.Endpoints.svg.Rectangle,[p.Endpoints.Rectangle,e]),p.Endpoints.svg.Image=p.Endpoints.Image,p.Endpoints.svg.Blank=p.Endpoints.Blank,p.Overlays.svg.Label=p.Overlays.Label,p.Overlays.svg.Custom=p.Overlays.Custom;var r=function(e,r){e.apply(this,r),p.jsPlumbUIComponent.apply(this,r),this.isAppendedAtTopLevel=!1;this.path=null,this.paint=function(e,t){if(e.component.svg&&t){null==this.path&&(this.path=m("path",{"pointer-events":"all"}),e.component.svg.appendChild(this.path),this.canvas=e.component.svg);var n=r&&1==r.length&&r[0].cssClass||"",i=[0,0];t.xmin<0&&(i[0]=-t.xmin),t.ymin<0&&(i[1]=-t.ymin),g(this.path,{d:o(e.d),class:n,stroke:e.strokeStyle?e.strokeStyle:null,fill:e.fillStyle?e.fillStyle:null,transform:"translate("+i[0]+","+i[1]+")"})}};var o=function(e){return isNaN(e.cxy.x)||isNaN(e.cxy.y)?"":"M"+e.hxy.x+","+e.hxy.y+" L"+e.tail[0].x+","+e.tail[0].y+" L"+e.cxy.x+","+e.cxy.y+" L"+e.tail[1].x+","+e.tail[1].y+" L"+e.hxy.x+","+e.hxy.y};this.transfer=function(e){e.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),e.canvas.appendChild(this.path))}};f.extend(r,[p.jsPlumbUIComponent,p.Overlays.AbstractOverlay],{cleanup:function(e){null!=this.path&&(e?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(e){this.path&&this.canvas&&null==this.path.parentNode&&this.canvas.appendChild(this.path)},setVisible:function(e){null!=this.path&&(this.path.style.display=e?"block":"none")}}),p.Overlays.svg.Arrow=function(){r.apply(this,[p.Overlays.Arrow,arguments])},f.extend(p.Overlays.svg.Arrow,[p.Overlays.Arrow,r]),p.Overlays.svg.PlainArrow=function(){r.apply(this,[p.Overlays.PlainArrow,arguments])},f.extend(p.Overlays.svg.PlainArrow,[p.Overlays.PlainArrow,r]),p.Overlays.svg.Diamond=function(){r.apply(this,[p.Overlays.Diamond,arguments])},f.extend(p.Overlays.svg.Diamond,[p.Overlays.Diamond,r]),p.Overlays.svg.GuideLines=function(){var i,r,o=null,a=this;p.Overlays.GuideLines.apply(this,arguments),this.paint=function(e,t){null==o&&(o=m("path"),e.connector.svg.appendChild(o),a.attachListeners(o,e.connector),a.attachListeners(o,a),i=m("path"),e.connector.svg.appendChild(i),a.attachListeners(i,e.connector),a.attachListeners(i,a),r=m("path"),e.connector.svg.appendChild(r),a.attachListeners(r,e.connector),a.attachListeners(r,a));var n=[0,0];t.xmin<0&&(n[0]=-t.xmin),t.ymin<0&&(n[1]=-t.ymin),g(o,{d:s(e.head,e.tail),stroke:"red",fill:null,transform:"translate("+n[0]+","+n[1]+")"}),g(i,{d:s(e.tailLine[0],e.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+n[0]+","+n[1]+")"}),g(r,{d:s(e.headLine[0],e.headLine[1]),stroke:"green",fill:null,transform:"translate("+n[0]+","+n[1]+")"})};var s=function(e,t){return"M "+e.x+","+e.y+" L"+t.x+","+t.y}},f.extend(p.Overlays.svg.GuideLines,p.Overlays.GuideLines)}.call(this),function(){"use strict";var h=this.jsPlumb,g=this.jsPlumbUtil,p={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},e=null;if(document.createStyleSheet&&document.namespaces){var t=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"];e=document.createStyleSheet();for(var n=0;n<t.length;n++)e.addRule(t[n],"behavior:url(#default#VML);position:absolute;");document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}h.vml={};var m=function(e,t){for(var n in t)e[n]=t[n]},v=function(e,t,n,i,r,o){n=n||{};var a=document.createElement("jsplumb:"+e);return o?r.appendElement(a,i):i.appendChild(a),a.className=(n.class?n.class+" ":"")+"jsplumb_vml",y(a,t),m(a,n),a},y=function(e,t,n){e.style.left=t[0]+"px",e.style.top=t[1]+"px",e.style.width=t[2]+"px",e.style.height=t[3]+"px",e.style.position="absolute",n&&(e.style.zIndex=n)},b=h.vml.convertValue=function(e){return Math.floor(1e3*e)},d=function(e,t,n,i){"transparent"===t?i.setOpacity(n,"0.0"):i.setOpacity(n,"1.0")},f=function(e,t,n,i){var r={};if(t.strokeStyle){r.stroked="true";var o=g.convertStyle(t.strokeStyle,!0);r.strokecolor=o,d(0,o,"stroke",n),r.strokeweight=t.lineWidth+"px"}else r.stroked="false";if(t.fillStyle){r.filled="true";var a=g.convertStyle(t.fillStyle,!0);r.fillcolor=a,d(0,a,"fill",n)}else r.filled="false";if(t.dashstyle)null==n.strokeNode?n.strokeNode=v("stroke",[0,0,0,0],{dashstyle:t.dashstyle},e,i):n.strokeNode.dashstyle=t.dashstyle;else if(t["stroke-dasharray"]&&t.lineWidth){for(var s=-1==t["stroke-dasharray"].indexOf(",")?" ":",",l=t["stroke-dasharray"].split(s),c="",u=0;u<l.length;u++)c+=Math.floor(l[u]/t.lineWidth)+s;null==n.strokeNode?n.strokeNode=v("stroke",[0,0,0,0],{dashstyle:c},e,i):n.strokeNode.dashstyle=c}m(e,r)},i=function(){var i=this;h.jsPlumbUIComponent.apply(this,arguments),this.opacityNodes={stroke:null,fill:null},this.initOpacityNodes=function(e){i.opacityNodes.stroke=v("stroke",[0,0,1,1],{opacity:"0.0"},e,i._jsPlumb.instance),i.opacityNodes.fill=v("fill",[0,0,1,1],{opacity:"0.0"},e,i._jsPlumb.instance)},this.setOpacity=function(e,t){var n=i.opacityNodes[e];n&&(n.opacity=""+t)};var n=[];this.getDisplayElements=function(){return n},this.appendDisplayElement=function(e,t){t||i.canvas.parentNode.appendChild(e),n.push(e)}};g.extend(i,h.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&this.bgCanvas.parentNode.removeChild(this.bgCanvas),this.canvas&&this.canvas.parentNode.removeChild(this.canvas)}});var r=h.ConnectorRenderers.vml=function(c,u){this.strokeNode=null,this.canvas=null,i.apply(this,arguments);var d=this._jsPlumb.instance.connectorClass+(c.cssClass?" "+c.cssClass:"");this.paint=function(e){if(null!==e){this.w=Math.max(this.w,1),this.h=Math.max(this.h,1);for(var t=this.getSegments(),n={path:""},i=[this.x,this.y,this.w,this.h],r=0;r<t.length;r++)n.path+=h.Segments.vml.SegmentRenderer.getPath(t[r]),n.path+=" ";if(e.outlineColor){var o=e.outlineWidth||1,a=e.lineWidth+2*o,s={strokeStyle:g.convertStyle(e.outlineColor),lineWidth:a};for(var l in p)s[l]=e[l];null==this.bgCanvas?(n.class=d,n.coordsize=1e3*i[2]+","+1e3*i[3],this.bgCanvas=v("shape",i,n,c.parent,this._jsPlumb.instance,!0),y(this.bgCanvas,i),this.appendDisplayElement(this.bgCanvas,!0),this.initOpacityNodes(this.bgCanvas,["stroke"]),this.bgCanvas._jsPlumb=u):(n.coordsize=1e3*i[2]+","+1e3*i[3],y(this.bgCanvas,i),m(this.bgCanvas,n)),f(this.bgCanvas,s,this)}null==this.canvas?(n.class=d,n.coordsize=1e3*i[2]+","+1e3*i[3],this.canvas=v("shape",i,n,c.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(this.canvas,["stroke"]),this.canvas._jsPlumb=u):(n.coordsize=1e3*i[2]+","+1e3*i[3],y(this.canvas,i),m(this.canvas,n)),f(this.canvas,e,this,this._jsPlumb.instance)}}};g.extend(r,i,{setVisible:function(e){this.canvas&&(this.canvas.style.display=e?"block":"none"),this.bgCanvas&&(this.bgCanvas.style.display=e?"block":"none")}});var o=h.VmlEndpoint=function(e){i.apply(this,arguments),this._jsPlumb.vml=null,this.canvas=document.createElement("div"),this.canvas.style.position="absolute",this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(e.cssClass?" "+e.cssClass:""),e._jsPlumb.appendElement(this.canvas,e.parent),this.paint=function(e,t){var n={},i=this._jsPlumb.vml;g.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null==this._jsPlumb.vml?(n.class=this._jsPlumb.clazz,i=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],n,t,this.canvas,this._jsPlumb.instance),this.appendDisplayElement(i,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(i,["fill"])):(y(i,[0,0,this.w,this.h]),m(i,n)),f(i,e,this)}};g.extend(o,i),h.Segments.vml={SegmentRenderer:{getPath:function(e){return{Straight:function(e){var t=e.params;return"m"+b(t.x1)+","+b(t.y1)+" l"+b(t.x2)+","+b(t.y2)+" e"},Bezier:function(e){var t=e.params;return"m"+b(t.x1)+","+b(t.y1)+" c"+b(t.cp1x)+","+b(t.cp1y)+","+b(t.cp2x)+","+b(t.cp2y)+","+b(t.x2)+","+b(t.y2)+" e"},Arc:function(t){var n=t.params,i=Math.min(n.x1,n.x2),r=(Math.max(n.x1,n.x2),Math.min(n.y1,n.y2)),o=(Math.max(n.y1,n.y2),t.anticlockwise?1:0);return(t.anticlockwise?"at ":"wa ")+" "+function(){if(n.loopback)return"0,0,"+b(2*n.r)+","+b(2*n.r);var e=[null,[function(){return[i,r]},function(){return[i-n.r,r-n.r]}],[function(){return[i-n.r,r]},function(){return[i,r-n.r]}],[function(){return[i-n.r,r-n.r]},function(){return[i,r]}],[function(){return[i,r-n.r]},function(){return[i-n.r,r]}]][t.segment][o]();return b(e[0])+","+b(e[1])+","+b(e[0]+2*n.r)+","+b(e[1]+2*n.r)}()+","+b(n.x1)+","+b(n.y1)+","+b(n.x2)+","+b(n.y2)+" e"}}[e.type](e)}}},h.Endpoints.vml.Dot=function(){h.Endpoints.Dot.apply(this,arguments),o.apply(this,arguments),this.getVml=function(e,t,n,i,r){return v("oval",e,t,i,r)}},g.extend(h.Endpoints.vml.Dot,o),h.Endpoints.vml.Rectangle=function(){h.Endpoints.Rectangle.apply(this,arguments),o.apply(this,arguments),this.getVml=function(e,t,n,i,r){return v("rect",e,t,i,r)}},g.extend(h.Endpoints.vml.Rectangle,o),h.Endpoints.vml.Image=h.Endpoints.Image,h.Endpoints.vml.Blank=h.Endpoints.Blank,h.Overlays.vml.Label=h.Overlays.Label,h.Overlays.vml.Custom=h.Overlays.Custom;var a=function(e,p){e.apply(this,p),i.apply(this,p);var f=this;this.canvas=null,this.isAppendedAtTopLevel=!0;this.paint=function(e,t){if(e.component.canvas&&t){var n={},i=e.d,r=e.component;e.strokeStyle&&(n.stroked="true",n.strokecolor=g.convertStyle(e.strokeStyle,!0)),e.lineWidth&&(n.strokeweight=e.lineWidth+"px"),e.fillStyle&&(n.filled="true",n.fillcolor=e.fillStyle);var o=Math.min(i.hxy.x,i.tail[0].x,i.tail[1].x,i.cxy.x),a=Math.min(i.hxy.y,i.tail[0].y,i.tail[1].y,i.cxy.y),s=Math.max(i.hxy.x,i.tail[0].x,i.tail[1].x,i.cxy.x),l=Math.max(i.hxy.y,i.tail[0].y,i.tail[1].y,i.cxy.y),c=[o,a,Math.abs(s-o),Math.abs(l-a)];if(n.path="m "+b((h=i).hxy.x)+","+b(h.hxy.y)+" l "+b(h.tail[0].x)+","+b(h.tail[0].y)+" "+b(h.cxy.x)+","+b(h.cxy.y)+" "+b(h.tail[1].x)+","+b(h.tail[1].y)+" x e",n.coordsize=1e3*r.w+","+1e3*r.h,c[0]=r.x,c[1]=r.y,c[2]=r.w,c[3]=r.h,null==f.canvas){var u=r._jsPlumb.overlayClass||"",d=p&&1==p.length&&p[0].cssClass||"";n.class=d+" "+u,f.canvas=v("shape",c,n,r.canvas.parentNode,r._jsPlumb.instance,!0),r.appendDisplayElement(f.canvas,!0)}else y(f.canvas,c),m(f.canvas,n)}var h},this.cleanup=function(){null!=this.canvas&&this._jsPlumb.instance.removeElement(this.canvas)}};g.extend(a,[i,h.Overlays.AbstractOverlay],{setVisible:function(e){this.canvas.style.display=e?"block":"none"}}),h.Overlays.vml.Arrow=function(){a.apply(this,[h.Overlays.Arrow,arguments])},g.extend(h.Overlays.vml.Arrow,[h.Overlays.Arrow,a]),h.Overlays.vml.PlainArrow=function(){a.apply(this,[h.Overlays.PlainArrow,arguments])},g.extend(h.Overlays.vml.PlainArrow,[h.Overlays.PlainArrow,a]),h.Overlays.vml.Diamond=function(){a.apply(this,[h.Overlays.Diamond,arguments])},g.extend(h.Overlays.vml.Diamond,[h.Overlays.Diamond,a])}.call(this),function(i,e){"use strict";var r=e.jsPlumb,o=e.jsPlumbUtil;i.extend(e.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(e){return null==e?null:"string"==typeof e?document.getElementById(e):e.context||null!=e.length?e[0]:e},removeElement:function(e){var t;(t=e,i("string"==typeof t?"#"+t:t)).remove()},doAnimate:function(e,t,n){i(e).animate(t,n)},destroyDraggable:function(e){i(e).data("draggable")&&i(e).draggable("destroy")},destroyDroppable:function(e){i(e).data("droppable")&&i(e).droppable("destroy")},initDraggable:function(e,t,n){t=t||{},e=i(e),t.start=o.wrap(t.start,function(){i("body").addClass(this.dragSelectClass)},!1),t.stop=o.wrap(t.stop,function(){i("body").removeClass(this.dragSelectClass)}),t.doNotRemoveHelper||(t.helper=null),"internal"==n&&(t.scope=t.scope||r.Defaults.Scope),e.draggable(t)},initDroppable:function(e,t){t.scope=t.scope||r.Defaults.Scope,i(e).droppable(t)},isAlreadyDraggable:function(e){return i(e).hasClass("ui-draggable")},isDragSupported:function(e,t){return i(e).draggable},isDropSupported:function(e,t){return i(e).droppable},getDragObject:function(e){var t=e[1].helper||e[1].draggable;return t?t[0]:null},getDragScope:function(e){return i(e).draggable("option","scope")},getDropEvent:function(e){return e[0]},getDropScope:function(e){return i(e).droppable("option","scope")},getUIPosition:function(e,t,n){var i;if(t=t||1,1==e.length)i={left:e[0].pageX,top:e[0].pageY};else{var r=e[1];i=r.position||r.absolutePosition,n||(r.position.left/=t,r.position.top/=t)}return{left:i.left,top:i.top}},setDragFilter:function(e,t){r.isAlreadyDraggable(e)&&i(e).draggable("option","cancel",t)},setElementDraggable:function(e,t){i(e).draggable("option","disabled",!t)},setDragScope:function(e,t){i(e).draggable("option","scope",t)},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},animEvents:{step:"step",complete:"complete"},getOriginalEvent:function(e){return e.originalEvent||e},trigger:function(e,t,n){e=this.getElement(e),jQuery._data(i(e)[0],"handle")(n)}}),i(document).ready(r.init)}(jQuery,this),angular.module("hawtio-compat.modal",["hawtio-compat.dialog"]).directive("modal",["$parse","$dialog",function(s,l){return{restrict:"EA",terminal:!0,link:function(e,t,n){var i,r=angular.extend({},e.$eval(n.uiOptions||n.bsOptions||n.options)),o=n.modal||n.show;r=angular.extend(r,{template:t.html(),resolve:{$scope:function(){return e}}});var a=l.dialog(r);t.remove(),i=n.close?function(){s(n.close)(e)}:function(){angular.isFunction(s(o).assign)&&s(o).assign(e,!1)},e.$watch(o,function(e,t){e?a.open().then(function(){i()}):a.isOpen()&&a.close()})}}}]),function(e,d,t){"use strict";var n={tabbable:function(){return{restrict:"C",compile:function(e){var t=d.element('<ul class="nav nav-tabs"></ul>'),n=d.element('<div class="tab-content"></div>');n.append(e.contents()),e.append(t).append(n)},controller:["$scope","$element",function(a,e){var s,l=e.contents().eq(0),c=e.controller("ngModel")||{},u=[];c.$render=function(){var e=this.$viewValue;if((s?s.value!=e:e)&&(s&&(s.paneElement.removeClass("active"),s.tabElement.removeClass("active"),s=null),e)){for(var t=0,n=u.length;t<n;t++)if(e==u[t].value){s=u[t];break}s&&(s.paneElement.addClass("active"),s.tabElement.addClass("active"))}},this.addPane=function(e,t){var n=d.element("<li><a href></a></li>"),i=n.find("a"),r={paneElement:e,paneAttrs:t,tabElement:n};function o(){r.title=t.title,r.value=t.value||t.title,c.$setViewValue||c.$viewValue&&r!=s||(c.$viewValue=r.value),c.$render()}return u.push(r),t.$observe("value",o)(),t.$observe("title",function(){o(),i.text(r.title)})(),l.append(n),n.bind("click",function(e){e.preventDefault(),e.stopPropagation(),c.$setViewValue?a.$apply(function(){c.$setViewValue(r.value),c.$render()}):(c.$viewValue=r.value,c.$render())}),function(){r.tabElement.remove();for(var e=0,t=u.length;e<t;e++)r==u[e]&&u.splice(e,1)}}}]}},tabPane:function(){return{require:"?^tabbable",restrict:"C",link:function(e,t,n,i){i&&t.bind("$remove",i.addPane(t,n))}}}},i="hawtio-tabbable";d.module(i,[]).directive(n),hawtioPluginLoader.addModule(i)}(window,window.angular),angular.module("hawtio-compat.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,s,l){var c=function(t,e,n){n=n||{};var i=a.defer(),r=c[n.animation?"animationEndEventName":"transitionEndEventName"],o=function(e){l.$apply(function(){t.unbind(r,o),i.resolve(t)})};return r&&t.bind(r,o),s(function(){angular.isString(e)?t.addClass(e):angular.isFunction(e)?e(t):angular.isObject(e)&&t.css(e),r||i.resolve(t)}),i.promise.cancel=function(){r&&t.unbind(r,o),i.reject("Transition cancelled")},i.promise},n=document.createElement("trans");function e(e){for(var t in e)if(void 0!==n.style[t])return e[t]}return c.transitionEndEventName=e({WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"}),c.animationEndEventName=e({WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"}),c}]),function(e){function i(e,t){if(e&&t){var n=a(e,t);if(n){var i=n.type;i&&(e=i)}}return e}function a(e,i){if(i){var t=i.definitions;if(t){var n=t[e];if(n){var r=n.fullSchema;if(r)return r;var o=Core.pathGet(n,["extends","type"]);if(o)return(r=angular.copy(n)).properties=r.properties||{},angular.isArray(o)||(o=[o]),angular.forEach(o,function(e){if(angular.isString(e)){var t=a(e,i),n=Core.pathGet(t,["properties"]);n&&angular.forEach(n,function(e,t){r.properties[t]=e})}}),n.fullSchema=r}return n}}return null}e.log=Logger.get("Forms"),e.defaultValues=function(i,e){i&&e&&angular.forEach(e.properties,function(e,t){var n=e.default;n&&!i[t]&&(console.log("===== defaulting value "+n+" into entity["+t+"]"),i[t]=n)})},e.resolveTypeNameAlias=i,e.isJsonType=function(e,t,n){for(var i=a(e,t);i;){var r=Core.pathGet(i,["extends","type"]);if(!r)return!1;if(n===r)return!0;i=a(r,t)}return!1},e.safeIdentifier=function(e){return e?e.replace(/-/g,"_"):e},e.lookupDefinition=a,e.findArrayItemsSchema=function(e,t){var n=null;if(e&&t){if(n=e.items){var i=n.type;if(i){var r=a(i,t);if(r)return r}}var o=e.additionalProperties;if(o&&"#"===o.$ref)return t}return n},e.isObjectType=function(e){var t=Core.pathGet(e,"type");return t&&"object"===t},e.isArrayOrNestedObject=function(e,t){if(e){var n=i(e.type,t);if(n&&("object"===n||"array"===n))return!0}return!1},e.configure=function(e,t,n){return angular.isDefined(t)&&(e=angular.extend(e,t)),angular.extend(e,n)},e.getControlGroup=function(e,t,n){var i=angular.element('<div class="'+e.controlgroupclass+'"></div>');if(angular.isDefined(t.description)&&i.attr("title",t.description),e.properties&&e.properties[n]){var r=e.properties[n];r&&"control-attributes"in r&&angular.forEach(r["control-attributes"],function(e,t){i.attr(t,e)})}return i},e.getLabel=function(e,t,n,i){return void 0===i&&(i=!1),i?angular.element('<label class="strong '+e.labelclass+'">'+n+": </label>"):angular.element('<label class="'+e.labelclass+'">'+n+": </label>")},e.getControlDiv=function(e){return angular.element('<div class="'+e.controlclass+'"></div>')},e.getHelpSpan=function(e,t,n,i){void 0===i&&(i=null);var r=Core.pathGet(e.data,["properties",n,"help"]);Core.isBlank(r)&&(r=Core.pathGet(e.data,["properties",n,"description"])),Core.isBlank(r)&&angular.isDefined(i)&&(r=Core.pathGet(i,["help"]),Core.isBlank(r)&&(r=Core.pathGet(i,["description"])));var o=e.showhelp||"true";return Core.isBlank(r)?angular.element('<span class="help-block"></span>'):angular.element('<span class="help-block" ng-show="'+o+'">'+r+"</span>")}}(Forms||(Forms={})),function(O){function N(e,r,t,n,i,o){var a=O.resolveTypeNameAlias(e,t);if(!a)return'<input type="text"/>';if(Core.pathGet(r,["formTemplate"]))return null;var s=Core.pathGet(r,["input-element"]);if(s)return"<"+s+"></"+s+">";var l=Core.pathGet(r,["enum"]);if(l){var c=null,u="";if(l){var d=n.scope,h=n.data;if(h&&d){var p=d[n.schemaName],f=angular.isString(h)?d[h]:h,g=o.split(".");r=null;angular.forEach(g,function(e){r=Core.pathGet(f,["properties",e]);var t=Core.pathGet(r,["type"]),n=O.lookupDefinition(t,p);n&&(f=n)});var m=Core.pathGet(r,["enum"]);angular.isUndefined(m)&&(m=l),d[c="$values_"+o.replace(/\./g,"_")]=m}}c&&(u+=' ng-options="value for value in '+c+'"');return"<select"+u+"></select>"}if(angular.isArray(a))return null;if(!angular.isString(a))return null;var v=null,y=r.default||r.defaultValue;function b(e,t){var n=Core.pathGet(e,t);if(!n){var i=r.default||r.defaultValue;i&&(n=i,Core.pathSet(e,t,n))}return n}switch(y&&(v=function(e,t){Core.pathGet(e,t)||Core.pathSet(e,t,y)},i.valueConverter=v),a.toLowerCase()){case"int":case"integer":case"long":case"short":case"java.lang.integer":case"java.lang.long":case"float":case"double":case"java.lang.float":case"java.lang.double":return i.valueConverter=function(e,t){var n=b(e,t);if(n&&angular.isString(n)){var i=Number(n);Core.pathSet(e,t,i)}},'<input type="number" class="form-input"/>';case"array":case"java.lang.array":case"java.lang.iterable":case"java.util.list":case"java.util.collection":case"java.util.iterator":case"java.util.set":case"object[]":return null;case"boolean":case"bool":case"java.lang.boolean":return i.valueConverter=function(e,t){var n=b(e,t);n&&"true"===n&&Core.pathSet(e,t,!0)},'<input type="checkbox" class="form-input"/>';case"password":return'<input type="password" class="form-input"/>';case"hidden":return'<input type="hidden" class="form-input"/>';case"map":return null;default:return'<input type="text" class="form-input"/>'}}O.createWidget=function(e,i,t,n,r,o,a,s,l){void 0===s&&(s=!0),void 0===l&&(l=!1);var c=null,u=null;function d(n,e){var t=i[e];t&&angular.forEach(t,function(e,t){angular.isString(e)&&n.attr(t,e)})}function h(){d(c,"input-attributes"),angular.forEach(i,function(e,t){if(angular.isString(e)&&t.indexOf("$")<0&&"type"!==t){var n=Core.escapeHtml(e);c.attr(t,n)}})}var p={valueConverter:null},f=O.safeIdentifier(r),g=i.required||!1,m=N(e,i,t,n,p,f);if(m){c=angular.element(m),h(),r=f;var v=n.model||Core.pathGet(i,["input-attributes","ng-model"]);v||(v=n.getEntity()+"."+r),c.attr("ng-model",v),c.attr("name",r);var y=i.title||i.tooltip||i.label;y&&c.attr("title",y);var b=i.tooltip||i.description;b&&c.attr("tooltip",b);var w=l||i.disableHumanizeLabel,x=r;if(o||i.ignorePrefixInLabel){var C=r.lastIndexOf(".");0<C&&(x=r.substring(C+1))}if("hidden"!==c.attr("type")&&s){u=this.getControlGroup(n,n,r);var S=i.title||i.label||(w?x:Core.humanizeValue(x)),k=O.getLabel(n,n,S,g);b?k.attr("title",b):y&&k.attr("title",y),u.append(k),d(k,"label-attributes");var _=O.getControlDiv(n);_.append(c),_.append(O.getHelpSpan(n,n,r,i)),u.append(_);var T=n.showempty;if(angular.isDefined(T)){var D="true";"true"===T||"false"===T?D=T:angular.isString(r)&&(D=T+"('"+r+"')"),u.attr("ng-show",D)}d(_,"control-attributes"),d(u,"control-group-attributes");var A=n.scope;if(A&&v){var E=function(e){A.$emit("hawtio.form.modelChange",v,e)},I=E,P=p.valueConverter;P&&(I=function(){P(A,v);var e=Core.pathGet(A,v);E(e)}),A.$watch(v,I)}}}else{(c=angular.element("<div></div>")).attr(O.normalize(e,i,t),""),h(),c.attr("entity",n.getEntity()),c.attr("mode",n.getMode());var $=n.schemaName;$&&c.attr("schema",$),a&&c.attr("data",a),(o||i.ignorePrefixInLabel)&&c.attr("ignore-prefix-in-label",!0),(l||i.disableHumanizeLabel)&&c.attr("disable-humanize-label",!0),c.attr("name",r)}var M=i.label;M&&c.attr("title",M);try{n.isReadOnly()&&(c.attr("readonly","true"),("select"===c[0].localName||"input"===c[0].localName&&"checkbox"===c.attr("type"))&&c.attr("disabled","true"))}catch(e){}return g&&("select"===c[0].localName||"input"===c[0].localName&&"checkbox"===c.attr("type")?c.removeAttr("required"):c.attr("required","true")),u||c},O.createStandardWidgetMarkup=N,O.mapType=function(e){switch(e.toLowerCase()){case"int":case"integer":case"long":case"short":case"java.lang.integer":case"java.lang.long":case"float":case"double":case"java.lang.float":case"java.lang.double":return"number";case"array":case"java.lang.array":case"java.lang.iterable":case"java.util.list":case"java.util.collection":case"java.util.iterator":case"java.util.set":case"object[]":return"text";case"boolean":case"bool":case"java.lang.boolean":return"checkbox";case"password":return"password";case"hidden":return"hidden";default:return"text"}},O.normalize=function(t,e,n){if(!(t=O.resolveTypeNameAlias(t,n)))return"hawtio-form-text";if(Core.pathGet(e,["formTemplate"]))return"hawtio-form-custom";if(Core.pathGet(e,["enum"]))return"hawtio-form-select";if(angular.isArray(t))return null;if(!angular.isString(t)){try{console.log("Unsupported JSON schema type value "+JSON.stringify(t))}catch(e){console.log("Unsupported JSON schema type value "+t)}return null}switch(t.toLowerCase()){case"int":case"integer":case"long":case"short":case"java.lang.integer":case"java.lang.long":case"float":case"double":case"java.lang.float":case"java.lang.double":return"hawtio-form-number";case"array":case"java.lang.array":case"java.lang.iterable":case"java.util.list":case"java.util.collection":case"java.util.iterator":case"java.util.set":case"object[]":var i=e.items;if(!i)return"hawtio-form-string-array";var r=i.type;return r&&"string"===r?"hawtio-form-string-array":(O.log.debug("Returning hawtio-form-array for : ",e),"hawtio-form-array");case"boolean":case"bool":case"java.lang.boolean":return"hawtio-form-checkbox";case"password":return"hawtio-form-password";case"hidden":return"hawtio-form-hidden";case"map":return"hawtio-form-map";default:return"hawtio-form-text"}}}(Forms||(Forms={}));var __extends=this&&this.__extends||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function i(){this.constructor=e}e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)},Forms,Forms,Forms,Forms,Forms,Forms,Forms,Forms,Forms,Forms,HawtioForms,HawtioForms,HawtioForms,HawtioForms,HawtioForms,HawtioForms,HawtioForms,HawtioForms,HawtioForms;!function(x){var p=function(){function e(){this.name="input",this.type="",this.description="",this._default="",this.scope=null,this.mode="edit",this.schemaName="schema",this.controlgroupclass="control-group",this.controlclass="controls",this.labelclass="control-label",this.showtypes="false",this.formtemplate=null,this.entity="entity",this.model=void 0}return e.prototype.getEntity=function(){return this.entity||"entity"},e.prototype.getMode=function(){return this.mode||"edit"},e.prototype.isReadOnly=function(){return"view"===this.getMode()},e}();x.InputBaseConfig=p;var e=function(){function e(e){var i=this;this.$compile=e,this.restrict="A",this.scope=!0,this.replace=!1,this.transclude=!1,this.attributeName="",this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.doLink=function(t,e,n){var i=new p;(i=x.configure(i,null,n)).scope=t,i.schemaName=n.schema||"schema";var r=x.safeIdentifier(i.name),o=this.getControlGroup(i,i,r),a=i.model;angular.isDefined(a)||(a=i.getEntity()+"."+r);var s=r;if("true"===n.ignorePrefixInLabel){var l=r.lastIndexOf(".");0<l&&(s=r.substring(l+1))}var c="true"===n.disableHumanizeLabel,u=n.title||(c?s:Core.humanizeValue(s));o.append(x.getLabel(i,i,u));var d=x.getControlDiv(i);d.append(this.getInput(i,i,r,a)),d.append(x.getHelpSpan(i,i,r)),o.append(d),$(e).append(this.$compile(o)(t)),t&&a&&t.$watch(a,function(e){t.$emit("hawtio.form.modelChange",a,e)})},e.prototype.getControlGroup=function(e,t,n){return x.getControlGroup(e,t,n)},e.prototype.getInput=function(e,t,n,i){var r=$('<span class="form-data"></span>');return i&&(r.attr("ng-model",i),r.append("{{"+i+"}}")),r},e}(),t=function(a){function e(e){a.call(this,e),this.$compile=e,this.type="text"}return __extends(e,a),e.prototype.getInput=function(e,t,n,i){if(e.isReadOnly())return a.prototype.getInput.call(this,e,t,n,i);var r=$('<input type="'+this.type+'">');r.attr("name",n),i&&r.attr("ng-model",i),e.isReadOnly()&&r.attr("readonly","true");var o=e.$attr.required;return o&&"false"!==o&&r.attr("required","true"),r},e}(x.InputBase=e),n=function(o){function e(e){o.call(this,e),this.$compile=e,this.type="hidden"}return __extends(e,o),e.prototype.getControlGroup=function(e,t,n){var i=o.prototype.getControlGroup.call(this,e,t,n);return i.css({display:"none"}),i},e.prototype.getInput=function(e,t,n,i){var r=o.prototype.getInput.call(this,e,t,n,i);return r.attr("readonly","true"),r},e}(x.TextInput=t);x.HiddenText=n;var i=function(t){function e(e){t.call(this,e),this.$compile=e,this.type="password"}return __extends(e,t),e}(t);x.PasswordInput=i;var r=function(t){function e(e){t.call(this,e),this.$compile=e}return __extends(e,t),e.prototype.getInput=function(e,t,n,i){var r=t.formtemplate;r=Core.unescapeHtml(r);var o=$(r);return o.attr("name")||o.attr("name",n),i&&o.attr("ng-model",i),e.isReadOnly()&&o.attr("readonly","true"),o},e}(e);x.CustomInput=r;var o=function(h){function e(e){h.call(this,e),this.$compile=e}return __extends(e,h),e.prototype.getInput=function(e,t,n,i){if(e.isReadOnly())return h.prototype.getInput.call(this,e,t,n,i);var r=$("<select></select>");r.attr("name",n);var o=e.scope,a=e.data;if(a&&o){var s=o[e.schemaName],l=o[a],c=n.split("."),u=null;angular.forEach(c,function(e){u=Core.pathGet(l,["properties",e]);var t=Core.pathGet(u,["type"]),n=x.lookupDefinition(t,s);n&&(l=n)});var d=Core.pathGet(u,["enum"]);o.$selectValues=d,r.attr("ng-options","value for value in $selectValues")}return i&&r.attr("ng-model",i),e.isReadOnly()&&r.attr("readonly","true"),r},e}(e);x.SelectInput=o;var a=function(s){function e(e){s.call(this,e),this.$compile=e}return __extends(e,s),e.prototype.getInput=function(e,t,n,i){if(e.isReadOnly())return s.prototype.getInput.call(this,e,t,n,i);var r=$('<input type="number">');r.attr("name",n),angular.isDefined(t.def)&&r.attr("value",t.def),angular.isDefined(t.minimum)&&r.attr("min",t.minimum),angular.isDefined(t.maximum)&&r.attr("max",t.maximum),i&&r.attr("ng-model",i),e.isReadOnly()&&r.attr("readonly","true");var o=e.scope;if(o){function a(){var e=Core.pathGet(o,i);if(e&&angular.isString(e)){var t=Number(e);Core.pathSet(o,i,t)}}o.$watch(i,a),a()}return r},e}(e);x.NumberInput=a;var s=function(t){function e(e){t.call(this,e),this.$compile=e}return __extends(e,t),e.prototype.getInput=function(e,t,n,i){var r="_"+n,o="{{"+r+"}}";if(e.isReadOnly())return angular.element('<ul><li ng-repeat="'+r+" in "+i+'">'+o+"</li></ul>");var a=e.scope,s=(t.$attr||{}).schema||"schema",l=a[e.schemaName]||a[s]||{},c=((l.properties||{})[n]||{}).items||{},u=c.type,d=c.disableHumanizeLabel;Core.pathGet(a,i)||Core.pathSet(a,i,[]);var h="_form_stringArray"+r+"_",p=h+"keys",f=h+"add",g=h+"remove";function m(){var e=Core.pathGet(a,i);a[p]=e?Object.keys(e):[],a.$emit("hawtio.form.modelChange",i,e)}m(),a[f]=function(){var e=Core.pathGet(a,i)||[];e.push(""),Core.pathSet(a,i,e),m()},a[g]=function(e){var t=Core.pathGet(a,i)||[];e<t.length&&t.splice(e,1),Core.pathSet(a,i,t),m()};var v=i+"["+r+"]",y={model:v},b=x.createWidget(u,c,l,y,v,!0,null,!1,d);b||(b=angular.element(o));var w=angular.element('<div class="controls" style="white-space: nowrap" ng-repeat="'+r+" in "+p+'"></div>');return w.append(b),w.append(angular.element('<a ng-click="'+g+"("+r+')" title="Remove this value"><i class="red icon-remove"></i></a>')),w.after(angular.element('<a ng-click="'+f+'()" title="Add a new value"><i class="icon-plus"></i></a>')),w},e}(e);x.StringArrayInput=s;var l=function(t){function e(e){t.call(this,e),this.$compile=e}return __extends(e,t),e.prototype.doLink=function(e,t,n){var i=new p,r=(i=x.configure(i,null,n)).name,o=n.data||"",a=n.entity||i.entity,s=n.schema||i.schemaName;var l=["properties",r,"inputTable"],c=null;if(Core.pathGet(e,l),!c){var u=l.join("."),d="true"===n.disableHumanizeLabel?r:Core.humanizeValue(r);c={formConfig:i,title:d,data:i.entity+"."+r,displayFooter:!1,showFilter:!1,columnDefs:[{field:"_id",displayName:d,render:function(e,t,n){if(n){var i=n.description;return i||angular.forEach(n,function(e,t){e&&!i&&(i=e)}),i}return null}}]},Core.pathSet(e,l,c)}var h=$('<div hawtio-input-table="'+u+'" data="'+o+'" property="'+r+'" entity="'+a+'" schema="'+s+'"></div>');i.isReadOnly()&&h.attr("readonly","true"),$(t).append(this.$compile(h)(e))},e}(e);x.ArrayInput=l;var c=function(t){function e(e){t.call(this,e),this.$compile=e}return __extends(e,t),e.prototype.getInput=function(e,t,n,i){var r=$('<input class="hawtio-checkbox" type="checkbox">');r.attr("name",n),e.isReadOnly()&&r.attr("disabled","true"),i&&r.attr("ng-model",i),e.isReadOnly()&&r.attr("readonly","true");var o=e.scope;if(o){function a(){var e=Core.pathGet(o,i);e&&"true"===e&&Core.pathSet(o,i,!0)}o.$watch(i,a),a()}return r},e}(e);x.BooleanInput=c}(Forms||(Forms={})),function(e){e.pluginName="hawtio-forms",e.templateUrl="plugins/forms/html/",e.log=Logger.get(e.pluginName)}(Forms||(Forms={})),function(O){var t=function(){function e(){this.name="form",this.method="post",this.entity="entity",this.schemaName="schema",this.mode="edit",this.data={},this.json=void 0,this.scope=null,this.scopeName=null,this.properties=[],this.action="",this.formclass="hawtio-form form-horizontal no-bottom-margin",this.controlgroupclass="form-group",this.controlclass="col-sm-10",this.labelclass="col-sm-2 control-label",this.showtypes="false",this.showhelp="true",this.showempty="true",this.onsubmit="onSubmit"}return e.prototype.getMode=function(){return this.mode||"edit"},e.prototype.getEntity=function(){return this.entity||"entity"},e.prototype.isReadOnly=function(){return"view"===this.getMode()},e}();O.SimpleFormConfig=t;var e=function(){function e(e){var i=this;this.$compile=e,this.restrict="A",this.scope=!0,this.replace=!0,this.transclude=!0,this.attributeName="simpleForm",this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.isReadOnly=function(){return!1},e.prototype.doLink=function(v,y,b){var w=new t,x=b.schema,C=x?v[x]:null,S=null,k=null,T=null,D=null,A=null,E=b[this.attributeName]||b.data,I=null,P=this;function M(n,i,e){void 0===e&&(e=i.ignorePrefixInLabel);var t=i.type;"java.lang.String"===t&&(t="string");var r=O.lookupDefinition(t,A);r||(r=O.lookupDefinition(t,C));var o=!!A&&A.disableHumanizeLabel;if(!i.hidden){if("expression"===i.kind){r=O.lookupDefinition("expression",C);var a=n+".language",s=n+".expression",l=jQuery.extend(!0,{},r.properties.expression);l.description=i.description,l.title=i.title,l.required=i.required;var c=O.createWidget(t,r.properties.language,A,w,a,e,E,!0,o),u=O.createWidget(t,l,A,w,s,e,E,!0,o),d=c.find("select"),h=u.find("input");return d&&h&&(d.attr("style","width: 120px; margin-right: 10px"),h.attr("style","width: 470px"),h.before(d)),void D.append(u)}var p,f,g=null;if(!r&&"object"===t&&i.properties?g=i.properties:r&&O.isObjectType(r)&&(g=r.properties),g)angular.forEach(g,function(e,t){M(n+"."+t,e,i.ignorePrefixInLabel)});else{c=O.createWidget(t,i,A,w,n,e,E,!0,o);if(T.use){var m=(p=n,(f=T.locations[p])||angular.forEach(T.locations,function(e,t){!f&&"*"!==t&&p.match(t)&&(f=e)}),f||(f=T.locations["*"]),f);T.elements[m].append(c)}else D.append(c);I||(I=c)}}}v.$watch(E,function(e){e&&function(e){(w=O.configure(w,e,b)).schemaName=x,w.scopeName=E,w.scope=v;var t=w.getEntity();angular.isDefined(w.json)?w.data=$.parseJSON(w.json):w.data=e;var n=P.createForm(w);D=n.find("fieldset"),A=w.data,T={elements:{},locations:{},use:!1},A&&angular.isDefined(A.tabs)&&(T.use=!0,T.div=$('<div class="tabbable hawtio-form-tabs"></div>'),angular.forEach(A.tabs,function(e,t){T.elements[t]=$('<div class="tab-pane" title="'+t+'"></div>'),T.div.append(T.elements[t]),e.forEach(function(e){T.locations[e]=t})}),T.locations["*"]||(T.locations["*"]=_.keys(A.tabs)[0]));T.use||D.append('<div class="spacer"></div>');if(A)if(T.use){var r={};angular.forEach(A.properties,function(e,t){var n=function(n){var i=null;angular.forEach(A.tabs,function(e,t){e.forEach(function(e){!i&&"*"!==e&&n.match(e)&&(i=e)})}),i||(i="*");return i}(t),i=r[n];i||(i=[],r[n]=i),i.push({id:t,property:e})}),angular.forEach(A.tabs,function(e,t){e.forEach(function(e){var t=r[e];t&&angular.forEach(t,function(e){var t=e.id,n=e.property;t&&n&&M(t,n)})})})}else angular.forEach(A.properties,function(e,t){M(t,e)});if(T.use){var i=T.div,o=Object.keys(T.elements).length;o<2?angular.forEach(i.children().children(),function(e){D.append(e)}):D.append(i)}var a=function(e,t){return angular.isDefined(e[t])&&angular.isFunction(e[t])?e:angular.isDefined(e.$parent)&&null!==e.$parent?a(e.$parent,t):null},s=w.onsubmit.replace("(","").replace(")",""),l=(c=a(v,s),u=s,null===c?null:c[u]);var c,u;null===l&&(l=function(e,t){O.log.info("No submit handler defined for form:",t.get(0).name)});angular.isDefined(l)&&n.submit(function(){if(O.log.debug("child scope: ",k),O.log.debug("form name: ",w),k[w.name].$invalid)return!1;var e=v[t];return l(e,n),!1});D.append('<input type="submit" style="position: absolute; left: -9999px; width: 1px; height: 1px;">');var d=n.find("*[autofocus]");if((!d||!d.length)&&I){console.log("No autofocus element, so lets add one!");var h=I.find("input").first()||I.find("select").first();h&&h.attr("autofocus","true")}S&&$(S).remove();k&&k.$destroy();k=v.$new(!1),S=P.$compile(n)(k);var p=v.forms;p||(p={},v.forms=p);var f=w.name;if(f){var g=k[f];g&&(p[f]=g);var m=f+="$scope";p[m]=k}$(y).append(S)}(e)})},e.prototype.createForm=function(e){var t=$('<form class="'+e.formclass+'" novalidate><fieldset></fieldset></form>');return t.attr("name",e.name),t.attr("action",e.action),t.attr("method",e.method),t.find("fieldset").append(this.getLegend(e)),t},e.prototype.getLegend=function(e){var t=Core.pathGet(e,"data.description");return t?"<legend>"+t+"</legend>":""},e}();O.SimpleForm=e}(Forms||(Forms={})),function(R){var F=function(){function e(){this.name="form",this.method="post",this.entity="entity",this.tableConfig="tableConfig",this.mode="edit",this.data={},this.json=void 0,this.properties=[],this.action="",this.tableclass="table table-striped inputTable",this.controlgroupclass="control-group",this.controlclass="controls pull-right",this.labelclass="control-label",this.showtypes="true",this.removeicon="icon-remove",this.editicon="icon-edit",this.addicon="icon-plus",this.removetext="Remove",this.edittext="Edit",this.addtext="Add",this.onadd="onadd",this.onedit="onedit",this.onremove="onRemove",this.primaryKeyProperty=void 0}return e.prototype.getTableConfig=function(){return this.tableConfig||"tableConfig"},e}();R.InputTableConfig=F;var e=function(){function e(e){var i=this;this.$compile=e,this.restrict="A",this.scope=!0,this.replace=!0,this.transclude=!0,this.attributeName="hawtioInputTable",this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.doLink=function(n,e,t){var i=this,r=new F,o=t[this.attributeName],a=Core.pathGet(n,o);r=R.configure(r,a,t);var s=t.entity||r.data||"entity",l=t.property||"arrayData",c=s+"."+l,u=r.primaryKeyProperty,d=r.title||s;angular.isDefined(r.json)?r.data=$.parseJSON(r.json):r.data=n[r.data];var h=$("<div></div>");(a=Core.pathGet(n,o))?(a.selectedItems=[],n.config=a):console.log("No table configuration for table "+d);var p=this.createTable(r,o),f=this.getControlGroup(r,{},""),g=this.getControlDiv(r);function m(e){var t=Core.pathGet(n,c);t||(t=[]),!angular.isArray(t)&&t&&(t=[t]),t=e(t),Core.pathSet(n,c,t),n.$emit("hawtio.datatable."+c,t),Core.$apply(n)}function v(r){return angular.forEach(n.config.selectedItems,function(n){var e=n._id;if(angular.isArray(r))r=r.remove(function(e){return _.isEqual(e,n)}),delete n._id,r=r.remove(function(e){return _.isEqual(e,n)});else if(delete n._id,e)delete r[e];else{var i=!1;angular.forEach(r,function(e,t){!i&&_.isEqual(e,n)&&(console.log("Found row to delete! "+t),delete r[t],i=!0)}),i||console.log("Could not find "+JSON.stringify(n)+" in "+JSON.stringify(r))}}),r}g.addClass("btn-group"),f.append(g);var y=null,b=null,w=null,x=null,C=null;if(!t.readonly){var S=null,k=t.data,T=k?Core.pathGet(n,k):null,D=t.schema||k,A=D?Core.pathGet(n,D):null;l&&T&&(S=Core.pathGet(T,["properties",l])),y=this.getAddButton(r),n.addDialogOptions={backdropFade:!0,dialogFade:!0},n.showAddDialog=!1,n.openAddDialog=function(){n.addEntity={},n.addFormConfig=R.findArrayItemsSchema(S,A);x||(x=$('<div modal="showAddDialog" close="closeAddDialog()" options="addDialogOptions">\n<div class="modal-header"><h4>'+("Add "+d)+'</h4></div>\n<div class="modal-body"><div simple-form="addFormConfig" entity="addEntity" data="addFormConfig" schema="'+D+'"></div></div>\n<div class="modal-footer"><button class="btn btn-primary add" type="button" ng-click="addAndCloseDialog()">Add</button><button class="btn btn-warning cancel" type="button" ng-click="closeAddDialog()">Cancel</button></div></div>'),h.append(x),i.$compile(x)(n));n.showAddDialog=!0,Core.$apply(n)},n.closeAddDialog=function(){n.showAddDialog=!1,n.addEntity={}},n.addAndCloseDialog=function(){var t=n.addEntity;R.log.info("About to add the new entity "+JSON.stringify(t)),t&&m(function(e){return u&&e.remove(function(e){return e[u]===t[u]}),e.push(t),e}),n.closeAddDialog()},b=this.getEditButton(r),n.editDialogOptions={backdropFade:!0,dialogFade:!0},n.showEditDialog=!1,n.openEditDialog=function(){var e=n.config.selectedItems,t={};(e&&e.length&&angular.copy(e[0],t),n.editEntity=t,n.editFormConfig=R.findArrayItemsSchema(S,A),C)||(C=$('<div modal="showEditDialog" close="closeEditDialog()" options="editDialogOptions">\n<div class="modal-header"><h4>'+("Edit "+d)+'</h4></div>\n<div class="modal-body"><div simple-form="editFormConfig" entity="editEntity"></div></div>\n<div class="modal-footer"><button class="btn btn-primary save" type="button" ng-click="editAndCloseDialog()">Save</button><button class="btn btn-warning cancel" type="button" ng-click="closeEditDialog()">Cancel</button></div></div>'),h.append(C),i.$compile(C)(n));n.showEditDialog=!0,Core.$apply(n)},n.closeEditDialog=function(){n.showEditDialog=!1,n.editEntity={}},n.editAndCloseDialog=function(){var t=n.editEntity;console.log("About to edit the new entity "+JSON.stringify(t)),t&&m(function(e){return(e=v(e)).push(t),e}),n.closeEditDialog()},w=this.getRemoveButton(r)}var E=function(e,t){return angular.isDefined(e[t])&&angular.isFunction(e[t])?e:angular.isDefined(e.$parent)&&null!==e.$parent?E(e.$parent,t):null};function I(e,t){return null!==e?e[t]:null}var P=r.onremove.replace("(","").replace(")",""),M=r.onedit.replace("(","").replace(")",""),O=r.onadd.replace("(","").replace(")",""),N=I(E(n,P),P),L=I(E(n,M),M),j=I(E(n,O),O);null===N&&(N=function(){m(function(e){return v(e)})}),null===L&&(L=function(){n.openEditDialog()}),null===j&&(j=function(e){n.openAddDialog()}),y&&(y.click(function(e){return j(),!1}),g.append(y)),b&&(b.click(function(e){return L(),!1}),g.append(b)),w&&(w.click(function(e){return N(),!1}),g.append(w)),$(h).append(f),$(h).append(p),$(e).append(h),this.$compile(h)(n)},e.prototype.getAddButton=function(e){return $('<button type="button" class="btn add"><i class="'+e.addicon+'"></i> '+e.addtext+"</button>")},e.prototype.getEditButton=function(e){return $('<button type="button" class="btn edit" ng-disabled="!config.selectedItems.length"><i class="'+e.editicon+'"></i> '+e.edittext+"</button>")},e.prototype.getRemoveButton=function(e){return $('<button type="remove" class="btn remove" ng-disabled="!config.selectedItems.length"><i class="'+e.removeicon+'"></i> '+e.removetext+"</button>")},e.prototype.createTable=function(e,t){return $('<table class="'+e.tableclass+'" hawtio-simple-table="'+t+'"></table>')},e.prototype.getLegend=function(e){return Core.pathGet(e,"data.description")?"<legend>"+e.data.description+"</legend>":""},e.prototype.getControlGroup=function(e,t,n){var i=$('<div class="'+e.controlgroupclass+'"></div>');return angular.isDefined(t.description)&&i.attr("title",t.description),i},e.prototype.getControlDiv=function(e){return $('<div class="'+e.controlclass+'"></div>')},e.prototype.getHelpSpan=function(e,t,n){var i=$('<span class="help-block"></span>');return angular.isDefined(t.type)&&"false"!==e.showtypes&&i.append("Type: "+t.type),i},e}();R.InputTable=e}(Forms||(Forms={})),function(e){var t=function(){function e(){var i=this;this.restrict="A",this.scope=!0,this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.doLink=function(e,t,n){var i=$(t),r="form[name="+n.hawtioSubmit+"]";i.click(function(){return $(r).submit(),!1})},e}();e.SubmitForm=t}(Forms||(Forms={})),function(e){var t=function(){function e(){var i=this;this.restrict="A",this.scope=!0,this.link=function(e,t,n){return i.doLink(e,t,n)}}return e.prototype.doLink=function(e,t,n){var i=$(t),r="form[name="+n.hawtioReset+"]";i.click(function(){for(var e=$(r),t=0;t<e.length;t++)e[t].reset();return!1})},e}();e.ResetForm=t}(Forms||(Forms={})),function(t){t._module=angular.module(t.pluginName,[]),t._module.directive("simpleForm",["$compile",function(e){return new t.SimpleForm(e)}]),t._module.directive("hawtioForm",["$compile",function(e){return new t.SimpleForm(e)}]),t._module.directive("hawtioInputTable",["$compile",function(e){return new t.InputTable(e)}]),t._module.directive("hawtioFormText",["$compile",function(e){return new t.TextInput(e)}]),t._module.directive("hawtioFormPassword",["$compile",function(e){return new t.PasswordInput(e)}]),t._module.directive("hawtioFormHidden",["$compile",function(e){return new t.HiddenText(e)}]),t._module.directive("hawtioFormNumber",["$compile",function(e){return new t.NumberInput(e)}]),t._module.directive("hawtioFormSelect",["$compile",function(e){return new t.SelectInput(e)}]),t._module.directive("hawtioFormArray",["$compile",function(e){return new t.ArrayInput(e)}]),t._module.directive("hawtioFormStringArray",["$compile",function(e){return new t.StringArrayInput(e)}]),t._module.directive("hawtioFormCheckbox",["$compile",function(e){return new t.BooleanInput(e)}]),t._module.directive("hawtioFormCustom",["$compile",function(e){return new t.CustomInput(e)}]),t._module.directive("hawtioSubmit",function(){return new t.SubmitForm}),t._module.directive("hawtioReset",function(){return new t.ResetForm}),t._module.run(function(){t.log.debug("loaded")}),t._module.run(["$rootScope",function(e){e._||(e._=_)}]),hawtioPluginLoader.addModule(t.pluginName)}(Forms||(Forms={})),function(e){e.createFormElement=function(){return{type:void 0}},e.createFormTabs=function(){return{}},e.createFormConfiguration=function(){return{properties:{}}},e.createFormGridConfiguration=function(){return{rowSchema:{},rows:[]}}}(Forms||(Forms={})),function(p){p._module.directive("hawtioFormGrid",["$templateCache","$interpolate","$compile",function(u,d,h){return{restrict:"A",replace:!0,scope:{configuration:"=hawtioFormGrid"},templateUrl:p.templateUrl+"formGrid.html",link:function(a,s,e){function l(){var n=[];angular.isDefined(a.configuration.rowSchema.columnOrder)&&a.configuration.rowSchema.columnOrder.forEach(function(e){var t=Core.pathGet(a.configuration.rowSchema.properties,[e]);Core.pathSet(t,["key"],e),n.push(t)});return angular.forEach(a.configuration.rowSchema.properties,function(e,t){n.some(function(e){return e.key===t})||(e.key=t,n.push(e))}),n}function n(e){var t,r=((t=s.find("thead")).empty(),t.append(u.get("rowTemplate.html")).find("tr"));e.forEach(function(e){var t=e.label||e.key;a.configuration.rowSchema.disableHumanizeLabel||(t=_.startCase(t));var n=e.headerTemplate||u.get("headerCellTemplate.html"),i=d(n);r.append(i({label:t}))}),r.append(u.get("emptyHeaderCellTemplate.html"))}function c(n,i){a.configuration.rows.forEach(function(e,o){var a=angular.element(u.get("rowTemplate.html"));n.forEach(function(e){var t=p.mapType(e.type);if("number"===t&&"input-attributes"in e){var n=e.template||u.get("cellNumberTemplate.html"),i=d(n),r={row:"configuration.rows["+o+"]",type:t,key:e.key,min:Core.pathGet(e,["input-attributes","min"]),max:Core.pathGet(e,["input-attributes","max"])};a.append(i(r))}else{n=e.template||u.get("cellTemplate.html"),i=d(n);a.append(i({row:"configuration.rows["+o+"]",type:t,key:e.key}))}});var t=d(u.get("deleteRowTemplate.html"));a.append(t({index:o})),i.append(a)})}a.removeThing=function(e){a.configuration.rows.slice(e,e+1)},a.addThing=function(){a.configuration.rows.push(a.configuration.onAdd())},a.getHeading=function(){return Core.isBlank(a.configuration.rowName)?"Items":_.startCase(a.configuration.rowName+"s")},a.$watch("configuration.noDataTemplate",function(e,t){var n=a.configuration.noDataTemplate||u.get("heroUnitTemplate.html");s.find(".nodata").html(h(n)(a))}),a.$watch("configuration.rowSchema",function(e,t){e!==t&&n(l())},!0),a.$watchCollection("configuration.rows",function(e,t){if(e!==t){var n=((o=s.find("tbody")).empty(),o),i=l(),r=angular.element("<div></div>");c(i,r),n.append(h(r.children())(a))}var o})}}}])}(Forms||(Forms={})),function(i){i._module.directive("hawtioFormMap",[function(){return{restrict:"A",replace:!0,templateUrl:UrlHelpers.join(i.templateUrl,"formMapDirective.html"),scope:{description:"@",entity:"=",mode:"=",data:"=",name:"@"},link:function(n,e,t){n.deleteKey=function(t){try{delete n.entity[n.name][""+t]}catch(e){i.log.debug("failed to delete key: ",t," from entity: ",n.entity)}},n.addItem=function(e){n.entity||(n.entity={}),Core.pathSet(n.entity,[n.name,e.key],e.value),n.showForm=!1},n.$watch("showForm",function(e){e&&(n.newItem={key:void 0,value:void 0})})}}}])}(Forms||(Forms={})),function(e){var t;(t=e.FormMode||(e.FormMode={}))[t.VIEW=0]="VIEW",t[t.EDIT=1]="EDIT";var n,i=e.FormMode;(n=e.FormStyle||(e.FormStyle={}))[n.STANDARD=0]="STANDARD",n[n.INLINE=1]="INLINE",n[n.HORIZONTAL=2]="HORIZONTAL",n[n.UNWRAPPED=3]="UNWRAPPED";var r=e.FormStyle;e.createFormConfiguration=function(e){var t=e||{properties:{}};return _.defaults(t,{style:r.HORIZONTAL,mode:i.EDIT}),t}}(HawtioForms||(HawtioForms={})),function(l){l.pluginName="hawtio-forms2",l.templatePath="plugins/forms2/html",l.log=Logger.get(l.pluginName);var c=function(){function e(){}return Object.defineProperty(e,"FORM_STANDARD",{get:function(){return UrlHelpers.join(l.templatePath,"form-standard.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FORM_INLINE",{get:function(){return UrlHelpers.join(l.templatePath,"form-inline.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FORM_UNWRAPPED",{get:function(){return UrlHelpers.join(l.templatePath,"form-unwrapped.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"FORM_HORIZONTAL",{get:function(){return UrlHelpers.join(l.templatePath,"form-horizontal.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"STANDARD_HORIZONTAL_INPUT",{get:function(){return UrlHelpers.join(l.templatePath,"standard-horizontal-input.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"STANDARD_INPUT",{get:function(){return UrlHelpers.join(l.templatePath,"standard-input.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"STATIC_HORIZONTAL_TEXT",{get:function(){return UrlHelpers.join(l.templatePath,"static-horizontal-text.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"STATIC_TEXT",{get:function(){return UrlHelpers.join(l.templatePath,"static-text.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SELECT_HORIZONTAL",{get:function(){return UrlHelpers.join(l.templatePath,"select-horizontal.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"SELECT",{get:function(){return UrlHelpers.join(l.templatePath,"select.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPTION_ARRAY",{get:function(){return UrlHelpers.join(l.templatePath,"optionArray.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPTION_OBJECT",{get:function(){return UrlHelpers.join(l.templatePath,"optionObject.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OPTION_CONFIG_OBJECT",{get:function(){return UrlHelpers.join(l.templatePath,"optionConfigObject.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CHECKBOX_HORIZONTAL",{get:function(){return UrlHelpers.join(l.templatePath,"checkbox-horizontal.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"CHECKBOX",{get:function(){return UrlHelpers.join(l.templatePath,"checkbox.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"OBJECT",{get:function(){return UrlHelpers.join(l.templatePath,"object.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"ARRAY",{get:function(){return UrlHelpers.join(l.templatePath,"array.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"MAP",{get:function(){return UrlHelpers.join(l.templatePath,"map.html")},enumerable:!0,configurable:!0}),Object.defineProperty(e,"HIDDEN",{get:function(){return UrlHelpers.join(l.templatePath,"hidden.html")},enumerable:!0,configurable:!0}),e}();function u(e,t,n){t in e.postInterpolateActions||(e.postInterpolateActions[t]=[]),e.postInterpolateActions[t].push(n)}function s(e,t,n,i){var r=void 0;switch(t.style){case l.FormStyle.HORIZONTAL:r=e.$templateCache.get(c.STANDARD_HORIZONTAL_INPUT);break;default:r=e.$templateCache.get(c.STANDARD_INPUT)}return d(e,t,n,r,i)}function d(e,t,n,i,r){var o=angular.element(i);"tooltip"in n&&o.attr({title:n.tooltip}),"control-group-attributes"in n&&o.attr(n["control-group-attributes"]),"label-attributes"in n&&o.find("label").attr(n["label-attributes"]);var a=o.find("input");return r&&a.attr({type:r}),"input-attributes"in n&&a.attr(n["input-attributes"]),"selectors"in n&&_.forIn(n.selectors,function(e,t){l.log.debug("Found selector: ",t," for control: ",n," applying"),e("el"===t?o:$(o.find(t)))}),o.prop("outerHTML")}function h(e,t){switch(t.style){case l.FormStyle.HORIZONTAL:return e.$templateCache.get(c.STATIC_HORIZONTAL_TEXT);default:return e.$templateCache.get(c.STATIC_TEXT)}}function p(a,e,t,s){var n=void 0;switch(e.style){case l.FormStyle.HORIZONTAL:n=a.$templateCache.get(c.SELECT_HORIZONTAL);break;default:n=a.$templateCache.get(c.SELECT)}return u(a,t,function(e){var n=e.find("select"),t=_.isArray(s.enum),i=_.isFunction(s.enum);if(t)if(_.isObject(_.first(s.enum))){var r=a.$templateCache.get(c.OPTION_CONFIG_OBJECT),o=a.$interpolate(r);_.forEach(s.enum,function(e){var t=angular.element(o(e));e.attributes&&t.attr(e.attributes),n.append(t)})}else{r=a.$templateCache.get(c.OPTION_ARRAY),o=a.$interpolate(r);_.forEach(s.enum,function(e){n.append(o({value:e}))})}else if(i)a.scope.enum=s.enum,n.attr("ng-options","item.value as item.label for item in enum()"),n.removeAttr("hawtio-combobox");else{r=a.$templateCache.get(c.OPTION_OBJECT),o=a.$interpolate(r);_.forIn(s.enum,function(e,t){n.append(o({key:t,value:e}))})}}),d(0,0,s,n)}function f(e,t,n){switch(t.style){case l.FormStyle.HORIZONTAL:return e.$templateCache.get(c.CHECKBOX_HORIZONTAL);default:return e.$templateCache.get(c.CHECKBOX)}}function g(i,r,o,a){var s="config.properties."+o;return"javaType"in a&&(s=a.javaType),u(i,o,function(e){var t={"hawtio-form-2":s,entity:"entity."+o,"no-wrap":"true",mode:r.mode,style:r.style,label:a.label||i.maybeHumanize(o)},n={};"control-group-attributes"in a&&_.forIn(a["control-group-attributes"],function(e,t){n[t]=e}),e.attr(n),e.find(".inline-object").attr(t)}),i.$templateCache.get(c.OBJECT)}function m(e,t,n,i){return u(e,n,function(e){e.find(".inline-map").attr({"hawtio-forms-2-map":"config.properties."+n,entity:"entity."+n,mode:t.mode})}),e.$templateCache.get(c.MAP)}function v(e,t,n,i){return u(e,n,function(e){e.find(".inline-array").attr({"hawtio-forms-2-array":"config.properties."+n,entity:"entity."+n,mode:t.mode})}),e.$templateCache.get(c.ARRAY)}function r(e,t,n,i){var r=e.mappings.getMapping(i.type);if("enum"in i&&(r="select"),"properties"in i&&(r="object"),i.hidden&&(r="hidden"),"object"===i.type&&i.javaType&&_.startsWith(i.javaType,"java.util.Map")&&(r="map"),r)switch(r){case"array":return v(e,t,n);case"number":return s(e,t,i,"number");case"password":return s(e,t,i,"password");case"text":return s(e,t,i,"text");case"static":return h(e,t);case"object":return g(e,t,n,i);case"map":return m(e,t,n);case"hidden":return i.hidden=!0,d(0,0,i,e.$templateCache.get(c.HIDDEN));case"select":return p(e,t,n,i);case"checkbox":return f(e,t)}var o=i.javaType||i.type,a=e.schemas.getSchema(o);if(a)return g(e,t,n,_.extend(i,a))}l.Constants=c,l.addPostInterpolateAction=u,l.addPreCompileAction=function(e,t,n){t in e.preCompileActions||(e.preCompileActions[t]=[]),e.preCompileActions[t].push(n)},l.getFormMain=function(e,t){switch(t.style){case l.FormStyle.STANDARD:return e.$templateCache.get(c.FORM_STANDARD);case l.FormStyle.INLINE:return e.$templateCache.get(c.FORM_INLINE);case l.FormStyle.UNWRAPPED:return e.$templateCache.get(c.FORM_UNWRAPPED);default:return e.$templateCache.get(c.FORM_HORIZONTAL)}},l.getStandardTemplate=s,l.applyElementConfig=d,l.getStaticTextTemplate=h,l.setSelectOptions=function(e,t,n){},l.getSelectTemplate=p,l.getCheckboxTemplate=f,l.getObjectTemplate=g,l.getMapTemplate=m,l.getArrayTemplate=v,l.lookupTemplate=r,l.getTemplate=function(e,t,n,i){return"formTemplate"in i?i.formTemplate:r(e,t,n,i)},l.interpolateTemplate=function(e,t,n,i,r,o){if(i.formTemplate)return i.formTemplate;var a=e.$interpolate(r)({maybeHumanize:e.maybeHumanize,control:i,name:n,model:o});if(e.postInterpolateActions[n]){var s=angular.element(a);e.postInterpolateActions[n].forEach(function(e){e(s)}),a=s.prop("outerHTML")}return a},l.createMaybeHumanize=function(n){return function(e){var t=n.config;return!t||t&&!t.disableHumanizeLabel?Core.humanizeValue(e):e}},l.initConfig=function(e,t,n){void 0===n&&(n=!0);var i=t;if(!i&&n){var r=e.attrs[e.directiveName];r&&((i=e.schemas.cloneSchema(r))||(i={}))}return i&&("label"in e.attrs&&(i.label=e.attrs.label),"mode"in e.attrs&&(i.mode=Number(e.attrs.mode)),"style"in e.attrs&&(i.style=Number(e.attrs.style)),"noWrap"in e.attrs&&e.attrs.noWrap&&(i.style=l.FormStyle.UNWRAPPED)),l.createFormConfiguration(i)}}(HawtioForms||(HawtioForms={})),function(e){e._module=angular.module(e.pluginName,[]),e._module.run(function(){e.log.debug("loaded")}),hawtioPluginLoader.addModule(e.pluginName)}(HawtioForms||(HawtioForms={})),(HawtioForms||(HawtioForms={}))._module.directive("hawtioCombobox",[function(){return{restrict:"A",link:function(e,t,n){}}}]),function(k){var T="hawtioForms2Array";function D(c,n,e,i){_.forEach(e,function(a,s){var e,l=(e=c,angular.element(e.$templateCache.get("arrayRowTemplate.html")));n.properties.$items?l.append("<td>"+a+"</td>"):_.forIn(n.properties,function(i,r){var e={style:k.FormStyle.UNWRAPPED,mode:k.FormMode.VIEW,properties:{}};e.properties[r]=i;var t=k.getTemplate(c,e,r,i);if(t){var n=angular.element(t);n.attr({class:""}),n.find("label").text(""),["input","select"].forEach(function(e){n.find(e).attr({"ng-disabled":"true",style:"width: auto"}).removeClass("form-control").addClass("table-control")}),i.enum&&k.addPostInterpolateAction(c,r,function(e){var t=e.find("select"),n="config.columnSchema.properties['"+r+"'].enum";k.setSelectOptions(_.isArray(i.enum),n,t)}),("properties"in i||"javaType"in i)&&k.addPostInterpolateAction(c,r,function(e){e.find("h4").remove(),e.find(".inline-object").attr({entity:"entity["+s+"]."+r,label:!1})}),t=k.interpolateTemplate(c,e,r,i,n.prop("outerHTML"),"entity["+s+"]."+r);var o=angular.element("<td></td>");o.append(t),l.append(o)}else l.append("<td>"+a[r]+"</td>")});var t=angular.element(c.$templateCache.get("deleteRow.html"));t.find(".deleteRow").attr({"ng-click":"deleteRow("+s+")"}),t.find(".editRow").attr({"ng-click":"editRow("+s+")"}),l.append(t),i.append(l)})}k._module.directive(T,["$compile","$templateCache","$interpolate","SchemaRegistry","ControlMappingRegistry","$modal",function(y,b,w,x,C,S){return{restrict:"A",replace:!0,templateUrl:UrlHelpers.join(k.templatePath,"forms2Array.html"),scope:{config:"="+T,entity:"=?"},link:function(g,m,v){g.$watch("config",function(e){var o={postInterpolateActions:{},maybeHumanize:void 0,config:void 0,element:m,attrs:v,mappings:C,schemas:x,$templateCache:b,$interpolate:w,$compile:y,directiveName:T},t=k.initConfig(o,_.cloneDeep(e),!1);if(o.config=t,o.maybeHumanize=k.createMaybeHumanize(o),g.entity||(g.entity=[]),t&&t.items){var n=t.items.type||t.items.javaType,r=g.entity,a={properties:{}};if(C.hasMapping(n)){var i={};_.merge(i,t,{type:C.getMapping(n)}),"items"in i&&delete i.items,i.label||(i.label="Entries"),a.properties.$items=i}else a=x.getSchema(n);var s,l,c,u,d,h=angular.element(b.get("table.html")),p=(l=a,c=s=o,(u=h.find("thead")).empty(),d=u.append(c.$templateCache.get("arrayRowTemplate.html")).find("tr"),_.forIn(l.properties,function(e,t){var n=s.$interpolate(e.headerTemplate||s.$templateCache.get("header.html"));d.append(n({control:e,name:s.maybeHumanize(t)}))}),d.append(s.$templateCache.get("newItemHeader.html")),g.$new());t.columnSchema=a,p.config=t,p.entity=r,p.deleteRow=function(n){var i=S.open({templateUrl:UrlHelpers.join(k.templatePath,"arrayItemModal.html"),controller:["$scope","$modalInstance",function(e,t){e.schema=f(a),e.schema.mode=k.FormMode.VIEW,e.header="Delete Entry?",e.description="<p>Are you sure you want to delete the following entry?</p><p><strong>This operation cannot be undone!</strong></p>",a.properties.$items?e.newEntity={$items:r[n]}:e.newEntity=_.clone(r[n]),e.ok=function(){i.close(),r.splice(n,1)},e.cancel=function(){i.dismiss()}}]})},p.editRow=function(n){var i=S.open({templateUrl:UrlHelpers.join(k.templatePath,"arrayItemModal.html"),controller:["$scope","$modalInstance",function(e,t){e.schema=f(a),e.header="Edit Entry",a.properties.$items?e.newEntity={$items:r[n]}:e.newEntity=_.clone(r[n]),e.ok=function(){i.close(),"$items"in e.newEntity?r[n]=e.newEntity.$items:r[n]=e.newEntity},e.cancel=function(){i.dismiss()}}]})},p.createNewRow=function(){var n=S.open({templateUrl:UrlHelpers.join(k.templatePath,"arrayItemModal.html"),controller:["$scope","$modalInstance",function(e,t){e.schema=f(a),e.newEntity=void 0,e.header="Add New Entry",e.ok=function(){n.close(),"$items"in e.newEntity?r.push(e.newEntity.$items):r.push(e.newEntity)},e.cancel=function(){n.dismiss()}}]})},p.watch=p.$watchCollection("entity",function(e,t){g.entity=e;var n,i=((n=h.find("tbody")).empty(),n),r=angular.element("<div></div>");D(o,a,e,r),i.append(y(r.children())(p))}),m.append(y(h)(p))}function f(e){var t=_.clone(e,!0);return t.style=k.FormStyle.STANDARD,"$items"in t.properties&&(t.properties.$items["label-attributes"]={style:"display: none"}),t}},!0)}}}])}(HawtioForms||(HawtioForms={})),function(S){var k="hawtioForm2";S._module.directive(k,["$compile","$templateCache","$interpolate","SchemaRegistry","ControlMappingRegistry",function(y,b,w,x,C){return{restrict:"A",replace:!0,templateUrl:UrlHelpers.join(S.templatePath,"forms2Directive.html"),scope:{config:"="+k,entity:"=?",name:"@?"},link:function(f,g,m){var n="",v=0;f.$watch("config",function(e){var t=angular.toJson(e,!0);t!==n&&(f.diff=diffString(n||"",t||""),n=t,function(a){v+=1,f.configChanges=v,g.empty();var s={postInterpolateActions:{},preCompileActions:{},maybeHumanize:void 0,config:void 0,scope:void 0,element:g,attrs:m,mappings:C,schemas:x,$templateCache:b,$interpolate:w,$compile:y,directiveName:k};a=S.initConfig(s,_.cloneDeep(a)),s.config=a,s.maybeHumanize=S.createMaybeHumanize(s),f.entity||(f.entity={});var l=f.entity;if(!("properties"in a))return;var r=s.scope=f.$new();r.config=a,r.name=f.name||"hawtio-form",r.maybeHumanize=s.maybeHumanize;var o={},c={},e=angular.element(S.getFormMain(s,a));e.find("form").attr({name:a.id||"form"});var n=e.find("fieldset");0===n.length&&(n=e);var i=!1;if("wizard"in a&&a.wizard.pages){var t=a.wizard,u=b.get("wizardParent.html");n.append(u),r.pageIds=[],n=n.find(".wizardParent"),r.onFinish=function(){S.log.warn("No onFinish() function supplied to form wizard")},r.buttons={next:"Next",back:"Back",finish:"Finish"},r.isValid=function(){return S.log.debug("scope: ",f),!0},r.isDisabled=function(e){return e.$invalid},r.isBackDisabled=function(e){return!1},_.forIn(t,function(e,t){r[t]=e}),_.forIn(t.pages,function(n,i){"title"in n||(n.title=i),n.el=angular.element(b.get("wizardPage.html")),n.el.attr({"ng-switch-when":i}),n.el.find("h3").text(i),"template"in n&&n.el.append(y(n.template)(f)),n.parent=n.el.find(".wizardPageBody"),n.parent.attr({"ng-form":_.camelCase(i)}),S.addPreCompileAction(s,_.camelCase(i),function(){var e=angular.element(b.get("wizardButtons.html")),t={"ng-disabled":"isDisabled("+_.camelCase(i)+")"};e.find(".next").attr(t),e.find(".finish").attr(t),e.find(".back").attr({"ng-disabled":"isBackDisabled("+_.camelCase(i)+")"}),n.parent.append(e)}),o[i]=n,r.pageIds.push(i)}),r.currentPageIndex=0,r.gotoPage=function(e,t){if(e<0||e>r.pageIds.length)e<0&&r.onCancel&&r.onCancel();else{if(r.onChange){var n=r.onChange(t,e,r.pageIds);if(n)return void(r.currentPageIndex=n)}r.currentPageIndex=e}},r.getCurrentPageId=function(){return r.pageIds[r.currentPageIndex]},r.atFront=function(){return 0===r.currentPageIndex&&!r.onCancel},r.atBack=function(){return r.currentPageIndex===r.pageIds.length-1},r.next=function(){r.gotoPage(r.currentPageIndex+1,r.currentPageIndex)},r.back=function(){r.gotoPage(r.currentPageIndex-1,r.currentPageIndex)}}else if("tabs"in a){n.append(b.get("tabElement.html")),n=n.find(".tabbable");var d=a.tabs;_.forIn(d,function(e,t){var n=angular.element(b.get("tabPage.html"));n.attr({title:t});var i={controls:e,el:n,parent:n};o[t]=i})}else o.$main="controls"in a?{controls:a.controls,el:e,parent:n}:{controls:["*"],el:e,parent:n},i=!0;_.forIn(a.properties,function(e,t){var n=Core.pathGet(e,["typeaheadData"]);n&&!Core.pathGet(e,["input-attributes","typeahead"])&&Core.pathSet(e,["input-attributes","typeahead"],"item for item in config.properties."+t+".typeaheadData");var i=Core.pathGet(e,["input-attributes","value"]);i&&(l[t]=i);var r=Core.pathGet(e,["default"]);r&&(l[t]=r),"checkbox"===C.getMapping(e.type)&&(l[t]=Core.parseBooleanValue(r));var o=S.getTemplate(s,a,t,e);o&&(o=S.interpolateTemplate(s,a,t,e,o,"entity."+t),c[t]=o)});var h=_.keys(o),p=void 0;h.forEach(function(t){var n=o[t];n.controls&&n.controls.forEach(function(e){"*"===e?i?_.forIn(c,function(e,t){_.any(n.controls,function(e){return e===t})||(n.parent.append(e),delete c[t])}):p=t:e in c?(n.parent.append(c[e]),delete c[e]):S.log.debug("Control with name ",e," not found")})}),0<_.keys(c).length&&(p||(p=_.last(h)),_.forIn(c,function(e,t){o[p].parent.append(e),delete c[t]}));_.forIn(o,function(e,t){"$main"!==t&&n.append(e.el)}),_.forIn(s.preCompileActions,function(e,t){_.forEach(e,function(e){e()})}),a.debug&&(e.append("<div><h4>Config Update Count</h4><pre>{{configChanges}}</pre></div>"),e.append("<div><h4>Entity</h4><pre>{{entity | json}}</pre></div>"),e.append("<div><h4>Config</h4><pre>{{config | json}}</pre></div>"),e.append('<div><h4>Last Change</h4><pre ng-bind-html="diff"></pre></div>'));g.append(y(e)(r)),r.$emit("hawtio-form2-form",{name:r.name,form:r.$eval(r.name)})}(e))},!0)}}}])}(HawtioForms||(HawtioForms={})),function(b){var w="hawtioForms2Map";b._module.directive(w,["$compile","$templateCache","$interpolate","SchemaRegistry","ControlMappingRegistry","$modal",function(g,s,m,l,v,c){function y(e,t,n){var i={properties:{},control:n};return"items"in n?i.properties[e]={noLabel:!0,type:t,items:{type:n.items.type}}:v.hasMapping(t)?i.properties[e]={noLabel:!0,type:v.getMapping(t)}:i=l.getSchema(t),angular.isObject(i)&&(i.control=n),i}return{restrict:"A",replace:!0,templateUrl:UrlHelpers.join(b.templatePath,"forms2Map.html"),scope:{config:"="+w,entity:"=?"},link:function(f,n,i){f.$watch("config",function(e){var u={postInterpolateActions:{},maybeHumanize:void 0,config:void 0,s:void 0,element:n,attrs:i,mappings:v,schemas:l,$templateCache:s,$interpolate:m,$compile:g,directiveName:w},t=b.initConfig(u,_.cloneDeep(e),!1);if(u.config=t,u.maybeHumanize=b.createMaybeHumanize(u),f.entity||(f.entity={}),t&&t.items)if(t.items.key)if(t.items.value){var r=f.entity,d=f.$new();u.s=d;var o=y("key",t.items.key.type,t.items.key),h=y("value",t.items.value.type,t.items.value),p=angular.element(s.get("table.html"));p.find("tbody");d.config=t,d.entity=r,d.keySchema=_.cloneDeep(o),d.valueSchema=_.cloneDeep(h),d.keySchema&&(d.keySchema.mode=b.FormMode.VIEW,d.keySchema.style=b.FormStyle.UNWRAPPED,d.keySchema.hideLegend=!0),d.valueSchema&&(d.valueSchema.mode=b.FormMode.VIEW,d.valueSchema.style=b.FormStyle.UNWRAPPED,d.valueSchema.hideLegend=!0),d.editRow=function(e){b.log.debug("Edit row: ",e)},d.deleteRow=function(e){b.log.debug("Delete row: ",e)},d.createRow=function(){b.log.debug("create row");var i=c.open({templateUrl:"mapItemModal.html",controller:["$scope","$modalInstance",function(n,e){n.header="Create Entry",n.description="<p>Add a new entry to the map by filling in the details for the key and value</p>",n.keySchema=a(o),n.valueSchema=a(h),n.ok=function(){i.close();var e=n.newKeyEntity.key,t=n.newValueEntity;(h.control.items||v.hasMapping(h.control.type))&&(t=n.newValueEntity.value),b.log.debug("New key: ",e),b.log.debug("New value: ",t),r[e]=t},n.cancel=function(){i.dismiss()}}]})},d.$watch("entity",function(e,t){f.entity=e;var n,i,r,o,a,s,l=((n=p.find("tbody")).empty(),n),c=angular.element("<div></div>");r=e,o=h,a=c,(s=(i=u).s).keys={},s.values={},_.forIn(r,function(e,t){s.keys[t]={key:t},o.control.items||v.hasMapping(o.control.type)?s.values[t]={value:e}:s.values[t]=e;var n=i.$templateCache.get("mapRowTemplate.html");n=m(n)({key:t}),a.append(n)}),l.append(g(c.children())(d))},!0),n.append(g(p)(d))}else b.log.debug("Invalid map config, no 'value' attribute configured in 'items'");else b.log.debug("Invalid map config, no 'key' attribute configured in 'items'");else b.log.debug("Invalid map config, no 'items' configured");function a(e){var t=_.cloneDeep(e);return t.style=b.FormStyle.STANDARD,_.forIn(t.properties,function(e,t){"noLabel"in e&&delete e.noLabel}),b.log.debug("Schema: ",e),t}})}}}])}(HawtioForms||(HawtioForms={})),(HawtioForms||(HawtioForms={}))._module.factory("SchemaRegistry",["ControlMappingRegistry",function(t){var r={},o={};function i(n,i){r[n]=i,_.forIn(o,function(e,t){e(n,i)})}function a(e){return t.getMapping(e)===e?{type:"object",javaType:e}:{type:e}}var s={addListener:function(e,n){e&&n&&(_.forIn(r,function(e,t){n(t,e)}),o[e]=n)},removeListener:function(e){e in o&&delete o[e]},addSchema:function(e,t){var n=_.cloneDeep(t);_.forIn(n.properties,function(e,t){if(_.startsWith(e.javaType,"java.util.Map")){var n=e.javaType.replace("java.util.Map<","").replace(">","").split(",");if(2!==n.length)return;e.type="map",e.items={key:a(n[0]),value:a(n[1])}}}),i(e,n),t.javaType&&i(t.javaType,n),t.definitions&&_.forIn(t.definitions,function(e,t){s.addSchema(t,e)})},getSchema:function(e){return r[e]},cloneSchema:function(e){return _.clone(r[e],!0)},removeSchema:function(e){var t=void 0;return e in r&&(t=r[e],delete r[e]),t},iterate:function(e){_.forIn(r,e)}};return s}]),(HawtioForms||(HawtioForms={}))._module.factory("ControlMappingRegistry",[function(){var n={},t={hasMapping:function(e){return!!e&&e.toLowerCase()in n},addMapping:function(e,t){n[e.toLowerCase()]=t},getMapping:function(e){if(e){var t=n[e.toLowerCase()];return t||e}},removeMapping:function(e){var t=void 0;return e.toLowerCase()in n&&(t=n[e.toLowerCase()],delete n[e.toLowerCase()]),t},iterate:function(e){_.forIn(n,e)}};return _.forEach(["int","number","integer","long","short","java.lang.integer","java.lang.long","float","double","java.lang.float","java.lang.double"],function(e){return t.addMapping(e,"number")}),_.forEach(["boolean","bool","java.lang.boolean"],function(e){return t.addMapping(e,"checkbox")}),t.addMapping("password","password"),t.addMapping("hidden","hidden"),t.addMapping("static","static"),t.addMapping("enum","select"),t.addMapping("choice","radio-group"),t.addMapping("multiple","multiple-select"),_.forEach(["string","text","java.lang.string"],function(e){return t.addMapping(e,"text")}),t}]),angular.module("hawtio-forms-templates",[]).run(["$templateCache",function(e){e.put("plugins/forms/html/formGrid.html",'<div>\r\n\r\n  <script type="text/ng-template" id="heroUnitTemplate.html">\r\n    <div class="hero-unit">\r\n      <h5>No Items Added</h5>\r\n      <p><a href="" ng-click="addThing()">Add an item</a> to the table</p>\r\n    </div>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="headerCellTemplate.html">\r\n    <th>{{label}}</th>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="emptyHeaderCellTemplate.html">\r\n    <th></th>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="deleteRowTemplate.html">\r\n    <td ng-click="removeThing({{index}})" class="align-center">\r\n      <i class="icon-remove red mouse-pointer"></i>\r\n    </td>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="cellTemplate.html">\r\n    <td>\r\n      <editable-property ng-model="{{row}}"\r\n                         type="{{type}}"\r\n                         property="{{key}}"></editable-property>\r\n    </td>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="cellNumberTemplate.html">\r\n    <td>\r\n      <editable-property ng-model="{{row}}"\r\n                         type="{{type}}"\r\n                         property="{{key}}" min="{{min}}" max="{{max}}"></editable-property>\r\n    </td>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="rowTemplate.html">\r\n    <tr></tr>\r\n  <\/script>\r\n\r\n  <div ng-show="configuration.rows.length == 0" class="row-fluid">\r\n    <div class="span12 nodata">\r\n    </div>\r\n  </div>\r\n  <div ng-hide="configuration.rows.length == 0" class="row-fluid">\r\n    <div class="span12">\r\n      <h3 ng-show="configuration.heading">{{getHeading()}}</h3>\r\n      <table class="table table-striped">\r\n        <thead>\r\n        </thead>\r\n        <tbody>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n    <div ng-click="addThing()" class="centered mouse-pointer">\r\n      <i class="icon-plus green"></i><span ng-show="configuration.rowName"> Add {{_.startCase(configuration.rowName)}}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms/html/formMapDirective.html",'<div class="control-group">\r\n  <label class="control-label" for="keyValueList">{{data[name].label || name | humanize}}:</label>\r\n  <div class="controls">\r\n    <ul id="keyValueList" class="zebra-list">\r\n      <li ng-repeat="(key, value) in entity[name]">\r\n        <strong>Key:</strong>&nbsp;{{key}}&nbsp;<strong>Value:</strong>&nbsp;{{value}}\r\n        <i class="pull-right icon-remove red mouse-pointer" ng-click="deleteKey(key)"></i>\r\n      </li>\r\n      <li>\r\n        <button class="btn btn-success"  ng-click="showForm = true" ng-hide="showForm"><i class="icon-plus"></i></button>\r\n        <div class="well" ng-show="showForm">\r\n          <form class="form-horizontal">\r\n            <fieldset>\r\n              <div class="control-group">\r\n                <label class="control-label" for="newItemKey">Key:</label>\r\n                <div class="controls">\r\n                  <input id="newItemKey" type="text" ng-model="newItem.key">\r\n                </div>\r\n              </div>\r\n              <div class="control-group">\r\n                <label class="control-label" for="newItemKey">Value:</label>\r\n                <div id="valueInput" class="controls">\r\n                  <input id="newItemValue" type="text" ng-model="newItem.value">\r\n                </div>\r\n              </div>\r\n              <p>\r\n              <input type="submit" class="btn btn-success pull-right" ng-disabled="!newItem.key && !newItem.value" ng-click="addItem(newItem)" value="Add">\r\n              <span class="pull-right">&nbsp;</span>\r\n              <button class="btn pull-right" ng-click="showForm = false">Cancel</button>\r\n              </p>\r\n            </fieldset>\r\n          </form>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/array.html",'<div class="row">\r\n  <div class="clearfix col-md-12">\r\n    <div ng-hide="{{control.noLabel}}" class="row"><h4>{{control.label || maybeHumanize(name)}}</h4></div>\r\n    <div class="row">\r\n      <div class="inline-array"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/arrayItemModal.html",'<div class="modal-header">\r\n  <h3 class="modal-title">{{header}}</h3>\r\n</div>\r\n<div class="modal-body">\r\n  <div ng-show="description" ng-bind-html="description"></div>\r\n  <div hawtio-form-2="schema" entity="newEntity"></div>\r\n</div>\r\n<div class="modal-footer">\r\n  <button class="btn btn-primary" ng-click="ok()">OK</button>\r\n  <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\r\n</div>\r\n'),e.put("plugins/forms2/html/checkbox-horizontal.html",'<div class="form-group">\r\n  <div class="col-sm-offset-2 col-sm-10">\r\n    <div class="checkbox">\r\n      <label>\r\n        <input ng-disabled="config.mode == 0" type="checkbox" ng-model="{{model}}" name="{{name}}"> {{control.label || maybeHumanize(name)}}\r\n      </label>\r\n      <p class="help-block">{{control.description}}</p>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/checkbox.html",'<div class="form-group">\r\n  <div class="checkbox">\r\n    <label>\r\n      <input ng-disabled="config.mode == 0" type="checkbox" ng-model="{{model}}" name="{{name}}"> {{control.label || maybeHumanize(name)}}\r\n    </label>\r\n    <p class="help-block">{{control.description}}</p>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/form-horizontal.html",'<form ng-disabled="config.mode == 0" class="hawtio-form-2 form-horizontal" name="{{name}}">\r\n  <fieldset>\r\n    <legend ng-show="config.label || config.description" ng-hide="config.hideLegend">{{config.label || config.description}}</legend>\r\n  </fieldset>\r\n</form>\r\n'),e.put("plugins/forms2/html/form-inline.html",'<form class="hawtio-form-2 hawtio-form-2-inline" name="{{name}}">\r\n  <fieldset>\r\n    <legend ng-show="config.label || config.description" ng-hide="config.hideLegend">{{config.label || config.description}}</legend>\r\n  </fieldset>\r\n</form>\r\n'),e.put("plugins/forms2/html/form-standard.html",'<form class="hawtio-form-2 hawtio-form-2-standard" name="{{name}}">\r\n  <fieldset>\r\n    <legend ng-show="config.label || config.description" ng-hide="config.hideLegend">{{config.label || config.description}}</legend>\r\n  </fieldset>\r\n</form>\r\n'),e.put("plugins/forms2/html/form-unwrapped.html",'<div class="hawtio-form-2 hawtio-form-2-unwrapped">\r\n  <h4 ng-show="config.label || config.description" ng-hide="config.hideLegend || config.label == \'false\'">{{config.label || config.description}}</h4>\r\n\r\n</div>\r\n'),e.put("plugins/forms2/html/form2Map.html","<div>\r\n\r\n</div>\r\n"),e.put("plugins/forms2/html/forms2Array.html",'<div>\r\n  <script type="text/ng-template" id="header.html">\r\n    <th>{{control.label || name}}</th>\r\n  <\/script>\r\n  <script type="text/ng-template" id="emptyHeader.html">\r\n    <th></th>\r\n  <\/script>\r\n  <script type="text/ng-template" id="newItemHeader.html">\r\n    <th class="align-right">\r\n      <button ng-hide="config.mode == 0" class="button button-success" ng-click="createNewRow()">\r\n        <i class="fa fa-plus green" ></i>\r\n      </button>\r\n    </th>\r\n  <\/script>\r\n  <script type="text/ng-template" id="arrayRowTemplate.html">\r\n    <tr></tr>\r\n  <\/script>\r\n  <script type="text/ng-template" id="deleteRow.html">\r\n    <td class="align-right">\r\n      <button ng-hide="config.mode == 0" class=\'editRow\'><i class="fa fa-pencil yellow"></i></button>\r\n      <button ng-hide="config.mode == 0" class=\'deleteRow\'><i class="fa fa-minus red"></i></button>\r\n    </td>\r\n  <\/script>\r\n  <script type="text/ng-template" id="table.html">\r\n    <table class="table table-striped">\r\n      <thead>\r\n      </thead>\r\n      <tbody>\r\n      </tbody>\r\n    </table>\r\n  <\/script>\r\n</div> \r\n'),e.put("plugins/forms2/html/forms2Directive.html",'<div>\r\n  <script type="text/ng-template" id="wizardParent.html">\r\n    <div>\r\n      <div class="wizardParent" ng-switch="getCurrentPageId()">\r\n      </div>\r\n    </div>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="wizardButtons.html">\r\n    <div class="wizardButtons align-right">\r\n      <span>{{currentPageIndex + 1}} / {{pageIds.length}}</span>\r\n      <button class="btn btn-default back" ng-click="back()" ng-hide="atFront()">{{buttons.back}}</button>\r\n      <button class="btn btn-primary next" ng-click="next()" ng-hide="atBack()">{{buttons.next}}</button>\r\n      <button class="btn btn-primary finish" ng-click="onFinish()" ng-show="atBack()">{{buttons.finish}}</button>\r\n    </div>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="wizardPage.html">\r\n    <div class="wizardPage">\r\n      <h3></h3>\r\n      <div class="wizardPageBody">\r\n      </div>\r\n    </div>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="tabElement.html">\r\n    <div class="tabbable hawtio-form-tabs"></div>\r\n  <\/script>\r\n\r\n  <script type="text/ng-template" id="tabPage.html">\r\n    <div class="tab-pane"></div>\r\n  <\/script>\r\n</div>\r\n'),e.put("plugins/forms2/html/forms2Map.html",'<div>\r\n  <script type="text/ng-template" id="mapItemModal.html">\r\n    <div class="modal-header">\r\n      <h3 class="modal-title">{{header}}</h3>\r\n    </div>\r\n    <div class="modal-body">\r\n      <div class="row">\r\n        <div ng-show="description" ng-bind-html="description"></div>\r\n      </div>\r\n      <div class="row">\r\n        <div class="col-md-6">\r\n          <div hawtio-form-2="keySchema" entity="newKeyEntity"></div>\r\n        </div>\r\n        <div class="col-md-6">\r\n          <div hawtio-form-2="valueSchema" entity="newValueEntity"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="modal-footer">\r\n      <button class="btn btn-primary" ng-click="ok()">OK</button>\r\n      <button class="btn btn-warning" ng-click="cancel()">Cancel</button>\r\n    </div>\r\n  <\/script>\r\n  <script type="text/ng-template" id="table.html">\r\n    <table class="table table-striped">\r\n      <thead>\r\n        <tr>\r\n          <th>\r\n            Key\r\n          </th>\r\n          <th>\r\n            Value\r\n          </th>\r\n          <th class="align-right">\r\n            <button ng-hide="config.mode == 0" class="button button-success" ng-click="createRow()">\r\n              <i class="fa fa-plus green" ></i>\r\n            </button>\r\n          </th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n      </tbody>\r\n    </table>\r\n  <\/script>\r\n  <script type="text/ng-template" id="mapRowTemplate.html">\r\n    <tr>\r\n      <td>\r\n        <div class="inline form-map-key" hawtio-form-2="keySchema" entity="keys[\'{{key}}\']"></div>\r\n      </td>\r\n      <td>\r\n        <div class="inline form-map-value" hawtio-form-2="valueSchema" entity="values[\'{{key}}\']"></div>\r\n      </td>\r\n      <td class="align-right">\r\n        <button ng-hide="config.mode == 0" class="form-map-edit button button-warning" ng-click="editRow(\'{{key}}\')">\r\n          <i class="fa fa-pencil yellow"></i>\r\n        </button>\r\n        <button ng-hide="config.mode == 0" class="form-map-remove button button-danger" ng-click="deleteRow(\'{{key}}\')">\r\n          <i class="fa fa-remove red"></i>\r\n        </button>\r\n      </td>\r\n    </tr>\r\n  <\/script>\r\n\r\n</div>\r\n'),e.put("plugins/forms2/html/hidden.html",'<div class="form-group" ng-hide="true">\r\n  <input type="hidden" ng-model="{{model}}" name="{{name}}">\r\n</div>\r\n'),e.put("plugins/forms2/html/map.html",'<div class="row">\r\n  <div class="clearfix col-md-12">\r\n    <div class="row"><h4>{{control.label || maybeHumanize(name)}}</h4></div>\r\n    <div class="row">\r\n      <div class="inline-map"></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/object.html",'<div class="row">\r\n  <div class="clearfix col-md-12">\r\n    <div class="inline-object"></div>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/optionArray.html","<option>{{value}}</option>\r\n"),e.put("plugins/forms2/html/optionConfigObject.html",'<option value="{{value}}">{{label}}</option>\r\n'),e.put("plugins/forms2/html/optionObject.html",'<option value="{{value}}">{{key}}</option>\r\n'),e.put("plugins/forms2/html/radio-group-member.html",'<label>\r\n  <input type="radio" name="" value="">\r\n</label>\r\n'),e.put("plugins/forms2/html/radio-top-level.html",'<div class="radio">\r\n</div>\r\n'),e.put("plugins/forms2/html/select-horizontal.html",'<div class="form-group">\r\n  <label class="col-sm-2 control-label">{{control.label || maybeHumanize(name)}}</label>\r\n  <div class="col-sm-10">\r\n    <select ng-disabled="config.mode == 0" hawtio-combobox class="form-control" ng-model="{{model}}" name="{{name}}"></select>\r\n    <p class="help-block">{{control.description}}</p>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/select.html",'<div class="form-group">\r\n  <label class="control-label">{{control.label || maybeHumanize(name)}}</label>\r\n  <select ng-disabled="config.mode == 0" hawtio-combobox class="form-control" ng-model="{{model}}" name="{{name}}"></select>\r\n  <p class="help-block">{{control.description}}</p>\r\n</div>\r\n'),e.put("plugins/forms2/html/standard-horizontal-input.html",'<div class="form-group">\r\n  <label ng-hide="{{control.noLabel}}" class="col-sm-2 control-label">{{control.label || maybeHumanize(name)}}</label>\r\n  <div class="col-sm-10">\r\n    <input ng-disabled="config.mode == 0" type="" class="form-control" placeholder="{{control.placeholder}}" ng-model="{{model}}" name="{{name}}">\r\n    <p class="help-block">{{control.description}}</p>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/standard-input.html",'<div class="form-group">\r\n  <label ng-hide="{{control.noLabel}}" class="control-label">{{control.label || maybeHumanize(name)}}</label>\r\n  <input ng-disabled="config.mode == 0" type="" class="form-control" placeholder="{{control.placeholder}}" ng-model="{{model}}" name="{{name}}">\r\n  <p class="help-block">{{control.description}}</p>\r\n</div>\r\n'),e.put("plugins/forms2/html/static-horizontal-text.html",'<div class="form-group">\r\n  <label class="col-sm-2 control-label">{{control.label}}</label>\r\n  <div class="col-sm-10">\r\n    <p ng-hide="{{model}}" class="form-control-static">{{control.description}}</p>\r\n    <p ng-show="{{model}}" class="form-control-static" ng-bind="{{model}}"></p>\r\n  </div>\r\n</div>\r\n'),e.put("plugins/forms2/html/static-text.html",'<div class="form-group">\r\n  <label class="control-label">{{control.label}}</label>\r\n  <p ng-hide="{{model}}" class="form-control-static">{{control.description}}</p>\r\n  <p ng-show="{{model}}" class="form-control-static" ng-bind="{{model}}"></p>\r\n</div>\r\n')}]),hawtioPluginLoader.addModule("hawtio-forms-templates"),function(a){"use strict";var r=function(e,t){this.options=a.extend({},a.fn.combobox.defaults,t),this.$source=a(e),this.$container=this.setup(),this.$element=this.$container.find("input[type=text]"),this.$target=this.$container.find("input[type=hidden]"),this.$button=this.$container.find(".dropdown-toggle"),this.$menu=a(this.options.menu).appendTo("body"),this.template=this.options.template||this.template,this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.shown=!1,this.selected=!1,this.refresh(),this.transferAttributes(),this.listen()};r.prototype={constructor:r,setup:function(){var e=a(this.template());return this.$source.before(e),this.$source.hide(),e},disable:function(){this.$element.prop("disabled",!0),this.$button.attr("disabled",!0),this.disabled=!0,this.$container.addClass("combobox-disabled")},enable:function(){this.$element.prop("disabled",!1),this.$button.attr("disabled",!1),this.disabled=!1,this.$container.removeClass("combobox-disabled")},parse:function(){var t=this,n={},i=[],r=!1,o="";return this.$source.find("option").each(function(){var e=a(this);""!==e.val()?(n[e.text()]=e.val(),i.push(e.text()),e.prop("selected")&&(r=e.text(),o=e.val())):t.options.placeholder=e.text()}),this.map=n,r&&(this.$element.val(r),this.$target.val(o),this.$container.addClass("combobox-selected"),this.selected=!0),i},transferAttributes:function(){this.options.placeholder=this.$source.attr("data-placeholder")||this.options.placeholder,this.$element.attr("placeholder",this.options.placeholder),this.$target.prop("name",this.$source.prop("name")),this.$target.val(this.$source.val()),this.$source.removeAttr("name"),this.$element.attr("required",this.$source.attr("required")),this.$element.attr("rel",this.$source.attr("rel")),this.$element.attr("title",this.$source.attr("title")),this.$element.attr("class",this.$source.attr("class")),this.$element.attr("tabindex",this.$source.attr("tabindex")),this.$source.removeAttr("tabindex"),void 0!==this.$source.attr("disabled")&&this.disable()},select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).trigger("change"),this.$target.val(this.map[e]).trigger("change"),this.$source.val(this.map[e]).trigger("change"),this.$container.addClass("combobox-selected"),this.selected=!0,this.hide()},updater:function(e){return e},show:function(){var e=a.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),a(".dropdown-menu").on("mousedown",a.proxy(this.scrollSafety,this)),this.shown=!0,this},hide:function(){return this.$menu.hide(),a(".dropdown-menu").off("mousedown",a.proxy(this.scrollSafety,this)),this.$element.on("blur",a.proxy(this.blur,this)),this.shown=!1,this},lookup:function(e){return this.query=this.$element.val(),this.process(this.source)},process:function(e){var t=this;return e=a.grep(e,function(e){return t.matcher(e)}),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},template:function(){return"2"==this.options.bsVersion?'<div class="combobox-container"><input type="hidden" /> <div class="input-append"> <input type="text" autocomplete="off" /> <span class="add-on dropdown-toggle" data-dropdown="dropdown"> <span class="caret"/> <i class="icon-remove"/> </span> </div> </div>':'<div class="combobox-container"> <input type="hidden" /> <div class="input-group"> <input type="text" autocomplete="off" /> <span class="input-group-addon dropdown-toggle" data-dropdown="dropdown"> <span class="caret" /> <span class="glyphicon glyphicon-remove" /> </span> </div> </div>'},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,n=[],i=[],r=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?i.push(t):r.push(t):n.push(t);return n.concat(i,r)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(e){var n=this;return(e=a(e).map(function(e,t){return(e=a(n.options.item).attr("data-value",t)).find("a").html(n.highlighter(t)),e[0]})).first().addClass("active"),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=a(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},toggle:function(){this.disabled||(this.$container.hasClass("combobox-selected")?(this.clearTarget(),this.triggerChange(),this.clearElement()):this.shown?this.hide():(this.clearElement(),this.lookup()))},scrollSafety:function(e){"UL"==e.target.tagName&&this.$element.off("blur")},clearElement:function(){this.$element.val("").focus()},clearTarget:function(){this.$source.val(""),this.$target.val(""),this.$container.removeClass("combobox-selected"),this.selected=!1},triggerChange:function(){this.$source.trigger("change")},refresh:function(){this.source=this.parse(),this.options.items=this.source.length},listen:function(){this.$element.on("focus",a.proxy(this.focus,this)).on("blur",a.proxy(this.blur,this)).on("keypress",a.proxy(this.keypress,this)).on("keyup",a.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",a.proxy(this.keydown,this)),this.$menu.on("click",a.proxy(this.click,this)).on("mouseenter","li",a.proxy(this.mouseenter,this)).on("mouseleave","li",a.proxy(this.mouseleave,this)),this.$button.on("click",a.proxy(this.toggle,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~a.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 39:case 38:case 37:case 36:case 35:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.clearTarget(),this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){var t=this;this.focused=!1;var n=this.$element.val();this.selected||""===n||(this.$element.val(""),this.$source.val("").trigger("change"),this.$target.val("").trigger("change")),!this.mousedover&&this.shown&&setTimeout(function(){t.hide()},200)},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),a(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1}},a.fn.combobox=function(i){return this.each(function(){var e=a(this),t=e.data("combobox"),n="object"==typeof i&&i;t||e.data("combobox",t=new r(this,n)),"string"==typeof i&&t[i]()})},a.fn.combobox.defaults={bsVersion:"3",menu:'<ul class="typeahead typeahead-long dropdown-menu"></ul>',item:'<li><a href="#"></a></li>'},a.fn.combobox.Constructor=r}(window.jQuery),angular.module("dangle",[]),angular.module("dangle").directive("fsArea",[function(){"use strict";return{restrict:"E",scope:{onClick:"=",width:"=",height:"=",bind:"=",label:"@",field:"@",duration:"@",delay:"@",plot:"@",pointRadius:"@"},link:function(s,e,l){var t=20,n=20,i=30,r=80,o=s.width||1280,a=s.height||300,c=(l.interpolate,l.label||"Frequency"),u=l.class||"";o=o-r-n,a=a-t-i;var d=d3.time.scale().range([0,o]),h=d3.scale.linear().range([a,0]),p=d3.svg.axis().scale(d).orient("bottom"),f=d3.svg.axis().scale(h).orient("left"),g=d3.svg.line().x(function(e){return d(e.time)}).y(function(e){return h(e.count)}),m=d3.svg.area().x(function(e){return d(e.time)}).y0(a).y1(function(e){return h(e.count)});"true"==l.interpolate&&(g.interpolate("cardinal"),m.interpolate("cardinal"));var v=d3.select(e[0]).append("svg").attr("preserveAspectRatio","xMinYMin").attr("viewBox","0 0 "+(o+r+n)+" "+(a+t+i)).append("g").attr("transform","translate("+r+","+t+")");v.append("path").datum([]).attr("class","area fill "+u).attr("d",m),v.append("g").attr("class","area x axis "+u).attr("transform","translate(0,"+a+")").call(p),v.append("g").attr("class","area y axis "+u).call(f).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(c),v.append("path").datum([]).attr("class","area line "+u).attr("d",g),s.$watch("bind",function(e){var t=s.duration||0,n=(s.delay,s.plot||"true"),i=s.pointRadius||8,r=s.field||l.bind.split(".").pop().toLowerCase();if(e){e=e.entries||[],d.domain(d3.extent(e,function(e){return e.time})),h.domain([0,d3.max(e,function(e){return e.count})]);var o=v.transition().duration(t);if(o.select(".area").attr("d",m(e)),o.select(".line").attr("d",g(e)),"true"==n){var a=v.selectAll("circle").data(e.filter(function(e){return e.count}),function(e){return Math.random()});a.enter().append("circle").attr("class","area line points "+u).attr("cursor","pointer").attr("cx",g.x()).attr("cy",g.y()).style("opacity",0).transition().duration(t).style("opacity",1).attr("cx",g.x()).attr("cy",g.y()).attr("r",i),a.on("mousedown",function(e){s.$apply(function(){(s.onClick||angular.noop)(r,e.time)})}),a.exit().remove()}o.select(".x").call(p),o.select(".y").call(f)}})}}}]),angular.module("dangle").directive("fsBar",[function(){return{restrict:"E",scope:{onClick:"=",width:"=",height:"=",bind:"=",duration:"@"},link:function(o,e,a){var t=10,n=10,i=10,r=10,s=o.width||300,l=o.height||1020;s=s-r-n,l=l-t-i;var c=a.class||"",u=a.align||"left",d="right"===u?"xMaxYMin":"xMinYMin",h=d3.scale.linear().range([0,s]),p=d3.scale.ordinal().rangeBands([0,l],.1),f=d3.select(e[0]).append("svg").attr("preserveAspectRatio",d+" meet").attr("viewBox","0 0 "+(s+r+n)+" "+(l+t+i)).append("g").attr("transform","translate("+r+","+t+")");o.$watch("bind",function(e){var t=o.duration||0,n=(o.delay,o.field||a.bind.split(".").pop().toLowerCase());if(e){e=e.terms||[],h.domain([0,2*d3.max(e,function(e){return e.count})]),p.domain(e.map(function(e){return e.term}));var i=f.selectAll("rect").data(e,function(e){return Math.random()});i.enter().append("rect").attr("class","bar rect "+c).attr("cursor","pointer").attr("y",function(e){return p(e.term)}).attr("height",p.rangeBand()).attr("x",function(e){return"right"===u?s:0}).transition().duration(t).attr("width",function(e){return h(e.count)}).attr("x",function(e){return"right"===u?s-h(e.count):0}),i.on("mousedown",function(e){o.$apply(function(){(o.onClick||angular.noop)(n,e.term)})}),i.exit().remove();var r=f.selectAll("text").data(e,function(e){return Math.random()});r.enter().append("text").attr("class","bar text "+c).attr("cursor","pointer").attr("y",function(e){return p(e.term)+p.rangeBand()/2}).attr("x",function(e){return"right"===u?s-h(e.count)-3:h(e.count)+3}).attr("dy",".35em").attr("text-anchor",function(e){return"right"===u?"end":"start"}).text(function(e){return"right"===u?"("+e.count+") "+e.term:e.term+" ("+e.count+")"}),r.on("mousedown",function(e){o.$apply(function(){(o.onClick||angular.noop)(n,e.term)})}),r.exit().remove()}})}}}]),angular.module("dangle").directive("fsColumn",[function(){"use strict";return{restrict:"E",scope:{fontSize:"=",onClick:"=",width:"=",height:"=",bind:"="},link:function(t,e,n){var i=20,r=20,o=30,a=40,s=t.width||960,l=t.height||500,c=n.color||"steelblue",u=n.fontColor||"#000",d=t.fontSize||14,h=n.label||"Frequency";null==n.field&&(n.field=n.bind.split(".").pop().toLowerCase()),s=s-a-r,l=l-i-o;var p=d3.scale.ordinal().rangeRoundBands([0,s],.1),f=d3.scale.linear().range([l,0]),g=d3.svg.axis().scale(p).orient("bottom"),m=d3.svg.axis().scale(f).orient("left"),v=d3.select(e[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+(s+a+r)+" "+(l+i+o)).append("g").attr("transform","translate("+a+","+i+")");t.$watch("bind",function(e){e&&(e=e.terms||[],v.selectAll("*").remove(),p.domain(e.map(function(e){return e.term})),f.domain([0,d3.max(e,function(e){return e.count})]),v.append("g").attr("fill",u).attr("font-size",d).attr("class","x axis").attr("transform","translate(0,"+l+")").call(g),v.append("g").attr("class","y axis").attr("font-size",d).attr("fill",u).call(m).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".51em").style("text-anchor","end").text(h),v.selectAll(".bar").data(e).enter().append("rect").attr("fill",c).attr("x",function(e){return p(e.term)}).attr("width",p.rangeBand()).attr("y",function(e){return f(e.count)}).attr("height",function(e){return l-f(e.count)}).on("mousedown",function(e){t.$apply(function(){(t.onClick||angular.noop)(n.field,e.term)})}))})}}}]),angular.module("dangle").directive("fsDateHisto",[function(){"use strict";return{restrict:"E",scope:{onClick:"=",width:"=",height:"=",bind:"=",label:"@",field:"@",duration:"@",delay:"@",interval:"@"},link:function(c,e,u){var t=20,n=20,i=30,r=80,d=c.width||1280,h=c.height||300,o=u.label||"Frequency",p=u.class||"";d=d-r-n,h=h-t-i;var f=d3.time.scale().range([0,d]),g=d3.scale.linear().range([h,0]),m=d3.svg.axis().scale(f).orient("bottom"),v=d3.svg.axis().scale(g).orient("left"),y=d3.select(e[0]).append("svg").attr("preserveAspectRatio","xMinYMin").attr("viewBox","0 0 "+(d+r+n)+" "+(h+t+i)).append("g").attr("transform","translate("+r+","+t+")");y.append("g").attr("class","histo x axis "+p).attr("transform","translate(0,"+h+")").call(m),y.append("g").attr("class","histo y axis "+p).call(v).append("text").attr("transform","rotate(-90)").attr("y",6).attr("dy",".51em").style("text-anchor","end").text(o),c.$watch("bind",function(e){var t=c.duration||0,n=c.delay||0,i=c.field||u.bind.split(".").pop().toLowerCase(),r=c.interval||"day";if(e){e=e.entries||[];var o=d/e.length-2,a=864e5;switch(r.toLowerCase()){case"minute":a=6e4;break;case"hour":a=36e5;break;case"day":a=864e5;break;case"week":a=6048e5;break;case"month":a=263e7;break;case"year":a=3156e7}f.domain([d3.min(e,function(e){return e.time}),d3.max(e,function(e){return e.time})+a]),g.domain([0,d3.max(e,function(e){return e.count})]);var s=y.transition().duration(t),l=y.selectAll("rect").data(e,function(e){return Math.random()});l.enter().append("rect").attr("class","histo rect "+p).attr("cursor","pointer").attr("x",function(e){return f(e.time)}).attr("y",function(e){return h}).attr("width",o).transition().delay(function(e,t){return t*n}).duration(t).attr("height",function(e){return h-g(e.count)}).attr("y",function(e){return g(e.count)}),l.on("mousedown",function(e){c.$apply(function(){(c.onClick||angular.noop)(i,e.time)})}),l.exit().remove(),s.select(".x").call(m),s.select(".y").call(v)}},!0)}}}]),angular.module("dangle").directive("fsDonut",[function(){"use strict";return{restrict:"E",scope:{outerRadius:"=",innerRadius:"=",fontSize:"=",domain:"=",colorMap:"=",onClick:"=",bind:"=",duration:"@"},link:function(d,e,h){var p=d.outerRadius||200,t=d.innerRadius||0,f=(d.fontSize,h.fontColor,void 0);null==h.field&&(h.field=h.bind.split(".").pop().toLowerCase()),void 0===d.colorMap?(f=d3.scale.category20c(),void 0!==d.domain&&f.domain(d.domain)):f=function(e){return d.colorMap[e]};var n=3*p+30,i=p*(/Trident\/7\./.test(navigator.userAgent)&&d.$parent.inDashboard?.25:3),g=d3.svg.arc().outerRadius(p-10).innerRadius(t),m=d3.layout.pie().sort(null).value(function(e){return e.count}),r="xMinYMin meet";/Trident\/7\./.test(navigator.userAgent)&&d.$parent.inDashboard&&(r="xMinYMax meet");var v=d3.select(e[0]).append("svg").attr("preserveAspectRatio",r).attr("viewBox","0 0 "+n+" "+i),y=v.append("g").attr("transform","translate("+n/2+","+i/2+") rotate(180) scale(-1, -1)"),b=v.append("g").attr("class","label_group").attr("transform","translate("+n/2+","+i/2+")");d.$watch("bind",function(e){var t=d.duration||0;function n(e,t){var n=(this._current.startAngle+this._current.endAngle-Math.PI)/2,i=(e.startAngle+e.endAngle-Math.PI)/2,r=d3.interpolateNumber(n,i);return function(e){var t=r(e);return"translate("+Math.cos(t)*(p+14)+","+Math.sin(t)*(p+14)+")"}}var i=function(e){return(e.startAngle+e.endAngle)/2<Math.PI?"beginning":"end"};if(e){e=e.terms||[];for(var r=m(e),o=0,a=0;a<e.length;a++)o+=e[a].count;if(0<o){var s=y.selectAll("path").data(r);s.enter().append("path").attr("d",g).attr("stroke","#fff").attr("stroke-width","1.5").attr("cursor","pointer").style("fill",function(e){return f(e.data.term)}).each(function(e){this._current=e}).on("mousedown",function(e){d.$apply(function(){(d.onClick||angular.noop)(h.field,e.data.term)})}),s.transition().duration(t).attrTween("d",function(e,t){return t=d3.interpolate(this._current,e),this._current=t(0),function(e){return g(t(e))}});var l=b.selectAll("line").data(r);l.enter().append("line").attr("x1",0).attr("x2",0).attr("y1",-p-3).attr("y2",-p-8).attr("stroke","grey").attr("stroke-width",2).attr("transform",function(e){return"rotate("+(e.startAngle+e.endAngle)/2*(180/Math.PI)+")"}).each(function(e){this._current=e}),l.transition().duration(750).attr("transform",function(e){return"rotate("+(e.startAngle+e.endAngle)/2*(180/Math.PI)+")"}),l.exit().remove();var c=b.selectAll("text.value").data(r).attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?17:-17}).attr("text-anchor",i).text(function(e){return(e.value/o*100).toFixed(1)+"%"});c.enter().append("text").attr("class","value").attr("font-size",20).attr("font-weight","bold").attr("transform",function(e){return"translate("+Math.cos((e.startAngle+e.endAngle-Math.PI)/2)*(p+14)+","+Math.sin((e.startAngle+e.endAngle-Math.PI)/2)*(p+14)+")"}).attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?17:-17}).attr("text-anchor",i).text(function(e){return(e.value/o*100).toFixed(1)+"%"}).each(function(e){this._current=e}),c.transition().duration(t).attrTween("transform",n),c.exit().remove();var u=b.selectAll("text.units").data(r).attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?36:2}).attr("text-anchor",function(e){return(e.startAngle+e.endAngle)/2<Math.PI?"beginning":"end"}).text(function(e){return"T"===e.data.term?"TRUE ("+e.value+")":"F"===e.data.term?"FALSE ("+e.value+")":e.data.term+" ("+e.value+")"});u.enter().append("text").attr("class","units").attr("font-size",16).attr("stroke","none").attr("fill","#000").attr("transform",function(e){return"translate("+Math.cos((e.startAngle+e.endAngle-Math.PI)/2)*(p+14)+","+Math.sin((e.startAngle+e.endAngle-Math.PI)/2)*(p+14)+")"}).attr("dy",function(e){return(e.startAngle+e.endAngle)/2>Math.PI/2&&(e.startAngle+e.endAngle)/2<1.5*Math.PI?36:2}).attr("text-anchor",i).text(function(e){return"T"===e.data.term?"TRUE ("+e.value+")":"F"===e.data.term?"FALSE ("+e.value+")":e.data.term+" ("+e.value+")"}).each(function(e){this._current=e}),u.transition().duration(t).attrTween("transform",n),u.exit().remove()}else v.selectAll("path").remove(),b.selectAll("line").remove(),b.selectAll("text.value").remove(),b.selectAll("text.units").remove()}})}}}]),angular.module("dangle").directive("fsPie",[function(){"use strict";return{restrict:"E",scope:{outerRadius:"=",innerRadius:"=",fontSize:"=",domain:"=",colorMap:"=",onClick:"=",bind:"="},link:function(n,e,i){var t=n.outerRadius||200,r=n.innerRadius||0,o=n.fontSize||14,a=i.fontColor||"#fff",s=void 0;null==i.field&&(i.field=i.bind.split(".").pop().toLowerCase()),null==n.colorMap?(s=d3.scale.category20c(),void 0!==n.domain&&s.domain(n.domain)):s=function(e){return n.colorMap[e]};var l=d3.svg.arc().outerRadius(t-10).innerRadius(r),c=d3.layout.pie().sort(null).value(function(e){return e.count}),u=d3.select(e[0]).append("svg").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 "+2*t+" "+2*t).append("g").attr("transform","translate("+t+","+t+") rotate(180) scale(-1, -1)");n.$watch("bind",function(e){if(e){e=e.terms||[],u.selectAll("*").remove();var t=u.selectAll(".arc").data(c(e)).enter().append("g").attr("class","arc").on("mousedown",function(e){n.$apply(function(){(n.onClick||angular.noop)(i.field,e.data.term)})});t.append("path").attr("d",l).style("fill",function(e){return s(e.data.term)}),t.append("text").attr("transform",function(e){return"translate("+l.centroid(e)+")"}).attr("dy",".55em").style("text-anchor","middle").attr("fill",a).attr("font-size",o).text(function(e){return e.data.term})}})}}}]),function(){dagre={version:"0.0.5",graph:{},graph:function(){var i={},r={},o={},a={},s={};function l(e,t,n){var i=e[t];i||(i=e[t]={count:0,edges:{}}),i.count++,i.edges[n]=!0}function n(e,t,n){var i=e[t];0==--i.count?delete e[t]:delete i.edges[n]}function c(e){var t=i[e];if(!(e in i))throw new Error("Node '"+e+"' is not in buildGraph:\n"+s.toString());return t}function u(e){var t=a[e];if(!t)throw new Error("Edge '"+e+"' is not in buildGraph:\n"+s.toString());return t}return s.addNode=function(e,t){if(s.hasNode(e))throw new Error("Graph already has node '"+e+"':\n"+s.toString());i[e]={id:e,value:t},r[e]={},o[e]={}},s.delNode=function(e){c(e),s.edges(e).forEach(function(e){s.delEdge(e)}),delete r[e],delete o[e],delete i[e]},s.node=function(e){return c(e).value},s.hasNode=function(e){return e in i},s.addEdge=function(e,t,n,i){if(c(t),c(n),s.hasEdge(e))throw new Error("Graph already has edge '"+e+"':\n"+s.toString());a[e]={id:e,source:t,target:n,value:i},l(r[n],t,e),l(o[t],n,e)},s.delEdge=function(e){var t=u(e);n(r[t.target],t.source,e),n(o[t.source],t.target,e),delete a[e]},s.edge=function(e){return u(e).value},s.source=function(e){return u(e).source},s.target=function(e){return u(e).target},s.hasEdge=function(e){return e in a},s.successors=function(e){return c(e),d(o[e]).map(function(e){return i[e].id})},s.predecessors=function(e){return c(e),d(r[e]).map(function(e){return i[e].id})},s.neighbors=function(e){c(e);var t={};return d(o[e]).map(function(e){t[e]=!0}),d(r[e]).map(function(e){t[e]=!0}),d(t).map(function(e){return i[e].id})},s.nodes=function(){var n=[];return s.eachNode(function(e,t){n.push(e)}),n},s.eachNode=function(e){for(var t in i){var n=i[t];e(n.id,n.value)}},s.edges=function(e,t){var n,i;return arguments.length?1===arguments.length?function(e){for(var t={},n=0;n<e.length;++n)for(var i=e[n],r=0;r<i.length;++r){var o=i[r];t[o]=o}var a=[];for(var s in t)a.push(t[s]);return a}([s.inEdges(e),s.outEdges(e)]):2===arguments.length?(c(e),c(t),i=o[e],(n=t in i?d(i[t].edges):[]).map(function(e){return a[e].id})):void 0:(n=[],s.eachEdge(function(e){n.push(e)}),n)},s.eachEdge=function(e){for(var t in a){var n=a[t];e(n.id,n.source,n.target,n.value)}},s.inEdges=function(e){return c(e),S(k(r[e]).map(function(e){return d(e.edges)}))},s.outEdges=function(e){return c(e),S(k(o[e]).map(function(e){return d(e.edges)}))},s.subgraph=function(e){var t=dagre.graph();return e.forEach(function(e){t.addNode(e,s.node(e))}),k(a).forEach(function(e){t.hasNode(e.source)&&t.hasNode(e.target)&&t.addEdge(e.id,e.source,e.target,s.edge(e.id))}),t},s.toString=function(){var n="GRAPH:\n";return n+="    Nodes:\n",d(i).forEach(function(e){n+="        "+e+": "+JSON.stringify(i[e].value)+"\n"}),n+="    Edges:\n",d(a).forEach(function(e){var t=a[e];n+="        "+e+" ("+t.source+" -> "+t.target+"): "+JSON.stringify(a[e].value)+"\n"}),n},s}},dagre.layout=function(){var n={nodes:[],edges:[],debugLevel:0},t=r(),i=dagre.layout.acyclic(),s=dagre.layout.rank(),l=dagre.layout.order(),c=dagre.layout.position(),u={};return u.nodes=f(u,n,"nodes"),u.edges=f(u,n,"edges"),u.orderIters=e(l.iterations),u.nodeSep=e(c.nodeSep),u.edgeSep=e(c.edgeSep),u.rankSep=e(c.rankSep),u.rankDir=e(c.rankDir),u.debugAlignment=e(c.debugAlignment),u.debugLevel=f(u,n,"debugLevel",function(e){t.enabled(e),i.debugLevel(e),s.debugLevel(e),l.debugLevel(e),c.debugLevel(e)}),u.run=t.wrap("Total layout",function(){var e=u.rankSep();try{if(!n.nodes.length)return;var t=(o=dagre.graph(),a=0,n.nodes.forEach(function(e){var t="id"in e?e.id:"_N"+a++;e.dagre={id:t,width:e.width,height:e.height},o.addNode(t,e.dagre)}),n.edges.forEach(function(e){var t=e.source.dagre.id;if(!o.hasNode(t))throw new Error("Source node for '"+e+"' not in node list");var n=e.target.dagre.id;if(!o.hasNode(n))throw new Error("Target node for '"+e+"' not in node list");if(e.dagre={points:[]},t!==n){var i="id"in e?e.id:"_E"+a++;e.dagre.id=i,e.dagre.minLen=e.minLen||1,e.dagre.width=e.width||0,e.dagre.height=e.height||0,o.addEdge(i,t,n,e.dagre)}}),o);t.eachEdge(function(e,t,n,i){i.minLen*=2}),u.rankSep(e/2),i.run(t),s.run(t),h=0,(d=t).eachEdge(function(e,t,n,i){var r=d.node(t).rank,o=d.node(n).rank;if(r+1<o){for(var a=t,s=r+1,l=0;s<o;++s,++l){var c="_D"+ ++h,u={width:i.width,height:i.height,edge:{id:e,source:t,target:n,attrs:i},index:l,rank:s,dummy:!0};d.addNode(c,u),d.addEdge("_D"+ ++h,a,c,{}),a=c}d.addEdge("_D"+ ++h,a,n,{}),d.delEdge(e)}}),l.run(t),c.run(t),(r=t).eachNode(function(e,t){if(t.dummy){var n=t.edge;r.hasEdge(n.id)||r.addEdge(n.id,n.source,n.target,n.attrs);var i=r.edge(n.id).points;i[t.index]={x:t.x,y:t.y},r.delNode(e)}}),t.eachEdge(function(e,t,n,i){i.reversed&&i.points.reverse()}),i.undo(t)}finally{u.rankSep(e)}var r;var d,h;var o,a;return u}),u;function e(e){return function(){return arguments.length?(e.apply(null,arguments),u):e()}}},dagre.layout.acyclic=function(){var e={debugLevel:0},t=r(),n={};return n.debugLevel=f(n,e,"debugLevel",function(e){t.enabled(e)}),n.run=t.wrap("Acyclic Phase",function(o){var a={},t={},s=0;o.eachNode(function(e){!function i(r){r in t||(t[r]=a[r]=!0,o.outEdges(r).forEach(function(e){var t,n=o.target(e);n in a?(t=o.edge(e),o.delEdge(e),t.reversed=!0,++s,o.addEdge(e,n,r,t)):i(n)}),delete a[r])}(e)}),2<=e.debugLevel&&console.log("Acyclic Phase: reversed "+s+" edge(s)")}),n.undo=function(r){r.eachEdge(function(e,t,n,i){i.reversed&&(delete i.reversed,r.delEdge(e),r.addEdge(e,n,t,i))})},n},dagre.layout.rank=function(){var t=r(),e={};return e.debugLevel=f(e,{debugLevel:0},"debugLevel",function(e){t.enabled(e)}),e.run=t.wrap("Rank Phase",function(r){(function(n){var i={},r=s();n.eachNode(function(e){r.add(e,n.inEdges(e).length),i[e]=0});for(;0<r.size();){var e=r.min();if(0<r.priority(e))throw new Error("Input buildGraph is not acyclic: "+n.toString());r.removeMin();var o=i[e];n.node(e).rank=o,n.outEdges(e).forEach(function(e){var t=n.target(e);i[t]=Math.max(i[t],o+(n.edge(e).minLen||1)),r.decrease(t,r.priority(t)-1)})}})(r),n(r).forEach(function(e){var t,n,i=r.subgraph(e);!function(o){var a={};o.eachEdge(function(e,t,n,i){var r=l(t,n);a[r]=Math.max(a[r]||1,i.minLen||1)});var e=dagre.util.prim(o,function(e,t){return Math.abs(o.node(e).rank-o.node(t).rank)-a[l(e,t)]}),s={};(function n(i,r){s[i]=!0,o.node(i).rank=r,e[i].forEach(function(e){if(!(e in s)){var t=a[l(i,e)];n(e,r+(o.edges(i,e).length?t:-t))}})})(o.nodes()[0],0)}(i),n=x((t=i).nodes().map(function(e){return t.node(e).rank})),t.eachNode(function(e,t){t.rank-=n})})}),e;function l(e,t){return e<t?e.length+":"+e+"-"+t:t.length+":"+t+"-"+e}},dagre.layout.order=function(){var c={iterations:24,debugLevel:0},t=r(),e={};return e.iterations=f(e,c,"iterations"),e.debugLevel=f(e,c,"debugLevel",function(e){t.enabled(e)}),e.run=t.wrap("Order Phase",function(n){var e,t,i,r=(s=n,l=[],s.eachNode(function(e,t){(l[t.rank]||(l[t.rank]=[])).push(e)}),l),o=d(r),a=h(n,r);var s,l;2<=c.debugLevel&&console.log("Order phase start cross count: "+a);for(i=t=0;i<4&&t<c.iterations;++t,++i)(e=u(n,t,r))<a&&(o=d(r),a=e,i=0),3<=c.debugLevel&&console.log("Order phase iter "+t+" cross count: "+a);o.forEach(function(e){e.forEach(function(e,t){n.node(e).order=t})}),2<=c.debugLevel&&(console.log("Order iterations: "+t),console.log("Order phase best cross count: "+a));return o}),e;function u(e,t,n){var i,r=0;if(t%2==0)for(i=1;i<n.length;++i)o(e,n[i-1],n[i],"inEdges"),r+=a(e,n[i-1],n[i]);else for(i=n.length-2;0<=i;--i)o(e,n[i+1],n[i],"outEdges"),r+=a(e,n[i],n[i+1]);return r}function o(e,t,n,i){for(var o,r,a,s,l,c=p(n),u=(o=e,r=n,a=i,s=p(t),l={},r.forEach(function(i){var r=-1,e=o[a](i);0<e.length&&(r=0,e.forEach(function(e){var t=o.source(e),n=t===i?o.target(e):t;r+=s[n]}),r/=e.length),l[i]=r}),l),d=n.slice(0).sort(function(e,t){return u[e]-u[t]||c[e]-c[t]}),h=n.length-1;0<=h;--h)-1!==u[n[h]]&&(n[h]=d.pop())}function d(e){return e.map(function(e){return e.slice(0)})}};var h=dagre.layout.order.crossCount=function(t,e){var n,i=0;return e.forEach(function(e){n&&(i+=a(t,n,e)),n=e}),i},a=dagre.layout.order.bilayerCrossCount=function(n,e,t){var i=p(t),r=[];e.forEach(function(e){var t=[];n.outEdges(e).forEach(function(e){t.push(i[n.target(e)])}),t.sort(function(e,t){return e-t}),r=r.concat(t)});for(var o=1;o<t.length;)o<<=1;var a=2*o-1;o-=1;for(var s=[],l=0;l<a;++l)s[l]=0;var c=0;return r.forEach(function(e){var t=e+o;++s[t];for(;0<t;)t%2&&(c+=s[t+1]),++s[t=t-1>>1]}),c};function p(e){var n={};return e.forEach(function(e,t){n[e]=t}),n}function c(t,n){Object.keys(t).forEach(function(e){n[e]=t[e]})}function x(e){return Math.min.apply(null,e)}function C(e){return Math.max.apply(null,e)}function S(e){return Array.prototype.concat.apply([],e)}dagre.layout.position=function(){var v={nodeSep:50,edgeSep:10,rankSep:30,rankDir:"TB",debugAlignment:null,debugLevel:0},t=r(),e={};return e.nodeSep=f(e,v,"nodeSep"),e.edgeSep=f(e,v,"edgeSep"),e.rankSep=f(e,v,"rankSep"),e.rankDir=f(e,v,"rankDir"),e.debugAlignment=f(e,v,"debugAlignment"),e.debugLevel=f(e,v,"debugLevel",function(e){t.enabled(e)}),e.run=t.wrap("Position Phase",function(p){var f=[];p.eachNode(function(e,t){var n=f[t.rank]||(f[t.rank]=[]);n[t.order]=e});var g=function(n,e){var i={},r={};e[0].forEach(function(e,t){r[e]=t});for(var t=1;t<e.length;++t)for(var o=e[t],a=0,s=0,l=0;l<o.length;++l){var c=o[l];r[c]=l;var u=null;if(n.node(c).dummy&&n.predecessors(c).some(function(e){return!!n.node(e).dummy&&(u=r[e],!0)}),null===u&&l===o.length-1&&(u=e[t-1].length-1),null!==u){for(;s<=l;++s){var d=o[s];n.inEdges(d).forEach(function(e){var t=r[n.source(e)];(t<a||u<t)&&(i[e]=!0)})}a=u}}return i}(p,f),m={};["up","down"].forEach(function(h){"down"===h&&f.reverse(),["left","right"].forEach(function(e){"right"===e&&b(f);var t,n,r,i,o,a,s,l,c,u=h+"-"+e;if(!v.debugAlignment||v.debugAlignment===u){var d=(r=p,o=g,a="up"===h?"predecessors":"successors",s={},l={},c={},(i=f).forEach(function(e){e.forEach(function(e,t){l[e]=e,c[e]=e,s[e]=t})}),i.forEach(function(e){var i=-1;e.forEach(function(t){var e=r[a](t);if(0<e.length){e.sort(function(e,t){return s[e]-s[t]});var n=(e.length-1)/2;e.slice(Math.floor(n),Math.ceil(n)+1).forEach(function(e){c[t]===t&&!o[S([r.edges(t,e),r.edges(e,t)])[0]]&&i<s[e]&&(c[e]=t,c[t]=l[t]=l[e],i=s[e])})}})}),{pos:s,root:l,align:c});m[u]=function(o,e,a,s,l){var c={},u={},d={},h={};e.forEach(function(n){n.forEach(function(e,t){c[e]=e,d[e]=0<t?n[t-1]:null})}),k(s).forEach(function(e){!function e(t){if(!(t in h)){h[t]=0;var n=t;do{if(0<a[n]){var i=s[d[n]];e(i),c[t]===t&&(c[t]=c[i]);var r=y(o,d[n])+y(o,n);c[t]!==c[i]?u[c[i]]=Math.min(u[c[i]]||Number.POSITIVE_INFINITY,h[t]-h[i]-r):h[t]=Math.max(h[t],h[i]+r)}n=l[n]}while(n!==t)}}(e)});var n=0;return e.forEach(function(e){var t=u[e[0]];void 0===t&&(t=0),n=u[e[0]]=t+n}),e.forEach(function(e){e.forEach(function(e){if(h[e]=h[s[e]],s[e]===e){var t=u[c[e]];t<Number.POSITIVE_INFINITY&&(h[e]+=t)}})}),h}(p,f,d.pos,d.root,d.align),"right"===e&&(t=m[u],n=C(k(t)),Object.keys(t).forEach(function(e){t[e]=n-t[e]}))}"right"===e&&b(f)}),"down"===h&&f.reverse()}),v.debugAlignment?p.eachNode(function(e,t){w(p,e,m[v.debugAlignment][e])}):(r=p,o=f,i=m,l=Number.POSITIVE_INFINITY,k(i).forEach(function(e){var t=c(r,o,e),n=u(r,o,e),i=n-t;i<l&&(a=t,s=n,l=i)}),["up","down"].forEach(function(e){var t=i[e+"-left"],n=a-c(r,o,t);n&&d(n,t)}),["up","down"].forEach(function(e){var t=i[e+"-right"],n=s-u(r,o,t);n&&d(n,t)}),p.eachNode(function(t){var e=k(m).map(function(e){return e[t]}).sort(function(e,t){return e-t});w(p,t,(e[1]+e[2])/2)}));var r,o,i,a,s,l;var t=x(p.nodes().map(function(e){return w(p,e)-h(p,e)/2}));p.eachNode(function(e){w(p,e,w(p,e)-t)});var n=0;f.forEach(function(e){var t=C(e.map(function(e){return function(e,t){switch(v.rankDir){case"LR":return e.node(t).width;default:return e.node(t).height}}(p,e)}));n+=t/2,e.forEach(function(e){!function(e,t,n){switch(v.rankDir){case"LR":if(arguments.length<3)return e.node(t).x;e.node(t).x=n;break;default:if(arguments.length<3)return e.node(t).y;e.node(t).y=n}}(p,e,n)}),n+=t/2+v.rankSep})}),e;function y(e,t){var n=e.node(t).dummy?v.edgeSep:v.nodeSep;return h(e,t)/2+n/2}function c(n,e,i){return x(e.map(function(e){var t=e[0];return i[t]-h(n,t)/2}))}function u(n,e,i){return C(e.map(function(e){var t=e[e.length-1];return i[t]-h(n,t)/2}))}function d(t,n){Object.keys(n).forEach(function(e){n[e]+=t})}function b(e){e.forEach(function(e){e.reverse()})}function h(e,t){switch(v.rankDir){case"LR":return e.node(t).height;default:return e.node(t).width}}function w(e,t,n){switch(v.rankDir){case"LR":if(arguments.length<3)return e.node(t).y;e.node(t).y=n;break;default:if(arguments.length<3)return e.node(t).x;e.node(t).x=n}}},dagre.util={};var d=dagre.util.keys=Object.keys;function k(t){return Object.keys(t).map(function(e){return t[e]})}var n=dagre.util.components=function(i){var n=[],r={};return i.eachNode(function(e){var t=[];!function t(e,n){e in r||(r[e]=!0,n.push(e),i.neighbors(e).forEach(function(e){t(e,n)}))}(e,t),0<t.length&&n.push(t)}),n},r=(dagre.util.prim=function(e,i){var r,t={},o={},a=s();if(0===e.nodes().length)return t;e.eachNode(function(e){a.add(e,Number.POSITIVE_INFINITY),t[e]=[]}),a.decrease(e.nodes()[0],0);for(var n=!1;0<a.size();){if((r=a.removeMin())in o)t[r].push(o[r]),t[o[r]].push(r);else{if(n)throw new Error("Input buildGraph is not connected:\n"+e.toString());n=!0}e.neighbors(r).forEach(function(e){var t=a.priority(e);if(void 0!==t){var n=i(r,e);n<t&&(o[e]=r,a.decrease(e,n))}})}return t},dagre.util.intersectRect=function(e,t){var n,i,r=e.x,o=e.y,a=t.x-r,s=t.y-o,l=e.width/2,c=e.height/2;return Math.abs(s)*l>Math.abs(a)*c?(s<0&&(c=-c),n=0===s?0:c*a/s,i=c):(a<0&&(l=-l),n=l,i=0===a?0:l*s/a),{x:r+n,y:o+i}},dagre.util.pointStr=function(e){return e.x+","+e.y},function(){var t={},i=!1;return t.enabled=function(e){return arguments.length?(i=e,t):i},t.wrap=function(t,n){return function(){var e=i?(new Date).getTime():null;try{return n.apply(null,arguments)}finally{e&&console.log(t+" time: "+((new Date).getTime()-e)+"ms")}}},t});function f(t,n,i,r){return function(e){return arguments.length?(n[i]=e,r&&r(e),t):n[i]}}function s(){var a=[],o={};function r(e){for(var t,n=a,i=n[e].pri;0<e&&!(n[t=e>>1].pri<i);)s(e,t),e=t}function s(e,t){var n=a,i=o,r=n[e];n[e]=n[t],n[t]=r,i[n[e].key]=e,i[n[t].key]=t}function e(){return a.length}return{size:e,keys:function(){return Object.keys(o)},has:function(e){return e in o},priority:function(e){var t=o[e];if(void 0!==t)return a[t].pri},add:function(e,t){if(e in o)return!1;var n={key:e,pri:t},i=a.length;return o[e]=i,a.push(n),r(i),!0},min:function(){if(0<e())return a[0].key},removeMin:function(){s(0,a.length-1);var e=a.pop();return delete o[e.key],function e(t){var n=a,i=2*t,r=i+1,o=t;i<n.length&&(o=n[i].pri<n[o].pri?i:o,r<n.length&&(o=n[r].pri<n[o].pri?r:o),o!==t&&(s(t,o),e(o)))}(0),e.key},decrease:function(e,t){var n=o[e];if(t>a[n].pri)throw new Error("New priority is greater than current priority. Key: "+e+" Old: "+a[n].pri+" New: "+t);a[n].pri=t,r(n)}}}dagre.dot={},dagre.dot.toGraph=function(e){var t=dot_parser.parse(e),s=dagre.graph(),r="buildGraph"===t.type;var l={};function o(e,t,n){var i=e+"-"+t,r=l[i];r||(r=l[i]=0),l[i]++;var o=n.id||i+"-"+r,a={};c(n,a),c({id:o},a),s.addEdge(o,e,t,a)}function a(n){switch(n.type){case"node":e=n.id,t=n.attrs,s.hasNode(e)||s.addNode(e,{id:e,label:e}),t&&c(t,s.node(e));break;case"edge":var i;n.elems.forEach(function(e){switch(a(e),e.type){case"node":var t=e.id;i&&(o(i,t,n.attrs),r&&o(t,i,n.attrs)),i=t;break;default:throw new Error("Unsupported type incident on edge: "+e.type)}});break;case"attr":break;default:throw new Error("Unsupported statement type: "+n.type)}var e,t}return t.stmts&&t.stmts.forEach(function(e){a(e)}),s},dagre.dot.toObjects=function(e){var n=dagre.dot.toGraph(e);return{nodes:n.nodes().map(function(e){return n.node(e)}),edges:n.edges().map(function(e){var t=n.edge(e);return t.source=n.node(n.source(e)),t.target=n.node(n.target(e)),t})}},dot_parser=function(){function H(e){return'"'+e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E-\x1F\x80-\uFFFF]/g,escape)+'"'}var e={parse:function(b,e){var t={start:function(){var e,t,n,i,r,o,a,s,l,c,u,d,h,p,f,g;f=p=w,e=[],t=N();for(;null!==t;)e.push(t),t=N();if(null!==e)if(g=w,null!==(t=P())&&null!==(n=N())?t=[t,n]:(t=null,w=g),null!==(t=null!==t?t:""))if(null!==(n=$())){for(i=[],r=N();null!==r;)i.push(r),r=N();if(null!==i)if(null!==(r=null!==(r=_())?r:"")){for(o=[],a=N();null!==a;)o.push(a),a=N();if(null!==o)if(123===b.charCodeAt(w)?(a="{",w++):(a=null,0===x&&C('"{"')),null!==a){for(s=[],l=N();null!==l;)s.push(l),l=N();if(null!==s)if(null!==(l=null!==(l=S())?l:"")){for(c=[],u=N();null!==u;)c.push(u),u=N();if(null!==c)if(125===b.charCodeAt(w)?(u="}",w++):(u=null,0===x&&C('"}"')),null!==u){for(d=[],h=N();null!==h;)d.push(h),h=N();null!==d?e=[e,t,n,i,r,o,a,s,l,c,u,d]:(e=null,w=f)}else e=null,w=f;else e=null,w=f}else e=null,w=f;else e=null,w=f}else e=null,w=f;else e=null,w=f}else e=null,w=f;else e=null,w=f}else e=null,w=f;else e=null,w=f;else e=null,w=f;null!==e&&(m=e[2],v=e[4],y=e[8],e={type:m,id:v,stmts:y});var m,v,y;null===e&&(w=p);return e},stmtList:S,stmt:d,attrStmt:i,inlineAttrStmt:r,nodeStmt:a,edgeStmt:s,subgraphStmt:c,attrList:u,attrListBlock:h,aList:p,edgeRHS:f,idDef:g,nodeIdOrSubgraph:m,nodeId:v,port:y,compassPt:k,id:_,node:T,edge:D,graph:A,digraph:E,subgraph:I,strict:P,graphType:$,whitespace:M,comment:O,_:N};if(void 0!==e){if(void 0===t[e])throw new Error("Invalid rule name: "+H(e)+".")}else e="start";var l,w=0,x=0,o=0,n=[];function C(e){w<o||(o<w&&(o=w,n=[]),n.push(e))}function S(){var e,t,n,i,r,o,a,s,l,c,u;if(c=l=w,null!==(e=d())){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(59===b.charCodeAt(w)?(n=";",w++):(n=null,0===x&&C('";"')),null!==(n=null!==n?n:"")){for(i=[],u=w,r=[],o=N();null!==o;)r.push(o),o=N();if(null!==r)if(null!==(o=d())){for(a=[],s=N();null!==s;)a.push(s),s=N();null!==a?(59===b.charCodeAt(w)?(s=";",w++):(s=null,0===x&&C('";"')),null!==(s=null!==s?s:"")?r=[r,o,a,s]:(r=null,w=u)):(r=null,w=u)}else r=null,w=u;else r=null,w=u;for(;null!==r;){for(i.push(r),u=w,r=[],o=N();null!==o;)r.push(o),o=N();if(null!==r)if(null!==(o=d())){for(a=[],s=N();null!==s;)a.push(s),s=N();null!==a?(59===b.charCodeAt(w)?(s=";",w++):(s=null,0===x&&C('";"')),null!==(s=null!==s?s:"")?r=[r,o,a,s]:(r=null,w=u)):(r=null,w=u)}else r=null,w=u;else r=null,w=u}null!==i?e=[e,t,n,i]:(e=null,w=c)}else e=null,w=c;else e=null,w=c}else e=null,w=c;return null!==e&&(e=function(e,t,n){for(var i=[t],r=0;r<n.length;++r)i.push(n[r][1]);return i}(0,e[0],e[3])),null===e&&(w=l),e}function d(){var e;return null===(e=i())&&null===(e=c())&&null===(e=r())&&null===(e=s())&&(e=a()),e}function i(){var e,t,n,i,r;if(r=i=w,null===(e=A())&&null===(e=T())&&(e=D()),null!==e){for(t=[],n=N();null!==n;)t.push(n),n=N();null!==t&&null!==(n=u())?e=[e,t,n]:(e=null,w=r)}else e=null,w=r;return null!==e&&(e={type:"attr",attrType:e[0],attrs:e[2]||{}}),null===e&&(w=i),e}function r(){var e,t,n,i,r,o,a,s,l,c;if(a=o=w,null!==(e=_())){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(61===b.charCodeAt(w)?(n="=",w++):(n=null,0===x&&C('"="')),null!==n){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i&&null!==(r=_())?e=[e,t,n,i,r]:(e=null,w=a)}else e=null,w=a;else e=null,w=a}else e=null,w=a;return null!==e&&(s=e[0],l=e[4],(c={})[s]=l,e={type:"inlineAttr",attrs:c}),null===e&&(w=o),e}function a(){var e,t,n,i,r;if(r=i=w,null!==(e=v())){for(t=[],n=N();null!==n;)t.push(n),n=N();null!==t&&null!==(n=null!==(n=u())?n:"")?e=[e,t,n]:(e=null,w=r)}else e=null,w=r;return null!==e&&(e={type:"node",id:e[0],attrs:e[2]||{}}),null===e&&(w=i),e}function s(){var e,t,n,i,r,o,a;if(a=o=w,null!==(e=m())){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(null!==(n=f())){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i&&null!==(r=null!==(r=u())?r:"")?e=[e,t,n,i,r]:(e=null,w=a)}else e=null,w=a;else e=null,w=a}else e=null,w=a;return null!==e&&(e=function(e,t,n,i){for(var r=[t],o=0;o<n.length;++o)r.push(n[o]);return{type:"edge",elems:r,attrs:i||{}}}(0,e[0],e[2],e[4])),null===e&&(w=o),e}function c(){var e,t,n,i,r,o,a,s,l,c,u,d;if(l=s=a=w,null!==(e=I())){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t){if(c=w,null!==(n=_())){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i?n=[n,i]:(n=null,w=c)}else n=null,w=c;null!==(n=null!==n?n:"")?e=[e,t,n]:(e=null,w=l)}else e=null,w=l}else e=null,w=l;if(null!==(e=null!==e?e:""))if(123===b.charCodeAt(w)?(t="{",w++):(t=null,0===x&&C('"{"')),null!==t){for(n=[],i=N();null!==i;)n.push(i),i=N();if(null!==n)if(null!==(i=S())){for(r=[],o=N();null!==o;)r.push(o),o=N();null!==r?(125===b.charCodeAt(w)?(o="}",w++):(o=null,0===x&&C('"}"')),null!==o?e=[e,t,n,i,r,o]:(e=null,w=s)):(e=null,w=s)}else e=null,w=s;else e=null,w=s}else e=null,w=s;else e=null,w=s;return null!==e&&(u=e[0],d=e[3],e={type:"subgraph",id:(u=u[2]||[])[0],stmts:d}),null===e&&(w=a),e}function u(){var e,t,n,i,r,o,a;if(o=r=w,null!==(e=h())){for(t=[],a=w,n=[],i=N();null!==i;)n.push(i),i=N();for(null!==n&&null!==(i=h())?n=[n,i]:(n=null,w=a);null!==n;){for(t.push(n),a=w,n=[],i=N();null!==i;)n.push(i),i=N();null!==n&&null!==(i=h())?n=[n,i]:(n=null,w=a)}null!==t?e=[e,t]:(e=null,w=o)}else e=null,w=o;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;r<n.length;++r)i=L(i,n[r][1]);return i}(0,e[0],e[1])),null===e&&(w=r),e}function h(){var e,t,n,i,r,o,a;if(a=o=w,91===b.charCodeAt(w)?(e="[",w++):(e=null,0===x&&C('"["')),null!==e){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(null!==(n=null!==(n=p())?n:"")){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i?(93===b.charCodeAt(w)?(r="]",w++):(r=null,0===x&&C('"]"')),null!==r?e=[e,t,n,i,r]:(e=null,w=a)):(e=null,w=a)}else e=null,w=a;else e=null,w=a}else e=null,w=a;return null!==e&&(e=e[2]),null===e&&(w=o),e}function p(){var e,t,n,i,r,o,a,s,l;if(s=a=w,null!==(e=g())){for(t=[],l=w,n=[],i=N();null!==i;)n.push(i),i=N();if(null!==n)if(44===b.charCodeAt(w)?(i=",",w++):(i=null,0===x&&C('","')),null!==(i=null!==i?i:"")){for(r=[],o=N();null!==o;)r.push(o),o=N();null!==r&&null!==(o=g())?n=[n,i,r,o]:(n=null,w=l)}else n=null,w=l;else n=null,w=l;for(;null!==n;){for(t.push(n),l=w,n=[],i=N();null!==i;)n.push(i),i=N();if(null!==n)if(44===b.charCodeAt(w)?(i=",",w++):(i=null,0===x&&C('","')),null!==(i=null!==i?i:"")){for(r=[],o=N();null!==o;)r.push(o),o=N();null!==r&&null!==(o=g())?n=[n,i,r,o]:(n=null,w=l)}else n=null,w=l;else n=null,w=l}null!==t?e=[e,t]:(e=null,w=s)}else e=null,w=s;return null!==e&&(e=function(e,t,n){for(var i=t,r=0;r<n.length;++r)i=L(i,n[r][3]);return i}(0,e[0],e[1])),null===e&&(w=a),e}function f(){var e,t,n,i,r,o,a,s;if(s=a=o=w,"--"===b.substr(w,2)?(e="--",w+=2):(e=null,0===x&&C('"--"')),null!==e&&null!==(t=l?null:"")?e=[e,t]:(e=null,w=s),null===e&&(s=w,"->"===b.substr(w,2)?(e="->",w+=2):(e=null,0===x&&C('"->"')),null!==e&&null!==(t=l?"":null)?e=[e,t]:(e=null,w=s)),null!==e){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(null!==(n=m())){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i&&null!==(r=null!==(r=f())?r:"")?e=[e,t,n,i,r]:(e=null,w=a)}else e=null,w=a;else e=null,w=a}else e=null,w=a;return null!==e&&(e=function(e,t,n){for(var i=[t],r=0;r<n.length;++r)i.push(n[r]);return i}(0,e[2],e[4])),null===e&&(w=o),e}function g(){var e,t,n,i,r,o,a,s,l,c,u;if(a=o=w,null!==(e=_())){for(s=w,t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(61===b.charCodeAt(w)?(n="=",w++):(n=null,0===x&&C('"="')),null!==n){for(i=[],r=N();null!==r;)i.push(r),r=N();null!==i&&null!==(r=_())?t=[t,n,i,r]:(t=null,w=s)}else t=null,w=s;else t=null,w=s;null!==(t=null!==t?t:"")?e=[e,t]:(e=null,w=a)}else e=null,w=a;return null!==e&&(l=e[0],c=e[1],(u={})[l]=c[3],e=u),null===e&&(w=o),e}function m(){var e,t;return null===(e=c())&&(t=w,null!==(e=v())&&(e={type:"node",id:e,attrs:{}}),null===e&&(w=t)),e}function v(){var e,t,n,i,r;if(r=i=w,null!==(e=_())){for(t=[],n=N();null!==n;)t.push(n),n=N();null!==t&&null!==(n=null!==(n=y())?n:"")?e=[e,t,n]:(e=null,w=r)}else e=null,w=r;return null!==e&&(e=e[0]),null===e&&(w=i),e}function y(){var e,t,n,i,r,o,a,s,l;if(s=w,58===b.charCodeAt(w)?(e=":",w++):(e=null,0===x&&C('":"')),null!==e){for(t=[],n=N();null!==n;)t.push(n),n=N();if(null!==t)if(null!==(n=_())){for(i=[],r=N();null!==r;)i.push(r),r=N();if(null!==i){if(l=w,58===b.charCodeAt(w)?(r=":",w++):(r=null,0===x&&C('":"')),null!==r){for(o=[],a=N();null!==a;)o.push(a),a=N();null!==o&&null!==(a=k())?r=[r,o,a]:(r=null,w=l)}else r=null,w=l;null!==(r=null!==r?r:"")?e=[e,t,n,i,r]:(e=null,w=s)}else e=null,w=s}else e=null,w=s;else e=null,w=s}else e=null,w=s;return e}function k(){var e;return 110===b.charCodeAt(w)?(e="n",w++):(e=null,0===x&&C('"n"')),null===e&&("ne"===b.substr(w,2)?(e="ne",w+=2):(e=null,0===x&&C('"ne"')),null===e&&(101===b.charCodeAt(w)?(e="e",w++):(e=null,0===x&&C('"e"')),null===e&&("se"===b.substr(w,2)?(e="se",w+=2):(e=null,0===x&&C('"se"')),null===e&&(115===b.charCodeAt(w)?(e="s",w++):(e=null,0===x&&C('"s"')),null===e&&("sw"===b.substr(w,2)?(e="sw",w+=2):(e=null,0===x&&C('"sw"')),null===e&&(119===b.charCodeAt(w)?(e="w",w++):(e=null,0===x&&C('"w"')),null===e&&("nw"===b.substr(w,2)?(e="nw",w+=2):(e=null,0===x&&C('"nw"')),null===e&&(99===b.charCodeAt(w)?(e="c",w++):(e=null,0===x&&C('"c"')),null===e&&(95===b.charCodeAt(w)?(e="_",w++):(e=null,0===x&&C('"_"'))))))))))),e}function _(){var e,t,n,i,r,o,a,s,l,c,u,d;if(x++,a=o=w,/^[a-zA-Z\u0200-\u0377_]/.test(b.charAt(w))?(e=b.charAt(w),w++):(e=null,0===x&&C("[a-zA-Z\\u0200-\\u0377_]")),null!==e){for(t=[],/^[a-zA-Z\u0200-\u0377_0-9]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[a-zA-Z\\u0200-\\u0377_0-9]"));null!==n;)t.push(n),/^[a-zA-Z\u0200-\u0377_0-9]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[a-zA-Z\\u0200-\\u0377_0-9]"));null!==t?e=[e,t]:(e=null,w=a)}else e=null,w=a;if(null!==e&&(e=e[0]+e[1].join("")),null===e&&(w=o),null===e){if(a=o=w,45===b.charCodeAt(w)?(e="-",w++):(e=null,0===x&&C('"-"')),null!==(e=null!==e?e:""))if(46===b.charCodeAt(w)?(t=".",w++):(t=null,0===x&&C('"."')),null!==t){if(/^[0-9]/.test(b.charAt(w))?(i=b.charAt(w),w++):(i=null,0===x&&C("[0-9]")),null!==i)for(n=[];null!==i;)n.push(i),/^[0-9]/.test(b.charAt(w))?(i=b.charAt(w),w++):(i=null,0===x&&C("[0-9]"));else n=null;null!==n?e=[e,t,n]:(e=null,w=a)}else e=null,w=a;else e=null,w=a;if(null!==e&&(e=e[0]+e[1]+e[2].join("")),null===e&&(w=o),null===e){if(a=o=w,45===b.charCodeAt(w)?(e="-",w++):(e=null,0===x&&C('"-"')),null!==(e=null!==e?e:"")){if(/^[0-9]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[0-9]")),null!==n)for(t=[];null!==n;)t.push(n),/^[0-9]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[0-9]"));else t=null;if(null!==t){if(s=w,46===b.charCodeAt(w)?(n=".",w++):(n=null,0===x&&C('"."')),null!==n){for(i=[],/^[0-9]/.test(b.charAt(w))?(r=b.charAt(w),w++):(r=null,0===x&&C("[0-9]"));null!==r;)i.push(r),/^[0-9]/.test(b.charAt(w))?(r=b.charAt(w),w++):(r=null,0===x&&C("[0-9]"));null!==i?n=[n,i]:(n=null,w=s)}else n=null,w=s;null!==(n=null!==n?n:"")?e=[e,t,n]:(e=null,w=a)}else e=null,w=a}else e=null,w=a;if(null!==e&&(c=e[0],u=e[1],d=e[2],e=c+u.join("")+(d[0]||"")+(d[1]||[]).join("")),null===e&&(w=o),null===e){if(a=o=w,34===b.charCodeAt(w)?(e='"',w++):(e=null,0===x&&C('"\\""')),null!==e){if(s=w,'\\"'===b.substr(w,2)?(n='\\"',w+=2):(n=null,0===x&&C('"\\\\\\""')),null!==n&&(n='"'),null===n&&(w=s),null===n&&(l=s=w,92===b.charCodeAt(w)?(n="\\",w++):(n=null,0===x&&C('"\\\\"')),null!==n?(/^[^"]/.test(b.charAt(w))?(i=b.charAt(w),w++):(i=null,0===x&&C('[^"]')),null!==i?n=[n,i]:(n=null,w=l)):(n=null,w=l),null!==n&&(n="\\"+n[1]),null===n&&(w=s),null===n&&(/^[^"]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C('[^"]')))),null!==n)for(t=[];null!==n;)t.push(n),s=w,'\\"'===b.substr(w,2)?(n='\\"',w+=2):(n=null,0===x&&C('"\\\\\\""')),null!==n&&(n='"'),null===n&&(w=s),null===n&&(l=s=w,92===b.charCodeAt(w)?(n="\\",w++):(n=null,0===x&&C('"\\\\"')),null!==n?(/^[^"]/.test(b.charAt(w))?(i=b.charAt(w),w++):(i=null,0===x&&C('[^"]')),null!==i?n=[n,i]:(n=null,w=l)):(n=null,w=l),null!==n&&(n="\\"+n[1]),null===n&&(w=s),null===n&&(/^[^"]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C('[^"]'))));else t=null;null!==t?(34===b.charCodeAt(w)?(n='"',w++):(n=null,0===x&&C('"\\""')),null!==n?e=[e,t,n]:(e=null,w=a)):(e=null,w=a)}else e=null,w=a;null!==e&&(e=e[1].join("")),null===e&&(w=o)}}}return 0===--x&&null===e&&C("identifier"),e}function T(){var e,t;return t=w,"node"===b.substr(w,4).toLowerCase()?(e=b.substr(w,4),w+=4):(e=null,0===x&&C('"node"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function D(){var e,t;return t=w,"edge"===b.substr(w,4).toLowerCase()?(e=b.substr(w,4),w+=4):(e=null,0===x&&C('"edge"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function A(){var e,t;return t=w,"buildGraph"===b.substr(w,5).toLowerCase()?(e=b.substr(w,5),w+=5):(e=null,0===x&&C('"buildGraph"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function E(){var e,t;return t=w,"digraph"===b.substr(w,7).toLowerCase()?(e=b.substr(w,7),w+=7):(e=null,0===x&&C('"digraph"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function I(){var e,t;return t=w,"subgraph"===b.substr(w,8).toLowerCase()?(e=b.substr(w,8),w+=8):(e=null,0===x&&C('"subgraph"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function P(){var e,t;return t=w,"strict"===b.substr(w,6).toLowerCase()?(e=b.substr(w,6),w+=6):(e=null,0===x&&C('"strict"')),null!==e&&(e=e.toLowerCase()),null===e&&(w=t),e}function $(){var e,t;return null===(e=A())&&(t=w,null!==(e=E())&&(l="digraph"===e,e=e),null===e&&(w=t)),e}function M(){var e,t;if(x++,/^[ \t\r\n]/.test(b.charAt(w))?(t=b.charAt(w),w++):(t=null,0===x&&C("[ \\t\\r\\n]")),null!==t)for(e=[];null!==t;)e.push(t),/^[ \t\r\n]/.test(b.charAt(w))?(t=b.charAt(w),w++):(t=null,0===x&&C("[ \\t\\r\\n]"));else e=null;return 0===--x&&null===e&&C("whitespace"),e}function O(){var e,t,n,i,r,o,a;if(x++,r=w,"//"===b.substr(w,2)?(e="//",w+=2):(e=null,0===x&&C('"//"')),null!==e){for(t=[],/^[^\n]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[^\\n]"));null!==n;)t.push(n),/^[^\n]/.test(b.charAt(w))?(n=b.charAt(w),w++):(n=null,0===x&&C("[^\\n]"));null!==t?e=[e,t]:(e=null,w=r)}else e=null,w=r;if(null===e)if(r=w,"/*"===b.substr(w,2)?(e="/*",w+=2):(e=null,0===x&&C('"/*"')),null!==e){for(t=[],a=o=w,x++,"*/"===b.substr(w,2)?(n="*/",w+=2):(n=null,0===x&&C('"*/"')),x--,null===n?n="":(n=null,w=a),null!==n?(b.length>w?(i=b.charAt(w),w++):(i=null,0===x&&C("any character")),null!==i?n=[n,i]:(n=null,w=o)):(n=null,w=o);null!==n;)t.push(n),a=o=w,x++,"*/"===b.substr(w,2)?(n="*/",w+=2):(n=null,0===x&&C('"*/"')),x--,null===n?n="":(n=null,w=a),null!==n?(b.length>w?(i=b.charAt(w),w++):(i=null,0===x&&C("any character")),null!==i?n=[n,i]:(n=null,w=o)):(n=null,w=o);null!==t?("*/"===b.substr(w,2)?(n="*/",w+=2):(n=null,0===x&&C('"*/"')),null!==n?e=[e,t,n]:(e=null,w=r)):(e=null,w=r)}else e=null,w=r;return 0===--x&&null===e&&C("comment"),e}function N(){var e;return null===(e=M())&&(e=O()),e}function L(e,t){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];return n}var j=t[e]();if(null!==j&&w===b.length)return j;var R=Math.max(w,o),F=R<b.length?b.charAt(R):null,q=function(){for(var e=1,t=1,n=!1,i=0;i<Math.max(w,o);i++){var r=b.charAt(i);"\n"===r?(n||e++,n=!(t=1)):"\r"===r||"\u2028"===r||"\u2029"===r?(e++,t=1,n=!0):(t++,n=!1)}return{line:e,column:t}}();throw new this.SyntaxError(function(e){e.sort();for(var t=null,n=[],i=0;i<e.length;i++)e[i]!==t&&(n.push(e[i]),t=e[i]);return n}(n),F,R,q.line,q.column)},toSource:function(){return this._source},SyntaxError:function(e,t,n,i,r){this.name="SyntaxError",this.expected=e,this.found=t,this.message=function(e,t){var n;switch(e.length){case 0:n="end of input";break;case 1:n=e[0];break;default:n=e.slice(0,e.length-1).join(", ")+" or "+e[e.length-1]}return"Expected "+n+" but "+(t?H(t):"end of input")+" found."}(e,t),this.offset=n,this.line=i,this.column=r}};return e.SyntaxError.prototype=Error.prototype,e}()}(),function(){var e,t,n=function(d){var n={type:"POST",jsonp:!1},h={type:"GET"},p={type:"POST",processData:!1,dataType:"json",contentType:"text/json"},f=["maxDepth","maxCollectionSize","maxObjects","ignoreErrors","canonicalNaming","serializeException","includeStackTrace","ifModifiedSince"];function g(e){if(!(this instanceof arguments.callee))return new g(e);this.CLIENT_VERSION="1.1.3";var r=[],u={},t=!1;"string"==typeof e&&(e={url:e}),d.extend(u,n,e),this.request=function(e,t){var n=d.extend({},u,t);C(n.url,"No URL given");var i,r,o,a={};if(d.each(["username","password","timeout"],function(e,t){n[t]&&(a[t]=n[t])}),a.username&&a.password&&(window.btoa&&(a.beforeSend=function(e){var t=a.username+":"+a.password;e.setRequestHeader("Authorization","Basic "+window.btoa(t))}),a.xhrFields={withCredentials:!0}),"post"===function(e,t){var n,i=t&&t.method?t.method.toLowerCase():null;if(i){if("get"===i){if(d.isArray(e))throw new Error("Cannot use GET with bulk requests");if("read"===e.type.toLowerCase()&&d.isArray(e.attribute))throw new Error("Cannot use GET for read with multiple attributes");if(e.target)throw new Error("Cannot use GET request with proxy mode");if(e.config)throw new Error("Cannot use GET with request specific config")}n=i}else n=d.isArray(e)||e.config||"read"===e.type.toLowerCase()&&d.isArray(e.attribute)||e.target?"post":"get";if(t.jsonp&&"post"===n)throw new Error("Can not use JSONP with POST requests");return n}(e,n)?(d.extend(a,p),a.data=JSON.stringify(e),a.url=n.url.replace(/\/*$/,"/")):(d.extend(a,h),a.dataType=n.jsonp?"jsonp":"json",a.url=n.url+"/"+function(e){var t=e.type;C(t,"No request type given for building a GET request"),t=t.toLowerCase();var n=x[t];C(n,"Unknown request type "+t);var i=n(e),r=i.parts||{},o=t;d.each(r,function(e,t){o+="/"+g.escape(t)}),i.path&&(o+=("/"==i.path[0]?"":"/")+i.path);return o}(e)),a.url=(i=a.url,r=n,o=0<i.indexOf("?")?"&":"?",d.each(f,function(e,t){null!=r[t]&&(i+=o+t+"="+r[t],o="&")}),i),n.ajaxError&&(a.error=n.ajaxError),n.success){var s=w(n.success),l=w(n.error);return a.success=function(e){for(var t=d.isArray(e)?e:[e],n=0;n<t.length;n++){var i=t[n];g.isError(i)?l(i,n):s(i,n)}},d.ajax(a),null}if(n.jsonp)throw Error("JSONP is not supported for synchronous requests");a.async=!1;var c=d.ajax(a);return function(e){try{return!e.status&&"file:"===location.protocol||200<=e.status&&e.status<300||304===e.status||1223===e.status}catch(e){}return!1}(c)?d.parseJSON(c.responseText):null},this.register=function(){if(arguments.length<2)throw"At a least one request must be provided";var e,t=arguments[0],n=Array.prototype.slice.call(arguments,1);if("object"==typeof t){if(t.success&&t.error)e={success:t.success,error:t.error};else{if(!t.callback)throw"Either 'callback' or ('success' and 'error') callback must be provided when registering a Jolokia job";e={callback:t.callback}}e=d.extend(e,{config:t.config,onlyIfModified:t.onlyIfModified})}else{if("function"!=typeof t)throw"First argument must be either a callback func or an object with 'success' and 'error' attributes";e={success:null,error:null,callback:t}}if(!n)throw"No requests given";e.requests=n;var i=r.length;return r[i]=e,i},this.unregister=function(e){e<r.length&&(r[e]=void 0)},this.jobs=function(){for(var e=[],t=r.length,n=0;n<t;n++)r[n]&&e.push(n);return e},this.start=function(e){if(e=e||u.fetchInterval||3e4,t){if(e===u.fetchInterval)return;this.stop()}var h,p;u.fetchInterval=e,this.timerId=setInterval((h=this,p=r,function(){var e,t,n=[],i=[],r=p.length,o=[];for(e=0;e<r;e++){var a=p[e];if(a){var s=a.requests.length;if(a.success){var l=b(a,e),c=y(a,e);for(t=0;t<s;t++)o.push(m(a,t)),i.push(l),n.push(c)}else{var u=v(a,h);for(t=0;t<s-1;t++)o.push(m(a,t)),i.push(u.cb),n.push(u.cb);o.push(m(a,s-1)),i.push(u.lcb),n.push(u.lcb)}}}var d={success:function(e,t){return i[t].apply(h,[e,t])},error:function(e,t){return n[t].apply(h,[e,t])}};return h.request(o,d)}),e),t=!0},this.stop=function(){(t||null==this.timerId)&&(clearInterval(this.timerId),this.timerId=null,t=!1)},this.isRunning=function(){return t}}function m(e,t){var n=e.requests[t],i=e.config||{},r=e.onlyIfModified&&e.lastModified?{ifModifiedSince:e.lastModified}:{};return n.config=d.extend({},i,n.config,r),n}function v(n,i){var r=[],o=n.callback,a=0;return{cb:s,lcb:function(e,t){s(e),0<r.length&&(n.lastModified=a,o.apply(i,r))}};function s(e,t){304!=e.status&&((0==a||e.timestamp<a)&&(a=e.timestamp),r.push(e))}}function y(e,n){var i=e.error;return function(e,t){304!=e.status&&i&&i(e,n,t)}}function b(n,i){var r=n.success;return function(e,t){r&&(n.onlyIfModified&&(n.lastModified=e.timestamp),r(e,i,t))}}function w(e){if(null==e)return function(e){console.warn("Ignoring response "+JSON.stringify(e))};if("ignore"===e)return function(){};var n=d.isArray(e)?e:[e];return function(e,t){n[t%n.length](e,t)}}var x={read:function(e){return null==e.attribute?{parts:[e.mbean]}:{parts:[e.mbean,e.attribute],path:e.path}},write:function(e){return{parts:[e.mbean,e.attribute,i(e.value)],path:e.path}},exec:function(e){var n=[e.mbean,e.operation];return e.arguments&&0<e.arguments.length&&d.each(e.arguments,function(e,t){n.push(i(t))}),{parts:n}},version:function(){return{}},search:function(e){return{parts:[e.mbean]}},list:function(e){return{path:e.path}}};function i(e){if(null==e)return"[null]";if(d.isArray(e)){for(var t="",n=0;n<e.length;n++)t+=null==e?"[null]":r(e[n]),n<e.length-1&&(t+=",");return t}return r(e)}function r(e){return"string"==typeof e&&0==e.length?'""':e.toString()}function C(e,t){if(null==e)throw new Error(t)}return g.prototype.escape=g.escape=function(e){return encodeURIComponent(e.replace(/!/g,"!!").replace(/\//g,"!/"))},g.prototype.isError=g.isError=function(e){return null==e.status||200!=e.status},g};e=this,t=function(e){return n(e)},"function"==typeof define&&define.amd?define(["jquery"],t):e.Jolokia=t(e.jQuery)}(),function(e){var d=e.cubism={version:"1.6.0"},A=0;function E(e){return e}function g(){}d.option=function(e,t){var n=d.options(e);return n.length?n[0]:t},d.options=function(e,t){for(var n,i=location.search.substring(1).split("&"),r=[],o=-1,a=i.length;++o<a;)(n=i[o].split("="))[0]==e&&r.push(decodeURIComponent(n[1]));return r.length||arguments.length<2?r:t},d.context=function(){var n,i,r,o,t,a,s=new g,l=1e4,c=1440,u=5e3,d=5e3,h=d3.dispatch("prepare","beforechange","change","focus"),p=s.scale=d3.time.scale().range([0,c]);function f(){var e=Date.now();return i=new Date(Math.floor((e-u-d)/l)*l),n=new Date(i-c*l),o=new Date(Math.floor((e-u)/l)*l),r=new Date(o-c*l),p.domain([n,i]),s}return s.start=function(){t&&clearTimeout(t);var e=+o+u-Date.now();return e<d&&(e+=l),t=setTimeout(function e(){o=new Date(Math.floor((Date.now()-u)/l)*l),r=new Date(o-c*l),h.prepare.call(s,r,o),setTimeout(function(){p.domain([n=r,i=o]),h.beforechange.call(s,r,o),h.change.call(s,r,o),h.focus.call(s,a)},d),t=setTimeout(e,l)},e),s},s.stop=function(){return t=clearTimeout(t),s},t=setTimeout(s.start,10),s.step=function(e){return arguments.length?(l=+e,f()):l},s.size=function(e){return arguments.length?(p.range([0,c=+e]),f()):c},s.serverDelay=function(e){return arguments.length?(u=+e,f()):u},s.clientDelay=function(e){return arguments.length?(d=+e,f()):d},s.focus=function(e){return h.focus.call(s,a=e),s},s.on=function(e,t){return arguments.length<2?h.on(e):(h.on(e,t),null!=t&&(/^prepare(\.|$)/.test(e)&&t.call(s,r,o),/^beforechange(\.|$)/.test(e)&&t.call(s,n,i),/^change(\.|$)/.test(e)&&t.call(s,n,i),/^focus(\.|$)/.test(e)&&t.call(s,a)),s)},d3.select(window).on("keydown.context-"+ ++A,function(){switch(!d3.event.metaKey&&d3.event.keyCode){case 37:null==a&&(a=c-1),0<a&&s.focus(--a);break;case 39:null==a&&(a=c-2),a<c-1&&s.focus(++a);break;default:return}d3.event.preventDefault()}),f()};var t=d.context.prototype=g.prototype;t.constant=function(e){return new r(this,+e)},t.cube=function(o){arguments.length||(o="");var e={},t=this;return e.metric=function(r){return t.metric(function(e,t,n,i){d3.json(o+"/1.0/metric?expression="+encodeURIComponent(r)+"&start="+a(e)+"&stop="+a(t)+"&step="+n,function(e){if(!e)return i(new Error("unable to load data"));i(null,e.map(function(e){return e.value}))})},r+="")},e.toString=function(){return o},e};var a=d3.time.format.iso;t.librato=function(e,t){var n={},o=this;function a(e,t,n){var i,r=t-e;return 2419200<r?3600:(i=function(e){var t,n,i,r,o=avail_rsts[0],a=avail_rsts[avail_rsts.length];if(a<=e)return a;if(e<=o)return o;for(i=e;i<=a;i++)if(-1<(t=avail_rsts.indexOf(i))){n=avail_rsts[t];break}for(i=e;o<=i;i--)if(-1<(t=avail_rsts.indexOf(i))){r=avail_rsts[t];break}return n-e<e-r?n:r}(n),604800<r&&i<900?900:172800<r&&i<60?60:i)}auth_string="Basic "+btoa(e+":"+t),avail_rsts=[1,60,900,3600];var s=function(r){var o="https://metrics-api.librato.com/v1/metrics";function u(e,t,n){var i="compose="+r+"&start_time="+e+"&end_time="+t+"&resolution="+a(e,t,n);return o+"?"+i}return request={},request.fire=function(o,a,s,l){var c=[];!function r(e){d3.json(e).header("X-Requested-With","XMLHttpRequest").header("Authorization",auth_string).header("Librato-User-Agent","cubism/"+d.version).get(function(e,t){if(!e){if(0===t.measurements.length)return;if(t.measurements[0].series.forEach(function(e){c.push(e)}),"query"in t&&"next_time"in t.query)r(u(t.query.next_time,a,s));else{var n=function(e,t,n,r){var o=[];for(i=e;i<=t;i+=n){for(var a,s=[];r.length&&r[0].measure_time<=i;)s.push(r.shift().value);a=s.length?s.reduce(function(e,t){return e+t})/s.length:o.length?o[o.length-1]:0,o.push(a)}return o}(o,a,s,c);l(n)}}})}(u(o,a,s))},request};return n.metric=function(r){return o.metric(function(e,t,n,i){s(r).fire(l(e),l(t),l(n),function(e){i(null,e)})},r+="")},n.toString=function(){return"librato"},n};var l=function(e){return Math.floor(e/1e3)};function c(e){return Math.floor(e/1e3)}function m(e){if(!(e instanceof g))throw new Error("invalid context");this.context=e}t.graphite=function(s){arguments.length||(s="");var e={},n=this;return e.metric=function(o){var a="sum",t=n.metric(function(e,t,n,i){var r=o;1e4!==n&&(r="summarize("+r+",'"+(n%36e5?n%6e4?n/1e3+"sec":n/6e4+"min":n/36e5+"hour")+"','"+a+"')"),d3.text(s+"/render?format=raw&target="+encodeURIComponent("alias("+r+",'')")+"&from="+c(e-2*n)+"&until="+c(t-1e3),function(e){if(!e)return i(new Error("unable to load data"));i(null,function(e){var t=e.indexOf("|"),n=e.substring(0,t),i=n.lastIndexOf(","),r=n.lastIndexOf(",",i-1),o=n.lastIndexOf(",",r-1);n.substring(o+1,r),n.substring(i+1);return e.substring(t+1).split(",").slice(1).map(function(e){return+e})}(e))})},o+="");return t.summarize=function(e){return a=e,t},t},e.find=function(e,t){d3.json(s+"/metrics/find?format=completer&query="+encodeURIComponent(e),function(e){if(!e)return t(new Error("unable to find metrics"));t(null,e.metrics.map(function(e){return e.path}))})},e.toString=function(){return s},e},t.gangliaWeb=function(e){var c="",u="/ganglia2/";arguments.length&&(e.host&&(c=e.host),e.uriPathPrefix&&("/"!=(u=e.uriPathPrefix)[0]&&(u="/"+u),"/"!=u[u.length-1]&&(u+="/")));var t={},d=this;return t.metric=function(e){var r=e.clusterName,o=e.metricName,a=e.hostName,t=e.isReport||!1,n=e.titleGenerator||function(e){return"clusterName:"+r+" metricName:"+o+(a?" hostName:"+a:"")},i=e.onChangeCallback,s=t?"g":"m",l=d.metric(function(e,t,n,i){d3.json(c+u+"graph.php?c="+r+"&"+s+"="+o+(a?"&h="+a:"")+"&cs="+e/1e3+"&ce="+t/1e3+"&step="+n/1e3+"&graphlot=1",function(e){if(!e)return i(new Error("Unable to fetch GangliaWeb data"));i(null,e[0].data)})},n(e));return l.toString=function(){return n(e)},i&&l.on("change",i),l},t.toString=function(){return c+u},t};var n=m.prototype;d.metric=m,n.valueAt=function(){return NaN},n.alias=function(e){return this.toString=function(){return e},this},n.extent=function(){for(var e,t=0,n=this.context.size(),i=1/0,r=-1/0;++t<n;)(e=this.valueAt(t))<i&&(i=e),r<e&&(r=e);return[i,r]},n.on=function(e,t){return arguments.length<2?null:this},n.shift=function(){return this},n.on=function(){return arguments.length<2?null:this},t.metric=function(n,e){var i,s,a=this,l=new m(a),r=".metric-"+ ++A,c=-1/0,u=a.step(),d=a.size(),h=[],p=d3.dispatch("change"),o=0;function f(e,o){var t=Math.min(d,Math.round((e-c)/u));if(t&&!s){s=!0,t=Math.min(d,t+I);var a=new Date(o-t*u);n(a,o,u,function(e,t){if(s=!1,e)return console.warn(e);for(var n=isFinite(c)?Math.round((a-c)/u):0,i=0,r=t.length;i<r;++i)h[i+n]=t[i];p.change.call(l,c,o)})}}function g(e,t){isFinite(c)||(c=e),h.splice(0,Math.max(0,Math.min(d,Math.round((e-c)/u)))),c=e,i=t}return l.valueAt=function(e){return h[e]},l.shift=function(e){return a.metric((r=n,o=+e,function(e,t,n,i){r(new Date(+e+o),new Date(+t+o),n,i)}));var r,o},l.on=function(e,t){return arguments.length?(null==t?null!=p.on(e)&&0==--o&&a.on("prepare"+r,null).on("beforechange"+r,null):null==p.on(e)&&1==++o&&a.on("prepare"+r,f).on("beforechange"+r,g),p.on(e,t),null!=t&&/^change(\.|$)/.test(e)&&t.call(a,c,i),l):p.on(e)},1<arguments.length&&(l.toString=function(){return e}),l};var I=6;function r(e,t){m.call(this,e);var n=(t=+t)+"";this.valueOf=function(){return t},this.toString=function(){return n}}var o=r.prototype=Object.create(m.prototype);function s(n,t){function i(e,t){if(t instanceof m){if(e.context!==t.context)throw new Error("mismatch context")}else t=new r(e.context,t);m.call(this,e.context),this.left=e,this.right=t,this.toString=function(){return e+" "+n+" "+t}}var e=i.prototype=Object.create(m.prototype);return e.valueAt=function(e){return t(this.left.valueAt(e),this.right.valueAt(e))},e.shift=function(e){return new i(this.left.shift(e),this.right.shift(e))},e.on=function(e,t){return arguments.length<2?this.left.on(e):(this.left.on(e,t),this.right.on(e,t),this)},function(e){return new i(this,e)}}o.valueAt=function(){return+this},o.extent=function(){return[+this,+this]},n.add=s("+",function(e,t){return e+t}),n.subtract=s("-",function(e,t){return e-t}),n.multiply=s("*",function(e,t){return e*t}),n.divide=s("/",function(e,t){return e/t}),t.horizon=function(){var C=this,S="offset",k=document.createElement("canvas"),_=k.width=C.size(),T=k.height=30,D=d3.scale.linear().interpolate(d3.interpolateRound),a=E,s=null,t=E,l=d3.format(".2s"),c=["#08519c","#3182bd","#6baed6","#bdd7e7","#bae4b3","#74c476","#31a354","#006d2c"];function n(e){e.on("mousemove.horizon",function(){C.focus(Math.round(d3.mouse(this)[0]))}).on("mouseout.horizon",function(){C.focus(null)}),e.append("canvas").attr("width",_).attr("height",T),e.append("span").attr("class","title").text(t),e.append("span").attr("class","value"),e.each(function(e,t){var p,f,n=++A,g="function"==typeof a?a.call(this,e,t):a,m="function"==typeof c?c.call(this,e,t):c,v="function"==typeof s?s.call(this,e,t):s,y=-1/0,b=C.step(),w=d3.select(this).select("canvas"),i=d3.select(this).select(".value"),x=m.length>>1;function r(e,t){w.save();var n=g.extent();f=n.every(isFinite),null!=v&&(n=v);var i,r=0,o=Math.max(-n[0],n[1]);if(this===C){if(o==p){r=_-I;var a=(e-y)/b;if(a<_){var s=k.getContext("2d");s.clearRect(0,0,_,T),s.drawImage(w.canvas,a,0,_-a,T,0,0,_-a,T),w.clearRect(0,0,_,T),w.drawImage(s.canvas,0,0)}}y=e}D.domain([0,p=o]),w.clearRect(r,0,_-r,T);for(var l=0;l<x;++l){w.fillStyle=m[x+l];var c=(l-x+1)*T;D.range([x*T+c,c]),c=D(0);for(var u=r,d=_;u<d;++u)(h=g.valueAt(u))<=0?i=!0:void 0!==h&&w.fillRect(u,h=D(h),1,c-h)}if(i){"offset"===S&&(w.translate(0,T),w.scale(1,-1));for(l=0;l<x;++l){w.fillStyle=m[x-1-l];c=(l-x+1)*T;D.range([x*T+c,c]),c=D(0);var h;for(u=r,d=_;u<d;++u)0<=(h=g.valueAt(u))||w.fillRect(u,D(-h),1,c-D(-h))}}w.restore()}function o(e){null==e&&(e=_-1);var t=g.valueAt(e);i.datum(t).text(isNaN(t)?null:l)}w.datum({id:n,metric:g}),w=w.node().getContext("2d"),C.on("change.horizon-"+n,r),C.on("focus.horizon-"+n,o),g.on("change.horizon-"+n,function(e,t){r(e),o(),f&&g.on("change.horizon-"+n,E)})})}return n.remove=function(e){e.on("mousemove.horizon",null).on("mouseout.horizon",null),e.selectAll("canvas").each(function(e){e.metric.on("change.horizon-"+e.id,null),C.on("change.horizon-"+e.id,null),C.on("focus.horizon-"+e.id,null)}).remove(),e.selectAll(".title,.value").remove()},n.mode=function(e){return arguments.length?(S=e+"",n):S},n.height=function(e){return arguments.length?(k.height=T=+e,n):T},n.metric=function(e){return arguments.length?(a=e,n):a},n.scale=function(e){return arguments.length?(D=e,n):D},n.extent=function(e){return arguments.length?(s=e,n):s},n.title=function(e){return arguments.length?(t=e,n):t},n.format=function(e){return arguments.length?(l=e,n):l},n.colors=function(e){return arguments.length?(c=e,n):c},n},t.comparison=function(){var g=this,m=g.size(),v=120,y=d3.scale.linear().interpolate(d3.interpolateRound),c=function(e){return e[0]},b=function(e){return e[1]},w=null,t=E,x=u,C=h,S=["#9ecae1","#225b84","#a1d99b","#22723a"],k=1.5;function n(e){e.on("mousemove.comparison",function(){g.focus(Math.round(d3.mouse(this)[0]))}).on("mouseout.comparison",function(){g.focus(null)}),e.append("canvas").attr("width",m).attr("height",v),e.append("span").attr("class","title").text(t),e.append("span").attr("class","value primary"),e.append("span").attr("class","value change"),e.each(function(e,t){var u,n=++A,d="function"==typeof c?c.call(this,e,t):c,h="function"==typeof b?b.call(this,e,t):b,p="function"==typeof w?w.call(this,e,t):w,i=d3.select(this),f=i.select("canvas"),r=i.select(".value.primary"),o=i.select(".value.change");function a(e,t){f.save(),f.clearRect(0,0,m,v);var n=d.extent(),i=h.extent(),r=null==p?n:p;y.domain(r).range([v,0]),u=n.concat(i).every(isFinite);var o=e/g.step()&1?T:_;f.fillStyle=S[2];for(var a=0,s=m;a<s;++a){(l=y(d.valueAt(a)))<(c=y(h.valueAt(a)))&&f.fillRect(o(a),l,1,c-l)}for(f.fillStyle=S[0],a=0;a<s;++a){var l=y(d.valueAt(a));(c=y(h.valueAt(a)))<l&&f.fillRect(o(a),c,1,l-c)}for(f.fillStyle=S[3],a=0;a<s;++a){(l=y(d.valueAt(a)))<=(c=y(h.valueAt(a)))&&f.fillRect(o(a),l,1,k)}for(f.fillStyle=S[1],a=0;a<s;++a){var c;l=y(d.valueAt(a));(c=y(h.valueAt(a)))<l&&f.fillRect(o(a),l-k,1,k)}f.restore()}function s(e){null==e&&(e=m-1);var t=d.valueAt(e),n=h.valueAt(e),i=(t-n)/n;r.datum(t).text(isNaN(t)?null:x),o.datum(i).text(isNaN(i)?null:C).attr("class","value change "+(0<i?"positive":i<0?"negative":""))}function l(e,t){a(e),s(),u&&(d.on("change.comparison-"+n,E),h.on("change.comparison-"+n,E))}f.datum({id:n,primary:d,secondary:h}),f=f.node().getContext("2d"),d.on("change.comparison-"+n,l),h.on("change.comparison-"+n,l),g.on("change.comparison-"+n,a),g.on("focus.comparison-"+n,s)})}return n.remove=function(e){e.on("mousemove.comparison",null).on("mouseout.comparison",null),e.selectAll("canvas").each(function(e){e.primary.on("change.comparison-"+e.id,null),e.secondary.on("change.comparison-"+e.id,null),g.on("change.comparison-"+e.id,null),g.on("focus.comparison-"+e.id,null)}).remove(),e.selectAll(".title,.value").remove()},n.height=function(e){return arguments.length?(v=+e,n):v},n.primary=function(e){return arguments.length?(c=e,n):c},n.secondary=function(e){return arguments.length?(b=e,n):b},n.scale=function(e){return arguments.length?(y=e,n):y},n.extent=function(e){return arguments.length?(w=e,n):w},n.title=function(e){return arguments.length?(t=e,n):t},n.formatPrimary=function(e){return arguments.length?(x=e,n):x},n.formatChange=function(e){return arguments.length?(C=e,n):C},n.colors=function(e){return arguments.length?(S=e,n):S},n.strokeWidth=function(e){return arguments.length?(k=e,n):k},n};var u=d3.format(".2s"),h=d3.format("+.0%");function _(e){return 16777214&e}function T(e){return(e+1&16777214)-1}t.axis=function(){var n=this,o=n.scale,a=d3.svg.axis().scale(o),t=n.step()<6e4?p:n.step()<864e5?f:v,s=t;function l(e){var i,t=++A,r=e.append("svg").datum({id:t}).attr("width",n.size()).attr("height",Math.max(28,-l.tickSize())).append("g").attr("transform","translate(0,"+("top"===a.orient()?27:4)+")").call(a);n.on("change.axis-"+t,function(){r.call(a),i||(i=d3.select(r.node().appendChild(r.selectAll("text").node().cloneNode(!0))).style("display","none").text(null))}),n.on("focus.axis-"+t,function(t){if(i)if(null==t)i.style("display","none"),r.selectAll("text").style("fill-opacity",null);else{i.style("display",null).attr("x",t).text(s(o.invert(t)));var n=i.node().getComputedTextLength()+6;r.selectAll("text").style("fill-opacity",function(e){return Math.abs(o(e)-t)<n?0:1})}})}return l.remove=function(e){e.selectAll("svg").each(function(e){n.on("change.axis-"+e.id,null),n.on("focus.axis-"+e.id,null)}).remove()},l.focusFormat=function(e){return arguments.length?(s=null==e?t:e,l):s==t?null:e},d3.rebind(l,a,"orient","ticks","tickSubdivide","tickSize","tickPadding","tickFormat")};var p=d3.time.format("%I:%M:%S %p"),f=d3.time.format("%I:%M %p"),v=d3.time.format("%B %d");function y(e){e.style("position","absolute").style("top",0).style("bottom",0).style("width","1px").style("pointer-events","none")}function b(e){return e+"px"}t.rule=function(){var l=this,r=E;function t(s){var e=++A,t=s.append("div").datum({id:e}).attr("class","line").call(y);s.each(function(e,t){var n=++A,a="function"==typeof r?r.call(this,e,t):r;function i(e,t){for(var n=[],i=0,r=l.size();i<r;++i)a.valueAt(i)&&n.push(i);var o=s.selectAll(".metric").data(n);o.exit().remove(),o.enter().append("div").attr("class","metric line").call(y),o.style("left",b)}a&&(l.on("change.rule-"+n,i),a.on("change.rule-"+n,i))}),l.on("focus.rule-"+e,function(e){t.datum(e).style("display",null==e?"none":null).style("left",null==e?null:b)})}return t.remove=function(e){e.selectAll(".line").each(function(e){l.on("focus.rule-"+e.id,null)}).remove()},t.metric=function(e){return arguments.length?(r=e,t):r},t}}(this),function(){var e,n=function(s,n){function a(e,t){null!=t&&(s.isArray(t)?e.path=s.map(t,n.escape).join("/"):e.path=t)}function l(e,t){if(null==e)return null;if(200==e.status)return e.value;if(t&&t.error)return t.error(e);throw new Error("Jolokia-Error: "+JSON.stringify(e))}function c(t){if(t&&t.success){var e=s.extend({},t);return e.success=function(e){t.success(e.value)},e}return t}return s.extend(n.prototype,{getAttribute:function(e,t,n,i){3===arguments.length&&s.isPlainObject(n)?(i=n,n=null):2==arguments.length&&s.isPlainObject(t)&&(i=t,n=t=null);var r={type:"read",mbean:e,attribute:t};return a(r,n),l(this.request(r,c(i)),i)},setAttribute:function(e,t,n,i,r){4===arguments.length&&s.isPlainObject(i)&&(r=i,i=null);var o={type:"write",mbean:e,attribute:t,value:n};return a(o,i),l(this.request(o,c(r)),r)},execute:function(e,t){var n,i={type:"exec",mbean:e,operation:t},r=arguments.length;if(2<arguments.length&&s.isPlainObject(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],r=arguments.length-1),2<r){for(var o=[],a=2;a<r;a++)o[a-2]=arguments[a];i.arguments=o}return l(this.request(i,c(n)),n)},search:function(e,t){var n={type:"search",mbean:e};return l(this.request(n,c(t)),t)},version:function(e){return l(this.request({type:"version"},c(e)),e)},list:function(e,t){1==arguments.length&&!s.isArray(e)&&s.isPlainObject(e)&&(t=e,e=null);var n={type:"list"};return a(n,e),l(this.request(n,c(t)),t)}}),n};e=this,"function"==typeof define&&define.amd?define(["jquery","jolokia"],function(e,t){return n(e,t)}):e.Jolokia?n(jQuery,e.Jolokia):console.error("No Jolokia definition found. Please include jolokia.js before jolokia-simple.js")}(),function(){var e,n=function(e,r){var t=function(e,t){var n={},g=this,m=function(e,t){{if(e instanceof r)return e;var n;if("string"==typeof e){if(n={url:e},t)for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])}else n=e;return new r(n)}}(e,t);try{g.on("start",function(){m.start()}),g.on("stop",function(){m.stop()})}catch(e){}return n.metric=function(){var e,i=[],t=arguments.length,n={},r=arguments.length-1,o=arguments[r];"string"==typeof o&&(e=o,t=r),"object"!=typeof o||o.type||(e=(n=o).name,t=r),e||"function"==typeof arguments[0]||(e=arguments[0].mbean);var h,p,f,a=g.metric((h=i,p=n.keepDelay,f=g.width,function(e,t,n,i){e=+e;var r=[],o=t=+t,a=h.length,s=0,l=0<a?h[a-1].time:void 0;if(!a||t<l){for(var c=e;c<=t;c+=n)r.push(NaN);return i(null,r)}for(;o>h[0].time+n;)r.unshift(NaN),o-=n;for(;e<=o&&l<=o;){for(;h[s].time>o;)s++;r.unshift(h[s].value),o-=n}for(;e<=o;)r.unshift(NaN),o-=n;if(f<a)if(p){for(var u=h[f].time-p,d=f;d<a&&h[d].time>u;)d++;h.length=d}else h.length=f;i(null,r)}),e);if(n.delta){var s=a.shift(-n.delta);a=a.subtract(s),e&&(a.toString=function(){return e})}if("function"==typeof arguments[0]){for(var l=arguments[0],c=[function(e){for(var t=!1,n=0;n<arguments.length;n++)if(m.isError(arguments[n])){t=!0;break}i.unshift({time:Date.now(),value:t?NaN:l.apply(a,arguments)})}],u=1;u<t;u++)c.push(arguments[u]);m.register.apply(m,c)}else{var d=arguments[0];m.register(function(e){i.unshift({time:Date.now(),value:m.isError(e)?NaN:Number(e.value)})},d)}return a},n.start=function(e){e=e||5e3,m.start(e)},n.stop=function(){m.stop()},n.isRunning=function(){return m.isRunning()},n};return t.VERSION="1.1.3",e.context.prototype.jolokia=t};e=this,"function"==typeof define&&define.amd?define(["cubism","jolokia"],function(e,t){return n(e,t)}):e.Jolokia&&e.cubism?n(e.cubism,e.Jolokia):console.error("No "+(e.cubism?"Cubism":"Jolokia")+" definition found. Please include jolokia.js and cubism.js before jolokia-cubism.js")}();var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}}(),JVM,JVM,Core,JVM,JVM,Core;!function(e){e.rootPath="plugins/jvm",e.templatePath=UrlHelpers.join(e.rootPath,"/html"),e.pluginName="hawtio-jvm",e.log=Logger.get(e.pluginName),e.connectControllerKey="jvmConnectSettings",e.connectionSettingsKey=Core.connectionSettingsKey,e.logoPath="img/icons/jvm/",e.logoRegistry={jetty:e.logoPath+"jetty-logo-80x22.png",tomcat:e.logoPath+"tomcat-logo.gif",generic:e.logoPath+"java-logo.svg"}}(JVM||(JVM={})),function(i){i.configureScope=function(e,n,t){e.isActive=function(e){var t=Core.trimLeading(e,"#");return n.path()===t},e.isValid=function(e){return e&&e.isValid(t)},e.hasLocalMBean=function(){return i.hasLocalMBean(t)}},i.hasLocalMBean=function(e){return e.treeContainsDomainAndProperties("hawtio",{type:"JVMList"})},i.hasDiscoveryMBean=function(e){return e.treeContainsDomainAndProperties("jolokia",{type:"Discovery"})}}(JVM||(JVM={})),function(a){function i(e){return a.isBlank(e.recentConnections)&&a.clearConnections(),angular.fromJson(e.recentConnections)}function s(e,t){var n=i(e);n=_.take(_.uniq(n.push(t)),5),e.recentConnections=angular.toJson(n)}function l(e){var t=a.loadConnectionMap(),n=angular.extend({},e);delete n.userName,delete n.password,t[e.name]=n,a.saveConnectionMap(t)}a.createJolokia=function(e,t,n){return new Jolokia({url:e,username:t,password:n,canonicalNaming:!1,ignoreErrors:!0,mimeType:"application/json"})},a.getRecentConnections=i,a.addRecentConnection=s,a.removeRecentConnection=function(e,t){var n=i(e);n=_.without(n,t),e.recentConnections=angular.toJson(n)},a.clearConnections=function(){localStorage.recentConnections="[]"},a.isRemoteConnection=function(){return"con"in(new URI).query(!0)},a.saveConnection=l,a.connectToServer=function(e,t){if(a.log.debug("Connecting with options: ",StringHelpers.toString(t)),s(e,t.name),!("userName"in t)){var n=HawtioCore.injector.get("userDetails");t.userName=n.username,t.password=n.password}l(t);var i=HawtioCore.injector.get("$window"),r=(t.view||"/")+"?con="+t.name;r=(r=r.replace(/\?/g,"&")).replace(/&/,"?");var o=i.open(r);o.con=t.name,o.userDetails={username:t.userName,password:t.password,loginDetails:{}}},a.loadConnectionMap=function(){var t=a.getLocalStorage();try{var e=angular.fromJson(t[a.connectionSettingsKey]);return e||{}}catch(e){return delete t[a.connectionSettingsKey],{}}},a.saveConnectionMap=function(e){Logger.get("Core").debug("Saving connection map: ",StringHelpers.toString(e)),localStorage[a.connectionSettingsKey]=angular.toJson(e)},a.getConnectionNameParameter=function(){return(new URI).search(!0).con},a.getConnectOptions=function(e,t){return void 0===t&&(t=a.getLocalStorage()),e?a.loadConnectionMap()[e]:null},a.createServerConnectionUrl=function(e){Logger.get("Core").debug("Connect to server, options: ",StringHelpers.toString(e));var t=null;if(e.jolokiaUrl&&(t=e.jolokiaUrl),null===t){var n=new URI;n.protocol(e.scheme||"http").host(e.host||"localhost").port(e.port||"80").path(e.path),t=e.useProxy?UrlHelpers.join("proxy",n.protocol(),n.hostname(),n.port(),n.path()):n.toString()}return Logger.get(JVM.pluginName).debug("Using URL: ",t),t}}(Core||(Core={})),function(y){y.windowJolokia=void 0,y._module=angular.module(y.pluginName,[]),y._module.config(["$provide","$routeProvider",function(e,t){t.when("/jvm",{redirectTo:"/jvm/connect"}).when("/jvm/welcome",{templateUrl:UrlHelpers.join(y.templatePath,"welcome.html")}).when("/jvm/discover",{templateUrl:UrlHelpers.join(y.templatePath,"discover.html")}).when("/jvm/connect",{templateUrl:UrlHelpers.join(y.templatePath,"connect.html")}).when("/jvm/local",{templateUrl:UrlHelpers.join(y.templatePath,"local.html")})}]),y._module.constant("mbeanName","hawtio:type=JVMList"),y._module.run(["HawtioNav","$location","workspace","viewRegistry","layoutFull","helpRegistry","preferencesRegistry","ConnectOptions","locationChangeStartTasks","HawtioDashboard","HawtioExtension","$templateCache","$compile",function(e,r,t,n,i,o,a,s,l,c,u,d,h){u.add("hawtio-header",function(e){var t=d.get(UrlHelpers.join(y.templatePath,"navbarHeaderExtension.html"));return h(t)(e)}),c.inDashboard||l.addTask("ConParam",function(e,t,n){if(HawtioCore.injector&&s&&s.name&&t){var i=new URI(t).query(!0);i.con||(i.con=s.name,r.search(i))}});var p=e.builder(),f=p.id("jvm-remote").href(function(){return"/jvm/connect"}).title(function(){return"Remote"}).tooltip(function(){return"To connect to a remote JVM"}).build(),g=p.id("jvm-local").href(function(){return"/jvm/local"}).title(function(){return"Local"}).tooltip(function(){return"To connect to a locale JVM"}).show(function(){return y.hasLocalMBean(t)}).build(),m=p.id("jvm-discover").href(function(){return"/jvm/discover"}).title(function(){return"Discover"}).tooltip(function(){return"To discover JVMs in the network that has Jolokia agent running"}).show(function(){return y.hasDiscoveryMBean(t)}).build(),v=p.id("jvm").href(function(){return"/jvm"}).title(function(){return"Connect"}).isValid(function(){return null==s||null==s.name}).tabs(f,g,m).build();e.add(v),o.addUserDoc("jvm","plugins/jvm/doc/help.md"),a.addTab("Connect","plugins/jvm/html/reset.html"),a.addTab("Jolokia","plugins/jvm/html/jolokiaPreferences.html")}]),hawtioPluginLoader.addModule(y.pluginName)}(JVM||(JVM={})),function(m){var d=["/hawtio/jolokia","/jolokia","jolokia"],h=null;function n(e){if(void 0===e&&(e=!1),!Core.isBlank(m.ConnectionName)&&!e)return m.ConnectionName;m.ConnectionName="";var t=(new URI).search(!0);return"con"in window?(m.ConnectionName=window.con,m.log.debug("Using connection name from window: ",m.ConnectionName)):"con"in t?(m.ConnectionName=t.con,m.log.debug("Using connection name from URL: ",m.ConnectionName)):m.log.debug("No connection name found, using direct connection to JVM"),m.ConnectionName}function o(){var e=n();if(Core.isBlank(e))return!1;var t=Core.getConnectOptions(e);try{window.opener&&"passUserDetails"in window.opener&&(t.userName=window.opener.passUserDetails.username,t.password=window.opener.passUserDetails.password)}catch(e){}return t}function e(){if(m.skipJolokia)return!1;var e=void 0,t=o(),n=HawtioCore.documentBase();if(t&&t.name?(e=Core.createServerConnectionUrl(t),m.log.debug("Using configured URL")):(m.log.debug("Using discovered URL"),e=h),!e)return!1;var i=new URI,r=void 0;return(r=_.startsWith(e,"/")||_.startsWith(e,"http")?new URI(e):new URI(UrlHelpers.join(n,e))).protocol()||r.protocol(i.protocol()),r.hostname()||r.host(i.hostname()),r.port()||r.port(i.port()),e=r.toString(),m.log.debug("Complete jolokia URL: ",e),e}function v(){var e=["Authorization"],n=o();return n.token?(m.log.debug("Setting authorization header to token"),function(t){e.forEach(function(e){t.setRequestHeader(e,"Bearer "+n.token)})}):n.username&&n.password?(m.log.debug("Setting authorization header to username/password"),function(t){e.forEach(function(e){t.setRequestHeader(e,Core.getBasicAuthHeader(n.username,n.password))})}):(m.log.debug("Not setting any authorization header"),function(e){})}m.skipJolokia=!1,hawtioPluginLoader.registerPreBootstrapTask({name:"JvmParseLocation",task:function(o){if(m.skipJolokia)o();else{var e=new URI,t=e.query(!0);m.log.debug("query: ",t);var n=t.jolokiaUrl;if(n){delete t["sub-tab"],delete t["main-tab"],n=URI.decode(n);var i=new URI(n),r=t.title||"Unknown Connection",a=t.token||Core.trimLeading(e.hash(),"#"),s=Core.createConnectOptions({name:r,scheme:i.protocol(),host:i.hostname(),port:Core.parseIntValue(i.port()),path:Core.trimLeading(i.pathname(),"/"),useProxy:!1});Core.isBlank(a)||(s.token=a),_.merge(s,i.query(!0)),_.assign(s,t),m.log.debug("options: ",s);var l=Core.loadConnectionMap();return l[r]=s,Core.saveConnectionMap(l),e.hash("").query({con:r}),void window.location.replace(e.toString())}if(t.con)return m.log.debug("Not discovering jolokia"),void o();u(d.pop())}function c(e){0===e.length?o():u(e.pop())}function u(r){m.log.debug("trying URL: ",r),$.ajax(r).always(function(e,t,n){if("success"!==t&&(n=e),200===n.status)try{var i=angular.fromJson(e);"value"in i&&"agent"in i.value?(h=r,m.log.debug("Found jolokia agent at: ",r," version: ",i.value.agent),o()):c(d)}catch(e){c(d)}else 401===n.status||403===n.status?(h=r,m.log.debug("Using URL: ",r," assuming it could be an agent but got return code: ",n.status),o()):c(d)})}}}),m.ConnectionName=null,m.getConnectionName=n,m.getConnectionOptions=o,m.getJolokiaUrl=e,m._module.service("ConnectionName",[function(){return function(e){return void 0===e&&(e=!1),n(e)}}]),m._module.service("ConnectOptions",[function(){return o()}]),m._module.factory("jolokiaUrl",[function(){return e()}]),m._module.factory("jolokiaStatus",function(){return{xhr:null}}),m.DEFAULT_MAX_DEPTH=7,m.DEFAULT_MAX_COLLECTION_SIZE=500,m._module.factory("jolokiaParams",["jolokiaUrl","localStorage",function(e,t){var n={canonicalNaming:!1,ignoreErrors:!0,mimeType:"application/json",maxDepth:m.DEFAULT_MAX_DEPTH,maxCollectionSize:m.DEFAULT_MAX_COLLECTION_SIZE};return"jolokiaParams"in t?n=angular.fromJson(t.jolokiaParams):t.jolokiaParams=angular.toJson(n),n.url=e,n}]),m.getBeforeSend=v,m._module.factory("jolokia",["$location","localStorage","jolokiaStatus","$rootScope","userDetails","jolokiaParams","jolokiaUrl","ConnectOptions","HawtioDashboard","$modal",function(e,t,n,i,o,r,a,s,l,c){if(l.inDashboard&&m.windowJolokia)return m.windowJolokia;if(a){var u=null,d=null;if(s.userName&&s.password)u=s.userName,d=s.password,o.username=u,o.password=d;else if(angular.isDefined(o)&&angular.isDefined(o.username)&&angular.isDefined(o.password))u=o.username,d=o.password;else{var h=e.search();u=h._user,d=h._pwd,angular.isArray(u)&&(u=u[0]),angular.isArray(d)&&(d=d[0])}$.ajaxSetup({beforeSend:v()});var p=null;r.ajaxError=r.ajaxError?r.ajaxError:function(r,e,t){401===r.status||403===r.status?(o.username=null,o.password=null,delete o.loginDetails,window.opener&&"passUserDetails"in window.opener&&delete window.opener.passUserDetails):!(n.xhr=r).responseText&&t&&(r.responseText=t.stack),p||(p=c.open({templateUrl:UrlHelpers.join(m.templatePath,"jolokiaError.html"),controller:["$scope","$modalInstance","ConnectOptions","jolokia",function(e,t,n,i){i.stop(),e.responseText=r.responseText,e.ConnectOptions=n,e.retry=function(){p=null,t.close(),i.start()},e.goBack=function(){n.returnTo&&(window.location.href=n.returnTo)}}]}),Core.$apply(i))};var f=new Jolokia(r);return f.stop(),"updateRate"in t&&0<t.updateRate&&f.start(t.updateRate),m.windowJolokia=f}var g={isDummy:!0,running:!1,request:function(e,t){return null},register:function(e,t){return null},list:function(e,t){return null},search:function(e,t){return null},getAttribute:function(e,t,n,i){return null},setAttribute:function(e,t,n,i,r){},version:function(e){return null},execute:function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return null},start:function(e){g.running=!0},stop:function(){g.running=!1},isRunning:function(){return g.running},jobs:function(){return[]}};return m.windowJolokia=g}])}(JVM||(JVM={})),function(S){var k=Logger.get("workspace");S.tree=null;var e=function(){function t(e,t,n,i,r,o,a,s,l,c){this.jolokia=e,this.jolokiaStatus=t,this.jmxTreeLazyLoadRegistry=n,this.$location=i,this.$compile=r,this.$templateCache=o,this.localStorage=a,this.$rootScope=s,this.userDetails=l,this.HawtioNav=c,this.operationCounter=0,this.tree=new S.Folder("MBeans"),this.mbeanTypesToDomain={},this.mbeanServicesToDomain={},this.attributeColumnDefs={},this.treePostProcessors={},this.topLevelTabs=void 0,this.subLevelTabs=[],this.keyToNodeMap={},this.pluginRegisterHandle=null,this.pluginUpdateCounter=null,this.treeWatchRegisterHandle=null,this.treeWatcherCounter=null,this.treeElement=null,this.treeFetched=!1,this.mapData={},"autoRefresh"in a||(a.autoRefresh=!0),"updateRate"in a||(a.updateRate=5e3);var u=this;this.topLevelTabs={push:function(e){k.debug("Added menu item: ",e);var t={id:e.id,title:function(){return e.content},isValid:function(){return e.isValid(u)},href:function(){return UrlHelpers.noHash(e.href())}};e.isActive&&(t.isSelected=function(){return e.isActive(u)}),u.HawtioNav.add(t)},find:function(e){}}}return t.prototype.createChildWorkspace=function(e){var n=new t(this.jolokia,this.jolokiaStatus,this.jmxTreeLazyLoadRegistry,this.$location,this.$compile,this.$templateCache,this.localStorage,this.$rootScope,this.userDetails,this.HawtioNav);return angular.forEach(this,function(e,t){return n[t]=e}),n.$location=e,n},t.prototype.getLocalStorage=function(e){return this.localStorage[e]},t.prototype.setLocalStorage=function(e,t){this.localStorage[e]=t},t.prototype.loadTree=function(){var t=this,n=this;if(this.jolokia.isDummy)setTimeout(function(){n.treeFetched=!0,n.populateTree({value:{}})},10);else if(S.tree)setTimeout(function(){n.treeFetched=!0,n.populateTree(S.tree),S.tree=null},1);else{var e={ignoreErrors:!0,error:function(e){n.treeFetched=!0,k.debug("Error fetching JMX tree: ",e)}};k.debug("jolokia: ",this.jolokia),this.jolokia.request({type:"list"},S.onSuccess(function(e){e.value&&(t.jolokiaStatus.xhr=null),n.treeFetched=!0,n.populateTree(e)},e))}},t.prototype.addTreePostProcessor=function(e){var t=_.keys(this.treePostProcessors).length+1;return this.addNamedTreePostProcessor(t+"",e)},t.prototype.addNamedTreePostProcessor=function(e,t){this.treePostProcessors[e]=t;var n=this.tree;return this.treeFetched&&n&&t(n),e},t.prototype.removeNamedTreePostProcessor=function(e){delete this.treePostProcessors[e]},t.prototype.maybeMonitorPlugins=function(){this.treeContainsDomainAndProperties("hawtio",{type:"Registry"})?null===this.pluginRegisterHandle&&(this.pluginRegisterHandle=this.jolokia.register(angular.bind(this,this.maybeUpdatePlugins),{type:"read",mbean:"hawtio:type=Registry",attribute:"UpdateCounter"})):null!==this.pluginRegisterHandle&&(this.jolokia.unregister(this.pluginRegisterHandle),this.pluginRegisterHandle=null,this.pluginUpdateCounter=null),this.treeContainsDomainAndProperties("hawtio",{type:"TreeWatcher"})&&null===this.treeWatchRegisterHandle&&(this.treeWatchRegisterHandle=this.jolokia.register(angular.bind(this,this.maybeReloadTree),{type:"read",mbean:"hawtio:type=TreeWatcher",attribute:"Counter"}))},t.prototype.maybeUpdatePlugins=function(e){null!==this.pluginUpdateCounter?this.pluginUpdateCounter!==e.value&&S.parseBooleanValue(localStorage.autoRefresh)&&window.location.reload():this.pluginUpdateCounter=e.value},t.prototype.maybeReloadTree=function(e){var t=e.value;if(null!==this.treeWatcherCounter){if(this.treeWatcherCounter!==t){this.treeWatcherCounter=t;var n=this;this.jolokia.list(null,S.onSuccess(function(e){var t={value:e};n.populateTree(t)},{ignoreErrors:!0,maxDepth:2}))}}else this.treeWatcherCounter=t},t.prototype.folderGetOrElse=function(t,n){if(t)try{return t.getOrElse(n)}catch(e){k.warn("Failed to find value "+n+" on folder "+t)}return null},t.prototype.populateTree=function(e){k.debug("JMX tree has been loaded, data: ",e.value);var t="root";this.mbeanTypesToDomain={},this.mbeanServicesToDomain={},this.keyToNodeMap={};var n=new S.Folder("MBeans");n.key=t;var i=e.value;for(var a in i){var s=S.escapeDots(a),r=i[a];for(var o in r){var l={},c=this.folderGetOrElse(n,a);c.domain=a,c.key||(c.key="root-"+a);var u=[a];c.folderNames=u,u=_.clone(u);var d=o.split(","),h=[],p=null,f=null;d.forEach(function(e){var t=e.indexOf("="),n=[];0<t?(n[0]=e.substr(0,t),n[1]=e.substr(t+1)):n[0]=e;var i=n[0],r=n[1]||i;l[i]=r;var o=!1,a=i.toLowerCase();"type"===a&&(p=r,c.map[r]&&(o=!0)),"service"===a&&(f=r),o?h.splice(0,0,r):h.push(r)});var g=function(n,e){n.domain=a,n.key||(n.key="root-"+u.join("-")),(this.keyToNodeMap[n.key]=n).folderNames=_.clone(u);var i="",r=n.entries,t=_.filter(_.keys(r),function(e){return 0<=e.toLowerCase().indexOf("type")});if(t.length)angular.forEach(t,function(e){var t=r[e];n.ancestorHasEntry(e,t)||(i+=" "+s+"-"+t)});else{var o=_.last(u);o===e&&(o+="-folder"),o&&(i+=" "+s+"-"+o)}return n.addClass=S.escapeTreeCssStyles(i),n},m=h.pop(),v=this;h.forEach(function(e){(c=v.folderGetOrElse(c,e))&&(u.push(e),angular.bind(v,g,c,e)())});var y="root-"+u.join("-")+"-"+m,b=a+":"+o;if(c){if(c=this.folderGetOrElse(c,m)){c.entries=l,c.key=y,angular.bind(this,g,c,m)(),c.title=S.trimQuotes(m),c.objectName=b,c.mbean=r[o],c.typeName=p;var w=function(e,t){var n=e[t];n||(n={},e[t]=n);var i=n[a];if(i){var r=null;angular.isArray(i)?r=i:(r=[i],n[a]=r),r.push(c)}else n[a]=c};f&&angular.bind(this,w,this.mbeanServicesToDomain,f)(),p&&angular.bind(this,w,this.mbeanTypesToDomain,p)()}}else k.info("No folder found for lastPath: "+m)}}n.sortChildren(!0),this.enableLazyLoading(n),this.tree=n;var x=this.treePostProcessors;_.forIn(x,function(e,t){k.debug("Running tree post processor: ",t),e(n)}),this.maybeMonitorPlugins();var C=this.$rootScope;C&&(C.$broadcast("jmxTreeUpdated"),S.$apply(C))},t.prototype.enableLazyLoading=function(e){var t=this,n=e.children;n&&n.length?angular.forEach(n,function(e){t.enableLazyLoading(e)}):Jmx.findLazyLoadingFunction(this,e)&&(e.isLazy=!0)},t.prototype.hash=function(){var e=this.$location.search(),t=S.hashToString(e);return t?"?"+t:""},t.prototype.getActiveTab=function(){var t=this;return _.find(this.topLevelTabs,function(e){return angular.isDefined(e.isActive)?e.isActive(t):t.isLinkActive(e.href())})},t.prototype.getStrippedPathName=function(){var e=S.trimLeading(this.$location.path()||"/","#");return e=e.replace(/^\//,"")},t.prototype.linkContains=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.getStrippedPathName();return _.every(e,function(e){return 0!==n.indexOf(e)})},t.prototype.isLinkActive=function(e){var t=this.getStrippedPathName(),n=S.trimLeading(e,"#"),i=(n=n.replace(/^\//,"")).indexOf("?");return 0<=i&&(n=n.substring(0,i)),t.length?_.startsWith(t,n):n===t},t.prototype.isLinkPrefixActive=function(e){var t=this.getStrippedPathName(),n=S.trimLeading(e,"#"),i=(n=n.replace(/^\//,"")).indexOf("?");return 0<=i&&(n=n.substring(0,i)),_.startsWith(t,n)},t.prototype.isTopTabActive=function(e){var t=this.$location.search().tab;return angular.isString(t)?_.startsWith(t,e):this.isLinkActive(e)},t.prototype.getSelectedMBeanName=function(){var e=this.selection;return e?e.objectName:null},t.prototype.getSelectedMBean=function(){if(this.selection)return this.selection;k.debug("Location: ",this.$location);var t=this.$location.search().nid;if(t&&this.tree){var e=this.tree.findDescendant(function(e){return t===e.id});return this.selection||(this.selection=e),e}return null},t.prototype.validSelection=function(e){return!0},t.prototype.removeAndSelectParentNode=function(){var t=this.selection;if(t){var e=t.parent;if(e){var n=e.children.indexOf(t);n<0&&(n=_.findIndex(e.children,function(e){return e.key===t.key})),0<=n&&e.children.splice(n,1),this.updateSelectionNode(e)}}},t.prototype.selectParentNode=function(){var e=this.selection;if(e){var t=e.parent;t&&this.updateSelectionNode(t)}},t.prototype.selectionViewConfigKey=function(){return this.selectionConfigKey("view/")},t.prototype.selectionConfigKey=function(e){void 0===e&&(e="");var t=null,n=this.selection;if(n){t=e+n.domain;var i=n.typeName;i||(i=n.title),t+="/"+i,n.isFolder()&&(t+="/folder")}return t},t.prototype.moveIfViewInvalid=function(){var n=this,e=S.trimLeading(this.$location.path(),"/");if(this.selection){var t=this.selectionViewConfigKey();if(this.validSelection(e))return this.setLocalStorage(t,e),!1;k.info("the uri '"+e+"' is not valid for this selection");var i=this.getLocalStorage(t);return i&&this.validSelection(i)||(i=null,angular.forEach(this.subLevelTabs,function(e){var t=e.isValid;!i&&e.href&&angular.isDefined(t)&&t(n)&&(i=e.href())})),i||(i="#/jmx/help"),k.info("moving the URL to be "+i),_.startsWith(i,"#")&&(i=i.substring(1)),this.$location.path(i),!0}return!1},t.prototype.updateSelectionNode=function(e){this.selection;var t=null;if((this.selection=e)&&(t=e.key),t){var n=this.$location,i=n.search();i.nid=t,n.search(i)}},t.prototype.redrawTree=function(){var e=this.treeElement;if(e&&angular.isDefined(e.dynatree)&&angular.isFunction(e.dynatree)){var t=e.dynatree("getTree");if(angular.isDefined(t))try{t.reload()}catch(e){}}},t.prototype.expandSelection=function(e){var t=this.treeElement;if(t&&angular.isDefined(t.dynatree)&&angular.isFunction(t.dynatree)){var n=t.dynatree("getActiveNode");angular.isDefined(n)&&n.expand(e)}},t.prototype.matchesProperties=function(e,t){if(!e)return!1;for(var n in t){var i=t[n];if(!i||e[n]!==i)return!1}return!0},t.prototype.hasInvokeRightsForName=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(e){var i=S.parseMBean(e);if(i){var r=this.findMBeanWithProperties(i.domain,i.attributes);if(r)return this.hasInvokeRights.apply(this,[r].concat(t));k.debug("Failed to find mbean folder with name "+e)}else k.debug("Failed to parse mbean name "+e)}return!0},t.prototype.hasInvokeRights=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=!0;if(e){var r=e.mbean;if(r&&(angular.isDefined(r.canInvoke)&&(i=r.canInvoke),i&&t&&0<t.length)){var o=r.opByString,a=r.op;o&&a&&t.forEach(function(e){if(i){var t=null;(t=_.endsWith(e,")")?o[e]:a[e])?angular.isDefined(t.canInvoke)&&(i=t.canInvoke):k.debug("Could not find method:",e," to check permissions, skipping")}})}}return i},t.prototype.treeContainsDomainAndProperties=function(t,n){var i=this;void 0===n&&(n=null);var e=this.tree;if(e){var r=e.get(t);if(r){if(n){var o=r.children||[],a=function(e){return!!i.matchesProperties(e.entries,n)||!!(e.domain===t&&e.children&&0<e.children.length)&&e.children.some(a)};return o.some(a)}return!0}}return!1},t.prototype.matches=function(e,t,n){if(e){var i=e.entries;if(t){if(!i)return!1;for(var r in t){var o=t[r];if(!o||i[r]!==o)return!1}}return!n||i&&Object.keys(i).length===n}return!1},t.prototype.hasDomainAndProperties=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this.selection;return!!i&&(this.matches(i,t,n)&&i.domain===e)},t.prototype.findMBeanWithProperties=function(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null);var i=this.tree;return i?this.findChildMBeanWithProperties(i.get(e),t,n):null},t.prototype.findChildMBeanWithProperties=function(e,t,n){var i=this;void 0===t&&(t=null),void 0===n&&(n=null);var r=this;if(e){var o=e.children;if(o){var a=_.find(o,function(e){return i.matches(e,t,n)});if(a)return a;_.find(o.map(function(e){return r.findChildMBeanWithProperties(e,t,n)}),function(e){return e})}}return null},t.prototype.selectionHasDomainAndLastFolderName=function(e,t){var n=(t||"").toLowerCase();function i(e){return(e||"").toLowerCase()===n}var r=this.selection;if(r&&e===r.domain){var o=r.folderNames;if(o)return(i(_.last(o))||i(r.title))&&r.isFolder()&&!r.objectName}return!1},t.prototype.selectionHasDomain=function(e){var t=this.selection;return!!t&&e===t.domain},t.prototype.selectionHasDomainAndType=function(e,t){var n=this.selection;return!!n&&(e===n.domain&&t===n.typeName)},t.prototype.hasMBeans=function(){var e=!1,t=this.tree;if(t){var n=t.children;angular.isArray(n)&&0<n.length&&(e=!0)}return e},t.prototype.hasFabricMBean=function(){return this.hasDomainAndProperties("io.fabric8",{type:"Fabric"})},t.prototype.isFabricFolder=function(){return this.hasDomainAndProperties("io.fabric8")},t.prototype.isCamelContext=function(){return this.hasDomainAndProperties("org.apache.camel",{type:"context"})},t.prototype.isCamelFolder=function(){return this.hasDomainAndProperties("org.apache.camel")},t.prototype.isEndpointsFolder=function(){return this.selectionHasDomainAndLastFolderName("org.apache.camel","endpoints")},t.prototype.isEndpoint=function(){return this.hasDomainAndProperties("org.apache.camel",{type:"endpoints"})},t.prototype.isRoutesFolder=function(){return this.selectionHasDomainAndLastFolderName("org.apache.camel","routes")},t.prototype.isRoute=function(){return this.hasDomainAndProperties("org.apache.camel",{type:"routes"})},t.prototype.isComponentsFolder=function(){return this.selectionHasDomainAndLastFolderName("org.apache.camel","components")},t.prototype.isComponent=function(){return this.hasDomainAndProperties("org.apache.camel",{type:"components"})},t.prototype.isDataformatsFolder=function(){return this.selectionHasDomainAndLastFolderName("org.apache.camel","dataformats")},t.prototype.isDataformat=function(){return this.hasDomainAndProperties("org.apache.camel",{type:"dataformats"})},t.prototype.isOsgiFolder=function(){return this.hasDomainAndProperties("osgi.core")},t.prototype.isKarafFolder=function(){return this.hasDomainAndProperties("org.apache.karaf")},t.prototype.isOsgiCompendiumFolder=function(){return this.hasDomainAndProperties("osgi.compendium")},t}();S.Workspace=e}(Core||(Core={}));var Workspace=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t}(Core.Workspace),Core,Jmx,Jmx,Jmx,Jmx,Jmx,Jmx,Jmx,Jmx,Jmx,Core,Jmx,Jmx,Jmx,Jmx,JVM,JVM,JVM,JVM,JVM,JVM,JVM,Threads,Threads;!function(u){u.getMBeanTypeFolder=function(e,t,n){if(e){var i=((e.mbeanTypesToDomain||{})[n]||{})[t];return angular.isArray(i)&&i.length?i[0]:i}return null},u.getMBeanTypeObjectName=function(e,t,n){var i=u.getMBeanTypeFolder(e,t,n);return u.pathGet(i,["objectName"])},u.createRemoteWorkspace=function(e,t,n,i,r,o,a,s){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===a&&(a=null),void 0===s&&(s=null);var l=u.lazyLoaders,c=new u.Workspace(e,{xhr:null},l,t,r,o,n,i,a,s);return u.log.info("Loading the profile using jolokia: "+e),c.loadTree(),c}}(Core||(Core={})),function(s){s.pluginName="hawtio-jmx",s.log=Logger.get(s.pluginName),s.currentProcessId="",s.templatePath="plugins/jmx/html",s.getUrlForThing=function(e,t,n,i){var r=new URI(e);return r.segment(t).segment(n).segment(i),r.toString()},s.getNavItems=function(e,o,t,n){void 0===n&&(n="jmx");var i=e.id(n+"-attributes").title(function(){return'<i class="fa fa-list"></i> Attributes'}).tooltip(function(){return"List the attributes on the MBean"}).href(function(){return"/jmx/attributes"+o.hash()}).build(),r=e.id(n+"-operations").title(function(){return'<i class="fa fa-leaf"></i> Operations'}).tooltip(function(){return"List the operations on the MBean"}).href(function(){return"/jmx/operations"+o.hash()}).build(),a=e.id(n+"-chart").title(function(){return'<i class="fa fa-bar-chart"></i> Charts'}).tooltip(function(){return"Real time chart of the attributes from the MBean"}).href(function(){return"/jmx/charts"+o.hash()}).build(),s=e.id(n+"-edit-chart").title(function(){return'<i class="fa fa-cog"></i> Edit Chart'}).tooltip(function(){return"Edit the chart to choose which attributes to show from the MBean"}).href(function(){return"/jmx/chartEdit"+o.hash()}).build(),l=e.id(n+"-add-dashboard").title(function(){return'<i class="fa fa-share"></i>'}).tooltip(function(){return"Add current view to dashboard"}).attributes({class:"pull-right"}).show(function(){if(!HawtioCore.injector)return!0;var e=HawtioCore.injector.get("HawtioDashboard");return e&&e.hasDashboard}).click(function(){if(HawtioCore.injector){var e=HawtioCore.injector.get("HawtioDashboard");if(e){var t=2,n=2,i=o.getSelectedMBeanName();o.$location.path().has("/jmx/charts")&&(t=4,n=3);var r=e.getAddLink(i,t,n);o.$location.url(r.toString()),Core.$apply(o.$rootScope)}return!1}}).href(function(){return""}).build();return s.show=function(){return o.isLinkActive("jmx/chart")},[i,r,a,s,l]};var l={};function i(e,t,n,i){void 0===i&&(i=!1);var r=t.dynatree("getTree");if(r){var o=null,a=e.search().nid;if(a)try{o=r.activateKey(a)}catch(e){}if(o)o.expand(!0);else if(!t.dynatree("getActiveNode")){var s=t.dynatree("getRoot"),l=s?s.getChildren():null;if(l&&l.length){var c=l[0];if(c.expand(!0),n){var u=n(c);u&&(c=u)}i&&(c.expand(),c.activate())}}}}s.findLazyLoadingFunction=function(e,t){var n=e.jmxTreeLazyLoadRegistry[t.domain],i=null;return n&&n.length&&angular.forEach(n,function(e){i||(i=e(t))}),i},s.registerLazyLoadHandler=function(e,t){Core.lazyLoaders||(Core.lazyLoaders={});var n=Core.lazyLoaders[e];n||(n=[],Core.lazyLoaders[e]=n),n.push(t)},s.unregisterLazyLoadHandler=function(e,t){if(Core.lazyLoaders){var n=Core.lazyLoaders[e];n&&n.remove(t)}},s.addAttributeToolBar=function(e,t,n){var i=l[t];i||(i=[],l[t]=i),i.push(n)},s.getAttributeToolBar=function(e,t){t||(t=UrlHelpers.join(s.templatePath,"attributeToolBar.html"));var n=null,i=e?e.domain:null;if(i){var r=l[i];if(r)for(var o=0;o<r.length;o++){var a=r[o];if(a&&(n=a(e)))break}}return n||t},s.updateTreeSelectionFromURL=function(e,t,n){void 0===n&&(n=!1),i(e,t,null,n)},s.updateTreeSelectionFromURLAndAutoSelect=i,s.getUniqueTypeNames=function(e){var n={};return angular.forEach(e,function(e){var t=e.typeName;t&&(n[t]=e)}),Object.keys(n)},s.enableTree=function(n,a,r,e,t,i,o){void 0===i&&(i=!1),void 0===o&&(o=null),e.length&&(o||(o=function(e){var t=e.data;r.updateSelectionNode(t),Core.$apply(n)}),(r.treeElement=e).dynatree({onActivate:o,onLazyRead:function(t){var n=t.data,e=null;if(n&&(e=s.findLazyLoadingFunction(r,n)),e){console.log("Lazy loading folder "+n.title);var i=n.childen;e(r,n,function(){t.setLazyNodeStatus(DTNodeStatus_Ok);var e=n.children;e!==i&&(t.removeChildren(),angular.forEach(e,function(e){t.addChild(e)}))})}else t.setLazyNodeStatus(DTNodeStatus_Ok)},onClick:function(e,t){if(t.metaKey){t.preventDefault();var n=a.absUrl();if(e&&e.data){var i=e.data.key;if(i){var r=a.search();r.nid=i;var o=n.indexOf("?");o<=0?n+="?":n=n.substring(0,o+1),n+=$.param(r)}}return window.open(n,"_blank"),window.focus(),!1}return!0},persist:!1,debugLevel:0,children:t,imagePath:"./"}),i&&r.redrawTree())}}(Jmx||(Jmx={})),function(e){e.createDashboardLink=function(e,t){var n="#"+e.route,i=angular.toJson(t),r=t.title,o=angular.toJson({size_x:e.size_x,size_y:e.size_y});return"/dashboard/add?tab=dashboard&href="+encodeURIComponent(n)+"&size="+encodeURIComponent(o)+"&title="+encodeURIComponent(r)+"&routeParams="+encodeURIComponent(i)},e.getWidgetType=function(t){return _.find(e.jmxWidgetTypes,function(e){return e.type===t.type})},e.jmxWidgetTypes=[{type:"donut",icon:"fa fa-pie-chart",route:"/jmx/widget/donut",size_x:2,size_y:2,title:"Add Donut chart to Dashboard"},{type:"area",icon:"fa fa-bar-chart",route:"/jmx/widget/area",size_x:4,size_y:2,title:"Add Area chart to Dashboard"}],e.jmxWidgets=[{type:"donut",title:"Java Heap Memory",mbean:"java.lang:type=Memory",attribute:"HeapMemoryUsage",total:"Max",terms:"Used",remaining:"Free"},{type:"donut",title:"Java Non Heap Memory",mbean:"java.lang:type=Memory",attribute:"NonHeapMemoryUsage",total:"Max",terms:"Used",remaining:"Free"},{type:"donut",title:"File Descriptor Usage",mbean:"java.lang:type=OperatingSystem",total:"MaxFileDescriptorCount",terms:"OpenFileDescriptorCount",remaining:"Free"},{type:"donut",title:"Loaded Classes",mbean:"java.lang:type=ClassLoading",total:"TotalLoadedClassCount",terms:"LoadedClassCount,UnloadedClassCount",remaining:"-"},{type:"donut",title:"Swap Size",mbean:"java.lang:type=OperatingSystem",total:"TotalSwapSpaceSize",terms:"FreeSwapSpaceSize",remaining:"Used Swap"},{type:"area",title:"Process CPU Time",mbean:"java.lang:type=OperatingSystem",attribute:"ProcessCpuTime"},{type:"area",title:"Process CPU Load",mbean:"java.lang:type=OperatingSystem",attribute:"ProcessCpuLoad"},{type:"area",title:"System CPU Load",mbean:"java.lang:type=OperatingSystem",attribute:"SystemCpuLoad"},{type:"area",title:"System CPU Time",mbean:"java.lang:type=OperatingSystem",attribute:"SystemCpuTime"}]}(Jmx||(Jmx={})),function(d){d._module=angular.module(d.pluginName,[]),d._module.config(["HawtioNavBuilderProvider","$routeProvider",function(e,t){t.when("/jmx",{redirectTo:"/jmx/attributes"}).when("/jmx/attributes",{templateUrl:UrlHelpers.join(d.templatePath,"attributes.html")}).when("/jmx/operations",{templateUrl:UrlHelpers.join(d.templatePath,"operations.html")}).when("/jmx/charts",{templateUrl:UrlHelpers.join(d.templatePath,"charts.html")}).when("/jmx/chartEdit",{templateUrl:UrlHelpers.join(d.templatePath,"chartEdit.html")}).when("/jmx/help/:tabName",{templateUrl:"app/core/html/help.html"}).when("/jmx/widget/donut",{templateUrl:UrlHelpers.join(d.templatePath,"donutChart.html")}).when("/jmx/widget/area",{templateUrl:UrlHelpers.join(d.templatePath,"areaChart.html")})}]),d._module.factory("jmxWidgetTypes",function(){return d.jmxWidgetTypes}),d._module.factory("jmxWidgets",function(){return d.jmxWidgets}),d._module.factory("workspace",["$location","jmxTreeLazyLoadRegistry","$compile","$templateCache","localStorage","jolokia","jolokiaStatus","$rootScope","userDetails","HawtioNav",function(e,t,n,i,r,o,a,s,l,c){var u=new Workspace(o,a,t,e,n,i,r,s,l,c);return u.loadTree(),u}]),d._module.controller("Jmx.MBeanTreeController",["$scope","workspace",function(t,n){t.node={},n.addNamedTreePostProcessor("MBeanTree",function(e){angular.copy(e,t.node),t.node.open=!0,d.log.debug("got tree: ",t.node)}),t.select=function(e){n.updateSelectionNode(e)}}]),d._module.factory("rbacACLMBean",function(){return{then:function(){}}}),d._module.constant("layoutTree","plugins/jmx/html/layoutTree.html"),d._module.factory("jolokiaStatus",function(){return{xhr:null}}),d.DEFAULT_MAX_DEPTH=7,d.DEFAULT_MAX_COLLECTION_SIZE=500,d._module.factory("jolokiaParams",["jolokiaUrl","localStorage",function(e,t){var n={canonicalNaming:!1,ignoreErrors:!0,mimeType:"application/json",maxDepth:d.DEFAULT_MAX_DEPTH,maxCollectionSize:d.DEFAULT_MAX_COLLECTION_SIZE};return"jolokiaParams"in t?n=angular.fromJson(t.jolokiaParams):t.jolokiaParams=angular.toJson(n),n.url=e,n}]),d._module.factory("jmxTreeLazyLoadRegistry",function(){return Core.lazyLoaders}),d._module.controller("Jmx.EditChartNav",["$scope","$location",function(e,t){e.valid=function(){return _.startsWith(t.path(),"/jmx/chart")}}]),d._module.run(["HawtioNav","$location","workspace","viewRegistry","layoutTree","jolokia","helpRegistry","pageTitle","$templateCache",function(e,t,r,n,i,o,a,s,l){d.log.debug("loaded"),n['{ "main-tab": "jmx" }']=i,a.addUserDoc("jmx","app/jmx/doc/help.md"),s.addTitleElement(function(){if(""===d.currentProcessId){try{d.currentProcessId=o.getAttribute("java.lang:type=Runtime","Name")}catch(e){}d.currentProcessId&&-1!==d.currentProcessId.indexOf("@")&&(d.currentProcessId="pid:"+d.currentProcessId.split("@")[0])}return d.currentProcessId});var c=e.builder(),u=c.id("jmx").title(function(){return"JMX"}).defaultPage({rank:10,isValid:function(t,n){var i="JmxDefaultPage";r.addNamedTreePostProcessor(i,function(e){r.removeNamedTreePostProcessor(i),r.hasMBeans()?t():n()})}}).isValid(function(){return r.hasMBeans()}).href(function(){return"/jmx/attributes"}).build();u.tabs=d.getNavItems(c,r,l),e.add(u)}]),hawtioPluginLoader.addModule(d.pluginName),hawtioPluginLoader.addModule("dangle")}(Jmx||(Jmx={})),function(e){e.AreaChartController=e._module.controller("Jmx.AreaChartController",["$scope","$routeParams","jolokia","$templateCache","localStorage",function(t,e,n,i,r){t.mbean=e.mbean,t.attribute=e.attribute,t.duration=r.updateRate,t.width=308,t.height=296,t.template="",t.entries=[],t.data={entries:t.entries},t.req=[{type:"read",mbean:t.mbean,attribute:t.attribute}],t.render=function(e){t.entries.push({time:e.timestamp,count:e.value}),t.entries=t.entries.last(15),""===t.template&&(t.template=i.get("areaChart")),t.data={_type:"date_histogram",entries:t.entries},Core.$apply(t)},Core.register(n,t,t.req,Core.onSuccess(t.render))}])}(Jmx||(Jmx={})),function(e){e._module.controller("Jmx.AttributeController",["$scope","jolokia",function(n,i){function r(e){_.isEqual(n.data,e.value)&&(n.data=Core.safeNull(e.value),Core.$apply(n))}n.init=function(e,t){n.mbean=e,n.attribute=t,angular.isDefined(n.mbean)&&angular.isDefined(n.attribute)&&Core.register(i,n,{type:"read",mbean:n.mbean,attribute:n.attribute},Core.onSuccess(r))}}]),e._module.controller("Jmx.AttributeChartController",["$scope","jolokia","$document",function(n,i,t){function r(e){angular.isDefined(n.chart)||(n.chart=$(t.find("#"+n.attribute)[0]),n.chart&&(n.width=n.chart.width())),angular.isDefined(n.context)||(console.log("Got: ",e),n.context=cubism.context().serverDelay(0).clientDelay(0).step(1e3).size(n.width),n.jcontext=n.context.jolokia(i),n.metrics=[],_.forIn(e.value,function(e,t){n.metrics.push(n.jcontext.metric({type:"read",mbean:n.mbean,attribute:n.attribute,path:t},n.attribute))}),d3.select("#"+n.attribute).call(function(e){e.append("div").data(n.metrics).call(n.context.horizon())}),Core.unregister(i,n),Core.$apply(n))}n.init=function(e,t){n.mbean=e,n.attribute=t,angular.isDefined(n.mbean)&&angular.isDefined(n.attribute)&&Core.register(i,n,{type:"read",mbean:n.mbean,attribute:n.attribute},Core.onSuccess(r))}}])}(Jmx||(Jmx={})),function(x){x.propertiesColumnDefs=[{field:"name",displayName:"Property",width:"27%",cellTemplate:'<div class="ngCellText" title="{{row.entity.attrDesc}}" data-placement="bottom"><a href="" ng-click="row.entity.onViewAttribute()">{{row.entity.name}}</a></div>'},{field:"value",displayName:"Value",width:"70%",cellTemplate:'<div class="ngCellText mouse-pointer" ng-click="row.entity.onViewAttribute()" title="{{row.entity.tooltip}}" ng-bind-html="row.entity.summary"></div>'}],x.foldersColumnDefs=[{displayName:"Name",cellTemplate:'<div class="ngCellText"><a href="{{row.entity.folderHref(row)}}"><i class="{{row.entity.folderIconClass(row)}}"></i> {{row.getProperty("title")}}</a></div>'}],x.AttributesController=x._module.controller("Jmx.AttributesController",["$scope","$element","$location","workspace","jolokia","jolokiaUrl","jmxWidgets","jmxWidgetTypes","$templateCache","localStorage","$browser","HawtioDashboard",function(f,e,h,g,p,i,a,t,n,r,o,s){f.searchText="",f.nid="empty",f.selectedItems=[],f.lastKey=null,f.attributesInfoCache={},f.workspace=g,f.entity={},f.attributeSchema={},f.gridData=[],f.attributes="",f.inDashboard=s.inDashboard,f.$watch("gridData.length",function(e,t){e!==t&&(f.attributes=0<e?n.get("gridTemplate"):"")});var l={style:HawtioForms.FormStyle.STANDARD,mode:HawtioForms.FormMode.VIEW,hideLegend:!0,properties:{key:{label:"Key",tooltip:"Attribute key",type:"static"},attrDesc:{label:"Description",type:"static"},type:{label:"Type",tooltip:"Attribute type",type:"static"},jolokia:{label:"Jolokia URL",tooltip:"Jolokia REST URL",type:"string","input-attributes":{readonly:!0}}}};f.gridOptions={scope:f,selectedItems:[],showFilter:!1,canSelectRows:!1,enableRowSelection:!1,enableRowClickSelection:!1,keepLastSelected:!0,multiSelect:!0,showColumnMenu:!0,displaySelectionCheckbox:!1,filterOptions:{filterText:""},data:"gridData",columnDefs:x.propertiesColumnDefs},f.$watch(function(e){return e.gridOptions.selectedItems.map(function(e){return e})},function(e,t){e!==t&&(x.log.debug("Selected items: ",e),f.selectedItems=e)},!0);var c=_.debounce(u,100,{trailing:!0});function u(){Core.unregister(p,f),f.gridData?f.gridData.length=0:f.gridData=[],f.mbeanIndex=null;var e,t=g.getSelectedMBeanName(),n=null,i=g.getSelectedMBean();if(null===i||angular.isUndefined(i)||i.key!==f.lastKey){if((f.attributesInfoCache=null)==t){var r=h.search().nid,o=g.keyToNodeMap[r];o&&(t=o.objectName)}if(t){var a=(e=t,{type:"LIST",method:"post",path:Core.escapeMBeanPath(e),ignoreErrors:!0});p.request(a,Core.onSuccess(function(e){f.attributesInfoCache=e.value,x.log.debug("Updated attributes info cache for mbean "+t)}))}}if(t)n={type:"read",mbean:t},(null===i||angular.isUndefined(i)||i.key!==f.lastKey)&&(f.gridOptions.columnDefs=x.propertiesColumnDefs,f.gridOptions.enableRowClickSelection=!1,f.gridOptions.enableRowSelection=!1,f.gridOptions.displaySelectionCheckbox=!1,f.gridOptions.canSelectRows=!1);else if(i){i.key!==f.lastKey&&(f.gridOptions.columnDefs=[],f.gridOptions.enableRowClickSelection=!0,f.gridOptions.enableRowClickSelection=!0,f.gridOptions.enableRowSelection=!0,f.gridOptions.displaySelectionCheckbox=!0,f.gridOptions.canSelectRows=!0);var s=i.children;if(s){var l=s.map(function(e){return e.objectName}).filter(function(e){return void 0!==e});if(l){var c=x.getUniqueTypeNames(s);if(c.length<=1){var u=l.map(function(e){return{type:"READ",mbean:e,ignoreErrors:!0}});0<u.length&&(n=u,f.mbeanIndex={},f.mbeanRowCounter=0,f.mbeanCount=l.length)}else console.log("Too many type names "+c)}}}var d=Core.onSuccess(m);n?(f.request=n,Core.register(p,f,n,d)):i&&(i.key!==f.lastKey&&(f.gridOptions.columnDefs=x.foldersColumnDefs,f.gridOptions.enableRowClickSelection=!0),f.gridData=i.children,v(f.gridData),Core.$apply(f)),i&&(f.lastKey=i.key)}function m(e){var t=e.value,n=f.mbeanIndex,i=e.request.mbean;if(i&&(t._id=i),n)if(i){var r=n[i];if(angular.isDefined(r)||(r=f.mbeanRowCounter,n[i]=r,f.mbeanRowCounter+=1),0===r&&(f.selectedIndices=f.selectedItems.map(function(e){return f.gridData.indexOf(e)}),f.gridData=[],!f.gridOptions.columnDefs.length)){var o=g.selectionConfigKey(),a=g.attributeColumnDefs[o]||[],s=a.length,l={};angular.forEach(a,function(e,t){var n=e.field;n&&(l[n]=e)});var c=[];angular.forEach(t,function(e,t){w(t,e)&&(l[t]||c.push({field:t,displayName:"_id"===t?"Object name":Core.humanizeValue(t),visible:0===s}))}),(c=c.sort(function(e,t){return _.startsWith(e.field,"_")?1:_.startsWith(t.field,"_")?-1:e.field.localeCompare(t.field)})).forEach(function(e){a.push(e)}),a=_.filter(a,function(e){return!angular.isDefined(e.visible)||null==e.visible||e.visible}),f.gridOptions.columnDefs=a,f.gridOptions.enableRowClickSelection=!0}f.gridData[r]=t,v(f.gridData);var u=f.mbeanCount;if(!u||u<=r+1){var d=f.selectedIndices.map(function(e){return f.gridData[e]}).filter(function(e){return e});f.selectedItems.splice(0,f.selectedItems.length),f.selectedItems.push.apply(f.selectedItems,d),Core.$apply(f)}}else console.log("No mbean name in request "+JSON.stringify(e.request));else{f.gridOptions.columnDefs=x.propertiesColumnDefs;f.gridOptions.enableRowClickSelection=!1;if(angular.isObject(t)){var h=Array();if(angular.forEach(t,function(e,t){if(!_.startsWith(t,"_")){"ObjectName"===t&&(e=y(e)),angular.isArray(e)&&(e=e.map(function(e){return y(e)}));var n=function(e){if(null!=f.attributesInfoCache&&"attr"in f.attributesInfoCache){var t=f.attributesInfoCache.attr[e];if(angular.isDefined(t))return t.type}return null}(t),i={key:t,name:Core.humanizeValue(t),value:Core.safeNullAsString(e,n)};b(t,i),h.push(i)}}),!_.any(h,function(e){return"ObjectName"===e.key})){var p={key:"ObjectName",name:"Object Name",value:i};b(p.key,p),h.push(p)}h=_.sortBy(h,"name"),f.selectedItems=[t],t=h}f.gridData=t,v(f.gridData),Core.$apply(f)}}function v(e){e.forEach(function(e){e.inDashboard=f.inDashboard,e.getDashboardWidgets=function(){return f.getDashboardWidgets(e)},e.onViewAttribute=function(){f.onViewAttribute(e)},e.folderIconClass=function(e){return f.folderIconClass(e)},e.folderHref=function(e){return f.folderHref(e)}})}function y(e){if(!angular.isObject(e))return e;var t=Object.keys(e);return 1===t.length&&"objectName"===t[0]?e.objectName:e}function b(e,t){var n=t.value;if(!angular.isArray(n)&&angular.isObject(n)){var i="<table class='table table-striped'>",r="",o=n,a=Object.keys(n).sort();angular.forEach(a,function(e){var t=o[e];i+="<tr><td>"+Core.humanizeValue(e)+"</td><td>"+t+"</td></tr>",r+=Core.humanizeValue(e)+": "+t+"  "}),i+="</table>",t.summary=r,t.detailHtml=i,t.tooltip=r}else{var s=n;if(""===s?(s="&nbsp;",t.tooltip=""):t.tooltip=s,t.summary=""+s,t.detailHtml="<pre>"+s+"</pre>",angular.isArray(n)){var l="<ul>";angular.forEach(n,function(e){l+="<li>"+e+"</li>"}),l+="</ul>",t.detailHtml=l}}if(t.rw=!1,t.attrDesc=t.name,t.type="string",null!=f.attributesInfoCache&&"attr"in f.attributesInfoCache){var c=f.attributesInfoCache.attr[e];angular.isDefined(c)&&(t.rw=c.rw,t.attrDesc=c.desc,t.type=c.type)}}function w(e,t){return!angular.isObject(t)}f.$on("$routeChangeSuccess",function(e,t,n){f.nid=h.search().nid,setTimeout(function(){c()},10)}),f.$watch("workspace.selection",function(){g.moveIfViewInvalid()?Core.unregister(p,f):setTimeout(function(){c()},10)}),c(),f.hasWidget=function(e){return!0},f.onCancelAttribute=function(){f.entity={}},f.onUpdateAttribute=function(){var e=f.entity.value,t=f.entity.key;f.entity={};var n=g.getSelectedMBeanName();n&&p.setAttribute(n,t,e,Core.onSuccess(function(e){Core.notification("success","Updated attribute "+t)}))},f.onViewAttribute=function(e){if(e.summary){var t=f.entity=_.cloneDeep(e),n=f.attributeSchema=_.cloneDeep(l);"ObjectName"===t.key?delete n.properties.jolokia:t.jolokia=x.getUrlForThing(i,"read",g.getSelectedMBeanName(),t.key),n.properties.value={formTemplate:'<div class="form-group"><label class="control-label">Value</label><div hawtio-editor="entity.value"></div></div>'},f.showAttributeDialog=!0}},f.getDashboardWidgets=function(t){var n=g.getSelectedMBeanName();if(!n)return"";var e=_.filter(a,function(e){return n===e.mbean});if(0===e.length)return"";if(0===(e=_.filter(e,function(e){return e.attribute===t.key||e.total===t.key})).length)return"";t.addChartToDashboard=function(e){f.addChartToDashboard(t,e)};var i=[];return e.forEach(function(e){var t=x.getWidgetType(e);i.push('<i class="'+t.icon+' clickable" title="'+t.title+'" ng-click="row.entity.addChartToDashboard(\''+t.type+"')\"></i>")}),i.join()+"&nbsp;"},f.addChartToDashboard=function(t,n){var i=g.getSelectedMBeanName(),e=a.filter(function(e){return i===e.mbean});e=(e=e.filter(function(e){return e.attribute===t.key||e.total===t.key})).filter(function(e){return e.type===n});var r=_.first(e),o=x.getWidgetType(r);h.url(x.createDashboardLink(o,r))},f.toolBarTemplate=function(){return x.getAttributeToolBar(g.selection)},f.invokeSelectedMBeans=function(i,e){void 0===e&&(e=null);var r=[];if(angular.forEach(f.selectedItems||[],function(e){var t=e._id;if(t){var n=i;angular.isFunction(i)&&(n=i(e)),r.push({type:"exec",operation:n,mbean:t})}}),r.length){var t=function(){e?e():u()};p.request(r,Core.onSuccess(t,{error:t}))}},f.folderHref=function(e){if(!e.getProperty)return"";var t=e.getProperty("key");return t?Core.createHref(h,"#"+h.path()+"?nid="+t,["nid"]):""},f.folderIconClass=function(e){return e.getProperty?e.getProperty("objectName")?"fa fa-cog":"fa fa-folder-close":""}}])}(Jmx||(Jmx={})),(Jmx||(Jmx={}))._module.controller("Jmx.ChartEditController",["$scope","$location","workspace","jolokia",function(d,h,n,o){function i(){var e=n.selection;if(angular.isDefined(e)){d.selectedAttributes=[],d.selectedMBeans=[],d.metrics={},d.mbeans={};var c=0,u=0,t=e.children;t&&t.length&&!e.objectName||(t=[e]),t&&t.forEach(function(e){var t,n=e.objectName,i=e.title;if(i&&n){c++,d.mbeans[i]=i;var r=(t=n,{type:"list",path:Core.escapeMBeanPath(t),ignoreErrors:!0});o.request(r,Core.onSuccess(function(e){var t=e.value.attr;if(t){for(var n in t){var i=t[n];if(i){var r=i.type;Core.isNumberTypeName(r)&&(d.metrics[n]||(d.metrics[n]=n))}}if(++u>=c){var o=h.search(),a=Core.toSearchArgumentArray(o.att),s=Core.toSearchArgumentArray(o.el);if(a&&a.length&&a.forEach(function(e){d.metrics[e]&&d.selectedAttributes.push(e)}),s&&s.length&&s.forEach(function(e){d.mbeans[e]&&d.selectedMBeans.push(e)}),d.selectedMBeans.length<1&&(d.selectedMBeans=_.keys(d.mbeans)),d.selectedAttributes.length<1){var l=_.keys(d.metrics).sort();1<d.selectedMBeans.length?d.selectedAttributes=[_.first(l)]:d.selectedAttributes=l}$("#attributes").attr("size",_.keys(d.metrics).length),$("#mbeans").attr("size",_.keys(d.mbeans).length),Core.$apply(d)}}Core.$apply(d)},{method:"post"}))}})}}d.selectedAttributes=[],d.selectedMBeans=[],d.metrics={},d.mbeans={},d.size=function(e){return angular.isObject(e)?_.keys(e).length:angular.isArray(e)?e.length:1},d.canViewChart=function(){return d.selectedAttributes.length&&d.selectedMBeans.length&&0<d.size(d.mbeans)&&0<d.size(d.metrics)},d.showAttributes=function(){return d.canViewChart()&&1<d.size(d.metrics)},d.showElements=function(){return d.canViewChart()&&1<d.size(d.mbeans)},d.viewChart=function(){var e=h.search();d.selectedAttributes.length===d.size(d.metrics)?delete e.att:e.att=d.selectedAttributes,d.selectedMBeans.length===d.size(d.mbeans)&&1===d.size(d.mbeans)?delete e.el:e.el=d.selectedMBeans,h.search(e),h.path("jmx/charts")},d.$watch("workspace.selection",i),d.$on("$routeChangeSuccess",function(e,t,n){setTimeout(i,50)})}]),(Jmx||(Jmx={}))._module.controller("Jmx.ChartController",["$scope","$element","$location","workspace","localStorage","jolokiaUrl","jolokiaParams",function(x,C,S,k,e,t,T){var D=Logger.get("JMX");x.metrics=[],x.updateRate=1e3,x.context=null,x.jolokia=null,x.charts=null,x.reset=function(){x.context&&(x.context.stop(),x.context=null),x.jolokia&&(x.jolokia.stop(),x.jolokia=null),x.charts&&(x.charts.empty(),x.charts=null)},x.$on("$destroy",function(){try{x.deregRouteChange()}catch(e){}try{x.dereg()}catch(e){}x.reset()}),x.errorMessage=function(){return 0===x.updateRate?"updateRate":0===x.metrics.length?"metrics":void 0};var A=_.debounce(function(){var i=k.selection||k.getSelectedMBean();if(null!=i){if(!angular.isDefined(i)||!angular.isDefined(x.updateRate)||0===x.updateRate)return setTimeout(A,500),void Core.$apply(x);var e=594,t=C.find("#charts");if(!t)return setTimeout(A,500),void Core.$apply(x);e=t.width(),x.reset(),x.charts=t,x.jolokia=new Jolokia(T),x.jolokia.start(x.updateRate);var n=i.objectName;x.metrics=[];var r=cubism.context().serverDelay(x.updateRate).clientDelay(x.updateRate).step(x.updateRate).size(e);x.context=r,x.jolokiaContext=r.jolokia(x.jolokia);var o,a=S.search(),s=Core.toSearchArgumentArray(a.att);if(n){var l=(o=n,{type:"list",path:Core.escapeMBeanPath(o),ignoreErrors:!0}),c=x.jolokia.request(l,{method:"post"});if(c){Core.defaultJolokiaErrorHandler(c,{});var u=c.value?c.value.attr:null;if(u){var d=[];for(var h in u){var p=u[h];if(p){var f=p.type;Core.isNumberTypeName(f)&&d.push(h)}}if(s.length){var g=d.filter(function(e){return 0<=s.indexOf(e)});g.length&&(d=g)}d=d.sort(),angular.forEach(d,function(e){var t=x.jolokiaContext.metric({type:"read",mbean:n,attribute:e},Core.humanizeValue(e));t&&x.metrics.push(t)})}}}else{var m=Core.toSearchArgumentArray(a.el);if(s&&s.length&&m&&m.length){var v={};m.forEach(function(t){var e=i.get(t);if(!e&&i.children&&(e=_.find(i.children,function(e){return t===e.title})),e){var n=e.objectName;n&&(v[t]=n)}}),(s=s.sort()).forEach(function(o){angular.forEach(v,function(e,t){var n=Core.humanizeValue(o),i=t+": "+n,r=x.jolokiaContext.metric({type:"read",mbean:e,attribute:o},i);r&&x.metrics.push(r)})})}i.children.length&&!x.metrics.length&&S.path("jmx/chartEdit")}if(0<x.metrics.length){var y=d3.select(t.get(0)),b=y.selectAll(".axis"),w=!1;if(b.data(["top","bottom"]).enter().append("div").attr("class",function(e){return e+" axis"}).each(function(e){if(!w)try{d3.select(this).call(r.axis().ticks(12).orient(e))}catch(e){w||(w=!0)}}),w)return x.reset(),setTimeout(A,500),void Core.$apply(x);y.append("div").attr("class","rule").call(r.rule()),r.on("focus",function(e){try{y.selectAll(".value").style("right",null===e?null:r.size()-e+"px")}catch(e){D.info("error: ",e)}}),x.metrics.forEach(function(t){y.call(function(e){e.append("div").data([t]).attr("class","horizon").call(r.horizon())})})}else x.reset();Core.$apply(x)}},200,{trailing:!0});x.deregRouteChange=x.$on("$routeChangeSuccess",function(e,t,n){A()}),x.dereg=x.$watch("workspace.selection",function(){k.moveIfViewInvalid()||A()}),A()}]),function(e){e.DonutChartController=e._module.controller("Jmx.DonutChartController",["$scope","$routeParams","jolokia","$templateCache",function(i,e,t,r){if(i.mbean=e.mbean,i.total=e.total,i.attribute=e.attribute,i.terms=e.terms,i.remainder=e.remaining,i.template="",i.termsArray=i.terms.split(","),i.data={total:0,terms:[]},i.attribute){var n=i.termsArray.include(i.total);i.reqs=[{type:"read",mbean:i.mbean,attribute:i.attribute,paths:n.join(",")}],i.termsArray.forEach(function(e){i.data.terms.push({term:e,count:0})})}else i.reqs=[{type:"read",mbean:i.mbean,attribute:i.total}],i.termsArray.forEach(function(e){i.reqs.push({type:"read",mbean:i.mbean,attribute:e}),i.data.terms.push({term:e,count:0})});i.remainder&&"-"!==i.remainder&&i.data.terms.push({term:i.remainder,count:0}),i.render=function(t){var n=null;if(i.remainder&&"-"!==i.remainder&&(n=_.find(i.data.terms,{term:i.remainder})),i.attribute)t.request.attribute===i.attribute&&(i.data.total=t.value[i.total.toLowerCase()],i.data.terms.forEach(function(e){e.term!==i.remainder&&(e.count=t.value[e.term.toLowerCase()])}),n&&(n.count=i.data.total,i.data.terms.forEach(function(e){e.term!==i.remainder&&(n.count=n.count-e.count)})));else if(t.request.attribute===i.total)i.data.total=t.value;else{var e=_.find(i.data.terms,{term:t.request.attribute});e&&(e.count=t.value),n&&(n.count=i.data.total,i.data.terms.forEach(function(e){e.term!==i.remainder&&(n.count=n.count-e.count)}))}""===i.template&&(i.template=r.get("donut")),i.data=_.clone(i.data),Core.$apply(i)},Core.register(t,i,i.reqs,Core.onSuccess(i.render))}])}(Jmx||(Jmx={})),function(C){function S(e){return e.counter||""}function k(e){return e.inflight||""}C.d3ForceGraph=function(e,t,n,i){e.graphForce&&e.graphForce.stop(),i||(i=$("#canvas")[0]);var r=$(i);if(r.children("svg").remove(),t.length){var o=r.parent().width(),a=r.parent().height();if(a<100){var s=r.offset();a=$(document).height()-5,s&&(a-=s.top)}var l=d3.select(r[0]).append("svg").attr("width",o).attr("height",a),c=d3.layout.force().distance(100).charge(-1200).linkDistance(50).size([o,a]);e.graphForce=c,l.append("svg:defs").selectAll("marker").data(["from"]).enter().append("svg:marker").attr("id",String).attr("viewBox","0 -5 10 10").attr("refX",25).attr("refY",-1.5).attr("markerWidth",6).attr("markerHeight",6).attr("orient","auto").append("svg:path").attr("d","M0,-5L10,0L0,5"),c.nodes(t).links(n).start();var u=l.selectAll(".link").data(n).enter().append("line").attr("class","link");u.attr("class","link from"),u.attr("marker-end","url(#from)");var d=l.selectAll(".node").data(t).enter().append("g").attr("class","node").call(c.drag);d.append("image").attr("xlink:href",function(e){return e.imageUrl}).attr("x",-15).attr("y",-15).attr("width",30).attr("height",30),d.append("text").attr("dx",20).attr("dy",".35em").text(function(e){return e.label}),c.on("tick",function(){u.attr("x1",function(e){return e.source.x}).attr("y1",function(e){return e.source.y}).attr("x2",function(e){return e.target.x}).attr("y2",function(e){return e.target.y}),d.attr("transform",function(e){return"translate("+e.x+","+e.y+")"})})}},C.createGraphStates=function(e,t,r){var o={};e.forEach(function(e){var t=e.id;void 0===t?console.log("No node found for node "+JSON.stringify(e)):(void 0===e.edges&&(e.edges=[]),e.label||(e.label="node "+t),o[t]=e)});var n=d3.values(o);return t.forEach(function(e){var t=o[e.source],n=o[e.target];if(void 0===t||void 0===n)console.log("Bad link!  "+t+" target "+n+" for "+e);else{var i={source:t,target:n};r.push(i),t.edges.push(i),n.edges.push(i)}}),n},C.dagreLayoutGraph=function(e,t,n,i,r,o,a){void 0===o&&(o=!1),void 0===a&&(a=null);var s=[],l=C.createGraphStates(e,t,s);function c(e){var t=e.dagre.points.slice(0),n=dagre.util.intersectRect(e.source.dagre,0<t.length?t[0]:e.source.dagre),i=dagre.util.intersectRect(e.target.dagre,0<t.length?t[t.length-1]:e.source.dagre);return t.unshift(n),t.push(i),d3.svg.line().x(function(e){return e.x}).y(function(e){return e.y}).interpolate("linear")(t)}function u(e,t,n){e.dagre.points.forEach(function(e){e.x=Math.max(0,Math.min(b.width,e.x+t)),e.y=Math.max(0,Math.min(b.height,e.y+n))})}var d=r?d3.select(r):d3.select("svg");r&&$(r).children("g").remove(),$(d).children("g").remove();var h=d.append("g").attr("transform","translate(5, 5)");(e=h.selectAll("g .node").data(l).enter().append("g").attr("class","node").attr("data-cid",function(e){return e.cid}).attr("id",function(e){return"node-"+e.label})).append("title").text(function(e){return e.tooltip||""});var p=h.selectAll("path .edge").data(s).enter().append("path").attr("class","edge").attr("marker-end","url(#arrowhead)"),f=e.append("rect").attr("rx","4").attr("ry","4").attr("class",function(e){return e.type}),g=e.append("image").attr("xlink:href",function(e){return e.imageUrl}).attr("x",-12).attr("y",-20).attr("height",24).attr("width",24),m=e.append("text").attr("text-anchor","end").attr("class","counter").attr("x",0).attr("dy",0).text(S),v=(e.append("text").attr("text-anchor","middle").attr("class","inflight").attr("x",10).attr("dy",-32).text(k),e.append("text").attr("text-anchor","middle").attr("x",0));v.append("tspan").attr("x",0).attr("dy",28).text(function(e){return e.label}),v.each(function(e){var t=this.getBBox();(e.bbox=t).width<80&&(t.width=80),e.width=t.width+20,e.height=t.height+20+12}),f.attr("x",function(e){return-(e.bbox.width/2+10)}).attr("y",function(e){return-(e.bbox.height/2+10+6)}).attr("width",function(e){return e.width}).attr("height",function(e){return e.height}),null!=a&&f.on("click",a),g.attr("x",function(e){return-e.bbox.width/2}),v.attr("x",function(e){return-e.bbox.width/2}).attr("y",function(e){return-e.bbox.height/2}),m.attr("x",function(e){return e.bbox.width/2}),dagre.layout().nodeSep(50).edgeSep(10).rankSep(50).nodes(l).edges(s).debugLevel(1).run(),e.attr("transform",function(e){return"translate("+e.dagre.x+","+e.dagre.y+")"}),p.attr("id",function(e){return e.dagre.id}).attr("d",function(e){return c(e)});var y=d.node();if(y){var b=y.getBBox();b&&(d.attr("width",b.width+10),d.attr("height",b.height+10))}if(o){var w=d3.behavior.drag().origin(function(e){return e.pos?{x:e.pos.x,y:e.pos.y}:{x:e.dagre.x,y:e.dagre.y}}).on("drag",function(e,t){var n=e.dagre.x,i=e.dagre.y;e.dagre.x=Math.max(e.width/2,Math.min(b.width-e.width/2,d3.event.x)),e.dagre.y=Math.max(e.height/2,Math.min(b.height-e.height/2,d3.event.y)),d3.select(this).attr("transform","translate("+e.dagre.x+","+e.dagre.y+")");var r=e.dagre.x-n,o=e.dagre.y-i;e.edges.forEach(function(e){u(e,r,o),d3.select("#"+e.dagre.id).attr("d",c(e))})}),x=d3.behavior.drag().on("drag",function(e,t){u(e,d3.event.dx,d3.event.dy),d3.select(this).attr("d",c(e))});e.call(w),p.call(x)}return l},C.dagreUpdateGraphData=function(e){var t=d3.select("svg");t.selectAll("text.counter").text(S),t.selectAll("text.inflight").text(k),t.selectAll("g .node title").text(function(e){return e.tooltip||""})}}(Core||(Core={})),function(o){o._module.controller("Jmx.TreeHeaderController",["$scope",function(e){e.expandAll=function(){Tree.expandAll("#jmxtree")},e.contractAll=function(){Tree.contractAll("#jmxtree")}}]),o._module.controller("Jmx.MBeansController",["$scope","$location","workspace",function(t,n,i){function r(){o.updateTreeSelectionFromURL(n,$("#jmxtree"))}t.num=1,t.$on("$routeChangeSuccess",function(e,t,n){setTimeout(r,50)}),t.select=function(e){t.workspace.updateSelectionNode(e),Core.$apply(t)},t.populateTree=function(){var e=$("#jmxtree");t.tree=i.tree,o.enableTree(t,n,i,e,t.tree.children,!0),setTimeout(r,50)},t.$on("jmxTreeUpdated",t.populateTree),t.populateTree()}])}(Jmx||(Jmx={})),function(a){a.NavBarController=a._module.controller("Jmx.NavBarController",["$scope","$location","workspace","$route","jolokia","localStorage",function(n,r,i,e,t,o){n.hash=i.hash(),n.topLevelTabs=[],n.subLevelTabs=i.subLevelTabs,n.currentPerspective=null,n.localStorage=o,n.recentConnections=[],n.goTo=function(e){r.url(e)},n.$watch("hash",function(e,t){e!==t&&a.log.debug("hash changed from ",t," to ",e)}),n.$on("$routeChangeSuccess",function(){n.hash=i.hash()}),n.isValid=function(e){return!("isValid"in e)||e.isValid(i)},n.link=function(e,t){var n;void 0===t&&(t=!1),n=(n=angular.isString(e)?e:angular.isObject(e)?e.href():null)||"";var i=["tab","nid","chapter","pref","q"];return!t&&n&&(0<=n.indexOf("?p=")||0<=n.indexOf("&p="))&&i.push("p"),Core.createHref(r,n,i)},n.fullScreenLink=function(){var e="#"+r.path()+"?tab=notree";return Core.createHref(r,e,["tab"])},n.addToDashboardLink=function(){var e="#"+r.path()+i.hash(),t="#/dashboard/add?tab=dashboard&href="+encodeURIComponent(e);if(-1!==r.url().indexOf("/jmx/charts")){t+="&size="+encodeURIComponent(angular.toJson({size_x:4,size_y:3}))}return t},n.isActive=function(e){if(angular.isString(e))return i.isLinkActive(e);var t=e.isActive;return t?t(i):i.isLinkActive(e.href())},n.isTopTabActive=function(e){if(angular.isString(e))return i.isTopTabActive(e);var t=e.isActive;return t?t(i):i.isTopTabActive(e.href())},n.activeLink=function(){var e=n.topLevelTabs();if(!e)return"Loading...";var t=_.find(e,function(e){return n.isActive(e)});return t?t.content:""}}])}(Jmx||(Jmx={})),function(u){u._module.controller("Jmx.OperationController",["$scope","workspace","jolokia","jolokiaUrl","$timeout","$location","localStorage","$browser",function(i,r,o,e,t,n,a,s){i.item=i.selectedOperation,i.title=i.item.humanReadable,i.desc=i.item.desc,i.operationResult="",i.executeIcon="fa fa-ok",i.mode="text",i.entity={},i.formConfig={hideLegend:!0,properties:{}},i.jolokiaUrl=u.getUrlForThing(e,"exec",r.getSelectedMBeanName(),i.item.name),i.item.args.forEach(function(e){var t={type:e.type,tooltip:e.desc,description:"Type: "+e.type};"java.util.list"!==e.type.toLowerCase()&&"[j"!==e.type.toLowerCase()||(t.type="array",t.items={type:"string"}),"java.util.map"===e.type.toLowerCase()&&(t.type="map",t.items={key:{type:"string"},value:{type:"string"}}),i.formConfig.properties[e.name]=t}),u.log.debug("Form config: ",i.formConfig),t(function(){$("html, body").animate({scrollTop:0},"medium")},250),i.dump=function(e){console.log(e)},i.ok=function(){i.operationResult=""},i.reset=function(){i.entity={}},i.close=function(){i.$parent.showInvoke=!1},i.handleResponse=function(e){i.executeIcon="fa fa-ok",i.operationStatus="success",i.operationResult=null===e||"null"===e?"Operation Succeeded!":"string"==typeof e?e:angular.toJson(e,!0),i.mode=CodeEditor.detectTextFormat(i.operationResult),Core.$apply(i)},i.onSubmit=function(){var e=i.entity;u.log.debug("onSubmit: json:",e),u.log.debug("$scope.item.args: ",i.item.args),angular.forEach(e,function(e,t){_.find(i.item.args,{name:t}).value=e}),i.execute()},i.execute=function(){var e=r.selection;if(e){var t=e.objectName;if(t){var n=[t,i.item.name];i.item.args&&i.item.args.forEach(function(e){n.push(e.value)}),n.push(Core.onSuccess(i.handleResponse,{error:function(e){i.executeIcon="fa fa-ok",i.operationStatus="error";var t=e.error;i.operationResult=t;var n=e.stacktrace;n&&(i.operationResult=n),Core.$apply(i)}})),i.executeIcon="fa fa-spinner fa fa-spin",o.execute.apply(o,n)}}}}]),u._module.controller("Jmx.OperationsController",["$scope","workspace","jolokia","rbacACLMBean","$templateCache",function(a,n,s,l,i){a.fetched=!1,a.operations={},a.objectName="",a.methodFilter="",a.workspace=n,a.selectedOperation=null,a.showInvoke=!1,a.template="",a.invokeOp=function(e){a.canInvoke(e)&&(a.selectedOperation=e,a.showInvoke=!0)},a.getJson=function(e){return angular.toJson(e,!0)},a.cancel=function(){a.selectedOperation=null,a.showInvoke=!1},a.$watch("showInvoke",function(e,t){e!==t&&(a.template=e?i.get("operationTemplate"):"")});var r=_.debounce(function(){var e=n.selection||n.getSelectedMBean();e&&(a.objectName=e.objectName,a.objectName&&s.request({type:"list",path:Core.escapeMBeanPath(a.objectName)},Core.onSuccess(t)))},100,{trailing:!0});function c(e){return"("+e.map(function(e){return e.type}).join()+")"}function t(e){a.fetched=!0;var n,i,r,t=e.value.op,o={};angular.forEach(t,function(e,n){angular.isArray(e)?angular.forEach(e,function(e,t){o[n+c(e.args)]=e}):o[n+c(e.args)]=e}),a.operations=function(e){for(var t in e)e[t=""+t].name=t,e[t].humanReadable=Core.humanizeValue(t);return e}(o),a.isOperationsEmpty()||(n=a.objectName,i=a.operations,(r={})[n]=[],angular.forEach(i,function(e,t){r[n].push(e.name)}),l.then(function(e){s.request({type:"exec",mbean:e,operation:"canInvoke(java.util.Map)",arguments:[r]},Core.onSuccess(function(e){var t=e.value;angular.forEach(t[n],function(e,t){i[t].canInvoke=e.CanInvoke}),u.log.debug("Got operations: ",a.operations),Core.$apply(a)},{error:function(e){u.log.debug("Failed to fetch ACL for operations: ",e),Core.$apply(a)}}))})),Core.$apply(a)}a.isOperationsEmpty=function(){return $.isEmptyObject(a.operations)},a.doFilter=function(e){return!!Core.isBlank(a.methodFilter)||!(!e.name.toLowerCase().has(a.methodFilter.toLowerCase())&&!e.humanReadable.toLowerCase().has(a.methodFilter.toLowerCase()))},a.canInvoke=function(e){return!("canInvoke"in e)||e.canInvoke},a.getClass=function(e){return a.canInvoke(e)?"can-invoke":"cant-invoke"},a.$watch("workspace.selection",function(e,t){n.moveIfViewInvalid()||r()})}])}(Jmx||(Jmx={})),function(l){l.ViewController=l._module.controller("Jmx.ViewController",["$scope","$route","$location","layoutTree","layoutFull","viewRegistry",function(i,e,r,o,t,n){function a(i){var r=void 0;return _.forIn(n,function(t,e){if(!r)if(_.startsWith(e,"/")&&_.endsWith(e,"/")){var n=e.substring(1,e.length-1);try{new RegExp(n,"").exec(i)&&(r=t)}catch(e){l.log.debug("Invalid RegExp "+n+" for viewRegistry value: "+t)}}else _.startsWith(i,e)&&(r=t)}),r}function s(){var e=null,t=r.search().tab;if(angular.isString(t)&&(e=a(t)),!e){var n=r.path();n&&(_.startsWith(n,"/")&&(n=n.substring(1)),e=a(n))}return e||(e=o),i.viewPartial=e,l.log.debug("Using view partial: "+e),e}s(),i.$on("$routeChangeSuccess",function(e,t,n){s()})}])}(Jmx||(Jmx={})),function(s){s.ConnectController=s._module.controller("JVM.ConnectController",["$scope","$location","localStorage","workspace","$http",function(r,e,o,t,n){function i(){return Core.createConnectOptions({scheme:"http",host:"localhost",path:"jolokia",port:8181,userName:"",password:"",useProxy:!r.disableProxy})}s.configureScope(r,e,t),r.forms={},n.get("proxy").then(function(e){200===e.status&&Core.isBlank(e.data)?r.disableProxy=!1:r.disableProxy=!0});var a=!1;if(t.addNamedTreePostProcessor("ConnectTab",function(e){a=t&&t.tree&&t.tree.children&&0<t.tree.children.length,r.disableProxy=!a||Core.isChromeApp(),Core.$apply(r)}),r.lastConnection="",s.connectControllerKey in o)try{r.lastConnection=angular.fromJson(o[s.connectControllerKey])}catch(e){r.lastConnection="",delete o[s.connectControllerKey]}r.connectionConfigs=Core.loadConnectionMap(),Core.isBlank(r.lastConnection)?r.currentConfig=i():r.currentConfig=r.connectionConfigs[r.lastConnection],r.formConfig={properties:{name:{type:"java.lang.String",tooltip:"Name for this connection",required:!0,"input-attributes":{placeholder:"Unnamed..."}},scheme:{type:"java.lang.String",tooltip:"HTTP or HTTPS",enum:["http","https"],required:!0},host:{type:"java.lang.String",tooltip:"Target host to connect to",required:!0},port:{type:"java.lang.Integer",tooltip:"The HTTP port used to connect to the server","input-attributes":{min:"0"},required:!0},path:{type:"java.lang.String",tooltip:"The URL path used to connect to Jolokia on the remote server"},userName:{type:"java.lang.String",tooltip:"The user name to be used when connecting to Jolokia"},password:{type:"password",tooltip:"The password to be used when connecting to Jolokia"},useProxy:{type:"java.lang.Boolean",tooltip:"Whether or not we should use a proxy. See more information in the panel to the left.","control-attributes":{"ng-hide":"disableProxy"}}}},r.newConnection=function(){r.lastConnection=""},r.deleteConnection=function(){delete r.connectionConfigs[r.lastConnection],Core.saveConnectionMap(r.connectionConfigs);var e=_.keys(r.connectionConfigs);0===e.length?r.lastConnection="":r.lastConnection=e[0]},r.$watch("lastConnection",function(e,t){s.log.debug("lastConnection: ",e),e!==t&&(Core.isBlank(e)?r.currentConfig=i():r.currentConfig=r.connectionConfigs[e],o[s.connectControllerKey]=angular.toJson(e))},!0),r.save=function(){r.gotoServer(r.currentConfig,null,!0)},r.gotoServer=function(e,t,n){e||(e=Core.getConnectOptions(r.lastConnection));var i=e.name;if(r.connectionConfigs[i]=e,r.lastConnection=i,!0===n)return Core.saveConnectionMap(r.connectionConfigs),r.connectionConfigs=Core.loadConnectionMap(),angular.extend(r.currentConfig,r.connectionConfigs[r.lastConnection]),void Core.$apply(r);Core.connectToServer(o,e),r.connectionConfigs=Core.loadConnectionMap(),angular.extend(r.currentConfig,r.connectionConfigs[r.lastConnection]),Core.$apply(r)}}])}(JVM||(JVM={})),function(t){t._module.controller("JVM.DiscoveryController",["$scope","localStorage","jolokia",function(n,i,e){function r(e){if(e.url){var t=Core.createConnectOptions();t.name=e.agent_description;var n=Core.parseUrl(e.url);angular.extend(t,n),t.userName=e.username,t.password=e.password,Core.connectToServer(i,t)}else Core.notification("warning","No URL available to connect to agent")}n.discovering=!0,n.agents=void 0,n.$watch("agents",function(e,t){e!==t&&(n.selectedAgent=_.find(n.agents,function(e){return e.selected}))},!0),n.closePopover=function(e){$(e.currentTarget).parents(".popover").prev().popover("hide")},n.connectWithCredentials=function(e,t){n.closePopover(e),r(t)},n.gotoServer=function(e,t){t.secured?$(e.currentTarget).popover("show"):r(t)},n.getElementId=function(e){return e.agent_id.dasherize().replace(/\./g,"-")},n.getLogo=function(e){return e.server_product?t.logoRegistry[e.server_product]:t.logoRegistry.generic},n.filterMatches=function(e){if(Core.isBlank(n.filter))return!0;var t=n.filter.toLowerCase();return 0!==angular.toJson(e).toLowerCase().indexOf(t)},n.getAgentIdClass=function(e){return n.hasName(e)?"":"strong"},n.hasName=function(e){return!!(e.server_vendor&&e.server_product&&e.server_version)},n.render=function(e){if(n.discovering=!1,e){var t=angular.toJson(e,!0);n.responseJson!==t&&(n.responseJson=t,n.agents=e)}Core.$apply(n)},n.fetch=function(){n.discovering=!0,e.execute("jolokia:type=Discovery","lookupAgentsWithTimeout(int)",1e4,Core.onSuccess(n.render))},n.fetch()}])}(JVM||(JVM={})),function(e){e.HeaderController=e._module.controller("JVM.HeaderController",["$scope","ConnectOptions",function(e,t){t&&(e.containerName=t.name||"",t.returnTo&&(e.goBack=function(){window.location.href=t.returnTo}))}])}(JVM||(JVM={})),function(r){r._module.controller("JVM.JolokiaPreferences",["$scope","localStorage","jolokiaParams","$window",function(t,n,i,e){(t.entity=t).config={properties:{updateRate:{type:"number",description:"The period between polls to jolokia to fetch JMX data",enum:{Off:0,"5 Seconds":"5000","10 Seconds":"10000","30 Seconds":"30000","60 seconds":"60000"}},maxDepth:{type:"number",description:"The number of levels jolokia will marshal an object to json on the server side before returning"},maxCollectionSize:{type:"number",description:"The maximum number of elements in an array that jolokia will marshal in a response"}}},Core.initPreferenceScope(t,n,{updateRate:{value:5e3,post:function(e){t.$emit("UpdateRate",e)}},maxDepth:{value:r.DEFAULT_MAX_DEPTH,converter:parseInt,formatter:parseInt,post:function(e){i.maxDepth=e,n.jolokiaParams=angular.toJson(i)}},maxCollectionSize:{value:r.DEFAULT_MAX_COLLECTION_SIZE,converter:parseInt,formatter:parseInt,post:function(e){i.maxCollectionSize=e,n.jolokiaParams=angular.toJson(i)}}}),t.reboot=function(){e.location.reload()}}])}(JVM||(JVM={})),function(c){c._module.controller("JVM.JVMsController",["$scope","$window","$location","localStorage","workspace","jolokia","mbeanName",function(s,e,t,l,n,i,r){function o(e){s.initDone=!0,s.data=e.value,0===s.data.length&&(s.status="Could not discover local JVM processes"),Core.$apply(s)}c.configureScope(s,t,n),s.data=[],s.deploying=!1,s.status="",s.initDone=!1,s.filter="",s.filterMatches=function(e){return!!Core.isBlank(s.filter)||e.alias.toLowerCase().has(s.filter.toLowerCase())},s.fetch=function(){i.request({type:"exec",mbean:r,operation:"listLocalJVMs()",arguments:[]},{success:o,error:function(e){s.data=[],s.initDone=!0,s.status="Could not discover local JVM processes: "+e.error,Core.$apply(s)}})},s.stopAgent=function(e){i.request({type:"exec",mbean:r,operation:"stopAgent(java.lang.String)",arguments:[e]},Core.onSuccess(function(){s.fetch()}))},s.startAgent=function(e){i.request({type:"exec",mbean:r,operation:"startAgent(java.lang.String)",arguments:[e]},Core.onSuccess(function(){s.fetch()}))},s.connectTo=function(e,t,n,i,r){var o={};o.scheme=t,o.host=n,o.port=i,o.path=r,o.userName="",o.password="";var a=Core.createConnectToServerOptions(o);a.name="local",c.log.debug("Connecting to local JVM agent: "+e),Core.connectToServer(l,a),Core.$apply(s)},s.fetch()}])}(JVM||(JVM={})),function(i){i._module.controller("JVM.NavController",["$scope","$location","workspace",function(e,t,n){i.configureScope(e,t,n)}])}(JVM||(JVM={})),function(n){n._module.controller("JVM.ResetController",["$scope","localStorage",function(e,t){e.doClearConnectSettings=function(){delete t[n.connectControllerKey],delete t[n.connectionSettingsKey],setTimeout(function(){window.location.reload()},10)}}])}(JVM||(JVM={})),function(c){c.pluginName="threads",c.templatePath="plugins/threads/html/",c.log=Logger.get("Threads"),c.jmxDomain="java.lang",c.mbeanType="Threading",c.mbean=c.jmxDomain+":type="+c.mbeanType,c._module=angular.module(c.pluginName,[]),c._module.config(["$routeProvider",function(e){e.when("/threads",{templateUrl:UrlHelpers.join(c.templatePath,"index.html")})}]),c._module.run(["$templateCache","workspace","viewRegistry","layoutFull","helpRegistry","HawtioNav",function(e,t,n,i,r,o){n.threads=i,r.addUserDoc("threads","plugins/threads/doc/help.md");var a=o.builder(),s=a.id("threads-toolbar").href(function(){return"#"}).template(function(){return e.get(UrlHelpers.join(c.templatePath,"toolbar.html"))}).build(),l=a.id("threads").href(function(){return"/threads"}).isValid(function(){return t.treeContainsDomainAndProperties(c.jmxDomain,{type:c.mbeanType})}).title(function(){return"Threads"}).tooltip(function(){return"View information about the threads in the JVM"}).isSelected(function(){return t.isTopTabActive("threads")}).tabs(s).build();o.add(l)}]),hawtioPluginLoader.addModule(c.pluginName)}(Threads||(Threads={})),function(u){u._module.controller("Threads.ToolbarController",["$scope","$rootScope","jolokia",function(n,t,e){n.$on("ThreadControllerSupport",function(e,t){n.support=t}),n.$on("ThreadControllerThreads",function(e,t){n.unfilteredThreads=t,n.totals={},t.forEach(function(e){var t=e.threadState;t in n.totals?n.totals[t]++:n.totals[t]=1}),n.threads=t}),n.stateFilter="NONE",n.filterOn=function(e){n.stateFilter=e,t.$broadcast("ThreadsToolbarState",e)},n.selectedFilterClass=function(e){return e===n.stateFilter?"active":""},n.getMonitorClass=function(e,t){return t.toString()},n.getMonitorName=function(e){return e=e.replace("Supported",""),_.startCase(e)}}]),u._module.controller("Threads.ThreadsController",["$scope","$rootScope","$routeParams","$templateCache","jolokia","$element",function(i,r,e,t,n,o){function a(e){var t=angular.toJson(e.value,!0);if(i.getThreadInfoResponseJson!==t){i.getThreadInfoResponseJson=t;var n=_.without(e.value,null);i.unfilteredThreads=n,n=i.filterThreads(i.stateFilter,n),i.threads=n,r.$broadcast("ThreadControllerThreads",n),Core.$apply(i)}}i.selectedRowJson="",i.lastThreadJson="",i.getThreadInfoResponseJson="",i.threads=[],i.totals={},i.support={},i.row={},i.threadSelected=!1,i.selectedRowIndex=-1,i.stateFilter="NONE",i.showRaw={expanded:!1},i.addToDashboardLink=function(){var e=angular.toJson({size_x:8,size_y:2});return"#/dashboard/add?tab=dashboard&href="+encodeURIComponent("#/threads")+"&title="+encodeURIComponent("Threads")+"&size="+encodeURIComponent(e)},i.isInDashboardClass=function(){return angular.isDefined(i.inDashboard&&i.inDashboard)?"threads-dashboard":"threads logbar"},i.$watch("searchFilter",function(e,t){e!==t&&(i.threadGridOptions.filterOptions.filterText=e)}),i.$watch("stateFilter",function(e,t){e!==t&&("NONE"===i.stateFilter?i.threads=i.unfilteredThreads:i.threads=i.filterThreads(i.stateFilter,i.unfilteredThreads))}),i.threadGridOptions={selectedItems:[],data:"threads",showSelectionCheckbox:!1,enableRowClickSelection:!0,multiSelect:!1,primaryKeyFn:function(e,t){return e.threadId},filterOptions:{filterText:""},sortInfo:{sortBy:"threadId",ascending:!1},columnDefs:[{field:"threadId",displayName:"ID"},{field:"threadState",displayName:"State",cellTemplate:t.get("threadStateTemplate")},{field:"threadName",displayName:"Name"},{field:"waitedTime",displayName:"Waited Time",cellTemplate:'<div class="ngCellText" ng-show="row.entity.waitedTime > 0">{{row.entity.waitedTime | humanizeMs}}</div>'},{field:"blockedTime",displayName:"Blocked Time",cellTemplate:'<div class="ngCellText" ng-show="row.entity.blockedTime > 0">{{row.entity.blockedTime | humanizeMs}}</div>'},{field:"inNative",displayName:"Native",cellTemplate:'<div class="ngCellText"><span ng-show="row.entity.inNative" class="orange">(in native)</span></div>'},{field:"suspended",displayName:"Suspended",cellTemplate:'<div class="ngCellText"><span ng-show="row.entity.suspended" class="red">(suspended)</span></div>'}]},i.$watch("threadGridOptions.selectedItems",function(e,t){e!==t&&(0===e.length?(i.row={},i.threadSelected=!1,i.selectedRowIndex=-1):(i.row=_.first(e),i.threadSelected=!0,i.selectedRowIndex=_.findIndex(Core.pathGet(i,["hawtioSimpleTable","threads","rows"]),function(e){return e.entity.threadId===i.row.threadId})),i.selectedRowJson=angular.toJson(i.row,!0))},!0),i.$on("ThreadsToolbarState",function(e,t){i.filterOn(t)}),i.filterOn=function(e){i.stateFilter=e},i.filterThreads=function(t,e){return u.log.debug("Filtering threads by: ",t),"NONE"===t?e:e.filter(function(e){return e&&e.threadState===t})},i.deselect=function(){i.threadGridOptions.selectedItems=[]},i.selectThreadById=function(t){i.threadGridOptions.selectedItems=i.threads.filter(function(e){return e.threadId===t})},i.selectThreadByIndex=function(e){var t=Core.pathGet(i,["hawtioSimpleTable","threads","rows"])[e];i.threadGridOptions.selectedItems=i.threads.filter(function(e){return e&&e.threadId==t.entity.threadId})},i.init=function(){n.request([{type:"read",mbean:u.mbean,attribute:"ThreadContentionMonitoringSupported"},{type:"read",mbean:u.mbean,attribute:"ObjectMonitorUsageSupported"},{type:"read",mbean:u.mbean,attribute:"SynchronizerUsageSupported"}],{method:"post",success:[function(e){i.support.threadContentionMonitoringSupported=e.value,r.$broadcast("ThreadControllerSupport",i.support),u.log.debug("ThreadContentionMonitoringSupported: ",i.support.threadContentionMonitoringSupported),i.maybeRegister()},function(e){i.support.objectMonitorUsageSupported=e.value,r.$broadcast("ThreadControllerSupport",i.support),u.log.debug("ObjectMonitorUsageSupported: ",i.support.objectMonitorUsageSupported),i.maybeRegister()},function(e){i.support.synchronizerUsageSupported=e.value,r.$broadcast("ThreadControllerSupport",i.support),u.log.debug("SynchronizerUsageSupported: ",i.support.synchronizerUsageSupported),i.maybeRegister()}],error:function(e){u.log.error("Failed to query for supported usages: ",e.error)}})};var s=Core.throttled(i.init,500);function l(e){u.log.info("Disabled contention monitoring: ",e),Core.$apply(i)}function c(e){o.on("$destroy",function(){n.setAttribute(u.mbean,"ThreadContentionMonitoringEnabled",!1,Core.onSuccess(l))}),u.log.info("Enabled contention monitoring"),Core.$apply(i)}i.maybeRegister=function(){"objectMonitorUsageSupported"in i.support&&"synchronizerUsageSupported"in i.support&&"threadContentionMonitoringSupported"in i.support&&(u.log.debug("Registering dumpAllThreads polling"),Core.register(n,i,{type:"exec",mbean:u.mbean,operation:"dumpAllThreads",arguments:[i.support.objectMonitorUsageSupported,i.support.synchronizerUsageSupported]},Core.onSuccess(a)),i.support.threadContentionMonitoringSupported&&n.request({type:"read",mbean:u.mbean,attribute:"ThreadContentionMonitoringEnabled"},Core.onSuccess(i.maybeEnableThreadContentionMonitoring)))},i.maybeEnableThreadContentionMonitoring=function(e){!1===e.value?(u.log.info("Thread contention monitoring not enabled, enabling"),n.setAttribute(u.mbean,"ThreadContentionMonitoringEnabled",!0,Core.onSuccess(c))):u.log.info("Thread contention monitoring already enabled"),Core.$apply(i)},s()}])}(Threads||(Threads={})),angular.module("hawtio-jmx-templates",[]).run(["$templateCache",function(e){e.put("plugins/jvm/html/connect.html",'<div ng-controller="JVM.ConnectController">\n\n  <div class="row">\n    <div class="col-md-6">\n      <div class="alert alert-info">\n        <p>\n          This page allows you to connect to remote processes which <strong>already have a <a\n                href="http://jolokia.org/">jolokia agent</a> running inside them</strong>. You will need to know the\n          host name, port and path of the jolokia agent to be able to connect.\n        </p>\n\n        <p>\n          If the process you wish to connect to does not have a jolokia agent inside, please refer to the <a\n                href="http://jolokia.org/agent.html">jolokia documentation</a> for how to add a JVM, servlet or OSGi\n          based agent inside it.\n        </p>\n\n        <p>\n          If you are using <a href="http://fabric8.io/">Fabric8</a>, <a href="http://www.jboss.org/products/fuse">JBoss Fuse</a>, or <a href="http://activemq.apache.org">Apache ActiveMQ</a>;\n          then a jolokia agent is included by default. Or you can always just deploy hawtio inside the process (which includes the jolokia agent).\n        </p>\n\n        <p>\n          <strong>Use Proxy</strong>:\n          hawtio is running in your browser; usually due to CORS; you cannot open a different host or port from your browser (due to browse security restrictions);\n          so we have to use a proxy servlet inside the hawtio web app to proxy all requests for a different jolokia server - so we can communicate with a different jolokia agent.\n          If you use the hawtio Chrome Extension this isn’t required; since Chrome Extensions are allowed to connect to any host/port.\n        </p>\n\n        <p ng-show="hasLocalMBean()">\n          Use the <strong><a href="#/jvm/local">Local Tab</a></strong> to connect to processes locally on this machine (which will install a jolokia agent automatically if required).\n        </p>\n\n        <p ng-show="!hasLocalMBean()">\n          The <strong>Local Tab</strong> is not currently enabled because either the server side <strong>hawtio-local-jvm-mbean plugin</strong> is not installed or this\n          JVM cannot find the <strong>com.sun.tools.attach.VirtualMachine</strong> API usually found in the <strong>tool.jar</strong>.\n          Please see the <a href="http://hawt.io/faq/index.html">FAQ entry</a> for more details.\n        </p>\n      </div>\n    </div>\n\n    <div class="col-md-6">\n      <dl>\n        <dt>Saved Connections</dt>\n        <dd>\n          <form class="form-horizontal no-bottom-margin">\n            <fieldset>\n              <div class="control-group">\n                <label class="control-label">Connections: </label>\n                <div class="controls">\n                  <select ng-model="lastConnection"\n                          ng-options="value.name as key for (key, value) in connectionConfigs">\n                    <option value=""\n                            ng-hide="lastConnection">New connection...</option>\n                  </select>\n                  <button class="btn btn-success"\n                          title="Connect to this server"\n                          ng-disabled="!lastConnection"\n                          ng-click="gotoServer()"><i class="fa fa-share"></i></button>\n                  <button class="btn btn-danger"\n                          title="Delete this connection"\n                          ng-disabled="!lastConnection"\n                          ng-click="deleteConnection()"><i class="fa fa-remove"></i></button>\n                  <button class="btn btn-primary"\n                          title="Create a new connection"\n                          ng-disabled="!lastConnection"\n                          ng-click="newConnection()"><i class="fa fa-plus"></i></button>\n                </div>\n              </div>\n            </fieldset>\n          </form>\n        </dd>\n      </dl>\n\n      <dl>\n        <dt>Connection Settings</dt>\n        <dd>\n          <div simple-form name="connectForm" data="formConfig" entity="currentConfig" onSubmit="gotoServer()"></div>\n\n          <div class="centered">\n            <button class="btn btn-primary"\n                    ng-disabled="!forms.connectForm.$valid"\n                    hawtio-submit="connectForm"\n                    title="Saves the connection and opens a new browser window connecting to the given JVM process via its Jolokia servlet URL">Connect to remote server</button>\n            <button class="btn"\n                    title="Save this configuration but don\'t open a new tab"\n                    ng-disabled="!forms.connectForm.$valid"\n                    ng-click="save()">Save</button>\n          </div>\n        </dd>\n      </dl>\n\n    </div>\n\n  </div>\n\n</div>\n'),e.put("plugins/jvm/html/discover.html",'<div ng-controller="JVM.DiscoveryController">\n\n  <div class="row">\n\n    <div class="pull-right">\n      <button class="btn" ng-click="fetch()" title="Refresh"><i class="fa fa-refresh"></i></button>\n    </div>\n    <div class="pull-right">\n      <input class="search-query" type="text" ng-model="filter" placeholder="Filter...">\n    </div>\n\n    <script type="text/ng-template" id="authPrompt">\n      <div class="auth-form">\n        <form name="authForm">\n          <input type="text"\n                 class="input-sm"\n                 placeholder="Username..."\n                 ng-model="agent.username"\n                 required>\n          <input type="password"\n                 class="input-sm"\n                 placeholder="Password..."\n                 ng-model="agent.password"\n                 required>\n          <button ng-disabled="!authForm.$valid"\n                  ng-click="connectWithCredentials($event, agent)"\n                  class="btn btn-success">\n            <i class="fa fa-share"></i> Connect\n          </button>\n          <button class="btn" ng-click="closePopover($event)"><i class="fa fa-remove"></i></button>\n        </form>\n      </div>\n    <\/script>\n\n  </div>\n\n  <div class="row">\n\n    <div ng-show="discovering">\n      <p></p>\n\n      <div class="alert alert-info">\n        <i class="fa fa-spinner icon-spin"></i> Please wait, discovering agents ...\n      </div>\n    </div>\n\n    <div ng-hide="discovering">\n      <div ng-hide="agents">\n        <p></p>\n\n        <div class="alert alert-warning">\n          No agents discovered.\n        </div>\n      </div>\n      <div ng-show="agents">\n        <ul class="discovery zebra-list">\n          <li ng-repeat="agent in agents track by $index" ng-show="filterMatches(agent)">\n\n            <div class="inline-block">\n              <img ng-src="{{getLogo(agent)}}">\n            </div>\n\n            <div class="inline-block">\n              <p ng-hide="!hasName(agent)">\n              <span class="strong"\n                    ng-show="agent.server_vendor">\n                {{agent.server_vendor}} {{_.startCase(agent.server_product)}} {{agent.server_version}}\n              </span>\n              </p>\n            <span ng-class="getAgentIdClass(agent)">\n              <strong ng-show="hasName(agent)">Agent ID: </strong>{{agent.agent_id}}<br/>\n              <strong ng-show="hasName(agent)">Agent Version: </strong><span ng-hide="hasName(agent)"> Version: </span>{{agent.agent_version}}</span><br/>\n              <strong ng-show="hasName(agent)">Agent Description: </strong><span\n                ng-hide="hasName(agent)"> Description: </span>{{agent.agent_description}}</span><br/>\n\n              <p ng-hide="!agent.url"><strong>Agent URL: </strong><a ng-href="{{agent.url}}"\n                                                                     target="_blank">{{agent.url}}</a>\n              </p>\n            </div>\n\n            <div class="inline-block lock" ng-show="agent.secured">\n              <i class="fa fa-lock" title="A valid username and password will be required to connect"></i>\n            </div>\n\n            <div class="inline-block" ng-hide="!agent.url">\n              <div class="connect-button"\n                   ng-click="gotoServer($event, agent)"\n                   hawtio-template-popover\n                   content="authPrompt"\n                   trigger="manual"\n                   placement="auto"\n                   data-title="Please enter your username and password">\n                <i ng-show="agent.url" class="icon-play-circle"></i>\n              </div>\n            </div>\n\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("plugins/jvm/html/jolokiaError.html",'<div class="modal-header">\n  <h3 class="modal-title">The connection to jolokia failed!</h3>\n</div>\n<div class="modal-body">\n  <div ng-show="responseText">\n    <p>The connection to jolokia has failed with the following error, also check the javascript console for more details.</p>\n    <div hawtio-editor="responseText" readonly="true"></div>\n  </div>\n  <div ng-hide="responseText">\n    <p>The connection to jolokia has failed for an unknown reason, check the javascript console for more details.</p>\n  </div>\n</div>\n<div class="modal-footer">\n  <button ng-show="ConnectOptions.returnTo" class="btn" ng-click="goBack()">Back</button>\n  <button class="btn btn-primary" ng-click="retry()">Retry</button>\n</div>\n'),e.put("plugins/jvm/html/jolokiaPreferences.html",'<div ng-controller="JVM.JolokiaPreferences">\n  <div hawtio-form-2="config" entity="entity"></div>\n\n  <div class="control-group">\n    <div class="controls">\n      <button class="btn btn-primary" ng-click="reboot()">Apply</button>\n      <span class="help-block">Restart hawtio with the new values in effect</span>\n    </div>\n  </div>\n\n</div>\n'),e.put("plugins/jvm/html/layoutConnect.html",'<ul class="nav nav-tabs connected" ng-controller="JVM.NavController">\n  <li ng-repeat="link in breadcrumbs" ng-show="isValid(link)" ng-class=\'{active : isActive(link.href)}\'>\n    <a ng-href="{{link.href}}{{hash}}" ng-bind-html="link.content"></a>\n  </li>\n</ul>\n<div class="row">\n  <div ng-view></div>\n</div>\n'),e.put("plugins/jvm/html/local.html",'<div ng-controller="JVM.JVMsController">\n\n  <div class="row">\n    <div class="pull-right">\n      <button class="btn" ng-click="fetch()" title="Refresh"><i class="fa fa-refresh"></i></button>\n    </div>\n    <div class="pull-right">\n      <input class="search-query" type="text" ng-model="filter" placeholder="Filter...">\n    </div>\n  </div>\n\n  <div ng-hide="initDone">\n    <div class="alert alert-info">\n      <i class="fa fa-spinner icon-spin"></i> Please wait, discovering local JVM processes ...\n    </div>\n  </div>\n\n  <div ng-hide=\'data.length > 0\' class=\'row\'>\n    {{status}}\n  </div>\n\n  <div ng-show=\'data.length > 0\' class="row">\n    <table class=\'centered table table-bordered table-condensed table-striped\'>\n      <thead>\n      <tr>\n        <th style="width: 70px">PID</th>\n        <th>Name</th>\n        <th style="width: 300px">Agent URL</th>\n        <th style="width: 50px"></th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr ng-repeat="jvm in data track by $index" ng-show="filterMatches(jvm)">\n        <td>{{jvm.id}}</td>\n        <td title="{{jvm.displayName}}">{{jvm.alias}}</td>\n        <td><a href=\'\' title="Connect to this agent"\n               ng-click="connectTo(jvm.url, jvm.scheme, jvm.hostname, jvm.port, jvm.path)">{{jvm.agentUrl}}</a></td>\n        <td>\n          <a class=\'btn control-button\' href="" title="Stop agent" ng-show="jvm.agentUrl"\n             ng-click="stopAgent(jvm.id)"><i class="fa fa-off"></i></a>\n          <a class=\'btn control-button\' href="" title="Start agent" ng-hide="jvm.agentUrl"\n             ng-click="startAgent(jvm.id)"><i class="icon-play-circle"></i></a>\n        </td>\n      </tr>\n\n      </tbody>\n    </table>\n\n  </div>\n\n\n</div>\n'),e.put("plugins/jvm/html/navbarHeaderExtension.html",'<style>\n  .navbar-header-hawtio-jvm {\n    float: left;\n    margin: 0;\n  }\n\n  .navbar-header-hawtio-jvm h4 {\n    color: white;\n    margin: 0px;\n  }\n\n  .navbar-header-hawtio-jvm li {\n    list-style-type: none;\n    display: inline-block;\n    margin-right: 10px;\n    margin-top: 4px;\n  }\n</style>\n<ul class="navbar-header-hawtio-jvm" ng-controller="JVM.HeaderController">\n  <li ng-show="containerName"><h4 ng-bind="containerName"></h4></li>\n  <li ng-show="goBack"><strong><a href="" ng-click="goBack()">Back</a></strong></li>\n</ul>\n'),e.put("plugins/jvm/html/reset.html",'<div ng-controller="JVM.ResetController">\n  <form class="form-horizontal">\n    <fieldset>\n      <div class="control-group">\n        <label class="control-label">\n          <strong>\n            <i class=\'yellow text-shadowed icon-warning-sign\'></i> Clear saved connections\n          </strong>\n        </label>\n        <div class="controls">\n          <button class="btn btn-danger" ng-click="doClearConnectSettings()">Clear saved connections</button>\n          <span class="help-block">Wipe all saved connection settings stored by {{branding.appName}} in your browser\'s local storage</span>\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n\n'),e.put("plugins/jmx/html/areaChart.html",'<div ng-controller="Jmx.AreaChartController">\n  <script type="text/ng-template" id="areaChart">\n    <fs-area bind="data" duration="250" interpolate="false" point-radius="5" width="width" height="height" label=""></fs-area>\n  <\/script>\n  <div compile="template"></div>\n</div>\n'),e.put("plugins/jmx/html/attributeToolBar.html",'<div class="pull-right" ng-hide="inDashboard">\n  <hawtio-filter ng-model="gridOptions.filterOptions.filterText" placeholder="Filter..." save-as="{{nid}}-filter-text"></hawtio-filter>\n</div>\n'),e.put("plugins/jmx/html/attributes.html",'<script type="text/ng-template" id="gridTemplate">\n  <table id="attributesGrid"\n         class="table table-condensed table-striped"\n         hawtio-simple-table="gridOptions">\n  </table>\n<\/script>\n\n<div ng-controller="Jmx.AttributesController">\n  <div class="jmx-attributes-toolbar" ng-include src="toolBarTemplate()"></div>\n\n  <div class="jmx-attributes-wrapper gridStyle">\n    <div compile="attributes"></div>\n  </div>\n\n  \x3c!-- modal dialog to show/edit the attribute --\x3e\n  <div hawtio-confirm-dialog="showAttributeDialog"\n       ok-button-text="Update" show-ok-button="{{entity.rw ? \'true\' : \'false\'}}" on-ok="onUpdateAttribute()" on-cancel="onCancelAttribute()"\n       cancel-button-text="Close"\n       title="Attribute: {{entity.key}}">\n    <div class="dialog-body">\n      <div hawtio-form-2=\'attributeSchema\' entity=\'entity\'></div>\n    </div>\n  </div>\n\n</div>\n'),e.put("plugins/jmx/html/chartEdit.html",'<div ng-controller="Jmx.ChartEditController">\n  <form>\n    <fieldset>\n      <div class="control-group" ng-show="canViewChart()">\n        <input type="submit" class="btn" value="View Chart" ng-click="viewChart()"\n               ng-disabled="!selectedAttributes.length && !selectedMBeans.length"/>\n      </div>\n      <div class="control-group">\n        <table class="table">\n          <thead>\n          <tr>\n            <th ng-show="showAttributes()">Attributes</th>\n            <th ng-show="showElements()">Elements</th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td ng-show="showAttributes()">\n              <select id="attributes" size="20" multiple ng-multiple="true" ng-model="selectedAttributes"\n                      ng-options="name | humanize for (name, value) in metrics"></select>\n            </td>\n            <td ng-show="showElements()">\n              <select id="mbeans" size="20" multiple ng-multiple="true" ng-model="selectedMBeans"\n                      ng-options="name for (name, value) in mbeans"></select>\n            </td>\n          </tr>\n          </tbody>\n        </table>\n\n        <div class="alert" ng-show="!canViewChart()">\n          <button type="button" class="close" data-dismiss="alert">×</button>\n          <strong>No numeric metrics available!</strong> Try select another item to chart on.\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n'),e.put("plugins/jmx/html/charts.html",'<div ng-controller="Jmx.ChartController" ng-switch="errorMessage()">\n  <div ng-switch-when="metrics">No valid metrics to show for this mbean.</div>\n  <div ng-switch-when="updateRate">Charts aren\'t available when the update rate is set to "No refreshes", go to the <a ng-href="#/preferences{{hash}}">Preferences</a> panel and set a refresh rate to enable charts</div>\n  <div id="charts"></div>\n</div>\n\n'),e.put("plugins/jmx/html/donutChart.html",'<div ng-controller="Jmx.DonutChartController">\n  <script type="text/ng-template" id="donut">\n    <fs-donut bind="data" outer-radius="200" inner-radius="75"></fs-donut>\n  <\/script>\n  <div compile="template"></div>\n</div>\n'),e.put("plugins/jmx/html/layoutTree.html",'<script type="text/ng-template" id="header">\n  <div class="tree-header" ng-controller="Jmx.TreeHeaderController">\n    <div class="left">\n    </div>\n    <div class="right">\n      <i class="fa fa-chevron-down clickable"\n         title="Expand all nodes"\n         ng-click="expandAll()"></i>\n      <i class="fa fa-chevron-up clickable"\n         title="Unexpand all nodes"\n         ng-click="contractAll()"></i>\n    </div>\n  </div>\n<\/script>\n\n<hawtio-pane position="left" width="300" header="header">\n  <div id="tree-container"\n       ng-controller="Jmx.MBeansController">\n    <div id="jmxtree"></div>\n  </div>\n</hawtio-pane>\n\n<div class="row-fluid">\n  \x3c!--\n  <ng-include src="\'plugins/jmx/html/subLevelTabs.html\'"></ng-include>\n  --\x3e\n  <div id="properties" ng-view></div>\n</div>\n\n\n'),e.put("plugins/jmx/html/operations.html",'  <script type="text/ng-template" id="operationTemplate">\n    <div>\n      <div ng-controller="Jmx.OperationController">\n        <div ng-show="operationResult!=\'\'">\n          <div class="row">\n            <h3 ng-bind="item.name"></h3>\n            <div hawtio-editor="operationResult" mode="mode"></div>\n            <p></p>\n            <div class="control-group pull-right">\n              <div class="controls">\n                <button class="btn cancel"\n                        title="Back to operation list"\n                        ng-click="close()">\n                        <i class="fa fa-list"></i>\n                </button>\n                <button class="btn"\n                        zero-clipboard\n                        data-clipboard-text="{{operationResult}}"\n                        title="Copy value to clipboard">\n                  <i class="fa fa-copy"></i>\n                </button>\n                <button class="btn"\n                        title="Back to operation"\n                        ng-click="ok()">\n                  <i class="fa fa-check"></i> Invoke Again\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div ng-show="operationResult==\'\'">\n          <div class="row">\n            <h3 ng-bind="item.name"></h3>\n            <div ng-hide="item.args.length">\n              This JMX operation requires no arguments.  Click the \'Execute\' button to invoke the operation.\n            </div>\n            <div ng-show="item.args.length">\n              This JMX operation requires some parameters.  Fill in the fields below as necessary and click the \'Execute\' button to invoke the operation.\n            </div>\n            <p></p>\n            <div ng-show="item.args.length" hawtio-form-2="formConfig"\n              entity="entity"\n              name="entryForm"></div>\n            <div class="row">\n              <div class="control-group pull-right">\n                <div class="controls">\n                  <button class="btn cancel"\n                    title="Back to list"\n                    ng-click="close()">\n                    <i class="fa fa-list"></i>\n                  </button>\n                  <button class="btn"\n                    title="Clear form"\n                    ng-click="reset()"\n                    ng-show="item.args.length">\n                    <i class="fa fa-undo"></i>\n                  </button>\n                  <button class="btn btn-success execute"\n                    ng-click="onSubmit()">\n                    <i class="{{executeIcon}}"></i> Execute\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="row">\n          <div class="expandable closed">\n            <div class="title">\n              <i class="expandable-indicator"></i> Jolokia REST URL\n            </div>\n            <div class="expandable-body well">\n              <div class="input-group">\n                <span class="input-group-addon" zero-clipboard\n                    data-clipboard-text="{{jolokiaUrl}}"\n                    title="Copy Jolokia REST Url to clipboard">\n                    <i class="fa fa-copy"></i>\n                </span>\n                <input class="form-control" type="text" name="jolokiaUrl" id="jolokiaUrl" value="{{jolokiaUrl}}" readonly>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  <\/script>\n\n<div id="threadForm" ng-controller="Jmx.OperationsController">\n  <div ng-show="fetched">\n    <h2 ng-bind="objectName"></h2>\n    <div class="row" ng-hide="isOperationsEmpty() || showInvoke">\n      This MBean supports the following JMX operations.  Click an item in the list to invoke that operation.\n    </div>\n    <div class="row" ng-show="isOperationsEmpty()">\n      This MBean has no JMX operations.\n    </div>\n    <hr>\n    <div class="row" ng-hide="isOperationsEmpty() || showInvoke">\n      <div class="pull-right">\n        <hawtio-filter ng-model="methodFilter" placeholder="Filter..." save-as="{{objectName}}-text-filter"></hawtio-filter>\n      </div>\n    </div>\n\n    <div ng-show="showInvoke">\n      <div compile="template"></div>\n    </div>\n\n    <ul ng-hide="showInvoke" class="zebra-list" ng-hide="isOperationsEmpty()">\n      <li class="operation-row"\n          ng-repeat="operation in operations"\n          ng-show="doFilter(operation)"\n          ng-click="invokeOp(operation)"\n          ng-class="getClass(operation)"\n          title="{{operation.desc}}"\n          data-placement="bottom">\n        <i class="fa fa-cog"\n           ng-class="getClass(operation)"></i>\n        <span>{{operation.name}}</span>\n        <span class="operation-actions">\n          <button class="btn"\n                  zero-clipboard\n                  data-clipboard-text="{{operation.name}}"\n                  title="Copy method name to clipboard">\n            <i class="fa fa-copy"></i>\n          </button>\n        </span>\n      </li>\n    </ul>\n  </div>\n\n</div>\n'),e.put("plugins/jmx/html/subLevelTabs.html",'<ul class="nav nav-tabs" ng-controller="Jmx.NavBarController" hawtio-auto-dropdown>\n  <li ng-repeat="nav in subLevelTabs track by $index | orderBy:index" ng-show="isValid(nav)" ng-class="{active : isActive(nav)}">\n    <a ng-href="{{nav.href()}}{{hash}}" title="{{nav.title}}"\n       data-placement="bottom" ng-bind-html="nav.content">\n    </a>\n  </li>\n\n  <li class="pull-right">\n    <a ng-href="{{fullScreenLink()}}" title="Show this view in full screen" data-placement="bottom">\n      <i class="fa fa-fullscreen"></i>\n    </a>\n  </li>\n  <li class="pull-right">\n    <a ng-href="{{addToDashboardLink()}}" title="Add this view to a dashboard" data-placement="bottom">\n      <i class="fa fa-share"></i>\n    </a>\n  </li>\n  <li class="pull-right dropdown overflow" style="visibility: hidden;">\n    <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-chevron-down"></i></a>\n    <ul class="dropdown-menu right"></ul>\n  </li>\n\n\n</ul>\n\n'),e.put("plugins/threads/html/index.html",'<div class="jmx-threads-page" ng-controller="Threads.ThreadsController">\n\n  <div>\n    <div class="pull-right">\n      <hawtio-filter ng-model="searchFilter" placeholder="Filter..." save-as="threads-text-filter"></hawtio-filter>\n    </div>\n\n    <p></p>\n\n    <table class="table table-condensed table-striped"\n           hawtio-simple-table="threadGridOptions"></table>\n\n    <div ng-show="threadSelected" class="log-info-panel">\n      <div class="log-info-panel-frame">\n        <div class="log-info-panel-header">\n          <div class="row-fluid">\n            <button class="btn" ng-click="deselect()"><i class="icon-remove"></i> Close</button>\n            <div class="btn-group"\n                 style="margin-top: 9px;"\n                 hawtio-pager="hawtioSimpleTable.threads.rows"\n                 on-index-change="selectThreadByIndex"\n                 row-index="selectedRowIndex">\n            </div>\n\n            <span><strong>Thread ID:</strong> {{row.threadId}}</span>\n          </div>\n\n          <div class="row-fluid">\n            <span><strong>Thread Name:</strong> {{row.threadName}}</span>\n          </div>\n\n        </div>\n        <div class="log-info-panel-body">\n\n          <div class="row-fluid">\n            <span><strong>Waited Count:</strong> {{row.waitedCount}}</span>\n            <span><strong>Waited Time:</strong> {{row.waitedTime}}ms</span>\n          </div>\n\n          <div class="row-fluid">\n            <span><strong>Blocked Count:</strong> {{row.blockedCount}}</span>\n            <span><strong>Blocked Time:</strong> {{row.blockedTime}}ms</span>\n          </div>\n\n          <div class="row-fluid" ng-show="row.lockInfo != null">\n            <span><strong>Lock Name:</strong> {{row.lockName}}</span>\n            <span><strong>Lock Class Name:</strong> {{row.lockInfo.className}}</span>\n            <span><strong>Lock Identity Hash Code:</strong> {{row.lockInfo.identityHashCode}}</span>\n          </div>\n\n          <div class="row-fluid" ng-show="row.lockOwnerId > 0">\n            <span>Waiting for lock owned by <a href="" ng-click="selectThreadById(row.lockOwnerId)">{{row.lockOwnerId}}</a></span>\n            <span><strong>Owner Name:</strong> {{row.lockOwnerName}}</span>\n          </div>\n\n          <dl ng-show="row.lockedSynchronizers.length > 0">\n            <dt>Locked Synchronizers</dt>\n            <dd>\n              <ol class="zebra-list">\n                <li ng-repeat="synchronizer in row.lockedSynchronizers">\n                  <span><strong>Class Name:</strong> {{synchronizer.className}}</span>\n                  <span><strong>Identity Hash Code:</strong> {{synchronizer.identityHashCode}}</span>\n                </li>\n              </ol>\n            </dd>\n          </dl>\n\n          <dl ng-show="row.lockedMonitors.length > 0">\n            <dt>Locked Monitors</dt>\n            <dd>\n              <ol class="zebra-list">\n                <li ng-repeat="monitor in row.lockedMonitors">\n                  Frame: <strong>{{monitor.lockedStackDepth}}</strong>\n                  <span class="green">{{monitor.lockedStackFrame.className}}</span>\n                  <span class="bold">.</span>\n                  <span class="blue bold">{{monitor.lockedStackFrame.methodName}}</span>\n                  &nbsp;({{monitor.lockedStackFrame.fileName}}<span ng-show="frame.lineNumber > 0">:{{monitor.lockedStackFrame.lineNumber}}</span>)\n                  <span class="orange" ng-show="monitor.lockedStackFrame.nativeMethod">(Native)</span>\n                </li>\n              </ol>\n            </dd>\n          </dl>\n\n          \x3c!-- a simple stack trace display, ideally we\n          could show maven links eventually --\x3e\n          <dl>\n            <dt>Stack Trace</dt>\n            <dd>\n              <ol class="zebra-list">\n                <li ng-repeat="frame in row.stackTrace">\n                  <span class="green">{{frame.className}}</span>\n                  <span class="bold">.</span>\n                  <span class="blue bold">{{frame.methodName}}</span>\n                  &nbsp;({{frame.fileName}}<span ng-show="frame.lineNumber > 0">:{{frame.lineNumber}}</span>)\n                  <span class="orange" ng-show="frame.nativeMethod">(Native)</span>\n                </li>\n              </ol>\n            </dd>\n          </dl>\n\n          \x3c!--\n          <div class="expandable" model="showRaw">\n            <div class="title">\n              <i class="expandable-indicator"></i><span> Show JSON</span>\n            </div>\n            <div class="expandable-body">\n              <div hawtio-editor="selectedRowJson" mode="javascript"></div>\n            </div>\n          </div>\n          --\x3e\n\n        </div>\n      </div>\n    </div>\n\n  </div>\n</div>\n\n\n\n'),e.put("plugins/threads/html/toolbar.html",'<div ng-controller="Threads.ToolbarController">\n  <script type="text/ng-template" id="threadStateTemplate">\n    <div class="thread-state-indicator"\n         title="{{row.entity.threadState | humanize}}"\n         ng-switch on="row.entity.threadState">\n      <i ng-switch-when="NEW"\n         class="lightgreen icon-bolt"></i>\n      <i ng-switch-when="RUNNABLE"\n         class="green icon-play-circle"></i>\n      <i ng-switch-when="BLOCKED"\n         class="red icon-stop"></i>\n      <i ng-switch-when="WAITING"\n         class="darkgray icon-pause"></i>\n      <i ng-switch-when="TIMED_WAITING"\n         class="orange icon-time"></i>\n      <i ng-switch-default="TERMINATED"\n         class="darkred icon-remove"></i>\n    </div>\n  <\/script>\n\n  <div class="state-panel inline-block">\n    <ul class="inline">\n      <li ng-click="filterOn(\'NONE\')"\n          title="Clear state filter"\n          ng-class="selectedFilterClass(\'NONE\')">\n        <span class="clickable no-fade total">Total:</span> {{unfilteredThreads.length}}\n      </li>\n      <li ng-repeat="(state, total) in totals track by $index"\n          ng-click="filterOn(state)"\n          title="Filter by {{state}}"\n          ng-class="selectedFilterClass(state)">\n        <span class="clickable no-fade {{state.dasherize()}}">{{state | humanize}}:</span> {{total}}\n      </li>\n    </ul>\n  </div>\n\n  <div class="inline-block support-panel pull-right">\n    <ul class="inline">\n      <li ng-repeat="(name, value) in support track by $index">\n        <span class="monitor-indicator {{getMonitorClass(name, value)}}" ng-click="maybeToggleMonitor(name, value)">{{getMonitorName(name)}}</span>\n      </li>\n      <li ng-hide="inDashboard">\n        <a ng-href="{{addToDashboardLink()}}" title="Add this view to a dashboard">\n          <i class="icon-share"></i>\n        </a>\n      </li>\n    </ul>\n  </div>\n\n</div>\n\n')}]),hawtioPluginLoader.addModule("hawtio-jmx-templates"),function(e,l){"use strict";var j=l.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;function R(e,t){if(null==(n=t)||""===n||"hasOwnProperty"===n||!s.test("."+n))throw j("badmember",'Dotted member path "@{0}" is invalid.',t);for(var n,i=t.split("."),r=0,o=i.length;r<o&&l.isDefined(e);r++){var a=i[r];e=null!==e?e[a]:void 0}return e}function F(e,n){for(var t in n=n||{},l.forEach(n,function(e,t){delete n[t]}),e)!e.hasOwnProperty(t)||"$"===t.charAt(0)&&"$"===t.charAt(1)||(n[t]=e[t]);return n}l.module("ngResource",["ng"]).provider("$resource",function(){var d=/^https?:\/\/[^/]*/,s=this;this.defaults={stripTrailingSlashes:!0,cancellable:!1,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},delete:{method:"DELETE"}}},this.$get=["$http","$log","$q","$timeout",function(A,e,E,I){var P=l.noop,$=l.forEach,M=l.extend,O=l.copy,N=l.isArray,c=l.isDefined,L=l.isFunction,t=l.isNumber;function u(e,t){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,t?"%20":"+")}function a(e,t){this.template=e,this.defaults=M({},s.defaults,t),this.urlParams={}}return a.prototype={setUrlParams:function(n,i,e){var r,o,a=this,s=e||a.template,t="",l=a.urlParams={};$(s.split(/\W/),function(e){if("hasOwnProperty"===e)throw j("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(e)&&e&&new RegExp("(^|[^\\\\]):"+e+"(\\W|$)").test(s)&&(l[e]={isQueryParamValue:new RegExp("\\?.*=:"+e+"(?:\\W|$)").test(s)})}),s=(s=s.replace(/\\:/g,":")).replace(d,function(e){return t=e,""}),i=i||{},$(a.urlParams,function(e,t){r=i.hasOwnProperty(t)?i[t]:a.defaults[t],c(r)&&null!==r?(o=e.isQueryParamValue?u(r,!0):u(r,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),s=s.replace(new RegExp(":"+t+"(\\W|$)","g"),function(e,t){return o+t})):s=s.replace(new RegExp("(/?):"+t+"(\\W|$)","g"),function(e,t,n){return"/"===n.charAt(0)?n:t+n})}),a.defaults.stripTrailingSlashes&&(s=s.replace(/\/+$/,"")||"/"),s=s.replace(/\/\.(?=\w+($|\?))/,"."),n.url=t+s.replace(/\/\\\./,"/."),$(i,function(e,t){a.urlParams[t]||(n.params=n.params||{},n.params[t]=e)})}},function n(i,k,r,o){var _=new a(i,o);function T(e){return e.resource}function D(e){F(e||{},this)}return r=M({},s.defaults.actions,r),D.prototype.toJSON=function(){var e=M({},this);return delete e.$promise,delete e.$resolved,delete e.$cancelRequest,e},$(r,function(b,w){var x=/^(POST|PUT|PATCH)$/i.test(b.method),C=b.timeout,S=c(b.cancellable)?b.cancellable:_.defaults.cancellable;C&&!t(C)&&(e.debug("ngResource:\n  Only numeric values are allowed as `timeout`.\n  Promises are not supported in $resource, because the same value would be used for multiple requests. If you are looking for a way to cancel requests, you should use the `cancellable` option."),delete b.timeout,C=null),D[w]=function(e,t,n,i){var r,o,a,s={};switch(arguments.length){case 4:a=i,o=n;case 3:case 2:if(!L(t)){s=e,r=t,o=n;break}if(L(e)){o=e,a=t;break}o=t,a=n;case 1:L(e)?o=e:x?r=e:s=e;break;case 0:break;default:throw j("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var l,c,u,d,h,p=this instanceof D,f=p?r:b.isArray?[]:new D(r),g={},m=b.interceptor&&b.interceptor.response||T,v=b.interceptor&&b.interceptor.responseError||void 0;$(b,function(e,t){switch(t){default:g[t]=O(e);break;case"params":case"isArray":case"interceptor":case"cancellable":}}),!p&&S&&(l=E.defer(),g.timeout=l.promise,C&&(c=I(l.resolve,C))),x&&(g.data=r),_.setUrlParams(g,M({},(u=r,d=b.params||{},h={},d=M({},k,d),$(d,function(e,t){L(e)&&(e=e(u)),h[t]=e&&e.charAt&&"@"===e.charAt(0)?R(u,e.substr(1)):e}),h),s),b.url);var y=A(g).then(function(e){var t=e.data;if(t){if(N(t)!==!!b.isArray)throw j("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",w,b.isArray?"array":"object",N(t)?"array":"object",g.method,g.url);if(b.isArray)f.length=0,$(t,function(e){"object"==typeof e?f.push(new D(e)):f.push(e)});else{var n=f.$promise;F(t,f),f.$promise=n}}return e.resource=f,e},function(e){return(a||P)(e),E.reject(e)});return y.finally(function(){f.$resolved=!0,!p&&S&&(f.$cancelRequest=P,I.cancel(c),l=c=g.timeout=null)}),y=y.then(function(e){var t=m(e);return(o||P)(t,e.headers,e.status,e.statusText),t},v),p?y:(f.$promise=y,f.$resolved=!1,S&&(f.$cancelRequest=l.resolve),f)},D.prototype["$"+w]=function(e,t,n){L(e)&&(n=t,t=e,e={});var i=D[w].call(this,e,this,t,n);return i.$promise||i}}),D.bind=function(e){var t=M({},k,e);return n(i,t,r,o)},D}}]})}(window,window.angular),function(e,l,t){e.addGauge=function(e,t,n,i){var r=new u(e,t,n,null,i,"gauges",null);c.push(r)},e.addMeter=function(e,t,n,i,r,o){null==o&&(o="Calls");var a=new u(e,t,n,i,r,"meters",o);a.eventType=o,c.push(a)},e.addCounter=function(e,t,n,i,r){var o=new u(e,t,n,i,r,"counters",null);c.push(o)},e.addHistogram=function(e,t,n,i,r){var o=new u(e,t,n,i||1,r,"histograms",null);c.push(o)},e.addLinkedCounter=function(e,t,n,i,r,o){var a=new u(e,t,n,null,o,"counters",null);a||(a=new u(e,t,n,null,o,"timers",null)),a.maxClassName=i,a.maxMetricName=r,a.getMax=function(e){return this.getMetricNode(this.maxClassName,this.maxMetricName,e).count},a.getMetricNode=function(e,t,n){var i=n.counters[e+"."+t]?n.counters[e+"."+t]:null;return i||(n.timers[e+"."+t]?n.timers[e+"."+t]:null)},c.push(a)},e.addTimer=function(e,t,n,i,r,o,a){var s=d(e,t,n,i,r,o,a,!1);c.push(s)},e.addCache=function(e,t,n){var i=new u(e,t,null,null,n,"caches",null);i.components={gauges:[new u(null,t,"hits",null,"Hits","gauges",null),new u(null,t,"misses",null,"Misses","gauges",null),new u(null,t,"objects",null,"Objects","gauges",null),new u(null,t,"eviction-count",null,"Eviction Count","gauges",null),new u(null,t,"in-memory-hits",null,"In Memory Hits","gauges",null),new u(null,t,"in-memory-misses",null,"In Memory Misses","gauges",null),new u(null,t,"in-memory-objects",null,"In Memory Objects","gauges",null),new u(null,t,"off-heap-hits",null,"Off Heap Hits","gauges",null),new u(null,t,"off-heap-misses",null,"Off Heap Misses","gauges",null),new u(null,t,"off-heap-objects",null,"Off Heap Objects","gauges",null),new u(null,t,"on-disk-hits",null,"On Disk Hits","gauges",null),new u(null,t,"on-disk-misses",null,"On Disk Misses","gauges",null),new u(null,t,"on-disk-objects",null,"On Disk Objects","gauges",null),new u(null,t,"mean-get-time",null,"Mean Get Time","gauges",null),new u(null,t,"mean-search-time",null,"Mean Search Time","gauges",null),new u(null,t,"searches-per-second",null,"Searches Per Sec","gauges",null),new u(null,t,"writer-queue-size",null,"Writer Queue Size","gauges",null),new u(null,t,"accuracy",null,"Accuracy","gauges",null)]},i.getTimer=d(e+"gettimer",t,"gets",5,"Get","get",1,!0),i.putTimer=d(e+"puttimer",t,"puts",5,"Put","put",1,!0),c.push(i)},e.addJvm=function(e,t,n){var i=new u(e,t,null,null,n,"jvms",null);c.push(i)},e.addWeb=function(e,t,n){var i=new u(e,t,null,null,n,"webs",null);i.components={meters:[new u(e+" td.responseCodesOkGraph",t,"responseCodes.ok",10,"OK Responses","meters",null),new u(e+" td.responseCodesBadRequestGraph",t,"responseCodes.badRequest",10,"Bad Requests","meters",null),new u(e+" td.responseCodesCreatedGraph",t,"responseCodes.created",10,"Created Responses","meters",null),new u(e+" td.responseCodesNoContentGraph",t,"responseCodes.noContent",10,"No Content Responses","meters",null),new u(e+" td.responseCodesNotFoundGraph",t,"responseCodes.notFound",10,"Not Found Responses","meters",null),new u(e+" td.responseCodesOtherGraph",t,"responseCodes.other",10,"Other Responses","meters",null),new u(e+" td.responseCodesServerErrorGraph",t,"responseCodes.serverError",10,"Server Error Responses","meters",null)],activeRequestsInfo:new u(e+" td.activeRequestsGraph",t,"activeRequests",10,"Active Requests","counters",null),requestsInfo:d(e+" td.requestsGraph",t,"requests",100,"Requests","requests",100,!0)},c.push(i)},e.addLog4j=function(e,t,n){var i=new u(e,t,null,null,n,"log4js",null);i.components={meters:[new u(e+" td.all",t,"all",100,"all","meters",null),new u(e+" td.fatal",t,"fatal",100,"fatal","meters",null),new u(e+" td.error",t,"error",100,"error","meters",null),new u(e+" td.warn",t,"warn",100,"warn","meters",null),new u(e+" td.info",t,"info",100,"info","meters",null),new u(e+" td.debug",t,"debug",100,"debug","meters",null),new u(e+" td.trace",t,"trace",100,"trace","meters",null)]},c.push(i)},e.initGraphs=function(){for(var e=0;e<c.length;e++)"gauges"==c[e].type?w(c[e]):"meters"==c[e].type?v(c[e]):"counters"==c[e].type||"linkedTimerCounters"==c[e].type?h(c[e]):"histograms"==c[e].type?(r=c[e],o=void 0,o=l("#"+r.divId),a="<div class='metricsWatcher histogram histogramContainer'><div class='heading1 btn-link col-md-12' data-toggle='collapse' data-target='#"+r.divId+"Collapse'> "+(r.isNested?"Histogram":r.title)+"</div><div class='collapse' id='"+r.divId+"Collapse'><table><tr><td class='col-md-4'>Count</td><td class='col-md-4'>Min</td><td class='col-md-4'>Max<td class='col-md-4'>Mean</td></tr><tr><td class='countVal'></td><td class='minVal'></td><td class='meanVal'></td><td class='maxVal'></td></tr></table><p>Percentiles</p><table class='progressTable'>"+y("99.9%","p999")+y("99%","p99")+y("98%","p98")+y("95%","p95")+y("75%","p75")+y("50%","p50")+"</table></div></div>",o.html(a)):"timers"==c[e].type?f(c[e]):"caches"==c[e].type?C(c[e]):"jvms"==c[e].type?(t=c[e],i=n=void 0,n=l("#"+t.divId),i="<div class='metricsWatcher jvm metricGraph col-md-12'><fieldset><legend><div  class='heading1 btn-link' data-toggle='collapse' data-target='#"+t.divId+"Collapse'>"+t.title+"</div></legend><div class='jvmContainer col-md-12 collapse' id='"+t.divId+"Collapse'>\t<div id='"+t.divId+"Vm'></div></div></fieldset></div>",n.html(i)):"webs"==c[e].type?k(c[e]):"log4js"==c[e].type?T(c[e]):alert("Unknown meter info type: "+c[e].type);var t,n,i,r,o,a},e.updateGraphs=function(e){for(var t=0;t<c.length;t++)"gauges"==c[t].type?x(c[t],e):"meters"==c[t].type?b(c[t],e):"counters"==c[t].type||"linkedTimerCounters"==c[t].type?p(c[t],e):"histograms"==c[t].type?m(c[t],e):"timers"==c[t].type?g(c[t],e):"caches"==c[t].type?S(c[t],e):"jvms"==c[t].type?(n=c[t],i=e,a=o=r=void 0,r=l("#"+n.divId+"Vm"),o=i.gauges,a="<div class='row'><div class='col-md-3'><table class='jvmTable'><caption>Memory</caption><tr><td><h5>Total Init</h5></td><td>"+o["jvm.memory.total.init"].value+"</td></tr><tr><td><h5>Total Used</h5></td><td>"+o["jvm.memory.total.used"].value+"</td></tr><tr><td><h5>Total Max</h5></td><td>"+o["jvm.memory.total.max"].value+"</td></tr><tr><td><h5>Total Committed</h5></td><td>"+o["jvm.memory.total.committed"].value+"</td></tr><tr><td><h5>Heap Init</h5></td><td>"+o["jvm.memory.heap.init"].value+"</td></tr><tr><td><h5>Heap Used</h5></td><td>"+o["jvm.memory.heap.used"].value+"</td></tr><tr><td><h5>Heap Max</h5></td><td>"+o["jvm.memory.heap.max"].value+"</td></tr><tr><td><h5>Heap Committed</h5></td><td>"+o["jvm.memory.heap.committed"].value+"</td></tr><tr><td><h5>Non Heap Init</h5></td><td>"+o["jvm.memory.non-heap.init"].value+"</td></tr><tr><td><h5>Non Heap Used</h5></td><td>"+o["jvm.memory.non-heap.used"].value+"</td></tr><tr><td><h5>Non Heap Max</h5></td><td>"+o["jvm.memory.non-heap.max"].value+"</td></tr><tr><td><h5>Non Heap Committed</h5></td><td>"+o["jvm.memory.non-heap.committed"].value+"</td></tr></table></div><div class='col-md-3'><table class='jvmTable'><caption>Memory Usage</caption><tr><td><h5>Heap Usage</h5></td><td>"+(100*o["jvm.memory.heap.usage"].value).toFixed(2)+"</td></tr><tr><td><h5>Non Heap Usage</h5></td><td>"+(100*o["jvm.memory.non-heap.usage"].value).toFixed(2)+"</td></tr>"+(o["jvm.memory.pools.JIT-code-cache.usage"]?"<tr><td><h5>JIT Code Cache Usage</h5></td><td>"+(100*o["jvm.memory.pools.JIT-code-cache.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Code-Cache.usage"]?"<tr><td><h5>JIT Code Cache Usage</h5></td><td>"+(100*o["jvm.memory.pools.Code-Cache.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.JIT-data-cache.usage"]?"<tr><td><h5>JIT Data Cache Usage</h5></td><td>"+(100*o["jvm.memory.pools.JIT-data-cache.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Java-heap.usage"]?"<tr><td><h5>Java Heap Usage</h5></td><td>"+(100*o["jvm.memory.pools.Java-heap.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.class-storage.usage"]?"<tr><td><h5>Class Storage Usage</h5></td><td>"+(100*o["jvm.memory.pools.class-storage.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Perm-Gen.usage"]?"<tr><td><h5>Perm Gen Usage</h5></td><td>"+(100*o["jvm.memory.pools.Perm-Gen.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Tenured-Gen.usage"]?"<tr><td><h5>Tenured Gen Usage</h5></td><td>"+(100*o["jvm.memory.pools.Tenured-Gen.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.miscellaneous-non-heap-storage.usage"]?"<tr><td><h5>Misc Non Heap Storage Usage</h5></td><td>"+(100*o["jvm.memory.pools.miscellaneous-non-heap-storage.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Survivor-Space.usage"]?"<tr><td><h5>Survivor Space Usage</h5></td><td>"+(100*o["jvm.memory.pools.Survivor-Space.usage"].value).toFixed(2)+"</td></tr>":"")+(o["jvm.memory.pools.Eden-Space.usage"]?"<tr><td><h5>Eden Space Usage</h5></td><td>"+(100*o["jvm.memory.pools.Eden-Space.usage"].value).toFixed(2)+"</td></tr>":"")+"</table></div><div class='col-md-3'><table class='jvmTable'><caption>Garbage Collection</caption><tr><td><h5>PS Mark Sweep Runs</h5></td><td>"+o["jvm.gc.MarkSweepCompact.count"].value+"</td></tr><tr><td><h5>PS Mark Sweep Time</h5></td><td>"+o["jvm.gc.MarkSweepCompact.time"].value+"</td></tr><tr><td><h5>GC Copy Runs</h5></td><td>"+o["jvm.gc.Copy.count"].value+"</td></tr><tr><td><h5>GC Copy Time</h5></td><td>"+o["jvm.gc.Copy.time"].value+"</td></tr></table></div><div class='col-md-3'><table class='jvmTable'><caption>Threads</caption><tr><td><h5>FD Usage</h5></td><td>"+s(o["jvm.fd.usage"].value,2)+"</td></tr><tr><td><h5>Daemon Threads</h5></td><td>"+o["jvm.thread-states.daemon.count"].value+"</td></tr><tr><td><h5>Threads</h5></td><td>"+o["jvm.thread-states.count"].value+"</td></tr><tr><td><h5>Deadlocks</h5></td><td>"+o["jvm.thread-states.deadlocks"].value+"</td></tr></table><table class='jvmTable'><caption>Thread States</caption><tr><td><h5>Terminated</h5></td><td>"+o["jvm.thread-states.terminated.count"].value+"</td></tr><tr><td><h5>Timed Waiting</h5></td><td>"+o["jvm.thread-states.timed_waiting.count"].value+"</td></tr><tr><td><h5>Blocked</h5></td><td>"+o["jvm.thread-states.blocked.count"].value+"</td></tr><tr><td><h5>Waiting</h5></td><td>"+o["jvm.thread-states.waiting.count"].value+"</td></tr><tr><td><h5>Runnable</h5></td><td>"+o["jvm.thread-states.runnable.count"].value+"</td></tr><tr><td><h5>New</h5></td><td>"+o["jvm.thread-states.new.count"].value+"</td></tr></table></div></div>",r.html(a)):"webs"==c[t].type?_(c[t],e):"log4js"==c[t].type?D(c[t],e):alert("Unknown meter info type: "+c[t].type);var n,i,r,o,a};var c=[];function u(e,t,n,i,r,o,a){this.divId=e,this.className=t,this.metricName=n,this.max=i,this.title=r,this.type=o,this.subTitle=a,this.getMax=function(e){return this.max},this.getMetricNode=function(e,t,n){return n[o][e+"."+t]?n[o][e+"."+t]:null},this.getSubTitle=function(){return null!=this.subTitle?this.subTitle:this.title}}function o(e,t){return(e/t*100).toFixed(0)}function s(e,t){return isNaN(t)&&(t=1),isNaN(e)?t:e.toFixed(t)}function d(e,t,n,i,r,o,a,s){var l=new u(e,t,n,i,r,"timers",o);return l.getMeterInfo=function(){var e=new u(this.divId+" div.timerGraph td.meterGraph",this.className,this.metricName,this.max,"Frequency","timers",null);return e.getMetricNode=function(e,t,n){return n.timers[e+"."+t]?n.timers[e+"."+t]:null},e.eventType=o,e},l.getTimerStatsDivId=function(){return"#"+this.divId+" div.timerGraph td.timerStatsGraph"},l.getTimerHistogramDivId=function(){return"#"+this.divId+" div.timerGraph td.timerHistogram"},l.durationMax=a,l.isNested=s,l}function h(e){var t=l("#"+e.divId),n="<div class='metricsWatcher counter counterGraph'><div class='heading3'>"+e.title+"</div><div class='progress'><div class='progress-bar' style='width: 0%;'></div></div></div>";t.html(n)}function p(e,t){var n=e.getMetricNode(e.className,e.metricName,t),i=o(n.count,e.getMax(t));l("#"+e.divId+" div.progress div.progress-bar").css("width",i+"%"),l("#"+e.divId+" div.progress div.progress-bar").html(n.count+"/"+e.getMax(t))}function f(e){var t,n,i,r,o=l("#"+e.divId),a="<div class='metricsWatcher timer timerGraph"+(e.isNested?" nested":"")+" col-md-12'><fieldset><legend>"+(e.isNested?"<div class='heading1'>":"<div class='heading1 btn-link' data-toggle='collapse' data-target='#"+e.divId+"Collapse'>")+e.title+"</div></legend><div class='timerContainer col-md-12"+(e.isNested?"":"collapse")+"' id='"+e.divId+"Collapse'><table><tr><td class='meterGraph col-md-4'></td><td class='timerStatsGraph col-md-4'></td><td class='timerHistogram col-md-4'></td></tr></table></div></fieldset>";o.html(a),v(e.getMeterInfo()),t=e,n="<div class='heading3'>Duration</div><div class='timeUnit'></div><div class='metricGraph'><table class='progressTable'>"+y("Min","min")+y("Mean","mean")+y("Max","max")+y("Std&nbsp;Dev","stddev")+"</table></div>",l(t.getTimerStatsDivId()).html(n),r="<div class='heading3'> "+((i=e).isNested?"Histogram":i.getSubTitle())+"</div><p>Percentiles</p><div class='metricGraph'><table class='progressTable'>"+y("99.9%","p999")+y("99%","p99")+y("98%","p98")+y("95%","p95")+y("75%","p75")+y("50%","p50")+"</table></div>",l(i.getTimerHistogramDivId()).html(r)}function g(e,t){b(e.getMeterInfo(),t),function(e,t){var n=e.getMetricNode(e.className,e.metricName,t);if(!n)return;l(e.getTimerStatsDivId()+" div.timeUnit").html((i=n.duration_units,i.charAt(0).toUpperCase()+i.slice(1))),r(e.getTimerStatsDivId(),n,"min",e.durationMax),r(e.getTimerStatsDivId(),n,"mean",e.durationMax),r(e.getTimerStatsDivId(),n,"max",e.durationMax),r(e.getTimerStatsDivId(),n,"stddev",e.durationMax);var i}(e,t),function(e,t){var n=e.getMetricNode(e.className,e.metricName,t);if(!n)return;r(e.getTimerHistogramDivId(),n,"p999",e.durationMax),r(e.getTimerHistogramDivId(),n,"p99",e.durationMax),r(e.getTimerHistogramDivId(),n,"p98",e.durationMax),r(e.getTimerHistogramDivId(),n,"p95",e.durationMax),r(e.getTimerHistogramDivId(),n,"p75",e.durationMax),r(e.getTimerHistogramDivId(),n,"p50",e.durationMax)}(e,t)}function r(e,t,n,i){l(e+" tr."+n+" td.progressValue").html(s(t[n])),l(e+" tr."+n+" td.progressBar div.progress div.progress-bar").css("width",o(t[n],i)+"%")}function m(e,t){var n=e.getMetricNode(e.className,e.metricName,t);l("#"+e.divId+" td.countVal").html(s(n.count,0)),l("#"+e.divId+" td.minVal").html(s(n.min,0)),l("#"+e.divId+" td.maxVal").html(s(n.max,0)),l("#"+e.divId+" td.meanVal").html(s(n.mean,0)),a(e,n,"p999","p999",e.max),a(e,n,"p99","p99",e.max),a(e,n,"p98","p98",e.max),a(e,n,"p95","p95",e.max),a(e,n,"p75","p75",e.max),a(e,n,"p50","p50",e.max)}function v(e){var t=l("#"+e.divId),n="<div class='metricsWatcher metric metricGraph'><div class='heading3'>"+e.title+"</div><div class='counterVal'></div><table class='progressTable'>"+y("1&nbsp;min","onemin")+y("5&nbsp;min","fivemin")+y("15&nbsp;min","fifteenmin")+y("Mean","mean")+"</table></div>";t.html(n)}function y(e,t){return"<tr class='"+t+"'><td class='progressLabel'>"+e+"</td><td class='progressBar'><div class='progress'><div class='progress-bar' style='width: 0%;'></div></div></td><td class='progressValue'>0</td></tr>"}function b(e,t){var n=e.getMetricNode(e.className,e.metricName,t);n&&function(e,t){l("#"+e.divId+" div.counterVal").html(t.rate_units+" ("+t.count+" total)");var n=Math.max(t.mean_rate,t.m1_rate,t.m5_rate,t.m15_rate);a(e,t,"mean_rate","mean",n),a(e,t,"m1_rate","onemin",n),a(e,t,"m5_rate","fivemin",n),a(e,t,"m15_rate","fifteenmin",n)}(e,n)}function a(e,t,n,i){a(e,t,n,i,e.max)}function a(e,t,n,i,r){l("#"+e.divId+" tr."+i+" td.progressValue").html(s(t[n])),l("#"+e.divId+" tr."+i+" td.progressBar div.progress div.progress-bar").css("width",o(t[n],r)+"%")}function w(e){var t=l("#"+e.divId),n="<div class='metricsWatcher metric metricGraph'><div class='heading3'>"+e.title+"</span><div class='gaugeDataVal'></div></div>";t.html(n)}function x(e,t){var n,i=e.getMetricNode(e.className,e.metricName,t);i&&(n=i,l("#"+e.divId+" div.gaugeDataVal").html(n.value))}function C(e){var t=l("#"+e.divId),n="<div class='metricsWatcher cache cacheGraph col-md-12'><fieldset><legend><div class='heading1'>"+e.title+"</div></legend><div class='cacheContainer col-md-12'>\t<div class='row'>\t\t<div class='col-md-3'><div id='"+e.divId+"Statistics'></div></div>\t\t<div class='col-md-9'>\t\t\t<div id='"+e.divId+"gettimer'></div>\t\t\t<div id='"+e.divId+"puttimer'></div>\t\t</div>\t</div></div></fieldset></div>";t.html(n);for(var i,r,o,a=e.components.gauges.length,s=0;s<a;s++)w(e.components.gauges[s]);f(e.getTimer),f(e.putTimer),i=e.divId+"Statistics",r="Statistics",e.components.gauges,o="<div class='metricsWatcher metric metricGraph nested'><fieldset><legend><div class='heading1'>"+r+"</div></legend><div class='gaugeTableContainer'><table class='gaugeTable'></table></div></fieldset></div>",l("#"+i).html(o)}function S(e,t){for(var n=e.components.gauges.length,i=0;i<n;i++){var r=e.components.gauges[i],o=r.getMetricNode(e.className,r.metricName,t);if(o)l("#"+r.divId+" div.metricGraph div.gaugeDataVal").html(o.value)}g(e.getTimer,t),g(e.putTimer,t),function(e,t,n){for(var i=l("#"+e+" table"),r="",o=t.length,a=0;a<o;a++){var s=t[a];r+="<tr><td><h5>"+s.title+"</h5></td><td><h4>"+s.getMetricNode(s.className,s.metricName,n).value+"</h4></td></tr>"}i.html(r)}(e.divId+"Statistics",e.components.gauges,t)}function k(e){var t=l("#"+e.divId),n="<div class='metricsWatcher web metricGraph col-md-12'><fieldset><legend><div class='heading1 btn-link' data-toggle='collapse' data-target='#"+e.divId+"Collapse'>"+e.title+"</div></legend><div class='webContainer col-md-12' id='"+e.divId+"Collapse'>\t<div id='"+e.divId+"Web'></div><table><tr><td colspan='4' class='requestsGraph col-md-12'></td></tr><tr><td class='activeRequestsGraph col-md-3'></td><td class='responseCodesOkGraph col-md-3'></td><td class='responseCodesCreatedGraph col-md-3'></td><td class='responseCodesOtherGraph col-md-3'></td></tr><tr><td class='responseCodesBadRequestGraph col-md-3'></td><td class='responseCodesNoContentGraph col-md-3'></td><td class='responseCodesNotFoundGraph col-md-3'></td><td class='responseCodesServerErrorGraph col-md-3'></td></tr></table></div></fieldset></div>";t.html(n),f(e.components.requestsInfo),h(e.components.activeRequestsInfo);for(var i=e.components.meters.length,r=0;r<i;r++)v(e.components.meters[r])}function _(e,t){g(e.components.requestsInfo,t),p(e.components.activeRequestsInfo,t);for(var n=e.components.meters.length,i=0;i<n;i++)b(e.components.meters[i],t)}function T(e){var t=l("#"+e.divId),n="<div class='metricsWatcher log4j metricGraph col-md-12'><fieldset><legend><div class='heading1 btn-link' data-toggle='collapse' data-target='#"+e.divId+"Collapse'>"+e.title+"</div></legend><div class='log4jContainer col-md-12' id='"+e.divId+"Collapse'>\t<div id='"+e.divId+"Log4j'></div><table><tr><td colspan='4' class='col-md-12'></td></tr><tr><td class='all col-md-3'></td><td class='fatal col-md-3'></td><td class='error col-md-3'></td><td class='warn col-md-3'></td></tr><tr><td class='info col-md-3'></td><td class='debug col-md-3'></td><td class='trace col-md-3'></td></tr></table></div></fieldset></div>";t.html(n);for(var i=e.components.meters.length,r=0;r<i;r++)v(e.components.meters[r])}function D(e,t){for(var n=e.components.meters.length,i=0;i<n;i++)b(e.components.meters[i],t)}}(window.metricsWatcher=window.metricsWatcher||{},jQuery);var _apacheCamelModelVersion="2.18.1",_apacheCamelModel={definitions:{expression:{type:"object",title:"expression",group:"language",icon:"generic24.png",description:"Expression in the choose language",properties:{expression:{kind:"element",type:"string",title:"Expression",description:"The expression",required:!0},language:{kind:"element",type:"string",title:"Expression",description:"The chosen language",required:!0,enum:["constant","el","exchangeProperty","groovy","header","javaScript","jsonpath","jxpath","language","method","mvel","ognl","php","python","ref","ruby","simple","spel","sql","terser","tokenize","xpath","xquery","xtokenize"]}}},aggregate:{type:"object",title:"Aggregate",group:"eip,routing",icon:"aggregate24.png",description:"Aggregates many messages into a single message",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{correlationExpression:{kind:"expression",type:"object",description:"The expression used to calculate the correlation key to use for aggregation. The Exchange which has the same correlation key is aggregated together. If the correlation key could not be evaluated an Exception is thrown. You can disable this by using the ignoreBadCorrelationKeys option.",title:"Correlation Expression",required:!0,deprecated:!1},completionPredicate:{kind:"expression",type:"object",description:"TODO: document Note: this is experimental and subject to changes in future releases.",title:"Completion Predicate",required:!1,deprecated:!1},completionTimeoutExpression:{kind:"expression",type:"object",description:"Sets the completion timeout which would cause the aggregate to consider the group as complete and send out the aggregated exchange.",title:"Completion Timeout",required:!1,deprecated:!1},completionSizeExpression:{kind:"expression",type:"object",description:"Sets the completion size which is the number of aggregated exchanges which would cause the aggregate to consider the group as complete and send out the aggregated exchange.",title:"Completion Size",required:!1,deprecated:!1},optimisticLockRetryPolicy:{kind:"element",type:"object",description:"Allows to configure retry settings when using optimistic locking.",title:"Optimistic Lock Retry Policy",required:!1,deprecated:!1},parallelProcessing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"When aggregated are completed they are being send out of the aggregator. This option indicates whether or not Camel should use a thread pool with multiple threads for concurrency. If no custom thread pool has been specified then Camel creates a default pool with 10 concurrent threads.",title:"Parallel Processing",required:!1,deprecated:!1},optimisticLocking:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Turns on using optimistic locking which requires the aggregationRepository being used is supporting this by implementing org.apache.camel.spi.OptimisticLockingAggregationRepository.",title:"Optimistic Locking",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"If using parallelProcessing you can specify a custom thread pool to be used. In fact also if you are not using parallelProcessing this custom thread pool is used to send out aggregated exchanges as well.",title:"Executor Service Ref",required:!1,deprecated:!1},timeoutCheckerExecutorServiceRef:{kind:"attribute",type:"string",description:"If using either of the completionTimeout completionTimeoutExpression or completionInterval options a background thread is created to check for the completion for every aggregator. Set this option to provide a custom thread pool to be used rather than creating a new thread for every aggregator.",title:"Timeout Checker Executor Service Ref",required:!1,deprecated:!1},aggregationRepositoryRef:{kind:"attribute",type:"string",description:"Sets the custom aggregate repository to use Will by default use org.apache.camel.processor.aggregate.MemoryAggregationRepository",title:"Aggregation Repository Ref",required:!1,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"A reference to lookup the AggregationStrategy in the Registry. Configuring an AggregationStrategy is required and is used to merge the incoming Exchange with the existing already merged exchanges. At first call the oldExchange parameter is null. On subsequent invocations the oldExchange contains the merged exchanges and newExchange is of course the new incoming Exchange.",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used for the very first aggregation. If this option is true then null values is used as the oldExchange (at the very first aggregation) when using POJOs as the AggregationStrategy.",title:"Strategy Method Allow Null",required:!1,deprecated:!1},completionSize:{kind:"attribute",type:"integer",description:"Sets the completion size which is the number of aggregated exchanges which would cause the aggregate to consider the group as complete and send out the aggregated exchange.",title:"Completion Size",required:!1,deprecated:!1},completionInterval:{kind:"attribute",type:"integer",description:"Sets the completion interval which would cause the aggregate to consider the group as complete and send out the aggregated exchange.",title:"Completion Interval",required:!1,deprecated:!1},completionTimeout:{kind:"attribute",type:"integer",description:"Sets the completion timeout which would cause the aggregate to consider the group as complete and send out the aggregated exchange.",title:"Completion Timeout",required:!1,deprecated:!1},completionFromBatchConsumer:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables the batch completion mode where we aggregate from a org.apache.camel.BatchConsumer and aggregate the total number of exchanges the org.apache.camel.BatchConsumer has reported as total by checking the exchange property link org.apache.camel.ExchangeBATCH_COMPLETE when its complete.",title:"Completion From Batch Consumer",required:!1,deprecated:!1},groupExchanges:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables grouped exchanges so the aggregator will group all aggregated exchanges into a single combined Exchange holding all the aggregated exchanges in a java.util.List.",title:"Group Exchanges",required:!1,deprecated:!0},eagerCheckCompletion:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Use eager completion checking which means that the completionPredicate will use the incoming Exchange. As opposed to without eager completion checking the completionPredicate will use the aggregated Exchange.",title:"Eager Check Completion",required:!1,deprecated:!1},ignoreInvalidCorrelationKeys:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If a correlation key cannot be successfully evaluated it will be ignored by logging a DEBUG and then just ignore the incoming Exchange.",title:"Ignore Invalid Correlation Keys",required:!1,deprecated:!1},closeCorrelationKeyOnCompletion:{kind:"attribute",type:"integer",description:"Closes a correlation key when its complete. Any late received exchanges which has a correlation key that has been closed it will be defined and a ClosedCorrelationKeyException is thrown.",title:"Close Correlation Key On Completion",required:!1,deprecated:!1},discardOnCompletionTimeout:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Discards the aggregated message on completion timeout. This means on timeout the aggregated message is dropped and not sent out of the aggregator.",title:"Discard On Completion Timeout",required:!1,deprecated:!1},forceCompletionOnStop:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Indicates to complete all current aggregated exchanges when the context is stopped",title:"Force Completion On Stop",required:!1,deprecated:!1},completeAllOnStop:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Indicates to wait to complete all current and partial (pending) aggregated exchanges when the context is stopped. This also means that we will wait for all pending exchanges which are stored in the aggregation repository to complete so the repository is empty before we can stop. You may want to enable this when using the memory based aggregation repository that is memory based only and do not store data on disk. When this option is enabled then the aggregator is waiting to complete all those exchanges before its stopped when stopping CamelContext or the route using it.",title:"Complete All On Stop",required:!1,deprecated:!1},aggregateControllerRef:{kind:"attribute",type:"string",description:"To use a org.apache.camel.processor.aggregate.AggregateController to allow external sources to control this aggregator.",title:"Aggregate Controller Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},aop:{type:"object",title:"Aop",group:"configuration",icon:"generic24.png",description:"Does processing before and/or after the route is completed",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{beforeUri:{kind:"attribute",type:"string",description:"Endpoint to call in AOP before.",title:"Before Uri",required:!1,deprecated:!1},afterUri:{kind:"attribute",type:"string",description:"Endpoint to call in AOP after. The difference between after and afterFinally is that afterFinally is invoked from a finally block so it will always be invoked no matter what eg also in case of an exception occur.",title:"After Uri",required:!1,deprecated:!1},afterFinallyUri:{kind:"attribute",type:"string",description:"Endpoint to call in AOP after finally. The difference between after and afterFinally is that afterFinally is invoked from a finally block so it will always be invoked no matter what eg also in case of an exception occur.",title:"After Finally Uri",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},"batch-config":{type:"object",title:"Batch-config",group:"eip,routing,resequence",icon:"generic24.png",description:"Configures batch-processing resequence eip.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{batchSize:{kind:"attribute",type:"integer",defaultValue:"100",description:"Sets the size of the batch to be re-ordered. The default size is 100.",title:"Batch Size",required:!1,deprecated:!1},batchTimeout:{kind:"attribute",type:"integer",defaultValue:"1000",description:"Sets the timeout for collecting elements to be re-ordered. The default timeout is 1000 msec.",title:"Batch Timeout",required:!1,deprecated:!1},allowDuplicates:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to allow duplicates.",title:"Allow Duplicates",required:!1,deprecated:!1},reverse:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to reverse the ordering.",title:"Reverse",required:!1,deprecated:!1},ignoreInvalidExchanges:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore invalid exchanges",title:"Ignore Invalid Exchanges",required:!1,deprecated:!1}}},bean:{type:"object",title:"Bean",group:"eip,endpoint",icon:"bean24.png",description:"Calls a java bean",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{ref:{kind:"attribute",type:"string",description:"Sets a reference to a bean to use",title:"Ref",required:!1,deprecated:!1},method:{kind:"attribute",type:"string",description:"Sets the method name on the bean to use",title:"Method",required:!1,deprecated:!1},beanType:{kind:"attribute",type:"string",description:"Sets the Class of the bean",title:"Bean Type",required:!1,deprecated:!1},cache:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Caches the bean lookup to avoid lookup up bean on every usage.",title:"Cache",required:!1,deprecated:!1},multiParameterArray:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the message body is an array type.",title:"Multi Parameter Array",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},beanPostProcessor:{type:"object",title:"Bean Post Processor",group:"spring,configuration",icon:"generic24.png",description:"Spring specific DefaultCamelBeanPostProcessor which uses Spring BeanPostProcessor to post process beans.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{}},camelContext:{type:"object",title:"Camel Context",group:"spring,configuration",icon:"generic24.png",description:"CamelContext using XML configuration.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{"depends-on":{kind:"attribute",type:"string",description:"List of other bean id's this CamelContext depends up. Multiple bean id's can be separated by comma.",title:"Depends-on",required:!1,deprecated:!1},trace:{kind:"attribute",type:"string",description:"Sets whether tracing is enabled or not.",title:"Trace",required:!1,deprecated:!1},messageHistory:{kind:"attribute",type:"string",defaultValue:"true",description:"Sets whether message history is enabled or not.",title:"Message History",required:!1,deprecated:!1},logExhaustedMessageBody:{kind:"attribute",type:"string",description:"Sets whether to log exhausted message body with message history.",title:"Log Exhausted Message Body",required:!1,deprecated:!1},streamCache:{kind:"attribute",type:"string",description:"Sets whether stream caching is enabled or not.",title:"Stream Cache",required:!1,deprecated:!1},delayer:{kind:"attribute",type:"string",description:"Sets a delay value in millis that a message is delayed at every step it takes in the route path slowing the process down to better observe what is occurring",title:"Delayer",required:!1,deprecated:!1},handleFault:{kind:"attribute",type:"string",description:"Sets whether fault handling is enabled or not (default is disabled).",title:"Handle Fault",required:!1,deprecated:!1},errorHandlerRef:{kind:"attribute",type:"string",description:"Sets the name of the error handler object used to default the error handling strategy",title:"Error Handler Ref",required:!1,deprecated:!1},autoStartup:{kind:"attribute",type:"string",defaultValue:"true",description:"Sets whether the object should automatically start when Camel starts. Important: Currently only routes can be disabled as CamelContexts are always started. Note: When setting auto startup false on CamelContext then that takes precedence and no routes is started. You would need to start CamelContext explicit using the link org.apache.camel.CamelContextstart() method to start the context and then you would need to start the routes manually using link CamelContextstartRoute(String).",title:"Auto Startup",required:!1,deprecated:!1},shutdownEager:{kind:"attribute",type:"string",defaultValue:"true",description:"Whether to shutdown CamelContext eager when Spring is shutting down. This ensure a cleaner shutdown of Camel as dependent bean's are not shutdown at this moment. The bean's will then be shutdown after camelContext.",title:"Shutdown Eager",required:!1,deprecated:!1},useMDCLogging:{kind:"attribute",type:"string",description:"Set whether MDC is enabled.",title:"Use M D C Logging",required:!1,deprecated:!1},useBreadcrumb:{kind:"attribute",type:"string",defaultValue:"true",description:"Set whether breadcrumb is enabled.",title:"Use Breadcrumb",required:!1,deprecated:!1},allowUseOriginalMessage:{kind:"attribute",type:"string",description:"Sets whether to allow access to the original message from Camel's error handler or from link org.apache.camel.spi.UnitOfWorkgetOriginalInMessage(). Turning this off can optimize performance as defensive copy of the original message is not needed.",title:"Allow Use Original Message",required:!1,deprecated:!1},runtimeEndpointRegistryEnabled:{kind:"attribute",type:"string",description:"Sets whether org.apache.camel.spi.RuntimeEndpointRegistry is enabled.",title:"Runtime Endpoint Registry Enabled",required:!1,deprecated:!1},managementNamePattern:{kind:"attribute",type:"string",defaultValue:"#name#",description:"The naming pattern for creating the CamelContext management name.",title:"Management Name Pattern",required:!1,deprecated:!1},threadNamePattern:{kind:"attribute",type:"string",defaultValue:"Camel (#camelId#) thread ##counter# - #name#",description:"Sets the thread name pattern used for creating the full thread name. The default pattern is: Camel (camelId) thread counter - name Where camelId is the name of the org.apache.camel.CamelContext and counter is a unique incrementing counter. and name is the regular thread name. You can also use longName is the long thread name which can includes endpoint parameters etc.",title:"Thread Name Pattern",required:!1,deprecated:!1},shutdownRoute:{kind:"attribute",type:"string",defaultValue:"Default",enum:["Default","Defer"],description:"Sets the ShutdownRoute option for routes.",title:"Shutdown Route",required:!1,deprecated:!1},shutdownRunningTask:{kind:"attribute",type:"string",defaultValue:"CompleteCurrentTaskOnly",enum:["CompleteAllTasks","CompleteCurrentTaskOnly"],description:"Sets the ShutdownRunningTask option to use when shutting down a route.",title:"Shutdown Running Task",required:!1,deprecated:!1},lazyLoadTypeConverters:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether type converters should be loaded lazy",title:"Lazy Load Type Converters",required:!1,deprecated:!0},typeConverterStatisticsEnabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether or not type converter statistics is enabled. By default the type converter utilization statistics is disabled. Notice: If enabled then there is a slight performance impact under very heavy load. You can enable/disable the statistics at runtime using the link org.apache.camel.spi.TypeConverterRegistrygetStatistics()setTypeConverterStatisticsEnabled(Boolean) method or from JMX on the org.apache.camel.api.management.mbean.ManagedTypeConverterRegistryMBean mbean.",title:"Type Converter Statistics Enabled",required:!1,deprecated:!1},typeConverterExists:{kind:"attribute",type:"string",defaultValue:"Override",enum:["Fail","Ignore","Override"],description:"What should happen when attempting to add a duplicate type converter. The default behavior is to override the existing.",title:"Type Converter Exists",required:!1,deprecated:!1},typeConverterExistsLoggingLevel:{kind:"attribute",type:"string",defaultValue:"WARN",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"The logging level to use when logging that a type converter already exists when attempting to add a duplicate type converter. The default logging level is WARN",title:"Type Converter Exists Logging Level",required:!1,deprecated:!1},properties:{kind:"element",type:"object",description:"Configuration of CamelContext properties such as limit of debug logging and other general options.",title:"Properties",required:!1,deprecated:!1},propertyPlaceholder:{kind:"element",type:"object",description:"Configuration of property placeholder",title:"Property Placeholder",required:!1,deprecated:!1},package:{kind:"element",type:"array",description:"Sets the package names to be recursively searched for Java classes which extend org.apache.camel.builder.RouteBuilder to be auto-wired up to the CamelContext as a route. Note that classes are excluded if they are specifically configured in the spring.xml A more advanced configuration can be done using link setPackageScan(org.apache.camel.model.PackageScanDefinition)",title:"Package",required:!1,deprecated:!1},packageScan:{kind:"element",type:"object",description:"Sets the package scanning information. Package scanning allows for the automatic discovery of certain camel classes at runtime for inclusion e.g. org.apache.camel.builder.RouteBuilder implementations",title:"Package Scan",required:!1,deprecated:!1},contextScan:{kind:"element",type:"object",description:"Sets the context scanning (eg Spring's ApplicationContext) information. Context scanning allows for the automatic discovery of Camel routes runtime for inclusion e.g. org.apache.camel.builder.RouteBuilder implementations",title:"Context Scan",required:!1,deprecated:!1},streamCaching:{kind:"element",type:"object",description:"Configuration of stream caching.",title:"Stream Caching",required:!1,deprecated:!1},jmxAgent:{kind:"element",type:"object",description:"Configuration of JMX.",title:"Jmx Agent",required:!1,deprecated:!1},beans:{kind:"element",type:"array",description:"Miscellaneous configurations",title:"Beans",required:!1,deprecated:!1},routeBuilder:{kind:"element",type:"array",description:"Refers to Java RouteBuilder instances to include as routes in this CamelContext.",title:"Route Builder",required:!1,deprecated:!1},routeContextRef:{kind:"element",type:"array",description:"Refers to XML routes to include as routes in this CamelContext.",title:"Route Context Ref",required:!1,deprecated:!1},restContextRef:{kind:"element",type:"array",description:"Refers to XML rest-dsl to include as REST services in this CamelContext.",title:"Rest Context Ref",required:!1,deprecated:!1},threadPoolProfile:{kind:"element",type:"array",description:"Configuration of thread pool profiles.",title:"Thread Pool Profile",required:!1,deprecated:!1},threadPool:{kind:"element",type:"array",description:"Configuration of thread pool",title:"Thread Pool",required:!1,deprecated:!1},endpoint:{kind:"element",type:"array",description:"Configuration of endpoints",title:"Endpoint",required:!1,deprecated:!1},dataFormats:{kind:"element",type:"object",description:"Configuration of data formats.",title:"Data Formats",required:!1,deprecated:!1},redeliveryPolicyProfile:{kind:"element",type:"array",description:"Configuration of redelivery settings.",title:"Redelivery Policy Profile",required:!1,deprecated:!1},onException:{kind:"element",type:"array",description:"Configuration of error handlers that triggers on exceptions thrown.",title:"On Exception",required:!1,deprecated:!1},onCompletion:{kind:"element",type:"array",description:"Configuration of sub routes to run at the completion of routing.",title:"On Completion",required:!1,deprecated:!1},intercept:{kind:"element",type:"array",description:"Configuration of interceptors.",title:"Intercept",required:!1,deprecated:!1},interceptFrom:{kind:"element",type:"array",description:"Configuration of interceptors that triggers from the beginning of routes.",title:"Intercept From",required:!1,deprecated:!1},interceptSendToEndpoint:{kind:"element",type:"array",description:"Configuration of interceptors that triggers sending messages to endpoints.",title:"Intercept Send To Endpoint",required:!1,deprecated:!1},restConfiguration:{kind:"element",type:"object",description:"Configuration for rest-dsl",title:"Rest Configuration",required:!1,deprecated:!1},rest:{kind:"element",type:"array",description:"Contains the rest services defined using the rest-dsl",title:"Rest",required:!1,deprecated:!1},route:{kind:"element",type:"array",description:"Contains the Camel routes",title:"Route",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id (name) of this CamelContext",title:"Id",required:!1,deprecated:!1}}},choice:{type:"object",title:"Choice",group:"eip,routing",icon:"choice24.png",description:"Routes messages based on a series of predicates",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{whenClauses:{kind:"element",type:"array",description:"Sets the when clauses",title:"When Clauses",required:!1,deprecated:!1},otherwise:{kind:"element",type:"object",description:"Sets the otherwise node",title:"Otherwise",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},circuitBreaker:{type:"object",title:"Circuit Breaker",group:"eip,routing,loadbalance,circuitbreaker",icon:"generic24.png",description:"Circuit break load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{exception:{kind:"element",type:"array",description:"A list of class names for specific exceptions to monitor. If no exceptions is configured then all exceptions is monitored",title:"Exception",required:!1,deprecated:!1},halfOpenAfter:{kind:"attribute",type:"integer",description:"The timeout in millis to use as threshold to move state from closed to half-open or open state",title:"Half Open After",required:!1,deprecated:!1},threshold:{kind:"attribute",type:"integer",description:"Number of previous failed messages to use as threshold to move state from closed to half-open or open state",title:"Threshold",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},consulConfiguration:{type:"object",title:"Consul Configuration",group:"eip,routing,remote",icon:"generic24.png",description:"Consul remote service call configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{url:{kind:"attribute",type:"string",description:"The Consul agent URL",title:"Url",required:!1,deprecated:!1},dc:{kind:"attribute",type:"string",description:"The data center",title:"Dc",required:!1,deprecated:!1},aclToken:{kind:"attribute",type:"string",description:"Sets the ACL token to be used with Consul",title:"Acl Token",required:!1,deprecated:!1},userName:{kind:"attribute",type:"string",description:"Sets the username to be used for basic authentication",title:"User Name",required:!1,deprecated:!1},password:{kind:"attribute",type:"string",description:"Sets the password to be used for basic authentication",title:"Password",required:!1,deprecated:!1},connectTimeoutMillis:{kind:"attribute",type:"integer",description:"Connect timeout for OkHttpClient",title:"Connect Timeout Millis",required:!1,deprecated:!1},readTimeoutMillis:{kind:"attribute",type:"integer",description:"Read timeout for OkHttpClient",title:"Read Timeout Millis",required:!1,deprecated:!1},writeTimeoutMillis:{kind:"attribute",type:"integer",description:"Write timeout for OkHttpClient",title:"Write Timeout Millis",required:!1,deprecated:!1},blockSeconds:{kind:"attribute",type:"integer",defaultValue:"10",description:"The second to wait for a watch event default 10 seconds",title:"Block Seconds",required:!1,deprecated:!1},component:{kind:"attribute",type:"string",defaultValue:"http",description:"Sets the default Camel component to use for calling the remote service. By default the http component is used. You can configure this to use netty4-http jetty restlet or some other components of choice. If the service is not HTTP protocol you can use other components such as mqtt jms amqp etc. If the service call has been configured using an uri then the component from the uri is used instead of this default component.",title:"Component",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},clientProperty:{kind:"element",type:"array",description:"Set client properties to use. These properties are specific to what service call implementation are in use. For example if using ribbon then the client properties are define in com.netflix.client.config.CommonClientConfigKey.",title:"Client Property",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},consumerTemplate:{type:"object",title:"Consumer Template",group:"spring,configuration",icon:"generic24.png",description:"Configures a ConsumerTemplate",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{maximumCacheSize:{kind:"attribute",type:"integer",description:"Sets a custom maximum cache size to use in the backing cache pools.",title:"Maximum Cache Size",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},contextScan:{type:"object",title:"Context Scan",group:"configuration",icon:"generic24.png",description:"Scans for Java org.apache.camel.builder.RouteBuilder instances in the context org.apache.camel.spi.Registry.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{includeNonSingletons:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include non-singleton beans (prototypes) By default only singleton beans is included in the context scan",title:"Include Non Singletons",required:!1,deprecated:!1},excludes:{kind:"element",type:"array",description:"Exclude finding route builder from these java package names.",title:"Excludes",required:!1,deprecated:!1},includes:{kind:"element",type:"array",description:"Include finding route builder from these java package names.",title:"Includes",required:!1,deprecated:!1}}},convertBodyTo:{type:"object",title:"Convert Body To",group:"eip,transformation",icon:"convertBodyTo24.png",description:"Converts the message body to another type",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{type:{kind:"attribute",type:"string",description:"The java type to convert to",title:"Type",required:!0,deprecated:!1},charset:{kind:"attribute",type:"string",description:"To use a specific charset when converting",title:"Charset",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},customLoadBalancer:{type:"object",title:"Custom Load Balancer",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Custom load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Refers to the custom load balancer to lookup from the registry",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},delay:{type:"object",title:"Delay",group:"eip,routing",icon:"generic24.png",description:"Delays processing for a specified length of time",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression to define how long time to wait (in millis)",title:"Expression",required:!0,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Refers to a custom Thread Pool if asyncDelay has been enabled.",title:"Executor Service Ref",required:!1,deprecated:!1},asyncDelayed:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables asynchronous delay which means the thread will noy block while delaying.",title:"Async Delayed",required:!1,deprecated:!1},callerRunsWhenRejected:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the caller should run the task when it was rejected by the thread pool. Is by default true",title:"Caller Runs When Rejected",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},description:{type:"object",title:"Description",group:"configuration",icon:"generic24.png",description:"To provide comments about the node.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{lang:{kind:"attribute",type:"string",description:"Language such as en for english.",title:"Lang",required:!1,deprecated:!1},layoutX:{kind:"attribute",type:"number",description:"Layout position X",title:"Layout X",required:!1,deprecated:!0},layoutY:{kind:"attribute",type:"number",description:"Layout position Y",title:"Layout Y",required:!1,deprecated:!0},layoutWidth:{kind:"attribute",type:"number",description:"Layout width",title:"Layout Width",required:!1,deprecated:!0},layoutHeight:{kind:"attribute",type:"number",description:"Layout height",title:"Layout Height",required:!1,deprecated:!0},text:{kind:"value",type:"string",description:"The description as human readable text",title:"Text",required:!0,deprecated:!1}}},dnsConfiguration:{type:"object",title:"Dns Configuration",group:"eip,routing,remote",icon:"generic24.png",description:"DNS remote service call configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{proto:{kind:"attribute",type:"string",defaultValue:"_tcp",description:"The transport protocol of the desired service.",title:"Proto",required:!1,deprecated:!1},domain:{kind:"attribute",type:"string",description:"The domain name;",title:"Domain",required:!1,deprecated:!1},component:{kind:"attribute",type:"string",defaultValue:"http",description:"Sets the default Camel component to use for calling the remote service. By default the http component is used. You can configure this to use netty4-http jetty restlet or some other components of choice. If the service is not HTTP protocol you can use other components such as mqtt jms amqp etc. If the service call has been configured using an uri then the component from the uri is used instead of this default component.",title:"Component",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},clientProperty:{kind:"element",type:"array",description:"Set client properties to use. These properties are specific to what service call implementation are in use. For example if using ribbon then the client properties are define in com.netflix.client.config.CommonClientConfigKey.",title:"Client Property",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},doCatch:{type:"object",title:"Do Catch",group:"error",icon:"generic24.png",description:"Catches exceptions as part of a try catch finally block",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{exception:{kind:"element",type:"array",description:"The exception(s) to catch.",title:"Exception",required:!1,deprecated:!1},onWhen:{kind:"element",type:"object",description:"Sets an additional predicate that should be true before the onCatch is triggered. To be used for fine grained controlling whether a thrown exception should be intercepted by this exception type or not.",title:"On When",required:!1,deprecated:!1},handled:{kind:"expression",type:"object",description:"Sets whether the exchange should be marked as handled or not.",title:"Handled",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},doFinally:{type:"object",title:"Do Finally",group:"error",icon:"generic24.png",description:"Path traversed when a try catch finally block exits",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},doTry:{type:"object",title:"Do Try",group:"error",icon:"generic24.png",description:"Marks the beginning of a try catch finally block",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},dynamicRouter:{type:"object",title:"Dynamic Router",group:"eip,endpoint,routing",icon:"dynamicRouter24.png",description:"Routes messages based on dynamic rules",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to call that returns the endpoint(s) to route to in the dynamic routing. Important: The expression will be called in a while loop fashion until the expression returns null which means the dynamic router is finished.",title:"Expression",required:!0,deprecated:!1},uriDelimiter:{kind:"attribute",type:"string",defaultValue:",",description:"Sets the uri delimiter to use",title:"Uri Delimiter",required:!1,deprecated:!1},ignoreInvalidEndpoints:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoints",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ProducerCache which is used to cache and reuse producers when using this recipient list when uris are reused.",title:"Cache Size",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},endpoint:{type:"object",title:"Endpoint",group:"spring,configuration,endpoint",icon:"generic24.png",description:"Camel endpoint configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{singleton:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Not in use",title:"Singleton",required:!1,deprecated:!0},uri:{kind:"attribute",type:"string",description:"Sets the URI to use to resolve the endpoint. Notice that additional options can be configured using a series of property.",title:"Uri",required:!0,deprecated:!1},pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the exchange pattern of the endpoint",title:"Pattern",required:!1,deprecated:!0},properties:{kind:"element",type:"array",description:"To configure additional endpoint options using a XML style which is similar as configuring Spring or Blueprint beans.",title:"Properties",required:!0,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},enrich:{type:"object",title:"Enrich",group:"eip,transformation",icon:"enrich24.png",description:"Enriches a message with data from a secondary resource",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression that computes the endpoint uri to use as the resource endpoint to enrich from",title:"Expression",required:!0,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"Refers to an AggregationStrategy to be used to merge the reply from the external service into a single outgoing message. By default Camel will use the reply from the external service as outgoing message.",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was no data to enrich. If this option is true then null values is used as the oldExchange (when no data to enrich) when using POJOs as the AggregationStrategy.",title:"Strategy Method Allow Null",required:!1,deprecated:!1},aggregateOnException:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was an exception thrown while trying to retrieve the data to enrich from the resource. Setting this option to true allows end users to control what to do if there was an exception in the aggregate method. For example to suppress the exception or set a custom message body etc.",title:"Aggregate On Exception",required:!1,deprecated:!1},shareUnitOfWork:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Shares the org.apache.camel.spi.UnitOfWork with the parent and the resource exchange. Enrich will by default not share unit of work between the parent exchange and the resource exchange. This means the resource exchange has its own individual unit of work.",title:"Share Unit Of Work",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ProducerCache which is used to cache and reuse producer when uris are reused.",title:"Cache Size",required:!1,deprecated:!1},ignoreInvalidEndpoint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoint",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},errorHandler:{type:"object",title:"Error Handler",group:"spring,configuration,error",icon:"generic24.png",description:"Error handler settings",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{type:{kind:"attribute",type:"string",defaultValue:"DefaultErrorHandler",enum:["DeadLetterChannel","DefaultErrorHandler","LoggingErrorHandler","NoErrorHandler","TransactionErrorHandler"],description:"The type of the error handler",title:"Type",required:!0,deprecated:!1},deadLetterUri:{kind:"attribute",type:"string",description:"The dead letter endpoint uri for the Dead Letter error handler.",title:"Dead Letter Uri",required:!1,deprecated:!1},deadLetterHandleNewException:{kind:"attribute",type:"string",description:"Whether the dead letter channel should handle (and ignore) any new exception that may been thrown during sending the message to the dead letter endpoint. The default value is true which means any such kind of exception is handled and ignored. Set this to false to let the exception be propagated back on the org.apache.camel.Exchange. This can be used in situations where you use transactions and want to use Camel's dead letter channel to deal with exceptions during routing but if the dead letter channel itself fails because of a new exception being thrown then by setting this to false the new exceptions is propagated back and set on the org.apache.camel.Exchange which allows the transaction to detect the exception and rollback.",title:"Dead Letter Handle New Exception",required:!1,deprecated:!1},level:{kind:"attribute",type:"string",defaultValue:"ERROR",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Logging level to use when using the logging error handler type.",title:"Level",required:!1,deprecated:!1},rollbackLoggingLevel:{kind:"attribute",type:"string",defaultValue:"WARN",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level to use for logging transactional rollback. This option is default WARN.",title:"Rollback Logging Level",required:!1,deprecated:!1},logName:{kind:"attribute",type:"string",description:"Name of the logger to use for the logging error handler",title:"Log Name",required:!1,deprecated:!1},useOriginalMessage:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will use the original input message when an org.apache.camel.Exchange is moved to the dead letter queue. Notice: this only applies when all redeliveries attempt have failed and the org.apache.camel.Exchange is doomed for failure. Instead of using the current inprogress org.apache.camel.Exchange IN body we use the original IN body instead. This allows you to store the original input in the dead letter queue instead of the inprogress snapshot of the IN body. For instance if you route transform the IN body during routing and then failed. With the original exchange store in the dead letter queue it might be easier to manually re submit the org.apache.camel.Exchange again as the IN body is the same as when Camel received it. So you should be able to send the org.apache.camel.Exchange to the same input. By default this feature is off.",title:"Use Original Message",required:!1,deprecated:!1},transactionTemplateRef:{kind:"attribute",type:"string",description:"References to the org.springframework.transaction.support.TransactionTemplate to use with the transaction error handler.",title:"Transaction Template Ref",required:!1,deprecated:!1},transactionManagerRef:{kind:"attribute",type:"string",description:"References to the org.springframework.transaction.PlatformTransactionManager to use with the transaction error handler.",title:"Transaction Manager Ref",required:!1,deprecated:!1},onRedeliveryRef:{kind:"attribute",type:"string",description:"Sets a reference to a processor that should be processed before a redelivery attempt. Can be used to change the org.apache.camel.Exchange before its being redelivered.",title:"On Redelivery Ref",required:!1,deprecated:!1},onExceptionOccurredRef:{kind:"attribute",type:"string",description:"Sets a reference to a processor that should be processed just after an exception occurred. Can be used to perform custom logging about the occurred exception at the exact time it happened. Important: Any exception thrown from this processor will be ignored.",title:"On Exception Occurred Ref",required:!1,deprecated:!1},onPrepareFailureRef:{kind:"attribute",type:"string",description:"Sets a reference to a processor to prepare the org.apache.camel.Exchange before handled by the failure processor / dead letter channel. This allows for example to enrich the message before sending to a dead letter queue.",title:"On Prepare Failure Ref",required:!1,deprecated:!1},retryWhileRef:{kind:"attribute",type:"string",description:"Sets a reference to an retry while expression. Will continue retrying until expression evaluates to false.",title:"Retry While Ref",required:!1,deprecated:!1},redeliveryPolicyRef:{kind:"attribute",type:"string",description:"Sets a reference to a RedeliveryPolicy to be used for redelivery settings.",title:"Redelivery Policy Ref",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Sets a reference to a thread pool to be used by the error handler",title:"Executor Service Ref",required:!1,deprecated:!1},redeliveryPolicy:{kind:"element",type:"object",description:"Sets the redelivery settings",title:"Redelivery Policy",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},etcdConfiguration:{type:"object",title:"Etcd Configuration",group:"eip,routing,remote",icon:"generic24.png",description:"Etcd remote service call configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{uris:{kind:"attribute",type:"string",description:"The URIs the client can connect to.",title:"Uris",required:!1,deprecated:!1},userName:{kind:"attribute",type:"string",description:"The user name to use for basic authentication.",title:"User Name",required:!1,deprecated:!1},password:{kind:"attribute",type:"string",description:"The password to use for basic authentication.",title:"Password",required:!1,deprecated:!1},timeout:{kind:"attribute",type:"integer",description:"To set the maximum time an action could take to complete.",title:"Timeout",required:!1,deprecated:!1},servicePath:{kind:"attribute",type:"string",defaultValue:"/services/",description:"The path to look for for service discovery",title:"Service Path",required:!1,deprecated:!1},component:{kind:"attribute",type:"string",defaultValue:"http",description:"Sets the default Camel component to use for calling the remote service. By default the http component is used. You can configure this to use netty4-http jetty restlet or some other components of choice. If the service is not HTTP protocol you can use other components such as mqtt jms amqp etc. If the service call has been configured using an uri then the component from the uri is used instead of this default component.",title:"Component",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},clientProperty:{kind:"element",type:"array",description:"Set client properties to use. These properties are specific to what service call implementation are in use. For example if using ribbon then the client properties are define in com.netflix.client.config.CommonClientConfigKey.",title:"Client Property",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},export:{type:"object",title:"Export",group:"spring,configuration",icon:"generic24.png",description:"Used for export a service using Spring Remoting to hide the network call using an interface.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{uri:{kind:"attribute",type:"string",description:"Camel endpoint uri to use a remote transport when calling the service",title:"Uri",required:!0,deprecated:!1},serviceRef:{kind:"attribute",type:"string",description:"Reference to the service name to lookup in the registry.",title:"Service Ref",required:!1,deprecated:!1},serviceInterface:{kind:"attribute",type:"string",description:"Java interfaces to use as facade for the service to be exported",title:"Service Interface",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"The id of the CamelContext to use if there is multiple CamelContext in the same JVM.",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},failover:{type:"object",title:"Failover",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Failover load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{exception:{kind:"element",type:"array",description:"A list of class names for specific exceptions to monitor. If no exceptions is configured then all exceptions is monitored",title:"Exception",required:!1,deprecated:!1},roundRobin:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the failover load balancer should operate in round robin mode or not. If not then it will always start from the first endpoint when a new message is to be processed. In other words it restart from the top for every message. If round robin is enabled then it keeps state and will continue with the next endpoint in a round robin fashion. You can also enable sticky mode together with round robin if so then it will pick the last known good endpoint to use when starting the load balancing (instead of using the next when starting).",title:"Round Robin",required:!1,deprecated:!1},sticky:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the failover load balancer should operate in sticky mode or not. If not then it will always start from the first endpoint when a new message is to be processed. In other words it restart from the top for every message. If sticky is enabled then it keeps state and will continue with the last known good endpoint. You can also enable sticky mode together with round robin if so then it will pick the last known good endpoint to use when starting the load balancing (instead of using the next when starting).",title:"Sticky",required:!1,deprecated:!1},maximumFailoverAttempts:{kind:"attribute",type:"integer",defaultValue:"-1",description:"A value to indicate after X failover attempts we should exhaust (give up). Use -1 to indicate never give up and continuously try to failover. Use 0 to never failover. And use e.g. 3 to failover at most 3 times before giving up. his option can be used whether or not roundRobin is enabled or not.",title:"Maximum Failover Attempts",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},filter:{type:"object",title:"Filter",group:"eip,routing",icon:"filter24.png",description:"Filter out messages based using a predicate",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression to determine if the message should be filtered or not. If the expression returns an empty value or false then the message is filtered (dropped) otherwise the message is continued being routed.",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},fluentTemplate:{type:"object",title:"Fluent Template",group:"spring,configuration",icon:"generic24.png",description:"Configures a org.apache.camel.FluentProducerTemplate",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{defaultEndpoint:{kind:"attribute",type:"string",description:"Sets the default endpoint URI used by default for sending message exchanges",title:"Default Endpoint",required:!1,deprecated:!1},maximumCacheSize:{kind:"attribute",type:"integer",description:"Sets a custom maximum cache size to use in the backing cache pools.",title:"Maximum Cache Size",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},from:{type:"object",title:"From",group:"eip,endpoint,routing",icon:"endpoint24.png",description:"Act as a message source as input to a route",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{uri:{kind:"attribute",type:"string",description:"Sets the URI of the endpoint to use",title:"Uri",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"Sets the name of the endpoint within the registry (such as the Spring ApplicationContext or JNDI) to use",title:"Ref",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},hystrix:{type:"object",title:"Hystrix",group:"eip,routing,circuitbreaker",icon:"generic24.png",description:"Hystrix Circuit Breaker EIP",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{hystrixConfiguration:{kind:"element",type:"object",description:"Configures the Hystrix EIP Use end when configuration is complete to return back to the Hystrix EIP.",title:"Hystrix Configuration",required:!1,deprecated:!1},hystrixConfigurationRef:{kind:"attribute",type:"string",description:"Refers to a Hystrix configuration to use for configuring the Hystrix EIP.",title:"Hystrix Configuration Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},hystrixConfiguration:{type:"object",title:"Hystrix Configuration",group:"eip,routing,circuitbreaker",icon:"generic24.png",description:"Hystrix Circuit Breaker EIP configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{groupKey:{kind:"attribute",type:"string",defaultValue:"CamelHystrix",description:"Sets the group key to use. The default value is CamelHystrix.",title:"Group Key",required:!1,deprecated:!1},threadPoolKey:{kind:"attribute",type:"string",defaultValue:"CamelHystrix",description:"Sets the thread pool key to use. Will by default use the same value as groupKey has been configured to use.",title:"Thread Pool Key",required:!1,deprecated:!1},circuitBreakerEnabled:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to use a HystrixCircuitBreaker or not. If false no circuit-breaker logic will be used and all requests permitted. This is similar in effect to circuitBreakerForceClosed() except that continues tracking metrics and knowing whether it should be open/closed this property results in not even instantiating a circuit-breaker.",title:"Circuit Breaker Enabled",required:!1,deprecated:!1},circuitBreakerErrorThresholdPercentage:{kind:"attribute",type:"integer",defaultValue:"50",description:"Error percentage threshold (as whole number such as 50) at which point the circuit breaker will trip open and reject requests. It will stay tripped for the duration defined in circuitBreakerSleepWindowInMilliseconds; The error percentage this is compared against comes from HystrixCommandMetrics.getHealthCounts().",title:"Circuit Breaker Error Threshold Percentage",required:!1,deprecated:!1},circuitBreakerForceClosed:{kind:"attribute",type:"boolean",defaultValue:"true",description:"If true the HystrixCircuitBreakerallowRequest() will always return true to allow requests regardless of the error percentage from HystrixCommandMetrics.getHealthCounts(). The circuitBreakerForceOpen() property takes precedence so if it set to true this property does nothing.",title:"Circuit Breaker Force Closed",required:!1,deprecated:!1},circuitBreakerForceOpen:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If true the HystrixCircuitBreaker.allowRequest() will always return false causing the circuit to be open (tripped) and reject all requests. This property takes precedence over circuitBreakerForceClosed();",title:"Circuit Breaker Force Open",required:!1,deprecated:!1},circuitBreakerRequestVolumeThreshold:{kind:"attribute",type:"integer",defaultValue:"20",description:"Minimum number of requests in the metricsRollingStatisticalWindowInMilliseconds() that must exist before the HystrixCircuitBreaker will trip. If below this number the circuit will not trip regardless of error percentage.",title:"Circuit Breaker Request Volume Threshold",required:!1,deprecated:!1},circuitBreakerSleepWindowInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"5000",description:"The time in milliseconds after a HystrixCircuitBreaker trips open that it should wait before trying requests again.",title:"Circuit Breaker Sleep Window In Milliseconds",required:!1,deprecated:!1},executionIsolationSemaphoreMaxConcurrentRequests:{kind:"attribute",type:"integer",defaultValue:"20",description:"Number of concurrent requests permitted to HystrixCommand.run(). Requests beyond the concurrent limit will be rejected. Applicable only when executionIsolationStrategy == SEMAPHORE.",title:"Execution Isolation Semaphore Max Concurrent Requests",required:!1,deprecated:!1},executionIsolationStrategy:{kind:"attribute",type:"string",defaultValue:"THREAD",description:"What isolation strategy HystrixCommand.run() will be executed with. If THREAD then it will be executed on a separate thread and concurrent requests limited by the number of threads in the thread-pool. If SEMAPHORE then it will be executed on the calling thread and concurrent requests limited by the semaphore count.",title:"Execution Isolation Strategy",required:!1,deprecated:!1},executionIsolationThreadInterruptOnTimeout:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether the execution thread should attempt an interrupt (using link Futurecancel) when a thread times out. Applicable only when executionIsolationStrategy() == THREAD.",title:"Execution Isolation Thread Interrupt On Timeout",required:!1,deprecated:!1},executionTimeoutInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"1000",description:"Time in milliseconds at which point the command will timeout and halt execution. If link executionIsolationThreadInterruptOnTimeout == true and the command is thread-isolated the executing thread will be interrupted. If the command is semaphore-isolated and a HystrixObservableCommand that command will get unsubscribed.",title:"Execution Timeout In Milliseconds",required:!1,deprecated:!1},executionTimeoutEnabled:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether the timeout mechanism is enabled for this command",title:"Execution Timeout Enabled",required:!1,deprecated:!1},fallbackIsolationSemaphoreMaxConcurrentRequests:{kind:"attribute",type:"integer",defaultValue:"10",description:"Number of concurrent requests permitted to HystrixCommand.getFallback(). Requests beyond the concurrent limit will fail-fast and not attempt retrieving a fallback.",title:"Fallback Isolation Semaphore Max Concurrent Requests",required:!1,deprecated:!1},fallbackEnabled:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether HystrixCommand.getFallback() should be attempted when failure occurs.",title:"Fallback Enabled",required:!1,deprecated:!1},metricsHealthSnapshotIntervalInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"500",description:"Time in milliseconds to wait between allowing health snapshots to be taken that calculate success and error percentages and affect HystrixCircuitBreaker.isOpen() status. On high-volume circuits the continual calculation of error percentage can become CPU intensive thus this controls how often it is calculated.",title:"Metrics Health Snapshot Interval In Milliseconds",required:!1,deprecated:!1},metricsRollingPercentileBucketSize:{kind:"attribute",type:"integer",defaultValue:"10",description:"Maximum number of values stored in each bucket of the rolling percentile. This is passed into HystrixRollingPercentile inside HystrixCommandMetrics.",title:"Metrics Rolling Percentile Bucket Size",required:!1,deprecated:!1},metricsRollingPercentileEnabled:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether percentile metrics should be captured using HystrixRollingPercentile inside HystrixCommandMetrics.",title:"Metrics Rolling Percentile Enabled",required:!1,deprecated:!1},metricsRollingPercentileWindowInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"false",description:"Duration of percentile rolling window in milliseconds. This is passed into HystrixRollingPercentile inside HystrixCommandMetrics.",title:"Metrics Rolling Percentile Window In Milliseconds",required:!1,deprecated:!1},metricsRollingPercentileWindowBuckets:{kind:"attribute",type:"integer",defaultValue:"6",description:"Number of buckets the rolling percentile window is broken into. This is passed into HystrixRollingPercentile inside HystrixCommandMetrics.",title:"Metrics Rolling Percentile Window Buckets",required:!1,deprecated:!1},metricsRollingStatisticalWindowInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"10000",description:"Duration of statistical rolling window in milliseconds. This is passed into HystrixRollingNumber inside HystrixCommandMetrics.",title:"Metrics Rolling Statistical Window In Milliseconds",required:!1,deprecated:!1},metricsRollingStatisticalWindowBuckets:{kind:"attribute",type:"integer",defaultValue:"10",description:"Number of buckets the rolling statistical window is broken into. This is passed into HystrixRollingNumber inside HystrixCommandMetrics.",title:"Metrics Rolling Statistical Window Buckets",required:!1,deprecated:!1},requestLogEnabled:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether HystrixCommand execution and events should be logged to HystrixRequestLog.",title:"Request Log Enabled",required:!1,deprecated:!1},corePoolSize:{kind:"attribute",type:"integer",defaultValue:"10",description:"Core thread-pool size that gets passed to link java.util.concurrent.ThreadPoolExecutorsetCorePoolSize(int)",title:"Core Pool Size",required:!1,deprecated:!1},keepAliveTime:{kind:"attribute",type:"integer",defaultValue:"1",description:"Keep-alive time in minutes that gets passed to link ThreadPoolExecutorsetKeepAliveTime(long TimeUnit)",title:"Keep Alive Time",required:!1,deprecated:!1},maxQueueSize:{kind:"attribute",type:"integer",defaultValue:"-1",description:"Max queue size that gets passed to BlockingQueue in HystrixConcurrencyStrategy.getBlockingQueue(int) This should only affect the instantiation of a threadpool - it is not eliglible to change a queue size on the fly. For that use queueSizeRejectionThreshold().",title:"Max Queue Size",required:!1,deprecated:!1},queueSizeRejectionThreshold:{kind:"attribute",type:"integer",defaultValue:"5",description:"Queue size rejection threshold is an artificial max size at which rejections will occur even if link maxQueueSize has not been reached. This is done because the link maxQueueSize of a BlockingQueue can not be dynamically changed and we want to support dynamically changing the queue size that affects rejections. This is used by HystrixCommand when queuing a thread for execution.",title:"Queue Size Rejection Threshold",required:!1,deprecated:!1},threadPoolRollingNumberStatisticalWindowInMilliseconds:{kind:"attribute",type:"integer",defaultValue:"10000",description:"Duration of statistical rolling window in milliseconds. This is passed into HystrixRollingNumber inside each HystrixThreadPoolMetrics instance.",title:"Thread Pool Rolling Number Statistical Window In Milliseconds",required:!1,deprecated:!1},threadPoolRollingNumberStatisticalWindowBuckets:{kind:"attribute",type:"integer",defaultValue:"10",description:"Number of buckets the rolling statistical window is broken into. This is passed into HystrixRollingNumber inside each HystrixThreadPoolMetrics instance.",title:"Thread Pool Rolling Number Statistical Window Buckets",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},idempotentConsumer:{type:"object",title:"Idempotent Consumer",group:"eip,routing",icon:"idempotentConsumer24.png",description:"Filters out duplicate messages",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression used to calculate the correlation key to use for duplicate check. The Exchange which has the same correlation key is regarded as a duplicate and will be rejected.",title:"Expression",required:!0,deprecated:!1},messageIdRepositoryRef:{kind:"attribute",type:"string",description:"Sets the reference name of the message id repository",title:"Message Id Repository Ref",required:!0,deprecated:!1},eager:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Sets whether to eagerly add the key to the idempotent repository or wait until the exchange is complete. Eager is default enabled.",title:"Eager",required:!1,deprecated:!1},completionEager:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether to complete the idempotent consumer eager or when the exchange is done. If this option is true to complete eager then the idempotent consumer will trigger its completion when the exchange reached the end of the block of the idempotent consumer pattern. So if the exchange is continued routed after the block ends then whatever happens there does not affect the state. If this option is false (default) to not complete eager then the idempotent consumer will complete when the exchange is done being routed. So if the exchange is continued routed after the block ends then whatever happens there also affect the state. For example if the exchange failed due to an exception then the state of the idempotent consumer will be a rollback.",title:"Completion Eager",required:!1,deprecated:!1},skipDuplicate:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Sets whether to skip duplicates or not. The default behavior is to skip duplicates. A duplicate message would have the Exchange property link org.apache.camel.ExchangeDUPLICATE_MESSAGE set to a link BooleanTRUE value. A none duplicate message will not have this property set.",title:"Skip Duplicate",required:!1,deprecated:!1},removeOnFailure:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Sets whether to remove or keep the key on failure. The default behavior is to remove the key on failure.",title:"Remove On Failure",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},inOnly:{type:"object",title:"In Only",group:"eip,endpoint,routing",icon:"eventMessage24.png",description:"Marks the exchange pattern for the route to one way",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{uri:{kind:"attribute",type:"string",description:"Sets the uri of the endpoint to send to.",title:"Uri",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"Sets the reference of the endpoint to send to.",title:"Ref",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},inOut:{type:"object",title:"In Out",group:"eip,endpoint,routing",icon:"requestReply24.png",description:"Marks the exchange pattern for the route to request/reply",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{uri:{kind:"attribute",type:"string",description:"Sets the uri of the endpoint to send to.",title:"Uri",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"Sets the reference of the endpoint to send to.",title:"Ref",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},intercept:{type:"object",title:"Intercept",group:"configuration",icon:"generic24.png",description:"Intercepts a message at each step in the route",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},interceptFrom:{type:"object",title:"Intercept From",group:"configuration",icon:"generic24.png",description:"Intercepts incoming messages",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{uri:{kind:"attribute",type:"string",description:"Intercept incoming messages from the uri or uri pattern. If this option is not configured then all incoming messages is intercepted.",title:"Uri",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},interceptSendToEndpoint:{type:"object",title:"Intercept Send To Endpoint",group:"configuration",icon:"generic24.png",description:"Intercepts messages being sent to an endpoint",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{uri:{kind:"attribute",type:"string",description:"Intercept sending to the uri or uri pattern.",title:"Uri",required:!0,deprecated:!1},skipSendToOriginalEndpoint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If set to true then the message is not sent to the original endpoint. By default (false) the message is both intercepted and then sent to the original endpoint.",title:"Skip Send To Original Endpoint",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},jmxAgent:{type:"object",title:"Jmx Agent",group:"spring,configuration",icon:"generic24.png",description:"JMX configuration.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{disabled:{kind:"attribute",type:"string",defaultValue:"false",description:"Disable JMI (default false)",title:"Disabled",required:!1,deprecated:!1},onlyRegisterProcessorWithCustomId:{kind:"attribute",type:"string",defaultValue:"false",description:"Only register processor if a custom id was defined for it.",title:"Only Register Processor With Custom Id",required:!1,deprecated:!1},registryPort:{kind:"attribute",type:"string",defaultValue:"1099",description:"RMI connector registry port (default 1099)",title:"Registry Port",required:!1,deprecated:!1},connectorPort:{kind:"attribute",type:"string",defaultValue:"-1",description:"RMI connector server port (default -1 not used)",title:"Connector Port",required:!1,deprecated:!1},mbeanServerDefaultDomain:{kind:"attribute",type:"string",defaultValue:"org.apache.camel",description:"MBean server default domain name (default org.apache.camel)",title:"Mbean Server Default Domain",required:!1,deprecated:!1},mbeanObjectDomainName:{kind:"attribute",type:"string",defaultValue:"org.apache.camel",description:"MBean object domain name (default org.apache.camel)",title:"Mbean Object Domain Name",required:!1,deprecated:!1},serviceUrlPath:{kind:"attribute",type:"string",defaultValue:"/jmxrmi",description:"JMX Service URL path (default /jmxrmi)",title:"Service Url Path",required:!1,deprecated:!1},createConnector:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether the agent should be created",title:"Create Connector",required:!1,deprecated:!1},usePlatformMBeanServer:{kind:"attribute",type:"string",defaultValue:"true",description:"A flag that indicates whether the platform mbean server should be used",title:"Use Platform M Bean Server",required:!1,deprecated:!1},registerAlways:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether to register mbeans always",title:"Register Always",required:!1,deprecated:!1},registerNewRoutes:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether to register mbeans when starting new routes",title:"Register New Routes",required:!1,deprecated:!1},statisticsLevel:{kind:"attribute",type:"string",defaultValue:"Default",description:"Level of granularity for performance statistics enabled",title:"Statistics Level",required:!1,deprecated:!1},loadStatisticsEnabled:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether Load statistics is enabled",title:"Load Statistics Enabled",required:!1,deprecated:!1},endpointRuntimeStatisticsEnabled:{kind:"attribute",type:"string",defaultValue:"true",description:"A flag that indicates whether endpoint runtime statistics is enabled",title:"Endpoint Runtime Statistics Enabled",required:!1,deprecated:!1},includeHostName:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether to include hostname in JMX MBean names.",title:"Include Host Name",required:!1,deprecated:!1},useHostIPAddress:{kind:"attribute",type:"string",defaultValue:"false",description:"A flag that indicates whether to use hostname or IP Address in the service url.",title:"Use Host I P Address",required:!1,deprecated:!1},mask:{kind:"attribute",type:"string",defaultValue:"true",description:"A flag that indicates whether to remove detected sensitive information (such as passwords) from MBean names and attributes.",title:"Mask",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},kubernetesConfiguration:{type:"object",title:"Kubernetes Configuration",group:"eip,routing,remote",icon:"generic24.png",description:"Kubernetes remote service call configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{lookup:{kind:"attribute",type:"string",defaultValue:"environment",description:"How to perform service lookup. Possible values: client dns environment. When using client then the client queries the kubernetes master to obtain a list of active pods that provides the service and then random (or round robin) select a pod. When using dns the service name is resolved as name.namespace.service.dnsDomain. When using environment then environment variables are used to lookup the service. By default environment is used.",title:"Lookup",required:!1,deprecated:!1},dnsDomain:{kind:"attribute",type:"string",description:"Sets the DNS domain to use for DNS lookup.",title:"Dns Domain",required:!1,deprecated:!1},namespace:{kind:"attribute",type:"string",description:"Sets the namespace to use. Will by default use namespace from the ENV variable KUBERNETES_MASTER.",title:"Namespace",required:!1,deprecated:!1},apiVersion:{kind:"attribute",type:"string",description:"Sets the API version when using client lookup",title:"Api Version",required:!1,deprecated:!1},masterUrl:{kind:"attribute",type:"string",description:"Sets the URL to the master when using client lookup",title:"Master Url",required:!1,deprecated:!1},username:{kind:"attribute",type:"string",description:"Sets the username for authentication when using client lookup",title:"Username",required:!1,deprecated:!1},password:{kind:"attribute",type:"string",description:"Sets the password for authentication when using client lookup",title:"Password",required:!1,deprecated:!1},oauthToken:{kind:"attribute",type:"string",description:"Sets the OAUTH token for authentication (instead of username/password) when using client lookup",title:"Oauth Token",required:!1,deprecated:!1},caCertData:{kind:"attribute",type:"string",description:"Sets the Certificate Authority data when using client lookup",title:"Ca Cert Data",required:!1,deprecated:!1},caCertFile:{kind:"attribute",type:"string",description:"Sets the Certificate Authority data that are loaded from the file when using client lookup",title:"Ca Cert File",required:!1,deprecated:!1},clientCertData:{kind:"attribute",type:"string",description:"Sets the Client Certificate data when using client lookup",title:"Client Cert Data",required:!1,deprecated:!1},clientCertFile:{kind:"attribute",type:"string",description:"Sets the Client Certificate data that are loaded from the file when using client lookup",title:"Client Cert File",required:!1,deprecated:!1},clientKeyAlgo:{kind:"attribute",type:"string",description:"Sets the Client Keystore algorithm such as RSA when using client lookup",title:"Client Key Algo",required:!1,deprecated:!1},clientKeyData:{kind:"attribute",type:"string",description:"Sets the Client Keystore data when using client lookup",title:"Client Key Data",required:!1,deprecated:!1},clientKeyFile:{kind:"attribute",type:"string",description:"Sets the Client Keystore data that are loaded from the file when using client lookup",title:"Client Key File",required:!1,deprecated:!1},clientKeyPassphrase:{kind:"attribute",type:"string",description:"Sets the Client Keystore passphrase when using client lookup",title:"Client Key Passphrase",required:!1,deprecated:!1},trustCerts:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether to turn on trust certificate check when using client lookup",title:"Trust Certs",required:!1,deprecated:!1},component:{kind:"attribute",type:"string",defaultValue:"http",description:"Sets the default Camel component to use for calling the remote service. By default the http component is used. You can configure this to use netty4-http jetty restlet or some other components of choice. If the service is not HTTP protocol you can use other components such as mqtt jms amqp etc. If the service call has been configured using an uri then the component from the uri is used instead of this default component.",title:"Component",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},clientProperty:{kind:"element",type:"array",description:"Set client properties to use. These properties are specific to what service call implementation are in use. For example if using ribbon then the client properties are define in com.netflix.client.config.CommonClientConfigKey.",title:"Client Property",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},loadBalance:{type:"object",title:"Load Balance",group:"eip,routing",icon:"loadBalance24.png",description:"Balances message processing among a number of nodes",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{loadBalancerType:{kind:"element",type:"object",description:"The load balancer to be used",title:"Load Balancer Type",required:!0,deprecated:!1},inheritErrorHandler:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether or not to inherit the configured error handler. The default value is true. You can use this to disable using the inherited error handler for a given DSL such as a load balancer where you want to use a custom error handler strategy.",title:"Inherit Error Handler",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},log:{type:"object",title:"Log",group:"configuration",icon:"log24.png",description:"Logs the defined message to the logger",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{message:{kind:"attribute",type:"string",description:"Sets the log message (uses simple language)",title:"Message",required:!0,deprecated:!1},loggingLevel:{kind:"attribute",type:"string",defaultValue:"INFO",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level. The default value is INFO",title:"Logging Level",required:!1,deprecated:!1},logName:{kind:"attribute",type:"string",description:"Sets the name of the logger",title:"Log Name",required:!1,deprecated:!1},marker:{kind:"attribute",type:"string",description:"To use slf4j marker",title:"Marker",required:!1,deprecated:!1},loggerRef:{kind:"attribute",type:"string",description:"To refer to a custom logger instance to lookup from the registry.",title:"Logger Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},loop:{type:"object",title:"Loop",group:"eip,routing",icon:"generic24.png",description:"Processes a message multiple times",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression to define how many times we should loop. Notice the expression is only evaluated once and should return a number as how many times to loop. A value of zero or negative means no looping. The loop is like a for-loop fashion if you want a while loop then the dynamic router may be a better choice.",title:"Expression",required:!0,deprecated:!1},copy:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If the copy attribute is true a copy of the input Exchange is used for each iteration. That means each iteration will start from a copy of the same message. By default loop will loop the same exchange all over so each iteration may have different message content.",title:"Copy",required:!1,deprecated:!1},doWhile:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables the while loop that loops until the predicate evaluates to false or null.",title:"Do While",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},marshal:{type:"object",title:"Marshal",group:"eip,transformation",icon:"marshal24.png",description:"Marshals data into a specified format for transmission over a transport or component",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{dataFormatType:{kind:"element",type:"object",description:"The data format to be used",title:"Data Format Type",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"To refer to a custom data format to use as marshaller",title:"Ref",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},multicast:{type:"object",title:"Multicast",group:"eip,routing",icon:"multicast24.png",description:"Routes the same message to multiple paths either sequentially or in parallel.",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{parallelProcessing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then sending messages to the multicasts occurs concurrently. Note the caller thread will still wait until all messages has been fully processed before it continues. Its only the sending and processing the replies from the multicasts which happens concurrently.",title:"Parallel Processing",required:!1,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"Refers to an AggregationStrategy to be used to assemble the replies from the multicasts into a single outgoing message from the Multicast. By default Camel will use the last reply as the outgoing message. You can also use a POJO as the AggregationStrategy",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was no data to enrich. If this option is true then null values is used as the oldExchange (when no data to enrich) when using POJOs as the AggregationStrategy",title:"Strategy Method Allow Null",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Refers to a custom Thread Pool to be used for parallel processing. Notice if you set this option then parallel processing is automatic implied and you do not have to enable that option as well.",title:"Executor Service Ref",required:!1,deprecated:!1},streaming:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then Camel will process replies out-of-order eg in the order they come back. If disabled Camel will process replies in the same order as defined by the multicast.",title:"Streaming",required:!1,deprecated:!1},stopOnException:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will now stop further processing if an exception or failure occurred during processing of an org.apache.camel.Exchange and the caused exception will be thrown. Will also stop if processing the exchange failed (has a fault message) or an exception was thrown and handled by the error handler (such as using onException). In all situations the multicast will stop further processing. This is the same behavior as in pipeline which is used by the routing engine. The default behavior is to not stop but continue processing till the end",title:"Stop On Exception",required:!1,deprecated:!1},timeout:{kind:"attribute",type:"integer",defaultValue:"0",description:"Sets a total timeout specified in millis when using parallel processing. If the Multicast hasn't been able to send and process all replies within the given timeframe then the timeout triggers and the Multicast breaks out and continues. Notice if you provide a TimeoutAwareAggregationStrategy then the timeout method is invoked before breaking out. If the timeout is reached with running tasks still remaining certain tasks for which it is difficult for Camel to shut down in a graceful manner may continue to run. So use this option with a bit of care.",title:"Timeout",required:!1,deprecated:!1},onPrepareRef:{kind:"attribute",type:"string",description:"Uses the Processor when preparing the org.apache.camel.Exchange to be send. This can be used to deep-clone messages that should be send or any custom logic needed before the exchange is send.",title:"On Prepare Ref",required:!1,deprecated:!1},shareUnitOfWork:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Shares the org.apache.camel.spi.UnitOfWork with the parent and each of the sub messages. Multicast will by default not share unit of work between the parent exchange and each multicasted exchange. This means each sub exchange has its own individual unit of work.",title:"Share Unit Of Work",required:!1,deprecated:!1},parallelAggregate:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then the aggregate method on AggregationStrategy can be called concurrently. Notice that this would require the implementation of AggregationStrategy to be implemented as thread-safe. By default this is false meaning that Camel synchronizes the call to the aggregate method. Though in some use-cases this can be used to archive higher performance when the AggregationStrategy is implemented as thread-safe.",title:"Parallel Aggregate",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},onCompletion:{type:"object",title:"On Completion",group:"configuration",icon:"generic24.png",description:"Route to be executed when normal route processing completes",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{mode:{kind:"attribute",type:"string",defaultValue:"AfterConsumer",enum:["AfterConsumer","BeforeConsumer"],description:"Sets the on completion mode. The default value is AfterConsumer",title:"Mode",required:!1,deprecated:!1},onCompleteOnly:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will only synchronize when the org.apache.camel.Exchange completed successfully (no errors).",title:"On Complete Only",required:!1,deprecated:!1},onFailureOnly:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will only synchronize when the org.apache.camel.Exchange ended with failure (exception or FAULT message).",title:"On Failure Only",required:!1,deprecated:!1},onWhen:{kind:"element",type:"object",description:"Sets an additional predicate that should be true before the onCompletion is triggered. To be used for fine grained controlling whether a completion callback should be invoked or not",title:"On When",required:!1,deprecated:!1},parallelProcessing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then the on completion process will run asynchronously by a separate thread from a thread pool. By default this is false meaning the on completion process will run synchronously using the same caller thread as from the route.",title:"Parallel Processing",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Refers to a custom Thread Pool to be used for parallel processing. Notice if you set this option then parallel processing is automatic implied and you do not have to enable that option as well.",title:"Executor Service Ref",required:!1,deprecated:!1},useOriginalMessage:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will use the original input body when an org.apache.camel.Exchange for this on completion. By default this feature is off.",title:"Use Original Message",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},onException:{type:"object",title:"On Exception",group:"error",icon:"generic24.png",description:"Route to be executed when an exception is thrown",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{exception:{kind:"element",type:"array",description:"A set of exceptions to react upon.",title:"Exception",required:!0,deprecated:!1},onWhen:{kind:"element",type:"object",description:"Sets an additional predicate that should be true before the onException is triggered. To be used for fine grained controlling whether a thrown exception should be intercepted by this exception type or not.",title:"On When",required:!1,deprecated:!1},retryWhile:{kind:"expression",type:"object",description:"Sets the retry while predicate. Will continue retrying until predicate returns false.",title:"Retry While",required:!1,deprecated:!1},redeliveryPolicy:{kind:"element",type:"object",description:"Set the RedeliveryPolicy to be used.",title:"Redelivery Policy",required:!1,deprecated:!1},redeliveryPolicyRef:{kind:"attribute",type:"string",description:"Sets a reference to a RedeliveryPolicy to lookup in the org.apache.camel.spi.Registry to be used.",title:"Redelivery Policy Ref",required:!1,deprecated:!1},handled:{kind:"expression",type:"object",description:"Sets whether the exchange should be marked as handled or not.",title:"Handled",required:!1,deprecated:!1},continued:{kind:"expression",type:"object",description:"Sets whether the exchange should handle and continue routing from the point of failure. If this option is enabled then its considered handled as well.",title:"Continued",required:!1,deprecated:!1},onRedeliveryRef:{kind:"attribute",type:"string",description:"Sets a reference to a processor that should be processed before a redelivery attempt. Can be used to change the org.apache.camel.Exchange before its being redelivered.",title:"On Redelivery Ref",required:!1,deprecated:!1},onExceptionOccurredRef:{kind:"attribute",type:"string",description:"Sets a reference to a processor that should be processed just after an exception occurred. Can be used to perform custom logging about the occurred exception at the exact time it happened. Important: Any exception thrown from this processor will be ignored.",title:"On Exception Occurred Ref",required:!1,deprecated:!1},useOriginalMessage:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will use the original input message when an org.apache.camel.Exchange is moved to the dead letter queue. Notice: this only applies when all redeliveries attempt have failed and the org.apache.camel.Exchange is doomed for failure. Instead of using the current inprogress org.apache.camel.Exchange IN body we use the original IN body instead. This allows you to store the original input in the dead letter queue instead of the inprogress snapshot of the IN body. For instance if you route transform the IN body during routing and then failed. With the original exchange store in the dead letter queue it might be easier to manually re submit the org.apache.camel.Exchange again as the IN body is the same as when Camel received it. So you should be able to send the org.apache.camel.Exchange to the same input. By default this feature is off.",title:"Use Original Message",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},onFallback:{type:"object",title:"On Fallback",group:"eip,routing,circuitbreaker",icon:"generic24.png",description:"Route to be executed when Hystrix EIP executes fallback",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{fallbackViaNetwork:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the fallback goes over the network. If the fallback will go over the network it is another possible point of failure and so it also needs to be wrapped by a HystrixCommand. It is important to execute the fallback command on a separate thread-pool otherwise if the main command were to become latent and fill the thread-pool this would prevent the fallback from running if the two commands share the same pool.",title:"Fallback Via Network",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},optimisticLockRetryPolicy:{type:"object",title:"Optimistic Lock Retry Policy",group:"configuration",icon:"generic24.png",description:"To configure optimistic locking",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{maximumRetries:{kind:"attribute",type:"integer",description:"Sets the maximum number of retries",title:"Maximum Retries",required:!1,deprecated:!1},retryDelay:{kind:"attribute",type:"integer",defaultValue:"50",description:"Sets the delay in millis between retries",title:"Retry Delay",required:!1,deprecated:!1},maximumRetryDelay:{kind:"attribute",type:"integer",defaultValue:"1000",description:"Sets the upper value of retry in millis between retries when using exponential or random backoff",title:"Maximum Retry Delay",required:!1,deprecated:!1},exponentialBackOff:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Enable exponential backoff",title:"Exponential Back Off",required:!1,deprecated:!1},randomBackOff:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables random backoff",title:"Random Back Off",required:!1,deprecated:!1}}},otherwise:{type:"object",title:"Otherwise",group:"eip,routing",icon:"generic24.png",description:"Route to be executed when all other choices evaluate to false",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},packageScan:{type:"object",title:"Package Scan",group:"configuration",icon:"generic24.png",description:"Scans for Java org.apache.camel.builder.RouteBuilder classes in java packages",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{package:{kind:"element",type:"array",description:"Sets the java package names to use for scanning for route builder classes",title:"Package",required:!0,deprecated:!1},excludes:{kind:"element",type:"array",description:"Exclude finding route builder from these java package names.",title:"Excludes",required:!1,deprecated:!1},includes:{kind:"element",type:"array",description:"Include finding route builder from these java package names.",title:"Includes",required:!1,deprecated:!1}}},pipeline:{type:"object",title:"Pipeline",group:"eip,routing",icon:"pipeline24.png",description:"Routes the message to a sequence of processors.",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},policy:{type:"object",title:"Policy",group:"configuration",icon:"generic24.png",description:"Defines a policy the route will use",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Sets a reference to use for lookup the policy in the registry.",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},pollEnrich:{type:"object",title:"Poll Enrich",group:"eip,transformation",icon:"pollEnrich24.png",description:"Enriches messages with data polled from a secondary resource",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression that computes the endpoint uri to use as the resource endpoint to enrich from",title:"Expression",required:!0,deprecated:!1},timeout:{kind:"attribute",type:"integer",defaultValue:"-1",description:"Timeout in millis when polling from the external service. The timeout has influence about the poll enrich behavior. It basically operations in three different modes: negative value - Waits until a message is available and then returns it. Warning that this method could block indefinitely if no messages are available. 0 - Attempts to receive a message exchange immediately without waiting and returning null if a message exchange is not available yet. positive value - Attempts to receive a message exchange waiting up to the given timeout to expire if a message is not yet available. Returns null if timed out The default value is -1 and therefore the method could block indefinitely and therefore its recommended to use a timeout value",title:"Timeout",required:!1,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"Refers to an AggregationStrategy to be used to merge the reply from the external service into a single outgoing message. By default Camel will use the reply from the external service as outgoing message.",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was no data to enrich. If this option is true then null values is used as the oldExchange (when no data to enrich) when using POJOs as the AggregationStrategy.",title:"Strategy Method Allow Null",required:!1,deprecated:!1},aggregateOnException:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was an exception thrown while trying to retrieve the data to enrich from the resource. Setting this option to true allows end users to control what to do if there was an exception in the aggregate method. For example to suppress the exception or set a custom message body etc.",title:"Aggregate On Exception",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ConsumerCache which is used to cache and reuse consumers when uris are reused.",title:"Cache Size",required:!1,deprecated:!1},ignoreInvalidEndpoint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoint",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},process:{type:"object",title:"Process",group:"eip,endpoint",icon:"process24.png",description:"Calls a Camel processor.",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the Processor to lookup in the registry to use.",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},properties:{type:"object",title:"Properties",group:"configuration",icon:"generic24.png",description:"A series of key value pair",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{property:{kind:"element",type:"array",description:"A series of properties as key value pairs",title:"Property",required:!1,deprecated:!1}}},propertiesFunction:{type:"object",title:"Properties Function",group:"spring,configuration",icon:"generic24.png",description:"Function to use with properties placeholder",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the custom properties function to lookup in the registry",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},property:{type:"object",title:"Property",group:"configuration",icon:"generic24.png",description:"A key value pair",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{key:{kind:"attribute",type:"string",description:"Property key",title:"Key",required:!0,deprecated:!1},value:{kind:"attribute",type:"string",description:"Property value",title:"Value",required:!0,deprecated:!1}}},propertyPlaceholder:{type:"object",title:"Property Placeholder",group:"spring,configuration",icon:"generic24.png",description:"Properties placeholder",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{location:{kind:"attribute",type:"string",description:"A list of locations to load properties. You can use comma to separate multiple locations. This option will override any default locations and only use the locations from this option.",title:"Location",required:!0,deprecated:!1},encoding:{kind:"attribute",type:"string",description:"Encoding to use when loading properties file from the file system or classpath. If no encoding has been set then the properties files is loaded using ISO-8859-1 encoding (latin-1) as documented by link java.util.Propertiesload(java.io.InputStream)",title:"Encoding",required:!1,deprecated:!1},cache:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not to cache loaded properties. The default value is true.",title:"Cache",required:!1,deprecated:!1},ignoreMissingLocation:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to silently ignore if a location cannot be located such as a properties file not found.",title:"Ignore Missing Location",required:!1,deprecated:!1},propertiesResolverRef:{kind:"attribute",type:"string",description:"Reference to a custom PropertiesResolver to be used",title:"Properties Resolver Ref",required:!1,deprecated:!1},propertiesParserRef:{kind:"attribute",type:"string",description:"Reference to a custom PropertiesParser to be used",title:"Properties Parser Ref",required:!1,deprecated:!1},propertyPrefix:{kind:"attribute",type:"string",description:"Optional prefix prepended to property names before resolution.",title:"Property Prefix",required:!1,deprecated:!1},propertySuffix:{kind:"attribute",type:"string",description:"Optional suffix appended to property names before resolution.",title:"Property Suffix",required:!1,deprecated:!1},fallbackToUnaugmentedProperty:{kind:"attribute",type:"boolean",defaultValue:"true",description:"If true first attempt resolution of property name augmented with propertyPrefix and propertySuffix before falling back the plain property name specified. If false only the augmented property name is searched.",title:"Fallback To Unaugmented Property",required:!1,deprecated:!1},prefixToken:{kind:"attribute",type:"string",defaultValue:"{{",description:"Sets the value of the prefix token used to identify properties to replace. Setting a value of null restores the default token",title:"Prefix Token",required:!1,deprecated:!1},suffixToken:{kind:"attribute",type:"string",defaultValue:"}}",description:"Sets the value of the suffix token used to identify properties to replace. Setting a value of null restores the default token",title:"Suffix Token",required:!1,deprecated:!1},propertiesFunction:{kind:"element",type:"array",description:"List of custom properties function to use.",title:"Properties Function",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},proxy:{type:"object",title:"Proxy",group:"spring,configuration",icon:"generic24.png",description:"To proxy a service call using a interface",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{serviceUrl:{kind:"attribute",type:"string",description:"The camel endpoint uri used to send the message to when calling the service from the interface.",title:"Service Url",required:!1,deprecated:!1},serviceRef:{kind:"attribute",type:"string",description:"The camel endpoint reference used to send the message to when calling the service from the interface.",title:"Service Ref",required:!1,deprecated:!0},serviceInterface:{kind:"attribute",type:"string",description:"Java interfaces to use as facade for the service to be proxied",title:"Service Interface",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"The id of the CamelContext to use if there is multiple CamelContext in the same JVM.",title:"Camel Context Id",required:!1,deprecated:!1},binding:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Camel parameter binding is enabled by default which will use binding information from the method signature parameters to bind to the Exchange/Message with the following annotations. If disabled then a org.apache.camel.component.bean.CamelInvocationHandler is used.",title:"Binding",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},random:{type:"object",title:"Random",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Random load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},recipientList:{type:"object",title:"Recipient List",group:"eip,endpoint,routing",icon:"recipientList24.png",description:"Routes messages to a number of dynamically specified recipients (dynamic to)",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression that returns which endpoints (url) to send the message to (the recipients). If the expression return an empty value then the message is not sent to any recipients.",title:"Expression",required:!0,deprecated:!1},delimiter:{kind:"attribute",type:"string",defaultValue:",",description:"Delimiter used if the Expression returned multiple endpoints. Can be turned off using the value false. The default value is",title:"Delimiter",required:!1,deprecated:!1},parallelProcessing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then sending messages to the recipients occurs concurrently. Note the caller thread will still wait until all messages has been fully processed before it continues. Its only the sending and processing the replies from the recipients which happens concurrently.",title:"Parallel Processing",required:!1,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"Sets a reference to the AggregationStrategy to be used to assemble the replies from the recipients into a single outgoing message from the RecipientList. By default Camel will use the last reply as the outgoing message. You can also use a POJO as the AggregationStrategy",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was no data to enrich. If this option is true then null values is used as the oldExchange (when no data to enrich) when using POJOs as the AggregationStrategy",title:"Strategy Method Allow Null",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Refers to a custom Thread Pool to be used for parallel processing. Notice if you set this option then parallel processing is automatic implied and you do not have to enable that option as well.",title:"Executor Service Ref",required:!1,deprecated:!1},stopOnException:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will now stop further processing if an exception or failure occurred during processing of an org.apache.camel.Exchange and the caused exception will be thrown. Will also stop if processing the exchange failed (has a fault message) or an exception was thrown and handled by the error handler (such as using onException). In all situations the recipient list will stop further processing. This is the same behavior as in pipeline which is used by the routing engine. The default behavior is to not stop but continue processing till the end",title:"Stop On Exception",required:!1,deprecated:!1},ignoreInvalidEndpoints:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoints",required:!1,deprecated:!1},streaming:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then Camel will process replies out-of-order eg in the order they come back. If disabled Camel will process replies in the same order as defined by the recipient list.",title:"Streaming",required:!1,deprecated:!1},timeout:{kind:"attribute",type:"integer",defaultValue:"0",description:"Sets a total timeout specified in millis when using parallel processing. If the Recipient List hasn't been able to send and process all replies within the given timeframe then the timeout triggers and the Recipient List breaks out and continues. Notice if you provide a TimeoutAwareAggregationStrategy then the timeout method is invoked before breaking out. If the timeout is reached with running tasks still remaining certain tasks for which it is difficult for Camel to shut down in a graceful manner may continue to run. So use this option with a bit of care.",title:"Timeout",required:!1,deprecated:!1},onPrepareRef:{kind:"attribute",type:"string",description:"Uses the Processor when preparing the org.apache.camel.Exchange to be send. This can be used to deep-clone messages that should be send or any custom logic needed before the exchange is send.",title:"On Prepare Ref",required:!1,deprecated:!1},shareUnitOfWork:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Shares the org.apache.camel.spi.UnitOfWork with the parent and each of the sub messages. Recipient List will by default not share unit of work between the parent exchange and each recipient exchange. This means each sub exchange has its own individual unit of work.",title:"Share Unit Of Work",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ProducerCache which is used to cache and reuse producers when using this recipient list when uris are reused.",title:"Cache Size",required:!1,deprecated:!1},parallelAggregate:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then the aggregate method on AggregationStrategy can be called concurrently. Notice that this would require the implementation of AggregationStrategy to be implemented as thread-safe. By default this is false meaning that Camel synchronizes the call to the aggregate method. Though in some use-cases this can be used to archive higher performance when the AggregationStrategy is implemented as thread-safe.",title:"Parallel Aggregate",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},redeliveryPolicy:{type:"object",title:"Redelivery Policy",group:"configuration",icon:"generic24.png",description:"To configure re-delivery for error handling",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{maximumRedeliveries:{kind:"attribute",type:"string",description:"Sets the maximum redeliveries x = redeliver at most x times 0 = no redeliveries -1 = redeliver forever",title:"Maximum Redeliveries",required:!1,deprecated:!1},redeliveryDelay:{kind:"attribute",type:"string",description:"Sets the initial redelivery delay",title:"Redelivery Delay",required:!1,deprecated:!1},asyncDelayedRedelivery:{kind:"attribute",type:"string",description:"Allow synchronous delayed redelivery.",title:"Async Delayed Redelivery",required:!1,deprecated:!1},backOffMultiplier:{kind:"attribute",type:"string",description:"Sets the back off multiplier",title:"Back Off Multiplier",required:!1,deprecated:!1},useExponentialBackOff:{kind:"attribute",type:"string",description:"Turn on exponential backk off",title:"Use Exponential Back Off",required:!1,deprecated:!1},collisionAvoidanceFactor:{kind:"attribute",type:"string",description:"Sets the collision avoidance factor",title:"Collision Avoidance Factor",required:!1,deprecated:!1},useCollisionAvoidance:{kind:"attribute",type:"string",description:"Turn on collision avoidance.",title:"Use Collision Avoidance",required:!1,deprecated:!1},maximumRedeliveryDelay:{kind:"attribute",type:"string",description:"Sets the maximum delay between redelivery",title:"Maximum Redelivery Delay",required:!1,deprecated:!1},retriesExhaustedLogLevel:{kind:"attribute",type:"string",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level to use when retries has exhausted",title:"Retries Exhausted Log Level",required:!1,deprecated:!1},retryAttemptedLogLevel:{kind:"attribute",type:"string",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level to use for logging retry attempts",title:"Retry Attempted Log Level",required:!1,deprecated:!1},logRetryAttempted:{kind:"attribute",type:"string",description:"Sets whether retry attempts should be logged or not. Can be used to include or reduce verbose.",title:"Log Retry Attempted",required:!1,deprecated:!1},logStackTrace:{kind:"attribute",type:"string",description:"Sets whether stack traces should be logged. Can be used to include or reduce verbose.",title:"Log Stack Trace",required:!1,deprecated:!1},logRetryStackTrace:{kind:"attribute",type:"string",description:"Sets whether stack traces should be logged when an retry attempt failed. Can be used to include or reduce verbose.",title:"Log Retry Stack Trace",required:!1,deprecated:!1},logHandled:{kind:"attribute",type:"string",description:"Sets whether handled exceptions should be logged or not. Can be used to include or reduce verbose.",title:"Log Handled",required:!1,deprecated:!1},logNewException:{kind:"attribute",type:"string",description:"Sets whether new exceptions should be logged or not. Can be used to include or reduce verbose. A new exception is an exception that was thrown while handling a previous exception.",title:"Log New Exception",required:!1,deprecated:!1},logContinued:{kind:"attribute",type:"string",description:"Sets whether continued exceptions should be logged or not. Can be used to include or reduce verbose.",title:"Log Continued",required:!1,deprecated:!1},logExhausted:{kind:"attribute",type:"string",description:"Sets whether exhausted exceptions should be logged or not. Can be used to include or reduce verbose.",title:"Log Exhausted",required:!1,deprecated:!1},logExhaustedMessageHistory:{kind:"attribute",type:"string",description:"Sets whether exhausted exceptions should be logged including message history or not (supports property placeholders). Can be used to include or reduce verbose.",title:"Log Exhausted Message History",required:!1,deprecated:!1},logExhaustedMessageBody:{kind:"attribute",type:"string",description:"Sets whether exhausted message body should be logged including message history or not (supports property placeholders). Can be used to include or reduce verbose. Requires logExhaustedMessageHistory to be enabled.",title:"Log Exhausted Message Body",required:!1,deprecated:!1},disableRedelivery:{kind:"attribute",type:"string",description:"Disables redelivery (same as setting maximum redeliveries to 0)",title:"Disable Redelivery",required:!1,deprecated:!1},delayPattern:{kind:"attribute",type:"string",description:"Sets the delay pattern with delay intervals.",title:"Delay Pattern",required:!1,deprecated:!1},allowRedeliveryWhileStopping:{kind:"attribute",type:"string",description:"Controls whether to allow redelivery while stopping/shutting down a route that uses error handling.",title:"Allow Redelivery While Stopping",required:!1,deprecated:!1},exchangeFormatterRef:{kind:"attribute",type:"string",description:"Sets the reference of the instance of org.apache.camel.spi.ExchangeFormatter to generate the log message from exchange.",title:"Exchange Formatter Ref",required:!1,deprecated:!1}}},redeliveryPolicyProfile:{type:"object",title:"Redelivery Policy Profile",group:"spring,configuration",icon:"generic24.png",description:"Configuration of redelivery policy.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{maximumRedeliveries:{kind:"attribute",type:"string",description:"Sets the maximum number of times a message exchange will be redelivered. Setting a negative value will retry forever.",title:"Maximum Redeliveries",required:!1,deprecated:!1},redeliveryDelay:{kind:"attribute",type:"string",defaultValue:"1000",description:"Sets the maximum redelivery delay. Use -1 if you wish to have no maximum",title:"Redelivery Delay",required:!1,deprecated:!1},asyncDelayedRedelivery:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether asynchronous delayed redelivery is allowed. This is disabled by default. When enabled it allows Camel to schedule a future task for delayed redelivery which prevents current thread from blocking while waiting. Exchange which is transacted will however always use synchronous delayed redelivery because the transaction must execute in the same thread context.",title:"Async Delayed Redelivery",required:!1,deprecated:!1},backOffMultiplier:{kind:"attribute",type:"string",defaultValue:"2",description:"Sets the multiplier used to increase the delay between redeliveries if useExponentialBackOff is enabled",title:"Back Off Multiplier",required:!1,deprecated:!1},useExponentialBackOff:{kind:"attribute",type:"string",defaultValue:"false",description:"Enables/disables exponential backoff using the backOffMultiplier to increase the time between retries",title:"Use Exponential Back Off",required:!1,deprecated:!1},collisionAvoidanceFactor:{kind:"attribute",type:"string",defaultValue:"0.15",description:"Sets the factor used for collision avoidance if enabled via useCollisionAvoidance.",title:"Collision Avoidance Factor",required:!1,deprecated:!1},useCollisionAvoidance:{kind:"attribute",type:"string",defaultValue:"false",description:"Enables/disables collision avoidance which adds some randomization to the backoff timings to reduce contention probability",title:"Use Collision Avoidance",required:!1,deprecated:!1},maximumRedeliveryDelay:{kind:"attribute",type:"string",defaultValue:"60000",description:"Sets the maximum redelivery delay. Use -1 if you wish to have no maximum",title:"Maximum Redelivery Delay",required:!1,deprecated:!1},retriesExhaustedLogLevel:{kind:"attribute",type:"string",defaultValue:"ERROR",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level to use for log messages when retries have been exhausted.",title:"Retries Exhausted Log Level",required:!1,deprecated:!1},retryAttemptedLogLevel:{kind:"attribute",type:"string",defaultValue:"DEBUG",enum:["DEBUG","ERROR","INFO","OFF","TRACE","WARN"],description:"Sets the logging level to use for log messages when retries are attempted.",title:"Retry Attempted Log Level",required:!1,deprecated:!1},logRetryAttempted:{kind:"attribute",type:"string",defaultValue:"true",description:"Sets whether to log retry attempts",title:"Log Retry Attempted",required:!1,deprecated:!1},logStackTrace:{kind:"attribute",type:"string",defaultValue:"true",description:"Sets whether stack traces should be logged or not",title:"Log Stack Trace",required:!1,deprecated:!1},logRetryStackTrace:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether stack traces should be logged or not",title:"Log Retry Stack Trace",required:!1,deprecated:!1},logHandled:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether errors should be logged even if its handled",title:"Log Handled",required:!1,deprecated:!1},logContinued:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether errors should be logged even if its continued",title:"Log Continued",required:!1,deprecated:!1},logExhausted:{kind:"attribute",type:"string",defaultValue:"true",description:"Sets whether exhausted exceptions should be logged or not",title:"Log Exhausted",required:!1,deprecated:!1},logExhaustedMessageHistory:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether to log exhausted errors including message history",title:"Log Exhausted Message History",required:!1,deprecated:!1},disableRedelivery:{kind:"attribute",type:"string",defaultValue:"false",description:"Disables redelivery by setting maximum redeliveries to 0.",title:"Disable Redelivery",required:!1,deprecated:!1},delayPattern:{kind:"attribute",type:"string",description:"Sets an optional delay pattern to use instead of fixed delay.",title:"Delay Pattern",required:!1,deprecated:!1},allowRedeliveryWhileStopping:{kind:"attribute",type:"string",defaultValue:"true",description:"Controls whether to allow redelivery while stopping/shutting down a route that uses error handling.",title:"Allow Redelivery While Stopping",required:!1,deprecated:!1},exchangeFormatterRef:{kind:"attribute",type:"string",description:"Sets the reference of the instance of org.apache.camel.spi.ExchangeFormatter to generate the log message from exchange.",title:"Exchange Formatter Ref",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},removeHeader:{type:"object",title:"Remove Header",group:"eip,transformation",icon:"generic24.png",description:"Removes a named header from the message",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{headerName:{kind:"attribute",type:"string",description:"Name of header to remove",title:"Header Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},removeHeaders:{type:"object",title:"Remove Headers",group:"eip,transformation",icon:"generic24.png",description:"Removes message headers whose name matches a specified pattern",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{pattern:{kind:"attribute",type:"string",description:"Name or pattern of headers to remove",title:"Pattern",required:!0,deprecated:!1},excludePattern:{kind:"attribute",type:"string",description:"Name or patter of headers to not remove",title:"Exclude Pattern",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},removeProperties:{type:"object",title:"Remove Properties",group:"eip,transformation",icon:"generic24.png",description:"Removes message exchange properties whose name matches a specified pattern",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{pattern:{kind:"attribute",type:"string",description:"Name or pattern of properties to remove",title:"Pattern",required:!0,deprecated:!1},excludePattern:{kind:"attribute",type:"string",description:"Name or pattern of properties to not remove",title:"Exclude Pattern",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},removeProperty:{type:"object",title:"Remove Property",group:"eip,transformation",icon:"generic24.png",description:"Removes a named property from the message exchange",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{propertyName:{kind:"attribute",type:"string",description:"Name of property to remove",title:"Property Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},resequence:{type:"object",title:"Resequence",group:"eip,routing",icon:"resequence24.png",description:"Resequences (re-order) messages based on an expression",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression to use for re-ordering the messages such as a header with a sequence number",title:"Expression",required:!0,deprecated:!1},resequencerConfig:{kind:"element",type:"object",description:"To configure the resequencer in using either batch or stream configuration. Will by default use batch configuration.",title:"Resequencer Config",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},ribbonConfiguration:{type:"object",title:"Ribbon Configuration",group:"eip,routing,remote",icon:"generic24.png",description:"Ribbon remote service call configuration",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{component:{kind:"attribute",type:"string",defaultValue:"http",description:"Sets the default Camel component to use for calling the remote service. By default the http component is used. You can configure this to use netty4-http jetty restlet or some other components of choice. If the service is not HTTP protocol you can use other components such as mqtt jms amqp etc. If the service call has been configured using an uri then the component from the uri is used instead of this default component.",title:"Component",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},clientProperty:{kind:"element",type:"array",description:"Set client properties to use. These properties are specific to what service call implementation are in use. For example if using ribbon then the client properties are define in com.netflix.client.config.CommonClientConfigKey.",title:"Client Property",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},rollback:{type:"object",title:"Rollback",group:"eip,routing",icon:"generic24.png",description:"Forces a rollback by stopping routing the message",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{markRollbackOnly:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Mark the transaction for rollback only (cannot be overruled to commit)",title:"Mark Rollback Only",required:!1,deprecated:!1},markRollbackOnlyLast:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Mark only last sub transaction for rollback only. When using sub transactions (if the transaction manager support this)",title:"Mark Rollback Only Last",required:!1,deprecated:!1},message:{kind:"attribute",type:"string",description:"Message to use in rollback exception",title:"Message",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},roundRobin:{type:"object",title:"Round Robin",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Round robin load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},route:{type:"object",title:"Route",group:"configuration",icon:"route24.png",description:"A Camel route",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{group:{kind:"attribute",type:"string",description:"The group that this route belongs to; could be the name of the RouteBuilder class or be explicitly configured in the XML. May be null.",title:"Group",required:!1,deprecated:!1},streamCache:{kind:"attribute",type:"string",description:"Whether stream caching is enabled on this route.",title:"Stream Cache",required:!1,deprecated:!1},trace:{kind:"attribute",type:"string",description:"Whether tracing is enabled on this route.",title:"Trace",required:!1,deprecated:!1},messageHistory:{kind:"attribute",type:"string",defaultValue:"true",description:"Whether message history is enabled on this route.",title:"Message History",required:!1,deprecated:!1},handleFault:{kind:"attribute",type:"string",description:"Whether handle fault is enabled on this route.",title:"Handle Fault",required:!1,deprecated:!1},delayer:{kind:"attribute",type:"string",description:"Whether to slow down processing messages by a given delay in msec.",title:"Delayer",required:!1,deprecated:!1},autoStartup:{kind:"attribute",type:"string",defaultValue:"true",description:"Whether to auto start this route",title:"Auto Startup",required:!1,deprecated:!1},startupOrder:{kind:"attribute",type:"integer",description:"To configure the ordering of the routes being started",title:"Startup Order",required:!1,deprecated:!1},errorHandlerRef:{kind:"attribute",type:"string",description:"Sets the bean ref name of the error handler builder to use on this route",title:"Error Handler Ref",required:!1,deprecated:!1},routePolicyRef:{kind:"attribute",type:"string",description:"Reference to custom org.apache.camel.spi.RoutePolicy to use by the route. Multiple policies can be configured by separating values using comma.",title:"Route Policy Ref",required:!1,deprecated:!1},shutdownRoute:{kind:"attribute",type:"string",enum:["Default","Defer"],description:"To control how to shutdown the route.",title:"Shutdown Route",required:!1,deprecated:!1},shutdownRunningTask:{kind:"attribute",type:"string",enum:["CompleteCurrentTaskOnly","CompleteAllTasks"],description:"To control how to shutdown the route.",title:"Shutdown Running Task",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},routeBuilder:{type:"object",title:"Route Builder",group:"configuration",icon:"generic24.png",description:"To refer to a Java org.apache.camel.builder.RouteBuilder instance to use.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the route builder instance",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},routeContext:{type:"object",title:"Route Context",group:"spring,configuration,routing",icon:"generic24.png",description:"Configuration of routes using XML",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{route:{kind:"element",type:"array",description:"Contains the Camel routes",title:"Route",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},routeContextRef:{type:"object",title:"Route Context Ref",group:"configuration",icon:"generic24.png",description:"To refer to an XML file with routes defined using the xml-dsl",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the routes in the xml dsl",title:"Ref",required:!0,deprecated:!1}}},routes:{type:"object",title:"Routes",group:"configuration",icon:"generic24.png",description:"A series of Camel routes",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{routes:{kind:"element",type:"array",description:"Contains the Camel routes",title:"Routes",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},routingSlip:{type:"object",title:"Routing Slip",group:"eip,endpoint,routing",icon:"routingSlip24.png",description:"Routes a message through a series of steps that are pre-determined (the slip)",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to define the routing slip which defines which endpoints to route the message in a pipeline style. Notice the expression is evaluated once if you want a more dynamic style then the dynamic router eip is a better choice.",title:"Expression",required:!0,deprecated:!1},uriDelimiter:{kind:"attribute",type:"string",defaultValue:",",description:"Sets the uri delimiter to use",title:"Uri Delimiter",required:!1,deprecated:!1},ignoreInvalidEndpoints:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoints",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ProducerCache which is used to cache and reuse producers when using this recipient list when uris are reused.",title:"Cache Size",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},sample:{type:"object",title:"Sample",group:"eip,routing",icon:"generic24.png",description:"Extract a sample of the messages passing through a route",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{samplePeriod:{kind:"attribute",type:"integer",defaultValue:"1",description:"Sets the sample period during which only a single Exchange will pass through.",title:"Sample Period",required:!1,deprecated:!1},messageFrequency:{kind:"attribute",type:"integer",description:"Sets the sample message count which only a single Exchange will pass through after this many received.",title:"Message Frequency",required:!1,deprecated:!1},units:{kind:"attribute",type:"string",defaultValue:"SECONDS",enum:["DAYS","HOURS","MICROSECONDS","MILLISECONDS","MINUTES","NANOSECONDS","SECONDS"],description:"Sets the time units for the sample period defaulting to seconds.",title:"Units",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},script:{type:"object",title:"Script",group:"eip,transformation",icon:"generic24.png",description:"Executes a script from a language which does not change the message body.",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to return the transformed message body (the new message body to use)",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},serviceCall:{type:"object",title:"Service Call",group:"eip,routing",icon:"generic24.png",description:"Remote service call",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{name:{kind:"attribute",type:"string",description:"Sets the name of the service to use",title:"Name",required:!0,deprecated:!1},uri:{kind:"attribute",type:"string",description:"The uri of the endpoint to send to. The uri can be dynamic computed using the org.apache.camel.language.simple.SimpleLanguage expression.",title:"Uri",required:!0,deprecated:!1},pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the optional ExchangePattern used to invoke this endpoint",title:"Pattern",required:!1,deprecated:!1},serviceCallConfiguration:{kind:"element",type:"object",description:"Configures the ServiceCall using the given configuration",title:"Service Call Configuration",required:!1,deprecated:!1},serviceCallConfigurationRef:{kind:"attribute",type:"string",description:"Refers to a ServiceCall configuration to use",title:"Service Call Configuration Ref",required:!1,deprecated:!1},loadBalancerRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallLoadBalancer to use.",title:"Load Balancer Ref",required:!1,deprecated:!1},serverListStrategyRef:{kind:"attribute",type:"string",description:"Sets a reference to a custom org.apache.camel.spi.ServiceCallServerListStrategy to use.",title:"Server List Strategy Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setBody:{type:"object",title:"Set Body",group:"eip,transformation",icon:"setBody24.png",description:"Sets the contents of the message body",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression that returns the new body to use",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setExchangePattern:{type:"object",title:"Set Exchange Pattern",group:"configuration",icon:"generic24.png",description:"Sets the exchange pattern on the message exchange",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the new exchange pattern of the Exchange to be used from this point forward",title:"Pattern",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setFaultBody:{type:"object",title:"Set Fault Body",group:"eip,transformation",icon:"generic24.png",description:"Sets the contents of a fault message's body",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression that returns the new fault body to use",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setHeader:{type:"object",title:"Set Header",group:"eip,transformation",icon:"generic24.png",description:"Sets the value of a message header",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to return the value of the header",title:"Expression",required:!0,deprecated:!1},headerName:{kind:"attribute",type:"string",description:"Name of message header to set a new value The simple language can be used to define a dynamic evaluated header name to be used. Otherwise a constant name will be used.",title:"Header Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setOutHeader:{type:"object",title:"Set Out Header",group:"eip,transformation",icon:"generic24.png",description:"Sets the value of a header on the outbound message",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to return the value of the header",title:"Expression",required:!0,deprecated:!1},headerName:{kind:"attribute",type:"string",description:"Name of message header to set a new value",title:"Header Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},setProperty:{type:"object",title:"Set Property",group:"eip,transformation",icon:"generic24.png",description:"Sets a named property on the message exchange",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to return the value of the message exchange property",title:"Expression",required:!0,deprecated:!1},propertyName:{kind:"attribute",type:"string",description:"Name of exchange property to set a new value. The simple language can be used to define a dynamic evaluated exchange property name to be used. Otherwise a constant name will be used.",title:"Property Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},sort:{type:"object",title:"Sort",group:"eip,routing",icon:"generic24.png",description:"Sorts the contents of the message",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Optional expression to sort by something else than the message body",title:"Expression",required:!0,deprecated:!1},comparatorRef:{kind:"attribute",type:"string",description:"Sets a reference to lookup for the comparator to use for sorting",title:"Comparator Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},split:{type:"object",title:"Split",group:"eip,routing",icon:"split24.png",description:"Splits a single message into many sub-messages.",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression of how to split the message body such as as-is using a tokenizer or using an xpath.",title:"Expression",required:!0,deprecated:!1},parallelProcessing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then processing each splitted messages occurs concurrently. Note the caller thread will still wait until all messages has been fully processed before it continues. Its only processing the sub messages from the splitter which happens concurrently.",title:"Parallel Processing",required:!1,deprecated:!1},strategyRef:{kind:"attribute",type:"string",description:"Sets a reference to the AggregationStrategy to be used to assemble the replies from the splitted messages into a single outgoing message from the Splitter. By default Camel will use the original incoming message to the splitter (leave it unchanged). You can also use a POJO as the AggregationStrategy",title:"Strategy Ref",required:!1,deprecated:!1},strategyMethodName:{kind:"attribute",type:"string",description:"This option can be used to explicit declare the method name to use when using POJOs as the AggregationStrategy.",title:"Strategy Method Name",required:!1,deprecated:!1},strategyMethodAllowNull:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If this option is false then the aggregate method is not used if there was no data to enrich. If this option is true then null values is used as the oldExchange (when no data to enrich) when using POJOs as the AggregationStrategy",title:"Strategy Method Allow Null",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Refers to a custom Thread Pool to be used for parallel processing. Notice if you set this option then parallel processing is automatic implied and you do not have to enable that option as well.",title:"Executor Service Ref",required:!1,deprecated:!1},streaming:{kind:"attribute",type:"boolean",defaultValue:"false",description:"When in streaming mode then the splitter splits the original message on-demand and each splitted message is processed one by one. This reduces memory usage as the splitter do not split all the messages first but then we do not know the total size and therefore the link org.apache.camel.ExchangeSPLIT_SIZE is empty. In non-streaming mode (default) the splitter will split each message first to know the total size and then process each message one by one. This requires to keep all the splitted messages in memory and therefore requires more memory. The total size is provided in the link org.apache.camel.ExchangeSPLIT_SIZE header. The streaming mode also affects the aggregation behavior. If enabled then Camel will process replies out-of-order eg in the order they come back. If disabled Camel will process replies in the same order as the messages was splitted.",title:"Streaming",required:!1,deprecated:!1},stopOnException:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Will now stop further processing if an exception or failure occurred during processing of an org.apache.camel.Exchange and the caused exception will be thrown. Will also stop if processing the exchange failed (has a fault message) or an exception was thrown and handled by the error handler (such as using onException). In all situations the splitter will stop further processing. This is the same behavior as in pipeline which is used by the routing engine. The default behavior is to not stop but continue processing till the end",title:"Stop On Exception",required:!1,deprecated:!1},timeout:{kind:"attribute",type:"integer",defaultValue:"0",description:"Sets a total timeout specified in millis when using parallel processing. If the Splitter hasn't been able to split and process all the sub messages within the given timeframe then the timeout triggers and the Splitter breaks out and continues. Notice if you provide a TimeoutAwareAggregationStrategy then the timeout method is invoked before breaking out. If the timeout is reached with running tasks still remaining certain tasks for which it is difficult for Camel to shut down in a graceful manner may continue to run. So use this option with a bit of care.",title:"Timeout",required:!1,deprecated:!1},onPrepareRef:{kind:"attribute",type:"string",description:"Uses the Processor when preparing the org.apache.camel.Exchange to be send. This can be used to deep-clone messages that should be send or any custom logic needed before the exchange is send.",title:"On Prepare Ref",required:!1,deprecated:!1},shareUnitOfWork:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Shares the org.apache.camel.spi.UnitOfWork with the parent and each of the sub messages. Splitter will by default not share unit of work between the parent exchange and each splitted exchange. This means each splitted exchange has its own individual unit of work.",title:"Share Unit Of Work",required:!1,deprecated:!1},parallelAggregate:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If enabled then the aggregate method on AggregationStrategy can be called concurrently. Notice that this would require the implementation of AggregationStrategy to be implemented as thread-safe. By default this is false meaning that Camel synchronizes the call to the aggregate method. Though in some use-cases this can be used to archive higher performance when the AggregationStrategy is implemented as thread-safe.",title:"Parallel Aggregate",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},sticky:{type:"object",title:"Sticky",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Sticky load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{correlationExpression:{kind:"expression",type:"object",description:"The correlation expression to use to calculate the correlation key",title:"Correlation Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},stop:{type:"object",title:"Stop",group:"eip,routing",icon:"generic24.png",description:"Stops the processing of the current message",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},"stream-config":{type:"object",title:"Stream-config",group:"eip,routing,resequence",icon:"generic24.png",description:"Configures stream-processing resequence eip.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{capacity:{kind:"attribute",type:"integer",defaultValue:"100",description:"Sets the capacity of the resequencer's inbound queue.",title:"Capacity",required:!1,deprecated:!1},timeout:{kind:"attribute",type:"integer",defaultValue:"1000",description:"Sets minimum time to wait for missing elements (messages).",title:"Timeout",required:!1,deprecated:!1},ignoreInvalidExchanges:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore invalid exchanges",title:"Ignore Invalid Exchanges",required:!1,deprecated:!1},comparatorRef:{kind:"attribute",type:"string",description:"To use a custom comparator",title:"Comparator Ref",required:!1,deprecated:!1},rejectOld:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If true throws an exception when messages older than the last delivered message are processed",title:"Reject Old",required:!1,deprecated:!1}}},streamCaching:{type:"object",title:"Stream Caching",group:"spring,configuration",icon:"generic24.png",description:"Stream caching configuration.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{enabled:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether the stream caching is enabled. Notice: This cannot be changed at runtime.",title:"Enabled",required:!1,deprecated:!1},spoolDirectory:{kind:"attribute",type:"string",description:"Sets the spool (temporary) directory to use for overflow and spooling to disk. If no spool directory has been explicit configured then a temporary directory is created in the java.io.tmpdir directory.",title:"Spool Directory",required:!1,deprecated:!1},spoolChiper:{kind:"attribute",type:"string",description:"Sets a chiper name to use when spooling to disk to write with encryption. By default the data is not encrypted.",title:"Spool Chiper",required:!1,deprecated:!1},spoolThreshold:{kind:"attribute",type:"string",description:"Threshold in bytes when overflow to disk is activated. The default threshold is link org.apache.camel.StreamCacheDEFAULT_SPOOL_THRESHOLD bytes (eg 128kb). Use -1 to disable overflow to disk.",title:"Spool Threshold",required:!1,deprecated:!1},spoolUsedHeapMemoryThreshold:{kind:"attribute",type:"string",description:"Sets a percentage (1-99) of used heap memory threshold to activate spooling to disk.",title:"Spool Used Heap Memory Threshold",required:!1,deprecated:!1},spoolUsedHeapMemoryLimit:{kind:"attribute",type:"string",description:"Sets what the upper bounds should be when spoolUsedHeapMemoryThreshold is in use.",title:"Spool Used Heap Memory Limit",required:!1,deprecated:!1},spoolRules:{kind:"attribute",type:"string",description:"Reference to one or more custom org.apache.camel.spi.StreamCachingStrategy.SpoolRule to use. Multiple rules can be separated by comma.",title:"Spool Rules",required:!1,deprecated:!1},bufferSize:{kind:"attribute",type:"string",description:"Sets the buffer size to use when allocating in-memory buffers used for in-memory stream caches. The default size is link org.apache.camel.util.IOHelperDEFAULT_BUFFER_SIZE",title:"Buffer Size",required:!1,deprecated:!1},removeSpoolDirectoryWhenStopping:{kind:"attribute",type:"string",defaultValue:"true",description:"Whether to remove the temporary directory when stopping. This option is default true",title:"Remove Spool Directory When Stopping",required:!1,deprecated:!1},statisticsEnabled:{kind:"attribute",type:"string",description:"Sets whether statistics is enabled.",title:"Statistics Enabled",required:!1,deprecated:!1},anySpoolRules:{kind:"attribute",type:"string",defaultValue:"false",description:"Sets whether if just any of the org.apache.camel.spi.StreamCachingStrategy.SpoolRule rules returns true then shouldSpoolCache(long) returns true. If this option is false then all the org.apache.camel.spi.StreamCachingStrategy.SpoolRule must return true. The default value is false which means that all the rules must return true.",title:"Any Spool Rules",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},template:{type:"object",title:"Template",group:"spring,configuration",icon:"generic24.png",description:"Configures a ProducerTemplate",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{defaultEndpoint:{kind:"attribute",type:"string",description:"Sets the default endpoint URI used by default for sending message exchanges",title:"Default Endpoint",required:!1,deprecated:!1},maximumCacheSize:{kind:"attribute",type:"integer",description:"Sets a custom maximum cache size to use in the backing cache pools.",title:"Maximum Cache Size",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},threadPool:{type:"object",title:"Thread Pool",group:"spring,configuration",icon:"generic24.png",description:"Configuration of thread pools",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{poolSize:{kind:"attribute",type:"string",description:"Sets the core pool size (threads to keep minimum in pool)",title:"Pool Size",required:!0,deprecated:!1},maxPoolSize:{kind:"attribute",type:"string",description:"Sets the maximum pool size",title:"Max Pool Size",required:!1,deprecated:!1},keepAliveTime:{kind:"attribute",type:"string",description:"Sets the keep alive time for inactive threads",title:"Keep Alive Time",required:!1,deprecated:!1},timeUnit:{kind:"attribute",type:"string",defaultValue:"SECONDS",enum:["DAYS","HOURS","MICROSECONDS","MILLISECONDS","MINUTES","NANOSECONDS","SECONDS"],description:"Sets the time unit used for keep alive time",title:"Time Unit",required:!1,deprecated:!1},maxQueueSize:{kind:"attribute",type:"string",description:"Sets the maximum number of tasks in the work queue. Use -1 for an unbounded queue",title:"Max Queue Size",required:!1,deprecated:!1},allowCoreThreadTimeOut:{kind:"attribute",type:"string",description:"Sets whether to allow core threads to timeout",title:"Allow Core Thread Time Out",required:!1,deprecated:!1},rejectedPolicy:{kind:"attribute",type:"string",defaultValue:"CallerRuns",enum:["Abort","CallerRuns","Discard","DiscardOldest"],description:"Sets the handler for tasks which cannot be executed by the thread pool.",title:"Rejected Policy",required:!1,deprecated:!1},threadName:{kind:"attribute",type:"string",description:"To use a custom thread name / pattern",title:"Thread Name",required:!0,deprecated:!1},scheduled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to use a scheduled thread pool",title:"Scheduled",required:!1,deprecated:!1},camelContextId:{kind:"attribute",type:"string",description:"Id of CamelContext to use if there are multiple CamelContexts in the same JVM",title:"Camel Context Id",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},threadPoolProfile:{type:"object",title:"Thread Pool Profile",group:"configuration",icon:"generic24.png",description:"To configure thread pools",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{defaultProfile:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether this profile is the default thread pool profile",title:"Default Profile",required:!1,deprecated:!1},poolSize:{kind:"attribute",type:"string",description:"Sets the core pool size",title:"Pool Size",required:!1,deprecated:!1},maxPoolSize:{kind:"attribute",type:"string",description:"Sets the maximum pool size",title:"Max Pool Size",required:!1,deprecated:!1},keepAliveTime:{kind:"attribute",type:"string",description:"Sets the keep alive time for idle threads in the pool",title:"Keep Alive Time",required:!1,deprecated:!1},timeUnit:{kind:"attribute",type:"string",enum:["DAYS","HOURS","MICROSECONDS","MILLISECONDS","MINUTES","NANOSECONDS","SECONDS"],description:"Sets the time unit to use for keep alive time By default SECONDS is used.",title:"Time Unit",required:!1,deprecated:!1},maxQueueSize:{kind:"attribute",type:"string",description:"Sets the maximum number of tasks in the work queue. Use -1 or Integer.MAX_VALUE for an unbounded queue",title:"Max Queue Size",required:!1,deprecated:!1},allowCoreThreadTimeOut:{kind:"attribute",type:"string",description:"Whether idle core threads is allowed to timeout and therefore can shrink the pool size below the core pool size Is by default false",title:"Allow Core Thread Time Out",required:!1,deprecated:!1},rejectedPolicy:{kind:"attribute",type:"string",enum:["Abort","CallerRuns","Discard","DiscardOldest"],description:"Sets the handler for tasks which cannot be executed by the thread pool.",title:"Rejected Policy",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},threads:{type:"object",title:"Threads",group:"eip,routing",icon:"generic24.png",description:"Specifies that all steps after this node are processed asynchronously",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{executorServiceRef:{kind:"attribute",type:"string",description:"To refer to a custom thread pool or use a thread pool profile (as overlay)",title:"Executor Service Ref",required:!1,deprecated:!1},poolSize:{kind:"attribute",type:"integer",description:"Sets the core pool size",title:"Pool Size",required:!1,deprecated:!1},maxPoolSize:{kind:"attribute",type:"integer",description:"Sets the maximum pool size",title:"Max Pool Size",required:!1,deprecated:!1},keepAliveTime:{kind:"attribute",type:"integer",description:"Sets the keep alive time for idle threads",title:"Keep Alive Time",required:!1,deprecated:!1},timeUnit:{kind:"attribute",type:"string",enum:["DAYS","HOURS","MICROSECONDS","MILLISECONDS","MINUTES","NANOSECONDS","SECONDS"],description:"Sets the keep alive time unit. By default SECONDS is used.",title:"Time Unit",required:!1,deprecated:!1},maxQueueSize:{kind:"attribute",type:"integer",description:"Sets the maximum number of tasks in the work queue. Use -1 or Integer.MAX_VALUE for an unbounded queue",title:"Max Queue Size",required:!1,deprecated:!1},allowCoreThreadTimeOut:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether idle core threads is allowed to timeout and therefore can shrink the pool size below the core pool size Is by default false",title:"Allow Core Thread Time Out",required:!1,deprecated:!1},threadName:{kind:"attribute",type:"string",defaultValue:"Threads",description:"Sets the thread name to use.",title:"Thread Name",required:!1,deprecated:!1},rejectedPolicy:{kind:"attribute",type:"string",enum:["Abort","CallerRuns","Discard","DiscardOldest"],description:"Sets the handler for tasks which cannot be executed by the thread pool.",title:"Rejected Policy",required:!1,deprecated:!1},callerRunsWhenRejected:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not to use as caller runs as fallback when a task is rejected being added to the thread pool (when its full). This is only used as fallback if no rejectedPolicy has been configured or the thread pool has no configured rejection handler. Is by default true",title:"Caller Runs When Rejected",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},throttle:{type:"object",title:"Throttle",group:"eip,routing",icon:"generic24.png",description:"Controls the rate at which messages are passed to the next node in the route",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression to configure the maximum number of messages to throttle per request",title:"Expression",required:!0,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Sets the ExecutorService which could be used by throttle definition",title:"Executor Service Ref",required:!1,deprecated:!1},timePeriodMillis:{kind:"attribute",type:"integer",defaultValue:"1000",description:"Sets the time period during which the maximum request count is valid for",title:"Time Period Millis",required:!1,deprecated:!1},asyncDelayed:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enables asynchronous delay which means the thread will not block while delaying.",title:"Async Delayed",required:!1,deprecated:!1},callerRunsWhenRejected:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the caller should run the task when it was rejected by the thread pool. Is by default true",title:"Caller Runs When Rejected",required:!1,deprecated:!1},rejectExecution:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not throttler throws the ThrottlerRejectedExecutionException when the exchange exceeds the request limit Is by default false",title:"Reject Execution",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},throwException:{type:"object",title:"Throw Exception",group:"error",icon:"generic24.png",description:"Throws an exception",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the exception instance to lookup from the registry to throw",title:"Ref",required:!1,deprecated:!1},message:{kind:"attribute",type:"string",description:"To create a new exception instance and use the given message as caused message (supports simple language)",title:"Message",required:!1,deprecated:!1},exceptionType:{kind:"attribute",type:"string",description:"The class of the exception to create using the message.",title:"Exception Type",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},to:{type:"object",title:"To",group:"eip,endpoint,routing",icon:"endpoint24.png",description:"Sends the message to a static endpoint",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{uri:{kind:"attribute",type:"string",description:"Sets the uri of the endpoint to send to.",title:"Uri",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"Sets the reference of the endpoint to send to.",title:"Ref",required:!1,deprecated:!0},pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the optional ExchangePattern used to invoke this endpoint",title:"Pattern",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},toD:{type:"object",title:"To D",group:"eip,endpoint,routing",icon:"endpoint24.png",description:"Sends the message to a dynamic endpoint",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{uri:{kind:"attribute",type:"string",description:"The uri of the endpoint to send to. The uri can be dynamic computed using the org.apache.camel.language.simple.SimpleLanguage expression.",title:"Uri",required:!0,deprecated:!1},pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the optional ExchangePattern used to invoke this endpoint",title:"Pattern",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ConsumerCache which is used to cache and reuse producers.",title:"Cache Size",required:!1,deprecated:!1},ignoreInvalidEndpoint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoint",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},topic:{type:"object",title:"Topic",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Topic load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},transacted:{type:"object",title:"Transacted",group:"configuration",icon:"transactionalClient24.png",description:"Enables transaction on the route",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Sets a reference to use for lookup the policy in the registry.",title:"Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},transform:{type:"object",title:"Transform",group:"eip,transformation",icon:"transform24.png",description:"Transforms the message body based on an expression",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to return the transformed message body (the new message body to use)",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},unmarshal:{type:"object",title:"Unmarshal",group:"eip,transformation",icon:"unmarshal24.png",description:"Converts the message data received from the wire into a format that Apache Camel processors can consume",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{dataFormatType:{kind:"element",type:"object",description:"The data format to be used",title:"Data Format Type",required:!0,deprecated:!1},ref:{kind:"attribute",type:"string",description:"To refer to a custom data format to use as unmarshaller",title:"Ref",required:!1,deprecated:!0},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},validate:{type:"object",title:"Validate",group:"eip,transformation",icon:"generic24.png",description:"Validates a message based on an expression",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{expression:{kind:"expression",type:"object",description:"Expression to use for validation as a predicate. The expression should return either true or false. If returning false the message is invalid and an exception is thrown.",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},weighted:{type:"object",title:"Weighted",group:"eip,routing,loadbalance",icon:"generic24.png",description:"Weighted load balancer",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{roundRobin:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To enable round robin mode. By default the weighted distribution mode is used. The default value is false.",title:"Round Robin",required:!1,deprecated:!1},distributionRatio:{kind:"attribute",type:"string",description:"The distribution ratio is a delimited String consisting on integer weights separated by delimiters for example 235. The distributionRatio must match the number of endpoints and/or processors specified in the load balancer list.",title:"Distribution Ratio",required:!0,deprecated:!1},distributionRatioDelimiter:{kind:"attribute",type:"string",defaultValue:",",description:"Delimiter used to specify the distribution ratio. The default value is",title:"Distribution Ratio Delimiter",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},when:{type:"object",title:"When",group:"eip,routing",icon:"generic24.png",description:"Triggers a route when an expression evaluates to true",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression used as the predicate to evaluate whether this when should trigger and route the message or not.",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},whenSkipSendToEndpoint:{type:"object",title:"When Skip Send To Endpoint",group:"configuration",icon:"generic24.png",description:"Predicate to determine if the message should be sent or not to the endpoint when using interceptSentToEndpoint.",acceptInput:"true",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{expression:{kind:"expression",type:"object",description:"Expression used as the predicate to evaluate whether the message should be sent or not to the endpoint",title:"Expression",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},wireTap:{type:"object",title:"Wire Tap",group:"eip,endpoint,routing",icon:"wireTap24.png",description:"Routes a copy of a message (or creates a new message) to a secondary destination while continue routing the original message.",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{processorRef:{kind:"attribute",type:"string",description:"Reference to a Processor to use for creating a new body as the message to use for wire tapping",title:"Processor Ref",required:!1,deprecated:!1},body:{kind:"expression",type:"object",description:"Uses the expression for creating a new body as the message to use for wire tapping",title:"Body",required:!1,deprecated:!1},executorServiceRef:{kind:"attribute",type:"string",description:"Uses a custom thread pool",title:"Executor Service Ref",required:!1,deprecated:!1},copy:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Uses a copy of the original exchange",title:"Copy",required:!1,deprecated:!1},onPrepareRef:{kind:"attribute",type:"string",description:"Uses the Processor when preparing the org.apache.camel.Exchange to be send. This can be used to deep-clone messages that should be send or any custom logic needed before the exchange is send.",title:"On Prepare Ref",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"The uri of the endpoint to send to. The uri can be dynamic computed using the org.apache.camel.language.simple.SimpleLanguage expression.",title:"Uri",required:!0,deprecated:!1},pattern:{kind:"attribute",type:"string",enum:["InOnly","InOptionalOut","InOut","OutIn","OutOnly","OutOptionalIn","RobustInOnly","RobustOutOnly"],description:"Sets the optional ExchangePattern used to invoke this endpoint",title:"Pattern",required:!1,deprecated:!1},cacheSize:{kind:"attribute",type:"integer",description:"Sets the maximum size used by the org.apache.camel.impl.ConsumerCache which is used to cache and reuse producers.",title:"Cache Size",required:!1,deprecated:!1},ignoreInvalidEndpoint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Ignore the invalidate endpoint exception when try to create a producer with that endpoint",title:"Ignore Invalid Endpoint",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}}},rests:{delete:{type:"object",title:"Delete",group:"rest",icon:"generic24.png",description:"Rest DELETE command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},get:{type:"object",title:"Get",group:"rest",icon:"generic24.png",description:"Rest GET command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},head:{type:"object",title:"Head",group:"rest",icon:"generic24.png",description:"Rest HEAD command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},options:{type:"object",title:"Options",group:"rest",icon:"generic24.png",description:"Rest OPTIONS command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},param:{type:"object",title:"Param",group:"rest",icon:"generic24.png",description:"To specify the rest operation parameters using Swagger.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{name:{kind:"attribute",type:"string",description:"Sets the Swagger Parameter name.",title:"Name",required:!0,deprecated:!1},type:{kind:"attribute",type:"string",defaultValue:"path",enum:["body","formData","header","path","query"],description:"Sets the Swagger Parameter type.",title:"Type",required:!0,deprecated:!1},defaultValue:{kind:"attribute",type:"string",description:"Sets the Swagger Parameter default value.",title:"Default Value",required:!1,deprecated:!1},required:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Sets the Swagger Parameter required flag.",title:"Required",required:!1,deprecated:!1},collectionFormat:{kind:"attribute",type:"string",defaultValue:"csv",enum:["csv","multi","pipes","ssv","tsv"],description:"Sets the Swagger Parameter collection format.",title:"Collection Format",required:!1,deprecated:!1},arrayType:{kind:"attribute",type:"string",defaultValue:"string",description:"Sets the Swagger Parameter array type. Required if data type is array. Describes the type of items in the array.",title:"Array Type",required:!1,deprecated:!1},dataType:{kind:"attribute",type:"string",defaultValue:"string",description:"Sets the Swagger Parameter data type.",title:"Data Type",required:!1,deprecated:!1},value:{kind:"element",type:"array",description:"Sets the Swagger Parameter list of allowable values (enum).",title:"Value",required:!1,deprecated:!1},access:{kind:"attribute",type:"string",description:"Sets the Swagger Parameter paramAccess flag.",title:"Access",required:!1,deprecated:!1},description:{kind:"attribute",type:"string",description:"Sets the Swagger Parameter description.",title:"Description",required:!1,deprecated:!1}}},patch:{type:"object",title:"Patch",group:"rest",icon:"generic24.png",description:"Rest PATCH command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},post:{type:"object",title:"Post",group:"rest",icon:"generic24.png",description:"Rest POST command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},put:{type:"object",title:"Put",group:"rest",icon:"generic24.png",description:"Rest PUT command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},responseHeader:{type:"object",title:"Response Header",group:"rest",icon:"generic24.png",description:"To specify the rest operation response headers using Swagger.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{name:{kind:"attribute",type:"string",description:"Name of the parameter. This option is mandatory.",title:"Name",required:!0,deprecated:!1},collectionFormat:{kind:"attribute",type:"string",defaultValue:"csv",enum:["csv","multi","pipes","ssv","tsv"],description:"Sets the Swagger Parameter collection format.",title:"Collection Format",required:!1,deprecated:!1},arrayType:{kind:"attribute",type:"string",defaultValue:"string",description:"Sets the Swagger Parameter array type. Required if data type is array. Describes the type of items in the array.",title:"Array Type",required:!1,deprecated:!1},dataType:{kind:"attribute",type:"string",defaultValue:"string",description:"Sets the Swagger header data type.",title:"Data Type",required:!1,deprecated:!1},value:{kind:"element",type:"array",description:"Sets the Swagger Parameter list of allowable values.",title:"Value",required:!1,deprecated:!1},description:{kind:"attribute",type:"string",description:"Description of the parameter.",title:"Description",required:!1,deprecated:!1}}},responseMessage:{type:"object",title:"Response Message",group:"rest",icon:"generic24.png",description:"To specify the rest operation response messages using Swagger.",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{code:{kind:"attribute",type:"string",defaultValue:"200",description:"The response code such as a HTTP status code.",title:"Code",required:!1,deprecated:!1},message:{kind:"attribute",type:"string",description:"The response message (description)",title:"Message",required:!0,deprecated:!1},responseModel:{kind:"attribute",type:"string",description:"The response model",title:"Response Model",required:!1,deprecated:!1},header:{kind:"element",type:"array",description:"Adds a response header",title:"Header",required:!1,deprecated:!1}}},rest:{type:"object",title:"Rest",group:"rest",icon:"generic24.png",description:"Defines a rest service using the rest-dsl",acceptInput:"false",acceptOutput:"true",nextSiblingAddedAsChild:"false",properties:{path:{kind:"attribute",type:"string",description:"Path of the rest service such as /foo",title:"Path",required:!1,deprecated:!1},tag:{kind:"attribute",type:"string",description:"To configure a special tag for the operations within this rest definition.",title:"Tag",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. This option will override what may be configured on a parent level The default value is true.",title:"Api Docs",required:!1,deprecated:!1},verbs:{kind:"element",type:"array",description:"The HTTP verbs this REST service accepts and uses",title:"Verbs",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},restBinding:{type:"object",title:"Rest Binding",group:"rest",icon:"generic24.png",description:"To configure rest binding",acceptInput:"true",acceptOutput:"false",nextSiblingAddedAsChild:"true",properties:{consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"off",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. The default value is off",title:"Binding Mode",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data",title:"Out Type",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do.",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},component:{kind:"attribute",type:"string",description:"Sets the component name that this definition will apply to",title:"Component",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},restConfiguration:{type:"object",title:"Rest Configuration",group:"rest",icon:"generic24.png",description:"To configure rest",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{component:{kind:"attribute",type:"string",description:"The Camel Rest component to use for the REST transport (consumer) such as restlet spark-rest. If no component has been explicit configured then Camel will lookup if there is a Camel component that integrates with the Rest DSL or if a org.apache.camel.spi.RestConsumerFactory is registered in the registry. If either one is found then that is being used.",title:"Component",required:!1,deprecated:!1},apiComponent:{kind:"attribute",type:"string",defaultValue:"swagger",description:"The name of the Camel component to use as the REST API (such as swagger)",title:"Api Component",required:!1,deprecated:!1},producerComponent:{kind:"attribute",type:"string",description:"Sets the name of the Camel component to use as the REST producer",title:"Producer Component",required:!1,deprecated:!1},scheme:{kind:"attribute",type:"string",description:"The scheme to use for exposing the REST service. Usually http or https is supported. The default value is http",title:"Scheme",required:!1,deprecated:!1},host:{kind:"attribute",type:"string",description:"The hostname to use for exposing the REST service.",title:"Host",required:!1,deprecated:!1},port:{kind:"attribute",type:"string",description:"The port number to use for exposing the REST service. Notice if you use servlet component then the port number configured here does not apply as the port number in use is the actual port number the servlet component is using. eg if using Apache Tomcat its the tomcat http port if using Apache Karaf its the HTTP service in Karaf that uses port 8181 by default etc. Though in those situations setting the port number here allows tooling and JMX to know the port number so its recommended to set the port number to the number that the servlet engine uses.",title:"Port",required:!1,deprecated:!1},producerApiDoc:{kind:"attribute",type:"string",description:"Sets the location of the api document (swagger api) the REST producer will use to validate the REST uri and query parameters are valid accordingly to the api document. This requires adding camel-swagger-java to the classpath and any miss configuration will let Camel fail on startup and report the error(s). The location of the api document is loaded from classpath by default but you can use file: or http: to refer to resources to load from file or http url.",title:"Producer Api Doc",required:!1,deprecated:!1},contextPath:{kind:"attribute",type:"string",description:"Sets a leading context-path the REST services will be using. This can be used when using components such as camel-servlet where the deployed web application is deployed using a context-path. Or for components such as camel-jetty or camel-netty4-http that includes a HTTP server.",title:"Context Path",required:!1,deprecated:!1},apiContextPath:{kind:"attribute",type:"string",description:"Sets a leading API context-path the REST API services will be using. This can be used when using components such as camel-servlet where the deployed web application is deployed using a context-path.",title:"Api Context Path",required:!1,deprecated:!1},apiContextRouteId:{kind:"attribute",type:"string",description:"Sets the route id to use for the route that services the REST API. The route will by default use an auto assigned route id.",title:"Api Context Route Id",required:!1,deprecated:!1},apiContextIdPattern:{kind:"attribute",type:"string",description:"Sets an CamelContext id pattern to only allow Rest APIs from rest services within CamelContext's which name matches the pattern. The pattern name refers to the CamelContext name to match on the current CamelContext only. For any other value the pattern uses the rules from link org.apache.camel.util.EndpointHelpermatchPattern(String String)",title:"Api Context Id Pattern",required:!1,deprecated:!1},apiContextListing:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Sets whether listing of all available CamelContext's with REST services in the JVM is enabled. If enabled it allows to discover these contexts if false then only the current CamelContext is in use.",title:"Api Context Listing",required:!1,deprecated:!1},hostNameResolver:{kind:"attribute",type:"string",enum:["allLocalIp","localHostName","localIp"],description:"If no hostname has been explicit configured then this resolver is used to compute the hostname the REST service will be using.",title:"Host Name Resolver",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"off",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. The default value is off",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do.",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},jsonDataFormat:{kind:"attribute",type:"string",description:"Name of specific json data format to use. By default json-jackson will be used. Important: This option is only for setting a custom name of the data format not to refer to an existing data format instance.",title:"Json Data Format",required:!1,deprecated:!1},xmlDataFormat:{kind:"attribute",type:"string",description:"Name of specific XML data format to use. By default jaxb will be used. Important: This option is only for setting a custom name of the data format not to refer to an existing data format instance.",title:"Xml Data Format",required:!1,deprecated:!1},componentProperty:{kind:"element",type:"array",description:"Allows to configure as many additional properties for the rest component in use.",title:"Component Property",required:!1,deprecated:!1},endpointProperty:{kind:"element",type:"array",description:"Allows to configure as many additional properties for the rest endpoint in use.",title:"Endpoint Property",required:!1,deprecated:!1},consumerProperty:{kind:"element",type:"array",description:"Allows to configure as many additional properties for the rest consumer in use.",title:"Consumer Property",required:!1,deprecated:!1},dataFormatProperty:{kind:"element",type:"array",description:"Allows to configure as many additional properties for the data formats in use. For example set property prettyPrint to true to have json outputted in pretty mode. The properties can be prefixed to denote the option is only for either JSON or XML and for either the IN or the OUT. The prefixes are: json.in. json.out. xml.in. xml.out. For example a key with value xml.out.mustBeJAXBElement is only for the XML data format for the outgoing. A key without a prefix is a common key for all situations.",title:"Data Format Property",required:!1,deprecated:!1},apiProperty:{kind:"element",type:"array",description:"Allows to configure as many additional properties for the api documentation (swagger). For example set property api.title to my cool stuff",title:"Api Property",required:!1,deprecated:!1},corsHeaders:{kind:"element",type:"array",description:"Allows to configure custom CORS headers.",title:"Cors Headers",required:!1,deprecated:!1}}},restContext:{type:"object",title:"Rest Context",group:"spring,configuration,rest",icon:"generic24.png",description:"Configuration of REST services using rest-dsl using XML",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{rest:{kind:"element",type:"array",description:"Contains the rest services defined using the rest-dsl",title:"Rest",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},restContextRef:{type:"object",title:"Rest Context Ref",group:"configuration,rest",icon:"generic24.png",description:"To refer to an XML file with rest services defined using the rest-dsl",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the rest-dsl",title:"Ref",required:!0,deprecated:!1}}},restProperty:{type:"object",title:"Rest Property",group:"rest",icon:"generic24.png",description:"A key value pair",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{key:{kind:"attribute",type:"string",description:"Property key",title:"Key",required:!0,deprecated:!1},value:{kind:"attribute",type:"string",description:"Property value",title:"Value",required:!0,deprecated:!1}}},rests:{type:"object",title:"Rests",group:"rest",icon:"generic24.png",description:"A series of rest services defined using the rest-dsl",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{rests:{kind:"element",type:"array",description:"Contains the rest services defined using the rest-dsl",title:"Rests",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}},verb:{type:"object",title:"Verb",group:"rest",icon:"generic24.png",description:"Rest command",acceptInput:"false",acceptOutput:"false",nextSiblingAddedAsChild:"false",properties:{method:{kind:"attribute",type:"string",description:"The HTTP verb such as GET or POST",title:"Method",required:!1,deprecated:!1},uri:{kind:"attribute",type:"string",description:"Uri template of this REST service such as /id.",title:"Uri",required:!1,deprecated:!1},consumes:{kind:"attribute",type:"string",description:"To define the content type what the REST service consumes (accept as input) such as application/xml or application/json. This option will override what may be configured on a parent level",title:"Consumes",required:!1,deprecated:!1},produces:{kind:"attribute",type:"string",description:"To define the content type what the REST service produces (uses for output) such as application/xml or application/json This option will override what may be configured on a parent level",title:"Produces",required:!1,deprecated:!1},bindingMode:{kind:"attribute",type:"string",defaultValue:"auto",enum:["auto","json","json_xml","off","xml"],description:"Sets the binding mode to use. This option will override what may be configured on a parent level The default value is auto",title:"Binding Mode",required:!1,deprecated:!1},skipBindingOnErrorCode:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip binding on output if there is a custom HTTP error code header. This allows to build custom error messages that do not bind to json / xml etc as success messages otherwise will do. This option will override what may be configured on a parent level",title:"Skip Binding On Error Code",required:!1,deprecated:!1},enableCORS:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable CORS headers in the HTTP response. This option will override what may be configured on a parent level The default value is false.",title:"Enable C O R S",required:!1,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from input to POJO for the incoming data This option will override what may be configured on a parent level",title:"Type",required:!1,deprecated:!1},outType:{kind:"attribute",type:"string",description:"Sets the class name to use for binding from POJO to output for the outgoing data This option will override what may be configured on a parent level",title:"Out Type",required:!1,deprecated:!1},toOrRoute:{kind:"element",type:"object",description:"To route from this REST service to a Camel endpoint or an inlined route",title:"To Or Route",required:!0,deprecated:!1},routeId:{kind:"attribute",type:"string",description:"The route id this rest-dsl is using (read-only)",title:"Route Id",required:!1,deprecated:!1},apiDocs:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include or exclude the VerbDefinition in API documentation. The default value is true.",title:"Api Docs",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1},description:{kind:"element",type:"object",description:"Sets the description of this node",title:"Description",required:!1,deprecated:!1}}}},dataformats:{avro:{type:"object",title:"Avro",group:"dataformat,transformation",icon:"generic24.png",description:"Avro data format",properties:{instanceClassName:{kind:"attribute",type:"string",description:"Class name to use for marshal and unmarshalling",title:"Instance Class Name",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},barcode:{type:"object",title:"Barcode",group:"dataformat,transformation",icon:"generic24.png",description:"Barcode data format",properties:{width:{kind:"attribute",type:"integer",description:"Width of the barcode",title:"Width",required:!1,deprecated:!1},height:{kind:"attribute",type:"integer",description:"Height of the barcode",title:"Height",required:!1,deprecated:!1},imageType:{kind:"attribute",type:"string",description:"Image type of the barcode such as png",title:"Image Type",required:!1,deprecated:!1},barcodeFormat:{kind:"attribute",type:"string",description:"Barcode format such as QR-Code",title:"Barcode Format",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},base64:{type:"object",title:"Base64",group:"dataformat,transformation",icon:"generic24.png",description:"Base64 data format",properties:{lineLength:{kind:"attribute",type:"integer",defaultValue:"76",description:"To specific a maximum line length for the encoded data. By default 76 is used.",title:"Line Length",required:!1,deprecated:!1},lineSeparator:{kind:"attribute",type:"string",defaultValue:"\r\n",description:"The line separators to use. By default \r\n is used.",title:"Line Separator",required:!1,deprecated:!1},urlSafe:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Instead of emitting '' and '/' we emit '-' and '_' respectively. urlSafe is only applied to encode operations. Decoding seamlessly handles both modes. Is by default false.",title:"Url Safe",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},beanio:{type:"object",title:"BeanIO",group:"dataformat,transformation,csv",icon:"generic24.png",description:"BeanIO data format",properties:{mapping:{kind:"attribute",type:"string",description:"The BeanIO mapping file. Is by default loaded from the classpath. You can prefix with file: http: or classpath: to denote from where to load the mapping file.",title:"Mapping",required:!0,deprecated:!1},streamName:{kind:"attribute",type:"string",description:"The name of the stream to use.",title:"Stream Name",required:!0,deprecated:!1},ignoreUnidentifiedRecords:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore unidentified records.",title:"Ignore Unidentified Records",required:!1,deprecated:!1},ignoreUnexpectedRecords:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore unexpected records.",title:"Ignore Unexpected Records",required:!1,deprecated:!1},ignoreInvalidRecords:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore invalid records.",title:"Ignore Invalid Records",required:!1,deprecated:!1},encoding:{kind:"attribute",type:"string",description:"The charset to use. Is by default the JVM platform default charset.",title:"Encoding",required:!1,deprecated:!1},beanReaderErrorHandlerType:{kind:"attribute",type:"string",description:"To use a custom org.apache.camel.dataformat.beanio.BeanIOErrorHandler as error handler while parsing. Configure the fully qualified class name of the error handler. Notice the options ignoreUnidentifiedRecords ignoreUnexpectedRecords and ignoreInvalidRecords may not be in use when you use a custom error handler.",title:"Bean Reader Error Handler Type",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},bindy:{type:"object",title:"Bindy",group:"dataformat,transformation,csv",icon:"generic24.png",description:"Bindy data format",properties:{type:{kind:"attribute",type:"string",enum:["Csv","Fixed","KeyValue"],description:"Whether to use csv fixed or key value pairs mode.",title:"Type",required:!0,deprecated:!1},classType:{kind:"attribute",type:"string",description:"Name of model class to use.",title:"Class Type",required:!1,deprecated:!1},locale:{kind:"attribute",type:"string",description:"To configure a default locale to use such as us for united states. To use the JVM platform default locale then use the name default",title:"Locale",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},boon:{type:"object",title:"Boon",group:"dataformat,transformation,json",icon:"generic24.png",description:"Boon data format",properties:{unmarshalTypeName:{kind:"attribute",type:"string",description:"Class name of the java type to use when unarmshalling",title:"Unmarshal Type Name",required:!0,deprecated:!1},useList:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To unarmshal to a List of Map or a List of Pojo.",title:"Use List",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},castor:{type:"object",title:"Castor",group:"dataformat,transformation,xml",icon:"generic24.png",description:"Castor data format",properties:{mappingFile:{kind:"attribute",type:"string",description:"Path to a Castor mapping file to load from the classpath.",title:"Mapping File",required:!1,deprecated:!1},validation:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether validation is turned on or off. Is by default true.",title:"Validation",required:!1,deprecated:!1},encoding:{kind:"attribute",type:"string",defaultValue:"UTF-8",description:"Encoding to use when marshalling an Object to XML. Is by default UTF-8",title:"Encoding",required:!1,deprecated:!1},packages:{kind:"attribute",type:"array",description:"Add additional packages to Castor XmlContext",title:"Packages",required:!1,deprecated:!1},classes:{kind:"attribute",type:"array",description:"Add additional class names to Castor XmlContext",title:"Classes",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},crypto:{type:"object",title:"Crypto (Java Cryptographic Extension)",group:"dataformat,transformation,security",icon:"generic24.png",description:"Crypto data format",properties:{algorithm:{kind:"attribute",type:"string",defaultValue:"DES/CBC/PKCS5Padding",description:"The JCE algorithm name indicating the cryptographic algorithm that will be used. Is by default DES/CBC/PKCS5Padding.",title:"Algorithm",required:!1,deprecated:!1},cryptoProvider:{kind:"attribute",type:"string",description:"The name of the JCE Security Provider that should be used.",title:"Crypto Provider",required:!1,deprecated:!1},keyRef:{kind:"attribute",type:"string",description:"Refers to the secret key to lookup from the register to use.",title:"Key Ref",required:!1,deprecated:!1},initVectorRef:{kind:"attribute",type:"string",description:"Refers to a byte array containing the Initialization Vector that will be used to initialize the Cipher.",title:"Init Vector Ref",required:!1,deprecated:!1},algorithmParameterRef:{kind:"attribute",type:"string",description:"A JCE AlgorithmParameterSpec used to initialize the Cipher. Will lookup the type using the given name as a java.security.spec.AlgorithmParameterSpec type.",title:"Algorithm Parameter Ref",required:!1,deprecated:!1},buffersize:{kind:"attribute",type:"integer",description:"The size of the buffer used in the signature process.",title:"Buffersize",required:!1,deprecated:!1},macAlgorithm:{kind:"attribute",type:"string",defaultValue:"HmacSHA1",description:"The JCE algorithm name indicating the Message Authentication algorithm.",title:"Mac Algorithm",required:!1,deprecated:!1},shouldAppendHMAC:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Flag indicating that a Message Authentication Code should be calculated and appended to the encrypted data.",title:"Should Append H M A C",required:!1,deprecated:!1},inline:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Flag indicating that the configured IV should be inlined into the encrypted data stream. Is by default false.",title:"Inline",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},csv:{type:"object",title:"CSV",group:"dataformat,transformation,csv",icon:"generic24.png",description:"CSV data format",properties:{formatRef:{kind:"attribute",type:"string",description:"The reference format to use it will be updated with the other format options the default value is CSVFormat.DEFAULT",title:"Format Ref",required:!1,deprecated:!1},formatName:{kind:"attribute",type:"string",description:"The name of the format to use the default value is CSVFormat.DEFAULT",title:"Format Name",required:!1,deprecated:!1},commentMarkerDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Disables the comment marker of the reference format.",title:"Comment Marker Disabled",required:!1,deprecated:!1},commentMarker:{kind:"attribute",type:"string",description:"Sets the comment marker of the reference format.",title:"Comment Marker",required:!1,deprecated:!1},delimiter:{kind:"attribute",type:"string",description:"Sets the delimiter to use. The default value is (comma)",title:"Delimiter",required:!1,deprecated:!1},escapeDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Use for disabling using escape character",title:"Escape Disabled",required:!1,deprecated:!1},escape:{kind:"attribute",type:"string",description:"Sets the escape character to use",title:"Escape",required:!1,deprecated:!1},headerDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Use for disabling headers",title:"Header Disabled",required:!1,deprecated:!1},header:{kind:"element",type:"array",description:"To configure the CSV headers",title:"Header",required:!1,deprecated:!1},allowMissingColumnNames:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to allow missing column names.",title:"Allow Missing Column Names",required:!1,deprecated:!1},ignoreEmptyLines:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore empty lines.",title:"Ignore Empty Lines",required:!1,deprecated:!1},ignoreSurroundingSpaces:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore surrounding spaces",title:"Ignore Surrounding Spaces",required:!1,deprecated:!1},nullStringDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Used to disable null strings",title:"Null String Disabled",required:!1,deprecated:!1},nullString:{kind:"attribute",type:"string",description:"Sets the null string",title:"Null String",required:!1,deprecated:!1},quoteDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Used to disable quotes",title:"Quote Disabled",required:!1,deprecated:!1},quote:{kind:"attribute",type:"string",description:"Sets the quote which by default is",title:"Quote",required:!1,deprecated:!1},recordSeparatorDisabled:{kind:"attribute",type:"string",description:"Used for disabling record separator",title:"Record Separator Disabled",required:!1,deprecated:!1},recordSeparator:{kind:"attribute",type:"string",description:"Sets the record separator (aka new line) which by default is \r\n (CRLF)",title:"Record Separator",required:!1,deprecated:!1},skipHeaderRecord:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to skip the header record in the output",title:"Skip Header Record",required:!1,deprecated:!1},quoteMode:{kind:"attribute",type:"string",description:"Sets the quote mode",title:"Quote Mode",required:!1,deprecated:!1},lazyLoad:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce an iterator that reads the lines on the fly or if all the lines must be read at one.",title:"Lazy Load",required:!1,deprecated:!1},useMaps:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce maps for the lines values instead of lists. It requires to have header (either defined or collected).",title:"Use Maps",required:!1,deprecated:!1},recordConverterRef:{kind:"attribute",type:"string",description:"Refers to a custom CsvRecordConverter to lookup from the registry to use.",title:"Record Converter Ref",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},customDataFormat:{type:"object",title:"Custom",group:"dataformat,transformation",icon:"customDataFormat24.png",description:"Custom data format",properties:{ref:{kind:"attribute",type:"string",description:"Reference to the custom org.apache.camel.spi.DataFormat to lookup from the Camel registry.",title:"Ref",required:!0,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},dataFormats:{type:"object",title:"Data formats",group:"dataformat,transformation",icon:"generic24.png",description:"To configure data formats",properties:{dataFormats:{kind:"element",type:"array",description:"A list holding the configured data formats",title:"Data Formats",required:!0,deprecated:!1}}},flatpack:{type:"object",title:"Flatpack",group:"dataformat,transformation,csv",icon:"generic24.png",description:"Flatpack data format",properties:{parserFactoryRef:{kind:"attribute",type:"string",description:"References to a custom parser factory to lookup in the registry",title:"Parser Factory Ref",required:!1,deprecated:!1},definition:{kind:"attribute",type:"string",description:"The flatpack pzmap configuration file. Can be omitted in simpler situations but its preferred to use the pzmap.",title:"Definition",required:!1,deprecated:!1},fixed:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Delimited or fixed. Is by default false = delimited",title:"Fixed",required:!1,deprecated:!1},ignoreFirstRecord:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether the first line is ignored for delimited files (for the column headers). Is by default true.",title:"Ignore First Record",required:!1,deprecated:!1},textQualifier:{kind:"attribute",type:"string",defaultValue:'"',description:'If the text is qualified with a char such as "',title:"Text Qualifier",required:!1,deprecated:!1},delimiter:{kind:"attribute",type:"string",defaultValue:",",description:"The delimiter char (could be ; or similar)",title:"Delimiter",required:!1,deprecated:!1},allowShortLines:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Allows for lines to be shorter than expected and ignores the extra characters",title:"Allow Short Lines",required:!1,deprecated:!1},ignoreExtraColumns:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Allows for lines to be longer than expected and ignores the extra characters.",title:"Ignore Extra Columns",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},gzip:{type:"object",title:"GZip",group:"dataformat,transformation",icon:"generic24.png",description:"GZip compression data format",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},hessian:{type:"object",title:"Hessian",group:"dataformat,transformation",icon:"generic24.png",description:"Hessian data format",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},hl7:{type:"object",title:"HL7",group:"dataformat,transformation,hl7",icon:"generic24.png",description:"HL7 data format",properties:{validate:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to validate the HL7 message Is by default true.",title:"Validate",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},ical:{type:"object",title:"iCal",group:"dataformat,transformation",icon:"generic24.png",description:"iCal data format",properties:{validating:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to validate.",title:"Validating",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},jacksonxml:{type:"object",title:"JacksonXML",group:"dataformat,transformation,xml",icon:"generic24.png",description:"Jackson XML data format",properties:{xmlMapper:{kind:"attribute",type:"string",description:"Lookup and use the existing XmlMapper with the given id.",title:"Xml Mapper",required:!1,deprecated:!1},prettyPrint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To enable pretty printing output nicely formatted. Is by default false.",title:"Pretty Print",required:!1,deprecated:!1},unmarshalTypeName:{kind:"attribute",type:"string",description:"Class name of the java type to use when unarmshalling",title:"Unmarshal Type Name",required:!1,deprecated:!1},jsonView:{kind:"attribute",type:"string",description:"When marshalling a POJO to JSON you might want to exclude certain fields from the JSON output. With Jackson you can use JSON views to accomplish this. This option is to refer to the class which has JsonView annotations",title:"Json View",required:!1,deprecated:!1},include:{kind:"attribute",type:"string",description:"If you want to marshal a pojo to JSON and the pojo has some fields with null values. And you want to skip these null values you can set this option to NOT_NULL",title:"Include",required:!1,deprecated:!1},allowJmsType:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Used for JMS users to allow the JMSType header from the JMS spec to specify a FQN classname to use to unmarshal to.",title:"Allow Jms Type",required:!1,deprecated:!1},collectionTypeName:{kind:"attribute",type:"string",description:"Refers to a custom collection type to lookup in the registry to use. This option should rarely be used but allows to use different collection types than java.util.Collection based as default.",title:"Collection Type Name",required:!1,deprecated:!1},useList:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To unarmshal to a List of Map or a List of Pojo.",title:"Use List",required:!1,deprecated:!1},enableJaxbAnnotationModule:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable the JAXB annotations module when using jackson. When enabled then JAXB annotations can be used by Jackson.",title:"Enable Jaxb Annotation Module",required:!1,deprecated:!1},moduleClassNames:{kind:"attribute",type:"string",description:"To use custom Jackson modules com.fasterxml.jackson.databind.Module specified as a String with FQN class names. Multiple classes can be separated by comma.",title:"Module Class Names",required:!1,deprecated:!1},moduleRefs:{kind:"attribute",type:"string",description:"To use custom Jackson modules referred from the Camel registry. Multiple modules can be separated by comma.",title:"Module Refs",required:!1,deprecated:!1},enableFeatures:{kind:"attribute",type:"string",description:"Set of features to enable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature com.fasterxml.jackson.databind.DeserializationFeature or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma",title:"Enable Features",required:!1,deprecated:!1},disableFeatures:{kind:"attribute",type:"string",description:"Set of features to disable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature com.fasterxml.jackson.databind.DeserializationFeature or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma",title:"Disable Features",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},jaxb:{type:"object",title:"JAXB",group:"dataformat,transformation,xml",icon:"generic24.png",description:"JAXB data format",properties:{contextPath:{kind:"attribute",type:"string",description:"Package name where your JAXB classes are located.",title:"Context Path",required:!0,deprecated:!1},schema:{kind:"attribute",type:"string",description:"To validate against an existing schema. Your can use the prefix classpath: file: or http: to specify how the resource should by resolved. You can separate multiple schema files by using the '' character.",title:"Schema",required:!1,deprecated:!1},prettyPrint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To enable pretty printing output nicely formatted. Is by default false.",title:"Pretty Print",required:!1,deprecated:!1},objectFactory:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to allow using ObjectFactory classes to create the POJO classes during marshalling. This only applies to POJO classes that has not been annotated with JAXB and providing jaxb.index descriptor files.",title:"Object Factory",required:!1,deprecated:!1},ignoreJAXBElement:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to ignore JAXBElement elements - only needed to be set to false in very special use-cases.",title:"Ignore J A X B Element",required:!1,deprecated:!1},mustBeJAXBElement:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether marhsalling must be java objects with JAXB annotations. And if not then it fails. This option can be set to false to relax that such as when the data is already in XML format.",title:"Must Be J A X B Element",required:!1,deprecated:!1},filterNonXmlChars:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To ignore non xml characheters and replace them with an empty space.",title:"Filter Non Xml Chars",required:!1,deprecated:!1},encoding:{kind:"attribute",type:"string",description:"To overrule and use a specific encoding",title:"Encoding",required:!1,deprecated:!1},fragment:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To turn on marshalling XML fragment trees. By default JAXB looks for XmlRootElement annotation on given class to operate on whole XML tree. This is useful but not always - sometimes generated code does not have XmlRootElement annotation sometimes you need unmarshall only part of tree. In that case you can use partial unmarshalling. To enable this behaviours you need set property partClass. Camel will pass this class to JAXB's unmarshaler.",title:"Fragment",required:!1,deprecated:!1},partClass:{kind:"attribute",type:"string",description:"Name of class used for fragment parsing. See more details at the fragment option.",title:"Part Class",required:!1,deprecated:!1},partNamespace:{kind:"attribute",type:"string",description:"XML namespace to use for fragment parsing. See more details at the fragment option.",title:"Part Namespace",required:!1,deprecated:!1},namespacePrefixRef:{kind:"attribute",type:"string",description:"When marshalling using JAXB or SOAP then the JAXB implementation will automatic assign namespace prefixes such as ns2 ns3 ns4 etc. To control this mapping Camel allows you to refer to a map which contains the desired mapping.",title:"Namespace Prefix Ref",required:!1,deprecated:!1},xmlStreamWriterWrapper:{kind:"attribute",type:"string",description:"To use a custom xml stream writer.",title:"Xml Stream Writer Wrapper",required:!1,deprecated:!1},schemaLocation:{kind:"attribute",type:"string",description:"To define the location of the schema",title:"Schema Location",required:!1,deprecated:!1},noNamespaceSchemaLocation:{kind:"attribute",type:"string",description:"To define the location of the namespaceless schema",title:"No Namespace Schema Location",required:!1,deprecated:!1},jaxbProviderProperties:{kind:"attribute",type:"string",description:"Refers to a custom java.util.Map to lookup in the registry containing custom JAXB provider properties to be used with the JAXB marshaller.",title:"Jaxb Provider Properties",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},jibx:{type:"object",title:"JiBX",group:"dataformat,transformation,xml",icon:"generic24.png",description:"JiBX data format",properties:{unmarshallClass:{kind:"attribute",type:"string",description:"Class name to use when unmarshalling from XML to Java.",title:"Unmarshall Class",required:!1,deprecated:!1},bindingName:{kind:"attribute",type:"string",description:"To use a custom binding factory",title:"Binding Name",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},json:{type:"object",title:"JSon",group:"dataformat,transformation,json",icon:"generic24.png",description:"JSon data format",properties:{objectMapper:{kind:"attribute",type:"string",description:"Lookup and use the existing ObjectMapper with the given id when using Jackson.",title:"Object Mapper",required:!1,deprecated:!1},prettyPrint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To enable pretty printing output nicely formatted. Is by default false.",title:"Pretty Print",required:!1,deprecated:!1},library:{kind:"attribute",type:"string",defaultValue:"XStream",enum:["Gson","Jackson","Johnzon","XStream"],description:"Which json library to use.",title:"Library",required:!1,deprecated:!1},unmarshalTypeName:{kind:"attribute",type:"string",description:"Class name of the java type to use when unarmshalling",title:"Unmarshal Type Name",required:!1,deprecated:!1},jsonView:{kind:"attribute",type:"string",description:"When marshalling a POJO to JSON you might want to exclude certain fields from the JSON output. With Jackson you can use JSON views to accomplish this. This option is to refer to the class which has JsonView annotations",title:"Json View",required:!1,deprecated:!1},include:{kind:"attribute",type:"string",description:"If you want to marshal a pojo to JSON and the pojo has some fields with null values. And you want to skip these null values you can set this option to NOT_NULL",title:"Include",required:!1,deprecated:!1},allowJmsType:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Used for JMS users to allow the JMSType header from the JMS spec to specify a FQN classname to use to unmarshal to.",title:"Allow Jms Type",required:!1,deprecated:!1},collectionTypeName:{kind:"attribute",type:"string",description:"Refers to a custom collection type to lookup in the registry to use. This option should rarely be used but allows to use different collection types than java.util.Collection based as default.",title:"Collection Type Name",required:!1,deprecated:!1},useList:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To unarmshal to a List of Map or a List of Pojo.",title:"Use List",required:!1,deprecated:!1},enableJaxbAnnotationModule:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to enable the JAXB annotations module when using jackson. When enabled then JAXB annotations can be used by Jackson.",title:"Enable Jaxb Annotation Module",required:!1,deprecated:!1},moduleClassNames:{kind:"attribute",type:"string",description:"To use custom Jackson modules com.fasterxml.jackson.databind.Module specified as a String with FQN class names. Multiple classes can be separated by comma.",title:"Module Class Names",required:!1,deprecated:!1},moduleRefs:{kind:"attribute",type:"string",description:"To use custom Jackson modules referred from the Camel registry. Multiple modules can be separated by comma.",title:"Module Refs",required:!1,deprecated:!1},enableFeatures:{kind:"attribute",type:"string",description:"Set of features to enable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature com.fasterxml.jackson.databind.DeserializationFeature or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma",title:"Enable Features",required:!1,deprecated:!1},disableFeatures:{kind:"attribute",type:"string",description:"Set of features to disable on the Jackson com.fasterxml.jackson.databind.ObjectMapper. The features should be a name that matches a enum from com.fasterxml.jackson.databind.SerializationFeature com.fasterxml.jackson.databind.DeserializationFeature or com.fasterxml.jackson.databind.MapperFeature Multiple features can be separated by comma",title:"Disable Features",required:!1,deprecated:!1},permissions:{kind:"attribute",type:"string",description:"Adds permissions that controls which Java packages and classes XStream is allowed to use during unmarshal from xml/json to Java beans. A permission must be configured either here or globally using a JVM system property. The permission can be specified in a syntax where a plus sign is allow and minus sign is deny. Wildcards is supported by using . as prefix. For example to allow com.foo and all subpackages then specfy com.foo.. Multiple permissions can be configured separated by comma such as com.foo.-com.foo.bar.MySecretBean. The following default permission is always included: -java.lang.java.util. unless its overridden by specifying a JVM system property with they key org.apache.camel.xstream.permissions.",title:"Permissions",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},lzf:{type:"object",title:"LZF Deflate Compression",group:"dataformat,transformation",icon:"generic24.png",description:"LZF compression data format",properties:{usingParallelCompression:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Enable encoding (compress) using multiple processing cores.",title:"Using Parallel Compression",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},"mime-multipart":{type:"object",title:"MIME Multipart",group:"dataformat,transformation",icon:"generic24.png",description:"MIME Multipart data format",properties:{multipartSubType:{kind:"attribute",type:"string",defaultValue:"mixed",description:"Specify the subtype of the MIME Multipart. Default is mixed.",title:"Multipart Sub Type",required:!1,deprecated:!1},multipartWithoutAttachment:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Defines whether a message without attachment is also marshaled into a MIME Multipart (with only one body part). Default is false.",title:"Multipart Without Attachment",required:!1,deprecated:!1},headersInline:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Defines whether the MIME-Multipart headers are part of the message body (true) or are set as Camel headers (false). Default is false.",title:"Headers Inline",required:!1,deprecated:!1},includeHeaders:{kind:"attribute",type:"string",description:"A regex that defines which Camel headers are also included as MIME headers into the MIME multipart. This will only work if headersInline is set to true. Default is to include no headers",title:"Include Headers",required:!1,deprecated:!1},binaryContent:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Defines whether the content of binary parts in the MIME multipart is binary (true) or Base-64 encoded (false) Default is false.",title:"Binary Content",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},pgp:{type:"object",title:"PGP",group:"dataformat,transformation,security",icon:"generic24.png",description:"PGP data format",properties:{keyUserid:{kind:"attribute",type:"string",description:"The user ID of the key in the PGP keyring used during encryption. Can also be only a part of a user ID. For example if the user ID is Test User then you can use the part Test User or to address the user ID.",title:"Key Userid",required:!1,deprecated:!1},signatureKeyUserid:{kind:"attribute",type:"string",description:"User ID of the key in the PGP keyring used for signing (during encryption) or signature verification (during decryption). During the signature verification process the specified User ID restricts the public keys from the public keyring which can be used for the verification. If no User ID is specified for the signature verficiation then any public key in the public keyring can be used for the verification. Can also be only a part of a user ID. For example if the user ID is Test User then you can use the part Test User or to address the User ID.",title:"Signature Key Userid",required:!1,deprecated:!1},password:{kind:"attribute",type:"string",description:"Password used when opening the private key (not used for encryption).",title:"Password",required:!1,deprecated:!1},signaturePassword:{kind:"attribute",type:"string",description:"Password used when opening the private key used for signing (during encryption).",title:"Signature Password",required:!1,deprecated:!1},keyFileName:{kind:"attribute",type:"string",description:"Filename of the keyring; must be accessible as a classpath resource (but you can specify a location in the file system by using the file: prefix).",title:"Key File Name",required:!1,deprecated:!1},signatureKeyFileName:{kind:"attribute",type:"string",description:"Filename of the keyring to use for signing (during encryption) or for signature verification (during decryption); must be accessible as a classpath resource (but you can specify a location in the file system by using the file: prefix).",title:"Signature Key File Name",required:!1,deprecated:!1},signatureKeyRing:{kind:"attribute",type:"string",description:"Keyring used for signing/verifying as byte array. You can not set the signatureKeyFileName and signatureKeyRing at the same time.",title:"Signature Key Ring",required:!1,deprecated:!1},armored:{kind:"attribute",type:"boolean",defaultValue:"false",description:"This option will cause PGP to base64 encode the encrypted text making it available for copy/paste etc.",title:"Armored",required:!1,deprecated:!1},integrity:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Adds an integrity check/sign into the encryption file. The default value is true.",title:"Integrity",required:!1,deprecated:!1},provider:{kind:"attribute",type:"string",description:"Java Cryptography Extension (JCE) provider default is Bouncy Castle (BC). Alternatively you can use for example the IAIK JCE provider; in this case the provider must be registered beforehand and the Bouncy Castle provider must not be registered beforehand. The Sun JCE provider does not work.",title:"Provider",required:!1,deprecated:!1},algorithm:{kind:"attribute",type:"integer",description:"Symmetric key encryption algorithm; possible values are defined in org.bouncycastle.bcpg.SymmetricKeyAlgorithmTags; for example 2 (= TRIPLE DES) 3 (= CAST5) 4 (= BLOWFISH) 6 (= DES) 7 (= AES_128). Only relevant for encrypting.",title:"Algorithm",required:!1,deprecated:!1},compressionAlgorithm:{kind:"attribute",type:"integer",description:"Compression algorithm; possible values are defined in org.bouncycastle.bcpg.CompressionAlgorithmTags; for example 0 (= UNCOMPRESSED) 1 (= ZIP) 2 (= ZLIB) 3 (= BZIP2). Only relevant for encrypting.",title:"Compression Algorithm",required:!1,deprecated:!1},hashAlgorithm:{kind:"attribute",type:"integer",description:"Signature hash algorithm; possible values are defined in org.bouncycastle.bcpg.HashAlgorithmTags; for example 2 (= SHA1) 8 (= SHA256) 9 (= SHA384) 10 (= SHA512) 11 (=SHA224). Only relevant for signing.",title:"Hash Algorithm",required:!1,deprecated:!1},signatureVerificationOption:{kind:"attribute",type:"string",description:"Controls the behavior for verifying the signature during unmarshaling. There are 4 values possible: optional: The PGP message may or may not contain signatures; if it does contain signatures then a signature verification is executed. required: The PGP message must contain at least one signature; if this is not the case an exception (PGPException) is thrown. A signature verification is executed. ignore: Contained signatures in the PGP message are ignored; no signature verification is executed. no_signature_allowed: The PGP message must not contain a signature; otherwise an exception (PGPException) is thrown.",title:"Signature Verification Option",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},protobuf:{type:"object",title:"Protobuf",group:"dataformat,transformation",icon:"generic24.png",description:"Google protobuf data format",properties:{instanceClass:{kind:"attribute",type:"string",description:"Name of class to use when unarmshalling",title:"Instance Class",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},rss:{type:"object",title:"RSS",group:"dataformat,transformation",icon:"generic24.png",description:"RSS data format",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},secureXML:{type:"object",title:"XML Security",group:"dataformat,transformation,xml,security",icon:"generic24.png",description:"XML-Security data format",properties:{xmlCipherAlgorithm:{kind:"attribute",type:"string",defaultValue:"TRIPLEDES",description:"The cipher algorithm to be used for encryption/decryption of the XML message content. The available choices are: XMLCipher.TRIPLEDES XMLCipher.AES_128 XMLCipher.AES_128_GCM XMLCipher.AES_192 XMLCipher.AES_192_GCM XMLCipher.AES_256 XMLCipher.AES_256_GCM XMLCipher.SEED_128 XMLCipher.CAMELLIA_128 XMLCipher.CAMELLIA_192 XMLCipher.CAMELLIA_256 The default value is MLCipher.TRIPLEDES",title:"Xml Cipher Algorithm",required:!1,deprecated:!1},passPhrase:{kind:"attribute",type:"string",description:"A String used as passPhrase to encrypt/decrypt content. The passPhrase has to be provided. If no passPhrase is specified a default passPhrase is used. The passPhrase needs to be put together in conjunction with the appropriate encryption algorithm. For example using TRIPLEDES the passPhase can be a Only another 24 Byte key",title:"Pass Phrase",required:!1,deprecated:!1},secureTag:{kind:"attribute",type:"string",description:"The XPath reference to the XML Element selected for encryption/decryption. If no tag is specified the entire payload is encrypted/decrypted.",title:"Secure Tag",required:!1,deprecated:!1},secureTagContents:{kind:"attribute",type:"boolean",defaultValue:"false",description:"A boolean value to specify whether the XML Element is to be encrypted or the contents of the XML Element false = Element Level true = Element Content Level",title:"Secure Tag Contents",required:!1,deprecated:!1},keyCipherAlgorithm:{kind:"attribute",type:"string",defaultValue:"RSA_OAEP",description:"The cipher algorithm to be used for encryption/decryption of the asymmetric key. The available choices are: XMLCipher.RSA_v1dot5 XMLCipher.RSA_OAEP XMLCipher.RSA_OAEP_11 The default value is XMLCipher.RSA_OAEP",title:"Key Cipher Algorithm",required:!1,deprecated:!1},recipientKeyAlias:{kind:"attribute",type:"string",description:"The key alias to be used when retrieving the recipient's public or private key from a KeyStore when performing asymmetric key encryption or decryption.",title:"Recipient Key Alias",required:!1,deprecated:!1},keyOrTrustStoreParametersId:{kind:"attribute",type:"string",description:"Refers to a KeyStore instance to lookup in the registry which is used for configuration options for creating and loading a KeyStore instance that represents the sender's trustStore or recipient's keyStore.",title:"Key Or Trust Store Parameters Id",required:!1,deprecated:!1},keyPassword:{kind:"attribute",type:"string",description:"The password to be used for retrieving the private key from the KeyStore. This key is used for asymmetric decryption.",title:"Key Password",required:!1,deprecated:!1},digestAlgorithm:{kind:"attribute",type:"string",defaultValue:"SHA1",description:"The digest algorithm to use with the RSA OAEP algorithm. The available choices are: XMLCipher.SHA1 XMLCipher.SHA256 XMLCipher.SHA512 The default value is XMLCipher.SHA1",title:"Digest Algorithm",required:!1,deprecated:!1},mgfAlgorithm:{kind:"attribute",type:"string",defaultValue:"MGF1_SHA1",description:"The MGF Algorithm to use with the RSA OAEP algorithm. The available choices are: EncryptionConstants.MGF1_SHA1 EncryptionConstants.MGF1_SHA256 EncryptionConstants.MGF1_SHA512 The default value is EncryptionConstants.MGF1_SHA1",title:"Mgf Algorithm",required:!1,deprecated:!1},addKeyValueForEncryptedKey:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to add the public key used to encrypt the session key as a KeyValue in the EncryptedKey structure or not.",title:"Add Key Value For Encrypted Key",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},serialization:{type:"object",title:"Java Object Serialization",group:"dataformat,transformation,core",icon:"generic24.png",description:"Java Object Serialization data format",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},soapjaxb:{type:"object",title:"SOAP",group:"dataformat,transformation,xml",icon:"generic24.png",description:"SOAP data format",properties:{contextPath:{kind:"attribute",type:"string",description:"Package name where your JAXB classes are located.",title:"Context Path",required:!0,deprecated:!1},encoding:{kind:"attribute",type:"string",description:"To overrule and use a specific encoding",title:"Encoding",required:!1,deprecated:!1},elementNameStrategyRef:{kind:"attribute",type:"string",description:"Refers to an element strategy to lookup from the registry. An element name strategy is used for two purposes. The first is to find a xml element name for a given object and soap action when marshaling the object into a SOAP message. The second is to find an Exception class for a given soap fault name. The following three element strategy class name is provided out of the box. QNameStrategy - Uses a fixed qName that is configured on instantiation. Exception lookup is not supported TypeNameStrategy - Uses the name and namespace from the XMLType annotation of the given type. If no namespace is set then package-info is used. Exception lookup is not supported ServiceInterfaceStrategy - Uses information from a webservice interface to determine the type name and to find the exception class for a SOAP fault All three classes is located in the package name org.apache.camel.dataformat.soap.name If you have generated the web service stub code with cxf-codegen or a similar tool then you probably will want to use the ServiceInterfaceStrategy. In the case you have no annotated service interface you should use QNameStrategy or TypeNameStrategy.",title:"Element Name Strategy Ref",required:!1,deprecated:!1},version:{kind:"attribute",type:"string",defaultValue:"1.1",description:"SOAP version should either be 1.1 or 1.2. Is by default 1.1",title:"Version",required:!1,deprecated:!1},namespacePrefixRef:{kind:"attribute",type:"string",description:"When marshalling using JAXB or SOAP then the JAXB implementation will automatic assign namespace prefixes such as ns2 ns3 ns4 etc. To control this mapping Camel allows you to refer to a map which contains the desired mapping.",title:"Namespace Prefix Ref",required:!1,deprecated:!1},schema:{kind:"attribute",type:"string",description:"To validate against an existing schema. Your can use the prefix classpath: file: or http: to specify how the resource should by resolved. You can separate multiple schema files by using the '' character.",title:"Schema",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},string:{type:"object",title:"String Encoding",group:"dataformat,transformation,core",icon:"generic24.png",description:"String (text based) data format",properties:{charset:{kind:"attribute",type:"string",description:"Sets an encoding to use. Will by default use the JVM platform default charset.",title:"Charset",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},syslog:{type:"object",title:"Syslog",group:"dataformat,transformation",icon:"generic24.png",description:"Syslog data format",properties:{id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},tarfile:{type:"object",title:"Tar File",group:"dataformat,transformation,file",icon:"generic24.png",description:"TAR file data format",properties:{usingIterator:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If the tar file has more then one entry the setting this option to true allows to work with the splitter EIP to split the data using an iterator in a streaming mode.",title:"Using Iterator",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},tidyMarkup:{type:"object",title:"TidyMarkup",group:"dataformat,transformation",icon:"generic24.png",description:"Tidymark (wellformed HTML) data format",properties:{dataObjectType:{kind:"attribute",type:"string",defaultValue:"org.w3c.dom.Node",description:"What data type to unmarshal as can either be org.w3c.dom.Node or java.lang.String. Is by default org.w3c.dom.Node",title:"Data Object Type",required:!1,deprecated:!1},omitXmlDeclaration:{kind:"attribute",type:"boolean",defaultValue:"false",description:"When returning a String do we omit the XML declaration in the top.",title:"Omit Xml Declaration",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},"univocity-csv":{type:"object",title:"uniVocity CSV",group:"dataformat,transformation,csv",icon:"generic24.png",description:"UniVocity CSV data format",properties:{quoteAllFields:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not all values must be quoted when writing them.",title:"Quote All Fields",required:!1,deprecated:!1},quote:{kind:"attribute",type:"string",defaultValue:'"',description:"The quote symbol.",title:"Quote",required:!1,deprecated:!1},quoteEscape:{kind:"attribute",type:"string",defaultValue:'"',description:"The quote escape symbol",title:"Quote Escape",required:!1,deprecated:!1},delimiter:{kind:"attribute",type:"string",defaultValue:",",description:"The delimiter of values",title:"Delimiter",required:!1,deprecated:!1},nullValue:{kind:"attribute",type:"string",description:"The string representation of a null value. The default value is null",title:"Null Value",required:!1,deprecated:!1},skipEmptyLines:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the empty lines must be ignored. The default value is true",title:"Skip Empty Lines",required:!1,deprecated:!1},ignoreTrailingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the trailing white spaces must ignored. The default value is true",title:"Ignore Trailing Whitespaces",required:!1,deprecated:!1},ignoreLeadingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the leading white spaces must be ignored. The default value is true",title:"Ignore Leading Whitespaces",required:!1,deprecated:!1},headersDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the headers are disabled. When defined this option explicitly sets the headers as null which indicates that there is no header. The default value is false",title:"Headers Disabled",required:!1,deprecated:!1},headerExtractionEnabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the header must be read in the first line of the test document The default value is false",title:"Header Extraction Enabled",required:!1,deprecated:!1},numberOfRecordsToRead:{kind:"attribute",type:"integer",description:"The maximum number of record to read.",title:"Number Of Records To Read",required:!1,deprecated:!1},emptyValue:{kind:"attribute",type:"string",description:"The String representation of an empty value",title:"Empty Value",required:!1,deprecated:!1},lineSeparator:{kind:"attribute",type:"string",description:"The line separator of the files The default value is to use the JVM platform line separator",title:"Line Separator",required:!1,deprecated:!1},normalizedLineSeparator:{kind:"attribute",type:"string",defaultValue:"\n",description:"The normalized line separator of the files The default value is \n",title:"Normalized Line Separator",required:!1,deprecated:!1},comment:{kind:"attribute",type:"string",defaultValue:"#",description:"The comment symbol. The default value is",title:"Comment",required:!1,deprecated:!1},lazyLoad:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce an iterator that reads the lines on the fly or if all the lines must be read at one. The default value is false",title:"Lazy Load",required:!1,deprecated:!1},asMap:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce maps for the lines values instead of lists. It requires to have header (either defined or collected). The default value is false",title:"As Map",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},"univocity-fixed":{type:"object",title:"uniVocity Fixed Length",group:"dataformat,transformation,csv",icon:"generic24.png",description:"UniVocity fixed-width data format",properties:{skipTrailingCharsUntilNewline:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the trailing characters until new line must be ignored. The default value is false",title:"Skip Trailing Chars Until Newline",required:!1,deprecated:!1},recordEndsOnNewline:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the record ends on new line. The default value is false",title:"Record Ends On Newline",required:!1,deprecated:!1},padding:{kind:"attribute",type:"string",defaultValue:"",description:"The padding character. The default value is a space",title:"Padding",required:!1,deprecated:!1},nullValue:{kind:"attribute",type:"string",description:"The string representation of a null value. The default value is null",title:"Null Value",required:!1,deprecated:!1},skipEmptyLines:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the empty lines must be ignored. The default value is true",title:"Skip Empty Lines",required:!1,deprecated:!1},ignoreTrailingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the trailing white spaces must ignored. The default value is true",title:"Ignore Trailing Whitespaces",required:!1,deprecated:!1},ignoreLeadingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the leading white spaces must be ignored. The default value is true",title:"Ignore Leading Whitespaces",required:!1,deprecated:!1},headersDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the headers are disabled. When defined this option explicitly sets the headers as null which indicates that there is no header. The default value is false",title:"Headers Disabled",required:!1,deprecated:!1},headerExtractionEnabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the header must be read in the first line of the test document The default value is false",title:"Header Extraction Enabled",required:!1,deprecated:!1},numberOfRecordsToRead:{kind:"attribute",type:"integer",description:"The maximum number of record to read.",title:"Number Of Records To Read",required:!1,deprecated:!1},emptyValue:{kind:"attribute",type:"string",description:"The String representation of an empty value",title:"Empty Value",required:!1,deprecated:!1},lineSeparator:{kind:"attribute",type:"string",description:"The line separator of the files The default value is to use the JVM platform line separator",title:"Line Separator",required:!1,deprecated:!1},normalizedLineSeparator:{kind:"attribute",type:"string",defaultValue:"\n",description:"The normalized line separator of the files The default value is \n",title:"Normalized Line Separator",required:!1,deprecated:!1},comment:{kind:"attribute",type:"string",defaultValue:"#",description:"The comment symbol. The default value is",title:"Comment",required:!1,deprecated:!1},lazyLoad:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce an iterator that reads the lines on the fly or if all the lines must be read at one. The default value is false",title:"Lazy Load",required:!1,deprecated:!1},asMap:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce maps for the lines values instead of lists. It requires to have header (either defined or collected). The default value is false",title:"As Map",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},"univocity-header":{type:"object",title:"uniVocity Header",group:"dataformat,transformation,csv",icon:"generic24.png",description:"To configure headers for UniVocity data formats.",properties:{name:{kind:"value",type:"string",description:"Header name",title:"Name",required:!0,deprecated:!1},length:{kind:"attribute",type:"integer",description:"Header length",title:"Length",required:!1,deprecated:!1}}},"univocity-tsv":{type:"object",title:"uniVocity TSV",group:"dataformat,transformation,csv",icon:"generic24.png",description:"UniVocity TSV data format",properties:{escapeChar:{kind:"attribute",type:"string",defaultValue:"\\",description:"The escape character.",title:"Escape Char",required:!1,deprecated:!1},nullValue:{kind:"attribute",type:"string",description:"The string representation of a null value. The default value is null",title:"Null Value",required:!1,deprecated:!1},skipEmptyLines:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the empty lines must be ignored. The default value is true",title:"Skip Empty Lines",required:!1,deprecated:!1},ignoreTrailingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the trailing white spaces must ignored. The default value is true",title:"Ignore Trailing Whitespaces",required:!1,deprecated:!1},ignoreLeadingWhitespaces:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether or not the leading white spaces must be ignored. The default value is true",title:"Ignore Leading Whitespaces",required:!1,deprecated:!1},headersDisabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the headers are disabled. When defined this option explicitly sets the headers as null which indicates that there is no header. The default value is false",title:"Headers Disabled",required:!1,deprecated:!1},headerExtractionEnabled:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether or not the header must be read in the first line of the test document The default value is false",title:"Header Extraction Enabled",required:!1,deprecated:!1},numberOfRecordsToRead:{kind:"attribute",type:"integer",description:"The maximum number of record to read.",title:"Number Of Records To Read",required:!1,deprecated:!1},emptyValue:{kind:"attribute",type:"string",description:"The String representation of an empty value",title:"Empty Value",required:!1,deprecated:!1},lineSeparator:{kind:"attribute",type:"string",description:"The line separator of the files The default value is to use the JVM platform line separator",title:"Line Separator",required:!1,deprecated:!1},normalizedLineSeparator:{kind:"attribute",type:"string",defaultValue:"\n",description:"The normalized line separator of the files The default value is \n",title:"Normalized Line Separator",required:!1,deprecated:!1},comment:{kind:"attribute",type:"string",defaultValue:"#",description:"The comment symbol. The default value is",title:"Comment",required:!1,deprecated:!1},lazyLoad:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce an iterator that reads the lines on the fly or if all the lines must be read at one. The default value is false",title:"Lazy Load",required:!1,deprecated:!1},asMap:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the unmarshalling should produce maps for the lines values instead of lists. It requires to have header (either defined or collected). The default value is false",title:"As Map",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},xmlBeans:{type:"object",title:"XML Beans",group:"dataformat,transformation,xml",icon:"generic24.png",description:"XMLBeans data format",properties:{prettyPrint:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To enable pretty printing output nicely formatted. Is by default false.",title:"Pretty Print",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},xmljson:{type:"object",title:"XML JSon",group:"dataformat,transformation,xml,json",icon:"generic24.png",description:"XML-JSon data format",properties:{encoding:{kind:"attribute",type:"string",description:"Sets the encoding. Used for unmarshalling (JSON to XML conversion).",title:"Encoding",required:!1,deprecated:!1},elementName:{kind:"attribute",type:"string",description:"Specifies the name of the XML elements representing each array element. Used for unmarshalling (JSON to XML conversion).",title:"Element Name",required:!1,deprecated:!1},arrayName:{kind:"attribute",type:"string",description:"Specifies the name of the top-level XML element. Used for unmarshalling (JSON to XML conversion). For example when converting 1 2 3 it will be output by default as 123. By setting this option or rootName you can alter the name of element 'a'.",title:"Array Name",required:!1,deprecated:!1},forceTopLevelObject:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Determines whether the resulting JSON will start off with a top-most element whose name matches the XML root element. Used for marshalling (XML to JSon conversion). If disabled XML string 12 turns into 'x: '1' 'y': '2' . Otherwise it turns into 'a': 'x: '1' 'y': '2' .",title:"Force Top Level Object",required:!1,deprecated:!1},namespaceLenient:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Flag to be tolerant to incomplete namespace prefixes. Used for unmarshalling (JSON to XML conversion). In most cases json-lib automatically changes this flag at runtime to match the processing.",title:"Namespace Lenient",required:!1,deprecated:!1},rootName:{kind:"attribute",type:"string",description:"Specifies the name of the top-level element. Used for unmarshalling (JSON to XML conversion). If not set json-lib will use arrayName or objectName (default value: 'o' at the current time it is not configurable in this data format). If set to 'root' the JSON string 'x': 'value1' 'y' : 'value2' would turn into value1value2 otherwise the 'root' element would be named 'o'.",title:"Root Name",required:!1,deprecated:!1},skipWhitespace:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Determines whether white spaces between XML elements will be regarded as text values or disregarded. Used for marshalling (XML to JSon conversion).",title:"Skip Whitespace",required:!1,deprecated:!1},trimSpaces:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Determines whether leading and trailing white spaces will be omitted from String values. Used for marshalling (XML to JSon conversion).",title:"Trim Spaces",required:!1,deprecated:!1},skipNamespaces:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Signals whether namespaces should be ignored. By default they will be added to the JSON output using xmlns elements. Used for marshalling (XML to JSon conversion).",title:"Skip Namespaces",required:!1,deprecated:!1},removeNamespacePrefixes:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Removes the namespace prefixes from XML qualified elements so that the resulting JSON string does not contain them. Used for marshalling (XML to JSon conversion).",title:"Remove Namespace Prefixes",required:!1,deprecated:!1},expandableProperties:{kind:"attribute",type:"array",description:"With expandable properties JSON array elements are converted to XML as a sequence of repetitive XML elements with the local name equal to the JSON key for example: number: 123 normally converted to: 123 (where e can be modified by setting elementName) would instead translate to 123 if number is set as an expandable property Used for unmarshalling (JSON to XML conversion).",title:"Expandable Properties",required:!1,deprecated:!1},typeHints:{kind:"attribute",type:"string",description:"Adds type hints to the resulting XML to aid conversion back to JSON. Used for unmarshalling (JSON to XML conversion).",title:"Type Hints",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},xmlrpc:{type:"object",title:"XML RPC",group:"dataformat,transformation,xml",icon:"generic24.png",description:"XML-RPC data format",properties:{request:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to marshal/unmarshal request or response Is by default false",title:"Request",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},xstream:{type:"object",title:"XStream",group:"dataformat,transformation,xml,json",icon:"generic24.png",description:"XStream data format",properties:{permissions:{kind:"attribute",type:"string",description:"Adds permissions that controls which Java packages and classes XStream is allowed to use during unmarshal from xml/json to Java beans. A permission must be configured either here or globally using a JVM system property. The permission can be specified in a syntax where a plus sign is allow and minus sign is deny. Wildcards is supported by using . as prefix. For example to allow com.foo and all subpackages then specfy com.foo.. Multiple permissions can be configured separated by comma such as com.foo.-com.foo.bar.MySecretBean. The following default permission is always included: -java.lang.java.util. unless its overridden by specifying a JVM system property with they key org.apache.camel.xstream.permissions.",title:"Permissions",required:!1,deprecated:!1},encoding:{kind:"attribute",type:"string",description:"Sets the encoding to use",title:"Encoding",required:!1,deprecated:!1},driver:{kind:"attribute",type:"string",description:"To use a custom XStream driver. The instance must be of type com.thoughtworks.xstream.io.HierarchicalStreamDriver",title:"Driver",required:!1,deprecated:!1},driverRef:{kind:"attribute",type:"string",description:"To refer to a custom XStream driver to lookup in the registry. The instance must be of type com.thoughtworks.xstream.io.HierarchicalStreamDriver",title:"Driver Ref",required:!1,deprecated:!1},mode:{kind:"attribute",type:"string",description:"Mode for dealing with duplicate references The possible values are: NO_REFERENCES ID_REFERENCES XPATH_RELATIVE_REFERENCES XPATH_ABSOLUTE_REFERENCES SINGLE_NODE_XPATH_RELATIVE_REFERENCES SINGLE_NODE_XPATH_ABSOLUTE_REFERENCES",title:"Mode",required:!1,deprecated:!1},converters:{kind:"element",type:"array",description:"List of class names for using custom XStream converters. The classes must be of type com.thoughtworks.xstream.converters.Converter",title:"Converters",required:!1,deprecated:!1},aliases:{kind:"element",type:"object",description:"Alias a Class to a shorter name to be used in XML elements.",title:"Aliases",required:!1,deprecated:!1},omitFields:{kind:"element",type:"object",description:"Prevents a field from being serialized. To omit a field you must always provide the declaring type and not necessarily the type that is converted.",title:"Omit Fields",required:!1,deprecated:!1},implicitCollections:{kind:"element",type:"object",description:"Adds a default implicit collection which is used for any unmapped XML tag.",title:"Implicit Collections",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},yaml:{type:"object",title:"YAML",group:"dataformat,transformation,yaml",icon:"generic24.png",description:"YAML data format",properties:{library:{kind:"attribute",type:"string",defaultValue:"SnakeYAML",enum:["SnakeYAML"],description:"Which yaml library to use such. Is by default SnakeYAML",title:"Library",required:!1,deprecated:!1},unmarshalTypeName:{kind:"attribute",type:"string",description:"Class name of the java type to use when unarmshalling",title:"Unmarshal Type Name",required:!1,deprecated:!1},constructor:{kind:"attribute",type:"string",description:"BaseConstructor to construct incoming documents.",title:"Constructor",required:!1,deprecated:!1},representer:{kind:"attribute",type:"string",description:"Representer to emit outgoing objects.",title:"Representer",required:!1,deprecated:!1},dumperOptions:{kind:"attribute",type:"string",description:"DumperOptions to configure outgoing objects.",title:"Dumper Options",required:!1,deprecated:!1},resolver:{kind:"attribute",type:"string",description:"Resolver to detect implicit type",title:"Resolver",required:!1,deprecated:!1},useApplicationContextClassLoader:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Use ApplicationContextClassLoader as custom ClassLoader",title:"Use Application Context Class Loader",required:!1,deprecated:!1},prettyFlow:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Force the emitter to produce a pretty YAML document when using the flow style.",title:"Pretty Flow",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},zip:{type:"object",title:"Zip Deflate Compression",group:"dataformat,transformation",icon:"generic24.png",description:"Zip compression data format (not for zip files)",properties:{compressionLevel:{kind:"attribute",type:"integer",defaultValue:"-1",description:"To specify a specific compression between 0-9. -1 is default compression 0 is no compression and 9 is best compression.",title:"Compression Level",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}},zipFile:{type:"object",title:"Zip File",group:"dataformat,transformation,file",icon:"generic24.png",description:"Zip-file data format",properties:{usingIterator:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If the zip file has more then one entry the setting this option to true allows to work with the splitter EIP to split the data using an iterator in a streaming mode.",title:"Using Iterator",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the value of the id property.",title:"Id",required:!1,deprecated:!1}}}},languages:{constant:{type:"object",title:"Constant",group:"language,core",icon:"generic24.png",description:"For expressions and predicates using a constant",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},el:{type:"object",title:"EL",group:"language,script",icon:"generic24.png",description:"For EL expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},exchangeProperty:{type:"object",title:"ExchangeProperty",group:"language,core",icon:"generic24.png",description:"An expression which extracts the named exchange property",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},expression:{type:"object",title:"Expression",group:"language",icon:"generic24.png",description:"A useful base class for an expression",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},groovy:{type:"object",title:"Groovy",group:"language,script",icon:"generic24.png",description:"For Groovy expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},header:{type:"object",title:"Header",group:"language,core",icon:"generic24.png",description:"An expression which extracts the named exchange header",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},javaScript:{type:"object",title:"JavaScript",group:"language,script",icon:"generic24.png",description:"For JavaScript expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},jsonpath:{type:"object",title:"JSonPath",group:"language,json",icon:"generic24.png",description:"For JSonPath expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},resultType:{kind:"attribute",type:"string",description:"Sets the class name of the result type (type from output)",title:"Result Type",required:!1,deprecated:!1},suppressExceptions:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to suppress exceptions such as PathNotFoundException.",title:"Suppress Exceptions",required:!1,deprecated:!1},allowSimple:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to allow in inlined simple exceptions in the json path expression",title:"Allow Simple",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},jxpath:{type:"object",title:"JXPath",group:"language,java",icon:"generic24.png",description:"For JXPath expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},lenient:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Allows to turn lenient on the JXPathContext. When turned on this allows the JXPath expression to evaluate against expressions and message bodies which may be invalid / missing data. This option is by default false",title:"Lenient",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},language:{type:"object",title:"Language",group:"language,core",icon:"generic24.png",description:"Represents a parameterised language expression which can support any language at runtime using the language attribute.",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},language:{kind:"attribute",type:"string",description:"The name of the language to use",title:"Language",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},method:{type:"object",title:"Bean method",group:"language,core,java",icon:"generic24.png",description:"For expressions and predicates using a java bean (aka method call)",properties:{bean:{kind:"attribute",type:"string",description:"Either a reference or a class name of the bean to use",title:"Bean",required:!1,deprecated:!0},ref:{kind:"attribute",type:"string",description:"Reference to bean to lookup in the registry",title:"Ref",required:!1,deprecated:!1},method:{kind:"attribute",type:"string",description:"Name of method to call",title:"Method",required:!1,deprecated:!1},beanType:{kind:"attribute",type:"string",description:"Class name of the bean to use",title:"Bean Type",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},mvel:{type:"object",title:"MVEL",group:"language,java",icon:"generic24.png",description:"For MVEL expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},ognl:{type:"object",title:"OGNL",group:"language,java",icon:"generic24.png",description:"For OGNL expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},php:{type:"object",title:"PHP",group:"language,script",icon:"generic24.png",description:"For PHP expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},python:{type:"object",title:"Python",group:"language,script",icon:"generic24.png",description:"For Python expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},ref:{type:"object",title:"Ref",group:"language,core",icon:"generic24.png",description:"For using a custom expression",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},ruby:{type:"object",title:"Ruby",group:"language,script",icon:"generic24.png",description:"For Ruby expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},simple:{type:"object",title:"Simple",group:"language,core,java",icon:"generic24.png",description:"For expressions and predicates using the simple language",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},resultType:{kind:"attribute",type:"string",description:"Sets the class name of the result type (type from output)",title:"Result Type",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},spel:{type:"object",title:"SpEL",group:"language,spring",icon:"generic24.png",description:"For Spring Expression Language (SpEL) expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},sql:{type:"object",title:"SQL",group:"language",icon:"generic24.png",description:"For SQL expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},terser:{type:"object",title:"HL7 Terser",group:"language,hl7",icon:"generic24.png",description:"For HL7 terser expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},tokenize:{type:"object",title:"Tokenize",group:"language,core",icon:"generic24.png",description:"For expressions and predicates using a body or header tokenizer",properties:{token:{kind:"attribute",type:"string",description:"The (start) token to use as tokenizer for example \n for a new line token. You can use simple language as the token to support dynamic tokens.",title:"Token",required:!0,deprecated:!1},endToken:{kind:"attribute",type:"string",description:"The end token to use as tokenizer if using start/end token pairs. You can use simple language as the token to support dynamic tokens.",title:"End Token",required:!1,deprecated:!1},inheritNamespaceTagName:{kind:"attribute",type:"string",description:"To inherit namespaces from a root/parent tag name when using XML You can use simple language as the tag name to support dynamic names.",title:"Inherit Namespace Tag Name",required:!1,deprecated:!1},headerName:{kind:"attribute",type:"string",description:"Name of header to tokenize instead of using the message body.",title:"Header Name",required:!1,deprecated:!1},regex:{kind:"attribute",type:"boolean",defaultValue:"false",description:"If the token is a regular expression pattern. The default value is false",title:"Regex",required:!1,deprecated:!1},xml:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether the input is XML messages. This option must be set to true if working with XML payloads.",title:"Xml",required:!1,deprecated:!1},includeTokens:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to include the tokens in the parts when using pairs The default value is false",title:"Include Tokens",required:!1,deprecated:!1},group:{kind:"attribute",type:"integer",description:"To group N parts together for example to split big files into chunks of 1000 lines.",title:"Group",required:!1,deprecated:!1},skipFirst:{kind:"attribute",type:"boolean",defaultValue:"false",description:"To skip the very first element",title:"Skip First",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},xpath:{type:"object",title:"XPath",group:"language,core,xml",icon:"generic24.png",description:"For XPath expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},documentType:{kind:"attribute",type:"string",description:"Name of class for document type The default value is org.w3c.dom.Document",title:"Document Type",required:!1,deprecated:!1},resultType:{kind:"attribute",type:"string",description:"Sets the class name of the result type (type from output) The default result type is NodeSet",title:"Result Type",required:!1,deprecated:!1},saxon:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to use Saxon.",title:"Saxon",required:!1,deprecated:!1},factoryRef:{kind:"attribute",type:"string",description:"References to a custom XPathFactory to lookup in the registry",title:"Factory Ref",required:!1,deprecated:!1},objectModel:{kind:"attribute",type:"string",description:"The XPath object model to use",title:"Object Model",required:!1,deprecated:!1},logNamespaces:{kind:"attribute",type:"boolean",defaultValue:"false",description:"Whether to log namespaces which can assist during trouble shooting",title:"Log Namespaces",required:!1,deprecated:!1},headerName:{kind:"attribute",type:"string",description:"Name of header to use as input instead of the message body",title:"Header Name",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},xquery:{type:"object",title:"XQuery",group:"language,xml",icon:"generic24.png",description:"For XQuery expressions and predicates",properties:{expression:{kind:"value",type:"string",description:"The expression value in your chosen language syntax",title:"Expression",required:!0,deprecated:!1},type:{kind:"attribute",type:"string",description:"Sets the class name of the result type (type from output) The default result type is NodeSet",title:"Type",required:!1,deprecated:!1},headerName:{kind:"attribute",type:"string",description:"Name of header to use as input instead of the message body",title:"Header Name",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}},xtokenize:{type:"object",title:"XML Tokenize",group:"language,core,xml",icon:"generic24.png",description:"For expressions and predicates using a body or header tokenizer",properties:{headerName:{kind:"attribute",type:"string",description:"Name of header to tokenize instead of using the message body.",title:"Header Name",required:!1,deprecated:!1},mode:{kind:"attribute",type:"string",description:"The extraction mode. The available extraction modes are: i - injecting the contextual namespace bindings into the extracted token (default) w - wrapping the extracted token in its ancestor context u - unwrapping the extracted token to its child content t - extracting the text content of the specified element",title:"Mode",required:!1,deprecated:!1},group:{kind:"attribute",type:"integer",description:"To group N parts together",title:"Group",required:!1,deprecated:!1},trim:{kind:"attribute",type:"boolean",defaultValue:"true",description:"Whether to trim the value to remove leading and trailing whitespaces and line breaks",title:"Trim",required:!1,deprecated:!1},id:{kind:"attribute",type:"string",description:"Sets the id of this node",title:"Id",required:!1,deprecated:!1}}}}},ActiveMQ,ActiveMQ,ActiveMQ,ActiveMQ,ActiveMQ,ActiveMQ,ActiveMQ,ActiveMQ,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Camel,Osgi,Osgi,Karaf,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Osgi,Karaf,Karaf,Karaf,Karaf,Karaf,Karaf,Karaf,templateCache,HawtioExtensionService,HawtioPreferences,HawtioPreferences,HawtioPreferences,HawtioPreferences,HawtioPreferences,HawtioPreferences,ARTEMIS;!function(e){e.pluginName="activemq",e.log=Logger.get("activemq"),e.jmxDomain="org.apache.activemq",e.getSelectionQueuesFolder=function(e){var t=e.selection;return t?function e(t){if(t){if("Queues"===t.title||"Queue"===t.title)return t;var n=t.parent;if(n)return e(n)}return null}(t):null},e.getSelectionTopicsFolder=function(e){var t,n,i=e.selection;return i?(n=null,(t=i)&&("Topics"!==t.title&&"Topic"!==t.title||(n=t),null===n&&angular.forEach(t.children,function(e){"Topics"!==e.title&&"Topic"!==e.title||(n=e)})),n):null},e.selectCurrentMessage=function(e,t,n){"selectAll"in n.gridOptions?n.gridOptions.selectAll(!1):n.gridOptions.selectedItems.length=0;var i=Core.pathGet(e,["rowIndex"])||Core.pathGet(e,["index"]),r=Core.pathGet(e,["entity",t]);n.rowIndex=i;var o=n.gridOptions.selectedItems;o.splice(0,o.length),0<=i&&i<n.messages.length?(n.row=_.find(n.messages,function(e){return e[t]===r}),n.row&&o.push(n.row)):n.row=null},e.decorate=function(n,i){void 0===i&&(i=null),n.selectRowIndex=function(e){n.rowIndex=e;var t=n.gridOptions.selectedItems;t.splice(0,t.length),0<=e&&e<n.messages.length?(n.row=n.messages[e],n.row&&t.push(n.row)):n.row=null,i&&i.apply()},n.$watch("showMessageDetails",function(){n.showMessageDetails||(n.row=null,n.gridOptions.selectedItems.splice(0,n.gridOptions.selectedItems.length))})}}(ActiveMQ||(ActiveMQ={})),function(d){function h(e){var t=null,n=e.selection;return n&&(t=n.findAncestor(function(e){var t=e.entries;return!!t&&("type"in t&&"Broker"===t.type&&"brokerName"in t&&!("destinationName"in t)&&!("destinationType"in t))})),t}function p(e){return e.hasDomainAndProperties(d.jmxDomain,{destinationType:"Queue"},4)||e.selectionHasDomainAndType(d.jmxDomain,"Queue")}function f(e){return e.hasDomainAndProperties(d.jmxDomain,{destinationType:"Topic"},4)||e.selectionHasDomainAndType(d.jmxDomain,"Topic")}function g(e){return e.selectionHasDomainAndLastFolderName(d.jmxDomain,"Queue")}function m(e){return e.selectionHasDomainAndLastFolderName(d.jmxDomain,"Topic")}function v(e){return e.hasDomainAndProperties(d.jmxDomain,{service:"JobScheduler"},4)}function y(e){if(e.selectionHasDomainAndType(d.jmxDomain,"Broker")){var t=Core.pathGet(e,["selection"]),n=Core.pathGet(e,["selection","parent"]);return!(n&&(n.ancestorHasType("Broker")||t.ancestorHasType("Broker")))}return!1}d._module=angular.module(d.pluginName,[]),d._module.config(["$routeProvider",function(e){e.when("/activemq/browseQueue",{templateUrl:"plugins/activemq/html/browseQueue.html"}).when("/activemq/createDestination",{templateUrl:"plugins/activemq/html/createDestination.html"}).when("/activemq/deleteQueue",{templateUrl:"plugins/activemq/html/deleteQueue.html"}).when("/activemq/deleteTopic",{templateUrl:"plugins/activemq/html/deleteTopic.html"}).when("/activemq/sendMessage",{templateUrl:"plugins/camel/html/sendMessage.html"}).when("/activemq/durableSubscribers",{templateUrl:"plugins/activemq/html/durableSubscribers.html"}).when("/activemq/jobs",{templateUrl:"plugins/activemq/html/jobs.html"})}]),d._module.run(["HawtioNav","$location","workspace","viewRegistry","helpRegistry","preferencesRegistry","$templateCache","documentBase",function(e,t,r,n,i,o,a,s){n['{ "main-tab": "activemq" }']="plugins/activemq/html/layoutActiveMQTree.html",i.addUserDoc("activemq","plugins/activemq/doc/help.md",function(){return r.treeContainsDomainAndProperties("org.apache.activemq")}),o.addTab("ActiveMQ","plugins/activemq/html/preferences.html",function(){return r.treeContainsDomainAndProperties("org.apache.activemq")}),r.addTreePostProcessor(function(e){var t=e.get("org.apache.activemq");(function t(e){if(e){var n=e.parent,i=e.entries;if(n&&!n.typeName&&i){var r=i.endpoint;"Consumer"!==r&&"Producer"!==r||(n.typeName=r);var o=i.connectorName;o&&!e.icon&&(e.icon=UrlHelpers.join(s,"/img/icons/activemq/connector.png"))}angular.forEach(e.children,function(e){return t(e)})}})(t),t&&angular.forEach(t.children,function(e){angular.forEach(e.children,function(e){var i=e.children;if(i){angular.forEach(["Topic","Queue"],function(e){var t=_.findIndex(i,{title:e});if(0<t){var n=i[t];i.splice(t,1),i.splice(0,0,n)}})}})})});var l=r.attributeColumnDefs;l[d.jmxDomain+"/Broker/folder"]=[{field:"BrokerName",displayName:"Name",width:"**"},{field:"TotalProducerCount",displayName:"Producer"},{field:"TotalConsumerCount",displayName:"Consumer"},{field:"StorePercentUsage",displayName:"Store %"},{field:"TempPercentUsage",displayName:"Temp %"},{field:"MemoryPercentUsage",displayName:"Memory %"},{field:"TotalEnqueueCount",displayName:"Enqueue"},{field:"TotalDequeueCount",displayName:"Dequeue"}],l[d.jmxDomain+"/Queue/folder"]=[{field:"Name",displayName:"Name",width:"***"},{field:"QueueSize",displayName:"Queue Size"},{field:"ProducerCount",displayName:"Producer"},{field:"ConsumerCount",displayName:"Consumer"},{field:"EnqueueCount",displayName:"Enqueue"},{field:"DequeueCount",displayName:"Dequeue"},{field:"MemoryPercentUsage",displayName:"Memory %"},{field:"DispatchCount",displayName:"Dispatch",visible:!1}],l[d.jmxDomain+"/Topic/folder"]=[{field:"Name",displayName:"Name",width:"****"},{field:"ProducerCount",displayName:"Producer"},{field:"ConsumerCount",displayName:"Consumer"},{field:"EnqueueCount",displayName:"Enqueue"},{field:"DequeueCount",displayName:"Dequeue"},{field:"MemoryPercentUsage",displayName:"Memory %"},{field:"DispatchCount",displayName:"Dispatch",visible:!1}],l[d.jmxDomain+"/Consumer/folder"]=[{field:"ConnectionId",displayName:"Name",width:"**"},{field:"PrefetchSize",displayName:"Prefetch Size"},{field:"Priority",displayName:"Priority"},{field:"DispatchedQueueSize",displayName:"Dispatched Queue #"},{field:"SlowConsumer",displayName:"Slow ?"},{field:"Retroactive",displayName:"Retroactive"},{field:"Selector",displayName:"Selector"}],l[d.jmxDomain+"/networkConnectors/folder"]=[{field:"Name",displayName:"Name",width:"**"},{field:"UserName",displayName:"User Name"},{field:"PrefetchSize",displayName:"Prefetch Size"},{field:"ConduitSubscriptions",displayName:"Conduit Subscriptions?"},{field:"Duplex",displayName:"Duplex"},{field:"DynamicOnly",displayName:"Dynamic Only"}],l[d.jmxDomain+"/PersistenceAdapter/folder"]=[{field:"IndexDirectory",displayName:"Index Directory",width:"**"},{field:"LogDirectory",displayName:"Log Directory",width:"**"}];var c=e.builder(),u=c.id("activemq").title(function(){return"ActiveMQ"}).defaultPage({rank:15,isValid:function(t,n){var i="ActiveMQDefaultPage";r.addNamedTreePostProcessor(i,function(e){r.removeNamedTreePostProcessor(i),r.treeContainsDomainAndProperties(d.jmxDomain)?t():n()})}}).href(function(){return"/jmx/attributes"}).isValid(function(){return r.treeContainsDomainAndProperties(d.jmxDomain)}).build();u.tabs=Jmx.getNavItems(c,r,a,"activemq"),u.tabs.push({id:"activemq-browse",title:function(){return'<i class="fa fa-envelope"></i> Browse'},tooltip:function(){return"Browse the messages on the queue"},show:function(){return p(r)&&r.hasInvokeRights(r.selection,"browse()")},href:function(){return"/activemq/browseQueue"+r.hash()}}),u.tabs.push({id:"activemq-send",title:function(){return'<i class="fa fa-pencil"></i> Send'},tooltip:function(){return"Send a message to this destination"},show:function(){return(p(r)||f(r))&&r.hasInvokeRights(r.selection,"sendTextMessage(java.util.Map,java.lang.String,java.lang.String,java.lang.String)")},href:function(){return"/activemq/sendMessage"+r.hash()}}),u.tabs.push({id:"activemq-durable-subscribers",title:function(){return'<i class="fa fa-list"></i> Durable Subscribers'},tooltip:function(){return"Manage durable subscribers"},show:function(){return y(r)},href:function(){return"/activemq/durableSubscribers"+r.hash()}}),u.tabs.push({id:"activemq-jobs",title:function(){return'<i class="fa fa-list"></i> Jobs'},tooltip:function(){return"Manage jobs"},show:function(){return v(r)},href:function(){return"/activemq/jobs"+r.hash()}}),u.tabs.push({id:"activemq-create-destination",title:function(){return'<i class="fa fa-plus"></i> Create'},tooltip:function(){return"Create a new destination"},show:function(){return(y(r)||g(r)||m(r)||p(r)||f(r))&&r.hasInvokeRights(h(r),"addQueue","addTopic")},href:function(){return"/activemq/createDestination"+r.hash()}}),u.tabs.push({id:"activemq-delete-topic",title:function(){return'<i class="fa fa-remove"></i> Delete'},tooltip:function(){return"Delete this topic"},show:function(){return f(r)&&r.hasInvokeRights(h(r),"removeTopic")},href:function(){return"/activemq/deleteTopic"+r.hash()}}),u.tabs.push({id:"activemq-delete-queue",title:function(){return'<i class="fa fa-remove"></i> Delete'},tooltip:function(){return"Delete or purge this queue"},show:function(){return p(r)&&r.hasInvokeRights(h(r),"removeQueue")},href:function(){return"/activemq/deleteQueue"+r.hash()}}),e.add(u)}]),hawtioPluginLoader.addModule(d.pluginName),d.getBroker=h,d.isQueue=p,d.isTopic=f,d.isQueuesFolder=g,d.isTopicsFolder=m,d.isJobScheduler=v,d.isBroker=y}(ActiveMQ||(ActiveMQ={})),function(b){b.BrowseQueueController=b._module.controller("ActiveMQ.BrowseQueueController",["$scope","workspace","jolokia","localStorage","$location","activeMQMessage","$timeout","$dialog","$templateCache",function(i,n,s,c,r,o,e,l,u){i.searchText="",i.workspace=n,i.allMessages=[],i.messages=[],i.headers={},i.mode="text",i.gridOptions={selectedItems:[],data:"messages",displayFooter:!1,showFilter:!1,showColumnMenu:!0,enableColumnResize:!0,enableColumnReordering:!0,enableHighlighting:!0,filterOptions:{filterText:"",useExternalFilter:!0},selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,maintainColumnRatios:!1,columnDefs:[{field:"JMSMessageID",displayName:"Message ID",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.openMessageDialog(row)">{{row.entity.JMSMessageID}}</a></div>',width:"34%"},{field:"JMSType",displayName:"Type",width:"10%"},{field:"JMSPriority",displayName:"Priority",width:"7%"},{field:"JMSTimestamp",displayName:"Timestamp",width:"19%"},{field:"JMSExpiration",displayName:"Expires",width:"10%"},{field:"JMSReplyTo",displayName:"Reply To",width:"10%"},{field:"JMSCorrelationID",displayName:"Correlation ID",width:"10%"}],primaryKeyFn:function(e){return e.JMSMessageID}},i.showMessageDetails=!1;var f=["PropertiesText","BodyPreview","Text","openMessageDialog"],g=["BooleanProperties","ByteProperties","ShortProperties","IntProperties","LongProperties","FloatProperties","DoubleProperties","StringProperties"];function a(e){var t=e.value;angular.isArray(t)?i.allMessages=t:(i.allMessages=[],angular.forEach(t,function(e,t){i.allMessages.push(e)})),angular.forEach(i.allMessages,function(e){e.openMessageDialog=i.openMessageDialog,e.headerHtml=function(e){var n=(a=e,s={},angular.forEach(a,function(e,t){_.some(f,function(e){return e===t})||_.some(g,function(e){return e===t})||(s[_.escape(t)]=_.escape(e))}),s),i=(r=e,o={},angular.forEach(r,function(e,n){!_.some(f,function(e){return e===n})&&_.some(g,function(e){return e===n})&&angular.forEach(e,function(e,t){o['<span class="green">'+n.replace("Properties"," Property")+"</span> - "+_.escape(t)]=_.escape(e)})}),o),t=_.keys(n);var r,o;var a,s;function l(e,t){return t<e?1:e<t?-1:0}var c=_.keys(i).sort(l),u=_.filter(t,function(e){return _.startsWith(e,"JMS")}).sort(l),d=_.difference(t,u.concat(c)).sort(l),h=[];function p(e){var t=n[e];null===t&&(t=""),h.push('<tr><td class="propertyName"><span class="green">Header</span> - '+e+'</td><td class="property-value">'+t+"</td></tr>")}return u.forEach(p),d.forEach(p),c.forEach(function(e){var t=i[e];null===t&&(t=""),h.push('<tr><td class="propertyName">'+e+'</td><td class="property-value">'+t+"</td></tr>")}),h.join("\n")}(e),e.bodyText=function(e){{if(e.Text){var t=e.Text,n=""+t.length;return e.textMode="text ("+n+" chars)",t}if(e.BodyPreview){var i=Core.parseIntValue(c.activemqBrowseBytesMessages||"1","browse bytes messages");if(e.textMode="bytes (turned off)",99!=i){var r=[],o=[];e.BodyPreview.forEach(function(e){if(1!==i&&2!==i||o.push(String.fromCharCode(e)),1===i||4===i){var t=e.toString(16);1===t.length&&(t="0"+t),r.push(t)}else{var t=e.toString(10);r.push(t)}});var a=r.join(" "),s=o.join("");if(1===i||2===i){var l=e.BodyPreview.length,n=""+o.length;t="bytes:\n"+a+"\n\ntext:\n"+s,e.textMode="bytes ("+l+" bytes) and text ("+n+" chars)"}else{var l=e.BodyPreview.length;t=a,e.textMode="bytes ("+l+" bytes)"}}return t}return e.textMode="unsupported","Unsupported message body type which cannot be displayed by hawtio"}}(e)}),v(i.gridOptions.filterOptions.filterText),Core.$apply(i)}function t(){var e;if(n.selection)e=n.selection.objectName;else{var t=r.search().nid;e=n.keyToNodeMap[t].objectName}e&&(i.dlq=!1,s.getAttribute(e,"DLQ",Core.onSuccess(d,{silent:!0})),s.request({type:"exec",mbean:e,operation:"browse()"},Core.onSuccess(a)))}function d(e){i.dlq=e,Core.$apply(i)}function h(){}function p(){i.gridOptions.selectedItems.splice(0),Core.notification("success",i.message),setTimeout(t,50)}function m(){p(),n.loadTree()}function v(e){var t,n=function(e){var t,n=[];if(!(t=$.trim(e)))return;for(var i=t.split(";"),r=0;r<i.length;r++){var o=i[r].split(":");if(1<o.length){var a=$.trim(o[0]),s=$.trim(o[1]);a&&s&&n.push({column:a,columnDisplay:a.replace(/\s+/g,"").toLowerCase(),regex:y(s,"i")})}else{var l=$.trim(o[0]);l&&n.push({column:"",regex:y(l,"i")})}}return n}(e);(t=n)&&0!==t.length?(b.log.debug("Filtering conditions:",t),i.messages=i.allMessages.filter(function(n){b.log.debug("Message:",n);var i=!0;return $.each(t,function(e,t){i=t.column?i&&n[t.column]&&t.regex.test(n[t.column])||n.StringProperties&&n.StringProperties[t.column]&&t.regex.test(n.StringProperties[t.column]):i&&function(e,t){for(var n=["JMSDestination","JMSDeliveryMode","JMSExpiration","JMSPriority","JMSMessageID","JMSTimestamp","JMSCorrelationID","JMSReplyTo","JMSType","JMSRedelivered"],i=0;i<n.length;i++){var r=n[i];if(e[r]&&t.test(e[r]))return!0}if(e.StringProperties)for(var o in e.StringProperties)if(t.test(e.StringProperties[o]))return!0;return!(!e.bodyText||!t.test(e.bodyText))}(n,t.regex)}),i})):i.messages=i.allMessages}function y(t,e){try{return new RegExp(t,e)}catch(e){return new RegExp(t.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}}i.$watch("workspace.selection",function(){n.moveIfViewInvalid()||setTimeout(t,50)}),i.$watch("gridOptions.filterOptions.filterText",function(e){v(e)}),i.openMessageDialog=function(e){b.selectCurrentMessage(e,"JMSMessageID",i),i.row&&(i.mode=CodeEditor.detectTextFormat(i.row.Text),i.showMessageDetails=!0)},i.refresh=t,b.decorate(i),i.moveMessages=function(){var e=n.selection,a=e.objectName;if(a&&e){var t=i.gridOptions.selectedItems;l.dialog({resolve:{selectedItems:function(){return t},gridOptions:function(){return i.gridOptions},queueNames:function(){return i.queueNames},parent:function(){return i}},template:u.get("activemqMoveMessageDialog.html"),controller:["$scope","dialog","selectedItems","gridOptions","queueNames","parent",function(r,t,o,e,n,i){r.selectedItems=o,r.gridOptions=e,r.queueNames=n,r.queueName="",r.close=function(e){if(t.close(),e){i.message="Moved "+Core.maybePlural(o.length,"message")+" to "+r.queueName;angular.forEach(o,function(e,t){var n=e.JMSMessageID;if(n){var i=t+1<o.length?h:m;s.execute(a,"moveMessageTo(java.lang.String, java.lang.String)",n,r.queueName,Core.onSuccess(i))}})}}}]}).open()}},i.resendMessage=function(){var e=n.selection;if(e.objectName&&e){var t=i.gridOptions.selectedItems;o.message=t[0],r.path("activemq/sendMessage")}},i.deleteMessages=function(){var e=n.selection,r=e.objectName;if(r&&e){var o=i.gridOptions.selectedItems;o&&0!==o.length&&UI.multiItemConfirmActionDialog({collection:o,index:"JMSMessageID",onClose:function(e){if(e){i.message="Deleted "+Core.maybePlural(o.length,"message");_.forEach(o,function(e,t){var n=e.JMSMessageID;if(n){var i=t+1<o.length?h:p;s.execute(r,"removeMessage(java.lang.String)",n,Core.onSuccess(i))}})}},title:"Delete messages?",action:"The following messages will be deleted:",okText:"Delete",okClass:"btn-danger",custom:"This operation is permanent once completed!",customClass:"alert alert-warning"}).open()}},i.retryMessages=function(){var e=n.selection,r=e.objectName;if(r&&e){var o=i.gridOptions.selectedItems;i.message="Retry "+Core.maybePlural(o.length,"message");angular.forEach(o,function(e,t){var n=e.JMSMessageID;if(n){var i=t+1<o.length?h:p;s.execute(r,"retryMessage(java.lang.String)",n,Core.onSuccess(i))}})}},i.queueNames=function(e){var t=b.getSelectionQueuesFolder(n);return t?t.children.map(function(e){return e.title}):[]}}])}(ActiveMQ||(ActiveMQ={})),function(u){u._module.controller("ActiveMQ.DestinationController",["$scope","workspace","$location","jolokia",function(o,a,e,s){function t(){o.destinationTypeName="true"===o.queueType?"Queue":"Topic"}function r(){o.destinationName="",o.workspace.operationCounter+=1,Core.notification("success",o.message),o.workspace.loadTree(),Core.$apply(o)}function l(){a.removeAndSelectParentNode(),o.workspace.operationCounter+=1,Core.notification("success",o.message),e.path("/jmx/attributes").search({"main-tab":"activemq","sub-tab":"activemq-attributes"}),o.workspace.loadTree(),Core.$apply(o)}function c(e){var t=null,n=a.selection;if(n&&u.isBroker(a)&&n.objectName)return n.objectName;var i=n.folderNames,r=n?n.parent:null;return n&&r&&e&&i&&1<i.length&&(!(t=r.objectName)&&r&&(t=r.parent.objectName),t||(t=i[0]+":BrokerName="+i[1]+",Type=Broker")),t}o.workspace=a,o.message="",o.destinationName="",o.destinationTypeName=o.queueType?"Queue":"Topic",o.deleteDialog=!1,o.purgeDialog=!1,t(),o.$watch("queueType",function(){t()}),o.$watch("workspace.selection",function(){a.moveIfViewInvalid(),o.queueType=u.isTopicsFolder(a)||u.isTopic(a)?"false":"true",o.name=Core.pathGet(a,["selection","title"])}),o.createDestination=function(e,t){var n,i=c(s);i&&("true"===t?(n="addQueue(java.lang.String)",o.message="Created queue "+e):(n="addTopic(java.lang.String)",o.message="Created topic "+e),i?s.execute(i,n,e,Core.onSuccess(r)):Core.notification("error","Could not find the Broker MBean!"))},o.deleteDestination=function(){var e=c(s),t=a.selection,n=t.entries;if(e&&t&&s&&n){t.domain;var i,r=n.Destination||n.destinationName||t.title;r=_.unescape(r),"Topic"!==(n.Type||n.destinationType)?(i="removeQueue(java.lang.String)",o.message="Deleted queue "+r):(i="removeTopic(java.lang.String)",o.message="Deleted topic "+r),s.execute(e,i,r,Core.onSuccess(l))}},o.purgeDestination=function(){var e=a.getSelectedMBeanName(),t=a.selection,n=t.entries;if(e&&t&&s&&n){var i=n.Destination||n.destinationName||t.title;i=_.unescape(i);o.message="Purged queue "+i,s.execute(e,"purge()",Core.onSuccess(r))}}}])}(ActiveMQ||(ActiveMQ={})),function(u){u._module.controller("ActiveMQ.DurableSubscriberController",["$scope","workspace","jolokia",function(o,a,s){function l(){var e=c(s);e&&(o.durableSubscribers=[],s.request({type:"read",mbean:e,attribute:["DurableTopicSubscribers"]},Core.onSuccess(function(e){return t(e,"DurableTopicSubscribers","Active")})),s.request({type:"read",mbean:e,attribute:["InactiveDurableTopicSubscribers"]},Core.onSuccess(function(e){return t(e,"InactiveDurableTopicSubscribers","Offline")})))}function t(e,t,i){var n=e.value;u.log.debug("Got data: ",n),o.durableSubscribers.push.apply(o.durableSubscribers,n[t].map(function(e){var t=e.objectName,n=Core.objectNameProperties(t);return"objectName"in e||("canonicalName"in e&&(t=e.canonicalName),n=_.cloneDeep(e.keyPropertyList)),n._id=t,n.status=i,n})),Core.$apply(o)}function c(e){var t=null,n=a.selection;if(n&&u.isBroker(a)&&n.objectName)return n.objectName;var i=n.folderNames,r=n?n.parent:null;return n&&r&&e&&i&&1<i.length&&(!(t=r.objectName)&&r&&(t=r.parent.objectName),t||(t=i[0]+":BrokerName="+i[1]+",Type=Broker")),t}o.refresh=l,o.durableSubscribers=[],o.tempData=[],o.createSubscriberDialog=new UI.Dialog,o.deleteSubscriberDialog=new UI.Dialog,o.showSubscriberDialog=new UI.Dialog,o.topicName="",o.clientId="",o.subscriberName="",o.subSelector="",o.gridOptions={selectedItems:[],data:"durableSubscribers",displayFooter:!1,showFilter:!1,showColumnMenu:!0,enableCellSelection:!1,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,filterOptions:{filterText:""},maintainColumnRatios:!1,columnDefs:[{field:"destinationName",displayName:"Topic",width:"30%"},{field:"clientId",displayName:"Client ID",width:"30%"},{field:"consumerId",displayName:"Consumer ID",cellTemplate:'<div class="ngCellText"><span ng-hide="row.entity.status != \'Offline\'">{{row.entity.consumerId}}</span><a ng-show="row.entity.status != \'Offline\'" ng-click="openSubscriberDialog(row)">{{row.entity.consumerId}}</a></div>',width:"30%"},{field:"status",displayName:"Status",width:"10%"}],primaryKeyFn:function(e){return e.destinationName+"/"+e.clientId+"/"+e.consumerId}},o.doCreateSubscriber=function(e,t,n,i){o.createSubscriberDialog.close(),o.clientId=e,o.subscriberName=t,o.topicName=n,o.subSelector=i,Core.isBlank(o.subSelector)&&(o.subSelector=null);var r=c(s);r?s.execute(r,"createDurableSubscriber(java.lang.String, java.lang.String, java.lang.String, java.lang.String)",o.clientId,o.subscriberName,o.topicName,o.subSelector,Core.onSuccess(function(){Core.notification("success","Created durable subscriber "+e),o.clientId="",o.subscriberName="",o.topicName="",o.subSelector="",l()})):Core.notification("error","Could not find the Broker MBean!")},o.deleteSubscribers=function(){var e=o.gridOptions.selectedItems[0]._id;s.execute(e,"destroy()",Core.onSuccess(function(){o.showSubscriberDialog.close(),Core.notification("success","Deleted durable subscriber"),l(),o.gridOptions.selectedItems.splice(0,o.gridOptions.selectedItems.length)}))},o.openSubscriberDialog=function(t){s.request({type:"read",mbean:t.entity._id},Core.onSuccess(function(e){o.showSubscriberDialog.subscriber=e.value,o.showSubscriberDialog.subscriber.Status=t.entity.status,console.log("Subscriber is now "+o.showSubscriberDialog.subscriber),Core.$apply(o),setTimeout(function(){o.showSubscriberDialog.open(),Core.$apply(o)},100)}))},o.topicNames=function(e){var t=u.getSelectionTopicsFolder(a);return t?t.children.map(function(e){return e.title}):[]},o.$watch("workspace.selection",function(){a.moveIfViewInvalid()||setTimeout(l,50)})}])}(ActiveMQ||(ActiveMQ={})),(ActiveMQ||(ActiveMQ={}))._module.controller("ActiveMQ.JobSchedulerController",["$scope","workspace","jolokia",function(n,i,a){function e(){var e=i.selection;if(e){var t=e.objectName;t&&a.request({type:"read",mbean:t,attribute:"AllJobs"},Core.onSuccess(r))}Core.$apply(n)}function r(e){var t=e.value;angular.isArray(t)?n.jobs=t:(n.jobs=[],angular.forEach(t,function(e,t){n.jobs.push(e)})),Core.$apply(n)}function s(){}function l(){n.gridOptions.selectedItems.splice(0),Core.notification("success",n.message),setTimeout(e,50)}n.refresh=e,n.jobs=[],n.deleteJobsDialog=new UI.Dialog,n.gridOptions={selectedItems:[],data:"jobs",displayFooter:!1,showFilter:!1,showColumnMenu:!0,enableColumnResize:!0,enableColumnReordering:!0,filterOptions:{filterText:""},selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,maintainColumnRatios:!1,columnDefs:[{field:"jobId",displayName:"Job ID",width:"25%"},{field:"cronEntry",displayName:"Cron Entry",width:"10%"},{field:"delay",displayName:"Delay",width:"5%"},{field:"repeat",displayName:"repeat",width:"5%"},{field:"period",displayName:"period",width:"5%"},{field:"start",displayName:"Start",width:"25%"},{field:"next",displayName:"Next",width:"25%"}],primaryKeyFn:function(e){return e.jobId}},n.$watch("workspace.selection",function(){i.moveIfViewInvalid()||setTimeout(e,50)}),n.deleteJobs=function(){var e=i.selection,r=e.objectName;if(r&&e){var o=n.gridOptions.selectedItems;n.message="Deleted "+Core.maybePlural(o.length,"job"),angular.forEach(o,function(e,t){var n=e.jobId;if(n){var i=t+1<o.length?s:l;a.execute(r,"removeJob(java.lang.String)",n,Core.onSuccess(i))}})}}}]),(ActiveMQ||(ActiveMQ={}))._module.controller("ActiveMQ.PreferencesController",["$scope","localStorage","userDetails","$rootScope",function(e,t,n,i){(e.entity=e).config={properties:{activemqUserName:{type:"string",description:"The user name to be used when connecting to the broker"},activemqPassword:{type:"password",description:"Password to be used when connecting to the broker"},activemqFilterAdvisoryTopics:{type:"boolean",default:"false",description:"Whether to exclude advisory topics in tree/table"},activemqBrowseBytesMessages:{type:"number",enum:{"Hex and text":1,"Decimal and text":2,Hex:4,Decimal:8,Off:99},description:"Browsing byte messages should display the message body as"}}},Core.initPreferenceScope(e,t,{activemqUserName:{value:n.username?n.username:""},activemqPassword:{value:n.password?n.password:""},activemqBrowseBytesMessages:{value:1,converter:parseInt},activemqFilterAdvisoryTopics:{value:!1,converter:Core.parseBooleanValue,post:function(e){i.$broadcast("jmxTreeUpdated")}}})}]),function(d){d._module.controller("ActiveMQ.TreeHeaderController",["$scope",function(e){e.expandAll=function(){Tree.expandAll("#activemqtree")},e.contractAll=function(){Tree.contractAll("#activemqtree")}}]),d._module.controller("ActiveMQ.TreeController",["$scope","$location","workspace","localStorage",function(a,s,l,c){function e(){d.log.debug("workspace tree has changed, lets reload the activemq tree");var e=[],t=l.tree;if(t){var n=t.get("org.apache.activemq");if(n&&(e=n.children),e.length){var i=e[0];if(!i.typeName&&i.children.length<4){var r=[];angular.forEach(e,function(e){r=r.concat(e.children)}),e=r}}e.forEach(function(e){var t=e.children;if(t){Tree.sanitize(t);var n=_.findIndex(t,{title:"Topic"});if(0<n){var i=t[n],r="ActiveMQ-allTopics-"+e.title,o=_.clone(i.children);if(l.mapData[r]=o,Core.parseBooleanValue(c.activemqFilterAdvisoryTopics)){if(i&&i.children){var a=_.filter(i.children,function(e){return!_.startsWith(e.title,"ActiveMQ.Advisory")});i.children=a}}else o&&(i.children=o)}}});var o=$("#activemqtree");Jmx.enableTree(a,s,l,o,e,!0),setTimeout(u,50)}}function u(){Jmx.updateTreeSelectionFromURLAndAutoSelect(s,$("#activemqtree"),function(e){var t=e.getChildren()[0];return t&&"Queue"===t.data.title?((e=t).expand(!0),e):null},!0)}a.$on("$routeChangeSuccess",function(e,t,n){setTimeout(u,50)}),a.$watch("workspace.tree",function(){e()}),a.$on("jmxTreeUpdated",function(){e()})}])}(ActiveMQ||(ActiveMQ={})),function(O){O.log=Logger.get("Camel"),O.jmxDomain="org.apache.camel",O.defaultMaximumLabelWidth=34,O.defaultCamelMaximumTraceOrDebugBodyLength=5e3,O.defaultCamelTraceOrDebugIncludeStreams=!1,O.defaultCamelRouteMetricMaxSeconds=10,O.defaultHideOptionDocumentation=!1,O.defaultHideOptionDefaultValue=!1,O.defaultHideOptionUnusedValue=!1,O._apacheCamelModel=void 0,hawtioPluginLoader.registerPreBootstrapTask(function(e){O._apacheCamelModel=window._apacheCamelModel,O.log.debug("Setting apache camel model: ",O._apacheCamelModel),e()});var i=null;function N(e){var t=null;if(e&&!(t=e.getAttribute("uri"))){var n=e.getAttribute("ref");if(n){var i=e.getAttribute("method");t=i?n+"."+i+"()":"ref:"+n}}return t}function n(e,t){return void 0===t&&(t="  "),e+t}function L(e){var t=null;if(e){var n=e.localName;t=n?j(n):e}if(t){var i=t.icon||"generic24.png";return UrlHelpers.join("img/icons/camel/",i)}return null}function j(e){return angular.isObject(e)?e:Forms.lookupDefinition(e,O._apacheCamelModel)}function a(e){return null!=Forms.lookupDefinition(e,O._apacheCamelModel)}function t(e){return O._apacheCamelModel.languages[e]}function d(n,e){n.children=[],(n.routeXmlNode=e).setAttribute("_cid",n.key),$(e).children("*").each(function(e,t){r(n,t)})}function r(e,t){var n=t.localName;if(n){var i=j(n);if(i){var r=L(i),o=new Folder(n);o.domain=O.jmxDomain,o.typeName="routeNode",h(o,t,i),o.parent=e,o.folderNames=e.folderNames;for(var a=t.getAttribute("id")||n,s=e.key+"_"+Core.toSafeDomID(a),l=1,c=!0;c;){var u=s+l;-1!==e.children.indexOf({key:u})?l+=1:(c=!1,s=u)}return o.key=s,o.icon=r,o.routeXmlNode=t,e.children||(e.children=[]),e.children.push(o),d(o,t),o}}return null}function o(e){var t=e?e.tree:null;return t?t.get(O.jmxDomain):null}function s(e,t){var n=null,i=o(e);return i&&t&&angular.forEach(i.children,function(e){n||t!==e.title||(n=e)}),n}function l(e,t){var n=null;return e&&t&&(n="#/camel/endpoint/browse/"+e+"/"+t),n}function c(e,t){var n=null;return e&&t&&(n="#/camel/route/diagram/"+e+"/"+t),n}function p(e){var t=Core.pathGet(e,["routeXmlNode","localName"]);return"from"===t||"to"===t?"endpoint":t}function h(e,t,n){var i=t.localName,r=t.getAttribute("id"),o=n.title||i,a=n.tooltip||n.description||o;if(r)o=r;else{var s=N(t);if(s){var l=(o=s).split("?");l&&1<l.length&&(o=l[0]),a+=" "+s}else{var c=$(t).children("*");if(c&&c.length){var u=c[0],d=u.localName,h=null;O.isCamelLanguage(d)&&((h=u.textContent)||(h=u.getAttribute("expression"))),h&&(o+=" "+h,a+=" "+d+" expression")}}}return e.title=o,e.tooltip=a,o}function u(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"context");if(o&&o.children){var a=_.first(o.children);if(a.title)return r+":context="+t+',type=context,name="'+a.title+'"'}}}}return null}function f(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"DefaultRestRegistry");if(a)return a.objectName}}}}return null}function g(e){var t=e.selection;if(t&&(t=t.findAncestor(function(e){return"context"===e.title||null!=e.parent&&"org.apache.camel"===e.parent.title}))){var n,i=e.tree,r=t.folderNames,o=t.entries;i&&(r&&1<r.length?n=r[1]:o&&(n=o.context))}return n}function m(e,t){void 0===t&&(t=null);var n=t||e.selection,i=null;if(n&&n&&n.entries){var r=n.entries.type,o=n.entries.name;"routes"===r&&o&&(i=Core.trimQuotes(o))}return i}function v(e,t){if(e){var n=g(e),i=e.selection,r=e.tree;if(r&&i){var o=i.domain;if(o&&n){var a=r.navigate(o,n,"context");if(a&&a.children)return _.first(a.children).version}}}return null}function y(e){return e?_.startsWith(e,"java.lang")?e.substr(10):e:""}function b(e,a){var s={},t=e.tree;if(t){var n=t.navigate(O.jmxDomain);n&&angular.forEach(n.children,function(e){var t=e.navigate("context"),n=e.navigate(a);if(t&&n&&t.children&&t.children.length){var i=t.children[0],r=i.objectName;if(r){var o={folder:i,mbean:r};angular.forEach(n.children,function(e){var t=e.title;t&&(s[t]=o)})}}})}return s}function w(e,t){return _.find(e,function(e){return _.startsWith(e.title,t)})}O.hasRestServices=function(e,t){if(null!==i)return i;var n=f(e);return n&&t.request({type:"read",mbean:n,attribute:["NumberOfRestServices"]},Core.onSuccess(function(e){var t=e.value;i=0<t})),!0},O.processRouteXml=function(e,t,n,o){var a=m(e,n),i=u(e);function r(e){var t=null,n=e?e.value:null;if(n){var i=$.parseXML(n),r=$(i).find("route[id='"+a+"']");r&&r.length&&(t=r[0])}o(t)}i&&a?t.request({type:"exec",mbean:i,operation:"dumpRoutesAsXml()"},Core.onSuccess(r,{error:r})):(a||console.log("No selectedRouteId when trying to lazy load the route!"),o(null))},O.getRouteNodeUri=N,O.getRouteFolderJSON=function(e,t){void 0===t&&(t={});var n=e.camelNodeData;if(!n){var i=e.routeXmlNode;i&&(n=O.getRouteNodeJSON(i)),n||(n=t),e.camelNodeData=n}return n},O.getRouteNodeJSON=function r(e,o){if(void 0===o&&(o={}),e){angular.forEach(e.attributes,function(e){o[e.name]=e.value});var t=e.localName;"route"!==t&&"routes"!==t&&"camelContext"!==t&&"rests"!==t&&$(e).children("*").each(function(e,t){var n=t.localName;if(O.camelLanguageSettings(n))o.expression={language:n,expression:t.textContent};else if(!a(n)){var i=r(t);i&&(i.expression&&(i=i.expression),"completionSize"===n?n="completionSizeExpression":"completionTimeout"===n&&(n="completionTimeoutExpression"),o[n]=i)}})}return o},O.increaseIndent=n,O.setRouteNodeJSON=function u(d,e,t){if(d){var h=n(t);angular.forEach(e,function(e,t){return function t(e,n,i){if(void 0===i&&(i=!1),angular.isArray(e))$(d).children(n).remove(),angular.forEach(e,function(e){t(e,n,!0)});else if(angular.isObject(e)){var r=null;if("expression"===n){var o=e.language;o&&(n=o,r=e.expression,delete(e=angular.copy(e)).expression,delete e.language)}var a=$(d).children(n),s=null;if(!i&&a&&a.length)s=a[0];else{var l=d.ownerDocument||document;d.appendChild(l.createTextNode("\n"+h)),s=l.createElementNS(d.namespaceURI,n),r&&s.appendChild(l.createTextNode(r)),d.appendChild(s)}u(s,e,h),r&&a.text(r)}else if(e)if(_.startsWith(n,"_"));else{var c=e.toString();d.setAttribute(n,c)}else d.removeAttribute(n)}(e,t,!1)})}},O.getRouteNodeIcon=L,O.getSelectedEndpointName=function(e){var t=e.selection;if(t&&t.objectName&&t.typeName&&"endpoints"===t.typeName){var n=Core.parseMBean(t.objectName);if(!n)return null;var i=n.attributes;if(!i)return null;if(!("name"in i))return null;var r=i.name;return r=r.replace("\\?","?"),_.startsWith(r,'"')&&(r=r.substr(1)),_.endsWith(r,'"')&&(r=r.substr(0,r.length-1)),r}return null},O.escapeEndpointUriNameForJmx=function(e){if(angular.isString(e)){var t=e.replace("?","\\?");return t=(t=t.replace(/\:(\/[^\/])/,"://$1")).replace(/\:([^\/])/,"://$1")}return e},O.getContextAndTargetEndpoint=function(e){return{uri:O.getSelectedEndpointName(e),mbean:O.getSelectionCamelContextMBean(e)}},O.getSelectedRouteNode=function(e){var t=e.selection||e.getSelectedMBean();return t&&O.jmxDomain===t.domain?t.routeXmlNode:null},O.clearSelectedRouteNode=function(e){var t=e.selection;t&&O.jmxDomain===t.domain&&delete t.routeXmlNode},O.getCamelSchema=j,O.isCamelPattern=a,O.isNextSiblingAddedAsChild=function(e){var t=j(e);return t?t.nextSiblingAddedAsChild||!1:null},O.acceptInput=function(e){var t=j(e);return t?t.acceptInput||!1:null},O.acceptOutput=function(e){var t=j(e);return t?t.acceptOutput||!1:null},O.camelLanguageSettings=t,O.isCamelLanguage=function(e){return!(!t(e)&&"expression"!==e)},O.loadCamelTree=function(e,t){var n=e;angular.isString(e)&&(n=$.parseXML(e));var a=new Folder("camelContext");a.addClass="org-apache-camel-context",a.domain=O.jmxDomain,a.typeName="context",a.key=Core.toSafeDomID(t);var i=$(n).find("camelContext");return i&&i.length||(i=$(n).find("routes")),i&&i.length&&(a.xmlDocument=n,a.routeXmlNode=i,$(i).children("route").each(function(e,t){var n=t.getAttribute("id");n||(n="route"+e,t.setAttribute("id",n));var i=new Folder(n);i.addClass="org-apache-camel-route",i.typeName="routes",i.domain=O.jmxDomain,i.key=a.key+"_"+Core.toSafeDomID(n),i.parent=a;var r=j("route");if(r){var o=L(r);i.tooltip=r.tooltip||r.description||n,i.icon=o}a.children.push(i),d(i,t)})),a},O.addRouteChildren=d,O.addRouteChild=r,O.getRootCamelFolder=o,O.getCamelContextFolder=s,O.getCamelContextMBean=function(e,t){var n=s(e,t);if(n){var i=n.navigate("context");if(i&&i.children&&i.children.length)return i.children[0].objectName}return null},O.linkToFullScreenView=function(e){var t=e.selection;if(t){var n=t.entries;if(n){var i=n.context,r=n.name,o=n.type;if("endpoints"===o)return l(i,r);if("routes"===o)return c(i,r)}}return null},O.linkToBrowseEndpointFullScreen=l,O.linkToRouteDiagramFullScreen=c,O.getFolderCamelNodeId=p,O.createFolderXmlTree=function a(e,s,t){void 0===t&&(t=O.increaseIndent(""));var n=e.data||e,l=0,i=p(n);if(n){if(!s){s=document.createElement(i);var r=O.getRouteFolderJSON(n);r&&O.setRouteNodeJSON(s,r,t)}var c=s.ownerDocument||document,u=s.namespaceURI,d="route"!==i,h=O.increaseIndent(t);angular.forEach(e.children||e.getChildren(),function(e){var t=e.data||e,n=O.getFolderCamelNodeId(t),i=O.getRouteFolderJSON(t);if(n&&i){if("endpoint"===n&&(d?n="to":(n="from",d=!0)),"expression"===n){var r=i.language;r&&(n=r)}s.appendChild(c.createTextNode("\n"+h));var o=c.createElementNS(u,n);O.setRouteNodeJSON(o,i,h),s.appendChild(o),l+=1,a(e,o,h)}}),l&&s.appendChild(c.createTextNode("\n"+t))}return s},O.updateRouteNodeLabelAndTooltip=h,O.getSelectionCamelContextMBean=u,O.getSelectionCamelContextEndpoints=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t)return i.navigate(r,t,"endpoints")}}return null},O.getSelectionCamelTraceMBean=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"tracer");if(o&&o.children){var a=w(o.children,"BacklogTracer");if(a)return a.objectName}}}}return null},O.getSelectionCamelDebugMBean=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"tracer");if(o&&o.children){var a=w(o.children,"BacklogDebugger");if(a)return a.objectName}}}}return null},O.getSelectionCamelTypeConverter=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"DefaultTypeConverter");if(a)return a.objectName}}}}return null},O.getSelectionCamelRestRegistry=f,O.getSelectionCamelEndpointRuntimeRegistry=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"DefaultRuntimeEndpointRegistry");if(a)return a.objectName}}}}return null},O.getSelectionCamelInflightRepository=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"DefaultInflightRepository");if(a)return a.objectName}}}}return null},O.getSelectionCamelBlockedExchanges=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"DefaultAsyncProcessorAwaitManager");if(a)return a.objectName}}}}return null},O.getSelectionCamelRouteMetrics=function(e){if(e){var t=g(e),n=e.selection,i=e.tree;if(i&&n){var r=n.domain;if(r&&t){var o=i.navigate(r,t,"services");if(o&&o.children){var a=w(o.children,"MetricsRegistryService");if(a)return a.objectName}}}}return null},O.getContextId=g,O.isState=function(e,t){var n=(e.State||"").toLowerCase();return angular.isArray(t)?t.some(function(e){return _.startsWith(n,e)}):_.startsWith(n,t)},O.iconClass=function(e){if(e)switch(e.toLowerCase()){case"started":return"green fa fa-play-circle";case"suspended":return"fa fa-pause"}return"orange fa fa-off"},O.getSelectedRouteId=m,O.getSelectionRouteMBean=function(e,t){if(e){var n=g(e),i=e.selection,r=e.tree;if(r&&i){var o=i.domain;if(o&&n){var a=r.navigate(o,n,"routes");if(a&&a.children){var s=_.find(a.children,function(e){return e.title===t});if(s)return s.objectName}}}}return null},O.getCamelVersion=v,O.createMessageFromXml=function(e){var t=$(e),o={headers:{},headerTypes:{},id:null,uid:t.children("uid").text(),timestamp:t.children("timestamp").text(),headerHtml:""},n=t.children("message")[0];n||(n=e);var i=$(n),r=i.find("header"),a="";r.each(function(e,t){var n=t.getAttribute("key"),i=t.getAttribute("type"),r=t.textContent;n&&(r&&(o.headers[n]=r),i&&(o.headerTypes[n]=i),a+="<tr><td class='property-name'>"+n+"</td><td class='property-value'>"+y(i)+"</td><td class='property-value'>"+(r||"")+"</td></tr>")}),o.headerHtml=a;var s=o.headers.breadcrumbId;s||(angular.forEach(["MessageID","ID","Path","Name"],function(n){s||angular.forEach(o.headers,function(e,t){!s&&_.endsWith(t,n)&&(s=e)})}),angular.forEach(o.headers,function(e,t){s||(s=e)}));o.id=s;var l=i.children("body")[0];if(l){var c=l.textContent,u=l.getAttribute("type");o.body=c,o.bodyType=y(u)}return o},O.humanizeJavaType=y,O.createBrowseGridOptions=function(){return{selectedItems:[],data:"messages",displayFooter:!1,showFilter:!1,showColumnMenu:!0,enableColumnResize:!0,enableColumnReordering:!0,filterOptions:{filterText:""},selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,maintainColumnRatios:!1,columnDefs:[{field:"id",displayName:"ID",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.openMessageDialog(row)">{{row.entity.id}}</a></div>'}]}},O.loadRouteXmlNodes=function(i,e,r,o,a,t){var n=$(e).find("route"),s=t/n.length,l=0;n.each(function(e,t){var n=t.getAttribute("id");r&&n&&r!==n||(O.addRouteXmlChildren(i,t,o,a,null,l,0),l+=s)})},O.addRouteXmlChildren=function C(S,e,k,_,T,t,n,D){void 0===D&&(D=null);var A=t,E=n+150,I=e.getAttribute("id"),P=[],M=e.localName;return $(e).children().each(function(e,t){var n=k.length,i=t.localName;"from"!==i||T||(T=n);var r=j(i),o=null;if(r){var a=r.title||i,s=N(t);s&&(a+=" "+s.split("?")[0]);var l=r.tooltip||r.description||a;s&&(l+=" "+s);var c=t.getAttribute("id"),u=a;if(c){var d=t.getAttribute("customId");S.camelIgnoreIdForLabel||!d||"false"===d?u="id: "+c:a=c}var h=S.camelMaximumLabelWidth||O.defaultMaximumLabelWidth;h<a.length&&(u=a+"\n\n"+u,a=a.substring(0,h)+"..");var p=L(r);if(("from"===i||"to"===i)&&s){var f=s.indexOf(":");if(0<f){var g=s.substring(0,f);if(g){var m=O.getEndpointIcon(g);m&&(p=Core.url(m))}}}var v=t.getAttribute("_cid")||t.getAttribute("id");o={name:b,label:a,labelSummary:u,group:1,id:n,elementId:c,x:A,"y:":E,imageUrl:p,cid:v,tooltip:l,type:i},I&&(o.rid=I,S.routeNodes||(S.routeNodes={}),S.routeNodes[I]=o),v||(v=i+(k.length+1)),v&&(o.cid=v,S.nodes||(S.nodes={}),S.nodes[v]=o),I=null,k.push(o),null!==T&&T!==n&&(0===P.length||"choice"===M?_.push({source:T,target:n,value:1}):(P.forEach(function(e){_.push({source:e,target:n,value:1})}),P.length=0))}else{var y=O.camelLanguageSettings(i);if(y&&D){var b=y.name||i,w=t.textContent;w?(D.tooltip=D.label+" "+b+" "+w,D.label=w):D.label=D.label+" "+b}}var x=C(S,t,k,_,n,A,E,o);"choice"===M?(P=P.concat(x),A+=150):(P="choice"===i?x:[k.length-1],E+=150)}),P},O.getCanvasHeight=function(e){var t=e.height();if(t<300){console.log("browse thinks the height is only "+t+" so calculating offset from doc height");var n=e.offset();if(t=$(document).height()-5,n){var i=n.top;i&&(t-=i)}}return t},O.addFoldersToIndex=function t(e,n){if(void 0===n&&(n={}),e){var i=e.key;i&&(n[i]=e),angular.forEach(e.children,function(e){return t(e,n)})}return n},O.generateXmlFromFolder=function(e){var t=e&&e.data?e.data:e;if(!t)return null;var n=t.xmlDocument,i=t.routeXmlNode;if(i&&i.length){for(var r=i[0],o=r.childNodes,a=[],s=0;s<o.length;s++)"route"===(u=o[s]).localName&&parent&&a.push(s);for(;a.length;){for(var l=a.pop(),c=l+1;;){var u=r.childNodes[c];if(!Core.isTextNode(u))break;r.removeChild(u)}for(l<r.childNodes.length&&r.removeChild(r.childNodes[l]),s=l-1;0<=s&&(u=r.childNodes[s],Core.isTextNode(u));s--)r.removeChild(u)}O.createFolderXmlTree(e,i[0])}return n},O.camelContextMBeansById=function(e){var r={},t=e.tree;if(t){var n=t.navigate(O.jmxDomain);n&&angular.forEach(n.children,function(e){var t=e.navigate("context");if(t&&t.children&&t.children.length){var n=t.children[0],i=Core.pathGet(n,["entries","name"])||n.key;i&&(r[i]={folder:n,mbean:n.objectName})}})}return r},O.camelContextMBeansByComponentName=function(e){return b(e,"components")},O.camelContextMBeansByRouteId=function(e){return b(e,"routes")},O.camelProcessorMBeansById=function(e){var r={},t=e.tree;if(t){var n=t.navigate(O.jmxDomain);n&&angular.forEach(n.children,function(e){var i=e.navigate("processors");i&&i.children&&i.children.length&&angular.forEach(i.children,function(e){var t=e.title;if(t){var n={folder:i,key:e.key};r[t]=n}})})}return r},O.ignoreIdForLabel=function(e){var t=e.camelIgnoreIdForLabel;return Core.parseBooleanValue(t)},O.maximumLabelWidth=function(e){var t=e.camelMaximumLabelWidth;return angular.isString(t)&&(t=parseInt(t)),t||(t=O.defaultMaximumLabelWidth),t},O.maximumTraceOrDebugBodyLength=function(e){var t=e.camelMaximumTraceOrDebugBodyLength;return angular.isString(t)&&(t=parseInt(t)),t||(t=O.defaultCamelMaximumTraceOrDebugBodyLength),t},O.traceOrDebugIncludeStreams=function(e){var t=e.camelTraceOrDebugIncludeStreams;return console.log('localStorage["camelTraceOrDebugIncludeStreams"] = '+t),Core.parseBooleanValue(t,O.defaultCamelTraceOrDebugIncludeStreams)},O.showInflightCounter=function(e){var t=e.camelShowInflightCounter;return Core.parseBooleanValue(t,!0)},O.routeMetricMaxSeconds=function(e){var t=e.camelRouteMetricMaxSeconds;return angular.isString(t)&&(t=parseInt(t)),t||(t=O.defaultCamelRouteMetricMaxSeconds),t},O.hideOptionDocumentation=function(e){var t=e.camelHideOptionDocumentation;return Core.parseBooleanValue(t,O.defaultHideOptionDocumentation)},O.hideOptionDefaultValue=function(e){var t=e.camelHideOptionDefaultValue;return Core.parseBooleanValue(t,O.defaultHideOptionDefaultValue)},O.hideOptionUnusedValue=function(e){var t=e.camelHideOptionUnusedValue;return Core.parseBooleanValue(t,O.defaultHideOptionUnusedValue)},O.highlightSelectedNode=function(e,o){e.attr("class","node"),e.filter(function(e){if(e){var t=e.cid,n=e.rid,i=e.type,r=e.elementId;return"from"===i?o===n:r?o===r:t?o===t:o===n}return null}).attr("class","node selected")},O.isCamelVersionEQGT=function(e,t,n,i){var r=v(n);if(r){r+="camel-";var o=Core.parseVersionNumbers(r);return 0<=Core.compareVersionNumberArrays(o,[e,t])}return!1}}(Camel||(Camel={})),function(h){var t=Jmx;h.pluginName="camel";var p="plugins/camel/html/attributeToolBarRoutes.html",f="plugins/camel/html/attributeToolBarContext.html";h._module=angular.module(h.pluginName,[]),h._module.config(["$routeProvider",function(e){e.when("/camel/browseEndpoint",{templateUrl:"plugins/camel/html/browseEndpoint.html"}).when("/camel/endpoint/browse/:contextId/*endpointPath",{templateUrl:"plugins/camel/html/browseEndpoint.html"}).when("/camel/createEndpoint",{templateUrl:"plugins/camel/html/createEndpoint.html"}).when("/camel/route/diagram/:contextId/:routeId",{templateUrl:"plugins/camel/html/routes.html"}).when("/camel/routes",{templateUrl:"plugins/camel/html/routes.html"}).when("/camel/typeConverter",{templateUrl:"plugins/camel/html/typeConverter.html",reloadOnSearch:!1}).when("/camel/restRegistry",{templateUrl:"plugins/camel/html/restRegistry.html",reloadOnSearch:!1}).when("/camel/endpointRuntimeRegistry",{templateUrl:"plugins/camel/html/endpointRuntimeRegistry.html",reloadOnSearch:!1}).when("/camel/routeMetrics",{templateUrl:"plugins/camel/html/routeMetrics.html",reloadOnSearch:!1}).when("/camel/inflight",{templateUrl:"plugins/camel/html/inflight.html",reloadOnSearch:!1}).when("/camel/blocked",{templateUrl:"plugins/camel/html/blocked.html",reloadOnSearch:!1}).when("/camel/sendMessage",{templateUrl:"plugins/camel/html/sendMessage.html",reloadOnSearch:!1}).when("/camel/source",{templateUrl:"plugins/camel/html/source.html"}).when("/camel/traceRoute",{templateUrl:"plugins/camel/html/traceRoute.html"}).when("/camel/debugRoute",{templateUrl:"plugins/camel/html/debug.html"}).when("/camel/profileRoute",{templateUrl:"plugins/camel/html/profileRoute.html"}).when("/camel/properties",{templateUrl:"plugins/camel/html/properties.html"}).when("/camel/propertiesComponent",{templateUrl:"plugins/camel/html/propertiesComponent.html"}).when("/camel/propertiesDataFormat",{templateUrl:"plugins/camel/html/propertiesDataFormat.html"}).when("/camel/propertiesEndpoint",{templateUrl:"plugins/camel/html/propertiesEndpoint.html"})}]),h._module.factory("tracerStatus",function(){return{jhandle:null,messages:[]}}),h._module.filter("camelIconClass",function(){return h.iconClass}),h._module.factory("activeMQMessage",function(){return{message:null}}),h._module.factory("metricsWatcher",["$window",function(e){var t=e.metricsWatcher;return t||(t={},e.metricsWatcher=t),t}]),h._module.run(["HawtioNav","workspace","jolokia","viewRegistry","layoutFull","helpRegistry","preferencesRegistry","$templateCache","$location","$rootScope",function(e,r,b,t,n,i,o,a,s,w){t["camel/endpoint/"]=n,t["camel/route/"]=n,t['{ "main-tab": "camel" }']="plugins/camel/html/layoutCamelTree.html",i.addUserDoc("camel","plugins/camel/doc/help.md",function(){return r.treeContainsDomainAndProperties(h.jmxDomain)}),o.addTab("Camel","plugins/camel/html/preferences.html",function(){return r.treeContainsDomainAndProperties(h.jmxDomain)}),Jmx.addAttributeToolBar(h.pluginName,h.jmxDomain,function(e){var t=e.typeName;if(t){if(_.startsWith(t,"context"))return f;if(_.startsWith(t,"route"))return p}var n=e.folderNames;if(n&&e.domain===h.jmxDomain){var i=_.last(n);if("routes"===i)return p;if("context"===i)return f}return null});var l={field:"State",displayName:"State",cellTemplate:'<div class="ngCellText pagination-centered" title="{{row.getProperty(col.field)}}"><i class="{{row.getProperty(\'State\') | camelIconClass}}"></i></div>',width:56,minWidth:56,maxWidth:56,resizable:!1,defaultSort:!1},c=r.attributeColumnDefs;c[h.jmxDomain+"/context/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"Uptime",displayName:"Uptime",visible:!1},{field:"CamelVersion",displayName:"Version",visible:!1},{field:"ExchangesCompleted",displayName:"Completed"},{field:"ExchangesFailed",displayName:"Failed"},{field:"FailuresHandled",displayName:"Failed Handled",visible:!1},{field:"ExchangesTotal",displayName:"Total",visible:!1},{field:"Redeliveries",displayName:"Redelivery",visible:!1},{field:"ExchangesInflight",displayName:"Inflight"},{field:"OldestInflightDuration",displayName:"Oldest Inflight Time",visible:!1},{field:"MeanProcessingTime",displayName:"Mean Time"},{field:"MinProcessingTime",displayName:"Min Time"},{field:"MaxProcessingTime",displayName:"Max Time"},{field:"TotalProcessingTime",displayName:"Total Time",visible:!1},{field:"DeltaProcessingTime",displayName:"Delta Time",visible:!1},{field:"LastProcessingTime",displayName:"Last Time",visible:!1},{field:"LastExchangeCompletedTimestamp",displayName:"Last completed",visible:!1},{field:"LastExchangeFailedTimestamp",displayName:"Last failed",visible:!1},{field:"ExternalRedeliveries",displayName:"External Redelivery",visible:!1},{field:"StartedRoutes",displayName:"Started Routes"},{field:"TotalRoutes",displayName:"Total Routes"}],c[h.jmxDomain+"/routes/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"RouteId",displayName:"Route"},{field:"ExchangesCompleted",displayName:"Completed"},{field:"ExchangesFailed",displayName:"Failed"},{field:"FailuresHandled",displayName:"Failed Handled",visible:!1},{field:"Redeliveries",displayName:"Redelivery",visible:!1},{field:"ExchangesTotal",displayName:"Total",visible:!1},{field:"ExchangesInflight",displayName:"Inflight"},{field:"OldestInflightDuration",displayName:"Oldest Inflight Time",visible:!1},{field:"MeanProcessingTime",displayName:"Mean Time"},{field:"MinProcessingTime",displayName:"Min Time"},{field:"MaxProcessingTime",displayName:"Max Time"},{field:"TotalProcessingTime",displayName:"Total Time",visible:!1},{field:"DeltaProcessingTime",displayName:"Delta Time",visible:!1},{field:"LastProcessingTime",displayName:"Last Time",visible:!1},{field:"LastExchangeCompletedTimestamp",displayName:"Last completed",visible:!1},{field:"LastExchangeFailedTimestamp",displayName:"Last failed",visible:!1},{field:"Redeliveries",displayName:"Redelivery",visible:!1},{field:"ExternalRedeliveries",displayName:"External Redelivery",visible:!1}],c[h.jmxDomain+"/processors/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"RouteId",displayName:"Route"},{field:"ProcessorId",displayName:"Processor"},{field:"ExchangesCompleted",displayName:"Completed"},{field:"ExchangesFailed",displayName:"Failed"},{field:"FailuresHandled",displayName:"Failed Handled",visible:!1},{field:"Redeliveries",displayName:"Redelivery",visible:!1},{field:"ExchangesTotal",displayName:"Total",visible:!1},{field:"ExchangesInflight",displayName:"Inflight"},{field:"OldestInflightDuration",displayName:"Oldest Inflight Time",visible:!1},{field:"MeanProcessingTime",displayName:"Mean Time"},{field:"MinProcessingTime",displayName:"Min Time"},{field:"MaxProcessingTime",displayName:"Max Time"},{field:"TotalProcessingTime",displayName:"Total Time",visible:!1},{field:"DeltaProcessingTime",displayName:"Delta Time",visible:!1},{field:"LastProcessingTime",displayName:"Last Time",visible:!1},{field:"LastExchangeCompletedTimestamp",displayName:"Last completed",visible:!1},{field:"LastExchangeFailedTimestamp",displayName:"Last failed",visible:!1},{field:"ExternalRedeliveries",displayName:"External Redelivery",visible:!1}],c[h.jmxDomain+"/components/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"ComponentName",displayName:"Name"}],c[h.jmxDomain+"/consumers/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"RouteId",displayName:"Route"},{field:"EndpointUri",displayName:"Endpoint URI",width:"**"},{field:"Suspended",displayName:"Suspended",resizable:!1},{field:"InflightExchanges",displayName:"Inflight"}],c[h.jmxDomain+"/producers/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"RouteId",displayName:"Route"},{field:"EndpointUri",displayName:"Endpoint URI",width:"**"},{field:"Suspended",displayName:"Suspended",resizable:!1}],c[h.jmxDomain+"/services/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"RouteId",displayName:"Route"},{field:"Suspended",displayName:"Suspended",resizable:!1},{field:"SupportsSuspended",displayName:"Can Suspend",resizable:!1}],c[h.jmxDomain+"/endpoints/folder"]=[l,{field:"CamelId",displayName:"Context"},{field:"EndpointUri",displayName:"Endpoint URI",width:"***"},{field:"Singleton",displayName:"Singleton",resizable:!1}],c[h.jmxDomain+"/threadpools/folder"]=[{field:"Id",displayName:"Id",width:"**"},{field:"ActiveCount",displayName:"Active"},{field:"PoolSize",displayName:"Pool Size"},{field:"CorePoolSize",displayName:"Core Pool Size"},{field:"TaskQueueSize",displayName:"Task Queue Size"},{field:"TaskCount",displayName:"Task"},{field:"CompletedTaskCount",displayName:"Completed Task"}],c[h.jmxDomain+"/errorhandlers/folder"]=[{field:"CamelId",displayName:"Context"},{field:"DeadLetterChannel",displayName:"Dead Letter"},{field:"DeadLetterChannelEndpointUri",displayName:"Endpoint URI",width:"**",resizable:!0},{field:"MaximumRedeliveries",displayName:"Max Redeliveries"},{field:"RedeliveryDelay",displayName:"Redelivery Delay"},{field:"MaximumRedeliveryDelay",displayName:"Max Redeliveries Delay"}];var u=e.builder(),d=u.id("camel").title(function(){return"Camel"}).defaultPage({rank:20,isValid:function(t,n){var i="CamelDefaultPage";r.addNamedTreePostProcessor(i,function(e){r.removeNamedTreePostProcessor(i),r.treeContainsDomainAndProperties(h.jmxDomain)?t():n()})}}).href(function(){return"/jmx/attributes?main-tab=camel&sub-tab=camel-attributes"}).isValid(function(){return r.treeContainsDomainAndProperties(h.jmxDomain)}).build();d.tabs=Jmx.getNavItems(u,r,a,"camel"),d.tabs.push({id:"camel-route-diagram",title:function(){return'<i class="fa fa-sitemap"></i> Route Diagram'},tooltip:function(){return"View a diagram of the Camel routes"},show:function(){return(r.isRoute()||r.isRoutesFolder())&&r.hasInvokeRightsForName(h.getSelectionCamelContextMBean(r),"dumpRoutesAsXml")},isSelected:function(){return r.isLinkActive("camel/routes")},href:function(){return"/camel/routes"+r.hash()},index:-2}),d.tabs.push({id:"camel-route-source",title:function(){return'<i class=" fa fa-file-code-o"></i> Source'},tooltip:function(){return"View the source of the Camel routes"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&(r.isRoute()||r.isRoutesFolder())&&r.hasInvokeRightsForName(h.getSelectionCamelContextMBean(r),"dumpRoutesAsXml")},isSelected:function(){return r.isLinkActive("camel/source")},href:function(){return"/camel/source"+r.hash()}}),d.tabs.push({id:"camel-route-properties",title:function(){return'<i class=" fa fa-edit"></i> Properties'},tooltip:function(){return"View the pattern properties"},show:function(){return h.getSelectedRouteNode(r)},href:function(){return"/camel/properties"+r.hash()}}),d.tabs.push({id:"camel-endpoint-properties",title:function(){return'<i class="fa fa-list"></i> Properties'},tooltip:function(){return"Show the endpoint properties"},show:function(){return r.isEndpoint()&&h.isCamelVersionEQGT(2,15,r,b)&&r.hasInvokeRights(r.selection,"explainEndpointJson")},href:function(){return"/camel/propertiesEndpoint"+r.hash()}}),d.tabs.push({id:"camel-component-properties",title:function(){return'<i class="fa fa-list"></i> Properties'},tooltip:function(){return"Show the component properties"},show:function(){return r.isComponent()&&h.isCamelVersionEQGT(2,15,r,b)&&r.hasInvokeRights(r.selection,"explainComponentJson")},href:function(){return"/camel/propertiesComponent"+r.hash()}}),d.tabs.push({id:"camel-dataformat-properties",title:function(){return'<i class="fa fa-list"></i> Properties'},tooltip:function(){return"Show the dataformat properties"},show:function(){return r.isDataformat()&&h.isCamelVersionEQGT(2,16,r,b)&&r.hasInvokeRights(r.selection,"explainDataFormatJson")},href:function(){return"/camel/propertiesDataFormat"+r.hash()}}),d.tabs.push({id:"camel-inflight-exchanges",title:function(){return'<i class="fa fa-bar-chart"></i> Inflight'},tooltip:function(){return"View the entire JVMs Camel inflight exchanges"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&!r.isComponentsFolder()&&!r.isComponent()&&(r.isCamelContext()||r.isRoutesFolder()||r.isRoute())&&h.isCamelVersionEQGT(2,15,r,b)&&r.hasInvokeRightsForName(h.getSelectionCamelInflightRepository(r),"browse")},href:function(){return"/camel/inflight"+r.hash()}}),d.tabs.push({id:"camel-blocked-exchanges",title:function(){return'<i class="fa fa-bar-chart"></i> Blocked'},tooltip:function(){return"View the entire JVMs Camel blocked exchanges"},show:function(){return!r.isEndpointsFolder()&&(r.isRoute()||r.isRoutesFolder())&&h.isCamelVersionEQGT(2,15,r,b)&&r.hasInvokeRightsForName(h.getSelectionCamelBlockedExchanges(r),"browse")},href:function(){return"/camel/blocked"+r.hash()}}),d.tabs.push({id:"camel-route-metrics",title:function(){return'<i class="fa fa-bar-chart"></i> Route Metrics'},tooltip:function(){return"View the entire JVMs Camel route metrics"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&(r.isCamelContext()||r.isRoutesFolder())&&h.isCamelVersionEQGT(2,14,r,b)&&h.getSelectionCamelRouteMetrics(r)&&r.hasInvokeRightsForName(h.getSelectionCamelRouteMetrics(r),"dumpStatisticsAsJson")},href:function(){return"/camel/routeMetrics"+r.hash()}}),d.tabs.push({id:"camel-rest-services",title:function(){return'<i class="fa fa-list"></i> Rest Services'},tooltip:function(){return"List all the REST services registered in the context"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&!r.isComponentsFolder()&&!r.isComponent()&&(r.isCamelContext()||r.isRoutesFolder())&&h.isCamelVersionEQGT(2,14,r,b)&&h.getSelectionCamelRestRegistry(r)&&h.hasRestServices(r,b)&&r.hasInvokeRightsForName(h.getSelectionCamelRestRegistry(r),"listRestServices")},href:function(){return"/camel/restRegistry"+r.hash()}}),d.tabs.push({id:"camel-endpoint-runtime-registry",title:function(){return'<i class="fa fa-list"></i> Endpoints (in/out)'},tooltip:function(){return"List all the incoming and outgoing endpoints in the context"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&!r.isComponentsFolder()&&!r.isComponent()&&(r.isCamelContext()||r.isRoutesFolder())&&h.isCamelVersionEQGT(2,16,r,b)&&h.getSelectionCamelEndpointRuntimeRegistry(r)&&r.hasInvokeRightsForName(h.getSelectionCamelEndpointRuntimeRegistry(r),"endpointStatistics")},href:function(){return"/camel/endpointRuntimeRegistry"+r.hash()}}),d.tabs.push({id:"camel-type-converters",title:function(){return'<i class="fa fa-list"></i> Type Converters'},tooltip:function(){return"List all the type converters registered in the context"},show:function(){return!r.isEndpointsFolder()&&!r.isEndpoint()&&!r.isComponentsFolder()&&!r.isComponent()&&(r.isCamelContext()||r.isRoutesFolder())&&h.isCamelVersionEQGT(2,13,r,b)&&r.hasInvokeRightsForName(h.getSelectionCamelTypeConverter(r),"listTypeConverters")},href:function(){return"/camel/typeConverter"+r.hash()}}),d.tabs.push({id:"camel-route-profile",title:function(){return'<i class="fa fa-bar-chart"></i> Profile'},tooltip:function(){return"Profile the messages flowing through the Camel route"},show:function(){return r.isRoute()&&h.getSelectionCamelTraceMBean(r)&&r.hasInvokeRightsForName(h.getSelectionCamelTraceMBean(r),"dumpAllTracedMessagesAsXml")},href:function(){return"/camel/profileRoute"+r.hash()}}),d.tabs.push({id:"camel-route-debug",title:function(){return'<i class="fa fa-stethoscope"></i> Debug'},tooltip:function(){return"Debug the Camel route"},show:function(){return r.isRoute()&&h.getSelectionCamelDebugMBean(r)&&r.hasInvokeRightsForName(h.getSelectionCamelDebugMBean(r),"getBreakpoints")},href:function(){return"/camel/debugRoute"+r.hash()}}),d.tabs.push({id:"camel-route-trace",title:function(){return'<i class="fa fa-envelope"></i> Trace'},tooltip:function(){return"Trace the messages flowing through the Camel route"},show:function(){return r.isRoute()&&h.getSelectionCamelTraceMBean(r)&&r.hasInvokeRightsForName(h.getSelectionCamelTraceMBean(r),"dumpAllTracedMessagesAsXml")},href:function(){return"/camel/traceRoute"+r.hash()}}),d.tabs.push({id:"camel-endpoint-browser",title:function(){return'<i class="fa fa-envelope"></i> Browse'},tooltip:function(){return"Browse the messages on the endpoint"},show:function(){return r.isEndpoint()&&r.hasInvokeRights(r.selection,"browseAllMessagesAsXml")},href:function(){return"/camel/browseEndpoint"+r.hash()}}),d.tabs.push({id:"camel-endpoint-send",title:function(){return'<i class="fa fa-pencil"></i> Send'},show:function(){return r.isEndpoint()&&r.hasInvokeRights(r.selection,"org.apache.camel"===r.selection.domain?"sendBodyAndHeaders":"sendTextMessage")},href:function(){return"/camel/sendMessage"+r.hash()}}),d.tabs.push({id:"camel-endpoint-create",title:function(){return'<i class="fa fa-plus"></i> Endpoint'},tooltip:function(){return"Create a new endpoint"},show:function(){return r.isEndpointsFolder()&&r.hasInvokeRights(r.selection,"createEndpoint")},href:function(){return"/camel/createEndpoint"+r.hash()}}),e.add(d),r.addNamedTreePostProcessor("camel",function(e){var m=[],v=h.jmxDomain;if(e){var y=new Folder("Camel Contexts");y.addClass="org-apache-camel-context-folder",y.children=m,y.typeName="context",y.key="camelContexts",y.domain=v;var t=e.get(v);t&&(angular.forEach(t.children,function(e,t){var n=e.map;if(n){var i=n.context,r=n.routes,o=n.endpoints,a=n.components,s=n.dataformats;if(i){var l=i.children[0];if(l){var c=l.title,u=new Folder(c);if(u.addClass="org-apache-camel-context",u.domain=v,u.objectName=l.objectName,u.entries=l.entries,u.typeName=l.typeName,u.key=l.key,u.version=l.version,b.request({type:"read",mbean:l.objectName,attribute:"CamelVersion"},Core.onSuccess(function(e){l.version=e.value,Core.$apply(w)})),r){var d=new Folder("Routes");d.addClass="org-apache-camel-routes-folder",d.parent=i,d.children=r.children,angular.forEach(d.children,function(e){return e.addClass="org-apache-camel-routes"}),u.children.push(d),d.typeName="routes",d.key=r.key,d.domain=r.domain}if(o){var h=new Folder("Endpoints");h.addClass="org-apache-camel-endpoints-folder",h.parent=i,h.children=o.children,angular.forEach(h.children,function(e){e.addClass="org-apache-camel-endpoints"}),u.children.push(h),h.entries=l.entries,h.typeName="endpoints",h.key=o.key,h.domain=o.domain}if(a){var p=new Folder("Components");p.addClass="org-apache-camel-components-folder",p.parent=i,p.children=a.children,angular.forEach(p.children,function(e){e.addClass="org-apache-camel-components"}),u.children.push(p),p.entries=l.entries,p.typeName="components",p.key=a.key,p.domain=a.domain}if(s){var f=new Folder("Dataformats");f.addClass="org-apache-camel-dataformats-folder",f.parent=i,f.children=s.children,angular.forEach(f.children,function(e){e.addClass="org-apache-camel-dataformats"}),u.children.push(f),f.entries=l.entries,f.typeName="dataformats",f.key=s.key,f.domain=s.domain}var g=new Folder("MBeans");angular.forEach(n,function(e,t){"context"!==t&&"routes"!==t&&"endpoints"!==t&&"components"!==t&&"dataformats"!==t&&g.children.push(e)}),0<g.children.length&&(g.sortChildren(!1),u.children.push(g)),u.parent=y,m.push(u)}}}}),t.children.splice(0,0,y))}})}]),hawtioPluginLoader.addModule(h.pluginName),hawtioPluginLoader.registerPreBootstrapTask(function(e){t.registerLazyLoadHandler(h.jmxDomain,function(e){return h.jmxDomain===e.domain&&"routes"===e.typeName?function(e,t,n){"routes"===t.typeName?h.processRouteXml(e,e.jolokia,t,function(e){e&&h.addRouteChildren(t,e),n()}):n()}:null}),e()})}(Camel||(Camel={})),function(i){i._module.controller("Camel.AttributesToolBarController",["$scope","workspace","jolokia",function(e,t,n){e.deleteDialog=!1,e.start=function(){e.invokeSelectedMBeans(function(e){return i.isState(e,"suspend")?"resume()":"start()"})},e.pause=function(){e.invokeSelectedMBeans("suspend()")},e.stop=function(){e.invokeSelectedMBeans("stop()",function(){t.removeAndSelectParentNode()})},e.delete=function(){e.invokeSelectedMBeans("remove()",function(){e.workspace.operationCounter+=1,t.loadTree()})},e.anySelectionHasState=function(t){return(e.selectedItems||[]).some(function(e){return i.isState(e,t)})},e.everySelectionHasState=function(t){return(e.selectedItems||[]).every(function(e){return i.isState(e,t)})}}])}(Camel||(Camel={})),function(u){u._module.controller("Camel.BlockedExchangesController",["$scope","$location","workspace","jolokia",function(o,e,a,s){var l=Logger.get("Camel");o.data=[],o.initDone=!1,o.mbeanAttributes={};function c(){Core.notification("success","Thread unblocked")}function i(e){var t=e.value;if(t){var n=[];for(var i in t){var r=t[i];n.push({exchangeId:r.exchangeId,routeId:r.routeId,nodeId:r.nodeId,duration:r.duration,threadId:r.id,threadName:r.name})}n=_.sortBy(n,"exchangeId"),o.data=n,o.selectedMBean=e.request.mbean}else o.data=[];o.initDone="true",Core.$apply(o)}o.gridOptions={data:"data",displayFooter:!0,displaySelectionCheckbox:!0,multiSelect:!1,canSelectRows:!0,enableSorting:!0,columnDefs:[{field:"exchangeId",displayName:"Exchange Id",cellFilter:null,width:"*",resizable:!0},{field:"routeId",displayName:"Route Id",cellFilter:null,width:"*",resizable:!0},{field:"nodeId",displayName:"Node Id",cellFilter:null,width:"*",resizable:!0},{field:"duration",displayName:"Duration (ms)",cellFilter:null,width:"*",resizable:!0},{field:"threadId",displayName:"Thread id",cellFilter:null,width:"*",resizable:!0},{field:"threadName",displayName:"Thread name",cellFilter:null,width:"*",resizable:!0}],selectedItems:[],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.exchangeId}},o.doUnblock=function(){var e=u.getSelectionCamelBlockedExchanges(a),t=o.gridOptions.selectedItems;if(e&&t&&1===t.length){var n=t[0].exchangeId,i=t[0].threadId,r=t[0].threadName;l.info("Unblocking thread ("+i+"/"+r+") for exchangeId: "+n),s.execute(e,"interrupt(java.lang.String)",n,Core.onSuccess(c))}},function(){l.info("Loading blocked exchanges data...");var e=u.getSelectedRouteId(a);null!=e&&(o.gridOptions.filterOptions.filterText=e);var t=u.getSelectionCamelBlockedExchanges(a);if(t){var n={type:"exec",mbean:t,operation:"browse()"};s.request(n,Core.onSuccess(i)),Core.scopeStoreJolokiaHandle(o,s,s.register(Core.onSuccess(i),n))}}()}])}(Camel||(Camel={})),function(d){d._module.controller("Camel.BreadcrumbBarController",["$scope","$routeParams","workspace","jolokia",function(o,e,s,t){o.workspace=s,null!=e&&(o.contextId=e.contextId,o.endpointPath=e.endpointPath,o.endpointName=u(o.endpointPath),o.routeId=e.routeId),o.treeViewLink=function(){var e=null;if(o.contextId){var t=null,n=null;o.endpointPath?(n="browseEndpoint",t=s.findMBeanWithProperties(d.jmxDomain,{context:o.contextId,type:"endpoints",name:o.endpointPath})):o.routeId&&(n="routes",t=s.findMBeanWithProperties(d.jmxDomain,{context:o.contextId,type:"routes",name:o.routeId}));var i=t?t.key:null;i&&n&&(e="#/camel/"+n+"?tab=camel&nid="+i)}return e}();var n,i,r=o.endpointPath?"endpoints":"routes";function a(){return Core.pathGet(o,["breadcrumbs","childEntity"])||r}function l(e,t){var n=c(e,t);return 0<n.length?n[0].link:d.linkToBrowseEndpointFullScreen(e,"noEndpoints")}function c(e,t){return"endpoints"===t?function(o){var a=[],e=d.getCamelContextFolder(s,o);if(e){var t=_.find(e.children||[],{title:"endpoints"});t&&angular.forEach(t.children,function(e){var t=e?e.entries:null;if(t){var n=t.name;if(n){var i=u(n),r=d.linkToBrowseEndpointFullScreen(o,n);a.push({contextId:o,path:n,name:i,tooltip:"Endpoint",link:r})}}})}return a}(e):function(o){var a=[],e=d.getCamelContextFolder(s,o);if(e){var t=_.find(e.children||[],{title:"routes"});t&&angular.forEach(t.children,function(e){var t=e?e.entries:null;if(t){var n=t.name;if(n){var i=u(n),r=d.linkToRouteDiagramFullScreen(o,n);a.push({contextId:o,path:n,name:i,tooltip:"Camel Route",link:r})}}})}return a}(e)}function u(e){return e?Core.trimQuotes(e):e}o.breadcrumbs=[{name:o.contextId,items:function(){var r=[],e=d.getRootCamelFolder(s);e&&angular.forEach(e.children,function(e){var t=e.title;if(t&&t!==o.contextId){var n=t,i=l(t,a());r.push({name:n,tooltip:"Camel Context",link:i})}});return r}(),tooltip:"Camel Context"},{name:r,items:(n=o.contextId,i=[],angular.forEach(["endpoints","routes"],function(e){if(e&&e!==a()){var t=l(n,e);i.push({name:e,tooltip:"Entity inside a Camel Context",link:t})}}),i),tooltip:"Entity inside a Camel Context"},{name:o.endpointName||u(o.routeId),items:c(o.contextId,a()),tooltip:{endpoints:"Camel Endpoint",routes:"Camel Route"}[r]}]}])}(Camel||(Camel={})),function(d){d.BrowseEndpointController=d._module.controller("Camel.BrowseEndpointController",["$scope","$routeParams","workspace","jolokia",function(r,e,i,l){function c(){}function u(){r.messageDialog&&r.messageDialog.close(),r.gridOptions.selectedItems.splice(0),Core.notification("success",r.message),setTimeout(t,50)}function t(){var e=null;if(r.contextId&&r.endpointPath){var t=i.findMBeanWithProperties(d.jmxDomain,{context:r.contextId,type:"endpoints",name:r.endpointPath});t&&(e=t.objectName)}if(e||(e=i.getSelectedMBeanName()),e){d.log.info("MBean: "+e);var n=Core.onSuccess(o);l.execute(e,"browseAllMessagesAsXml(java.lang.Boolean)",!0,n)}}function o(e){var i=[];if(angular.isString(e)){var t=$.parseXML(e);$(t).find("message").each(function(e,t){var n=d.createMessageFromXml(t);n.openMessageDialog=r.openMessageDialog,i.push(n)})}r.messages=i,Core.$apply(r)}r.workspace=i,r.forwardDialog=new UI.Dialog,r.showMessageDetails=!1,r.mode="text",r.gridOptions=d.createBrowseGridOptions(),r.contextId=e.contextId,r.endpointPath=e.endpointPath,r.isJmxTab=!e.contextId||!e.endpointPath,r.$watch("workspace.selection",function(){r.isJmxTab&&i.moveIfViewInvalid()||t()}),r.openMessageDialog=function(e){ActiveMQ.selectCurrentMessage(e,"id",r),r.row&&(r.mode=CodeEditor.detectTextFormat(r.row.body),r.showMessageDetails=!0)},ActiveMQ.decorate(r),r.forwardMessagesAndCloseForwardDialog=function(){var o=d.getSelectionCamelContextMBean(i),a=r.gridOptions.selectedItems,s=r.endpointUri;o&&s&&a&&a.length&&(l.execute(o,"createEndpoint(java.lang.String)",s,Core.onSuccess(c)),r.message="Forwarded "+Core.maybePlural(a.length,"message to "+s),angular.forEach(a,function(e,t){var n=t+1<a.length?c:u,i=e.body,r=e.headers;l.execute(o,"sendBodyAndHeaders(java.lang.String, java.lang.Object, java.util.Map)",s,i,r,Core.onSuccess(n))})),r.forwardDialog.close()},r.endpointUris=function(){var e=d.getSelectionCamelContextEndpoints(i);return e?e.children.map(function(e){return e.title}):[]},r.refresh=t}])}(Camel||(Camel={})),(Camel||(Camel={})).camelHeaderSchema={definitions:{headers:{properties:{CamelAuthentication:{type:"java.lang.String"},CamelAuthenticationFailurePolicyId:{type:"java.lang.String"},CamelAcceptContentType:{type:"java.lang.String"},CamelAggregatedSize:{type:"java.lang.String"},CamelAggregatedTimeout:{type:"java.lang.String"},CamelAggregatedCompletedBy:{type:"java.lang.String"},CamelAggregatedCorrelationKey:{type:"java.lang.String"},CamelAggregationStrategy:{type:"java.lang.String"},CamelAggregationCompleteAllGroups:{type:"java.lang.String"},CamelAggregationCompleteAllGroupsInclusive:{type:"java.lang.String"},CamelAsyncWait:{type:"java.lang.String"},CamelBatchIndex:{type:"java.lang.String"},CamelBatchSize:{type:"java.lang.String"},CamelBatchComplete:{type:"java.lang.String"},CamelBeanMethodName:{type:"java.lang.String"},CamelBeanMultiParameterArray:{type:"java.lang.String"},CamelBinding:{type:"java.lang.String"},breadcrumbId:{type:"java.lang.String"},CamelCharsetName:{type:"java.lang.String"},CamelCreatedTimestamp:{type:"java.lang.String"},"Content-Encoding":{type:"java.lang.String"},"Content-Length":{type:"java.lang.String"},"Content-Type":{type:"java.lang.String"},CamelCorrelationId:{type:"java.lang.String"},CamelDataSetIndex:{type:"java.lang.String"},"org.apache.camel.default.charset":{type:"java.lang.String"},CamelDestinationOverrideUrl:{type:"java.lang.String"},CamelDisableHttpStreamCache:{type:"java.lang.String"},CamelDuplicateMessage:{type:"java.lang.String"},CamelExceptionCaught:{type:"java.lang.String"},CamelExceptionHandled:{type:"java.lang.String"},CamelEvaluateExpressionResult:{type:"java.lang.String"},CamelErrorHandlerHandled:{type:"java.lang.String"},CamelExternalRedelivered:{type:"java.lang.String"},CamelFailureHandled:{type:"java.lang.String"},CamelFailureEndpoint:{type:"java.lang.String"},CamelFailureRouteId:{type:"java.lang.String"},CamelFilterNonXmlChars:{type:"java.lang.String"},CamelFileLocalWorkPath:{type:"java.lang.String"},CamelFileName:{type:"java.lang.String"},CamelFileNameOnly:{type:"java.lang.String"},CamelFileNameProduced:{type:"java.lang.String"},CamelFileNameConsumed:{type:"java.lang.String"},CamelFilePath:{type:"java.lang.String"},CamelFileParent:{type:"java.lang.String"},CamelFileLastModified:{type:"java.lang.String"},CamelFileLength:{type:"java.lang.String"},CamelFilterMatched:{type:"java.lang.String"},CamelFileLockFileAcquired:{type:"java.lang.String"},CamelFileLockFileName:{type:"java.lang.String"},CamelGroupedExchange:{type:"java.lang.String"},CamelHttpBaseUri:{type:"java.lang.String"},CamelHttpCharacterEncoding:{type:"java.lang.String"},CamelHttpMethod:{type:"java.lang.String"},CamelHttpPath:{type:"java.lang.String"},CamelHttpProtocolVersion:{type:"java.lang.String"},CamelHttpQuery:{type:"java.lang.String"},CamelHttpResponseCode:{type:"java.lang.String"},CamelHttpUri:{type:"java.lang.String"},CamelHttpUrl:{type:"java.lang.String"},CamelHttpChunked:{type:"java.lang.String"},CamelHttpServletRequest:{type:"java.lang.String"},CamelHttpServletResponse:{type:"java.lang.String"},CamelInterceptedEndpoint:{type:"java.lang.String"},CamelInterceptSendToEndpointWhenMatched:{type:"java.lang.String"},CamelLanguageScript:{type:"java.lang.String"},CamelLogDebugBodyMaxChars:{type:"java.lang.String"},CamelLogDebugStreams:{type:"java.lang.String"},CamelLoopIndex:{type:"java.lang.String"},CamelLoopSize:{type:"java.lang.String"},CamelMaximumCachePoolSize:{type:"java.lang.String"},CamelMaximumEndpointCacheSize:{type:"java.lang.String"},CamelMessageHistory:{type:"java.lang.String"},CamelMulticastIndex:{type:"java.lang.String"},CamelMulticastComplete:{type:"java.lang.String"},CamelNotifyEvent:{type:"java.lang.String"},CamelOnCompletion:{type:"java.lang.String"},CamelOverruleFileName:{type:"java.lang.String"},CamelParentUnitOfWork:{type:"java.lang.String"},CamelRecipientListEndpoint:{type:"java.lang.String"},CamelReceivedTimestamp:{type:"java.lang.String"},CamelRedelivered:{type:"java.lang.String"},CamelRedeliveryCounter:{type:"java.lang.String"},CamelRedeliveryMaxCounter:{type:"java.lang.String"},CamelRedeliveryExhausted:{type:"java.lang.String"},CamelRedeliveryDelay:{type:"java.lang.String"},CamelRollbackOnly:{type:"java.lang.String"},CamelRollbackOnlyLast:{type:"java.lang.String"},CamelRouteStop:{type:"java.lang.String"},CamelSoapAction:{type:"java.lang.String"},CamelSkipGzipEncoding:{type:"java.lang.String"},CamelSlipEndpoint:{type:"java.lang.String"},CamelSplitIndex:{type:"java.lang.String"},CamelSplitComplete:{type:"java.lang.String"},CamelSplitSize:{type:"java.lang.String"},CamelTimerCounter:{type:"java.lang.String"},CamelTimerFiredTime:{type:"java.lang.String"},CamelTimerName:{type:"java.lang.String"},CamelTimerPeriod:{type:"java.lang.String"},CamelTimerTime:{type:"java.lang.String"},CamelToEndpoint:{type:"java.lang.String"},CamelTraceEvent:{type:"java.lang.String"},CamelTraceEventNodeId:{type:"java.lang.String"},CamelTraceEventTimestamp:{type:"java.lang.String"},CamelTraceEventExchange:{type:"java.lang.String"},"Transfer-Encoding":{type:"java.lang.String"},CamelUnitOfWorkExhausted:{type:"java.lang.String"},CamelUnitOfWorkProcessSync:{type:"java.lang.String"},CamelXsltFileName:{type:"java.lang.String"}}}}},function(T){T._module.controller("Camel.DebugRouteController",["$scope","$element","workspace","jolokia","localStorage","documentBase",function(o,n,a,s,l,e){var c=Logger.get("CamelDebugger");function u(){var e=f();if(e){var t=w();T.highlightSelectedNode(t,e)}else T.highlightSelectedNode(t,null)}function i(){o.debugging=!1;var e=T.getSelectionCamelDebugMBean(a);e&&(o.debugging=s.getAttribute(e,"Enabled",Core.onSuccess(null)),o.debugging?(s.execute(e,"getBreakpoints",Core.onSuccess(m)),o.graphView="plugins/camel/html/routes.html",Core.register(s,o,{type:"exec",mbean:e,operation:"getDebugCounter"},Core.onSuccess(t))):o.graphView=null)}function t(e){var t,n=e.value;n&&n!==o.breakpointCounter&&(o.breakpointCounter=n,(t=T.getSelectionCamelDebugMBean(a))&&(console.log("getting suspended breakpoints!"),s.execute(t,"getSuspendedBreakpointNodeIds",Core.onSuccess(r))))}function r(e){var t=T.getSelectionCamelDebugMBean(a);o.suspendedBreakpoints=e,o.stopped=e&&e.length;var n=f();t&&n&&(s.execute(t,"dumpTracedMessagesAsXml",n,Core.onSuccess(d)),o.selectedDiagramNodeId=n)}function d(e,t){if(c.debug("onMessage -> "+e),o.messages=[],e){var n=e;if(angular.isString(n)){var i=$.parseXML(n),r=$(i).find("fabricTracerEventMessage");r&&r.length||(r=$(i).find("backlogTracerEventMessage")),r.each(function(e,t){var n=T.createMessageFromXml(t),i=$(t).find("toNode").text();i&&(n.toNode=i),n.openMessageDialog=o.openMessageDialog,o.messages.push(n)})}}else c.warn("WARNING: dumpTracedMessagesAsXml() returned no results!");h(),S(),u(),c.debug("has messages "+o.messages.length+" selected row "+o.row+" index "+o.rowIndex),Core.$apply(o)}function h(){if(0<o.messages.length){o.row=o.messages[0];var e=o.row.body;o.mode=angular.isString(e)?CodeEditor.detectTextFormat(e):"text","javascript"==o.mode&&(o.mode="text")}else o.row={headers:{},body:"",bodyType:""},o.mode="text"}function p(){o.messages=[],o.suspendedBreakpoints=[],o.stopped=!1,h(),S(),u(),Core.$apply(o)}function f(){var e=null,t=o.suspendedBreakpoints;return t&&t.length&&(e=t[0],1<t.length&&g(o.selectedDiagramNodeId)&&(e=o.selectedDiagramNodeId)),e}function g(e){return b(o.suspendedBreakpoints,e)}function m(e){o.breakpoints=e,y();var t=w();t.length&&S(t),Core.$apply(o)}function v(e){return b(o.breakpoints,e)}function y(){o.hasBreakpoint=v(o.selectedDiagramNodeId)}function b(e,t){return t&&e&&-1!==e.indexOf(t)}function w(){return d3.select("svg").selectAll("g .node")}o.debugging=!1,o.stopped=!1,o.ignoreRouteXmlNode=!0,o.messages=[],o.mode="text",o.showMessageDetails=!0,o.startDebugging=function(){c.info("Start debugging"),_(!0)},o.stopDebugging=function(){c.info("Stop debugging"),_(!1)},o.$on("$routeChangeSuccess",function(e,t,n){setTimeout(i,50)}),o.$on("camel.diagram.selectedNodeId",function(e,t){o.selectedDiagramNodeId=t,y()}),o.$on("camel.diagram.layoutComplete",function(e,t){S(),$(n).find("g.node").dblclick(function(e){var t=this.getAttribute("data-cid");o.toggleBreakpoint(t)})}),o.$watch("workspace.selection",function(){a.moveIfViewInvalid()||i()}),o.toggleBreakpoint=function(e){c.info("Toggle breakpoint");var t=T.getSelectionCamelDebugMBean(a);if(t&&e){var n=v(e)?"removeBreakpoint":"addBreakpoint";s.execute(t,n,e,Core.onSuccess(k))}},o.addBreakpoint=function(){c.info("Add breakpoint");var e=T.getSelectionCamelDebugMBean(a);e&&o.selectedDiagramNodeId&&s.execute(e,"addBreakpoint",o.selectedDiagramNodeId,Core.onSuccess(k))},o.removeBreakpoint=function(){c.info("Remove breakpoint");var e=T.getSelectionCamelDebugMBean(a);e&&o.selectedDiagramNodeId&&s.execute(e,"removeBreakpoint",o.selectedDiagramNodeId,Core.onSuccess(k))},o.resume=function(){c.info("Resume");var e=T.getSelectionCamelDebugMBean(a);e&&s.execute(e,"resumeAll",Core.onSuccess(p))},o.suspend=function(){c.info("Suspend");var e=T.getSelectionCamelDebugMBean(a);e&&s.execute(e,"suspendAll",Core.onSuccess(p))},o.step=function(){c.info("Step");var e=T.getSelectionCamelDebugMBean(a),t=f();e&&t&&s.execute(e,"stepBreakpoint(java.lang.String)",t,Core.onSuccess(p))};var x=UrlHelpers.join(e,"/img/icons/camel/breakpoint.gif"),C=UrlHelpers.join(e,"/img/icons/camel/breakpoint-suspended.gif");function S(e){void 0===e&&(e=w()),e.each(function(e){var t=e.cid,n=d3.select(this),i=n.selectAll("image.breakpoint"),r=g(t);if(v(t)||r){var o=r?C:x;i.length&&i[0].length?i.attr("xlink:href",function(e){return o}):n.append("image").attr("xlink:href",function(e){return o}).attr("class","breakpoint").attr("x",-12).attr("y",-20).attr("height",24).attr("width",24)}else i.remove()})}function k(e){i(),Core.$apply(o)}function _(e){var t=T.getSelectionCamelDebugMBean(a);if(t){var n=e?"enableDebugger":"disableDebugger",i=T.maximumTraceOrDebugBodyLength(l),r=T.traceOrDebugIncludeStreams(l);s.setAttribute(t,"BodyMaxChars",i),s.setAttribute(t,"BodyIncludeStreams",r),s.setAttribute(t,"BodyIncludeFiles",r),s.execute(t,n,Core.onSuccess(k))}}}])}(Camel||(Camel={})),function(r){r._module.controller("Camel.EndpointController",["$scope","$location","localStorage","workspace","jolokia",function(l,e,t,c,n){function i(){l.endpointName="",l.workspace.operationCounter+=1,Core.$apply(l),Core.notification("success",l.message)}function u(){if(c.selection){var e=Core.pathGet(c,["selection","parent"]);e&&l.workspace.updateSelectionNode(e)}l.workspace.operationCounter+=1,Core.$apply(l),Core.notification("success",l.message)}r.initEndpointChooserScope(l,e,t,c,n),l.workspace=c,l.message="",l.createEndpoint=function(e){var t=c.jolokia;if(t){var n=r.getSelectionCamelContextMBean(c);if(n){l.message="Creating endpoint "+e;t.execute(n,"createEndpoint(java.lang.String)",e,Core.onSuccess(i))}else Core.notification("error","Could not find the CamelContext MBean!")}},l.createEndpointFromData=function(){if(l.selectedComponentName&&l.endpointPath){var e=l.selectedComponentName+"://"+l.endpointPath;console.log("Have endpoint data "+JSON.stringify(l.endpointParameters));var n="";angular.forEach(l.endpointParameters,function(e,t){n+=(n?"&":"")+t+"="+e}),n&&(e+="?"+n),l.createEndpoint(e)}},l.deleteEndpoint=function(){var e=c.jolokia,t=c.selection,n=t.entries;if(t&&e&&n){var i=t.domain,r=n.BrokerName,o=n.Destination,a="Topic"!==n.Type;if(i&&r){var s=i+":BrokerName="+r+",Type=Broker";l.message="Deleting "+(a?"queue":"topic")+" "+o;e.execute(s,"removeEndpoint(java.lang.String)",o,Core.onSuccess(u))}}}}])}(Camel||(Camel={})),function(p){p.endpointCategories={bigdata:{label:"Big Data",endpoints:["hdfs","hbase","lucene","solr"],endpointIcon:"img/icons/camel/endpointRepository24.png"},database:{label:"Database",endpoints:["couchdb","elasticsearch","hbase","jdbc","jpa","hibernate","mongodb","mybatis","sql"],endpointIcon:"img/icons/camel/endpointRepository24.png"},cloud:{label:"Cloud",endpoints:["aws-cw","aws-ddb","aws-sdb","aws-ses","aws-sns","aws-sqs","aws-s3","gauth","ghhtp","glogin","gtask","jclouds"]},core:{label:"Core",endpoints:["bean","direct","seda"]},messaging:{label:"Messaging",endpoints:["jms","activemq","amqp","cometd","cometds","mqtt","netty","vertx","websocket"],endpointIcon:"img/icons/camel/endpointQueue24.png"},mobile:{label:"Mobile",endpoints:["apns"]},sass:{label:"SaaS",endpoints:["salesforce","sap-netweaver"]},social:{label:"Social",endpoints:["atom","facebook","irc","ircs","rss","smpp","twitter","weather"]},storage:{label:"Storage",endpointIcon:"img/icons/camel/endpointFolder24.png",endpoints:["file","ftp","sftp","scp","jsch"]},template:{label:"Templating",endpoints:["freemarker","velocity","xquery","xslt","scalate","string-template"]}},p.endpointToCategory={},p.endpointIcon="img/icons/camel/endpoint24.png",p.endpointConfigurations={drools:{icon:"img/icons/camel/endpointQueue24.png"},quartz:{icon:"img/icons/camel/endpointTimer24.png"},facebook:{icon:"img/icons/camel/endpoints/facebook24.jpg"},salesforce:{icon:"img/icons/camel/endpoints/salesForce24.png"},sap:{icon:"img/icons/camel/endpoints/SAPe24.png"},"sap-netweaver":{icon:"img/icons/camel/endpoints/SAPNetweaver24.jpg"},timer:{icon:"img/icons/camel/endpointTimer24.png"},twitter:{icon:"img/icons/camel/endpoints/twitter24.png"},weather:{icon:"img/icons/camel/endpoints/weather24.jpg"}},p.endpointForms={file:{tabs:{Options:["*"]}},activemq:{tabs:{Connection:["clientId","transacted","transactedInOut","transactionName","transactionTimeout"],Producer:["timeToLive","priority","allowNullBody","pubSubNoLocal","preserveMessageQos"],Consumer:["concurrentConsumers","acknowledgementModeName","selector","receiveTimeout"],Reply:["replyToDestination","replyToDeliveryPersistent","replyToCacheLevelName","replyToDestinationSelectorName"],Options:["*"]}}},p.endpointForms.jms=p.endpointForms.activemq,angular.forEach(p.endpointCategories,function(t,e){t.id=e,angular.forEach(t.endpoints,function(e){p.endpointToCategory[e]=t})});var t={route:{Overview:["id","description"],Advanced:["*"]}};function r(e){return p.endpointToCategory[e]||p.endpointCategories.core}p.getEndpointIcon=function(e){var t=p.getEndpointConfig(e,null),n=Core.pathGet(t,["icon"]);if(!n){var i=r(e);n=Core.pathGet(i,["endpointIcon"])}return n=n||p.endpointIcon},p.getEndpointConfig=function(e,t){var n=p.endpointConfigurations[e];return n||(n={},p.endpointConfigurations[e]=n),n.label||(n.label=e),n.icon||(n.icon=Core.pathGet(t,["endpointIcon"])||p.endpointIcon),n.category||(n.category=t),n},p.getEndpointCategory=r,p.getConfiguredCamelModel=function(){var e=p._apacheCamelModel,i=e.definitions;return i&&angular.forEach(t,function(e,t){var n=i[t];n&&(n.tabs||(n.tabs=e))}),e},p.initEndpointChooserScope=function(c,u,d,h,e){c.selectedComponentName=null,c.endpointParameters={},c.endpointPath="",c.schema={definitions:{}},c.jolokia=e;var r={silent:!0};function t(e){c.componentNames=e,p.log.info("onComponents: "+e),c.hasComponentNames=!!c.componentNames,Core.$apply(c)}function n(t){if(t)try{var e=JSON.parse(t),n=c.selectedComponentName;!function(e,t){console.log("======== configuring schema for "+e);var n=p.endpointForms[e];n&&t&&n.tabs&&(t.tabs=n.tabs)}(n,e),c.endpointSchema=e,c.schema.definitions[n]=e,c.loadedEndpointSchema=n,Core.$apply(c)}catch(e){console.log("Failed to parse JSON "+e),console.log("JSON: "+t)}}function o(){var e=c.profileWorkspace;if(!e){var t=c.jolokia;t&&(e=Core.createRemoteWorkspace(t,u,d),c.profileWorkspace=e)}e||(p.log.info("No profileWorkspace found so defaulting it to workspace for now"),e=h);var n,i,r=c.selectedComponentName;angular.isDefined(c.camelSelectionDetails)&&(n=c.camelSelectionDetails.selectedCamelContextId,i=c.camelSelectionDetails.selectedRouteId),console.log("==== componentName "+r+" selectedCamelContextId: "+n+" selectedRouteId: "+i);var o,a=p.camelContextMBeansById(e);if(n&&(o=Core.pathGet(a,[n,"mbean"])))return o;if(i){var s=p.camelContextMBeansByRouteId(e);if(o=Core.pathGet(s,[i,"mbean"]))return o}if(r&&(s=p.camelContextMBeansByComponentName(e),o=Core.pathGet(s,[r,"mbean"])))return o;var l=null;return angular.forEach(a,function(e,t){var n=e.mbean;!l&&n&&(l=n)}),l}c.$watch("workspace.selection",function(){c.loadEndpointNames()}),c.$watch("selectedComponentName",function(){c.selectedComponentName!==c.loadedComponentName&&(c.endpointParameters={},c.loadEndpointSchema(c.selectedComponentName),c.loadedComponentName=c.selectedComponentName)}),c.endpointCompletions=function(e){var t=null,n=o(),i=c.selectedComponentName;return n&&i&&e&&(t=c.jolokia.execute(n,"completeEndpointPath",i,{},e,Core.onSuccess(null,r))),t||[]},c.loadEndpointNames=function(){c.componentNames=null;var e=o();e?c.jolokia.execute(e,"findComponentNames",Core.onSuccess(t,{silent:!0})):console.log("WARNING: No camel context mbean so cannot load component names")},c.loadEndpointSchema=function(e){var t=o();t&&e&&e!==c.loadedEndpointSchema&&(c.selectedComponentName=e,c.jolokia.execute(t,"componentParameterJsonSchema",e,Core.onSuccess(n,r)))}}}(Camel||(Camel={})),function(r){r._module.controller("Camel.EndpointRuntimeRegistryController",["$scope","$location","workspace","jolokia",function(o,e,t,n){o.data=[],o.selectedMBean=null,o.mbeanAttributes={};function i(e){var t=e.value;if(t){var n=[];for(var i in t){var r=t[i];n.push({url:r.url,routeId:r.routeId,direction:r.direction,static:r.static,dynamic:r.dynamic,hits:r.hits})}n=_.sortBy(n,"url"),o.data=n,o.selectedMBean=e.request.mbean}else o.selectedMBean="true";Core.$apply(o)}o.gridOptions={data:"data",displayFooter:!0,displaySelectionCheckbox:!1,canSelectRows:!1,enableSorting:!0,columnDefs:[{field:"url",displayName:"Url",cellFilter:null,width:"*",resizable:!0},{field:"routeId",displayName:"Route Id",cellFilter:null,width:"*",resizable:!0},{field:"direction",displayName:"Direction",cellFilter:null,width:"*",resizable:!0},{field:"static",displayName:"Static",cellFilter:null,width:"*",resizable:!0},{field:"dynamic",displayName:"Dynamic",cellFilter:null,width:"*",resizable:!0},{field:"hits",displayName:"Hits",cellFilter:null,width:"*",resizable:!0}],selectedItems:[],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.routeId}},o.renderIcon=function(e){return r.iconClass(e)},function(){console.log("Loading EndpointRuntimeRegistry data...");var e=r.getSelectionCamelEndpointRuntimeRegistry(t);e&&n.request({type:"exec",mbean:e,operation:"endpointStatistics"},Core.onSuccess(i))}()}])}(Camel||(Camel={})),function(s){s._module.controller("Camel.InflightController",["$scope","$location","workspace","jolokia",function(o,e,i,r){o.data=[],o.initDone=!1,o.mbeanAttributes={};function a(e){var t=e.value;if(t){var n=[];for(var i in t){var r=t[i];n.push({exchangeId:r.exchangeId,routeId:r.routeId,nodeId:r.nodeId,duration:r.duration,elapsed:r.elapsed})}n=_.sortBy(n,"exchangeId"),o.data=n,o.selectedMBean=e.request.mbean}else o.data=[];o.initDone="true",Core.$apply(o)}o.gridOptions={data:"data",displayFooter:!0,displaySelectionCheckbox:!1,canSelectRows:!1,enableSorting:!0,columnDefs:[{field:"exchangeId",displayName:"Exchange Id",cellFilter:null,width:"*",resizable:!0},{field:"routeId",displayName:"Route Id",cellFilter:null,width:"*",resizable:!0},{field:"nodeId",displayName:"Node Id",cellFilter:null,width:"*",resizable:!0},{field:"duration",displayName:"Duration (ms)",cellFilter:null,width:"*",resizable:!0},{field:"elapsed",displayName:"Elapsed (ms)",cellFilter:null,width:"*",resizable:!0}],selectedItems:[],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.exchangeId}},o.renderIcon=function(e){return s.iconClass(e)},function(){console.log("Loading inflight data...");var e=s.getSelectedRouteId(i);null!=e&&(o.gridOptions.filterOptions.filterText=e);var t=s.getSelectionCamelInflightRepository(i);if(t){var n={type:"exec",mbean:t,operation:"browse()"};Core.scopeStoreJolokiaHandle(o,r,r.register(a,n))}}()}])}(Camel||(Camel={})),(Camel||(Camel={})).jmsHeaderSchema={definitions:{headers:{properties:{JMSCorrelationID:{type:"java.lang.String"},JMSDeliveryMode:{type:"string",enum:["PERSISTENT","NON_PERSISTENT"]},JMSDestination:{type:"javax.jms.Destination"},JMSExpiration:{type:"long"},JMSPriority:{type:"int"},JMSReplyTo:{type:"javax.jms.Destination"},JMSType:{type:"java.lang.String"},JMSXGroupId:{type:"java.lang.String"},AMQ_SCHEDULED_CRON:{type:"java.lang.String"},AMQ_SCHEDULED_DELAY:{type:"java.lang.String"},AMQ_SCHEDULED_PERIOD:{type:"java.lang.String"},AMQ_SCHEDULED_REPEAT:{type:"java.lang.String"}}},"javax.jms.Destination":{type:"java.lang.String"}}},function(i){i._module.controller("Camel.PreferencesController",["$scope","localStorage",function(e,t){var n={properties:{camelHideOptionDocumentation:{type:"boolean",default:i.defaultHideOptionDocumentation,description:"Whether to hide documentation in the properties view and Camel route editor"},camelHideOptionDefaultValue:{type:"boolean",default:i.defaultHideOptionDefaultValue,description:"Whether to hide options that are using a default value in the properties view"},camelHideOptionUnusedValue:{type:"boolean",default:i.defaultHideOptionUnusedValue,description:"Whether to hide unused/empty options in the properties view"},camelTraceOrDebugIncludeStreams:{type:"boolean",default:i.defaultCamelTraceOrDebugIncludeStreams,description:"Whether to include stream based message body when using the tracer and debugger"},camelMaximumTraceOrDebugBodyLength:{type:"number",default:i.defaultCamelMaximumTraceOrDebugBodyLength,description:"The maximum length of the body before its clipped when using the tracer and debugger"},camelMaximumLabelWidth:{type:"number",description:"The maximum length of a label in Camel diagrams before it is clipped"},camelIgnoreIdForLabel:{type:"boolean",default:!1,description:"If enabled then we will ignore the ID value when viewing a pattern in a Camel diagram; otherwise we will use the ID value as the label (the tooltip will show the actual detail)"},camelShowInflightCounter:{type:"boolean",default:!0,description:"Whether to show inflight counter in route diagram"},camelRouteMetricMaxSeconds:{type:"number",min:"1",max:"100",description:"The maximum value in seconds used by the route metrics duration and histogram charts"}}};(e.entity=e).config=n,Core.initPreferenceScope(e,t,{camelIgnoreIdForLabel:{value:!1,converter:Core.parseBooleanValue},camelShowInflightCounter:{value:!0,converter:Core.parseBooleanValue},camelMaximumLabelWidth:{value:i.defaultMaximumLabelWidth,converter:parseInt},camelMaximumTraceOrDebugBodyLength:{value:i.defaultCamelMaximumTraceOrDebugBodyLength,converter:parseInt},camelTraceOrDebugIncludeStreams:{value:i.defaultCamelTraceOrDebugIncludeStreams,converter:Core.parseBooleanValue},camelRouteMetricMaxSeconds:{value:i.defaultCamelRouteMetricMaxSeconds,converter:parseInt},camelHideOptionDocumentation:{value:i.defaultHideOptionDocumentation,converter:Core.parseBooleanValue},camelHideOptionDefaultValue:{value:i.defaultHideOptionDefaultValue,converter:Core.parseBooleanValue},camelHideOptionUnusedValue:{value:i.defaultHideOptionUnusedValue,converter:Core.parseBooleanValue}})}])}(Camel||(Camel={})),function(s){s._module.controller("Camel.ProfileRouteController",["$scope","$location","workspace","jolokia",function(i,e,r,o){i.initDone=!1,i.data=[];function a(e){var a=[],t=e.value;if(angular.isString(t)){var n=$.parseXML(t);$(n).find("routeStat").each(function(e,t){var n={id:{},count:{},last:{},delta:{},mean:{},min:{},max:{},total:{},self:{}};n.id=t.getAttribute("id");var i=0;i+=+t.getAttribute("exchangesCompleted"),i+=+t.getAttribute("exchangesFailed"),n.count=i,n.last=t.getAttribute("lastProcessingTime");var r=t.getAttribute("deltaProcessingTime");n.delta=r||0,n.mean=t.getAttribute("meanProcessingTime"),n.min=t.getAttribute("minProcessingTime"),n.max=t.getAttribute("maxProcessingTime"),n.total=t.getAttribute("totalProcessingTime"),n.self=t.getAttribute("selfProcessingTime"),a.push(n)}),$(n).find("processorStat").each(function(e,t){var n={id:{},count:{},last:{},delta:{},mean:{},min:{},max:{},total:{},self:{}};n.id=t.getAttribute("id");var i=0;i+=+t.getAttribute("exchangesCompleted"),i+=+t.getAttribute("exchangesFailed"),n.count=i,n.last=t.getAttribute("lastProcessingTime");var r=t.getAttribute("deltaProcessingTime");n.delta=r||0,n.mean=t.getAttribute("meanProcessingTime"),n.min=t.getAttribute("minProcessingTime"),n.max=t.getAttribute("maxProcessingTime");var o=t.getAttribute("accumulatedProcessingTime");n.total=o||"0",n.self=t.getAttribute("totalProcessingTime"),a.push(n)})}i.data=a,i.initDone=!0,Core.$apply(i)}i.rowIcon=function(e){var t=i.icons[e];return t?t.img+" "+e:e},i.gridOptions={data:"data",selectedItems:[],displayFooter:!0,displaySelectionCheckbox:!1,canSelectRows:!1,enableSorting:!1,columnDefs:[{field:"id",displayName:"Id",cellFilter:null,width:"**",resizable:!0},{field:"count",displayName:"Count",cellFilter:null,width:"*",resizable:!0},{field:"last",displayName:"Last",cellFilter:null,width:"*",resizable:!0},{field:"delta",displayName:"Delta",cellFilter:null,width:"*",resizable:!0},{field:"mean",displayName:"Mean",cellFilter:null,width:"*",resizable:!0},{field:"min",displayName:"Min",cellFilter:null,width:"*",resizable:!0},{field:"max",displayName:"Max",cellFilter:null,width:"*",resizable:!0},{field:"total",displayName:"Total",cellFilter:null,width:"*",resizable:!0},{field:"self",displayName:"Self",cellFilter:null,width:"*",resizable:!0}],filterOptions:{filterText:""}},function(){console.log("Loading Camel route profile data...");var e=s.getSelectedRouteId(r),t=s.getSelectionRouteMBean(r,e);if(t){var n={type:"exec",mbean:t,operation:"dumpRouteStatsAsXml(boolean,boolean)",arguments:[!1,!0]};Core.scopeStoreJolokiaHandle(i,o,o.register(a,n))}}()}])}(Camel||(Camel={})),function(a){a._module.controller("Camel.PropertiesController",["$scope","workspace","localStorage","jolokia",function(r,n,e,t){var i=Logger.get("Camel");function o(){var e=a.getSelectedRouteNode(n);if(r.nodeData=a.getRouteNodeJSON(e),e&&(r.model=a.getCamelSchema(e.nodeName),r.model)){i.enabledFor(Logger.DEBUG)&&(i.debug("Properties - data: "+JSON.stringify(r.nodeData,null,"  ")),i.debug("Properties - schema: "+JSON.stringify(r.model,null,"  ")));var t=[];r.model.group&&(t=r.model.group.split(",")),r.labels=t,r.nodeData=a.getRouteNodeJSON(e),r.icon=a.getRouteNodeIcon(e),r.viewTemplate="plugins/camel/html/nodePropertiesView.html",Core.$apply(r)}}r.hideHelp=a.hideOptionDocumentation(e),r.hideUnused=a.hideOptionUnusedValue(e),r.hideDefault=a.hideOptionDefaultValue(e),r.viewTemplate=null,r.schema=a._apacheCamelModel,r.model=null,r.labels=[],r.nodeData=null,r.icon=null,r.$watch("hideHelp",function(e,t){e!==t&&o()}),r.$watch("hideUnused",function(e,t){e!==t&&o()}),r.$watch("hideDefault",function(e,t){e!==t&&o()}),r.$on("$routeChangeSuccess",function(e,t,n){setTimeout(o,50)}),r.$watch("workspace.selection",function(){n.moveIfViewInvalid()||o()}),r.showEntity=function(e){return(!r.hideDefault||!function(e){var t=Core.pathGet(r.model,["properties",e,"defaultValue"]);if(angular.isDefined(t)){var n=Core.pathGet(r.nodeData,e);if(angular.isDefined(n)){var i=n.toString();return 0===i.localeCompare(t)}}return!1}(e))&&!(r.hideUnused&&!function(e){var t=Core.pathGet(r.nodeData,e);if(angular.isUndefined(t)||Core.isBlank(t))return!1;if(angular.isString(t))return!Core.isBlank(t);return!0}(e))}}])}(Camel||(Camel={})),function(u){u._module.controller("Camel.PropertiesComponentController",["$scope","workspace","localStorage","jolokia","documentBase",function(r,o,e,a,i){var s=Logger.get("Camel");function l(){var e=u.getSelectionCamelContextMBean(o),t=null;if(t||(t=o.getSelectedMBeanName()),t&&e){var n=a.request({type:"read",mbean:t,attribute:["ComponentName"]}).value.ComponentName;if(n){r.componentName=n,s.info("Calling explainComponentJson for name: "+n);var i={type:"exec",mbean:e,operation:"explainComponentJson(java.lang.String,boolean)",arguments:[n,!0]};a.request(i,Core.onSuccess(c))}}}function c(e){s.debug("Populate data "+e);var t=e.value;if(t){r.model=JSON.parse(t),r.model.title=r.componentName,r.model.description=r.model.component.description,r.icon=UrlHelpers.join(i,"/img/icons/camel/endpoint24.png"),r.nodeData={},r.model.properties=r.model.componentProperties,angular.forEach(r.model.componentProperties,function(e,t){var n=e.value||e.defaultValue;angular.isDefined(n)&&null!==n&&(r.nodeData[t]=n),delete e.label});var n=[];r.model.component.label&&(n=r.model.component.label.split(",")),r.labels=n,r.viewTemplate="plugins/camel/html/nodePropertiesView.html",Core.$apply(r)}}r.hideHelp=u.hideOptionDocumentation(e),r.hideUnused=u.hideOptionUnusedValue(e),r.hideDefault=u.hideOptionDefaultValue(e),r.viewTemplate=null,r.schema=null,r.model=null,r.labels=[],r.nodeData=null,r.icon=null,r.componentName=null,r.$watch("hideHelp",function(e,t){e!==t&&l()}),r.$watch("hideUnused",function(e,t){e!==t&&l()}),r.$watch("hideDefault",function(e,t){e!==t&&l()}),r.$on("$routeChangeSuccess",function(e,t,n){setTimeout(l,50)}),r.$watch("workspace.selection",function(){o.moveIfViewInvalid()||l()}),r.showEntity=function(e){return(!r.hideDefault||!function(e){var t=Core.pathGet(r.model,["properties",e,"defaultValue"]);if(angular.isDefined(t)){var n=Core.pathGet(r.nodeData,e);if(angular.isDefined(n)){var i=n.toString();return 0===i.localeCompare(t)}}return!1}(e))&&!(r.hideUnused&&!function(e){var t=Core.pathGet(r.nodeData,e);if(angular.isUndefined(t)||Core.isBlank(t))return!1;if(angular.isString(t))return!Core.isBlank(t);return!0}(e))}}])}(Camel||(Camel={})),function(t){t._module.controller("Camel.PropertiesDataFormatController",["$scope","workspace","localStorage","jolokia","documentBase",function(r,n,e,i,o){var a=Logger.get("Camel");function s(){var e=null;if(e||(e=n.getSelectedMBeanName()),e){a.info("Calling informationJson");var t={type:"exec",mbean:e,operation:"informationJson"};i.request(t,Core.onSuccess(l))}}function l(e){a.debug("Populate data "+e);var t=e.value;if(t){r.model=JSON.parse(t),r.model.title=r.model.dataformat.title+" ("+r.model.dataformat.name+")",r.model.description=r.model.dataformat.description,r.icon=UrlHelpers.join(o,"/img/icons/camel/marshal24.png"),r.nodeData={},angular.forEach(r.model.properties,function(e,t){var n=e.value||e.defaultValue;angular.isDefined(n)&&null!==n&&(r.nodeData[t]=n),delete e.label}),delete r.model.properties.id;var n=[];r.model.dataformat.label&&(n=r.model.dataformat.label.split(",")),r.labels=n,r.viewTemplate="plugins/camel/html/nodePropertiesView.html",Core.$apply(r)}}r.hideHelp=t.hideOptionDocumentation(e),r.hideUnused=t.hideOptionUnusedValue(e),r.hideDefault=t.hideOptionDefaultValue(e),r.viewTemplate=null,r.schema=null,r.model=null,r.labels=[],r.nodeData=null,r.icon=null,r.dataFormatName=null,r.$watch("hideHelp",function(e,t){e!==t&&s()}),r.$watch("hideUnused",function(e,t){e!==t&&s()}),r.$watch("hideDefault",function(e,t){e!==t&&s()}),r.$on("$routeChangeSuccess",function(e,t,n){setTimeout(s,50)}),r.$watch("workspace.selection",function(){n.moveIfViewInvalid()||s()}),r.showEntity=function(e){return(!r.hideDefault||!function(e){var t=Core.pathGet(r.model,["properties",e,"defaultValue"]);if(angular.isDefined(t)){var n=Core.pathGet(r.nodeData,e);if(angular.isDefined(n)){var i=n.toString();return 0===i.localeCompare(t)}}return!1}(e))&&!(r.hideUnused&&!function(e){var t=Core.pathGet(r.nodeData,e);if(angular.isUndefined(t)||Core.isBlank(t))return!1;if(angular.isString(t))return!Core.isBlank(t);return!0}(e))}}])}(Camel||(Camel={})),function(u){u._module.controller("Camel.PropertiesEndpointController",["$scope","workspace","localStorage","jolokia","documentBase",function(o,a,e,s,i){var l=Logger.get("Camel");function r(){var e=u.getSelectionCamelContextMBean(a),t=null;if(o.contextId&&o.endpointPath){var n=a.findMBeanWithProperties(u.jmxDomain,{context:o.contextId,type:"endpoints",name:o.endpointPath});n&&(t=n.objectName)}if(t||(t=a.getSelectedMBeanName()),t&&e){var i=s.request({type:"read",mbean:t,attribute:["EndpointUri"]}).value.EndpointUri;if(i){o.endpointUrl=i,l.info("Calling explainEndpointJson for url: "+i);var r={type:"exec",mbean:e,operation:"explainEndpointJson(java.lang.String,boolean)",arguments:[i,!0]};s.request(r,Core.onSuccess(c))}}}function c(e){l.debug("Populate data "+e);var t=e.value;if(t){o.model=JSON.parse(t),o.model.title=o.endpointUrl,o.model.description=o.model.component.description,o.icon=UrlHelpers.join(i,"/img/icons/camel/endpoint24.png"),o.nodeData={},angular.forEach(o.model.properties,function(e,t){var n=e.value||e.defaultValue;angular.isDefined(n)&&null!==n&&(o.nodeData[t]=n),delete e.label});var n=[];o.model.component.label&&(n=o.model.component.label.split(",")),o.labels=n,o.viewTemplate="plugins/camel/html/nodePropertiesView.html",Core.$apply(o)}}o.hideHelp=u.hideOptionDocumentation(e),o.hideUnused=u.hideOptionUnusedValue(e),o.hideDefault=u.hideOptionDefaultValue(e),o.viewTemplate=null,o.schema=null,o.model=null,o.labels=[],o.nodeData=null,o.icon=null,o.endpointUrl=null,o.$watch("hideHelp",function(e,t){e!==t&&r()}),o.$watch("hideUnused",function(e,t){e!==t&&r()}),o.$watch("hideDefault",function(e,t){e!==t&&r()}),o.$on("$routeChangeSuccess",function(e,t,n){setTimeout(r,50)}),o.$watch("workspace.selection",function(){a.moveIfViewInvalid()||r()}),o.showEntity=function(e){return(!o.hideDefault||!function(e){var t=Core.pathGet(o.model,["properties",e,"defaultValue"]);if(angular.isDefined(t)){var n=Core.pathGet(o.nodeData,e);if(angular.isDefined(n)){var i=n.toString();return 0===i.localeCompare(t)}}return!1}(e))&&!(o.hideUnused&&!function(e){var t=Core.pathGet(o.nodeData,e);if(angular.isUndefined(t)||Core.isBlank(t))return!1;if(angular.isString(t))return!Core.isBlank(t);return!0}(e))}}])}(Camel||(Camel={})),function(r){r._module.controller("Camel.RestServiceController",["$scope","$location","workspace","jolokia",function(s,e,t,n){s.data=[],s.selectedMBean=null,s.mbeanAttributes={};function i(e){var t=e.value;if(t){var n=[];for(var i in t){var r=t[i];for(var o in r){var a=r[o];n.push({url:a.url,baseUrl:a.baseUrl,basePath:a.basePath,uriTemplate:a.uriTemplate,method:a.method,consumes:a.consumes,produces:a.produces,inType:a.inType,outType:a.outType,state:a.state,routeId:a.routeId,description:a.description})}}n=_.sortBy(n,"url"),s.data=n,s.selectedMBean=e.request.mbean}else s.selectedMBean="true";Core.$apply(s)}s.gridOptions={data:"data",displayFooter:!0,displaySelectionCheckbox:!1,canSelectRows:!1,enableSorting:!0,columnDefs:[{field:"url",displayName:"Absolute Url",cellFilter:null,width:"*",resizable:!0},{field:"baseUrl",displayName:"Base Url",cellFilter:null,width:"*",resizable:!0},{field:"basePath",displayName:"Base Path",cellFilter:null,width:"*",resizable:!0},{field:"uriTemplate",displayName:"Uri Template",cellFilter:null,width:"*",resizable:!0},{field:"method",displayName:"Method",cellFilter:null,width:"*",resizable:!0},{field:"consumes",displayName:"Consumes",cellFilter:null,width:"*",resizable:!0},{field:"produces",displayName:"Produces",cellFilter:null,width:"*",resizable:!0},{field:"inType",displayName:"Input Type",cellFilter:null,width:"*",resizable:!0},{field:"outType",displayName:"Output Type",cellFilter:null,width:"*",resizable:!0},{field:"state",displayName:"State",cellFilter:null,width:"*",resizable:!0},{field:"routeId",displayName:"Route Id",cellFilter:null,width:"*",resizable:!0},{field:"description",displayName:"Description",cellFilter:null,width:"*",resizable:!0}],selectedItems:[],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.routeId}},s.renderIcon=function(e){return r.iconClass(e)},function(){console.log("Loading RestRegistry data...");var e=r.getSelectionCamelRestRegistry(t);e&&n.request({type:"exec",mbean:e,operation:"listRestServices"},Core.onSuccess(i))}()}])}(Camel||(Camel={})),function(a){a._module.controller("Camel.RouteMetricsController",["$scope","$location","workspace","jolokia","metricsWatcher",function(p,e,i,r,f){var g=Logger.get("Camel");function o(e){var t=e.value;if(t){var n=JSON.parse(t);if(!p.initDone){var i=n.timers,r=0;if(null!=i){for(var o in i){var a=o,s=a.lastIndexOf("."),l=a.substr(0,s),c=a.substr(s+1),u=a.indexOf(":"),d=a.substr(u+1);0<(s=d.lastIndexOf("."))&&(d=d.substr(0,s));i[o];var h="timer-"+r;p.metricDivs.push({id:h,routeId:d}),r++,g.info("Added timer: "+h+" ("+l+"."+c+") for route: "+d+" with max seconds: "+p.maxSeconds),f.addTimer(h,l,c,p.maxSeconds,d,"Histogram",1e3*p.maxSeconds)}g.info("Pre-init graphs"),Core.$apply(p)}g.info("Init graphs"),f.initGraphs()}p.initDone=!0,g.debug("Updating graphs: "+n),f.updateGraphs(n)}p.initDone=!0,Core.$apply(p)}function t(){g.info("Loading RouteMetrics data...");var e=a.getSelectedRouteId(i);null!=e&&(p.filterText=e);var t=a.getSelectionCamelRouteMetrics(i);if(t){var n={type:"exec",mbean:t,operation:"dumpStatisticsAsJson"};Core.scopeStoreJolokiaHandle(p,r,r.register(o,n))}else p.initDone=!0,Core.$apply(p)}p.maxSeconds=a.routeMetricMaxSeconds(localStorage),p.filterText=null,p.initDone=!1,p.metricDivs=[],p.filterByRoute=function(e){return g.debug("Filter by route "+e),Core.matchFilterIgnoreCase(e.routeId,p.filterText)?"":"display: none;"},p.onResponse=function(e){t()},p.$watch("workspace.tree",function(){setTimeout(t,50)})}])}(Camel||(Camel={})),function(b){b._module.controller("Camel.RouteController",["$scope","$routeParams","$element","$timeout","workspace","$location","jolokia","localStorage",function(d,e,u,t,a,h,p,n){var r=Logger.get("Camel");d.routes=[],d.routeNodes={},null!=e&&(d.contextId=e.contextId,d.routeId=Core.trimQuotes(e.routeId),d.isJmxTab=!e.contextId||!e.routeId),d.camelIgnoreIdForLabel=b.ignoreIdForLabel(n),d.camelMaximumLabelWidth=b.maximumLabelWidth(n),d.camelShowInflightCounter=b.showInflightCounter(n);var i=_.debounce(function(){var e=null;if(!d.ignoreRouteXmlNode&&((e=b.getSelectedRouteNode(a))||(e=d.nodeXmlNode),e&&"route"!==e.localName)){var t=document.createElement("route");t.appendChild(e.cloneNode(!0)),e=t}d.mbean=b.getSelectionCamelContextMBean(a),!d.mbean&&d.contextId&&(d.mbean=b.getCamelContextMBean(a,d.contextId));if(e){d.nodes={};var n=[],i=[];d.processorTree=b.camelProcessorMBeansById(a),b.addRouteXmlChildren(d,e,n,i,null,0,0),s(n,i)}else d.mbean?p.request({type:"exec",mbean:d.mbean,operation:"dumpRoutesAsXml()"},Core.onSuccess(o)):r.info("No camel context bean! Selection: "+a.selection)},300,{trailing:!0});d.$on("$routeChangeSuccess",function(e,t,n){i()}),d.$watch("workspace.selection",function(){d.isJmxTab&&a.moveIfViewInvalid()||i()}),d.$on("jmxTreeUpdated",function(){i()}),d.$watch("nodeXmlNode",function(){d.isJmxTab&&a.moveIfViewInvalid()||i()});var o=function(e){var t=e.value;d.routes=t,d.nodes={},d.routeNodes={};var n=[],i=[],r=d.routeId;if(r||(r=b.getSelectedRouteId(a)),t){var o=$.parseXML(t);d.processorTree=b.camelProcessorMBeansById(a),b.loadRouteXmlNodes(d,o,r,n,i,v()),s(n,i)}else console.log("No data from route XML!");Core.$apply(d)},f=" selected";function g(e,t){var n=!1;if(e){var i=e.getAttribute("class");if(i&&_.endsWith(i,f))i=i.substring(0,i.length-f.length);else{if(!t)return n;i+=f,n=!0}e.setAttribute("class",i)}return n}var m=function(e){r.debug("Clicked on Camel Route Diagram node: "+e.cid),h.path("/camel/properties").search({"main-tab":"camel","sub-tab":"camel-route-properties",nid:e.cid})};function s(e,t){var n,i,r=u,o=v(),a=(n=u,b.getCanvasHeight(n)),s=r.children("svg")[0],l=h.path();i=_.startsWith(l,"/camel/debugRoute")||_.startsWith(l,"/camel/traceRoute")?null:m,d.graphData=Core.dagreLayoutGraph(e,t,o,a,s,!1,i);var c=r.find("g.node");return c.click(function(){var e=function(e){if(e){var t=e.getAttribute("class");return t&&_.endsWith(t,f)}return!1}(this);c.each(function(e,t){g(t,!1)});var t=null;e||(t=this.getAttribute("data-cid"),g(this,!0)),d.$emit("camel.diagram.selectedNodeId",t),Core.$apply(d)}),d.mbean&&Core.register(p,d,{type:"exec",mbean:d.mbean,operation:"dumpRoutesStatsAsXml",arguments:[!0,!0]},Core.onSuccess(y,{silent:!0,error:!1})),d.$emit("camel.diagram.layoutComplete"),o}function v(){return u.width()}function y(e){var t=e.value;if(t){var n=$.parseXML(t);$(n).find("routeStat").each(function(e,t){i(!0,t)}),$(n).find("processorStat").each(function(e,t){i(!1,t)}),Core.dagreUpdateGraphData(d.graphData)}function i(e,t){var n=t.getAttribute("id"),i=t.getAttribute("exchangesCompleted"),r=t.hasAttribute("exchangesInflight")?t.getAttribute("exchangesInflight"):0,o="";if(n&&i){var a=e?d.routeNodes:d.nodes,s=a[n];if(s||angular.forEach(a,function(e,t){s||n!==e.elementId||(s=e)}),s){var l=0+parseInt(i),c=t.getAttribute("exchangesFailed");c&&(l+=parseInt(c)),o="total: "+l+"\ninflight:"+r+"\nlast: "+t.getAttribute("lastProcessingTime")+" (ms)\nmean: "+t.getAttribute("meanProcessingTime")+" (ms)\nmin: "+t.getAttribute("minProcessingTime")+" (ms)\nmax: "+t.getAttribute("maxProcessingTime")+" (ms)",s.counter=l,d.camelShowInflightCounter&&(s.inflight=r);var u=s.labelSummary;u&&(o=u+"\n\n"+o),s.tooltip=o}}}}}])}(Camel||(Camel={})),function(v){v._module.controller("Camel.SendMessageController",["$route","$scope","$element","$timeout","workspace","jolokia","localStorage","$location","activeMQMessage","PreferencesLastPath",function(e,h,t,n,p,f,g,i,r,o){var m=Logger.get("Camel");if(h.noCredentials=!1,h.container={},h.message="\n\n\n\n",h.headers=[],Core.bindModelToSearchParam(h,i,"tab","subtab","compose"),Core.bindModelToSearchParam(h,i,"searchText","q",""),Core.reloadWhenParametersChange(e,h,i),h.checkCredentials=function(){h.noCredentials=Core.isBlank(g.activemqUserName)||Core.isBlank(g.activemqPassword)},-1<i.path().indexOf("activemq")){if(h.localStorage=g,h.$watch("localStorage.activemqUserName",h.checkCredentials),h.$watch("localStorage.activemqPassword",h.checkCredentials),null!==r.message&&(h.message=r.message.bodyText,null!==r.message.PropertiesText))for(var a in r.message.StringProperties)h.headers.push({name:a,value:r.message.StringProperties[a]});r.message=null}h.openPrefs=function(){o.lastPath=i.path(),o.lastSearch=i.search(),i.path("/preferences").search({pref:"ActiveMQ"})};var s="defaultLanguageFormat",l=p.getLocalStorage(s)||"javascript";h.codeMirror=void 0;var c={mode:{name:l},onChange:function(e){h.codeMirror||(h.codeMirror=e)}};h.codeMirrorOptions=CodeEditor.createEditorSettings(c),h.addHeader=function(){h.headers.push({name:"",value:""}),t&&n(function(){t.find("input.headerName").last().focus()},100)},h.removeHeader=function(e){var t=h.headers.indexOf(e);h.headers.splice(t,1)},h.defaultHeaderNames=function(){var n=[];function e(e){angular.forEach(e.definitions.headers.properties,function(e,t){n.push(t)})}return e(v.jmsHeaderSchema),e(v.camelHeaderSchema),n},h.$watch("workspace.selection",function(){p.moveIfViewInvalid()}),h.$watch("codeMirrorOptions.mode.name",function(e,t){p.setLocalStorage(s,e)});var u=function(){h.message="",Core.notification("success","Message sent!")};h.autoFormat=function(){setTimeout(function(){CodeEditor.autoFormatEditor(h.codeMirror)},50)},h.sendMessage=function(){!function(e,t){var n=p.selection;if(n){var i=n.objectName;if(i){var r=null;h.headers.length&&(r={},angular.forEach(h.headers,function(e){var t=e.name;t&&(r[t]=e.value)}),m.info("About to send headers: "+JSON.stringify(r)));var o=Core.onSuccess(t);if("org.apache.camel"===n.domain){var a=v.getContextAndTargetEndpoint(p),s=a.uri;if((i=a.mbean)&&s){var l=!0;if(v.isCamelVersionEQGT(2,14,p,f)){var c=f.execute(i,"canSendToEndpoint(java.lang.String)",s);c||(Core.notification("warning","Camel does not support sending to this endpoint."),l=!1)}l&&(r?f.execute(i,"sendBodyAndHeaders(java.lang.String, java.lang.Object, java.util.Map)",s,e,r,o):f.execute(i,"sendStringBody(java.lang.String, java.lang.String)",s,e,o))}else i?Core.notification("error","Failed to determine endpoint name!"):Core.notification("error","Could not find CamelContext MBean!"),m.debug("Parsed context and endpoint: ",a)}else{var u=g.activemqUserName,d=g.activemqPassword;r||(r={}),r.JMSDeliveryMode||(r.JMSDeliveryMode="2"),f.execute(i,"sendTextMessage(java.util.Map, java.lang.String, java.lang.String, java.lang.String)",r,e,u,d,o)}}}}(h.message,u)}}])}(Camel||(Camel={})),function(d){d._module.controller("Camel.SourceController",["$scope","workspace",function(l,c){function u(e){function t(e,t){var n=t.getAttribute("customId");"route"===t.nodeName&&(n="true"),n&&"true"===n||t.removeAttribute("id"),t.removeAttribute("customId"),t.removeAttribute("_cid"),t.removeAttribute("group")}var n=$(e).clone();n.each(t),n.find("*").each(t);var i=n&&n.length?n[0]:e;return Core.xmlNodeToString(i)}function i(){var e=d.getSelectedRouteNode(c);if(e)l.source=u(e),l.showUpdateButton="route"===e.nodeName,Core.$apply(l);else{if(l.mbean=d.getSelectionCamelContextMBean(c),!l.mbean){var t=Core.pathGet(c,["selection","parent"]);t&&"context"===t.title&&(l.mbean=t.children[0].objectName)}if(l.mbean)c.jolokia.request({type:"exec",mbean:l.mbean,operation:"dumpRoutesAsXml()"},Core.onSuccess(n))}}l.$on("$routeChangeSuccess",function(e,t,n){setTimeout(i,50)}),l.$watch("workspace.selection",function(){c.moveIfViewInvalid()||i()}),l.mode="xml",l.showUpdateButton=!0;var n=function(e){var t=e.value,n=d.getSelectedRouteId(c);if(t&&n){var i=$.parseXML(t),r=$(i).find('route[id="'+n+'"]');if(r&&r.length){var o=r[0],a=o.parentNode;a&&"routes"===a.nodeName&&a.attributes&&angular.forEach(a.attributes,function(e){if(_.startsWith(e.name,"xmlns")){var t=i.createAttribute(e.name);t.value=e.value,o.attributes.setNamedItem(t)}});var s=u(o);s&&(t=s)}}l.source=t,Core.$apply(l)},r=function(){Core.notification("success","Route updated!"),c.loadTree()};l.saveRouteXml=function(){var e=l.source;if(e){var t=decodeURIComponent(e);d.log.debug("addOrUpdateRoutesFromXml xml decoded: "+t);var n=c.jolokia,i=d.getSelectionCamelContextMBean(c);i?n.execute(i,"addOrUpdateRoutesFromXml(java.lang.String)",t,Core.onSuccess(r)):Core.notification("error","Could not find CamelContext MBean!")}}}])}(Camel||(Camel={})),function(d){d._module.controller("Camel.TraceRouteController",["$scope","workspace","jolokia","localStorage","tracerStatus",function(o,a,r,s,l){var c=Logger.get("CamelTracer");function t(){o.tracing=!1,null!=l.jhandle&&(c.debug("Unregistering jolokia handle"),r.unregister(l.jhandle),l.jhandle=null);var e=d.getSelectionCamelTraceMBean(a);if(e)if(o.tracing=r.getAttribute(e,"Enabled",Core.onSuccess(null)),o.tracing){var t=e;t&&null===l.jhandle&&(c.debug("Registering jolokia handle"),l.jhandle=r.register(n,{type:"exec",mbean:t,operation:"dumpAllTracedMessagesAsXml()",ignoreErrors:!0,arguments:[]})),o.graphView="plugins/camel/html/routes.html"}else l.messages=[],o.messages=[],o.graphView=null,o.showMessageDetails=!1}function n(e){c.debug("Populating response "+e);var r=d.getSelectedRouteId(a),t=e.value;if(angular.isString(t)){var n=$.parseXML(t),i=$(n).find("fabricTracerEventMessage");i&&i.length||(i=$(n).find("backlogTracerEventMessage")),i.each(function(e,t){if($(t).find("routeId").text()===r){var n=d.createMessageFromXml(t),i=$(t).find("toNode").text();i&&(n.toNode=i),n.openMessageDialog=o.openMessageDialog,c.debug("Adding new message to trace table with id "+n.id),o.messages.push(n)}}),l.messages=o.messages,Core.$apply(o)}}function e(){angular.forEach(o.gridOptions.selectedItems,function(e){if(e){var t=e.toNode;if(t){var n=d3.select("svg").selectAll("g .node");d.highlightSelectedNode(n,t)}}})}function u(e){t(),Core.$apply(o)}function i(e){var t=d.getSelectionCamelTraceMBean(a);if(t){if(_.endsWith(t.toString(),"BacklogTracer")){var n=d.maximumTraceOrDebugBodyLength(s),i=d.traceOrDebugIncludeStreams(s);r.setAttribute(t,"BodyMaxChars",n),r.setAttribute(t,"BodyIncludeStreams",i),r.setAttribute(t,"BodyIncludeFiles",i)}r.setAttribute(t,"Enabled",e,Core.onSuccess(u))}}o.tracing=!1,o.messages=[],o.graphView=null,o.mode="text",o.showMessageDetails=!1,o.gridOptions=d.createBrowseGridOptions(),o.gridOptions.selectWithCheckboxOnly=!1,o.gridOptions.showSelectionCheckbox=!1,o.gridOptions.multiSelect=!1,o.gridOptions.afterSelectionChange=e,o.gridOptions.columnDefs.push({field:"toNode",displayName:"To Node"}),o.startTracing=function(){c.info("Start tracing"),i(!0)},o.stopTracing=function(){c.info("Stop tracing"),i(!1)},o.clear=function(){c.debug("Clear messages"),l.messages=[],o.messages=[],Core.$apply(o)},o.$watch("workspace.selection",function(){a.moveIfViewInvalid()||(o.messages=l.messages,t())}),o.openMessageDialog=function(e){if(ActiveMQ.selectCurrentMessage(e,"id",o),o.row){var t=o.row.body;o.mode=angular.isString(t)?CodeEditor.detectTextFormat(t):"text","javascript"==o.mode&&(o.mode="text"),o.showMessageDetails=!0}else o.showMessageDetails=!1;Core.$apply(o)},ActiveMQ.decorate(o,e),c.info("Re-activating tracer with "+l.messages.length+" existing messages"),o.messages=l.messages,o.tracing=null!=l.jhandle}])}(Camel||(Camel={})),function(l){l._module.controller("Camel.TreeHeaderController",["$scope","$location",function(n,e){n.contextFilterText="",n.$watch("contextFilterText",function(e,t){e!==t&&n.$emit("camel-contextFilterText",e)}),n.expandAll=function(){Tree.expandAll("#cameltree")},n.contractAll=function(){Tree.contractAll("#cameltree")}}]),l._module.controller("Camel.TreeController",["$scope","$location","$timeout","workspace","$rootScope",function(i,r,o,a,e){function t(t){void 0===t&&(t=null),i.fullScreenViewLink=l.linkToFullScreenView(a);l.jmxDomain;var e=a.tree;if(e){var n=e.findDescendant(function(e){return"camelContexts"===e.id});n&&o(function(){var e=$("#cameltree");Jmx.enableTree(i,r,a,e,[n],!0),s(),angular.isFunction(t)&&t()},10)}}function s(){Jmx.updateTreeSelectionFromURLAndAutoSelect(r,$("#cameltree"),function(e){var t=e.getChildren();if(t&&1===t.length){(e=t[0]).expand(!0);var n=e.getChildren();if(n&&n.length){var i=n[0];if("routes"===i.data.typeName)return e=i}}return null},!0),i.fullScreenViewLink=l.linkToFullScreenView(a)}i.contextFilterText=r.search().cq,i.fullScreenViewLink=l.linkToFullScreenView(a),i.$on("$routeChangeSuccess",function(e,t,n){o(s,50,!1)}),i.$watch("workspace.tree",function(){t()}),i.$on("jmxTreeUpdated",function(){t()})}])}(Camel||(Camel={})),function(s){s._module.controller("Camel.TypeConverterController",["$scope","$location","workspace","jolokia",function(a,e,n,i){a.data=[],a.selectedMBean=null,a.mbeanAttributes={};function r(e){var t=e.value;t&&(a.mbeanAttributes=t,Core.$apply(a))}function o(e){var t=e.value;if(t){var n=[];for(var i in t){var r=t[i];for(var o in r)n.push({from:i,to:o})}n=_.sortBy(n,"from"),a.data=n,a.selectedMBean=e.request.mbean,Core.$apply(a)}}a.gridOptions={data:"data",displayFooter:!0,displaySelectionCheckbox:!1,canSelectRows:!1,enableSorting:!0,columnDefs:[{field:"from",displayName:"From",cellFilter:null,width:"*",resizable:!0},{field:"to",displayName:"To",cellFilter:null,width:"*",resizable:!0}],selectedItems:[],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.from+"/"+e.to}},a.renderIcon=function(e){return s.iconClass(e)},a.disableStatistics=function(){a.selectedMBean&&i.setAttribute(a.selectedMBean,"StatisticsEnabled",!1)},a.enableStatistics=function(){a.selectedMBean&&i.setAttribute(a.selectedMBean,"StatisticsEnabled",!0)},a.resetStatistics=function(){a.selectedMBean&&i.request({type:"exec",mbean:a.selectedMBean,operation:"resetTypeConversionCounters"},Core.onSuccess(null,{silent:!0}))},function(){console.log("Loading TypeConverter data...");var e=s.getSelectionCamelTypeConverter(n);if(e){var t={type:"read",mbean:e,attribute:["AttemptCounter","FailedCounter","HitCounter","MissCounter","NumberOfTypeConverters","StatisticsEnabled"]};i.request(t,Core.onSuccess(r)),Core.scopeStoreJolokiaHandle(a,i,i.register(r,t)),i.request({type:"exec",mbean:e,operation:"listTypeConverters"},Core.onSuccess(o))}}()}])}(Camel||(Camel={})),function(n){function r(e,t){switch(t){case"INSTALLED":return e+"-important";case"RESOLVED":return e+"-inverse";case"STARTING":return e+"-warning";case"ACTIVE":return e+"-success";case"STOPPING":return e+"-info";case"UNINSTALLED":return"";default:return e+"-important"}}function o(e){for(var t={},n=0;n<e.length;n++){var i=e[n],r=i.indexOf(";");if(0<r){var o=i.substring(0,r),a=i.substring(r+1),s=t[o];void 0===s&&(s={},t[o]=s),s.ReportedVersion=a}}return t}function h(e,t){var n=t.indexOf(":=");if(0<n)e["D"+t.substring(0,n)]=t.substring(n+2);else{var i=t.indexOf("=");0<i&&(e["A"+t.substring(0,i)]=t.substring(i+1))}}function s(e){var t=e;return angular.isArray(e)||(t=[e]),t}function a(r,e,o){var a="",t=s(e).sort(function(e,t){return e-t});return angular.forEach(t,function(e,t){var n="";0<a.length&&(n=" ");var i=(o[e]||{}).SymbolicName;a+=n+"<a class='label' href='"+Core.url("/osgi/bundle/"+e+r.hash())+"'>"+i+"</a>"}),a}function l(i,e){var r="",t=s(e).sort(function(e,t){return e-t});return angular.forEach(t,function(e,t){var n="";0<r.length&&(n=" "),r+=n+"<a class='label' href='"+Core.url("/osgi/bundle/"+e+i.hash())+"'>"+e+"</a>"}),r}function c(n,e){var i=[];return angular.forEach(e,function(e,t){i.push(Core.url("/osgi/bundle/"+e+n.hash()))}),i}function u(e){if(e){var t=e.tree.navigate("osgi.compendium","cm");return n.findFirstObjectName(t)}return null}function d(e,t,n){void 0===n&&(n=!1);var i=t,r=e.versionId;e.profileId;return r&&r?"/wiki/branch/"+r+(n?"/newConfiguration/":"/configuration/")+i+"/"+e.pageId:"/osgi/pid/"+i}n.log=Logger.get("OSGi"),n.defaultBundleValues=function(t,e,n){var i=n;return angular.forEach(n,function(e){e.ImportData=o(e.ImportedPackages),e.ExportData=o(e.ExportedPackages),e.IdentifierLink=l(t,e.Identifier),e.Hosts=a(t,e.Hosts,i),e.Fragments=a(t,e.Fragments,i),e.ImportedPackages=_.uniq(e.ImportedPackages),e.StateStyle=r("label",e.State),e.RequiringBundles=a(t,e.RequiringBundles,i)}),n},n.getStateStyle=r,n.defaultServiceValues=function(t,e,n){return angular.forEach(n,function(e){e.BundleIdentifier=l(t,e.BundleIdentifier)}),n},n.defaultPackageValues=function(a,e,t){var s=[];function n(e,t){t||(t=e);var n=e.Name,i=e.Version;if(n&&!_.startsWith(n,"#")){e.VersionUrl=Core.url("/osgi/package/"+n+"/"+i+a.hash());var r=t.ImportingBundles||e.ImportingBundles,o=t.ExportingBundles||e.ExportingBundles;e.ImportingBundleUrls=c(a,r),e.ExportingBundleUrls=c(a,o),s.push(e)}}var i=t.values;return i&&angular.forEach(i,n),angular.forEach(t,function(t){angular.forEach(t,function(e){angular.forEach(e,function(e){n(e,t)})})}),s},n.defaultConfigurationValues=function(n,e,t){var i=[];return angular.forEach(t,function(e){var t={};t.Pid=e[0],t.PidLink="<a href='"+Core.url("/osgi/pid/"+e[0]+n.hash())+"'>"+e[0]+"</a>",t.Bundle=e[1],i.push(t)}),i},n.parseActualPackages=o,n.parseManifestHeader=function(e,t){var n={},i={},r=e[t];if(void 0===r)return n;for(var o=r.Value,a=!0,s=!1,l="",c="",u=0;u<o.length;u++){var d=o[u];'"'!==d?s?c+=d:";"!==d?","!==d?a?l+=d:c+=d:(h(i,c),n[l]=i,i={},a=!(c=l="")):a?a=!1:(h(i,c),c=""):s=!s}return h(i,c),n[l]=i,n},n.toCollection=s,n.labelBundleLinks=a,n.bundleLinks=l,n.bundleUrls=c,n.pidLinks=function(i,e){var r="";return angular.forEach(s(e),function(e,t){var n="";0<r.length&&(n=" "),r+=n+"<a href='"+Core.url("/osgi/bundle/"+e+i.hash())+"'>"+e+"</a>"}),r},n.findBundle=function(n,e){var i="";return angular.forEach(e,function(e){var t=e.Identifier;if(n===t.toString())return i=e}),i},n.getSelectionBundleMBean=function(e){if(e){var t=e.tree.navigate("osgi.core","bundleState");return n.findFirstObjectName(t)}return null},n.findFirstObjectName=function e(t){if(t){var n=t.objectName;if(n)return n;var i=t.children;if(i&&i.length)return e(i[0])}return null},n.getSelectionFrameworkMBean=function(e){if(e){var t=e.tree.navigate("osgi.core","framework");return n.findFirstObjectName(t)}return null},n.getSelectionServiceMBean=function(e){if(e){var t=e.tree.navigate("osgi.core","serviceState");return n.findFirstObjectName(t)}return null},n.getSelectionPackageMBean=function(e){if(e){var t=e.tree.navigate("osgi.core","packageState");return n.findFirstObjectName(t)}return null},n.getSelectionConfigAdminMBean=u,n.getMetaTypeMBean=function(e){return e?((e.mbeanTypesToDomain.MetaTypeFacade||{})["io.fabric8"]||{}).objectName:null},n.getProfileMetadataMBean=function(e){return e?((e.mbeanTypesToDomain.ProfileMetadata||{})["io.fabric8"]||{}).objectName:null},n.getHawtioOSGiToolsMBean=function(e){return e?((e.mbeanTypesToDomain.OSGiTools||{}).hawtio||{}).objectName:null},n.getHawtioConfigAdminMBean=function(e){return e?((e.mbeanTypesToDomain.ConfigAdmin||{}).hawtio||{}).objectName:null},n.createConfigPidLink=function(e,t,n,i){return void 0===i&&(i=!1),Core.url(d(e,n,i)+t.hash())},n.createConfigPidPath=d,n.getConfigurationProperties=function(e,t,n,i){var r=u(e),o=null;return t&&r&&(o=t.execute(r,"getProperties",n,Core.onSuccess(i))),o},n.removeFactoryPidPrefix=function(e,t){if(e&&t){if(_.startsWith(e,t))return e.substring(t.length+1);var n=t.lastIndexOf(".");if(0<n){var i=t.substring(0,n+1);return Core.trimLeading(e,i)}}return e}}(Osgi||(Osgi={})),function(r){var e=function(){function e(e,t){this.jolokia=t,this.workspace=e}return e.prototype.getBundles=function(){var i={},e=this.jolokia.request({type:"exec",mbean:r.getSelectionBundleMBean(this.workspace),operation:"listBundles()"},Core.onSuccess(null));return angular.forEach(e.value,function(e,t){var n={Identifier:e.Identifier,Name:"",SymbolicName:e.SymbolicName,Fragment:e.Fragment,State:e.State,Version:e.Version,LastModified:new Date(Number(e.LastModified)),Location:e.Location,StartLevel:void 0,RegisteredServices:e.RegisteredServices,ServicesInUse:e.ServicesInUse};e.Headers["Bundle-Name"]&&(n.Name=e.Headers["Bundle-Name"].Value),i[e.Identifier]=n}),i},e.prototype.getServices=function(){var n={},e=this.jolokia.request({type:"exec",mbean:r.getSelectionServiceMBean(this.workspace),operation:"listServices()"},Core.onSuccess(null)).value;return angular.forEach(e,function(e,t){n[e.Identifier]=e}),n},e.prototype.getPackages=function(){var t={};return this.jolokia.request({type:"exec",mbean:r.getSelectionPackageMBean(this.workspace),operation:"listPackages()"},Core.onSuccess(null)).value.values.forEach(function(e){t[e.Name+"-"+e.Version]=e}),t},e}();r.OsgiDataService=e}(Osgi||(Osgi={})),function(o){function r(e,t,n){var i=[];return s(e,i,[]),_.find(i,function(e){return e.Name==t&&e.Version==n})}o.log=Logger.get("Karaf"),o.setSelect=function(e,t){if(!angular.isDefined(e))return t[0];var n=_.findIndex(t,{id:e.id});return-1!==n?t[n]:t[0]},o.installRepository=function(e,t,n,i,r){o.log.info("installing URI: ",n),t.request({type:"exec",mbean:h(e),operation:"addRepository(java.lang.String)",arguments:[n]},Core.onSuccess(i,{error:r}))},o.uninstallRepository=function(e,t,n,i,r){o.log.info("uninstalling URI: ",n),t.request({type:"exec",mbean:h(e),operation:"removeRepository(java.lang.String)",arguments:[n]},Core.onSuccess(i,{error:r}))},o.installFeature=function(e,t,n,i,r,o){t.request({type:"exec",mbean:h(e),operation:"installFeature(java.lang.String, java.lang.String)",arguments:[n,i]},Core.onSuccess(r,{error:o}))},o.uninstallFeature=function(e,t,n,i,r,o){t.request({type:"exec",mbean:h(e),operation:"uninstallFeature(java.lang.String, java.lang.String)",arguments:[n,i]},Core.onSuccess(r,{error:o}))},o.toCollection=function(e){var t=e;return angular.isArray(e)||(t=[e]),t},o.featureLinks=function(e,t,n){return"<a href='"+Core.url("#/karaf/feature/"+t+"/"+n+e.hash())+"'>"+n+"</a>"},o.extractFeature=r;var t=new RegExp(["^org.apache.aries","^org.apache.karaf","^activemq-karaf","^org.apache.commons","^org.apache.felix","^io.fabric8","^io.fabric8.fab","^io.fabric8.insight","^io.fabric8.mq","^io.fabric8.patch","^io.fabric8.runtime","^io.fabric8.security","^org.apache.geronimo.specs","^org.apache.servicemix.bundles","^org.objectweb.asm","^io.hawt","^javax.mail","^javax","^org.jvnet","^org.mvel2","^org.apache.mina.core","^org.apache.sshd.core","^org.apache.neethi","^org.apache.servicemix.specs","^org.apache.xbean","^org.apache.santuario.xmlsec","^biz.aQute.bndlib","^groovy-all","^com.google.guava","jackson-\\w+-asl","^com.fasterxml.jackson","^org.ops4j","^org.springframework","^bcprov$","^jline$","scala-library$","^org.scala-lang","^stax2-api$","^woodstox-core-asl","^org.jboss.amq.mq-fabric","^gravia-","^joda-time$","^org.apache.ws","-commands$","patch.patch","org.fusesource.insight","activeio-core","activemq-osgi","^org.eclipse.jetty","org.codehaus.jettison.jettison","org.jledit.core","org.fusesource.jansi","org.eclipse.equinox.region"].join("|")),n=new RegExp(["^org.apache.camel","camel-karaf-commands$","activemq-camel$"].join("|")),i=new RegExp(["^org.apache.cxf"].join("|")),a=new RegExp(["^org.apache.activemq","activemq-camel$"].join("|"));function s(e,i,t){var r=e.Features;angular.forEach(e.Repositories,function(n){t.push({id:n.Name,uri:n.Uri}),r&&angular.forEach(n.Features,function(e){angular.forEach(e,function(e){if(void 0!==r[e.Name]){var t=_.cloneDeep(r[e.Name][e.Version]);t.Id=e.Name+"/"+e.Version,t.RepositoryName=n.Name,t.RepositoryURI=n.Uri,i.push(t)}})})})}function l(t,n,e){var i=[];return angular.forEach(e,function(e){i.push({Name:e,State:c(d(t,n,e))})}),i}function c(e){switch(e){case 2:return"Enabled";case 4:return"Unsatisfied";case 8:return"Activating";case 16:return"Active";case 32:return"Registered";case 64:return"Factory";case 128:return"Deactivating";case 256:return"Destroying";case 1024:return"Disabling";case 2048:return"Disposing"}return"Unknown"}function u(e,t){var n=p(e),i=t.request({type:"read",mbean:n,arguments:[]});return"Components"in i.value?i.value.Components.values:l(e,t,(i=t.request({type:"exec",mbean:n,operation:"listComponents()"})).value)}function d(e,t,n){return t.request({type:"exec",mbean:p(e),operation:"componentState(java.lang.String)",arguments:[n]}).value}function h(e){if(e){var t=((e.mbeanTypesToDomain.features||e.mbeanTypesToDomain.feature||{})["org.apache.karaf"]||{}).objectName;if(t)return t;var n=e.tree.navigate("org.apache.karaf","features");if(!n&&(n=e.tree.navigate("org.apache.karaf"))){var i=n.children;n=null,angular.forEach(i,function(e){n||(n=e.navigate("features"))})}if(n){if(i=n.children){var r=i[0];if(r)return r.objectName}return n.objectName}}return null}function p(e){if(e){var t=((e.mbeanTypesToDomain.scr||{})["org.apache.karaf"]||{}).objectName;if(t)return t;var n=e.tree.navigate("org.apache.karaf","scr");if(!n&&(n=e.tree.navigate("org.apache.karaf"))){var i=n.children;n=null,angular.forEach(i,function(e){n||(n=e.navigate("scr"))})}if(n){if(i=n.children){var r=i[0];if(r)return r.objectName}return n.objectName}}return null}o.isPlatformBundle=function(e){return t.test(e)},o.isActiveMQBundle=function(e){return a.test(e)},o.isCamelBundle=function(e){return n.test(e)},o.isCxfBundle=function(e){return i.test(e)},o.populateFeaturesAndRepos=s,o.createScrComponentsView=l,o.getComponentStateDescription=c,o.getAllComponents=u,o.getComponentByName=function(e,t,n){var i=u(e,t);return _.find(i,function(e){return e.Name==n})},o.isComponentActive=function(e,t,n){return t.request({type:"exec",mbean:p(e),operation:"isComponentActive(java.lang.String)",arguments:[n]}).value},o.getComponentState=d,o.activateComponent=function(e,t,n,i,r){t.request({type:"exec",mbean:p(e),operation:"activateComponent(java.lang.String)",arguments:[n]},Core.onSuccess(i,{error:r}))},o.deactivateComponent=function(e,t,n,i,r){t.request({type:"exec",mbean:p(e),operation:"deactiveateComponent(java.lang.String)",arguments:[n]},Core.onSuccess(i,{error:r}))},o.populateDependencies=function(n,e,i){angular.forEach(e,function(e){angular.forEach(e,function(e){var t=r(n,e.Name,e.Version);t.id=e.Name+"/"+e.Version,i.push(t)})})},o.getSelectionFeaturesMBean=h,o.getSelectionScrMBean=p}(Karaf||(Karaf={})),function(n){n.pluginName="osgi",n._module=angular.module(n.pluginName,[]),n._module.config(["$routeProvider",function(e){e.when("/osgi",{redirectTo:"/osgi/bundle-list"}).when("/osgi/bundle-list",{templateUrl:"plugins/osgi/html/bundle-list.html"}).when("/osgi/bundles",{templateUrl:"plugins/osgi/html/bundles.html"}).when("/osgi/bundle/:bundleId",{templateUrl:"plugins/osgi/html/bundle.html"}).when("/osgi/services",{templateUrl:"plugins/osgi/html/services.html"}).when("/osgi/packages",{templateUrl:"plugins/osgi/html/packages.html"}).when("/osgi/package/:package/:version",{templateUrl:"plugins/osgi/html/package.html"}).when("/osgi/configurations",{templateUrl:"plugins/osgi/html/configurations.html"}).when("/osgi/pid/:pid/:factoryPid",{templateUrl:"plugins/osgi/html/pid.html"}).when("/osgi/pid/:pid",{templateUrl:"plugins/osgi/html/pid.html"}).when("/osgi/fwk",{templateUrl:"plugins/osgi/html/framework.html"}).when("/osgi/dependencies",{templateUrl:"plugins/osgi/html/svc-dependencies.html",reloadOnSearch:!1})}]),n._module.run(["HawtioNav","workspace","viewRegistry","helpRegistry",function(e,t,n,i){i.addUserDoc("osgi","plugins/osgi/doc/help.md",function(){return t.treeContainsDomainAndProperties("osgi.core")});var r=e.builder(),o=r.id("osgi-configuration").href(function(){return"/osgi/configurations"+t.hash()}).title(function(){return"Configuration"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/configuration")||t.isLinkPrefixActive("/osgi/pid")}).build(),a=r.id("osgi-bundles").href(function(){return"/osgi/bundle-list"+t.hash()}).title(function(){return"Bundles"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/bundle")}).build(),s=r.id("osgi-features").href(function(){return"/osgi/features"+t.hash()}).title(function(){return"Features"}).show(function(){return!Core.isBlank(Karaf.getSelectionFeaturesMBean(t))}).isSelected(function(){return t.isLinkPrefixActive("/osgi/feature")}).build(),l=r.id("osgi-packages").href(function(){return"/osgi/packages"+t.hash()}).title(function(){return"Packages"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/package")}).build(),c=r.id("osgi-services").href(function(){return"/osgi/services"+t.hash()}).title(function(){return"Services"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/service")}).build(),u=r.id("osgi-scr-components").href(function(){return"/osgi/scr-components"+t.hash()}).title(function(){return"Declarative Services"}).show(function(){return!Core.isBlank(Karaf.getSelectionScrMBean(t))}).isSelected(function(){return t.isLinkPrefixActive("/osgi/scr-component")}).build(),d=r.id("osgi-server").href(function(){return"/osgi/server"+t.hash()}).title(function(){return"Server"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/server")}).build(),h=r.id("osgi-fwk").href(function(){return"/osgi/fwk"+t.hash()}).title(function(){return"Framework"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/fwk")}).build(),p=r.id("osgi-dependencies").href(function(){return"/osgi/dependencies"+t.hash()}).title(function(){return"Dependencies"}).isSelected(function(){return t.isLinkPrefixActive("/osgi/dependencies")}).build(),f=r.id("osgi").title(function(){return"OSGi"}).href(function(){return"/osgi"}).isValid(function(){return t.treeContainsDomainAndProperties("osgi.core")}).isSelected(function(){return t.isLinkActive("osgi")}).tabs(o,a,s,l,c,u,d,h,p).build();e.add(f)}]),n._module.factory("osgiDataService",["workspace","jolokia",function(e,t){return new n.OsgiDataService(e,t)}]),hawtioPluginLoader.addModule(n.pluginName)}(Osgi||(Osgi={})),function(s){s._module.controller("Osgi.BundleListController",["$scope","workspace","jolokia","localStorage",function(r,o,a,n){r.result={},r.bundles=[],r.bundleUrl="",r.display={bundleField:"Name",sortField:"Identifier",bundleFilter:"",startLevelFilter:0,showActiveMQBundles:!1,showCamelBundles:!1,showCxfBundles:!1,showPlatformBundles:!1},r.listViewUrl=Core.url("/osgi/bundle-list"+o.hash()),r.tableViewUrl=Core.url("/osgi/bundles"+o.hash()),"bundleList"in n&&(r.display=angular.fromJson(n.bundleList)),r.$watch("display",function(e,t){e!==t&&(n.bundleList=angular.toJson(e))},!0),r.installDisabled=function(){return""===r.bundleUrl},r.install=function(){a.request({type:"exec",mbean:s.getSelectionFrameworkMBean(o),operation:"installBundle(java.lang.String)",arguments:[r.bundleUrl]},{success:function(e){var t=e.value;a.request({type:"exec",mbean:s.getSelectionBundleMBean(o),operation:"isFragment(long)",arguments:[t]},{success:function(e){e.value?(Core.notification("success","Fragment installed successfully."),r.bundleUrl="",Core.$apply(r)):a.request({type:"exec",mbean:s.getSelectionFrameworkMBean(o),operation:"startBundle(long)",arguments:[t]},{success:function(e){Core.notification("success","Bundle installed and started successfully."),r.bundleUrl="",Core.$apply(r)},error:function(e){Core.notification("error",e.error)}})},error:function(e){Core.notification("error",e.error)}})},error:function(e){Core.notification("error",e.error)}})},r.$watch("display.sortField",function(e,t){e!==t&&(r.bundles=_.sortBy(r.bundles,e))}),r.getStateStyle=function(e){return s.getStateStyle("badge",e)},r.getLabel=function(e){var t;return"Name"===r.display.bundleField?""===(t=e.Name)&&(t=e.SymbolicName):t=e.SymbolicName,t},r.filterBundle=function(e){if(0<r.display.startLevelFilter&&e.StartLevel<r.display.startLevelFilter)return!1;var t=r.getLabel(e);return(!r.display.bundleFilter||-1!==t.toLowerCase().indexOf(r.display.bundleFilter.toLowerCase()))&&(!Core.isBlank(r.display.bundleFilter)||!!(r.display.showPlatformBundles&&Karaf.isPlatformBundle(e.SymbolicName)||r.display.showActiveMQBundles&&Karaf.isActiveMQBundle(e.SymbolicName)||r.display.showCxfBundles&&Karaf.isCxfBundle(e.SymbolicName)||r.display.showCamelBundles&&Karaf.isCamelBundle(e.SymbolicName)))},Core.register(a,r,{type:"exec",mbean:s.getSelectionBundleMBean(o),operation:"listBundles()"},Core.onSuccess(function(e){var t=e.value,n=angular.toJson(t);r.responseJson!==n&&(r.responseJson=n,r.bundles=[],angular.forEach(t,function(e,t){var n={Identifier:e.Identifier,Name:"",SymbolicName:e.SymbolicName,Fragment:e.Fragment,State:e.State,Version:e.Version,LastModified:new Date(Number(e.LastModified)),Location:e.Location,StartLevel:void 0,Url:Core.url("/osgi/bundle/"+e.Identifier+o.hash())};e.Headers["Bundle-Name"]&&(n.Name=e.Headers["Bundle-Name"].Value),r.bundles.push(n)}),r.bundles=_.sortBy(r.bundles,r.display.sortField),Core.$apply(r),setTimeout(function(){for(var e=[],t=0;t<r.bundles.length;t++){var n=r.bundles[t];e.push({type:"exec",mbean:s.getSelectionBundleMBean(o),operation:"getStartLevel(long)",arguments:[n.Identifier]})}var i=e.length;a.request(e,Core.onSuccess(function(e){var t=e.request.arguments[0];if(angular.isDefined(t)){var n=r.bundles[t];n&&(s.log.debug("Setting bundle: ",n.Identifier," start level to: ",e.value),n.StartLevel=e.value)}i-=1,s.log.debug("oustanding responses: ",i),0===i&&(s.log.debug("Updating page..."),Core.$apply(r))}))},500))}))}])}(Osgi||(Osgi={})),function(c){function u(e){var t=e.indexOf(";");return t<=0?"":e.substring(t+1).trim()}function d(e,t){var n="";if(!e)return n;for(var i=Object.keys(e).sort(),r=0;r<i.length;r++){var o,a=i[r],s=a.charAt(0),l="";if("A"===s&&(l="=",o="text-info"),"D"===s&&(l=":=",o="muted"),""!==l){if(t&&"Aversion"===a)continue;var c=e[a];15<c.length&&(c=c.replace(/[,]/g,",<br/>&nbsp;&nbsp;")),n+="<tr><td><strong class='"+o+"'>"+a.substring(1)+"</strong>"+l+c+"</td></tr>"}}return n}function p(e){if(angular.isArray(e))return function(e){for(var t=[],n=0;n<e.length;n++)t.push(p(e[n]));return(t=_.filter(t,function(e,t,n){return n.indexOf(e)===t})).sort(),t.toString()}(e);var t=e.toString(),n=t.lastIndexOf(".");return t.substring(n+1)}c.readBSNHeaderData=u,c.formatAttributesAndDirectivesForPopover=d,c.formatServiceName=p,c._module.controller("Osgi.BundleController",["$scope","$location","workspace","$routeParams","jolokia",function(h,t,a,e,r){function n(){document.getElementById("loadClassResult").innerHTML+="<div class='alert alert-error'><button type='button' class='close' data-dismiss='alert'>&times;</button>The hawtio.OSGiTools MBean is not available. Please contact technical support.</div>"}function i(e){document.getElementById("loadClassResult").innerHTML+="<div class='alert alert-error'><button type='button' class='close' data-dismiss='alert'>&times;</button>Problem invoking hawtio.OSGiTools MBean. "+e+"</div>"}function o(e){var t=e.value;h.bundles=t,c.defaultBundleValues(a,h,t),h.row=c.findBundle(h.bundleId,t),Core.$apply(h),$(".accordion-body.collapse").hover(function(){$(this).css("overflow","visible")},function(){$(this).css("overflow","hidden")}),$("#bsn").tooltip({title:u(h.row.Headers["Bundle-SymbolicName"].Value),placement:"right"}),function(){var e=c.parseManifestHeader(h.row.Headers,"Import-Package");for(var t in h.row.ImportData){var n=e[t],i="<small><table><tr><td><strong>Imported Version=</strong>"+h.row.ImportData[t].ReportedVersion+"</td></tr>";if(void 0!==n)i+=d(n,!1),"optional"!==e[t].Dresolution&&$(document.getElementById("import."+t)).addClass("badge-info");else{$(document.getElementById("import."+t)).addClass("badge-important");var r=h.row.Headers["DynamicImport-Package"];void 0!==r&&(r=r.Value,i+="<tr><td>Dynamic Import. Imported due to:</td></tr>",i+="<tr><td><strong>DynamicImport-Package=</strong>"+r+"</td></tr>")}i+="</table></small>",$(document.getElementById("import."+t)).popover({title:"attributes and directives",content:i,trigger:"hover",html:!0}),e[t]=void 0}var o="";for(var t in e)void 0!==e[t]&&void 0===h.row.ExportData[t]&&(o+="<tr><td><div class='less-big badge badge-warning' id='unsatisfied."+t+"'>"+t+"</div></td></tr>");""!==o&&(o="<p/><p class='text-warning'>The following optional imports were not satisfied:<table>"+o+"</table></p>",document.getElementById("unsatisfiedOptionalImports").innerHTML=o);for(var t in e)if(void 0!==e[t]){var i="<small><table>";i+=d(e[t],!1),i+="</table></small>",$(document.getElementById("unsatisfied."+t)).popover({title:"attributes and directives",content:i,trigger:"hover",html:!0})}}(),function(){var e=c.parseManifestHeader(h.row.Headers,"Export-Package");for(var t in h.row.ExportData){var n="<small><table><tr><td><strong>Exported Version=</strong>"+h.row.ExportData[t].ReportedVersion+"</td></tr>";n+=d(e[t],!0),n+="</table></small>",$(document.getElementById("export."+t)).popover({title:"attributes and directives",content:n,trigger:"hover",html:!0})}}(),function(){if(!(void 0!==h.row.RegisteredServices&&0!==h.row.RegisteredServices.length||void 0!==h.row.ServicesInUse&&0!==h.row.ServicesInUse))return;var e=c.getSelectionServiceMBean(a);e&&r.request({type:"exec",mbean:e,operation:"listServices()"},Core.onSuccess(s))}()}function s(e){var d=e.value;for(var t in d){var n=document.getElementById("registers.service."+t),i=document.getElementById("uses.service."+t);null==n&&null==i||r.request({type:"exec",mbean:c.getSelectionServiceMBean(a),operation:"getProperties",arguments:[t]},Core.onSuccess(function(l,c,u){return function(e){for(var t=e.value,n=Object.keys(t).sort(),i="<small><table>",r=0;r<n.length;r++){var o=t[n[r]];if(void 0!==o){var a=o.Value;15<a.length&&(a=a.replace(/[,]/g,",<br/>&nbsp;&nbsp;")),i+="<tr><td valign='top'>"+n[r]+"</td><td>"+a+"</td></tr>"}}var s=d[l].BundleIdentifier;i+="<tr><td>Registered&nbsp;by</td><td>Bundle "+s+" <div class='less-big label'>"+h.bundles[s].SymbolicName+"</div></td></tr>",i+="</table></small>",null!=c&&(c.innerText=" "+p(d[l].objectClass),$(c).popover({title:"service properties",content:i,trigger:"hover",html:!0})),null!=u&&(u.innerText=" "+p(d[l].objectClass),$(u).popover({title:"service properties",content:i,trigger:"hover",html:!0}))}}(t,n,i)))}}function l(){var e=c.getSelectionBundleMBean(a);e&&r.request({type:"exec",mbean:e,operation:"listBundles()"},Core.onSuccess(o))}h.bundleId=e.bundleId,l(),h.showValue=function(e){switch(e){case"Bundle-Name":case"Bundle-SymbolicName":case"Bundle-Version":case"Export-Package":case"Import-Package":return!1;default:return!0}},h.executeLoadClass=function(o){var e=c.getHawtioOSGiToolsMBean(a);e?r.request({type:"exec",mbean:e,operation:"getLoadClassOrigin",arguments:[h.bundleId,o]},{success:function(e){var t,n,i=document.getElementById("loadClassResult"),r=e.value;-1===r?(t="",n="Class can not be loaded from this bundle."):(t="alert-success",n="Class is served from Bundle "+c.bundleLinks(a,r)),i.innerHTML+="<div class='alert "+t+"'><button type='button' class='close' data-dismiss='alert'>&times;</button>Loading class <strong>"+o+"</strong> in Bundle "+h.bundleId+". "+n+"</div>"},error:function(e){i(e)}}):n()},h.executeFindResource=function(o){var e=c.getHawtioOSGiToolsMBean(a);e?r.request({type:"exec",mbean:e,operation:"getResourceURL",arguments:[h.bundleId,o]},{success:function(e){var t,n,i=document.getElementById("loadClassResult"),r=e.value;null===r?(t="",n="Resource can not be found from this bundle."):(t="alert-success",n="Resource is available from: "+r),i.innerHTML+="<div class='alert "+t+"'><button type='button' class='close' data-dismiss='alert'>&times;</button>Finding resource <strong>"+o+"</strong> in Bundle "+h.bundleId+". "+n+"</div>"},error:function(e){i(e)}}):n()},h.startBundle=function(e){r.request([{type:"exec",mbean:c.getSelectionFrameworkMBean(a),operation:"startBundle",arguments:[e]}],Core.onSuccess(l))},h.stopBundle=function(e){r.request([{type:"exec",mbean:c.getSelectionFrameworkMBean(a),operation:"stopBundle",arguments:[e]}],Core.onSuccess(l))},h.updatehBundle=function(e){r.request([{type:"exec",mbean:c.getSelectionFrameworkMBean(a),operation:"updateBundle",arguments:[e]}],Core.onSuccess(l))},h.refreshBundle=function(e){r.request([{type:"exec",mbean:c.getSelectionFrameworkMBean(a),operation:"refreshBundle",arguments:[e]}],Core.onSuccess(l))},h.uninstallBundle=function(e){r.request([{type:"exec",mbean:c.getSelectionFrameworkMBean(a),operation:"uninstallBundle",arguments:[e]}],Core.onSuccess(function(){t.path("/osgi/bundle-list"),Core.$apply(h)}))}}])}(Osgi||(Osgi={})),function(o){o._module.controller("Osgi.BundlesController",["$scope","workspace","jolokia",function(i,r,n){i.result={},i.bundles=[],i.selected=[],i.loading=!0,i.bundleUrl="",i.listViewUrl=Core.url("/osgi/bundle-list"+r.hash()),i.tableViewUrl=Core.url("/osgi/bundles"+r.hash()),i.installDisabled=function(){return""===i.bundleUrl};function e(e){angular.equals(i.result,e.value)||(i.selected.length=0,i.result=e.value,i.bundles=[],angular.forEach(i.result,function(e,t){var n={Identifier:e.Identifier,Name:"",SymbolicName:e.SymbolicName,State:e.State,Version:e.Version,LastModified:e.LastModified,Location:e.Location,Url:Core.url("/osgi/bundle/"+e.Identifier+r.hash())};e.Headers["Bundle-Name"]&&(n.Name=e.Headers["Bundle-Name"].Value),i.bundles.push(n)}),i.loading=!1,Core.$apply(i))}i.gridOptions={data:"bundles",showFilter:!1,selectedItems:i.selected,selectWithCheckboxOnly:!0,columnDefs:[{field:"Identifier",displayName:"Identifier",width:"48",headerCellTemplate:'<div ng-click="col.sort()" class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }"><div class="ngHeaderText colt{{$index}} pagination-centered" title="Identifier"><i class="fa fa-tag"></i></div><div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div><div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div></div>'},{field:"State",displayName:"Bundle State",width:"24",headerCellTemplate:'<div ng-click="col.sort()" class="ngHeaderSortColumn {{col.headerClass}}" ng-style="{\'cursor\': col.cursor}" ng-class="{ \'ngSorted\': !noSortVisible }"><div class="ngHeaderText colt{{$index}} pagination-centered" title="State"><i class="fa fa-tasks"></i></div><div class="ngSortButtonDown" ng-show="col.showSortButtonDown()"></div><div class="ngSortButtonUp" ng-show="col.showSortButtonUp()"></div></div>',cellTemplate:'<div class="ngCellText" title="{{row.entity.State}}"><i class="{{row.entity.State}}"></i></div>'},{field:"Name",displayName:"Name",width:"***",cellTemplate:'<div class="ngCellText"><a href="{{row.entity.Url}}">{{row.entity.Name}}</a></div>'},{field:"SymbolicName",displayName:"Symbolic Name",width:"***",cellTemplate:'<div class="ngCellText"><a href="{{row.entity.Url}}">{{row.entity.SymbolicName}}</a></div>'},{field:"Version",displayName:"Version",width:"**"},{field:"Location",displayName:"Update Location",width:"***"}],filterOptions:{filterText:""},primaryKeyFn:function(e){return e.Identifier}},i.onResponse=function(){n.request({type:"exec",mbean:o.getSelectionBundleMBean(r),operation:"listBundles()"},{success:e,error:e})},i.controlBundles=function(e){var t=i.selected.map(function(e){return e.Identifier});angular.isArray(t)||(t=[t]),n.request({type:"exec",mbean:o.getSelectionFrameworkMBean(r),operation:e,arguments:[t]},{success:i.onResponse,error:i.onResponse})},i.stop=function(){i.controlBundles("stopBundles([J)")},i.start=function(){i.controlBundles("startBundles([J)")},i.update=function(){i.controlBundles("updateBundles([J)")},i.refresh=function(){i.controlBundles("refreshBundles([J)")},i.uninstall=function(){i.controlBundles("uninstallBundles([J)")},i.install=function(){n.request({type:"exec",mbean:o.getSelectionFrameworkMBean(r),operation:"installBundle(java.lang.String)",arguments:[i.bundleUrl]},{success:function(e){console.log("Got: ",e),i.bundleUrl="",n.request({type:"exec",mbean:o.getSelectionFrameworkMBean(r),operation:"startBundle(long)",arguments:[e.value]},{success:i.onResponse,error:i.onResponse})},error:function(e){i.bundleUrl="",i.onResponse()}})},Core.register(n,i,{type:"exec",mbean:o.getSelectionBundleMBean(r),operation:"listBundles()"},Core.onSuccess(e))}])}(Osgi||(Osgi={})),function(w){w._module.controller("Osgi.ConfigurationsController",["$scope","$routeParams","$location","workspace","jolokia",function(c,e,t,a,n){c.selectedItems=[],c.jolokia=n,c.grid={data:"configurations",showFilter:!1,showColumnMenu:!1,multiSelect:!1,filterOptions:{filterText:"",useExternalFilter:!1},selectedItems:c.selectedItems,showSelectionCheckbox:!1,displaySelectionCheckbox:!1,columnDefs:[{field:"Pid",displayName:"Configuration",cellTemplate:'<div class="ngCellText"><a ng-href="{{row.entity.pidLink}}" title="{{row.entity.description}}">{{row.entity.name}}</a></div>'}],primaryKeyFn:function(e){return e.Pid}};var s={factory:{class:"badge badge-info",title:"Configuration factory used to create separate instances of the configuration"},pid:{class:"badge badge-success",title:"Configuration which has a set of properties associated with it"},pidNoValue:{class:"badge badge-warning",title:"Configuration which does not yet have any bound values"}};function i(e){var i={};angular.forEach(e,function(e){var t=e[0],n=p(t,e[1]);f(t)||(n.hasValue=!0,n.kind=s.pid,i[t]=n)}),c.pids=i;var t=w.getSelectionConfigAdminMBean(a);t&&c.jolokia.execute(t,"getConfigurations","(service.factoryPid=*)",Core.onSuccess(r,b("Failed to load factory PID configurations: "))),function(){if(c.pids)if(c.profileNotRunning&&c.profileMetadataMBean&&c.versionId&&c.profileId)n.execute(c.profileMetadataMBean,"metaTypeSummary",c.versionId,c.profileId,Core.onSuccess(o));else{var e=w.getMetaTypeMBean(a);e&&c.jolokia.execute(e,"metaTypeSummary",Core.onSuccess(o))}}()}function r(e){var n=w.getSelectionConfigAdminMBean(a),o=c.pids;o&&n&&angular.forEach(e,function(e){var t=e[0],i=e[1];if(t&&!f(t)){var r=o[t];r&&(r.isFactoryInstance=!0,c.jolokia.execute(n,"getFactoryPid",t,Core.onSuccess(function(n){if(r.factoryPid=n,r.name=w.removeFactoryPidPrefix(t,n),n){var e=g(n,i,o);e&&(m(t,e,r),c.inFabricProfile&&w.getConfigurationProperties(a,c.jolokia,t,function(e){var t=Core.pathGet(e,["fabric.zookeeper.pid","Value"]);t&&(r.name=w.removeFactoryPidPrefix(t,n),r.zooKeeperPid=t,Core.$apply(c))}),Core.$apply(c))}})))}}),l()}function o(e){c.metaType=e,l()}function u(){var e=c.pids,n=[];angular.forEach(e,function(e,t){e.isFactoryInstance||n.push(e)}),c.configurations=_.sortBy(n,"name"),Core.$apply(c)}function l(a){void 0===a&&(a=!0);var e=c.metaType;if(e){var s=w.configuration.pidMetadata,l=c.pids||{};angular.forEach(e.pids,function(e,t){var n,i=a?g(t,null):l[t];if(i){var r=e.factoryPidBundleIds;r&&r.length&&v(i),i.name=Core.pathGet(s,[t,"name"])||(n=e.name,angular.forEach(["Fabric8 ","Apache "],function(e){n&&_.startsWith(n,e)&&n.length>e.length&&(n=n.substring(e.length))}),n)||t;var o=Core.pathGet(s,[t,"description"])||e.description;i.description=o}})}u()}function d(){if(c.configurations=[],c.profileNotRunning&&c.profileMetadataMBean&&c.versionId&&c.profileId)n.execute(c.profileMetadataMBean,"metaTypeSummary",c.versionId,c.profileId,Core.onSuccess(h,{silent:!0}));else if(c.jolokia){var e=w.getSelectionConfigAdminMBean(a);e&&c.jolokia.execute(e,"getConfigurations","(service.pid=*)",Core.onSuccess(i,b("Failed to load PID configurations: ")))}}function h(e){var t=e;if(t){var a={};angular.forEach(t.pids,function(e,t){if(e&&!f(t)){var n="mvn:"+t,i={pid:t,name:e.name,class:"pid",description:e.description,bundle:n,kind:s.pid,pidLink:y(t)};a[t]=i}}),angular.forEach(a,function(e,t){var n=t.indexOf("-");if(0<n){var i=t.substring(0,n),r=t.substring(n+1,t.length),o=a[i];if(!o)o=g(i,e.bundle,a);o&&(m(t,o,e,i),e.name=r,a[i]=o,delete a[t])}}),c.pids=a}c.metaType=t,l(!1)}function p(e,t){var n,i,r,o=w.configuration.pidMetadata;return{pid:e,name:Core.pathGet(o,[e,"name"])||e,class:"pid",description:Core.pathGet(o,[e,"description"])||(n=e,i=t,r=w.configuration.pidMetadata,Core.pathGet(r,[n,"description"])||"pid: "+n+"\nbundle: "+i),bundle:t,kind:s.pidNoValue,pidLink:y(e)}}function f(t){var n=!1;return angular.forEach(w.configuration.ignorePids,function(e){_.startsWith(t,e)&&(n=!0)}),n}function g(e,t,n){if(void 0===n&&(n=null),f(e))return w.log.info("ignoring pid "+e),null;n||(n=c.pids);var i=n[e];return i||(i=p(e,t),n[e]=i,u()),i}function m(e,t,n,i){void 0===i&&(i=null),v(t,i,e);var r=t.children;i&&(t.pidLink=y(i,!0)),r||(r={},t.children=r),r[e]=n}function v(e,t,n){void 0===t&&(t=null),void 0===n&&(n=null),e.isFactory=!0,e.class="factoryPid",e.kind=s.factory,t||(t=e.factoryPid||""),n||(n=e.pid||""),t||(t=n,n=null),e.pidLink=y(t)}function y(e,t){return void 0===t&&(t=!1),w.createConfigPidLink(c,a,e,t)}function b(t){return{error:function(e){Core.notification("error",t+e.error||e),Core.defaultJolokiaErrorHandler(e)}}}c.addPidDialog=new UI.Dialog,c.addPid=function(t){if(c.configurations.some(function(e){return e.pid==t}))Core.notification("error",'pid "'+t+'" already exists.');else{c.addPidDialog.close();var e=w.getHawtioConfigAdminMBean(a);if(e&&t){var n=JSON.stringify({});c.jolokia.execute(e,"configAdminUpdate",t,n,Core.onSuccess(function(e){Core.notification("success","Successfully created pid: "+t),d()}))}}},c.$on("$routeChangeSuccess",function(e,t,n){setTimeout(d,50)}),d()}])}(Osgi||(Osgi={})),function(s){s._module.controller("Osgi.FrameworkController",["$scope","$dialog","workspace",function(r,e,o){function a(e,t){Core.notification(e,t),n()}function t(e){r.startLevel=e.value.FrameworkStartLevel,r.initialBundleStartLevel=e.value.InitialBundleStartLevel,Core.$apply(r)}function n(){var e=s.getSelectionFrameworkMBean(o);e&&o.jolokia.request({type:"read",mbean:e},Core.onSuccess(t))}r.editDialog=new UI.Dialog,n(),r.edit=function(e,t){r.editAttr=e,r.editDisplayName=t,r.editDialog.open()},r.edited=function(e,t,n){if(r.editDialog.close(),angular.isNumber(n)){var i=s.getSelectionFrameworkMBean(o);if(i)o.jolokia.request({type:"write",mbean:i,attribute:e,value:n},{error:function(e){a("error",e.error)},success:function(e){a("success",t+" changed to "+n)}})}}}])}(Osgi||(Osgi={})),(Osgi||(Osgi={})).configuration={pidMetadata:{"io.fabric8.container.java":{name:"Java Container"},"io.fabric8.container.process":{name:"Process Container"},"io.fabric8.container.process.overlay.resources":{name:"Container Overlay Resources",description:"The resources overlaid over the distribution of the process",schemaExtensions:{disableHumanizeLabel:!0}},"io.fabric8.dosgi":{name:"Fabric8 DOSGi",description:"The configuration for the Distributed OSGi implementation in Fabric8"},"io.fabric8.environment":{name:"Environment Variables",description:"The operating system Environment Variables which are exported into any child processes",schemaExtensions:{disableHumanizeLabel:!0}},"io.fabric8.fab.osgi.url":{name:"FAB URL",description:"Configures the 'fab:' URL handler for deploying JARs as bundles"},"io.fabric8.mq.fabric.server":{name:"ActiveMQ Broker",description:"The configuration of the Apache ActiveMQ server configured via the fabric"},"io.fabric8.openshift":{name:"OpenShift"},"io.fabric8.ports":{name:"Ports",description:"The network ports exported by the container",schemaExtensions:{disableHumanizeLabel:!0}},"io.fabric8.system":{name:"System Properties",description:"The Java System Properties which are exported into any child Java processes",schemaExtensions:{disableHumanizeLabel:!0}},"io.fabric8.version":{name:"Versions",schemaExtensions:{disableHumanizeLabel:!0}},"org.ops4j.pax.logging":{name:"Logging",description:"The configuration of the logging subsystem"},"org.ops4j.pax.url.mvn":{name:"Maven URL",description:"Configures the Maven 'mvn:' URL handler for referencing maven artifacts"},"org.ops4j.pax.url.war":{name:"WAR URL",description:"Configures the 'war:' URL handler for referencing WAR deployments"},"org.ops4j.pax.url.wrap":{name:"Wrap URL",description:"Configures the 'wrap:' URL handler for wrapping JARs as bundles"}},ignorePids:["jmx.acl","io.fabric8.agent","io.fabric8.git","io.fabric8.mq.fabric.template","io.fabric8.openshift.agent","io.fabric8.service.ZkDataStoreImpl","org.apache.felix.fileinstall","org.apache.karaf.command.acl.","org.apache.karaf.service.acl."],tabs:{fabric8:{label:"Fabric8",description:"Configuration options for the Fabric8 services",pids:["io.fabric8"]},karaf:{label:"Karaf",description:"Configuration options for the Apache Karaf container and subsystem",pids:["org.apache.karaf"]}}},function(e){var t=function(){function e(e,t,n,i,r,o,a){this.filteredBundles={},this.bundles=null,this.services=null,this.packages=null,this.PREFIX_BUNDLE="Bundle-",this.PREFIX_SVC="Service-",this.PREFIX_PKG="Package-",this.osgiDataService=e,this.workspace=t,this.bundleFilter=n,this.packageFilter=i,this.showServices=r,this.showPackages=o,this.hideUnused=a,this.graphBuilder=new ForceGraph.GraphBuilder}return e.prototype.getBundles=function(){return null==this.bundles&&(this.bundles=this.osgiDataService.getBundles()),this.bundles},e.prototype.getServices=function(){return null==this.services&&(this.services=this.osgiDataService.getServices()),this.services},e.prototype.getPackages=function(){return null==this.packages&&(this.packages=this.osgiDataService.getPackages()),this.packages},e.prototype.bundleNodeId=function(e){return this.PREFIX_BUNDLE+e.Identifier},e.prototype.serviceNodeId=function(e){return this.PREFIX_SVC+e.Identifier},e.prototype.pkgNodeId=function(e){return this.PREFIX_PKG+e.Name+"-"+e.Version},e.prototype.buildSvcNode=function(e){return{id:this.serviceNodeId(e),name:""+e.Identifier,type:"service",used:!1,popup:{title:"Service ["+e.Identifier+"]",content:function(){var t="";return null!=e&&e.objectClass.forEach(function(e){0<t.length&&(t+="<br/>"),t+=e}),t}}}},e.prototype.buildBundleNode=function(e){return{id:this.bundleNodeId(e),name:e.SymbolicName,type:"bundle",used:!1,navUrl:Core.url("/osgi/bundle/"+e.Identifier+this.workspace.hash()),popup:{title:"Bundle ["+e.Identifier+"]",content:"<p>"+e.SymbolicName+"<br/>Version "+e.Version+"</p>"}}},e.prototype.buildPackageNode=function(e){return{id:this.pkgNodeId(e),name:e.Name,type:"package",used:!1,popup:{title:"Package ["+e.Name+"]",content:"<p>"+e.Version+"</p>"}}},e.prototype.exportingBundle=function(e){var t=this,n=null;return e.ExportingBundles.forEach(function(e){null!=t.filteredBundles[t.PREFIX_BUNDLE+e]&&(n=e)}),n},e.prototype.addFilteredBundles=function(){var r=this;d3.values(this.getBundles()).forEach(function(e){if(null==r.bundleFilter||""==r.bundleFilter||_.startsWith(e.SymbolicName,r.bundleFilter.toString())){var n=r.buildBundleNode(e);if(r.filteredBundles[n.id]=e,n.used=!0,r.graphBuilder.addNode(n),r.showServices){var i=r.getServices();e.RegisteredServices.forEach(function(e){if(i[e]){var t=r.buildSvcNode(i[e]);r.graphBuilder.addNode(t),r.graphBuilder.addLink(n.id,t.id,"registered")}})}}})},e.prototype.addFilteredServices=function(){var r=this;this.showServices&&d3.values(this.getBundles()).forEach(function(i){i.ServicesInUse.forEach(function(e){var t=r.PREFIX_SVC+e;if(null!=r.graphBuilder.getNode(t)){r.graphBuilder.getNode(t).used=!0;var n=r.graphBuilder.getNode(r.bundleNodeId(i))||r.buildBundleNode(i);n.used=!0,r.graphBuilder.addNode(n),r.graphBuilder.addLink(t,n.id,"inuse")}})})},e.prototype.addFilteredPackages=function(){var r=this;this.showPackages&&d3.values(this.getPackages()).forEach(function(e){if(null==r.packageFilter||""==r.packageFilter||_.startsWith(e.Name,r.packageFilter.toString())){var t=r.exportingBundle(e);if(null!=t){var n=r.graphBuilder.getNode(r.PREFIX_BUNDLE+t);n.used=!0;var i=r.buildPackageNode(e);r.graphBuilder.addNode(i),r.graphBuilder.addLink(n.id,i.id,"registered"),e.ImportingBundles.forEach(function(e){var t=r.graphBuilder.getNode(r.PREFIX_BUNDLE+e)||r.buildBundleNode(r.getBundles()[e]);t.used=!0,i.used=!0,r.graphBuilder.addNode(t),r.graphBuilder.addLink(t.id,i.id,"inuse")})}}})},e.prototype.buildGraph=function(){var t=this;return this.addFilteredBundles(),this.addFilteredServices(),this.addFilteredPackages(),this.hideUnused&&(this.graphBuilder.filterNodes(function(e){return e.used}),this.graphBuilder.filterNodes(function(e){return t.graphBuilder.hasLinks(e.id)})),this.graphBuilder.buildGraph()},e}();e.OsgiGraphBuilder=t}(Osgi||(Osgi={})),function(n){n.TopLevelController=n._module.controller("Osgi.TopLevelController",["$scope","workspace",function(e,t){e.frameworkMBean=n.getSelectionFrameworkMBean(t),e.bundleMBean=n.getSelectionBundleMBean(t),e.serviceMBean=n.getSelectionServiceMBean(t),e.packageMBean=n.getSelectionPackageMBean(t),e.configAdminMBean=n.getSelectionConfigAdminMBean(t),e.metaTypeMBean=n.getMetaTypeMBean(t),e.osgiToolsMBean=n.getHawtioOSGiToolsMBean(t),e.hawtioConfigAdminMBean=n.getHawtioConfigAdminMBean(t),e.scrMBean=Karaf.getSelectionScrMBean(t),e.featuresMBean=Karaf.getSelectionFeaturesMBean(t)}])}(Osgi||(Osgi={})),function(o){o._module.controller("Osgi.PackageController",["$scope","$filter","workspace","$routeParams",function(n,e,i,t){function r(e){var t=o.defaultPackageValues(i,n,e.value);n.row=_.filter(t,{Name:n.package,Version:n.version})[0],Core.$apply(n)}n.package=t.package,n.version=t.version,function(){var e=o.getSelectionPackageMBean(i);if(e){var t=i.jolokia;t.request({type:"exec",mbean:e,operation:"listPackages"},Core.onSuccess(r))}}()}])}(Osgi||(Osgi={})),function(s){s.PackagesController=s._module.controller("Osgi.PackagesController",["$scope","$filter","workspace","$templateCache","$compile",function(o,e,a,t,n){e("date");function i(e){var t,i,n,r=s.defaultPackageValues(a,o,e.value);t=r,i={},n=function(e){angular.forEach(e.value,function(e,t){var n={Identifier:e.Identifier,Name:"",SymbolicName:e.SymbolicName,State:e.State,Version:e.Version,LastModified:e.LastModified,Location:e.Location,Url:Core.url("/osgi/bundle/"+e.Identifier+a.hash())};e.Headers["Bundle-Name"]&&(n.Name=e.Headers["Bundle-Name"].Value),i[n.Identifier]=n}),angular.forEach(t,function(n,e){angular.forEach(n.ExportingBundles,function(e,t){n.ExportingBundles[t]=i[e]}),angular.forEach(n.ImportingBundles,function(e,t){n.ImportingBundles[t]=i[e]})}),o.packages=t,Core.$apply(o)},a.jolokia.request({type:"exec",mbean:s.getSelectionBundleMBean(a),operation:"listBundles()"},{success:n,error:n})}o.packages=[],o.selectedItems=[],o.mygrid={data:"packages",showFilter:!1,showColumnMenu:!1,filterOptions:{filterText:"",useExternalFilter:!1},selectedItems:o.selectedItems,rowHeight:32,selectWithCheckboxOnly:!0,columnDefs:[{field:"Name",displayName:"Name"},{field:"VersionLink",displayName:"Version",width:"***",cellTemplate:'\n            <div class="ngCellText">\n              <a ng-href="{{row.entity.VersionUrl}}">{{row.entity.Version}}</a>\n            </div>'},{field:"ExportingBundles",displayName:"Exporting Bundles",cellTemplate:'\n            <div class="ngCellText">\n              <div ng-repeat="bundle in row.entity.ExportingBundles">\n                <a title="Exported by bundle {{bundle.Identifier}}" ng-href="{{bundle.Url}}">{{bundle.SymbolicName}}</a>\n              </div>\n            </div>'},{field:"ImportingBundles",displayName:"Importing Bundles",cellTemplate:'\n            <div class="ngCellText">\n              <div ng-repeat="bundle in row.entity.ImportingBundles">\n                <a title="Imported by bundle {{bundle.Identifier}}" ng-href="{{bundle.Url}}">{{bundle.SymbolicName}}</a>\n              </div>\n            </div>'},{field:"RemovalPending",displayName:"Removal Pending"}],primaryKeyFn:function(e){return e.Name}},o.$watch("workspace.selection",function(){!function(){var e=s.getSelectionPackageMBean(a);if(e){var t=a.jolokia;t.request({type:"exec",mbean:e,operation:"listPackages"},Core.onSuccess(i))}}()})}])}(Osgi||(Osgi={})),function(w){w._module.controller("Osgi.PidController",["$scope","$timeout","$routeParams","$location","workspace","jolokia",function(m,e,t,o,s,r){if(m.deletePropDialog=new UI.Dialog,m.deletePidDialog=new UI.Dialog,m.addPropertyDialog=new UI.Dialog,m.factoryPid=t.factoryPid,m.pid=t.pid,m.createForm={pidInstanceName:null},m.newPid=m.factoryPid&&!m.pid,m.newPid&&(m.editMode=!0),m.pid&&!m.factoryPid){var n=m.pid.indexOf("-");0<n&&(m.factoryPid=m.pid.substring(0,n),m.factoryInstanceName=m.pid.substring(n+1,m.pid.length))}m.selectValues={},m.modelLoaded=!1,m.canSave=!1,m.setEditMode=function(e){m.editMode=e,m.formMode=e?"edit":"view",e&&m.entity||(m.entity={},g())};var i=m.factoryPid&&!t.pid;function l(e,n,t){var i=Core.onSuccess(function(e){if(Core.notification("success","Successfully updated pid: "+n),n&&m.factoryPid&&m.newPid){var t=w.createConfigPidPath(m,n);o.path(t)}else m.setEditMode(!1),m.canSave=!1,m.saved=!0},c("Failed to update: "+n)),r=JSON.stringify(t);m.jolokia.execute(e,"configAdminUpdate",n,r,i)}function c(t){return{error:function(e){Core.notification("error",t+"\n"+e.error||e),Core.defaultJolokiaErrorHandler(e)}}}function a(){m.editMode&&(m.canSave=!0)}function u(e){m.modelLoaded=!0;var t=e||{};if(m.configValues=t,m.zkPid=Core.pathGet(t,["fabric.zookeeper.pid","Value"]),m.zkPid&&m.saved);else d()}function d(){p();var e=m.configValues;if(e)if(m.profileNotRunning&&m.profileMetadataMBean&&m.versionId&&m.profileId){var t=m.factoryPid||m.pid;r.execute(m.profileMetadataMBean,"getPidMetaTypeObject",m.versionId,m.profileId,t,Core.onSuccess(h))}else{t=null;var n=e["service.factoryPid"];n&&!t&&(t=n.Value);var i=w.getMetaTypeMBean(m.workspace);i&&m.jolokia.execute(i,"getPidMetaTypeObject",t,null,Core.onSuccess(h))}Core.$apply(m)}function h(e){m.metaType=e,p(),Core.$apply(m)}function p(){var d={},h=[];m.defaultValues={};var e={type:"object",required:h,properties:d},p="control-label",t=m.metaType;if(t){var n=w.configuration.pidMetadata,f=t.id;e.id=f,e.name=Core.pathGet(n,[f,"name"])||t.name,e.description=Core.pathGet(n,[f,"description"])||t.description;var g=Core.pathGet(n,[f,"schemaExtensions","disableHumanizeLabel"]);angular.forEach(t.attributes,function(e){var t=e.id;if(v(t)){var n=y(t,f),i=b(e.typeName,e.id),r={title:e.name,tooltip:e.description,"input-attributes":{class:"span12"},"label-attributes":{class:p},type:i};g&&(r.title=t),"char"===e.typeName&&(r.maxLength=1,r.minLength=1),e.cardinality&&(r["input-attributes"].class=null,r.type="array",r.items={"input-attributes":{class:""},"label-attributes":{class:"control-label"},type:i}),e.required&&h.push(t);var o=e.defaultValue;o&&(angular.isArray(o)&&1===o.length&&(o=o[0]),m.defaultValues[n]=o);var a=e.optionLabels,s=e.optionValues;if(a&&a.length&&s&&s.length){for(var l={},c=0;c<a.length;c++){var u=a[c];l[s[c]]=u}m.selectValues[n]=l,Core.pathSet(r,["input-element"],"select"),Core.pathSet(r,["input-attributes","ng-options"],"key as value for (key, value) in selectValues."+n)}d[n]=r}});var i=Core.pathGet(w.configuration.pidMetadata,[f,"schemaExtensions"]);i&&function i(r,e){angular.isObject(r)&&angular.isObject(e)&&angular.forEach(e,function(e,t){if(angular.isObject(e)){var n=r[t];n||(n={},r[t]=n),i(n,e)}else r[t]=e})}(e,i)}var a={};angular.forEach(m.configValues,function(e,t){if(v(t)){var n=y(t,f),i=e,r="string";angular.isObject(e)&&(i=e.Value,r=b(e.Type,t));var o=d[n];if(o)"array"===o.type&&(angular.isArray(i)||(i=i?i.split(","):[]));else o={"input-attributes":{class:"span12"},"label-attributes":{class:p},type:r},d[n]=o,"org.osgi.service.http.port"==t&&(d[n]["input-attributes"].disabled="disabled",d[n]["input-attributes"].title="Changing port of OSGi http service is not possible from Hawtio");g&&(o.title=t),n=n.replace(/-/g,"_"),a[n]=i}}),angular.forEach(m.defaultValues,function(e,t){var n=a[t];angular.isDefined(n)||(a[t]=e)}),m.entity=a,m.schema=e,m.fullSchema=e}m.setEditMode(i),m.$on("hawtio.form.modelChange",function(){m.modelLoaded&&(a(),Core.$apply(m))}),m.pidSave=function(){var r={};angular.forEach(m.entity,function(e,t){var n,i=void 0;angular.isString(e)?i=e:angular.isDefined(e)&&(i=e.toString()),angular.isDefined(i)&&(r[(n=t,m.pid,n.replace(/__/g,"."))]=i)});var t=w.getHawtioConfigAdminMBean(s);if(t||m.inFabricProfile){var e=w.getSelectionConfigAdminMBean(m.workspace),n=m.pid,i=m.zkPid,o=m.factoryPid;if(!m.inFabricProfile&&o&&e&&!i)m.jolokia.execute(e,"createFactoryConfiguration",o,Core.onSuccess(function(e){(n=e)&&l(t,n,r)},c("Failed to create new PID: ")));else{if(m.newPid){var a=m.createForm.pidInstanceName;if(!a||!o)return;n=o+"-"+a}else i&&(n=i);l(t,n,r)}}},m.addPropertyConfirmed=function(e,t){m.addPropertyDialog.close(),m.configValues[e]={Key:e,Value:t,Type:"String"},a(),p()},m.deletePidProp=function(e){m.deleteKey=e.Key,m.deletePropDialog.open()},m.deletePidPropConfirmed=function(){m.deletePropDialog.close(),document.getElementById("pid."+m.deleteKey).parentElement.remove(),a()},m.deletePidConfirmed=function(){m.deletePidDialog.close();var e=w.getSelectionConfigAdminMBean(m.workspace);e&&m.jolokia.request({type:"exec",mbean:e,operation:"delete",arguments:[m.pid]},{error:function(e){Core.notification("error",e.error)},success:function(e){Core.notification("success","Successfully deleted pid: "+m.pid),o.path(m.configurationsLink)}})};var f=["service.pid","service.factoryPid","fabric.zookeeper.pid"];function v(e){return e&&f.indexOf(e)<0}function y(e,t){return e.replace(/\./g,"__")}function b(e,t){if(e){var n=e.toLowerCase();return _.startsWith(n,"int")||"long"===n||"short"===n||"byte"===n||_.endsWith(n,"int")?"integer":"double"===n||"float"===n||"bigdecimal"===n?"number":"string"===n?t&&_.endsWith(t,"password")?"password":"string":e}return"string"}function g(){m.modelLoaded=!1,w.getConfigurationProperties(m.workspace,m.jolokia,m.pid,u)}g()}])}(Osgi||(Osgi={})),function(s){s.ServiceController=s._module.controller("Osgi.ServiceController",["$scope","$filter","workspace","$templateCache","$compile",function(o,e,a,t,n){e("date");o.workspace=a,o.services=[],o.selectedItems=[],o.mygrid={data:"services",showFilter:!1,showColumnMenu:!1,filterOptions:{filterText:"",useExternalFilter:!1},selectedItems:[],rowHeight:32,selectWithCheckboxOnly:!0,columnDefs:[{field:"BundleIdentifier",displayName:"Bundle",cellTemplate:'\n            <div class="ngCellText">\n              <a ng-href="{{row.entity.Url}}">{{row.entity.Identifier}}</a>\n            </div>'},{field:"objectClass",displayName:"Object Class(es)",cellTemplate:'\n            <div class="ngCellText">\n              <div ng-repeat="clazz in row.entity.objectClass">\n                <span>\n                  {{clazz}}\n                </span>\n              </div>\n            </div>'},{field:"UsingBundles",displayName:"Used by",cellTemplate:'\n            <div class="ngCellText">\n              <div ng-repeat="bundle in row.entity.UsingBundles">\n                <a ng-href="{{bundle.Url}}">{{bundle.Name || bundle.SymbolicName || bundle.Identifier}}</a>\n                \x3c!--\n                <pre>\n                  {{bundle}}\n                </pre>\n                  --\x3e\n              </div>\n            </div>'}],primaryKeyFn:function(e){return e.BundleIdentifier}},o.selectedItems=o.mygrid.selectedItems,o.$watch("workspace.selection",function(){var e=s.getSelectionServiceMBean(a);e&&a.jolokia.request({type:"exec",mbean:e,operation:"listServices()"},Core.onSuccess(i))});var i=function(e){var n,i,t,r=s.defaultServiceValues(a,o,e.value);n=r,i={},t=function(e){angular.forEach(e.value,function(e,t){var n={Identifier:e.Identifier,Name:"",SymbolicName:e.SymbolicName,State:e.State,Version:e.Version,LastModified:e.LastModified,Location:e.Location,Url:Core.url("/osgi/bundle/"+e.Identifier+a.hash())};e.Headers["Bundle-Name"]&&(n.Name=e.Headers["Bundle-Name"].Value),i[n.Identifier]=n});var t=[];angular.forEach(n,function(n,e){n.Url=Core.url("/osgi/bundle/"+n.Identifier+a.hash()),angular.forEach(n.UsingBundles,function(e,t){n.UsingBundles[t]=i[e]}),t.push(n)}),o.services=t,Core.$apply(o)},a.jolokia.request({type:"exec",mbean:s.getSelectionBundleMBean(a),operation:"listBundles()"},{success:t,error:t})}}])}(Osgi||(Osgi={})),function(a){a._module.controller("Osgi.ServiceDependencyController",["$scope","$location","$routeParams","workspace","osgiDataService",function(t,n,i,r,o){t.init=function(){i.bundleFilter?t.bundleFilter=i.bundleFilter:t.bundleFilter="",i.pkgFilter?t.packageFilter=i.pkgFilter:t.packageFilter="","packages"==i.view?t.selectView="packages":t.selectView="services",i.hideUnused?t.hideUnused="true"==i.hideUnused:t.hideUnused=!0},t.updateLink=function(){var e=n.search();t.bundleFilter&&""!=t.bundleFilter?e.bundleFilter=t.bundleFilter:delete e.bundleFilter,t.packageFilter&&""!=t.packageFilter?e.pkgFilter=t.packageFilter:delete e.pkgFilter,e.view=t.selectView,t.hideUnused?e.hideUnused="true":e.hideUnused="false",n.search(e)},t.$on("$routeUpdate",function(){var e=n.search;e.bundleFilter?t.bundleFilter=i.bundleFilter:t.bundleFilter="",e.pkgFilter?t.packageFilter=i.pkgFilter:t.packageFilter="","packages"==e.view?t.selectView="packages":t.selectView="services",e.hideUnused?t.hideUnused="true"==i.hideUnused:t.hideUnused=!0,t.updateLink(),t.updateGraph()}),t.updateGraph=function(){t.updateLink(),t.updatePkgFilter();var e=new a.OsgiGraphBuilder(o,r,t.bundleFilter,t.packageFilter,"services"==t.selectView,"packages"==t.selectView,t.hideUnused);t.graph=e.buildGraph(),Core.$apply(t)},t.updatePkgFilter=function(){null==t.packageFilter||""==t.packageFilter?(t.selectView="services",t.disablePkg=!0):t.disablePkg=!1},t.init(),t.updateGraph()}])}(Osgi||(Osgi={})),function(e){e._module=angular.module("karaf",["ngResource","hawtio-core"]),e._module.config(["$routeProvider",function(e){e.when("/osgi/server",{templateUrl:"plugins/karaf/html/server.html"}).when("/osgi/features",{templateUrl:"plugins/karaf/html/features.html",reloadOnSearch:!1}).when("/osgi/scr-components",{templateUrl:"plugins/karaf/html/scr-components.html"}).when("/osgi/scr-component/:name",{templateUrl:"plugins/karaf/html/scr-component.html"}).when("/osgi/feature/:name/:version",{templateUrl:"plugins/karaf/html/feature.html"})}]),e._module.run(["workspace","viewRegistry","helpRegistry",function(e,t,n){n.addUserDoc("karaf","plugins/karaf/doc/help.md",function(){return e.treeContainsDomainAndProperties("org.apache.karaf")})}]),hawtioPluginLoader.addModule("karaf")}(Karaf||(Karaf={})),function(s){s._module.controller("Karaf.FeatureController",["$scope","jolokia","workspace","$routeParams",function(r,e,o,t){function a(e){if(r.row=s.extractFeature(e.value,r.name,r.version),r.row){t=r.row,n=[],angular.forEach(t.Bundles,function(e){var t=r.bundlesByLocation[e];t?(t.Installed=!0,n.push(t)):n.push({Location:e,Installed:!1})}),t.BundleDetails=n;var i=[];angular.forEach(r.row.Dependencies,function(e,n){angular.forEach(e,function(e,t){i.push({Name:n,Version:t})})}),r.row.Dependencies=i}var t,n;Core.$apply(r)}r.name=t.name,r.version=t.version,r.bundlesByLocation={},r.props="properties",function(){var e=s.getSelectionFeaturesMBean(o),t=Osgi.getSelectionBundleMBean(o),n=o.jolokia;t&&(i=n.request({type:"exec",mbean:t,operation:"listBundles()"}),Osgi.defaultBundleValues(o,r,i.values),angular.forEach(i.value,function(e){var t=e.Location;r.bundlesByLocation[t]=e}));var i;e&&n.request({type:"read",mbean:e},Core.onSuccess(a))}(),r.install=function(){s.installFeature(o,e,r.name,r.version,function(){Core.notification("success","Installed feature "+r.name)},function(e){Core.notification("error","Failed to install feature "+r.name+" due to "+e.error)})},r.uninstall=function(){s.uninstallFeature(o,e,r.name,r.version,function(){Core.notification("success","Uninstalled feature "+r.name)},function(e){Core.notification("error","Failed to uninstall feature "+r.name+" due to "+e.error)})},r.toProperties=function(e){var n="";return angular.forEach(e,function(e,t){n+=e.Key+" = "+e.Value+"\n"}),n.trim()}}])}(Karaf||(Karaf={})),function(l){l._module.controller("Karaf.FeaturesController",["$scope","$location","workspace","jolokia",function(s,n,e,i){s.responseJson="",s.filter="",s.installedFeatures=[],s.features=[],s.repositories=[],s.selectedRepositoryId="",s.selectedRepository={},s.newRepositoryURI="",s.init=function(){var e=n.search().repositoryId;e&&(s.selectedRepositoryId=e);var t=n.search().filter;t&&(s.filter=t)},s.init(),s.$watch("selectedRepository",function(e,t){e!==t&&(s.selectedRepositoryId=e?e.repository:"",n.search("repositoryId",s.selectedRepositoryId))},!0),s.$watch("filter",function(e,t){e!==t&&n.search("filter",e)});var t=l.getSelectionFeaturesMBean(e);function r(e){var t=angular.toJson(e.value);if(s.responseJson!==t){s.responseJson=t,null===e.value.Features?s.featuresError=!0:s.featuresError=!1,s.features=[],s.repositories=[];var n=[],i=[];l.populateFeaturesAndRepos(e.value,n,i);var r=n.filter(function(e){return Core.parseBooleanValue(e.Installed)}),o=n.filter(function(e){return!Core.parseBooleanValue(e.Installed)});if(s.installedFeatures=_.sortBy(r,function(e){return e.Name}),o=_.sortBy(o,function(e){return e.Name}),_.sortBy(i,"id").forEach(function(t){s.repositories.push({repository:t.id,uri:t.uri,features:_.filter(o,function(e){return e.RepositoryName===t.id})})}),!Core.isBlank(s.newRepositoryURI)){var a=_.find(i,function(e){return e.uri===s.newRepositoryURI});a&&(s.selectedRepositoryId=a.id),s.newRepositoryURI=""}Core.isBlank(s.selectedRepositoryId)?s.selectedRepository=_.first(s.repositories):s.selectedRepository=_.find(s.repositories,function(e){return e.repository===s.selectedRepositoryId}),Core.$apply(s)}}l.log.debug("Features mbean: ",t),t&&Core.register(i,s,{type:"read",mbean:t},Core.onSuccess(r)),s.inSelectedRepository=function(e){return s.selectedRepository&&"repository"in s.selectedRepository&&e&&"RepositoryName"in e&&e.RepositoryName===s.selectedRepository.repository?"in-selected-repository":""},s.isValidRepository=function(){return Core.isBlank(s.newRepositoryURI)},s.installRepository=function(){var t=s.newRepositoryURI;Core.notification("info","Adding feature repository URL"),l.installRepository(e,i,t,function(){Core.notification("success","Added feature repository URL"),s.selectedRepository={},s.selectedRepositoryId="",s.responseJson=null,s.triggerRefresh()},function(e){l.log.error("Failed to add feature repository URL ",t," due to ",e.error),l.log.info("stack trace: ",e.stacktrace),Core.$apply(s)})},s.uninstallRepository=function(){var t=s.selectedRepository.uri;Core.notification("info","Removing feature repository "+t),l.uninstallRepository(e,i,t,function(){Core.notification("success","Removed feature repository "+t),s.responseJson=null,s.selectedRepositoryId="",s.selectedRepository={},s.triggerRefresh()},function(e){l.log.error("Failed to remove feature repository ",t," due to ",e.error),l.log.info("stack trace: ",e.stacktrace),Core.$apply(s)})},s.triggerRefresh=function(){i.request({type:"read",method:"POST",mbean:t},Core.onSuccess(r))},s.install=function(t){Core.notification("info","Installing feature "+t.Name),l.installFeature(e,i,t.Name,t.Version,function(){Core.notification("success","Installed feature "+t.Name),s.installedFeatures.add(t),s.responseJson=null,s.triggerRefresh()},function(e){l.log.error("Failed to install feature ",t.Name," due to ",e.error),l.log.info("stack trace: ",e.stacktrace),Core.$apply(s)})},s.uninstall=function(t){Core.notification("info","Uninstalling feature "+t.Name),l.uninstallFeature(e,i,t.Name,t.Version,function(){Core.notification("success","Uninstalled feature "+t.Name),s.installedFeatures.remove(t),s.responseJson=null,s.triggerRefresh()},function(e){l.log.error("Failed to uninstall feature ",t.Name," due to ",e.error),l.log.info("stack trace: ",e.stacktrace),Core.$apply(s)})},s.filteredRows=["Bundles","Configurations","Configuration Files","Dependencies"],s.showRow=function(e,t){return-1===s.filteredRows.indexOf(e)&&((!angular.isArray(t)||0!==t.length)&&((!angular.isString(t)||!Core.isBlank(t))&&!(angular.isObject(t)&&(!t||angular.equals(t,{})))))},s.installed=function(e){return Core.parseBooleanValue(e)},s.showValue=function(e){if(angular.isArray(e)){var n=['<ul class="zebra-list">'];return e.forEach(function(e){n.push("<li>"+e+"</li>")}),n.push("</ul>"),n.join("\n")}if(angular.isObject(e)){n=['<table class="table">',"<tbody>"];return angular.forEach(e,function(e,t){n.push("<tr>"),n.push("<td>"+t+"</td>"),n.push("<td>"+e+"</td>"),n.push("</tr>")}),n.push("</tbody>"),n.push("</table>"),n.join("\n")}return""+e},s.getStateStyle=function(e){return Core.parseBooleanValue(e.Installed)?"badge badge-success":"badge"},s.filterFeature=function(e){return!!Core.isBlank(s.filter)||!!e.Id.has(s.filter)}}])}(Karaf||(Karaf={})),function(n){n._module.controller("Karaf.NavBarController",["$scope","workspace",function(e,t){e.hash=t.hash(),e.isKarafEnabled=t.treeContainsDomainAndProperties("org.apache.karaf"),e.isFeaturesEnabled=n.getSelectionFeaturesMBean(t),e.isScrEnabled=n.getSelectionScrMBean(t),e.$on("$routeChangeSuccess",function(){e.hash=t.hash()}),e.isActive=function(e){return t.isLinkActive(e)},e.isPrefixActive=function(e){return t.isLinkPrefixActive(e)}}])}(Karaf||(Karaf={})),function(o){o._module.controller("Karaf.ScrComponentController",["$scope","$location","workspace","jolokia","$routeParams",function(e,t,n,i,r){e.name=r.name,e.row=o.getComponentByName(n,i,e.name),Core.$apply(e),e.activate=function(){o.activateComponent(n,i,e.row.Name,function(){console.log("Activated!")},function(){console.log("Failed to activate!")})},e.deactivate=function(){o.deactivateComponent(n,i,e.row.Name,function(){console.log("Deactivated!")},function(){console.log("Failed to deactivate!")})}}])}(Karaf||(Karaf={})),function(o){o._module.controller("Karaf.ScrComponentsController",["$scope","$location","workspace","jolokia",function(e,t,n,i){var r;e.component=[{Name:"",Status:!1}],e.result=[],e.components=[],e.selectedComponents=[],e.scrOptions={data:"components",showFilter:!1,showColumnMenu:!1,filterOptions:{useExternalFilter:!1},sortInfo:{fields:["Name"],directions:["asc"]},selectedItems:e.selectedComponents,rowHeight:32,selectWithCheckboxOnly:!0,columnDefs:[{field:"Name",displayName:"Name",cellTemplate:'<div class="ngCellText"><a href="#/osgi/scr-component/{{row.entity.Name}}?p=container">{{row.getProperty(col.field)}}</a></div>',width:400},{field:"State",displayName:"State",cellTemplate:'<div class="ngCellText">{{row.getProperty(col.field)}}</div>',width:200}],primaryKeyFn:function(e){return e.Name}},o.getSelectionScrMBean(n)&&(r=o.getAllComponents(n,i),angular.equals(e.result,r)||(e.components=r,e.result=e.components,Core.$apply(e))),e.activate=function(){e.selectedComponents.forEach(function(e){o.activateComponent(n,i,e.Name,function(){console.log("Activated!")},function(){console.log("Failed to activate!")})})},e.deactivate=function(){e.selectedComponents.forEach(function(e){o.deactivateComponent(n,i,e.Name,function(){console.log("Deactivated!")},function(){console.log("Failed to deactivate!")})})}}])}(Karaf||(Karaf={})),(Karaf||(Karaf={}))._module.controller("Karaf.ServerController",["$scope","$location","workspace","jolokia",function(d,e,t,h){function n(){setTimeout(i,50)}function i(){console.log("Loading Karaf data..."),h.search("org.apache.karaf:type=admin,*",Core.onSuccess(r))}function r(e){if(angular.isArray(e)){var t=e[0];t&&h.getAttribute(t,"Instances",Core.onSuccess(function(e){!function(e,t){if(e){var n=Core.parseMBean(t),i="root";"attributes"in n&&"name"in n.attributes&&(i=n.attributes.name);var r=e[i];d.data.name=r.Name,d.data.state=r.State,d.data.root=r["Is Root"],d.data.location=r.Location,d.data.sshPort=r["SSH Port"],d.data.rmiRegistryPort=r["RMI Registry Port"],d.data.rmiServerPort=r["RMI Server Port"],d.data.pid=r.Pid,d.data.version="?",d.data.startLevel="?",d.data.framework="?",d.data.frameworkVersion="?";var o="org.apache.karaf:type=system,name="+r.Name,a=h.request({type:"read",mbean:o,attribute:["StartLevel","Framework","Version"]},Core.onSuccess(null)),s=a.value;s&&(d.data.version=s.Version,d.data.startLevel=s.StartLevel,d.data.framework=s.Framework);var l=h.search("osgi.core:type=bundleState,*",Core.onSuccess(null));if(angular.isArray(l)){var t=l[0];if(t){var c=h.request({type:"exec",mbean:t,operation:"getVersion(long)",arguments:[0]},Core.onSuccess(null)),u=c.value;u&&(d.data.frameworkVersion=u)}}}Core.$apply(d)}(e,t)}))}}d.data={name:"",version:"",state:"",root:"",startLevel:"",framework:"",frameworkVersion:"",location:"",sshPort:"",rmiRegistryPort:"",rmiServerPort:"",pid:""},d.$on("jmxTreeUpdated",n),d.$watch("workspace.tree",n)}]),angular.module("hawtio-integration-templates",[]).run(["$templateCache",function(e){e.put("plugins/activemq/html/browseQueue.html",'<div ng-controller="ActiveMQ.BrowseQueueController">\n  <div ng-hide="showMessageDetails"> \n    <div class="row">\n      <div class="col-md-6">\n        <input class="search-query col-md-12" type="text" ng-model="gridOptions.filterOptions.filterText"\n               placeholder="Filter messages">\n      </div>\n      <div class="col-md-6 align-right">\n        <div class="search-query">\n        <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length" ng-show="dlq" ng-click="retryMessages()"\n          title="Moves the dead letter queue message back to its original destination so it can be retried" data-placement="bottom">\n          <i class="fa fa-reply"></i> Retry\n        </button>\n        <button class="btn btn-default" ng-disabled="gridOptions.selectedItems.length !== 1" ng-click="resendMessage()"\n          title="Edit the message to resend it" data-placement="bottom">\n          <i class="fa fa-share-alt"></i> Resend\n        </button>\n\n        <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length" ng-click="moveMessages()"\n          title="Move the selected messages to another destination" data-placement="bottom">\n          <i class="fa fa-share-alt"></i> Move\n        </button>\n        <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length"\n          ng-click="deleteMessages()"\n          title="Delete the selected messages">\n          <i class="fa fa-remove"></i> Delete\n        </button>\n        <button class="btn btn-default" ng-click="refresh()"\n          title="Refreshes the list of messages">\n          <i class="fa fa-refresh"></i>\n        </button>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <table class="table table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n  </div>\n\n  <div ng-show="showMessageDetails">\n    <div class="row">\n      <div class="col-md-4">\n          <button class="btn btn-primary" ng-click="showMessageDetails = false"><i class="fa fa-arrow-left"></i> Back</button>\n      </div>\n      <div class="col-md-4 align-center">\n          <div hawtio-pager="messages" on-index-change="selectRowIndex" row-index="rowIndex"></div>\n      </div>\n      <div class="col-md-4 align-right">\n\n          <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length" ng-click="moveMessages()"\n            title="Move the selected messages to another destination" data-placement="bottom">\n            <i class="fa fa-share-alt"></i> Move\n          </button>\n\n          <button class="btn btn-danger" ng-disabled="!gridOptions.selectedItems.length"\n            ng-click="deleteMessages()"\n            title="Delete the selected messages">\n            <i class="fa fa-remove"></i> Delete\n          </button>\n\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="expandable closed">\n        <div title="Headers" class="title">\n          <i class="expandable-indicator"></i> Headers & Properties\n        </div>\n        <div class="expandable-body well">\n          <table class="table table-condensed table-striped">\n            <thead>\n              <tr>\n                <th>Header</th>\n                <th>Value</th>\n              </tr>\n            </thead>\n            <tbody compile="row.headerHtml"></tbody>\n          </table>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div>Displaying body as <span ng-bind="row.textMode"></span></div>\n      <div hawtio-editor="row.bodyText" read-only="true" mode=\'mode\'></div>\n    </div>\n\n  </div>\n\n  <script type="text/ng-template" id="activemqMoveMessageDialog.html">\n    <div class="modal-header">\n      <span>Move messages?</span>\n    </div>\n    <div class="modal-body">\n      <p>Move\n        <ng-pluralize count="gridOptions.selectedItems.length"\n                      when="{\'1\': \'message\', \'other\': \'{} messages\'}"></ng-pluralize>\n        to: <input type="text" ng-model="queueName" placeholder="Queue name"\n                   typeahead="title.unescapeHTML() for title in queueNames($viewValue) | filter:$viewValue" typeahead-editable=\'true\'></p>\n      <p>\n        You cannot undo this operation.<br>\n        Though after the move you can always move the\n        <ng-pluralize count="gridOptions.selectedItems.length"\n                      when="{\'1\': \'message\', \'other\': \'messages\'}"></ng-pluralize>\n        back again.\n      </p>\n    </div>\n    <div class="modal-footer">\n      <button class="btn btn-info" \n              ng-click="close(true)">Move</button>\n      <button class="btn btn-default" \n              ng-click="close(false)">Cancel</button>\n    </div>\n  <\/script>\n\n</div>\n\n'),e.put("plugins/activemq/html/createDestination.html",'<form class="form-horizontal" ng-controller="ActiveMQ.DestinationController">\n\n  <div class="alert alert-info">\n    <span class="pficon pficon-info"></span>The JMS API does not define a standard address syntax. <p></p> Although a\n    standard address syntax was considered, it was decided that the differences in address semantics between existing\n    message-oriented middleware (MOM) products were too wide to bridge with a single syntax.\n  </div>\n\n  <div class="form-group">\n    <label class="col-sm-2 control-label" for="name-markup">{{destinationTypeName}} name</label>\n\n    <div class="col-sm-10">\n      <input id="name-markup" class="form-control" type="text" size="60" style="margin-left:15px;" maxlength="300"\n             name="destinationName" ng-model="destinationName" placeholder="{{destinationTypeName}} name"/>\n    </div>\n  </div>\n  <div class="form-group">\n    <label class="col-sm-2 control-label">Destination type</label>\n\n    <div class="col-sm-10">\n      <label class="checkbox">\n        <input type="radio" ng-model="queueType" value="true"> Queue\n      </label>\n      <label class="checkbox">\n        <input type="radio" ng-model="queueType" value="false"> Topic\n      </label>\n    </div>\n  </div>\n\n  <div class="control-group col-md-12">\n    <button type="submit" class="btn btn-primary" ng-click="createDestination(destinationName, queueType)"\n            ng-disabled="!destinationName">Create {{destinationTypeName}}\n    </button>\n  </div>\n\n</form>\n'),e.put("plugins/activemq/html/deleteQueue.html",'<div ng-controller="ActiveMQ.DestinationController">\n  <div class="row">\n\n    <div class="control-group">\n\n      <div class="alert alert-warning">\n        <span class="pficon-layered">\n          <span class="pficon pficon-warning-triangle"></span>\n          <span class="pficon pficon-warning-exclamation"></span>\n        </span>\n        <strong>Warning:</strong> these operations cannot be undone. Please be careful!\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-md-6">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="deleteDialog = true">Delete queue\n          \'{{name}}\'\n        </button>\n        <label>This will remove the queue completely.</label>\n      </div>\n    </div>\n    <div class="col-md-6">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="purgeDialog = true">Purge queue\n          \'{{name}}\'\n        </button>\n        <label>Purges all the current messages on the queue.</label>\n      </div>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="deleteDialog"\n       title="Confirm delete queue"\n       ok-button-text="Delete"\n       cancel-button-text="Cancel"\n       on-ok="deleteDestination()">\n    <div class="dialog-body">\n      <p>You are about to delete the <b>{{name}}</b> queue</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="purgeDialog"\n       title="Confirm purge queue"\n       ok-button-text="Purge"\n       cancel-button-text="Cancel"\n       on-ok="purgeDestination()">\n    <div class="dialog-body">\n      <p>You are about to purge the <b>{{name}}</b> queue</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n</div>\n'),e.put("plugins/activemq/html/deleteTopic.html",'<div ng-controller="ActiveMQ.DestinationController">\n  <div class="row">\n    <div class="control-group">\n      <div class="alert alert-warning">\n        <span class="pficon-layered">\n          <span class="pficon pficon-warning-triangle"></span>\n          <span class="pficon pficon-warning-exclamation"></span>\n        </span>\n        <strong>Warning:</strong> this operation cannot be undone. Please be careful!\n      </div>\n    </div>\n  </div>\n\n  <div class="row">\n    <div class="col-md-12">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="deleteDialog = true">Delete topic\n          \'{{name}}\'\n        </button>\n        <label>This will remove the topic completely.</label>\n      </div>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="deleteDialog"\n       title="Confirm delete topic"\n       ok-button-text="Delete"\n       cancel-button-text="Cancel"\n       on-ok="deleteDestination()">\n    <div class="dialog-body">\n      <p>You are about to delete the <b>{{name}}</b> topic</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n</div>\n'),e.put("plugins/activemq/html/durableSubscribers.html",'<div ng-controller="ActiveMQ.DurableSubscriberController">\n\n    <div class="row">\n      <div class="col-md-12">\n        <div class="pull-right">\n            <form class="form-inline">\n                <button class="btn btn-default" ng-click="createSubscriberDialog.open()"\n                        hawtio-show object-name="{{workspace.selection.objectName}}" method-name="createDurableSubscriber"\n                        title="Create durable subscriber">\n                    <i class="fa fa-plus"></i> Create\n                </button>\n                <button class="btn btn-default" ng-click="deleteSubscriberDialog.open()"\n                        hawtio-show object-name="{{$scope.gridOptions.selectedItems[0]._id}}" method-name="destroy"\n                        title="Destroy durable subscriber" ng-disabled="gridOptions.selectedItems.length != 1">\n                    <i class="fa fa-exclamation"></i> Destroy\n                </button>\n                <button class="btn btn-default" ng-click="refresh()"\n                        title="Refreshes the list of subscribers">\n                    <i class="fa fa-refresh"></i>\n                </button>\n            </form>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="gridStyle" ng-grid="gridOptions"></div>\n    </div>\n\n    <div modal="createSubscriberDialog.show">\n      <form name="createSubscriber" class="form-horizontal no-bottom-margin" ng-submit="doCreateSubscriber(clientId, subscriberName, topicName, subSelector)">\n        <div class="modal-header"><h4>Create Durable Subscriber</h4></div>\n        <div class="modal-body">\n          <label>Client Id: </label>\n          <input name="clientId" class="input-xlarge" type="text" ng-model="clientId" required>\n          <label>Subscriber name: </label>\n          <input name="subscriberName" class="input-xlarge" type="text" ng-model="subscriberName" required>\n          <label>Topic name: </label>\n          <input name="topicName" class="input-xlarge" type="text" ng-model="topicName" required typeahead="title for title in topicNames($viewValue) | filter:$viewValue" typeahead-editable=\'true\'>\n          <label>Selector: </label>\n          <input name="subSelector" class="input-xlarge" type="text" ng-model="subSelector">\n        </div>\n        <div class="modal-footer">\n          <input class="btn btn-success" type="submit" value="Create">\n          <input class="btn btn-primary" type="button" ng-click="createSubscriberDialog.close()" value="Cancel">\n        </div>\n      </form>\n    </div>\n\n    <div hawtio-slideout="showSubscriberDialog.show" title="Details">\n      <div class="dialog-body">\n\n        <div class="row">\n          <div class="pull-right">\n            <form class="form-inline">\n\n              <button class="btn btn-danger" ng-disabled="showSubscriberDialog.subscriber.Status == \'Active\'"\n                      ng-click="deleteSubscriberDialog.open()"\n                      title="Delete subscriber">\n                <i class="fa fa-remove"></i> Delete\n              </button>\n\n              <button class="btn btn-default" ng-click="showSubscriberDialog.close()" title="Close this dialog">\n                <i class="fa fa-remove"></i> Close\n              </button>\n\n            </form>\n          </div>\n        </div>\n\n          <div class="row">\n              <div class="expandable-body well">\n                <table class="table table-condensed table-striped">\n                  <thead>\n                  <tr>\n                    <th>Property</th>\n                    <th>Value</th>\n                  </tr>\n                  </thead>\n                  <tbody>\n                  <tr>\n                    <td class="property-name">Client Id</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["ClientId"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Subscription Name</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["SubscriptionName"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Topic Name</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["DestinationName"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Selector</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["Selector"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Status</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber.Status}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Enqueue Counter</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["EnqueueCounter"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Dequeue Counter</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["DequeueCounter"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Dispatched Counter</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["DispatchedCounter"]}}</td>\n                  </tr>\n                  <tr>\n                    <td class="property-name">Pending Size</td>\n                    <td class="property-value">{{showSubscriberDialog.subscriber["PendingQueueSize"]}}</td>\n                  </tr>\n                  </tbody>\n                </table>\n              </div>\n            </div>\n\n      </div>\n\n    </div>\n\n    <div hawtio-confirm-dialog="deleteSubscriberDialog.show" ok-button-text="Yes" cancel-button-text="No" on-ok="deleteSubscribers()">\n      <div class="dialog-body">\n        <p>Are you sure you want to delete the subscriber</p>\n      </div>\n    </div>\n\n</div>'),e.put("plugins/activemq/html/jobs.html",'<div ng-controller="ActiveMQ.JobSchedulerController">\n\n    <div class="row">\n      <div class="col-md-12">\n        <div class="pull-right">\n            <form class="form-inline">\n                <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length"\n                        hawtio-show object-name="{{workspace.selection.objectName}}" method-name="removeJob"\n                        ng-click="deleteJobsDialog.open()"\n                        title="Delete the selected jobs">\n                  <i class="fa fa-remove"></i> Delete\n                </button>\n                <button class="btn btn-default" ng-click="refresh()"\n                        title="Refreshes the list of subscribers">\n                    <i class="fa fa-refresh"></i>\n                </button>\n            </form>\n        </div>\n      </div>\n    </div>\n\n    <div class="row">\n      <div class="gridStyle" ng-grid="gridOptions"></div>\n    </div>\n\n    <div hawtio-confirm-dialog="deleteJobsDialog.show" ok-button-text="Yes" cancel-button-text="No" on-ok="deleteJobs()">\n      <div class="dialog-body">\n        <p>Are you sure you want to delete the jobs</p>\n      </div>\n    </div>\n\n</div>'),e.put("plugins/activemq/html/layoutActiveMQTree.html",'<script type="text/ng-template" id="ActiveMQTreeHeader.html">\n  <div class="tree-header" ng-controller="ActiveMQ.TreeHeaderController">\n    <div class="left">\n    </div>\n    <div class="right">\n      <i class="fa fa-chevron-down clickable"\n         title="Expand all nodes"\n         ng-click="expandAll()"></i>\n      <i class="fa fa-chevron-up clickable"\n         title="Unexpand all nodes"\n         ng-click="contractAll()"></i>\n    </div>\n  </div>\n<\/script>\n\n<hawtio-pane position="left" width="300" header="ActiveMQTreeHeader.html">\n  <div id="tree-container"\n       ng-controller="Jmx.MBeansController">\n    <div id="activemqtree"\n         ng-controller="ActiveMQ.TreeController"></div>\n  </div>\n</hawtio-pane>\n<div class="row">\n  \x3c!--\n  <ng-include src="\'plugins/jmx/html/subLevelTabs.html\'"></ng-include>\n  --\x3e\n  <div id="properties" ng-view></div>\n</div>\n'),e.put("plugins/activemq/html/preferences.html",'<div ng-controller="ActiveMQ.PreferencesController">\n  <div hawtio-form-2="config" entity="entity"></div>\n</div>\n'),e.put("plugins/camel/html/attributeToolBarContext.html",'<div class="row">\n  <div class="col-md-6" ng-controller="Camel.AttributesToolBarController">\n    <div class="control-group">\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState([\'stop\', \'suspend\'])" ng-click="start()"><i\n              class="fa fa-play-circle"></i> Start\n      </button>\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState(\'start\')" ng-click="pause()"><i class="fa fa-pause"></i>\n        Pause\n      </button>\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState([\'start\', \'suspend\'])" ng-click="deleteDialog = true"><i\n              class="fa fa-remove"></i> Destroy\n      </button>\n    </div>\n\n    <div hawtio-confirm-dialog="deleteDialog"\n         ok-button-text="Delete"\n         on-ok="stop()">\n      <div class="dialog-body">\n        <p>You are about to delete this Camel Context.</p>\n        <p>This operation cannot be undone so please be careful.</p>\n      </div>\n    </div>\n\n  </div>\n  <div class="col-md-6">\n    <div class="control-group">\n      <input class="col-md-12 search-query" type="text" ng-model="$parent.gridOptions.filterOptions.filterText" placeholder="Filter...">\n    </div>\n  </div>\n</div>\n'),e.put("plugins/camel/html/attributeToolBarRoutes.html",'<div class="row">\n  <div class="col-md-6">\n    <div class="control-group"  ng-controller="Camel.AttributesToolBarController">\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState([\'stop\', \'suspend\'])" ng-click="start()"><i class="fa fa-play-circle"></i> Start</button>\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState(\'start\')" ng-click="pause()"><i class="fa fa-pause"></i> Pause</button>\n      <button class="btn btn-default" ng-disabled="!anySelectionHasState([\'start\', \'suspend\'])" ng-click="stop()"><i class="fa fa-off"></i> Stop</button>\n      <button class="btn btn-default" ng-disabled="!everySelectionHasState(\'stop\')" ng-click="delete()"><i class="fa fa-remove"></i> Delete</button>\n    </div>\n  </div>\n  <div class="col-md-6">\n    <div class="control-group">\n      <input type="text" class="col-md-12 search-query" ng-model="$parent.gridOptions.filterOptions.filterText" placeholder="Filter...">\n    </div>\n  </div>\n</div>\n'),e.put("plugins/camel/html/blocked.html",'<div class="row-fluid" ng-controller="Camel.BlockedExchangesController">\n\n  <div ng-show="initDone">\n\n    <div class="row-fluid">\n      <div class="pull-right">\n        <hawtio-filter ng-model="gridOptions.filterOptions.filterText"\n                       placeholder="Filter..."></hawtio-filter>\n      </div>\n      <div class="span6">\n        <div class="pull-right">\n          <form class="form-inline">\n            <button class="btn btn-default" ng-disabled="gridOptions.selectedItems.length === 0" ng-click="unblockDialog = true"\n                    title="Unblock Exchange" data-placement="bottom">\n              <i class="icon-play"></i> Unblock\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-fluid">\n    <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n  </div>\n\n  <div ng-hide="initDone">\n    <i class="icon-spinner icon-spin centered"></i>\n  </div>\n\n  <div hawtio-confirm-dialog="unblockDialog" ok-button-text="Unblock" cancel-button-text="Cancel" on-ok="doUnblock()"\n       title="Unblock Exchange">\n    <div class="dialog-body">\n      <p>You are about to unblock the selected thread.</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n</div>\n\n'),e.put("plugins/camel/html/breadcrumbBar.html",'<div ng-hide="inDashboard" class="logbar logbar-wiki" ng-controller="Camel.BreadcrumbBarController">\n  <div class="wiki logbar-container">\n    <ul class="nav nav-tabs">\n      <li class="" >\n        <a class="breadcrumb-link">\n          <span class="contained c-medium">Camel Contexts</span>\n        </a>\n      </li>\n        <li class="dropdown" ng-repeat="breadcrumb in breadcrumbs">\n          <a ng-show="breadcrumb.items.length > 0" href="" class="breadcrumb-link dropdown-toggle" data-toggle="dropdown"\n             data-placement="bottom" title="{{breadcrumb.tooltip}}">\n            {{breadcrumb.name}}\n            <span class="caret"></span>\n          </a>\n          <ul class="dropdown-menu">\n            <li ng-repeat="item in breadcrumb.items">\n              <a ng-href="{{item.link}}{{hash}}"\n                 title="Switch to {{item.name}} "\n                 data-placement="bottom">\n                {{item.name}}</a>\n            </li>\n          </ul>\n        </li>\n      <li class="pull-right" ng-show="treeViewLink" title="Switch to the tree based explorer view">\n        <a href="{{treeViewLink}}"><i class="fa fa-resize-full"></i></a>\n      </li>\n      </ul>\n  </div>\n</div>\n'),e.put("plugins/camel/html/browseEndpoint.html",'<div ng-controller="Camel.BrowseEndpointController">\n  <div ng-hide="isJmxTab">\n    <ng-include src="\'plugins/camel/html/breadcrumbBar.html\'"></ng-include>\n  </div>\n  <div ng-class="{\'wiki-fixed\' : !isJmxTab}">\n    <div class="row">\n      <div class="col-md-6">\n        <input class="search-query col-md-12" type="text" ng-model="gridOptions.filterOptions.filterText"\n               placeholder="Filter messages">\n      </div>\n      <div class="col-md-6">\n        <div class="pull-right">\n          <form class="form-inline">\n            <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length" ng-click="forwardDialog.open()"\n                    hawtio-show object-name="{{workspace.selection.objectName}}" method-name="sendBodyAndHeaders"\n                    title="Forward the selected messages to another endpoint" data-placement="bottom">\n              <i class="fa fa-forward"></i> Forward\n            </button>\n            <button class="btn btn-default" ng-click="refresh()"\n                    title="Refreshes the list of messages">\n              <i class="fa fa-refresh"></i>\n            </button>\n          </form>\n        </div>\n      </div>\n    </div>\n\n\n    <div class="row">\n      <table class="table table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n    <div hawtio-slideout="showMessageDetails" title="{{row.id}}">\n      <div class="dialog-body">\n\n        <div class="row">\n          <div class="pull-right">\n            <form class="form-horizontal no-bottom-margin">\n              <div class="btn-group" hawtio-pager="messages" on-index-change="selectRowIndex"\n                   row-index="rowIndex"></div>\n              <button class="btn btn-default" ng-disabled="!gridOptions.selectedItems.length" ng-click="forwardDialog.open()"\n                      hawtio-show object-name="{{workspace.selection.objectName}}" method-name="sendBodyAndHeaders"\n                      title="Forward the selected messages to another endpoint" data-placement="bottom">\n                <i class="fa fa-forward"></i> Forward\n              </button>\n\n              \x3c!-- no need for close button as the hawtio-slideout already have that --\x3e\n\n            </form>\n          </div>\n        </div>\n\n        <div class="row">\n          <div class="expandable closed">\n            <div title="Headers" class="title">\n              <i class="expandable-indicator"></i> Headers\n            </div>\n            <div class="expandable-body well">\n              <table class="table table-condensed table-striped">\n                <thead>\n                <tr>\n                  <th>Header</th>\n                  <th>Type</th>\n                  <th>Value</th>\n                </tr>\n                </thead>\n                <tbody compile="row.headerHtml"></tbody>\n              </table>\n            </div>\n          </div>\n\n          <div class="row">\n            <div hawtio-editor="row.body" read-only="true" mode="mode"></div>\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n  </div>\n\n  <div modal="forwardDialog.show" close="forwardDialog.close()" options="forwardDialog.options">\n    <form class="form-horizontal no-bottom-margin" ng-submit="forwardDialog.close()">\n      <div class="modal-header">\n        <h4>Forward\n          <ng-pluralize count="selectedItems.length"\n                        when="{\'1\': \'a message\', \'other\': \'messages\'}"></ng-pluralize>\n        </h4>\n      </div>\n      <div class="modal-body">\n        <p>Forward\n          <ng-pluralize count="selectedItems.length"\n                        when="{\'1\': \'a message\', \'other\': \'{} messages\'}"></ng-pluralize>\n          to: <input type="text" style="width: 100%" ng-model="endpointUri" placeholder="Endpoint URI"\n                     typeahead="title for title in endpointUris() | filter:$viewValue" typeahead-editable=\'true\'></p>\n      </div>\n      <div class="modal-footer">\n        <input id="submit" class="btn btn-primary add" type="submit" ng-click="forwardMessagesAndCloseForwardDialog()"\n               value="Forward">\n        <button class="btn btn-warning cancel" type="button" ng-click="forwardDialog.close()">Cancel</button>\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("plugins/camel/html/browseRoute.html",'<ng-include src="\'plugins/camel/html/browseMessageTemplate.html\'"></ng-include>\n\n<div class="row">\n  <table class="table table-striped" hawtio-simple-table="gridOptions"></table>\n  \x3c!--\n      <div class="gridStyle" hawtio-datatable="gridOptions"></div>\n  --\x3e\n</div>\n'),e.put("plugins/camel/html/createEndpoint.html",'<div ng-controller="Camel.EndpointController" ng-switch="hasComponentNames">\n  <div ng-switch-when="true">\n    <tabs>\n      <pane heading="URL">\n        <ng-include src="\'plugins/camel/html/createEndpointURL.html\'"></ng-include>\n      </pane>\n      <pane heading="Components">\n        <ng-include src="\'plugins/camel/html/createEndpointWizard.html\'"></ng-include>\n      </pane>\n    </tabs>\n  </div>\n  <div ng-switch-default="false">\n    <ng-include src="\'plugins/camel/html/createEndpointURL.html\'"></ng-include>\n  </div>\n</div>\n'),e.put("plugins/camel/html/createEndpointURL.html",'<form class="form-horizontal">\n  <div class="control-group">\n    <input class="col-md-12" type="text" size="255" ng-model="endpointName" placeholder="Endpoint URI"/>\n  </div>\n  <div class="control-group">\n    <button type="submit" class="btn btn-info" ng-click="createEndpoint(endpointName)"\n            ng-disabled="!endpointName">\n      Create endpoint\n    </button>\n  </div>\n</form>\n'),e.put("plugins/camel/html/createEndpointWizard.html",'<div ng-controller="Camel.EndpointController">\n  <form class="form-horizontal">\n    <div class="control-group">\n      <label class="control-label" for="componentName">Component</label>\n\n      <div class="controls">\n        <select id="componentName" ng-model="selectedComponentName"\n                ng-options="componentName for componentName in componentNames"></select>\n      </div>\n    </div>\n    <div ng-show="selectedComponentName">\n      <div class="control-group">\n        <label class="control-label" for="endpointPath">Endpoint</label>\n\n        <div class="controls">\n          <input id="endpointPath" class="col-md-10" type="text" ng-model="endpointPath" placeholder="name"\n                 typeahead="title for title in endpointCompletions($viewValue) | filter:$viewValue" typeahead-editable=\'true\'\n                 min-length="1">\n        </div>\n      </div>\n\n      <div simple-form name="formEditor" entity=\'endpointParameters\' data=\'endpointSchema\' schema="schema"></div>\n\n      <div class="control-group">\n        <div class="controls">\n          <button type="submit" class="btn btn-info" ng-click="createEndpointFromData()"\n                  ng-disabled="!endpointPath || !selectedComponentName">\n            Create endpoint\n          </button>\n        </div>\n      </div>\n    </div>\n  </form>\n</div>\n'),e.put("plugins/camel/html/debug.html",'<div ng-controller="Camel.DebugRouteController" ng-switch="debugging">\n  <div ng-switch-when="true">\n    <div class="row">\n      <div class="col-md-10">\n        <div ng-include src="graphView">\n        </div>\n      </div>\n      <div class="col-md-2">\n        <div class="btn-toolbar pull-right">\n          <div class="btn-group">\n            <div ng-switch="hasBreakpoint">\n              <button ng-switch-when="true" class="btn btn-default" ng-disabled="!selectedDiagramNodeId"\n                      ng-click="removeBreakpoint()" title="Remove the breakpoint on the selected node"><i\n                      class="fa fa-remove"></i>\n              </button>\n              <button ng-switch-default="false" class="btn btn-default" ng-disabled="!selectedDiagramNodeId"\n                      ng-click="addBreakpoint()" title="Add a breakpoint on the selected node"><i class="fa fa-plus"></i>\n              </button>\n            </div>\n          </div>\n          <div class="btn-group">\n            <button class="btn btn-default" type="submit" ng-click="stopDebugging()" title="Stops the debugger">Close\n            </button>\n          </div>\n        </div>\n        <div class="btn-toolbar pull-right">\n          <div class="btn-group">\n            <button class="btn btn-default" ng-click="step()" ng-disabled="!stopped" title="Step into the next node"><img\n                    ng-src="img/icons/camel/step.gif"></button>\n            <button class="btn btn-default" ng-click="resume()" ng-disabled="!stopped" title="Resume running"><img\n                    ng-src="img/icons/camel/resume.gif"></button>\n            <button class="btn btn-default" ng-click="suspend()" ng-disabled="stopped"\n                    title="Suspend all threads in this route"><img ng-src="img/icons/camel/suspend.gif"></button>\n          </div>\n        </div>\n        <div class="col-md-12 well">\n          <form>\n            <div class="table-header">Breakpoints:</div>\n            <ul>\n              <li class="table-row" ng-repeat="b in breakpoints">\n                {{b}}\n              </li>\n            </ul>\n            <div class="table-row">Suspended:</div>\n            <ul>\n              <li class="table-row" ng-repeat="b in suspendedBreakpoints">\n                {{b}}\n              </li>\n            </ul>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    \x3c!-- slider to always show the current debugged message --\x3e\n    <div hawtio-slideout="stopped" title="Breakpoint suspended at {{row.toNode}}" close="false" top="60%" height="40%">\n      <div class="dialog-body">\n\n        <div title="ID" class="title">\n          {{row.id}}\n        </div>\n\n        <div class="row">\n          <div class="expandable closed">\n            <div title="Headers" class="title">\n              <i class="expandable-indicator"></i> Headers\n            </div>\n            <div class="expandable-body well">\n              <table class="table table-condensed table-striped">\n                <thead>\n                <tr>\n                  <th>Header</th>\n                  <th>Type</th>\n                  <th>Value</th>\n                </tr>\n                </thead>\n                <tbody compile="row.headerHtml"></tbody>\n              </table>\n            </div>\n          </div>\n\n          <div title="Body" class="row">\n            <div>Body type: <span ng-bind="row.bodyType"></span></div>\n            <div hawtio-editor="row.body" read-only="true" mode="mode"></div>\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n  <div class="col-md-12 well" ng-switch-default="false">\n    <form>\n      <p>Debugging allows you to step through camel routes to diagnose issues</p>\n\n      <button class="btn btn-info" type="submit" ng-click="startDebugging()">Start debugging</button>\n    </form>\n  </div>\n</div>'),e.put("plugins/camel/html/endpointRuntimeRegistry.html",'<div class="row" ng-controller="Camel.EndpointRuntimeRegistryController">\n\n  <div ng-show="selectedMBean">\n\n    <div class="row" ng-show="data.length > 0">\n      <div class="pull-right">\n        <form class="form-inline no-bottom-margin">\n          <fieldset>\n            <div class="control-group inline-block">\n              <input type="text" class="search-query" placeholder="Filter..."\n                     ng-model="gridOptions.filterOptions.filterText">\n            </div>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n\n    <div class="row" ng-show="data.length > 0">\n      <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n    <div class="row well" ng-show="data.length == 0">\n      <form>\n        <p>There are no endpoints currently in use in this CamelContext.</p>\n      </form>\n    </div>\n  </div>\n\n  <div ng-hide="selectedMBean">\n    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n  </div>\n\n</div>\n\n'),e.put("plugins/camel/html/inflight.html",'<div class="row-fluid" ng-controller="Camel.InflightController">\n\n  <div ng-show="initDone">\n\n    <div class="row-fluid">\n      <div class="pull-right">\n        <hawtio-filter ng-model="gridOptions.filterOptions.filterText"\n                       placeholder="Filter..."></hawtio-filter>\n      </div>\n    </div>\n\n    <div class="row-fluid">\n      <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n  </div>\n\n  <div ng-hide="initDone">\n    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n  </div>\n\n</div>\n\n'),e.put("plugins/camel/html/layoutCamelTree.html",'\n<script type="text/ng-template" id="camelTreeHeader.html">\n  <div class="camel tree-header" ng-controller="Camel.TreeHeaderController">\n\n    \x3c!--\n    TODO - changes to the tree made this filter not work\n    <div class="left">\n      <div class="section-filter">\n        <input id="camelContextIdFilter"\n               class="search-query"\n               type="text"\n               ng-model="contextFilterText"\n               title="filter camel context IDs"\n               placeholder="Filter...">\n        <i class="fa fa-remove clickable"\n           title="Clear filter"\n           ng-click="contextFilterText = \'\'"></i>\n      </div>\n    </div>\n    --\x3e\n\n    <div class="right">\n      <i class="fa fa-chevron-down clickable"\n         title="Expand all nodes"\n         ng-click="expandAll()"></i>\n      <i class="fa fa-chevron-up clickable"\n         title="Unexpand all nodes"\n         ng-click="contractAll()"></i>\n    </div>\n  </div>\n<\/script>\n\n<hawtio-pane position="left" width="300" header="camelTreeHeader.html">\n  <div id="tree-container" ng-controller="Jmx.MBeansController">\n    <div class="camel-tree" ng-controller="Camel.TreeController">\n      <div id="cameltree"></div>\n    </div>\n  </div>\n</hawtio-pane>\n<div class="row">\n  \x3c!--\n  <ng-include src="\'plugins/jmx/html/subLevelTabs.html\'"></ng-include>\n  --\x3e\n  <div id="properties" ng-view></div>\n</div>\n'),e.put("plugins/camel/html/nodePropertiesEdit.html",'<div class="row-fluid">\n\n  \x3c!-- the label and input fields needs to be wider --\x3e\n  <style>\n    input, textarea, .uneditable-input {\n      width: 600px;\n    }\n    input, textarea, .editable-input {\n      width: 600px;\n    }\n\n    .form-horizontal .control-label {\n      width: 180px;\n    }\n\n    .form-horizontal .controls {\n      margin-left: 200px;\n    }\n  </style>\n\n  <h3>\n    <img src="{{icon}}" width="48" height="48" ng-show="icon"/> {{model.title}}\n    <span style="margin-left: 10px" ng-repeat="label in labels track by $index" class="pod-label badge" title="{{label}}">{{label}}</span>\n  </h3>\n\n  <div simple-form name="formViewer" mode=\'edit\' entity=\'nodeData\' data=\'model\' schema="schema"\n       showhelp="!hideHelp"></div>\n</div>\n'),e.put("plugins/camel/html/nodePropertiesView.html",'<div class="row-fluid">\n\n  \x3c!-- the label and input fields needs to be wider --\x3e\n  <style>\n    input, textarea, .uneditable-input {\n      width: 600px;\n    }\n\n    input, textarea, .editable-input {\n      width: 600px;\n    }\n\n    .form-horizontal .control-label {\n      width: 180px;\n    }\n\n    .form-horizontal .controls {\n      margin-left: 200px;\n    }\n  </style>\n\n  <h3>\n    <img src="{{icon}}" width="48" height="48" ng-show="icon"/> {{model.title}}\n    <span style="margin-left: 10px" ng-repeat="label in labels track by $index" class="pod-label badge" title="{{label}}">{{label}}</span>\n  </h3>\n\n  <div simple-form name="formViewer" mode=\'view\' entity=\'nodeData\' data=\'model\' schema="schema"\n       showhelp="!hideHelp" showempty="showEntity"></div>\n</div>\n'),e.put("plugins/camel/html/preferences.html",'<div ng-controller="Camel.PreferencesController">\n  <div hawtio-form-2="config" entity="entity"></div>\n</div>\n'),e.put("plugins/camel/html/profileRoute.html",'<div class="row" ng-controller="Camel.ProfileRouteController">\n\n    <div ng-show="initDone">\n\n        <div class="row-fluid">\n            <div class="pull-right">\n                <hawtio-filter ng-model="gridOptions.filterOptions.filterText"\n                               placeholder="Filter..."></hawtio-filter>\n            </div>\n        </div>\n\n        <div class="row-fluid">\n            <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n        </div>\n\n    </div>\n\n    <div ng-hide="initDone">\n        <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n    </div>\n\n</div>\n\n'),e.put("plugins/camel/html/properties.html",'<div ng-controller="Camel.PropertiesController">\n\n  <div class="control-group inline-block">\n    <form class="form-inline no-bottom-margin">\n      <label>Hide Documentation:\n        <input type="checkbox" ng-model="hideHelp"\n               title="Hide documentation for the options"/>\n      </label>\n      <label>Hide Default:\n        <input type="checkbox" ng-model="hideDefault"\n               title="Hide options with default values"/>\n      </label>\n      <label>Hide Unused:\n        <input type="checkbox" ng-model="hideUnused"\n               title="Hide options with unused/empty values"/>\n      </label>\n    </form>\n  </div>\n\n  <div ng-include="viewTemplate"></div>\n</div>\n'),e.put("plugins/camel/html/propertiesComponent.html",'<div ng-controller="Camel.PropertiesComponentController">\n\n  <div class="control-group inline-block">\n    <form class="form-inline no-bottom-margin">\n      <label>Hide Documentation:\n        <input type="checkbox" ng-model="hideHelp"\n               title="Hide documentation for the options"/>\n      </label>\n      <label>Hide Default:\n        <input type="checkbox" ng-model="hideDefault"\n               title="Hide options with default values"/>\n      </label>\n      <label>Hide Unused:\n        <input type="checkbox" ng-model="hideUnused"\n               title="Hide options with unused/empty values"/>\n      </label>\n    </form>\n  </div>\n\n  <div ng-include="viewTemplate"></div>\n</div>\n'),e.put("plugins/camel/html/propertiesDataFormat.html",'<div ng-controller="Camel.PropertiesDataFormatController">\n\n  <div class="control-group inline-block">\n    <form class="form-inline no-bottom-margin">\n      <label>Hide Documentation:\n        <input type="checkbox" ng-model="hideHelp"\n               title="Hide documentation for the options"/>\n      </label>\n      <label>Hide Default:\n        <input type="checkbox" ng-model="hideDefault"\n               title="Hide options with default values"/>\n      </label>\n      <label>Hide Unused:\n        <input type="checkbox" ng-model="hideUnused"\n               title="Hide options with unused/empty values"/>\n      </label>\n    </form>\n  </div>\n\n  <div ng-include="viewTemplate"></div>\n</div>\n'),e.put("plugins/camel/html/propertiesEndpoint.html",'<div ng-controller="Camel.PropertiesEndpointController">\n\n  <div class="control-group inline-block">\n    <form class="form-inline no-bottom-margin">\n      <label>Hide Documentation:\n        <input type="checkbox" ng-model="hideHelp"\n               title="Hide documentation for the options"/>\n      </label>\n      <label>Hide Default:\n        <input type="checkbox" ng-model="hideDefault"\n               title="Hide options with default values"/>\n      </label>\n      <label>Hide Unused:\n        <input type="checkbox" ng-model="hideUnused"\n               title="Hide options with unused/empty values"/>\n      </label>\n    </form>\n  </div>\n\n  <div ng-include="viewTemplate"></div>\n</div>\n'),e.put("plugins/camel/html/restRegistry.html",'<div class="row" ng-controller="Camel.RestServiceController">\n\n  <div ng-show="selectedMBean">\n\n    <div class="row" ng-show="data.length > 0">\n      <div class="pull-right">\n        <form class="form-inline no-bottom-margin">\n          <fieldset>\n            <div class="control-group inline-block">\n              <input type="text" class="search-query" placeholder="Filter..."\n                     ng-model="gridOptions.filterOptions.filterText">\n            </div>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n\n    <div class="row" ng-show="data.length > 0">\n      <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n    <div class="row well" ng-show="data.length == 0">\n      <form>\n        <p>There are no Rest Services registered in this CamelContext.</p>\n      </form>\n    </div>\n  </div>\n\n  <div ng-hide="selectedMBean">\n    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n  </div>\n\n</div>\n\n'),e.put("plugins/camel/html/routeMetrics.html",'<div class="row" ng-controller="Camel.RouteMetricsController">\n\n  <div class="row">\n    <div class="pull-right">\n      <form class="form-inline no-bottom-margin">\n        <fieldset>\n          <div class="control-group inline-block">\n            <input type="text" class="search-query" placeholder="Filter..." ng-model="filterText">\n          </div>\n        </fieldset>\n      </form>\n    </div>\n  </div>\n\n  <div class="row" ng-show="!initDone">\n    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n  </div>\n\n  <div class="col-md-8 centered well" ng-show="initDone && metricDivs.length === 0">\n    <form>\n      This Camel context has no route metrics data.\n    </form>\n  </div>\n\n  \x3c!-- div to contain the graphs --\x3e\n  <div class="metricsWatcher container mainContent">\n    <div id="{{metric.id}}" class="row" ng-repeat="metric in metricDivs track by $index" style="{{filterByRoute(metric)}}"></div>\n  </div>\n\n</div>\n\n'),e.put("plugins/camel/html/routes.html",'<style>\n\n  #node-CLOSED rect {\n    stroke-width: 1px;\n    fill: #f88;\n  }\n\n  .node:hover,\n  .node > *:hover,\n  rect > *:hover {\n    cursor: pointer;\n    opacity: 0.6;\n  }\n\n  path.edge {\n    fill: none;\n    stroke: #666;\n    stroke-width: 3px;\n  }\n\n  .edge:hover {\n    cursor: pointer;\n    opacity: 0.4;\n  }\n\n  text.counter {\n    stroke: #080;\n  }\n\n  text.inflight {\n    stroke: #08f;\n  }\n</style>\n<div ng-class="{\'wiki-fixed\' : !isJmxTab}" id="canvas" ng-controller="Camel.RouteController">\n  \x3c!--\n  <div ng-hide="isJmxTab">\n    <ng-include src="\'plugins/camel/html/breadcrumbBar.html\'"></ng-include>\n  </div>\n  --\x3e\n  <svg class="camel-diagram" width=0 height=0>\n    <defs>\n      <marker id="arrowhead"\n              viewBox="0 0 10 10"\n              refX="8"\n              refY="5"\n              markerUnits="strokeWidth"\n              markerWidth="4"\n              markerHeight="3"\n              orient="auto"\n              style="fill: #333">\n        <path d="M 0 0 L 10 5 L 0 10 z"></path>\n      </marker>\n\n      <filter id="drop-shadow" width="300%" height="300%">\n        <feGaussianBlur in="SourceAlpha" result="blur-out" stdDeviation="19"/>\n        <feOffset in="blur-out" result="the-shadow" dx="2" dy="2"/>\n        <feComponentTransfer xmlns="http://www.w3.org/2000/svg">\n          <feFuncA type="linear" slope="0.2"/>\n        </feComponentTransfer>\n        <feMerge xmlns="http://www.w3.org/2000/svg">\n          <feMergeNode/>\n          <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n      </filter>\n      <linearGradient id="rect-gradient" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop offset="0%" style="stop-color:rgb(254,254,255);stop-opacity:1"/>\n        <stop offset="100%" style="stop-color:rgb(247,247,255);stop-opacity:1"/>\n      </linearGradient>\n      <linearGradient id="rect-select-gradient" x1="0%" y1="0%" x2="0%" y2="100%">\n        <stop offset="0%" style="stop-color: #ffffa0; stop-opacity: 0.7"/>\n        <stop offset="100%" style="stop-color: #f0f0a0; stop-opacity: 0.7"/>\n      </linearGradient>\n    </defs>\n  </svg>\n</div>\n\n'),e.put("plugins/camel/html/sendMessage.html",'<div ng-controller="Camel.SendMessageController">\n\n  <div class="tabbable" ng-model="tab">\n\n    <div value="compose" class="tab-pane" title="Compose">\n      <div class="row">\n        <span ng-show="noCredentials" class="alert">\n          No credentials set for endpoint!  Please set your username and password in the <a\n            href="" ng-click="openPrefs()">Preferences</a> page\n        </span>\n\n        <form class="form-inline pull-right">\n          <button class="btn btn-default" ng-click="addHeader()" title="Add a new message header"><i\n              class="fa fa-plus"></i> Header\n          </button>\n          <button type="submit" class="btn btn-primary" ng-click="sendMessage()">Send message</button>\n        </form>\n      </div>\n\n      <form class="form-inline bottom-margin" ng-submit="addHeader()">\n        <ol class="zebra-list header-list">\n          <div class="row">\n            <li ng-repeat="header in headers">\n              <div class="col-md-4">\n                <input type="text" style="width: 100%" class="headerName"\n                       ng-model="header.name"\n                       typeahead="completion for completion in defaultHeaderNames() | filter:$viewValue"\n                       typeahead-editable=\'true\'\n                       placeholder="Header name">\n              </div>\n              <div class="col-md-6">\n                <input type="text" style="width: 100%" ng-model="header.value"\n                       placeholder="Value of the message header">\n              </div>\n              <div class="col-md-2">\n                <button type="submit" class="btn btn-default" title="Add a new message header">\n                  <i class="fa fa-plus"></i>\n                </button>\n                <button type="button" ng-click="removeHeader(header)" class="btn btn-default" title="Removes this message header">\n                  <i class="fa fa-remove"></i>\n                </button>\n              </div>\n            </li>\n          </div>\n        </ol>\n      </form>\n\n      <div class="row">\n        <form class="form-inline">\n          <div class="controls">\n            <label class="control-label" for="sourceFormat" title="The text format to use for the message payload">Payload\n              format: </label>\n            <select ng-model="codeMirrorOptions.mode.name" id="sourceFormat">\n              <option value="javascript">JSON</option>\n              <option value="text" selected>Plain text</option>\n              <option value="properties">Properties</option>\n              <option value="xml">XML</option>\n            </select>\n\n            <button class="btn btn-default" ng-click="autoFormat()"\n                    title="Automatically pretty prints the message so its easier to read">Auto format\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div class="row">\n        <div hawtio-editor="message" mode="codeMirrorOptions.mode.name"></div>\n        \x3c!--\n        <textarea ui-codemirror="codeMirrorOptions" ng-model="message"></textarea>\n        --\x3e\n      </div>\n    </div>\n\n  </div>\n</div>\n'),e.put("plugins/camel/html/source.html",'<div class="form-horizontal" ng-controller="Camel.SourceController">\n  <div class="row" ng-if="showUpdateButton">\n    <div class="col-md-12">\n      <button class="pull-right btn btn-primary"\n              hawtio-show object-name="{{getSelectionCamelContextMBean(workspace)}}" method-name="addOrUpdateRoutesFromXml"\n              ng-click="saveRouteXml()"><i class="fa fa-save"></i> Update</button>\n    </div>\n  </div>\n  <p></p>\n  <div class="row">\n    <div class="col-md-12">\n      <div hawtio-editor="source" mode="mode"></div>\n    </div>\n  </div>\n</div>\n'),e.put("plugins/camel/html/traceRoute.html",'<div ng-controller="Camel.TraceRouteController">\n  <div class="col-md-12 well" ng-hide="tracing">\n    <form>\n      <p>Tracing allows you to send messages to a route and then step through and see the messages flow through a route\n        to aid debugging and to help diagnose issues.</p>\n\n      <p>Once you start tracing, you can send messages to the input endpoints, then come back to this page and see the\n        flow of messages through your route.</p>\n\n      <p>As you click on the message table, you can see which node in the flow it came through; moving the selection up\n        and down in the message table lets you see the flow of the message through the diagram.</p>\n\n      <button class="btn btn-info" type="submit" ng-click="startTracing()">Start tracing</button>\n    </form>\n  </div>\n  <div ng-show="tracing">\n\n    <form>\n      <button class="btn btn-info pull-right" type="submit" ng-click="stopTracing()">Stop tracing</button>\n    </form>\n    <div ng-include src="graphView">\n    </div>\n\n    <form>\n      <button class="btn btn-info pull-right" type="submit" ng-click="clear()">Clear messages</button>\n    </form>\n    <div>&nbsp;</div>\n\n    \x3c!-- table and slider to show the traced messages --\x3e\n    <div class="row">\n      <table class="table table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n    <div hawtio-slideout="showMessageDetails" title="{{row.id}}" top="60%" height="40%">\n      <div class="dialog-body">\n\n        <div class="row">\n          <div class="pull-right">\n            <form class="form-horizontal no-bottom-margin">\n              <div class="btn-group" hawtio-pager="messages" on-index-change="selectRowIndex"\n                   row-index="rowIndex"></div>\n\n              \x3c!-- no need for close button as the hawtio-slideout already have that --\x3e\n\n            </form>\n          </div>\n        </div>\n\n        <div class="row">\n          <div class="expandable closed">\n            <div title="Headers" class="title">\n              <i class="expandable-indicator"></i> Headers\n            </div>\n            <div class="expandable-body well">\n              <table class="table table-condensed table-striped">\n                <thead>\n                <tr>\n                  <th>Header</th>\n                  <th>Type</th>\n                  <th>Value</th>\n                </tr>\n                </thead>\n                <tbody compile="row.headerHtml"></tbody>\n              </table>\n            </div>\n          </div>\n\n          <div class="row">\n            <div>Body type: <span ng-bind="row.bodyType"></span></div>\n            <div hawtio-editor="row.body" read-only="true" mode="mode"></div>\n          </div>\n\n        </div>\n\n      </div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("plugins/camel/html/typeConverter.html",'<div class="row" ng-controller="Camel.TypeConverterController">\n\n  \x3c!-- the dl need to be wider so we can see the labels --\x3e\n  <style>\n    .dl-horizontal dt {\n      width: 260px;\n    }\n    .dl-horizontal dd {\n      margin-left: 280px;\n    }\n  </style>\n\n  <div ng-show="selectedMBean">\n\n    <div class="row">\n\n      <div class="pull-right">\n        <form class="form-inline no-bottom-margin">\n          <fieldset>\n            <div class="controls control-group inline-block controls-row">\n              <div class="btn-group">\n                <button\n                    class="btn btn-default" ng-click="resetStatistics()" title="Reset statistics">\n                  <i class="fa fa-refresh"></i></button>\n                <button\n                    ng-disabled="mbeanAttributes.StatisticsEnabled"\n                    class="btn btn-default" ng-click="enableStatistics()" title="Enable statistics">\n                  <i class="fa fa-play-circle"></i></button>\n                <button\n                    ng-disabled="!mbeanAttributes.StatisticsEnabled"\n                    class="btn btn-default" ng-click="disableStatistics()" title="Disable statistics">\n                  <i class="fa fa-power-off"></i></button>\n              </div>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n      <div>\n        <dl class="dl-horizontal">\n          <dt>Number of Type Converters</dt>\n          <dd>{{mbeanAttributes.NumberOfTypeConverters}}</dd>\n          <dt># Attempts</dt>\n          <dd>{{mbeanAttributes.AttemptCounter}}</dd>\n          <dt># Hit</dt>\n          <dd>{{mbeanAttributes.HitCounter}}</dd>\n          <dt># Miss</dt>\n          <dd>{{mbeanAttributes.MissCounter}}</dd>\n          <dt># Failed</dt>\n          <dd>{{mbeanAttributes.FailedCounter}}</dd>\n          <dt>Statistics Enabled</dt>\n          <dd>{{mbeanAttributes.StatisticsEnabled}}</dd>\n        </dl>\n      </div>\n\n    </div>\n\n    <div class="row">\n      <div class="pull-right">\n        <form class="form-inline no-bottom-margin">\n          <fieldset>\n            <div class="control-group inline-block">\n              <input type="text" class="search-query" placeholder="Filter..."\n                     ng-model="gridOptions.filterOptions.filterText">\n            </div>\n          </fieldset>\n        </form>\n      </div>\n    </div>\n\n    <div class="row" ng-show="data.length > 0">\n      <table class="table table-condensed table-striped" hawtio-simple-table="gridOptions"></table>\n    </div>\n    <div class="row" ng-show="data.length == 0">\n      <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n    </div>\n\n  </div>\n\n</div>\n\n'),e.put("plugins/karaf/html/feature-details.html",'<div>\n    <table class="overviewSection">\n        <tr ng-hide="hasFabric">\n            <td></td>\n            <td class="less-big">\n                <div class="btn-group">\n                  <button ng-click="uninstall(name,version)" \n                          class="btn btn-default" \n                          title="uninstall" \n                          hawtio-show\n                          object-name="{{featuresMBean}}"\n                          method-name="uninstallFeature">\n                    <i class="fa fa-power-off"></i>\n                  </button>\n                  <button ng-click="install(name,version)" \n                          class="btn btn-default" \n                          title="install" \n                          hawtio-show\n                          object-name="{{featuresMBean}}"\n                          method-name="installFeature">\n                    <i class="fa fa-play-circle"></i>\n                  </button>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>Name:</strong></td>\n            <td class="less-big">{{row.Name}}</td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>Version:</strong></td>\n            <td class="less-big">{{row.Version}}</td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>Repository:</strong></td>\n            <td class="less-big">{{row.RepositoryName}}</td>\n        </tr>\n        <tr>\n          <td class="pull-right"><strong>Repository URI:</strong></td>\n          <td class="less-big">{{row.RepositoryURI}}</td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>State:</strong></td>\n            <td class="wrap">\n                <div ng-switch="row.Installed">\n                    <p style="display: inline;" ng-switch-when="true">Installed</p>\n\n                    <p style="display: inline;" ng-switch-default>Not Installed</p>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionFeatures">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionFeatures"\n                               href="collapseFeatures">\n                                Features\n                            </a>\n                        </div>\n                        <div id="collapseFeatures" class="accordion-body collapse in">\n                            <ul class="accordion-inner">\n                                <li ng-repeat="feature in row.Dependencies">\n                                    <a href=\'#/osgi/feature/{{feature.Name}}/{{feature.Version}}?p=container\'>{{feature.Name}}/{{feature.Version}}</a>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionBundles">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionBundles"\n                               href="collapseBundles">\n                                Bundles\n                            </a>\n                        </div>\n                        <div id="collapseBundles" class="accordion-body collapse in">\n                            <ul class="accordion-inner">\n                                <li ng-repeat="bundle in row.BundleDetails">\n                                    <div ng-switch="bundle.Installed">\n                                        <p style="display: inline;" ng-switch-when="true">\n                                            <a href=\'#/osgi/bundle/{{bundle.Identifier}}?p=container\'>{{bundle.Location}}</a></p>\n\n                                        <p style="display: inline;" ng-switch-default>{{bundle.Location}}</p>\n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionConfigurations">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionConfigurations"\n                               href="collapsConfigurations">\n                                Configurations\n                            </a>\n                        </div>\n                        <div id="collapsConfigurations" class="accordion-body collapse in">\n                            <table class="accordion-inner">\n                                <tr ng-repeat="(pid, value) in row.Configurations">\n                                    <td>\n                                      <p>{{value.Pid}}</p>\n                                      <div hawtio-editor="toProperties(value.Elements)" mode="props"></div></td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionConfigurationFiles">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionConfigurationFiles"\n                               href="collapsConfigurationFiles">\n                                Configuration Files\n                            </a>\n                        </div>\n                        <div id="collapsConfigurationFiles" class="accordion-body collapse in">\n                            <table class="accordion-inner">\n                                <tr ng-repeat="file in row.Files">\n                                    <td>{{file.Files}}</td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n'),e.put("plugins/karaf/html/feature.html",'<div class="controller-section" ng-controller="Karaf.FeatureController">\n  <div class="row">\n    <div class="col-md-4">\n      <h1>{{row.id}}</h1>\n    </div>\n  </div>\n\n  <div ng-include src="\'plugins/karaf/html/feature-details.html\'"></div>\n\n</div>\n\n'),e.put("plugins/karaf/html/features.html",'<div class="controller-section" ng-controller="Karaf.FeaturesController">\n\n  <div class="row section-filter centered">\n    <input type="text" class="search-query" placeholder="Filter..." ng-model="filter">\n    <i class="fa fa-remove clickable" title="Clear filter" ng-click="filter = \'\'"></i>\n  </div>\n\n  <script type="text/ng-template" id="popoverTemplate">\n    <small>\n      <table class="table">\n        <tbody>\n        <tr ng-repeat="(k, v) in feature track by $index" ng-show="showRow(k, v)">\n          <td class="property-name">{{k}}</td>\n          <td class="property-value" ng-bind="showValue(v)"></td>\n        </tr>\n        </tbody>\n      </table>\n    </small>\n  <\/script>\n\n  <p></p>\n  <div class="row">\n    <div class="col-md-6">\n      <h3 class="centered">Installed Features</h3>\n      <div ng-show="featuresError" class="alert alert-warning">\n        The feature list returned by the server was null, please check the logs and Karaf console for errors.\n      </div>\n      <div class="bundle-list"\n           hawtio-auto-columns=".bundle-item">\n        <div ng-repeat="feature in installedFeatures"\n             class="bundle-item"\n             ng-show="filterFeature(feature)"\n             ng-class="inSelectedRepository(feature)">\n          <a ng-href="/osgi/feature/{{feature.Id}}?p=container"\n             hawtio-template-popover title="Feature details">\n            <span class="badge" ng-class="getStateStyle(feature)">{{feature.Name}} / {{feature.Version}}</span>\n          </a>\n          <span ng-hide="hasFabric">\n            <a class="toggle-action"\n               href=""\n               ng-show="installed(feature.Installed)"\n               ng-click="uninstall(feature)"\n               hawtio-show\n               object-name="{{featuresMBean}"\n               method-name="uninstallFeature">\n              <i class="fa fa-power-off"></i>\n            </a>\n            <a class="toggle-action"\n               href=""\n               ng-hide="installed(feature.Installed)"\n               ng-click="install(feature)"\n               hawtio-show\n               object-name="{{featuresMBean}"\n               method-name="installFeature">\n              <i class="fa fa-play-circle"></i>\n            </a>\n          </span>\n        </div>\n      </div>\n    </div>\n\n    <div class="col-md-6">\n      <h3 class="centered">Available Features</h3>\n      <div class="row repository-browser-toolbar centered">\n        <select id="repos"\n                class="input-xlarge"\n                title="Feature repositories"\n                ng-model="selectedRepository"\n                ng-options="r.repository for r in repositories"></select>\n        <button class="btn btn-default"\n                title="Remove selected feature repository"\n                ng-click="uninstallRepository()"\n                ng-hide="hasFabric"\n                hawtio-show\n                object-name="{{featuresMBean}}"\n                method-name="removeRepository"><i class="fa fa-minus"></i></button>\n        <input type="text"\n               class="input-xlarge"\n               placeholder="mvn:foo/bar/1.0/xml/features"\n               title="New feature repository URL"\n               ng-model="newRepositoryURI"\n               ng-hide="hasFabric"\n               hawtio-show\n               object-name="{{featuresMBean}}"\n               method-name="addRepository">\n        <button class="btn btn-default"\n                title="Add feature repository URL"\n                ng-hide="hasFabric"\n                ng-click="installRepository()"\n                ng-disabled="isValidRepository()"\n                hawtio-show\n                object-name="{{featuresMBean}}"\n                method-name="addRepository"><i class="fa fa-plus"></i></button>\n      </div>\n      <div class="row">\n        <div class="bundle-list"\n             hawtio-auto-columns=".bundle-item">\n          <div ng-repeat="feature in selectedRepository.features"\n               class="bundle-item"\n               ng-show="filterFeature(feature)"\n               hawtio-template-popover title="Feature details">\n            <a ng-href="/osgi/feature/{{feature.Id}}?p=container">\n              <span class="badge" ng-class="getStateStyle(feature)">{{feature.Name}} / {{feature.Version}}</span>\n            </a >\n            <span ng-hide="hasFabric">\n              <a class="toggle-action"\n                 href=""\n                 ng-show="installed(feature.Installed)"\n                 ng-click="uninstall(feature)"\n                 hawtio-show\n                 object-name="{{featuresMBean}"\n                 method-name="uninstallFeature">\n                <i class="fa fa-power-off"></i>\n              </a>\n              <a class="toggle-action"\n                 href=""\n                 ng-hide="installed(feature.Installed)"\n                 ng-click="install(feature)"\n                 hawtio-show\n                 object-name="{{featuresMBean}"\n                 method-name="installFeature">\n                <i class="fa fa-play-circle"></i>\n              </a>\n            </span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n\n</div>\n'),e.put("plugins/karaf/html/scr-component-details.html",'<div>\n    <table class="overviewSection">\n        <tr ng-hide="hasFabric">\n            <td></td>\n            <td class="less-big">\n                <div class="btn-group">\n                  <button class="btn btn-default" \n                          ng-click="activate()"\n                          hawtio-show\n                          object-name="{{scrMBean}}"\n                          method-name="activateComponent">\n                    <i class="fa fa-play-circle"></i> Activate\n                  </button>\n                  <button class="btn btn-default" \n                          ng-click="deactivate()"\n                          hawtio-show\n                          object-name="{{scrMBean}}"\n                          method-name="deactiveateComponent">\n                    <i class="fa fa-off"></i> Deactivate\n                  </button>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>Id:</strong></td>\n            <td class="less-big">{{row.Id}}\n            </td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>Name:</strong></td>\n            <td class="less-big">{{row.Name}}\n            </td>\n        </tr>\n        <tr>\n            <td class="pull-right"><strong>State:</strong></td>\n            <td class="less-big">{{row.State}}\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionProperties">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionProperties"\n                               href="collapseProperties">\n                                Properties\n                            </a>\n                        </div>\n                        <div id="collapseProperties" class="accordion-body collapse in">\n                            <table class="accordion-inner">\n                                <tr ng-repeat="(key, value) in row.Properties">\n                                    <td valign="top">{{key}}</td>\n                                    <td>{{value.Value}}</td>\n                                </tr>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n        <tr>\n            <td>\n            </td>\n            <td>\n                <div class="accordion" id="accordionReferences">\n                    <div class="accordion-group">\n                        <div class="accordion-heading">\n                            <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionReferences"\n                               href="collapseReferences">\n                                References\n                            </a>\n                        </div>\n                        <div id="collapseReferences" class="accordion-body collapse in">\n                            <table class="accordion-inner">\n                                <thead>\n                                <tr>\n                                    <th>Name</th>\n                                    <th>Availability</th>\n                                    <th>Cardinality</th>\n                                    <th>Policy</th>\n                                    <th>Bound Services</th>\n                                </tr>\n                                </thead>\n                                <tbody>\n                                    <tr ng-repeat="(key, value) in row.References">\n                                        <td valign="left" class="less-big">{{value.Name}}</td>\n                                        <td valign="left" class="less-big">{{value.Availability}}</td>\n                                        <td valign="left" class="less-big">{{value.Cardinality}}</td>\n                                        <td valign="left" class="less-big">{{value.Policy}}</td>\n                                        <td>\n                                            <ul>\n                                                <li ng-repeat="id in value[\'Bound Services\']">\n                                                    <i class="fa fa-cog less-big text-info" id="bound.service.{{id}}">{{id}}</i>\n                                                </li>\n                                            </ul>\n                                        </td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </td>\n        </tr>\n    </table>\n</div>\n'),e.put("plugins/karaf/html/scr-component.html",'<div class="controller-section" ng-controller="Karaf.ScrComponentController">\n    <div class="row">\n        <div class="col-md-4">\n            <h1>{{row.id}}</h1>\n        </div>\n    </div>\n\n    <div ng-include src="\'plugins/karaf/html/scr-component-details.html\'"></div>\n\n</div>\n'),e.put("plugins/karaf/html/scr-components.html",'<div class="controller-section" ng-controller="Karaf.ScrComponentsController">\n  <div class="row">\n    <div class="pull-left">\n      <form class="form-inline no-bottom-margin">\n        <fieldset>\n          <div class="control-group inline-block">\n            <div class="btn-group">\n              <button ng-disabled="selectedComponents.length == 0" \n                      class="btn btn-default" \n                      ng-click="activate()"\n                      hawtio-show\n                      object-name="{{scrMBean}}"\n                      method-name="activateComponent"><i\n                      class="fa fa-play-circle"></i> Activate\n              </button>\n              <button ng-disabled="selectedComponents.length == 0" \n                      class="btn btn-default" \n                      ng-click="deactivate()"\n                      hawtio-show\n                      object-name="{{scrMBean}}"\n                      method-name="deactiveateComponent"><i\n                      class="fa fa-off"></i> Deactivate\n              </button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n    </div>\n\n    <div class="pull-right">\n      <input type="text" class="input-text search-query" placeholder="Filter..." ng-model="scrOptions.filterOptions.filterText">\n    </div>\n  </div>\n\n\n  <div class="row">\n    <div class="gridStyle" ng-grid="scrOptions"></div>\n  </div>\n</div>\n'),e.put("plugins/karaf/html/server.html",'<div class="controller-section row" ng-controller="Karaf.ServerController">\n\n  <dl class="dl-horizontal">\n    <dt>Name</dt>\n    <dd>{{data.name}}</dd>\n    <dt>Version</dt>\n    <dd>{{data.version}}</dd>\n    <dt>State</dt>\n    <dd>{{data.state}}</dd>\n    <dt>Is root</dt>\n    <dd>{{data.root}}</dd>\n    <dt>Start Level</dt>\n    <dd>{{data.startLevel}}</dd>\n    <dt>Framework</dt>\n    <dd>{{data.framework}}</dd>\n    <dt>Framework Version</dt>\n    <dd>{{data.frameworkVersion}}</dd>\n    <dt>Location</dt>\n    <dd>{{data.location}}</dd>\n    <dt>SSH Port</dt>\n    <dd>{{data.sshPort}}</dd>\n    <dt>RMI Registry Port</dt>\n    <dd>{{data.rmiRegistryPort}}</dd>\n    <dt>RMI Server Port</dt>\n    <dd>{{data.rmiServerPort}}</dd>\n    <dt>PID</dt>\n    <dd>{{data.pid}}</dd>\n  </dl>\n\n</div>\n\n'),e.put("plugins/osgi/html/bundle-details.html",'<div>\n  <table>\n    <tr>\n      <td></td>\n      <td class="less-big">\n        <div class="btn-group">\n          <button ng-click="stopBundle(bundleId)" \n                  class="btn btn-default" \n                  hawtio-show\n                  object-name="{{frameworkMBean}}"\n                  method-name="stopBundle"\n                  title="stop"><i class="fa fa-power-off"/></button>\n          <button ng-click="startBundle(bundleId)" \n                  class="btn btn-default" \n                  hawtio-show\n                  object-name="{{frameworkMBean}}"\n                  method-name="startBundle"\n                  title="start"><i class="fa fa-play-circle"/></button>\n          <button ng-click="refreshBundle(bundleId)" \n                  class="btn btn-default" \n                  hawtio-show\n                  object-name="{{frameworkMBean}}"\n                  method-name="refreshBundle"\n                  title="refresh"><i class="fa fa-refresh"/></button>\n          <button ng-click="updateBundle(bundleId)" \n                  class="btn btn-default" \n                  hawtio-show\n                  object-name="{{frameworkMBean}}"\n                  method-name="updateBundle"\n                  title="update"><i class="fa fa-cloud-download"/></button>\n          <button ng-click="uninstallBundle(bundleId)" \n                  class="btn btn-default" \n                  hawtio-show\n                  object-name="{{frameworkMBean}}"\n                  method-name="uninstallBundle"\n                  title="uninstall"><i class="fa fa-eject"/></button>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td><p/></td>\n      <td/>\n    <tr>\n      <td>\n        <div ng-switch="row.Fragment">\n          <div ng-switch-when="true"><strong>Fragment&nbsp;ID:</strong></div>\n          <div ng-switch-default><strong>Bundle&nbsp;ID:</strong></div>\n        </div>\n      </td>\n      <td class="less-big">{{row.Identifier}}\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Bundle&nbsp;Name:</strong></td>\n      <td class="less-big">{{row.Headers[\'Bundle-Name\'].Value}}\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Symbolic&nbsp;Name:</strong></td>\n      <td class="less-big label">\n        <div id="bsn" rel="tooltip">{{row.SymbolicName}}</div>\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Version:</strong></td>\n      <td class="less-big">{{row.Version}}\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Start&nbsp;Level:</strong></td>\n      <td class="less-big">{{row.StartLevel}}\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Location:</strong></td>\n      <td class="less-big">{{row.Location}}\n      </td>\n    </tr>\n    <tr>\n      <td><strong>State:</strong></td>\n      <td>\n        <div class="less-big label" ng-class="row.StateStyle">{{row.State}}</div>\n      </td>\n    </tr>\n    <tr>\n      <td><strong>Last&nbsp;Modified:</strong></td>\n      <td class="less-big">{{row.LastModified | date:\'medium\'}}\n      </td>\n    </tr>\n    <tr>\n      <td>\n        <div ng-switch="row.Fragment">\n          <div ng-switch-when="true"><strong>Hosts:</strong></div>\n          <div ng-switch-default><strong>Fragments:</strong></div>\n        </div>\n      </td>\n      <td class="less-big">\n        <div ng-switch="row.Fragment">\n          <div ng-switch-when="true" ng-bind-html-unsafe="row.Hosts"/>\n          <div ng-switch-default ng-bind-html-unsafe="row.Fragments"/>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>\n      </td>\n      <td>\n        <div class="accordion" id="accordionInspectClassloading">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionInspectClassloading"\n                 href="collapseInspectClassloading">\n                Inspect Classloading\n              </a>\n            </div>\n            <div id="collapseInspectClassloading" class="accordion-body collapse in">\n              <form class="form-inline" hawtio-show object-name="{{osgiToolsMBean}}" operation-name="getLoadClassOrigin">\n                <fieldset>\n                  &nbsp;&nbsp;\n                  <input class="input-xlarge" type="text" ng-model="classToLoad" placeHolder="Enter Class Name to Load...">\n                  <button class="btn btn-success execute" ng-click="executeLoadClass(classToLoad)">Load class</button>\n                </fieldset>\n              </form>\n              <form class="form-inline" hawtio-show object-name="{{osgiToolsMBean}}" operation-name="getResourceURL">\n                <fieldset>\n                  &nbsp;&nbsp;\n                  <input class="input-xlarge" type="text" ng-model="resourceToLoad"\n                         placeHolder="Enter Resource Name to Find...">\n                  <button class="btn btn-success execute" ng-click="executeFindResource(resourceToLoad)">Get resource\n                  </button>\n                </fieldset>\n              </form>\n              <div id="loadClassResult"/>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>\n      </td>\n      <td>\n        <div class="accordion" id="accordionImportedPackages">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionImportedPackages"\n                 href="collapseImportedPackages">\n                Imported Packages\n              </a>\n            </div>\n            <div id="collapseImportedPackages" class="accordion-body collapse in">\n              <table>\n                <tr ng-repeat="(package, data) in row.ImportData">\n                  <td>\n                    <div class="less-big badge" id="import.{{package}}">{{package}}</div>\n                  </td>\n                </tr>\n              </table>\n              <div id="unsatisfiedOptionalImports"/>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>\n      </td>\n      <td>\n        <div class="accordion" id="accordionExportedPackages">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionExportedPackages"\n                 href="collapseExportedPackages">\n                Exported Packages\n              </a>\n            </div>\n            <div id="collapseExportedPackages" class="accordion-body collapse in">\n              <table>\n                <tr ng-repeat="(package, data) in row.ExportData">\n                  <td>\n                    <div class="less-big badge badge-success" id="export.{{package}}">{{package}}</div>\n                  </td>\n                </tr>\n              </table>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td></td>\n      <td>\n        <div class="accordion" id="accordionServices">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionServices"\n                 href="collapseServices">\n                Services\n              </a>\n            </div>\n            <div id="collapseServices" class="accordion-body collapse in">\n              Registered Services\n              <table>\n                <tr ng-repeat="id in row.RegisteredServices">\n                  <td><i class="fa fa-cog less-big text-success" id="registers.service.{{id}}">{{id}}</i></td>\n                </tr>\n              </table>\n              <br/>\n              Services used by this Bundle\n              <table>\n                <tr ng-repeat="id in row.ServicesInUse">\n                  <td><i class="fa fa-cog less-big text-info" id="uses.service.{{id}}">{{id}}</i></td>\n                </tr>\n              </table>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>\n      </td>\n      <td>\n        <div class="accordion" id="accordionRequiringBundles">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionRequiringBundles"\n                 href="collapseRequiringBundles">\n                Other Bundles using this Bundle\n              </a>\n            </div>\n            <div id="collapseRequiringBundles" class="accordion-body collapse in">\n              <div class="accordion-inner">\n                <span ng-bind-html-unsafe="row.RequiringBundles"/>\n              </div>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n    <tr>\n      <td>\n      </td>\n      <td>\n        <div class="accordion" id="accordionHeaders">\n          <div class="accordion-group">\n            <div class="accordion-heading">\n              <a class="accordion-toggle" data-toggle="collapse" data-parent="#accordionHeaders"\n                 href="collapsHeaders">\n                Headers\n              </a>\n            </div>\n            <div id="collapsHeaders" class="accordion-body collapse in">\n              <table class="accordion-inner">\n                <tr ng-repeat="(key, value) in row.Headers" ng-show="showValue(key)">\n                  <td valign="top">{{key}}</td>\n                  <td>{{value.Value}}</td>\n                </tr>\n              </table>\n            </div>\n          </div>\n        </div>\n      </td>\n    </tr>\n  </table>\n</div>\n'),e.put("plugins/osgi/html/bundle-list.html",'<div class="controller-section" ng-controller="Osgi.BundleListController">\n  <div class="row bundle-list-toolbar">\n\n    <div class="pull-left">\n      <div class="btn-group">\n        <a ng-href="{{listViewUrl}}"\n                type="button"\n                class="btn btn-default active"\n                title="List view">\n          <i class="fa fa-list"></i>\n        </a>\n        <a ng-href="{{tableViewUrl}}"\n                type="button"\n                class="btn btn-default"\n                title="Table view">\n          <i class="fa fa-table"></i>\n        </a>\n      </div>\n\n      <div class="input-group" hawtio-show object-name="{{frameworkMBean}}" method-name="installBundle">\n        <input class="input-xxlarge"\n               type="text"\n               placeholder="Install Bundle..."\n               ng-model="bundleUrl">\n        <button ng-disabled="installDisabled()"\n                class="btn btn-default"\n                ng-click="install()"\n                title="Install">\n          <i class="fa fa-check"></i>\n        </button>\n      </div>\n\n    </div>\n\n\n    <div class="pull-right">\n      <strong>Show bundles: </strong>\n      &nbsp;\n      <label for="showActiveMQBundles">ActiveMQ</label>\n      <input id="showActiveMQBundles" type="checkbox" ng-model="display.showActiveMQBundles">\n      &nbsp;\n      &nbsp;\n      <label for="showCamelBundles">Camel</label>\n      <input id="showCamelBundles" type="checkbox" ng-model="display.showCamelBundles">\n      &nbsp;\n      &nbsp;\n      <label for="showCxfBundles">CXF</label>\n      <input id="showCxfBundles" type="checkbox" ng-model="display.showCxfBundles">\n      &nbsp;\n      &nbsp;\n      <label for="showPlatformBundles">Platform</label>\n      <input id="showPlatformBundles" type="checkbox" ng-model="display.showPlatformBundles">\n      &nbsp;\n      &nbsp;\n      &nbsp;\n      <select class="input-lg" ng-model="display.sortField" id="sortField">\n        <option value="Identifier">Sort by ID</option>\n        <option value="Name">Sort by Name</option>\n        <option value="SymbolicName">Sort by Symbolic Name</option>\n      </select>\n      <select class="input-lg" ng-model="display.bundleField" id="bundleField">\n        <option value="Name">Display Name</option>\n        <option value="SymbolicName">Display Symbolic Name</option>\n      </select>\n      <input class="input-sm search-query" type="number" min="0"\n             ng-model="display.startLevelFilter"\n             placeholder="Start Level..."/>\n      <hawtio-filter ng-model="display.bundleFilter" placeholder="Filter..." save-as="osgi-bundle-list-text-filter"></hawtio-filter>\n    </div>\n\n  </div>\n\n  <div class="row" id="bundleTableHolder">\n    \x3c!-- Just create a bit of space between the form and the controls --\x3e\n    <p></p>\n\n    <script type="text/ng-template" id="popoverTemplate">\n<small>\n  <table class="table">\n    <tbody>\n    <tr ng-repeat="(k, v) in bundle track by $index">\n      <td class="property-name">{{k}}</td>\n      <td class="property-value">{{v}}</td>\n    </tr>\n    </tbody>\n  </table>\n</small>\n    <\/script>\n\n    <div class="bundle-list centered"\n         hawtio-auto-columns=".bundle-item">\n      <div ng-repeat="bundle in bundles"\n           class="bundle-item"\n           ng-show="filterBundle(bundle)"\n           hawtio-template-popover title="Bundle details">\n        <a id="{{bundle.Identifier}}" ng-href="{{bundle.Url}}">\n          <span class="badge" ng-class="getStateStyle(bundle.State)">{{getLabel(bundle)}}</span>\n        </a>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("plugins/osgi/html/bundle.html",'<div class="controller-section" ng-controller="Osgi.BundleController">\n  <div ng-include src="\'plugins/osgi/html/bundle-details.html\'"></div>\n</div>\n'),e.put("plugins/osgi/html/bundles.html",'<div class="controller-section" ng-controller="Osgi.BundlesController">\n  <div class="row">\n    <div class="pull-left">\n\n      <form class="form-inline no-bottom-margin">\n        <fieldset>\n\n          <div class="btn-group inline-block">\n            <a ng-href="{{listViewUrl}}"\n                    type="button"\n                    class="btn btn-default"\n                    title="List view">\n              <i class="fa fa-list"></i>\n            </a>\n            <a ng-href="{{tableViewUrl}}"\n                    type="button"\n                    class="btn btn-default active"\n                    title="Table view">\n              <i class="fa fa-table"></i>\n            </a>\n          </div>\n\n          <div class="controls control-group inline-block controls-row">\n            <div class="btn-group">\n              <button ng-disabled="selected.length == 0" class="btn btn-default" ng-click="stop()" title="Stop"><i class="fa fa-off"></i></button>\n              <button ng-disabled="selected.length == 0" class="btn btn-default" ng-click="start()" title="Start"><i class="fa fa-play-circle"></i></button>\n              <button ng-disabled="selected.length == 0" class="btn btn-default" ng-click="refresh()" title="Refresh"><i class="fa fa-refresh"></i></button>\n              <button ng-disabled="selected.length == 0" class="btn btn-default" ng-click="update()" title="Update"><i class="fa fa-cloud-download"></i></button>\n              <button ng-disabled="selected.length == 0" class="btn btn-default" ng-click="uninstall()" title="Uninstall"><i class="fa fa-eject"></i></button>\n            </div>\n            <div class="input-group">\n              <input class="input-xlarge" type="text" placeholder="Install Bundle..." ng-model="bundleUrl">\n              <button ng-disabled="installDisabled()" class="btn btn-default" ng-click="install()" title="Install"><i class="fa fa-ok"></i></button>\n            </div>\n          </div>\n        </fieldset>\n      </form>\n      \n    </div>\n\n    <div class="pull-right">\n      <form class="form-inline no-bottom-margin">\n        <fieldset>\n          <div class="control-group inline-block">\n            <input type="text"\n                   class="input-lg search-query"\n                   placeholder="Filter..."\n                   ng-model="gridOptions.filterOptions.filterText">\n          </div>\n        </fieldset>\n      </form>\n\n    </div>\n  </div>\n  \n  \n  <div class="row">\n    <div ng-show="loading">\n      Please wait, loading...\n    </div>\n    <table ng-hide="loading" class="table table-striped" hawtio-simple-table="gridOptions"></table>\n  </div>\n</div>\n'),e.put("plugins/osgi/html/configurations.html",'<style type="text/css">\n  .configuration-header {\n    margin: 20px 20px;\n  }\n\n  ul.configurations,\n  ul.configurations li {\n    list-style: none;\n  }\n\n  ul.configurations {\n    margin: 0px 20px;\n  }\n\n  ul.configurations .bundle-item {\n    display: list-item;\n    margin-bottom: 4px;\n  }\n\n  ul.configurations li.bundle-item a {\n    /*\n      TODO it\'d be nice to use the natural widgth here,\n      but then it might be nice to use multiple columns?\n    */\n    width: 450px;\n  }\n</style>\n\n<div class="controller-section" ng-controller="Osgi.ConfigurationsController">\n  <div class="row">\n    <div class="configuration-header">\n      <div class="configuration-filter">\n        <input type="text" class="col-md-8 search-query" placeholder="Filter..." ng-model="filterText">\n        <i class="fa fa-remove clickable" title="Clear filter" ng-click="filterText = \'\'"></i>\n        <button class="btn pull-right" ng-click="addPidDialog.open()" title="Add a new configuration" hawtio-show object-name="{{hawtioConfigAdminMBean}}" method-name="configAdminUpdate"><i\n                class="fa fa-plus"></i> Configuration\n        </button>\n      </div>\n    </div>\n  </div>\n\n  <div class="row centered" ng-hide="configurations.length">\n    <p class="text-center"><i class="fa fa-spinner fa-spin"></i></p>\n  </div>\n\n  <ul class="configurations">\n    <li ng-repeat=\'config in configurations | filter:filterText\' class=\'{{config.class}} bundle-item\'>\n      <a ng-href="{{config.pidLink}}" title="{{config.description}}">\n        <span class="{{config.kind.class}}">{{config.name}}</span>\n      </a>\n      <ul ng-show="config.isFactory">\n        <li ng-repeat="child in config.children" class=\'{{child.class}} bundle-item\'>\n          <a ng-href="{{child.pidLink}}" title="{{child.description}}">\n            <span class="{{child.kind.class}}">{{child.name}}</span>\n          </a>\n        </li>\n      </ul>\n    </li>\n  </ul>\n\n  <div modal="addPidDialog.show" close="addPidDialog.close()" options="addPidDialog.options">\n    <form name="addPidDialogForm" class="form-horizontal no-bottom-margin" ng-submit="addPid(newPid)">\n      <div class="modal-header"><h4>Add New Configuration</h4></div>\n      <div class="modal-body">\n        <div class="control-group">\n          <label class="control-label" for="newPid">New configuration ID</label>\n\n          <div class="controls">\n            <input class="input-xlarge" type="text" id="newPid" ng-model="newPid"/>\n          </div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <input class="btn btn-success" ng-disabled="!(newPid !== \'\' && newPid !== undefined)" type="submit" value="Add">\n        <input class="btn btn-primary" ng-click="addPidDialog.close()" type="button" value="Cancel">\n      </div>\n    </form>\n  </div>\n</div>\n\n'),e.put("plugins/osgi/html/framework.html",'<div class="container" ng-controller="Osgi.FrameworkController">\n    <h3>Framework Configuration</h3>\n    <div class="col-md-11">\n    <table>\n        <tr>\n            <td><strong>Current Framework Start Level:</strong></td>\n            <td class="less-big">{{startLevel}}</td>\n            <td><button class="btn btn-primary" \n                        ng-click="edit(\'FrameworkStartLevel\', \'Framework Start Level\')" \n                        title="Edit framework start level"\n                        hawtio-show\n                        object-name="{{frameworkMBean}}"\n                        method-name="setFrameworkStartLevel">Edit</button></td>\n        </tr>\n        <tr><td><p></p></td></tr>\n        <tr>\n            <td><strong>Initial Bundle Start Level:</strong></td>\n            <td class="less-big">{{initialBundleStartLevel}}</td>\n            <td><button class="btn btn-primary"\n                        ng-click="edit(\'InitialBundleStartLevel\', \'Initial Bundle Start Level\')" \n                        title="Edit initial bundle start level"\n                        hawtio-show\n                        object-name="{{frameworkMBean}}"\n                        method-name="setInitialBundleStartLevel">Edit</button></td>\n        </tr>\n    </table>\n    </div>\n\n    <div modal="editDialog.show" close="editDialog.close()" options="editDialog.options">\n        <form id="myForm" class="form-horizontal no-bottom-margin" ng-submit="editDialog.close()">\n            <div class="modal-header"><h4>Change {{editDisplayName}}</h4></div>\n            <div class="modal-body">\n                <p>New Start Level (0-100): <input ng-model="editResult" type="number" min="0" max="100" required/></p>\n            </div>\n            <div class="modal-footer">\n                <input class="btn btn-default" ng-click="editDialog.close()" type="submit" value="Cancel">\n                <input class="btn btn-primary" ng-click="edited(editAttr, editDisplayName, editResult)" type="submit" value="OK">\n            </div>\n        </form>\n    </div>\n</div>\n'),e.put("plugins/osgi/html/layoutOsgi.html",'<ul class="nav nav-tabs" hawtio-auto-dropdown ng-controller="Karaf.NavBarController">\n  <li ng-class=\'{active : isActive("#/osgi/configuration") || isPrefixActive("#/osgi/pid")}\'>\n      <a ng-href="/osgi/configurations{{hash}}">Configuration</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/bundle")}\'>\n      <a ng-href="/osgi/bundle-list{{hash}}">Bundles</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/features") || isActive("#/osgi/feature")}\' ng-show="isFeaturesEnabled">\n    <a ng-href="/osgi/features{{hash}}">Features</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/package")}\'>\n      <a ng-href="/osgi/packages{{hash}}">Packages</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/service")}\'>\n      <a ng-href="/osgi/services{{hash}}">Services</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/scr-components")}\' ng-show="isScrEnabled">\n    <a ng-href="/osgi/scr-components{{hash}}">Declarative Services</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/server")}\'>\n    <a ng-href="/osgi/server{{hash}}">Server</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/fwk")}\'>\n      <a ng-href="/osgi/fwk{{hash}}">Framework</a>\n  </li>\n  <li ng-class=\'{active : isActive("#/osgi/dependencies")}\'>\n      <a ng-href="/osgi/dependencies{{hash}}">Dependencies</a>\n  </li>\n\n  <li class="dropdown overflow" style="float: right !important; visibility: hidden;">\n    <a href="" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-chevron-down"></i></a>\n    <ul class="dropdown-menu right"></ul>\n  </li>\n\n</ul>\n<div class="row" ng-controller="Osgi.TopLevelController">\n    <div ng-view></div>\n</div>\n\n\n'),e.put("plugins/osgi/html/package-details.html",'<div>\n    <table class="overviewSection">\n        <tr>\n            <td><strong>Name:</strong></td>\n            <td class="less-big">{{row.Name}}\n            </td>\n        </tr>\n        <tr>\n            <td><strong>Version:</strong></td>\n            <td class="less-big">{{row.Version}}\n            </td>\n        </tr>\n        <tr>\n            <td><strong>Removal Pending:</strong></td>\n            <td class="less-big">{{row.RemovalPending}}\n        </tr>\n        <tr>\n            <td><strong>Exporting Bundles:</strong></td>\n            <td>\n                <ul>\n                    <li ng-repeat="name in row.ExportingBundles">\n                        <a href=\'{{row.ExportingBundleUrls[$index]}}\'>{{name}}</a>\n                    </li>\n                </ul>\n            </td>\n        </tr>\n        <tr>\n            <td><strong>Importing Bundles:</strong></td>\n            <td>\n                <ul>\n                    <li ng-repeat="name in row.ImportingBundles">\n                        <a href=\'{{row.ImportingBundleUrls[$index]}}\'>{{name}}</a>\n                    </li>\n                </ul>\n            </td>\n        </tr>\n    </table>\n</div>'),e.put("plugins/osgi/html/package.html",'<div class="controller-section" ng-controller="Osgi.PackageController">\n\n<h1>{{row.id}}</h1>\n\n<div ng-include src="\'plugins/osgi/html/package-details.html\'"></div>\n</div>\n'),e.put("plugins/osgi/html/packages.html",'\x3c!--\n<script type="text/ng-template" id="packageBundlesTemplate">\n  <table>\n    <tr>\n      <th>Exporting Bundles</th>\n      <th>Importing Bundles</th>\n    </tr>\n    <tr>\n      <td>\n        <ul>\n          <li ng-repeat="b in row.ExportingBundles">\n            <a href=\'#/osgi/bundle/{{b.Identifier}}?\'>{{b.SymbolicName}}</a>\n          </li>\n        </ul>\n      </td>\n      <td>\n        <ul>\n          <li ng-repeat="b in row.ImportingBundles">\n            <a href=\'#/osgi/bundle/{{b.Identifier}}?\'>{{b.SymbolicName}}</a>\n          </li>\n        </ul>\n      </td>\n    </tr>\n  </table>\n<\/script>\n--\x3e\n\n<div class="controller-section" ng-controller="Osgi.PackagesController">\n  <table class="table table-striped" hawtio-simple-table="mygrid"></table>\n</div>\n'),e.put("plugins/osgi/html/pid-details.html",'<div>\n  <h4 title="{{metaType.description}}">{{zkPid || metaType.name || pid}}\n    <span ng-show="factoryInstanceName">: {{factoryInstanceName}}</span>\n  </h4>\n\n  <div ng-hide="editMode">\n    <div class="row">\n      <button class="btn btn-default" ng-click="setEditMode(true)" title="Edit this configuration" hawtio-show object-name="{{hawtioConfigAdminMBean}}" method-name="configAdminUpdate"><i class="fa fa-edit"></i> Edit</button>\n      <button class="btn btn-danger pull-right" ng-click="deletePidDialog.open()" title="Delete this configuration" hawtio-show object-name="{{configAdminMBean}}" method-name="delete"><i class="fa fa-remove"></i> Delete</button>\n    </div>\n    <div class="row config-admin-form view">\n      <div simple-form name="pidEditor" mode=\'view\' entity=\'entity\' data=\'schema\' schema="fullSchema"></div>\n    </div>\n  </div>\n  <div ng-show="editMode">\n    <div class="row">\n      <button ng-show="newPid" class="btn btn-primary" ng-disabled="!canSave || !createForm.pidInstanceName" ng-click="pidSave()"><i class="fa fa-save"></i> Create</button>\n      <button ng-hide="newPid" class="btn btn-primary" ng-disabled="!canSave" ng-click="pidSave()"><i class="fa fa-save"></i> Save</button>\n      <button class="btn btn-warning" ng-click="setEditMode(false)"><i class="fa fa-remove"></i> Cancel</button>\n      <button class="btn pull-right" ng-click="addPropertyDialog.open()" title="Add a new property value to this configuration"><i class="fa fa-plus"></i> Property</button>\n    </div>\n    <div class="row config-admin-form edit">\n      <div ng-show="newPid" class="new-config-name-form">\n        <form class="form-horizontal" action="">\n          <fieldset>\n            <div class="control-group">\n              <label class="control-label" title="The name of the configuration file">Configuration name: </label>\n              <div class="controls">\n                <input type="text" class="col-md-12"\n                       title="The name of the configuration file"\n                       ng-required="true"\n                       ng-model="createForm.pidInstanceName" name="path"\n                       autofocus="autofocus">\n              </div>\n            </div>\n          </fieldset>\n        </form>\n      </div>\n\n      <div simple-form name="pidEditor" mode=\'edit\' entity=\'entity\' data=\'schema\' schema="fullSchema" onSubmit="pidSave()"></div>\n    </div>\n  </div>\n\n  <div modal="deletePropDialog.show" close="deletePropDialog.close()" options="deletePropDialog.options">\n    <form name="deleteProperty" class="form-horizontal no-bottom-margin" ng-submit="deletePidPropConfirmed()">\n      <div class="modal-header"><h4>Delete property \'{{deleteKey}}\'</h4></div>\n      <div class="modal-body">\n        <p>Are you sure?</p>\n      </div>\n      <div class="modal-footer">\n        <input class="btn btn-success" type="submit" value="Delete">\n        <input class="btn btn-primary" ng-click="deletePropDialog.close()" type="button" value="Cancel">\n      </div>\n    </form>\n  </div>\n\n  <div modal="deletePidDialog.show" close="deletePidDialog.close()" options="deletePidDialog.options">\n    <form name="deletePid" class="form-horizontal no-bottom-margin" ng-submit="deletePidConfirmed()">\n      <div class="modal-header"><h4>Delete configuration: {{pid}}</h4></div>\n      <div class="modal-body">\n        <p>Are you sure?</p>\n      </div>\n      <div class="modal-footer">\n        <input class="btn btn-success" type="submit" value="Delete">\n        <input class="btn btn-primary" ng-click="deletePidDialog.close()" type="button" value="Cancel">\n      </div>\n    </form>\n  </div>\n\n  <div modal="addPropertyDialog.show" close="addPropertyDialog.close()" options="addPropertyDialog.options">\n    <form name="addProperty" class="form-horizontal no-bottom-margin"\n          ng-submit="addPropertyConfirmed(addPropKey, addPropValue)">\n      <div class="modal-header"><h4>Add property</h4></div>\n      <div class="modal-body">\n        <div class="control-group">\n          <label class="control-label" for="propKey">Key</label>\n\n          <div class="controls">\n            <input class="input-xlarge" type="text" id="propKey" placeholder="Key" ng-model="addPropKey"/>\n            <span class="help-block"\n                  ng-hide="addPropKey !== \'\' && addPropKey !== undefined">A key must be specified</span>\n          </div>\n        </div>\n        <div class="control-group">\n          <label class="control-label" for="propValue">Value</label>\n\n          <div class="controls">\n            <input class="input-xlarge" type="text" id="propValue" placeholder="Value" ng-model="addPropValue"/>\n          </div>\n        </div>\n      </div>\n      <div class="modal-footer">\n        <input class="btn btn-success" ng-disabled="!(addPropKey !== \'\' && addPropKey !== undefined)" type="submit"\n               value="Add">\n        <input class="btn btn-primary" ng-click="addPropertyDialog.close()" type="button" value="Cancel">\n      </div>\n    </form>\n  </div>\n</div>\n'),e.put("plugins/osgi/html/pid.html",'<div class="controller-section" ng-controller="Osgi.PidController">\n  <div ng-include src="\'plugins/osgi/html/pid-details.html\'"></div>\n</div>\n'),e.put("plugins/osgi/html/services.html",'\x3c!--\n<script type="text/ng-template" id="osgiServiceTemplate">\n  <table>\n    <tr>\n      <th>Using Bundles</th>\n    </tr>\n    <tr>\n      <td>\n        <ul>\n          <li ng-repeat="b in row.UsingBundles">\n            <a href=\'#/osgi/bundle/{{b.Identifier}}{{hash}}\'>{{b.SymbolicName}}</a>\n          </li>\n        </ul>\n      </td>\n    </tr>\n  </table>\n<\/script>\n--\x3e\n\n<div class="controller-section" ng-controller="Osgi.ServiceController">\n\n  <table class="table table-striped" hawtio-simple-table="mygrid"></table>\n  \x3c!--\n  <table cellpadding="0" cellspacing="0" border="0"\n         class="table table-condensed table-striped table-bordered table-hover"\n         id="grid">\n    <thead>\n    <tr>\n      <th></th>\n      <th>ID</th>\n      <th>Bundle</th>\n      <th>Object Class(es)</th>\n    </tr>\n    </thead>\n    <tbody>\n    </table>\n    --\x3e\n</div>\n'),e.put("plugins/osgi/html/svc-dependencies.html",'<style type="text/css">\n\n  div#pop-up {\n    display: none;\n    position:absolute;\n    color: white;\n    font-size: 14px;\n    background: rgba(0,0,0,0.6);\n    padding: 5px 10px 5px 10px;\n    -moz-border-radius: 8px 8px;\n    border-radius: 8px 8px;\n  }\n\n  div#pop-up-title {\n    font-size: 15px;\n    margin-bottom: 4px;\n    font-weight: bolder;\n  }\n  div#pop-up-content {\n    font-size: 12px;\n  }\n\n  rect.graphbox {\n    fill: #DDD;\n  }\n\n  rect.graphbox.frame {\n    stroke: #222;\n    stroke-width: 2px\n  }\n\n  path.link {\n    fill: none;\n    stroke: #666;\n    stroke-width: 1.5px;\n  }\n\n  path.link.registered {\n    stroke: #444;\n  }\n\n  path.link.inuse {\n    stroke-dasharray: 0,2 1;\n  }\n\n  circle {\n    fill: #black;\n  }\n\n  circle.service {\n    fill: blue;\n  }\n\n  circle.bundle {\n    fill: black;\n  }\n\n  circle.package {\n    fill: gray;\n  }\n\n  text {\n    font: 10px sans-serif;\n    pointer-events: none;\n  }\n\n  text.shadow {\n    stroke: #fff;\n    stroke-width: 3px;\n    stroke-opacity: .8;\n  }\n\n</style>\n\n<div ng-controller="Osgi.ServiceDependencyController">\n  <div class="row">\n    <form class="form-inline no-bottom-margin inline-block">\n      <fieldset>\n        <div class="control-group">\n          <input type="text" class="search-query" placeholder="Filter Bundle Symbolic Name..." ng-model="bundleFilter">\n          <input type="text" class="search-query" placeholder="Filter Package Name..." ng-model="packageFilter" ng-change="updatePkgFilter()">\n          <label class="radio" for="showServices">\n            <input id="showServices" type="radio" value="services" ng-model="selectView"> Show Services\n          </label>\n          <label class="radio" for="showPackages">\n            <input id="showPackages" type="radio" value="packages" ng-model="selectView" ng-disabled="disablePkg"> Show Packages\n          </label>\n          <label class="checkbox" for="hideUnused">\n            <input id="hideUnused" type="checkbox" ng-model="hideUnused"> Hide Unused\n          </label>\n          <button class="btn btn-primary" ng-click="updateGraph()" title="Apply the selected criteria to the Graph.">Apply</button>\n        </div>\n      </fieldset>\n    </form>\n    \x3c!-- a ng-hide="inDashboard" class="pull-right btn btn-default" ng-href="{{addToDashboardLink()}}" title="Add this view to a Dashboard"><i class="fa fa-share"></i></a --\x3e\n  </div>\n\n  <div id="pop-up">\n    <div id="pop-up-title"></div>\n    <div id="pop-up-content"></div>\n  </div>\n\n  <div class="row">\n    <div class="col-md-12 canvas" style="min-height: 800px">\n      <div hawtio-force-graph graph="graph" link-distance="100" charge="-300" nodesize="6"></div>\n    </div>\n  </div>\n\n</div>\n')}]),hawtioPluginLoader.addModule("hawtio-integration-templates"),function(e){e.pluginName="hawtio-template-cache",e._module=angular.module(e.pluginName,[]),e._module.config(["$provide",function(e){e.decorator("$templateCache",["$delegate",function(n){Logger.get("$templateCache");var i=n.put;n.watches={},n.put=function(e,t){if(i(e,t),e in n.watches){_.forEach(n.watches[e],function(e){e(t)});delete n.watches[e]}};var t=n.get;return n.get=function(e){return t(e)},n}]),e.decorator("$templateRequest",["$rootScope","$timeout","$q","$templateCache","$delegate",function(e,r,o,a,s){var t=function(e,t){Logger.get("$templateRequest");var n=a.get(e),i=o.defer();return angular.isDefined(n)?(r(function(){i.resolve(n)},1),i.promise):"watches"in a?(a.watches[e]||(a.watches[e]=[]),a.watches[e].push(function(e){i.resolve(e)}),i.promise):s(e,t)};return t.totalPendingRequests=0,t}])}]),hawtioPluginLoader.addModule("ngRoute"),hawtioPluginLoader.addModule(e.pluginName)}(templateCache||(templateCache={})),function(e){e.pluginName="hawtio-extension-service",e.templatePath="plugins/hawtio-extension-service/html",e._module=angular.module(e.pluginName,[]),e._module.service("HawtioExtension",function(){this._registeredExtensions={},this.add=function(e,t){this._registeredExtensions[e]||(this._registeredExtensions[e]=[]),this._registeredExtensions[e].push(t)},this.render=function(e,t,n){var i=this._registeredExtensions[e];if(i)for(var r=0;r<i.length;r++){var o=i[r](n);if(!o)return;"string"==typeof o&&(o=document.createTextNode(o)),t.append(o)}}}),e._module.directive("hawtioExtension",["HawtioExtension",function(i){return{restrict:"EA",link:function(e,t,n){n.name&&i.render(n.name,t,e)}}}]),hawtioPluginLoader.addModule(e.pluginName)}(HawtioExtensionService||(HawtioExtensionService={})),function(l){l.pluginName="hawtio-preferences",l.templatePath="plugins/preferences/html",l.log=Logger.get(l.pluginName),l.parsePreferencesJson=function(e,t){var n=null;return angular.isDefined(e)&&(n=Core.parseJsonText(e,"localStorage for "+t)),n},l.initPreferenceScope=function(a,s,e){angular.forEach(e,function(i,r){a[r]=i.value;var e=i.converter,o=i.formatter;if(o||(o=function(e){return e}),e||(e=function(e){return e}),r in s){var t=e(s[r]);l.log.debug("from local storage, setting ",r," to ",t),a[r]=t}else t=i.value,l.log.debug("from default, setting ",r," to ",t),s[r]=t;var n=i.override;n||(n=function(e,t){if(e!==t){angular.isFunction(i.pre)&&i.pre(e);var n=o(e);l.log.debug("to local storage, setting ",r," to ",n),s[r]=n,angular.isFunction(i.post)&&i.post(e)}}),i.compareAsObject?a.$watch(r,n,!0):a.$watch(r,n)})},l.isValidFunction=function(e,t,n){return!t||t(e,n)}}(HawtioPreferences||(HawtioPreferences={})),function(e){var t=function(){function e(e){this.$rootScope=e,this.tabs={}}return e.prototype.addTab=function(e,t,n){void 0===n&&(n=void 0),n||(n=function(){return!0}),this.tabs[e]={template:t,isValid:n},this.$rootScope.$broadcast("HawtioPreferencesTabAdded"),Core.$apply(this.$rootScope)},e.prototype.getTab=function(e){return this.tabs[e]},e.prototype.getTabs=function(){var n={};return angular.forEach(this.tabs,function(e,t){e.isValid()&&(n[t]=e)}),n},e}();e.PreferencesRegistry=t}(HawtioPreferences||(HawtioPreferences={})),function(r){r._module=angular.module(r.pluginName,[]),r._module.config(["$provide","$routeProvider",function(e,t){t.when("/preferences",{templateUrl:UrlHelpers.join(r.templatePath,"preferences.html"),reloadOnSearch:!1}),e.decorator("preferencesRegistry",["$delegate","$rootScope",function(e,t){return new r.PreferencesRegistry(t)}])}]),r._module.run(["$templateCache","HawtioExtension","$compile","preferencesRegistry",function(n,e,i,t){e.add("hawtio-user",function(e){var t=n.get(UrlHelpers.join(r.templatePath,"menuItem.html"));return i(t)(e)}),r.log.debug("loaded"),t.addTab("Console Logging",UrlHelpers.join(r.templatePath,"loggingPreferences.html")),t.addTab("Reset",UrlHelpers.join(r.templatePath,"resetPreferences.html"))}]),hawtioPluginLoader.addModule(r.pluginName)}(HawtioPreferences||(HawtioPreferences={})),(HawtioPreferences||(HawtioPreferences={}))._module.controller("HawtioPreferences.LoggingPreferences",["$scope","SchemaRegistry",function(n,e){var t,i,r={Off:"OFF",Error:"ERROR",Warn:"WARN",Info:"INFO",Debug:"DEBUG"};e.addSchema("ChildLoggers",{properties:{logger:{type:"string",enum:(t=Logger.loggers,_.keys(t),i={},_.forIn(t,function(e,t){i[t]=t}),i)},level:{type:"string",enum:r}}});var o={properties:{logBuffer:{type:"number",default:100,description:"The number of log statements to keep available in the logging console"},globalLogLevel:{type:"string",enum:r},childLoggers:{type:"array",items:{type:"ChildLoggers"}}}};function a(){n.childLoggers&&_.forEach(n.childLoggers,function(e){Logger.get(e.logger).setLevel(Logger[e.level])})}n.$watch("globalLogLevel",function(e,t){if(e!==t)localStorage.logLevel=angular.toJson(Logger[e]),Logger.setLevel(Logger[e]),a();else{try{n.globalLogLevel=angular.fromJson(localStorage.logLevel).name}catch(e){n.globalLogLevel="INFO"}a()}}),n.$watchCollection("childLoggers",function(e,t){if(e!==t)localStorage.childLoggers=angular.toJson(e),a();else try{n.childLoggers=angular.fromJson(localStorage.childLoggers)}catch(e){n.childLoggers=[]}}),(n.entity=n).config=o,Core.initPreferenceScope(n,localStorage,{logBuffer:{value:100,converter:parseInt,formatter:parseInt,post:function(e){window.LogBuffer=e}}})}]),function(e){e._module.service("PreferencesLastPath",function(){return{lastPath:void 0,lastTab:void 0}}),e._module.service("HawtioPreferences",["PreferencesLastPath","$location","$rootScope",function(n,i,r){return{goto:function(e){void 0===e&&(e=void 0);var t={};e&&(t.pref=e),n.lastPath=i.path(),n.lastSearch=i.search(),i.path("/preferences").search(t),Core.$apply(r)}}}]),e._module.controller("HawtioPreferences.MenuItemController",["$scope","$location","PreferencesLastPath",function(e,t,n){e.gotoPreferences=function(){n.lastPath=t.path(),n.lastSearch=t.search(),t.path("/preferences").search({}),Core.$apply(e)}}]),e._module.controller("HawtioPreferences.PreferencesController",["$scope","$location","preferencesRegistry","PreferencesLastPath",function(t,e,n,i){var r=n.getTabs();function o(e){return e.sort(function(e,t){return"Reset"==e?1:"Reset"==t?-1:e.localeCompare(t)})}t.names=o(_.keys(r)),t.$watch(function(){r=n.getTabs(),t.names=o(_.keys(r)),Core.$apply(t)}),Core.bindModelToSearchParam(t,e,"pref","pref",t.names[0]),t.setPanel=function(e){t.pref=e},t.active=function(e){return e===t.pref?"active":""},t.done=function(){e.path(i.lastPath).search(i.lastSearch),Core.$apply(t)},t.getPrefs=function(e){var t=r[e];if(t)return t.template}}])}(HawtioPreferences||(HawtioPreferences={})),function(n){n._module.controller("HawtioPreferences.ResetPreferences",["$scope","localStorage",function(e,t){e.doReset=function(){n.log.info("Resetting");t.clear(),setTimeout(function(){window.location.reload()},10)}}])}(HawtioPreferences||(HawtioPreferences={})),angular.module("hawtio-preferences-templates",[]).run(["$templateCache",function(e){e.put("plugins/preferences/html/loggingPreferences.html",'<div ng-controller="HawtioPreferences.LoggingPreferences">\n  <div hawtio-form-2="config" entity="entity"></div>\n</div>\n'),e.put("plugins/preferences/html/menuItem.html",'<li ng-controller="HawtioPreferences.MenuItemController">\n  <a href="" ng-click="gotoPreferences()">Preferences</a>\n</li>\n'),e.put("plugins/preferences/html/preferences.html",'<div ng-controller="HawtioPreferences.PreferencesController">\n  <div class="row">\n    <div class="col-sm-9 col-md-10 col-sm-push-3 col-md-push-2">\n      <h3>{{pref}}</h3>\n      <div ng-include="getPrefs(pref)"></div>\n    </div>\n    <div class="col-sm-3 col-md-2 col-sm-pull-9 col-md-pull-10 sidebar-pf sidebar-pf-left">\n      <div class="nav-category">\n        <ul class="nav nav-pills nav-stacked">\n          <li ng-repeat="name in names" ng-class="active(name)">\n            <a href="" ng-click="setPanel(name)">{{name}}</a>\n          </li>\n          <li class="align-center">\n            <p></p>\n            <button class="btn btn-default" ng-click="done()">Done</button>\n            <p></p>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'),e.put("plugins/preferences/html/resetPreferences.html",'<div ng-controller="HawtioPreferences.ResetPreferences">\n  <form class="form-horizontal">\n    <fieldset>\n      <div class="control-group">\n        <label class="control-label">\n          <strong>\n            <i class=\'yellow text-shadowed icon-warning-sign\'></i> Reset settings\n          </strong>\n        </label>\n        <div class="controls">\n          <button class="btn btn-danger" ng-click="doReset()">Reset to defaults</button>\n          <span class="help-block">Wipe settings stored by {{branding.appName}} in your browser\'s local storage</span>\n        </div>\n      </div>\n    </fieldset>\n  </form>\n</div>\n')}]),hawtioPluginLoader.addModule("hawtio-preferences-templates"),(ARTEMIS||(ARTEMIS={})).jmsHeaderSchema={definitions:{headers:{properties:{JMSCorrelationID:{type:"java.lang.String"},JMSDeliveryMode:{type:"string",enum:["PERSISTENT","NON_PERSISTENT"]},JMSDestination:{type:"javax.jms.Destination"},JMSExpiration:{type:"long"},JMSPriority:{type:"int"},JMSReplyTo:{type:"javax.jms.Destination"},JMSType:{type:"java.lang.String"},JMSXGroupId:{type:"java.lang.String"},_AMQ_SCHED_DELIVERY:{type:"java.lang.String"}}},"javax.jms.Destination":{type:"java.lang.String"}}};var ARTEMIS=function(t){return t.pluginName="ARTEMIS",t.log=Logger.get(t.pluginName),t.templatePath="plugins/artemis/html/",t.jmxDomain="hawtio",t.mbeanType="ARTEMISHandler",t.mbean=t.jmxDomain+":type="+t.mbeanType,t.SETTINGS_KEY="ARTEMISSettings",t.module=angular.module(t.pluginName,["ngSanitize","ngResource","hawtio-core","hawtio-ui"]),t.module.config(["$controllerProvider",function(e){e.allowGlobals()}]),t.module.config(["$sceProvider",function(e){e.enabled(!1)}]),t.module.config(["$routeProvider",function(e){e.when("/artemis/createAddress",{templateUrl:t.templatePath+"createAddress.html"}).when("/artemis/deleteAddress",{templateUrl:t.templatePath+"deleteAddress.html"}).when("/artemis/deleteQueue",{templateUrl:t.templatePath+"deleteQueue.html"}).when("/artemis/createQueue",{templateUrl:t.templatePath+"createQueue.html"}).when("/artemis/browseQueue",{templateUrl:t.templatePath+"browseQueue.html"}).when("/jmx/browseQueue",{templateUrl:t.templatePath+"browseQueue.html"}).when("/artemis/diagram",{templateUrl:t.templatePath+"brokerDiagram.html"}).when("/jmx/diagram",{templateUrl:t.templatePath+"brokerDiagram.html"}).when("/artemis/sendMessage",{templateUrl:t.templatePath+"sendMessage.html"}).when("/jmx/sendMessage",{templateUrl:t.templatePath+"sendMessage.html"}).when("/artemis/connections",{templateUrl:t.templatePath+"connections.html"}).when("/jmx/connections",{templateUrl:t.templatePath+"connections.html"}).when("/artemis/sessions",{templateUrl:t.templatePath+"sessions.html"}).when("/jmx/sessions",{templateUrl:t.templatePath+"sessions.html"}).when("/artemis/consumers",{templateUrl:t.templatePath+"consumers.html"}).when("/jmx/consumers",{templateUrl:t.templatePath+"consumers.html"}).when("/artemis/producers",{templateUrl:t.templatePath+"producers.html"}).when("/jmx/producers",{templateUrl:t.templatePath+"producers.html"}).when("/artemis/addresses",{templateUrl:t.templatePath+"addresses.html"}).when("/jmx/addresses",{templateUrl:t.templatePath+"addresses.html"}).when("/artemis/queues",{templateUrl:t.templatePath+"queues.html"}).when("/jmx/queues",{templateUrl:t.templatePath+"queues.html"})}]),t.module.factory("artemisMessage",function(){return{message:null}}),t.module.factory("artemisConnection",function(){return{connection:null}}),t.module.factory("artemisSession",function(){return{session:null}}),t.module.factory("artemisConsumer",function(){return{consumer:null}}),t.module.factory("artemisProducer",function(){return{producer:null}}),t.module.factory("artemisQueue",function(){return{queue:null}}),t.module.factory("artemisAddress",function(){return{address:null}}),t}(ARTEMIS||{});hawtioPluginLoader.addModule(ARTEMIS.pluginName);var ARTEMIS=function(f){function e(e,r,t,n,i,o,a,s,l,c,u){f.log.info("plugin running "+a);var d=o.artemisJmxDomain||"org.apache.activemq.artemis";s.initArtemis(),t['{ "main-tab": "artemis" }']=f.templatePath+"artemisLayout.html",n.addUserDoc("artemis",f.templatePath+"../doc/help.md",function(){return r.treeContainsDomainAndProperties(d)}),i.addTab("Artemis",f.templatePath+"preferences.html",function(){return r.treeContainsDomainAndProperties(d)});var h=e.builder(),p=h.id("artemis").title(function(){return"Artemis"}).defaultPage({rank:15,isValid:function(t,n){var i="ArtemisDefaultPage";r.addNamedTreePostProcessor(i,function(e){r.removeNamedTreePostProcessor(i),r.treeContainsDomainAndProperties(d)?t():n()})}}).href(function(){return"/jmx/attributes"}).isValid(function(){return r.treeContainsDomainAndProperties(d)}).build();p.tabs=Jmx.getNavItems(h,r,u,"artemis"),subLevelTabs=p.tabs,subLevelTabs.push({id:"artemis-create-address",title:function(){return'<i class="fa fa-plus"></i> Create'},tooltip:function(){return"Create a new address"},show:function(){return t=d,r.hasDomainAndProperties(t,{broker:"Broker"},3)||(e=d,r.selectionHasDomainAndLastFolderName(e,"addresses"));var e,t},href:function(){return"/artemis/createAddress"}}),subLevelTabs.push({id:"artemis-delete-address",title:function(){return'<i class="fa fa-remove"></i> Delete'},tooltip:function(){return"Delete an address"},index:4,show:function(){return g(r,d)},href:function(){return"/artemis/deleteAddress"}}),subLevelTabs.push({id:"artemis-create-queue",title:function(){return'<i class="fa fa-plus"></i> Create'},tooltip:function(){return"Create a new queue"},show:function(){return g(r,d)},href:function(){return"/artemis/createQueue"}}),subLevelTabs.push({id:"artemis-delete-queue",title:function(){return'<i class="fa fa-remove"></i> Delete'},tooltip:function(){return"Delete or purge this queue"},show:function(){return m(r,d)},href:function(){return"/artemis/deleteQueue"}}),subLevelTabs.push({id:"artemis-browse-queue",title:function(){return'<i class="fa fa-envelope"></i> Browse'},tooltip:function(){return"Browse the messages on the queue"},show:function(){return m(r,d)},href:function(){return"/artemis/browseQueue"+r.hash()}}),subLevelTabs.push({id:"artemis-send-message",title:function(){return'<i class="fa fa-pencil"></i> Send'},tooltip:function(){return"Send a message to this address"},show:function(){return g(r,d)||m(r,d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/sendMessage":"/jmx/sendMessage"}}),subLevelTabs.unshift({id:"artemis-view-diagram",title:function(){return'<i class="fa fa-picture-o"></i> Diagram&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|'},tooltip:function(){return"View a diagram of the producers, destinations and consumers"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/diagram":"/jmx/diagram"}}),subLevelTabs.unshift({id:"artemis-manage-queues",title:function(){return'<i class="fa fa-th-list"></i> Queues'},tooltip:function(){return"Manage Queues"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/queues":"/jmx/queues"}}),subLevelTabs.unshift({id:"artemis-manage-addresses",title:function(){return'<i class="fa fa-book"></i> Addresses'},tooltip:function(){return"Manage Addresses"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis"),"/artemis/addresses"}}),subLevelTabs.unshift({id:"artemis-manage-producers",title:function(){return'<i class="fa fa-upload"></i> Producers'},tooltip:function(){return"Manage Producers"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/producers":"/jmx/producers"}}),subLevelTabs.unshift({id:"artemis-manage-consumers",title:function(){return'<i class="fa fa-download"></i> Consumers'},tooltip:function(){return"Manage Consumers"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/consumers":"/jmx/consumers"}}),subLevelTabs.unshift({id:"artemis-manage-sessions",title:function(){return'<i class="fa fa-tasks"></i> Sessions'},tooltip:function(){return"Manage Sessions"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/sessions":"/jmx/sessions"}}),subLevelTabs.unshift({id:"artemis-manage-connections",title:function(){return'<i class="fa fa-signal"></i> Connections'},tooltip:function(){return"Manage Connections"},show:function(){return r.isTopTabActive("artemis")||r.selectionHasDomain(d)},href:function(){return r.isTopTabActive("artemis")?"/artemis/connections":"/jmx/connections"}}),e.add(p),c.addTask("clearArtemisCredentials",function(){o.removeItem("artemisUserName"),o.removeItem("artemisPassword")})}function g(e,t){return e.hasDomainAndProperties(t,{component:"addresses"})&&!e.hasDomainAndProperties(t,{subcomponent:"queues"})&&!e.hasDomainAndProperties(t,{subcomponent:"diverts"})}function m(e,t){return e.hasDomainAndProperties(t,{subcomponent:"queues"})}return e.$inject=["HawtioNav","workspace","viewRegistry","helpRegistry","preferencesRegistry","localStorage","jolokia","ARTEMISService","$rootScope","preLogoutTasks","$templateCache"],f.module.run(e),f}(ARTEMIS||{});function ArtemisConsole(){this.getServerAttributes=function(e,t){var n={type:"read",mbean:t};return e.request(n,{method:"post"})},this.createAddress=function(e,t,n,i,r){t.execute(e,"createAddress(java.lang.String,java.lang.String)",n,i,r)},this.deleteAddress=function(e,t,n,i){t.execute(e,"deleteAddress(java.lang.String)",n,i)},this.createQueue=function(e,t,n,i,r,o,a,s,l,c){t.execute(e,"createQueue(java.lang.String,java.lang.String,java.lang.String,java.lang.String,boolean,int,boolean,boolean)",n,i,r,a,o,s,l,!0,c)},this.deleteQueue=function(e,t,n,i){t.execute(e,"destroyQueue(java.lang.String)",n,i)},this.purgeQueue=function(e,t,n){t.execute(e,"removeAllMessages()",n)},this.browse=function(e,t,n){t.request({type:"exec",mbean:e,operation:"browse()"},n)},this.deleteMessage=function(e,t,n,i){ARTEMIS.log.info("executing on "+e),t.execute(e,"removeMessage(long)",n,i)},this.moveMessage=function(e,t,n,i,r){t.execute(e,"moveMessage(long,java.lang.String)",n,i,r)},this.retryMessage=function(e,t,n,i){t.execute(e,"retryMessage(java.lang.String)",n,i)},this.sendMessage=function(e,t,n,i,r,o,a,s,l){t.execute(e,"sendMessage(java.util.Map, int, java.lang.String, boolean, java.lang.String, java.lang.String)",n,i,r,o,a,s,l)},this.getConsumers=function(e,t,n){t.request({type:"exec",mbean:e,operation:"listAllConsumersAsJSON()"},n)},this.getRemoteBrokers=function(e,t,n){t.request({type:"exec",mbean:e,operation:"listNetworkTopology()"},n)},this.ownUnescape=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\*/g,"*").replace(/\\\?/g,"?")}}function getServerAttributes(){return(new ArtemisConsole).getVersion(new Jolokia("http://localhost:8778/jolokia/"))}var ARTEMIS=function(n){return n.SERVER="Server Messages",n.module.factory("ARTEMISService",function(){var t={artemisConsole:void 0,getVersion:function(e){n.log.info("Connecting to ARTEMIS service: "+t.artemisConsole.getServerAttributes(e))},initArtemis:function(e){n.log.info("*************creating Artemis Console************"),t.artemisConsole=new ArtemisConsole}};return t}),n}(ARTEMIS||{}),ARTEMIS,ARTEMIS;!function(i){function r(e){var t=e.search().nid,n=t.indexOf('"'),i=t.indexOf('"',n+1);return t.substring(0,i+1)}i.log=Logger.get("ARTEMIS"),i.jmxDomain="org.apache.ARTEMIS",i.getSelectionQueuesFolder=function(e){var t=e.selection;return t?function e(t){if(t){if("Queues"===t.title||"Queue"===t.title)return t;var n=t.parent;if(n)return e(n)}return null}(t):null},i.getSelectionTopicsFolder=function(e){var t,n,i=e.selection;return i?(n=null,(t=i)&&("Topics"!==t.title&&"Topic"!==t.title||(n=t),null===n&&angular.forEach(t.children,function(e){"Topics"!==e.title&&"Topic"!==e.title||(n=e)})),n):null},i.selectCurrentMessage=function(e,t,n){"selectAll"in n.gridOptions?n.gridOptions.selectAll(!1):n.gridOptions.selectedItems.length=0;var i=Core.pathGet(e,["rowIndex"])||Core.pathGet(e,["index"]),r=Core.pathGet(e,["entity",t]);n.rowIndex=i;var o=n.gridOptions.selectedItems;o.splice(0,o.length),0<=i&&i<n.messages.length?(n.row=n.messages.find(function(e){return e[t]===r}),n.row&&o.push(n.row)):n.row=null},i.decorate=function(n){n.selectRowIndex=function(e){n.rowIndex=e;var t=n.gridOptions.selectedItems;t.splice(0,t.length),0<=e&&e<n.messages.length?(n.row=n.messages[e],n.row&&t.push(n.row)):n.row=null},n.$watch("showMessageDetails",function(){n.showMessageDetails||(n.row=null,n.gridOptions.selectedItems.splice(0,n.gridOptions.selectedItems.length))})},i.getAddressNid=function(e,t){var n=r(t)+'-addresses-"'+e.name+'"';return i.log.info("targetNID="+n),n},i.getQueueNid=function(e,t){return r(t)+'-addresses-"'+e.address+'"-queues-"'+e.routingType.toLowerCase()+'"-"'+e.name+'"'}}(ARTEMIS||(ARTEMIS={})),function(u){function e(e){e.expandAll=function(){Tree.expandAll("#artemistree")},e.contractAll=function(){Tree.contractAll("#artemistree")}}function t(o,a,s,e){var l=e.artemisJmxDomain||"org.apache.activemq.artemis";function t(){u.log.info("workspace tree has changed, lets reload the artemis tree");var e=[],t=s.tree;if(u.log.info("tree="+t),t){var n=l,i=t.get(n);u.log.info("folder="+i),i&&(e=i.children);var r=$("#artemistree");Jmx.enableTree(o,a,s,r,e,!0),setTimeout(c,50)}}function c(){Jmx.updateTreeSelectionFromURLAndAutoSelect(a,$("#artemistree"),function(e){var t=e.getChildren()[0];u.log.info("%%%%%%"+t);var n=t.getChildren()[0];return n&&"Queue"===n.data.title?((e=n).expand(!0),e):null},!0)}u.log.info("init tree "+l),o.$on("$routeChangeSuccess",function(e,t,n){setTimeout(c,50)}),o.$watch("workspace.tree",function(){t()}),o.$on("jmxTreeUpdated",function(){t()})}e.$inject=["$scope"],t.$inject=["$scope","$location","workspace","localStorage"],u.module.controller("ARTEMIS.TreeHeaderController",e),u.module.controller("ARTEMIS.TreeController",t)}(ARTEMIS||(ARTEMIS={}));var ARTEMIS=function(e){function t(e,t,n){Core.initPreferenceScope(e,t,{artemisUserName:{value:n.username},artemisPassword:{value:n.password},artemisDLQ:{value:"DLQ"},artemisExpiryQueue:{value:"ExpiryQueue"},artemisBrowseBytesMessages:{value:1,converter:parseInt,formatter:function(e){return""+e}}})}return t.$inject=["$scope","localStorage","userDetails"],e.module.controller("ARTEMIS.PreferencesController",t),e}(ARTEMIS||{}),ARTEMIS=function(u){function e(r,o,a,s,e){Core.initPreferenceScope(r,e,{routingType:{value:0,converter:parseInt,formatter:parseInt}});e.artemisJmxDomain;function i(){r.addressName="",r.workspace.operationCounter+=1,Core.$apply(r),Core.notification("success",r.message),r.workspace.loadTree()}function l(){o.removeAndSelectParentNode(),r.workspace.operationCounter+=1,Core.$apply(r),Core.notification("success",r.message),r.workspace.loadTree()}function c(e){var t=null,n=o.selection,i=n.folderNames;return t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"',u.log.info("broker="+t),t}r.workspace=o,r.message="",r.deleteDialog=!1,r.$watch("workspace.selection",function(){o.moveIfViewInvalid()}),r.createAddress=function(e,t){var n=c(s);n&&(0==t?(r.message="Created  Multicast Address "+e,u.log.info(r.message),a.artemisConsole.createAddress(n,s,e,"MULTICAST",Core.onSuccess(i))):1==t?(r.message="Created Anycast Address "+e,u.log.info(r.message),a.artemisConsole.createAddress(n,s,e,"ANYCAST",Core.onSuccess(i))):(r.message="Created Anycast/Multicast Address "+e,u.log.info(r.message),a.artemisConsole.createAddress(n,s,e,"ANYCAST,MULTICAST",Core.onSuccess(i))))},r.deleteAddress=function(){var e=o.selection,t=e.entries,n=c(s);if(u.log.info(n),n&&e&&s&&t){e.domain;var i=t.address;i=i.replace(/['"]+/g,""),i=a.artemisConsole.ownUnescape(i),u.log.info(i),'"'===i.charAt(0)&&'"'===i.charAt(i.length-1)&&(i=i.substr(1,i.length-2)),i=a.artemisConsole.ownUnescape(i),u.log.info(i),r.message="Deleted address "+i,a.artemisConsole.deleteAddress(n,s,i,Core.onSuccess(l))}},r.name=function(){var e=o.selection;return e?a.artemisConsole.ownUnescape(e.title):null}}return e.$inject=["$scope","workspace","ARTEMISService","jolokia","localStorage"],u.module.controller("ARTEMIS.AddressController",e),u}(ARTEMIS||{}),ARTEMIS=function(c){function e(n,t,r,i,e,o){e.artemisJmxDomain;function a(){Jmx.updateTreeSelectionFromURLAndAutoSelect(t,$("#artemistree"),function(e){var t=e.getChildren()[0];c.log.info("%%%%%%"+t);var n=t.getChildren()[0];return n&&"Queue"===n.data.title?((e=n).expand(!0),e):null},!0)}n.$on("$routeChangeSuccess",function(e,t,n){setTimeout(a,50)});n.filter={fieldOptions:[{id:"ID",name:"ID"},{id:"NAME",name:"Name"},{id:"ROUTING_TYPES",name:"Routing Types"},{id:"QUEUE_COUNT",name:"Queue Count"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"},{id:"GREATER_THAN",name:"Greater Than"},{id:"LESS_THAN",name:"Less Than"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"ID"}},o.address&&(n.filter.values.field=n.filter.fieldOptions[1].id,n.filter.values.operation=n.filter.operationOptions[0].id,n.filter.values.value=o.address.address,o.address=null),n.navigateToAddressAtts=function(e){t.path("jmx/attributes").search({tab:"artemis",nid:c.getAddressNid(e.entity,t)})},n.navigateToAddressOps=function(e){t.path("jmx/operations").search({tab:"artemis",nid:c.getAddressNid(e.entity,t)})},n.workspace=r,n.objects=[],n.totalServerItems=0,n.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};n.sortOptions={fields:["id"],columns:["id"],directions:["asc"]};function s(e){Core.notification("error","Could not retrieve address list from Artemis."),c.log.error(e.error)}function l(e){console.log("populateTable with response: "+e);var t=JSON.parse(e.value);n.objects=[],angular.forEach(t.data,function(e,t){n.objects.push(e)}),angular.forEach(n.objects,function(e){e.navigateToAddressOps=n.navigateToAddressOps,e.navigateToAddressAtts=n.navigateToAddressAtts}),n.totalServerItems=t.count,console.log("totalServerItems: ",n.totalServerItems),n.gridOptions.pagingOptions.currentPage=1,Core.$apply(n)}n.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:n.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"manage",displayName:"manage",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.navigateToAddressAtts(row)">attributes</a>&nbsp;<a href="" ng-click="row.entity.navigateToAddressOps(row)">operations</a></div>'},{field:"id",displayName:"ID",width:"*"},{field:"name",displayName:"Name",width:"*"},{field:"routingTypes",displayName:"Routing Types",width:"*",sortable:!1},{field:"queueCount",displayName:"Queue Count",width:"*",sortable:!1}],primaryKeyFn:function(e){return e.id},enableFiltering:!0,useExternalFiltering:!0,sortInfo:n.sortOptions,useExternalSorting:!0},n.refresh=function(){n.loadTable()},n.reset=function(){n.filter.values.field="",n.filter.values.operation="",n.filter.values.value="",n.loadTable()},n.loadTable=function(){n.filter.values.sortColumn=n.sortOptions.fields[0],n.filter.values.sortBy=n.sortOptions.directions[0],n.filter.values.sortOrder=n.sortOptions.directions[0];var e=function(e){var t=null,n=r.selection,i=n.folderNames;t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"';return c.log.info("broker="+t),t}();if(e.includes("undefined"))Core.notification("error","Could not retrieve address list. Wrong MBean selected.");else if(e){var t=JSON.stringify(n.filter.values);console.log("Filter string: "+t),i.request({type:"exec",mbean:e,operation:"listAddresses(java.lang.String, int, int)",arguments:[t,n.pagingOptions.currentPage,n.pagingOptions.pageSize]},Core.onSuccess(l,{error:s}))}},n.$watch("sortOptions",function(e,t){e!==t&&n.loadTable()},!0),n.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&n.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(n.pagingOptions.currentPage=1,n.loadTable())},!0),n.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisAddress"],c.module.controller("ARTEMIS.AddressesController",e),c}(ARTEMIS||{}),ARTEMIS=function(E){function e(b,w,a,l,c,u,e,t){var m=l.artemisJmxDomain||"org.apache.activemq.artemis",s={panel:!(b.selectedNode=null),popup:!1,label:!0,group:!1,profile:!1,slave:!1,broker:!0,network:!0,container:!1,address:!0,queue:!0,consumer:!0,producer:!0};b.viewSettings={},b.shapeSize={broker:20,queue:14,address:14};var d=Core.throttled(r,1e3),h=new ForceGraph.GraphBuilder;function o(e,t,n){void 0===n&&(n=null);var i="/jmx/attributes?tab=artemis";n||t&&(n="nid=root-"+m+"-Broker-"+t),n&&(i+="&"+n);var r=Core.url("/#"+i);window.open(r,"_destination"),window.focus()}function p(){var e=b.selectedNodeJolokia;e&&e!==u&&e.stop()}Core.bindModelToSearchParam(b,a,"searchFilter","q",""),angular.forEach(s,function(t,n){var i="viewSettings."+n;function r(){var e=a.search()[o]||t;return"false"!==e&&e}var o=n,e=r();Core.pathSet(b,i,e),b.$watch(i,function(){var e=Core.pathGet(b,i);e!==r()&&(e!==s[n]?(e||(e="false"),a.search(o,e)):a.search(o,null));d()})}),b.connectToBroker=function(){var e=b.selectedNode;e&&o(e.brokerContainer||e,e.brokerName)},b.connectToDestination=function(){var e=b.selectedNode;if(e){e.brokerContainer;var t=e.brokerName,n=e.destinationType||e.typeLabel,i=e.destinationName,r=null;t&&n&&i&&(r="nid=root-"+m+"-Broker-"+t+"-"+n+"-"+i),o(0,t,r)}},b.$on("$destroy",function(e){p()}),b.$watch("selectedNode",function(e,t){b.unregisterFn&&(b.unregisterFn(),b.unregisterFn=null);var n=b.selectedNode;if(n){var i=n.objectName,r=n.brokerContainer||{},o=n.jolokia||r.jolokia||u;if(o!==b.selectedNodeJolokia&&(p(),(b.selectedNodeJolokia=o)!==u)){var a=Core.parseIntValue(l.updateRate||"2000","update rate");a&&o.start(a)}var s={value:n.panelProperties||{}};i&&o?(E.log.debug("reading ",i," on remote container"),b.unregisterFn=Core.register(o,b,{type:"read",mbean:i},Core.onSuccess(f,{error:function(e){f(s),Core.defaultJolokiaErrorHandler(e)}}))):(E.log.debug("no mbean or jolokia available, using dummy response"),f(s))}});var x=["Broker","BrokerId","BrokerName","Connection","DestinationName","DestinationQueue","DestinationTemporary","DestinationTopic"],C={producer:["Producer","ProducerId"],queue:["Name","MessageGroups","MessageGroupType","Subscriptions"],topic:["Name","Subscriptions"],broker:["DataDirectory","DurableTopicSubscriptions","DynamicDestinationProducers","InactiveDurableToppicSubscribers"]},n=["Version","Started"],S={broker:n,brokerSlave:n};function f(e){var t,i=[];if(e){var n=e.value||{};b.selectedNodeAttributes=n;var r=b.selectedNode||{},o=r.brokerContainer||{},a=r.type,s=r.brokerName,l=r.container||o.container,c=(r.group||o.group,r.jolokiaUrl||o.jolokiaUrl,r.profile||o.profile,r.version||o.version,a&&a.startsWith("broker")),u=x.concat(C[a]||[]),d=S[a];angular.forEach(n,function(e,t){if(d?0<=d.indexOf(t):u.indexOf(t)<0){var n=Core.humanizeValueHtml(e);i.push({key:Core.humanizeValue(t),value:n})}});var h=null;if(s)h={key:"Broker",value:g=w('<a target="broker" ng-click="connectToBroker()"><img title="Apache Artemis" src="img/icons/messagebroker.svg"> '+s+"</a>")(b)},c||i.splice(0,0,h);l&&i.splice(0,0,{key:"Container",value:w('<div fabric-container-link="'+r.container+'"></div>')(b)});var p=n.DestinationName||r.destinationName;if(p&&"queue"!==a&&"topic"!==a){var f=((t=n).DestinationTemporary?"Temporary ":"")+(t.DestinationTopic?"Topic":"Queue"),g=k(p,f);i.splice(0,0,{key:f,value:g})}var m=r.typeLabel,v=r.name||r.id||r.objectName;if(m){g=v;"queue"!==a&&"topic"!==a||(g=k(v,a));var y={key:m,value:g};c&&h&&(y=h),i.splice(0,0,y)}}b.selectedNodeProperties=i,Core.$apply(b)}function k(e,t){return void 0===t&&(t="queue"),w('<a target="destination" title="'+e+'" ng-click="connectToDestination()">'+e+"</a>")(b)}function i(){var s={jolokia:u};b.activeContainers={containerId:s};var l=[];u.search(m+":broker=*",Core.onSuccess(function(e){var i;angular.forEach(e,function(e){var t=c.artemisConsole.getServerAttributes(u,e).value,n=Core.parseMBean(e);if(n){var i=n.attributes;if(E.log.info("Got broker: "+e+" on container: local properties: "+angular.toJson(i,!0)),i){var r=i.broker||"unknown",o=t.NodeID,a={brokerId:r,nodeId:o};if(l.push(a),b.viewSettings.broker)_(!0,r,o,"local",s,i)}}}),i=l,angular.forEach(b.activeContainers,function(e,t){var n=e.jolokia;n&&function(f,g,e,t){function n(t){b.viewSettings.queue?f.search(m+":*,subcomponent=queues",Core.onSuccess(function(e){angular.forEach(e,function(e){var t,n,i,r,o,a,s,l=Core.parseMBean(e);if(l){var c=l.attributes;if(c){A(c);var u=c.broker,d=c.address,h=c.queue,p=c["routing-type"];t=c,i=p,r=h,o=d,a=u,(s=T((n="queue").toLowerCase(),r,t,function(){var e="";o&&(e=m+":broker="+a+",component=addresses,address="+o+",subcomponent=queues,routing-type="+i+",queue="+r),E.log.info(e);var t={typeLabel:n,brokerContainer:g,objectName:e,jolokia:f,popup:{title:"queue: "+r,content:"address:"+o}};return o||f.search(m+":broker="+a+",component=addresses,address="+o+",subcomponent=queues,routing-type="+i+",queue="+r+",*",Core.onSuccess(function(e){e&&e.length&&(t.objectName=e[0])})),t}))&&b.viewSettings.broker&&o&&D("address:"+o,s.id,"queue")}}}),y(),i(t)})):i(t)}function i(e){angular.forEach(e,function(r){mBean=m+":broker="+r.brokerId,b.viewSettings.consumer&&c.artemisConsole.getConsumers(mBean,f,Core.onSuccess(function(e){consumers=e.value,E.log.info(consumers),angular.forEach(angular.fromJson(consumers),function(e){if(e){A(e);var t=e.sessionID+"-"+e.consumerID;if(t){var n=e.queueName,i=T("consumer",t,e,function(){return{typeLabel:"Consumer",brokerContainer:g,jolokia:f,popup:{title:"Consumer: "+t,content:"<p>client: "+(e.connectionID||"")+"</p> "+v(r.brokerId)}}});D('queue:"'+n+'"',i.id,"consumer")}}}),y()})),b.viewSettings.network&&b.viewSettings.broker&&c.artemisConsole.getRemoteBrokers(mBean,f,Core.onSuccess(function(n){remoteBrokers=n.value,E.log.info("remoteBrokers="+angular.toJson(remoteBrokers)),angular.forEach(angular.fromJson(remoteBrokers),function(e){if(e)if(E.log.info("remote="+angular.toJson(e)),r.nodeId!=e.nodeID){_(!0,'"'+e.live+'"',e.nodeID,"remote",null,n),D("broker:"+r.brokerId,'broker:"'+e.live+'"',"network");var t=e.backup;t&&(_(!1,'"'+t+'"',e.nodeID,"remote",null,n),D('broker:"'+e.live+'"','broker:"'+t+'"',"network"))}else{var t=e.backup;t&&(_(!1,'"'+e.backup+'"',e.nodeID,"remote",null,n),D("broker:"+r.brokerId,'broker:"'+e.backup+'"',"network"))}}),y()}))})}var r;f&&(g.jolokia=f,r=t,b.viewSettings.address?f.search(m+":*,component=addresses",Core.onSuccess(function(e){angular.forEach(e,function(e){var t,n,i,r,o,a,s=Core.parseMBean(e);if(s){var l=s.attributes;if(l){var c=l.broker,u=l.address;t=l,i=u,r=c,(a=T((n="address").toLowerCase(),i,t,function(){var e="";r&&(e=m+":broker="+r+",component=addresses,address="+i);var t={typeLabel:n,brokerContainer:g,objectName:e,jolokia:f,popup:{title:n+": "+i,content:v(r)}};return r||f.search(m+":broker="+r+",component=addresses,address="+i+",*",Core.onSuccess(function(e){e&&e.length&&(t.objectName=e[0])})),t}))&&b.viewSettings.broker&&r&&D((o=r)?"broker:"+o:null,a.id,"address")}}}),n(r),y()})):n(r))}(n,e,0,i)}),b.graph=h.buildGraph(),Core.$apply(b)}))}function r(){h=new ForceGraph.GraphBuilder,i()}function v(e){return e?"<p></p>broker: "+e+"</p>":""}function y(){b.graph=h.buildGraph(),Core.$apply(b)}function _(e,t,n,i,r,o){var a=null;return(e?b.viewSettings.broker:b.viewSettings.slave)&&((a=T("broker",t,o,function(){return{type:e?"broker":"brokerSlave",typeLabel:e?"Broker":"Slave Broker",popup:{title:(e?"Master":"Slave")+" Broker: "+t,content:"<p>Container: "+i+"</p> Node ID: "+n}}})).objectName||(a.objectName=m+":broker="+t,E.log.debug("Guessed broker mbean: "+a.objectName)),!a.brokerContainer&&r&&(a.brokerContainer=r),a.nodeID||(a.nodeID=n)),a}function T(e,t,n,i){var r=null;if(t){var o=e+":"+t;if(!(r=h.getNode(o))){var a=i();if(r=angular.copy(n),angular.forEach(a,function(e,t){return r[t]=e}),r.id=o,r.type||(r.type=e),r.name||(r.name=t),r){var s=b.shapeSize[e];s&&!r.size&&(r.size=s),r.summary||(r.summary=r.popup||""),b.viewSettings.popup||delete r.popup,b.viewSettings.label||delete r.name;var l=b.viewSettings[e];!l&&angular.isDefined(l)||h.addNode(r)}}}return r}function D(e,t,n){E.log.info("adding "+e+" to "+t+" "+n),e&&t&&h.addLink(e,t,n)}function A(e){var t;(t=e).mbeanType=t.type,delete t.type;var n=(e.destinationType||"Queue").toLowerCase();e.isQueue=!n.startsWith("t"),e.destType=n}b.$watch("searchFilter",function(e,t){d()}),b.$watch("workspace.tree",function(){d()}),b.$on("jmxTreeUpdated",function(){d()})}return e.$inject=["$scope","$compile","$location","localStorage","ARTEMISService","jolokia","workspace","$routeParams"],E.module.controller("ARTEMIS.BrokerDiagramController",e),E}(ARTEMIS||{}),ARTEMIS=function(b){function e(a,s,l,c,u,n,o,e){a.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1},a.totalServerItems=0,a.searchText="",a.allMessages=[],a.messages=[],a.headers={},a.mode="text",a.deleteDialog=!1,a.moveDialog=!1,a.gridOptions={$gridScope:{allSelected:!1},pagingOptions:a.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",showFooter:!0,selectedItems:[],data:"messages",displayFooter:!1,showFilter:!1,showColumnMenu:!0,enableColumnResize:!0,enableColumnReordering:!0,enableHighlighting:!0,filterOptions:{filterText:"",useExternalFilter:!0},selectWithCheckboxOnly:!0,showSelectionCheckbox:!0,maintainColumnRatios:!1,columnDefs:[{field:"messageID",displayName:"Message ID",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.openMessageDialog(row)">{{row.entity.messageID}}</a></div>',width:"10%"},{field:"userID",displayName:"User ID",width:"10%"},{field:"type",displayName:"Type",width:"10%"},{field:"durable",displayName:"Durable",width:"10%"},{field:"priority",displayName:"Priority",width:"7%"},{field:"timestamp",displayName:"Timestamp",width:"19%"},{field:"expiration",displayName:"Expires",width:"10%"},{field:"redelivered",displayName:"Redelivered",width:"10%"}],primaryKeyFn:function(e){return e.messageID},afterSelectionChange:function(e,t){a.gridOptions.$gridScope.allSelected=void 0===t?e.config.selectedItems.length==a.messages.length:t}},a.showMessageDetails=!1;var f=["PropertiesText","BodyPreview","text","openMessageDialog"],g=["BooleanProperties","ByteProperties","ShortProperties","IntProperties","LongProperties","FloatProperties","DoubleProperties","StringProperties"];function d(e){var t=e.value;b.log.info("loading data:"+t),angular.isArray(t)?a.allMessages=t:(a.allMessages=[],angular.forEach(t,function(e,t){a.allMessages.push(e)})),angular.forEach(a.allMessages,function(e){e.openMessageDialog=a.openMessageDialog,e.headerHtml=function(e){var n=(a=e,s={},angular.forEach(a,function(e,t){_.some(f,function(e){return e===t})||_.some(g,function(e){return e===t})||(s[_.escape(t)]=_.escape(e))}),s),i=(r=e,o={},angular.forEach(r,function(e,n){!_.some(f,function(e){return e===n})&&_.some(g,function(e){return e===n})&&angular.forEach(e,function(e,t){o['<span class="green">'+n.replace("Properties"," Property")+"</span> - "+_.escape(t)]=_.escape(e)})}),o),t=_.keys(n);var r,o;var a,s;function l(e,t){return t<e?1:e<t?-1:0}var c=_.keys(i).sort(l),u=_.filter(t,function(e){return _.startsWith(e,"JMS")}).sort(l),d=_.difference(t,u.concat(c)).sort(l),h=[];function p(e){var t=n[e];null===t&&(t=""),h.push('<tr><td class="propertyName"><span class="green">Header</span> - '+e+'</td><td class="property-value">'+t+"</td></tr>")}return u.forEach(p),d.forEach(p),c.forEach(function(e){var t=i[e];null===t&&(t=""),h.push('<tr><td class="propertyName">'+e+'</td><td class="property-value">'+t+"</td></tr>")}),h.join("\n")}(e),e.bodyText=function(e){{if(b.log.info("loading message:"+e),e.text){var t=e.text,n=""+t.length;return e.textMode="text ("+n+" chars)",t}if(e.BodyPreview){var i=Core.parseIntValue(u.ARTEMISBrowseBytesMessages||"1","browse bytes messages");if(e.textMode="bytes (turned off)",99!=i){var r=[],o=[];e.BodyPreview.forEach(function(e){if(1!==i&&2!==i||o.push(String.fromCharCode(e)),1===i||4===i){var t=e.toString(16);1===t.length&&(t="0"+t),r.push(t)}else{var t=e.toString(10);r.push(t)}});var a=r.join(" "),s=o.join("");if(1===i||2===i){var l=e.BodyPreview.length,n=""+o.length;t="bytes:\n"+a+"\n\ntext:\n"+s,e.textMode="bytes ("+l+" bytes) and text ("+n+" chars)"}else{var l=e.BodyPreview.length;t=a,e.textMode="bytes ("+l+" bytes)"}}return t}return e.textMode="unsupported","Unsupported message body type which cannot be displayed by hawtio"}}(e)}),r(a.gridOptions.filterOptions.filterText),Core.$apply(a)}function i(){var e;if(b.log.info("loading table"),a.gridOptions.selectedItems.length=0,s.selection)e=s.selection.objectName;else{var t=o.search().nid;e=s.keyToNodeMap[t].objectName}if(e){a.dlq=!1;var n=c.getAttribute(e,"Name"),i=u.artemisDLQ||"DLQ",r=u.artemisExpiryQueue||"ExpiryQueue";b.log.info("loading table"+r),h(n==i||n==r),c.request({type:"exec",mbean:e,operation:"countMessages()"},Core.onSuccess(function(e){a.totalServerItems=e.value})),c.request({type:"exec",mbean:e,operation:"browse(int, int)",arguments:[a.pagingOptions.currentPage,a.pagingOptions.pageSize]},Core.onSuccess(d))}}function h(e){b.log.info("onDLQ="+e),a.dlq=e,Core.$apply(a)}function p(){}function m(){a.messageDialog=!1,a.gridOptions.$gridScope.allSelected=!1,Core.notification("success",a.message),i(),setTimeout(i,50)}function v(){m(),s.loadTree()}function r(e){var t,n=function(e){var t,n=[];if(!(t=$.trim(e)))return;for(var i=t.split(";"),r=0;r<i.length;r++){var o=i[r].split(":");if(1<o.length){var a=$.trim(o[0]),s=$.trim(o[1]);a&&s&&n.push({column:a,columnDisplay:a.replace(/\s+/g,"").toLowerCase(),regex:y(s,"i")})}else{var l=$.trim(o[0]);l&&n.push({column:"",regex:y(l,"i")})}}return n}(e);(t=n)&&0!==t.length?(b.log.debug("Filtering conditions:",t),a.messages=a.allMessages.filter(function(n){b.log.debug("Message:",n);var i=!0;return $.each(t,function(e,t){i=t.column?i&&n[t.column]&&t.regex.test(n[t.column])||n.StringProperties&&n.StringProperties[t.column]&&t.regex.test(n.StringProperties[t.column]):i&&function(e,t){for(var n=["JMSDestination","JMSDeliveryMode","JMSExpiration","JMSPriority","JMSmessageID","JMSTimestamp","JMSCorrelationID","JMSReplyTo","JMSType","JMSRedelivered"],i=0;i<n.length;i++){var r=n[i];if(e[r]&&t.test(e[r]))return!0}if(e.StringProperties)for(var o in e.StringProperties)if(t.test(e.StringProperties[o]))return!0;return!(!e.bodyText||!t.test(e.bodyText))}(n,t.regex)}),i})):a.messages=a.allMessages}function y(t,e){try{return new RegExp(t,e)}catch(e){return new RegExp(t.replace(/(\^|\$|\(|\)|<|>|\[|\]|\{|\}|\\|\||\.|\*|\+|\?)/g,"\\$1"))}}a.$watch("workspace.selection",function(){s.moveIfViewInvalid()||setTimeout(i,50)}),a.$watch("gridOptions.filterOptions.filterText",function(e){r(e)}),a.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&i(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(a.pagingOptions.currentPage=1,i())},!0),a.openMessageDialog=function(e){b.selectCurrentMessage(e,"messageID",a),a.row&&(a.mode=CodeEditor.detectTextFormat(a.row.Text),a.showMessageDetails=!0)},a.refresh=i,b.decorate(a),a.moveMessages=function(){var e=s.selection,r=e.objectName;if(r&&e){var o=a.gridOptions.selectedItems;a.message="Moved "+Core.maybePlural(o.length,"message to "+a.queueName),angular.forEach(o,function(e,t){var n=e.messageID;if(n){var i=t+1<o.length?p:v;l.artemisConsole.moveMessage(r,c,n,a.queueName,Core.onSuccess(i))}})}},a.resendMessage=function(){var e=s.selection;if(e.objectName&&e){var t=a.gridOptions.selectedItems;n.message=t[0],o.path("artemis/sendMessage")}},a.deleteMessages=function(){var e=s.selection,r=e.objectName;if(r&&e){var o=a.gridOptions.selectedItems;a.message="Deleted "+Core.maybePlural(o.length,"message"),angular.forEach(o,function(e,t){var n=e.messageID;if(n){var i=t+1<o.length?p:m;l.artemisConsole.deleteMessage(r,c,n,Core.onSuccess(i))}})}},a.retryMessages=function(){var e=s.selection,r=e.objectName;if(r&&e){var o=a.gridOptions.selectedItems;a.message="Retry "+Core.maybePlural(o.length,"message");angular.forEach(o,function(e,t){var n=e.messageID;if(n){var i=t+1<o.length?p:m;c.execute(r,"retryMessage(java.lang.String)",n,Core.onSuccess(i)),l.artemisConsole.retryMessage(r,c,n,Core.onSuccess(i))}})}},a.queueNames=function(e){var t=b.getSelectionQueuesFolder(s);if(t){var n=s.selection.key,i=t.children.exclude(function(e){return e.key==n});return i?i.map(function(e){return e.title}):[]}return[]}}return e.$inject=["$scope","workspace","ARTEMISService","jolokia","localStorage","artemisMessage","$location","$timeout"],b.module.controller("ARTEMIS.BrowseQueueController",e),b}(ARTEMIS||{}),ARTEMIS=function(h){function e(n,t,r,i,e,o,a){e.artemisJmxDomain;var s="connection";n.filter={fieldOptions:[{id:"CONNECTION_ID",name:"Connection ID"},{id:"CLIENT_ID",name:"Client ID"},{id:"USERS",name:"Users"},{id:"PROTOCOL",name:"Protocol"},{id:"SESSION_COUNT",name:"Session Count"},{id:"REMOTE_ADDRESS",name:"Remote Address"},{id:"LOCAL_ADDRESS",name:"Local Address"},{id:"SESSION_ID",name:"Session ID"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"},{id:"GREATER_THAN",name:"Greater Than"},{id:"LESS_THAN",name:"Less Than"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"connectionID"}},a.session&&(n.filter.values.field=n.filter.fieldOptions[0].id,n.filter.values.operation=n.filter.operationOptions[0].id,n.filter.values.value=a.session.connectionID,a.session=null),n.selectSessions=function(e){o.connection=e.entity,t.path("artemis/sessions")},n.closeConnection=function(){var e=n.gridOptions.selectedItems[0].connectionID;if(h.log.info("closing connection: "+e),r.selection){var t=d(i);t&&i.request({type:"exec",mbean:t,operation:"closeConnectionWithID(java.lang.String)",arguments:[e]},onSuccess(n.loadTable(),{error:function(e){Core.defaultJolokiaErrorHandler("Could not close connection: "+e)}}))}},n.workspace=r,n.objects=[],n.totalServerItems=0,n.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};var l=!(n.sortOptions={fields:["connectionID"],columns:["connectionID"],directions:["asc"]});function c(e){Core.notification("error","Could not retrieve "+s+" list from Artemis."),h.log.error(e.error)}function u(e){n.gridOptions.selectedItems.length=0,n.showClose=!1;var t=JSON.parse(e.value);n.objects=[],angular.forEach(t.data,function(e,t){n.objects.push(e)}),angular.forEach(n.objects,function(e){e.selectSessions=n.selectSessions}),n.totalServerItems=t.count,1==l&&(n.gridOptions.pagingOptions.currentPage=1,l=!1),Core.$apply(n)}function d(e){var t=null,n=r.selection,i=n.folderNames;return t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"',h.log.info("broker="+t),t}n.showClose=!1,n.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:n.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"connectionID",displayName:"ID",width:"*"},{field:"clientID",displayName:"Client ID",width:"*"},{field:"users",displayName:"Users",width:"*"},{field:"protocol",displayName:"Protocol",width:"*"},{field:"sessionCount",displayName:"Session Count",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectSessions(row)">{{row.entity.sessionCount}}</a></div>',sortable:!1},{field:"remoteAddress",displayName:"Remote Address",width:"*"},{field:"localAddress",displayName:"Local Address",width:"*"},{field:"creationTime",displayName:"Creation Time",width:"*"}],primaryKeyFn:function(e){return e.connectionID},enableFiltering:!0,useExternalFiltering:!0,sortInfo:n.sortOptions,useExternalSorting:!0},n.refresh=function(){l=!0,n.loadTable()},n.reset=function(){n.filter.values.field="",n.filter.values.operation="",n.filter.values.value="",n.loadTable()},n.loadTable=function(){n.filter.values.sortColumn=n.sortOptions.fields[0],n.filter.values.sortBy=n.sortOptions.directions[0],n.filter.values.sortOrder=n.sortOptions.directions[0];var e=d(i);if(e.includes("undefined"))Core.notification("error","Could not retrieve "+s+" list. Wrong MBean selected.");else if(e){var t=JSON.stringify(n.filter.values);console.log("Filter string: "+t),i.request({type:"exec",mbean:e,operation:"listConnections(java.lang.String, int, int)",arguments:[t,n.pagingOptions.currentPage,n.pagingOptions.pageSize]},Core.onSuccess(u,{error:c}))}},n.selectGridRow=function(){n.showClose=0<n.gridOptions.selectedItems.length},n.$watch("sortOptions",function(e,t){e!==t&&n.loadTable()},!0),n.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&n.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(n.pagingOptions.currentPage=1,n.loadTable())},!0),n.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisConnection","artemisSession"],h.module.controller("ARTEMIS.ConnectionsController",e),h}(ARTEMIS||{}),ARTEMIS=function(p){function e(i,t,r,o,e,n,a,s,l){e.artemisJmxDomain;i.filter={fieldOptions:[{id:"ID",name:"ID"},{id:"SESSION_ID",name:"Session ID"},{id:"CLIENT_ID",name:"Client ID"},{id:"USER",name:"User"},{id:"ADDRESS",name:"Address"},{id:"QUEUE",name:"Queue"},{id:"PROTOCOL",name:"Protocol"},{id:"REMOTE_ADDRESS",name:"Remote Address"},{id:"LOCAL_ADDRESS",name:"Local Address"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"id"}},i.selectSession=function(e){a.consumer=e.entity,t.path("artemis/sessions")},i.selectQueue=function(e){s.queue=e.entity,t.path("artemis/queues")},i.selectAddress=function(e){l.address=e.entity,t.path("artemis/addresses")},n.session&&(i.filter.values.field=i.filter.fieldOptions[1].id,i.filter.values.operation=i.filter.operationOptions[0].id,i.filter.values.value=n.session.id,n.session=null),n.session=null,i.closeConsumer=function(){var e=i.gridOptions.selectedItems[0].id,t=i.gridOptions.selectedItems[0].session;if(p.log.info("closing session: "+t),r.selection){var n=h(o);n&&o.request({type:"exec",mbean:n,operation:"closeConsumerWithID(java.lang.String, java.lang.String)",arguments:[t,e]},Core.onSuccess(i.loadTable(),{error:function(e){Core.defaultJolokiaErrorHandler("Could not close consumer: "+e)}}))}},i.workspace=r,i.objects=[],i.totalServerItems=0,i.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};var c=!(i.sortOptions={fields:["id"],columns:["id"],directions:["asc"]});function u(e){Core.notification("error","Could not retrieve consumer list from Artemis."),p.log.error(e.error)}function d(e){i.gridOptions.selectedItems.length=0,i.showClose=!1;var t=JSON.parse(e.value);i.objects=[],angular.forEach(t.data,function(e,t){i.objects.push(e)}),angular.forEach(i.objects,function(e){e.selectSession=i.selectSession,e.selectQueue=i.selectQueue,e.selectAddress=i.selectAddress}),i.totalServerItems=t.count,1==c&&(i.gridOptions.pagingOptions.currentPage=1,c=!1),Core.$apply(i)}function h(e){var t=null,n=r.selection,i=n.folderNames;return t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"',p.log.info("broker="+t),t}i.showClose=!1,i.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:i.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"id",displayName:"ID",width:"*"},{field:"session",displayName:"Session",width:"*",cellTemplate:'<div class="ngCellText"><a href = "" ng-click="row.entity.selectSession(row)">{{row.entity.session}}</a></div>'},{field:"clientID",displayName:"Client ID",width:"*"},{field:"protocol",displayName:"Protocol",width:"*"},{field:"queue",displayName:"Queue",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectQueue(row)">{{row.entity.queue}}</a></div>'},{field:"queueType",displayName:"Queue Type",width:"*"},{field:"address",displayName:"Address",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectAddress(row)">{{row.entity.address}}</a></div>'},{field:"remoteAddress",displayName:"Remote Address",width:"*"},{field:"localAddress",displayName:"Local Address",width:"*"},{field:"creationTime",displayName:"Creation Time",width:"*"}],primaryKeyFn:function(e){return e.id},enableFiltering:!0,useExternalFiltering:!0,sortInfo:i.sortOptions,useExternalSorting:!0},i.refresh=function(){c=!0,i.loadTable()},i.reset=function(){i.filter.values.field="",i.filter.values.operation="",i.filter.values.value="",i.loadTable()},i.loadTable=function(){i.filter.values.sortColumn=i.sortOptions.fields[0],i.filter.values.sortBy=i.sortOptions.directions[0],i.filter.values.sortOrder=i.sortOptions.directions[0];var e=h(o);if(e.includes("undefined"))Core.notification("error","Could not retrieve consumer list. Wrong MBean selected.");else if(e){var t=JSON.stringify(i.filter.values);console.log("Filter string: "+t),o.request({type:"exec",mbean:e,operation:"listConsumers(java.lang.String, int, int)",arguments:[t,i.pagingOptions.currentPage,i.pagingOptions.pageSize]},Core.onSuccess(d,{error:u}))}},i.selectGridRow=function(){i.showClose=0<i.gridOptions.selectedItems.length},i.$watch("sortOptions",function(e,t){e!==t&&i.loadTable()},!0),i.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&i.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(i.pagingOptions.currentPage=1,i.loadTable())},!0),i.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisSession","artemisConsumer","artemisQueue","artemisAddress"],p.module.controller("ARTEMIS.ConsumersController",e),p}(ARTEMIS||{}),ARTEMIS=function(d){function e(n,t,r,i,e,o,a,s){e.artemisJmxDomain;n.filter={fieldOptions:[{id:"ID",name:"ID"},{id:"SESSION_ID",name:"Session ID"},{id:"CLIENT_ID",name:"Client ID"},{id:"USER",name:"User"},{id:"ADDRESS",name:"Address"},{id:"PROTOCOL",name:"Protocol"},{id:"REMOTE_ADDRESS",name:"Remote Address"},{id:"LOCAL_ADDRESS",name:"Local Address"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"id"}},n.selectAddress=function(e){o.address=e.entity,t.path("artemis/addresses")},n.selectSession=function(e){s.producer=e.entity,t.path("artemis/sessions")},a.session&&(n.filter.values.field=n.filter.fieldOptions[1].id,n.filter.values.operation=n.filter.operationOptions[0].id,n.filter.values.value=a.session.id,a.session=null),n.workspace=r,n.objects=[],n.totalServerItems=0,n.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};var l=!(n.sortOptions={fields:["id"],columns:["id"],directions:["asc"]});function c(e){Core.notification("error","Could not retrieve producer list from Artemis."),d.log.error(e.error)}function u(e){var t=JSON.parse(e.value);n.objects=[],angular.forEach(t.data,function(e,t){n.objects.push(e)}),angular.forEach(n.objects,function(e){e.selectSession=n.selectSession,e.selectAddress=n.selectAddress}),n.totalServerItems=t.count,1==l&&(n.gridOptions.pagingOptions.currentPage=1,l=!1),Core.$apply(n)}n.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:n.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"id",displayName:"ID",width:"*"},{field:"session",displayName:"Session",width:"*",sortable:!1,cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectSession(row)">{{row.entity.session}}</a></div>'},{field:"clientID",displayName:"Client ID",sortable:!1,width:"*"},{field:"protocol",displayName:"Protocol",width:"*",sortable:!1},{field:"user",displayName:"User",width:"*",sortable:!1},{field:"address",displayName:"Address",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectAddress(row)">{{row.entity.address}}</a></div>'},{field:"remoteAddress",displayName:"Remote Address",width:"*",sortable:!1},{field:"localAddress",displayName:"Local Address",width:"*",sortable:!1}],primaryKeyFn:function(e){return e.id},enableFiltering:!0,useExternalFiltering:!0,sortInfo:n.sortOptions,useExternalSorting:!0},n.refresh=function(){l=!0,n.loadTable()},n.reset=function(){n.filter.values.field="",n.filter.values.operation="",n.filter.values.value="",n.loadTable()},n.loadTable=function(){n.filter.values.sortColumn=n.sortOptions.fields[0],n.filter.values.sortBy=n.sortOptions.directions[0],n.filter.values.sortOrder=n.sortOptions.directions[0];var e=function(e){var t=null,n=r.selection,i=n.folderNames;t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"';return d.log.info("broker="+t),t}();if(e.includes("undefined"))Core.notification("error","Could not retrieve producer list. Wrong MBean selected.");else if(e){var t=JSON.stringify(n.filter.values);console.log("Filter string: "+t),i.request({type:"exec",mbean:e,operation:"listProducers(java.lang.String, int, int)",arguments:[t,n.pagingOptions.currentPage,n.pagingOptions.pageSize]},Core.onSuccess(u,{error:c}))}},n.$watch("sortOptions",function(e,t){e!==t&&n.loadTable()},!0),n.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&n.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(n.pagingOptions.currentPage=1,n.loadTable())},!0),n.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisAddress","artemisSession","artemisProducer"],d.module.controller("ARTEMIS.ProducersController",e),d}(ARTEMIS||{}),ARTEMIS=function(f){function e(l,c,u,d,e){Core.initPreferenceScope(l,e,{durable:{value:!0,converter:Core.parseBooleanValue},routingType:{value:0,converter:parseInt,formatter:parseInt},maxConsumers:{value:-1,converter:parseInt,formatter:parseInt},purgeWhenNoConsumers:{value:!1,converter:Core.parseBooleanValue}});e.artemisJmxDomain;function h(){l.queueName="",l.workspace.operationCounter+=1,Core.$apply(l),Core.notification("success",l.message),l.workspace.loadTree()}function o(){c.removeAndSelectParentNode(),l.workspace.operationCounter+=1,Core.$apply(l),Core.notification("success",l.message),l.workspace.loadTree()}function p(e){var t=null,n=c.selection,i=n.folderNames;return t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"',f.log.info("broker="+t),t}l.workspace=c,l.message="",l.queueType="true",l.deleteDialog=!1,l.purgeDialog=!1,l.$watch("workspace.selection",function(){c.moveIfViewInvalid()}),l.createQueue=function(e,t,n,i,r,o){var a=p(d);if(a){var s=c.selection.entries.address;'"'===s.charAt(0)&&'"'===s.charAt(s.length-1)&&(s=s.substr(1,s.length-2)),l.message="Created queue "+e+" durable="+n+" filter="+i+" on address "+s,0==t?(f.log.info(l.message),u.artemisConsole.createQueue(a,d,s,"MULTICAST",e,n,i,r,o,Core.onSuccess(h))):(f.log.info(l.message),u.artemisConsole.createQueue(a,d,s,"ANYCAST",e,n,i,r,o,Core.onSuccess(h))),f.log.info("executed")}},l.deleteDestination=function(e){var t=c.selection,n=t.entries,i=p(d);if(f.log.info(i),i&&t&&d&&n){t.domain;var r=n.Destination||n.destinationName||t.title;r=r.replace(/['"]+/g,""),r=u.artemisConsole.ownUnescape(r),f.log.info(r),e?(l.message="Deleted queue "+r,u.artemisConsole.deleteQueue(i,d,r,Core.onSuccess(o))):(l.message="Deleted topic "+r,u.artemisConsole.deleteTopic(i,d,r,Core.onSuccess(o)))}},l.purgeDestination=function(){var e=c.selection,t=e.entries,n=e.objectName;if(n&&e&&d&&t){var i=t.Destination||t.destinationName||e.title;i=i.replace(/['"]+/g,""),i=u.artemisConsole.ownUnescape(i),f.log.info(i);l.message="Purged queue "+i,u.artemisConsole.purgeQueue(n,d,Core.onSuccess(o))}},l.name=function(){var e=c.selection;return e?u.artemisConsole.ownUnescape(e.title):null}}return e.$inject=["$scope","workspace","ARTEMISService","jolokia","localStorage"],f.module.controller("ARTEMIS.QueueController",e),f}(ARTEMIS||{}),ARTEMIS=function(u){function e(n,t,r,i,e,o,a){e.artemisJmxDomain;n.filter={fieldOptions:[{id:"ID",name:"ID"},{id:"NAME",name:"Name"},{id:"CONSUMER_ID",name:"Consumer ID"},{id:"ADDRESS",name:"Address"},{id:"FILTER",name:"Filter"},{id:"MAX_CONSUMERS",name:"maxConsumers"},{id:"ROUTING_TYPE",name:"Routing Type"},{id:"PURGE_ON_NO_CONSUMERS",name:"Purge On No Consumers"},{id:"USER",name:"User"},{id:"MESSAGE_COUNT",name:"Message Count"},{id:"DELIVERING_COUNT",name:"Delivering Count"},{id:"PAUSED",name:"Paused"},{id:"TEMPORARY",name:"Temporary"},{id:"AUTO_CREATED",name:"Auto Created"},{id:"RATE",name:"Rate"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"},{id:"GREATER_THAN",name:"Greater Than"},{id:"LESS_THAN",name:"Less Than"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"id"}},a.queue&&(n.filter.values.field=n.filter.fieldOptions[1].id,n.filter.values.operation=n.filter.operationOptions[0].id,n.filter.values.value=a.queue.queue,a.queue=null),o.session=null,n.navigateToQueueAtts=function(e){t.path("jmx/attributes").search({tab:"artemis",nid:u.getQueueNid(e.entity,t)})},n.navigateToQueueOps=function(e){t.path("jmx/operations").search({tab:"artemis",nid:u.getQueueNid(e.entity,t)})},n.workspace=r,n.objects=[],n.totalServerItems=0,n.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};var s=!(n.sortOptions={fields:["id"],columns:["id"],directions:["asc"]});function l(e){Core.notification("error","Could not retrieve queue list from Artemis."),u.log.error(e.error)}function c(e){var t=JSON.parse(e.value);n.objects=[],angular.forEach(t.data,function(e,t){n.objects.push(e)}),angular.forEach(n.objects,function(e){e.navigateToQueueAtts=n.navigateToQueueAtts,e.navigateToQueueOps=n.navigateToQueueOps}),n.totalServerItems=t.count,1==s&&(n.gridOptions.pagingOptions.currentPage=1,s=!1),Core.$apply(n)}n.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:n.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"manage",displayName:"manage",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.navigateToQueueAtts(row)">attributes</a>&nbsp;<a href="" ng-click="row.entity.navigateToQueueOps(row)">operations</a></div>'},{field:"id",displayName:"ID",width:"*"},{field:"name",displayName:"Name",width:"*"},{field:"address",displayName:"Address",width:"*"},{field:"routingType",displayName:"Routing Type",width:"*"},{field:"filter",displayName:"Filter",width:"*"},{field:"durable",displayName:"Durable",width:"*"},{field:"maxConsumers",displayName:"Max Consumers",width:"*"},{field:"purgeOnNoConsumers",displayName:"Purge On No Consumers",width:"*"},{field:"consumerCount",displayName:"Consumer Count",width:"*"},{field:"rate",displayName:"Rate",width:"*"},{field:"messageCount",displayName:"Message Count",width:"*"},{field:"paused",displayName:"Paused",width:"*",visible:!1},{field:"temporary",displayName:"Temporary",width:"*",visible:!1},{field:"autoCreated",displayName:"Auto Created",width:"*",visible:!1},{field:"user",displayName:"User",width:"*",visible:!1},{field:"messagesAdded",displayName:"Total Messages Added",width:"*",visible:!1},{field:"messagesAcked",displayName:"Total Messages Acked",width:"*",visible:!1},{field:"deliveringCount",displayName:"Delivering Count",width:"*",visible:!1},{field:"messagesKilled",displayName:"Messages Killed",width:"*",visible:!1},{field:"directDeliver",displayName:"Direct Deliver",width:"*",visible:!1}],primaryKeyFn:function(e){return e.id},enableFiltering:!0,useExternalFiltering:!0,sortInfo:n.sortOptions,useExternalSorting:!0},n.refresh=function(){s=!0,n.loadTable()},n.reset=function(){n.filter.values.field="",n.filter.values.operation="",n.filter.values.value="",n.loadTable()},n.loadTable=function(){n.filter.values.sortColumn=n.sortOptions.fields[0],n.filter.values.sortBy=n.sortOptions.directions[0],n.filter.values.sortOrder=n.sortOptions.directions[0];var e=function(e){var t=null,n=r.selection,i=n.folderNames;t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"';return u.log.info("broker="+t),t}();if(e.includes("undefined"))Core.notification("error","Could not retrieve queue list. Wrong MBean selected.");else if(e){var t=JSON.stringify(n.filter.values);console.log("Filter string: "+t),i.request({type:"exec",mbean:e,operation:"listQueues(java.lang.String, int, int)",arguments:[t,n.pagingOptions.currentPage,n.pagingOptions.pageSize]},Core.onSuccess(c,{error:l}))}},n.$watch("sortOptions",function(e,t){e!==t&&n.loadTable()},!0),n.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&n.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(n.pagingOptions.currentPage=1,n.loadTable())},!0),n.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisSession","artemisQueue"],u.module.controller("ARTEMIS.QueuesController",e),u}(ARTEMIS||{}),ARTEMIS;!function(m){e.$inject=["$route","$scope","$element","$timeout","workspace","ARTEMISService","jolokia","localStorage","$location","artemisMessage"];function e(e,c,t,n,u,d,h,p,i,r){Core.initPreferenceScope(c,p,{durable:{value:!0,converter:Core.parseBooleanValue}});var f=Logger.get("ARTEMIS");c.noCredentials=!1,c.showChoose=!1,c.profileFileNames=[],c.profileFileNameToProfileId={},c.selectedFiles={},c.container={},c.message="\n\n\n\n",c.headers=[],Core.bindModelToSearchParam(c,i,"tab","subtab","compose"),Core.bindModelToSearchParam(c,i,"searchText","q",""),Core.reloadWhenParametersChange(e,c,i),c.checkCredentials=function(){m.log.info(p.artemisUserName+" "+p.artemisPassword),c.noCredentials=Core.isBlank(p.artemisUserName)||Core.isBlank(p.artemisPassword)},c.openPrefs=function(){i.search("pref","Artemis"),c.$emit("hawtioOpenPrefs")};var o="defaultLanguageFormat";u.getLocalStorage(o);c.codeMirror=void 0;c.addHeader=function(){c.headers.push({name:"",value:""}),t&&n(function(){t.find("input.headerName").last().focus()},100)},c.removeHeader=function(e){c.headers=c.headers.remove(e)},c.defaultHeaderNames=function(){var e,n=[];return e=m.jmsHeaderSchema,angular.forEach(e.definitions.headers.properties,function(e,t){n.push(t)}),n},c.$watch("codeMirrorOptions.mode.name",function(e,t){u.setLocalStorage(o,e)});var a=function(){Core.notification("success","Message sent!")};function g(e,t,n){var i=u.selection;if(i){var r=i.objectName;if(r){var o=null;c.headers.length&&(o={},angular.forEach(c.headers,function(e){var t=e.name;t&&(o[t]=e.value)}),f.info("About to send headers: "+JSON.stringify(o)));var a=Core.onSuccess(n);m.log.info("^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^");var s=p.artemisUserName,l=p.artemisPassword;o||(o={});d.artemisConsole.sendMessage(r,h,o,3,t,e,s,l,a,Core.onSuccess(a))}}}c.autoFormat=function(){setTimeout(function(){CodeEditor.autoFormatEditor(c.codeMirror)},50)},c.sendMessage=function(e){var t=c.message;m.log.info(t),g(e,t,a)},c.fileSelection=function(){var n=[];return angular.forEach(c.selectedFiles,function(e,t){e&&n.push(t)}),n},c.sendSelectedFiles=function(){var a=c.fileSelection(),s=a.length,l=c.container.versionId||"1.0";!function e(t){if(a.length){var n=a.pop();if(n){var i=c.profileFileNameToProfileId[n];if(i){var r=Fabric.getConfigFile(h,l,i,n);r||(f.warn("No body for message "+n),r=""),g(r,e)}}}else{var o=Core.maybePlural(s,"Message")+" sent!";Core.notification("success",o)}}()}}m.module.controller("ARTEMIS.SendMessageController",e)}(ARTEMIS||{});var ARTEMIS=function(p){function e(i,t,r,o,e,n,a,s,l){e.artemisJmxDomain;i.filter={fieldOptions:[{id:"ID",name:"ID"},{id:"CONNECTION_ID",name:"Connection ID"},{id:"CONSUMER_COUNT",name:"Consumer Count"},{id:"USER",name:"User"},{id:"PROTOCOL",name:"Protocol"},{id:"CLIENT_ID",name:"Client ID"},{id:"LOCAL_ADDRESS",name:"Local Address"},{id:"REMOTE_ADDRESS",name:"Remote Address"}],operationOptions:[{id:"EQUALS",name:"Equals"},{id:"CONTAINS",name:"Contains"},{id:"GREATER_THAN",name:"Greater Than"},{id:"LESS_THAN",name:"Less Than"}],values:{field:"",operation:"",value:"",sortOrder:"asc",sortBy:"id"}},i.selectConnection=function(e){a.session=e.entity,t.path("artemis/connections")},i.selectProducers=function(e){a.session=e.entity,t.path("artemis/producers")},i.selectConsumers=function(e){a.session=e.entity,t.path("artemis/consumers")},n.connection&&(p.log.info("navigating to connection = "+n.connection.connectionID),i.filter.values.field=i.filter.fieldOptions[1].id,i.filter.values.operation=i.filter.operationOptions[0].id,i.filter.values.value=n.connection.connectionID),s.consumer&&(p.log.info("navigating to connection = "+s.consumer.ID),i.filter.values.field=i.filter.fieldOptions[0].id,i.filter.values.operation=i.filter.operationOptions[0].id,i.filter.values.value=s.consumer.session),l.producer&&(p.log.info("navigating to producer = "+l.producer.ID),i.filter.values.field=i.filter.fieldOptions[0].id,i.filter.values.operation=i.filter.operationOptions[0].id,i.filter.values.value=l.producer.session),a.connection=null,s.consumer=null,l.producer=null,i.closeSession=function(){var e=i.gridOptions.selectedItems[0].id,t=i.gridOptions.selectedItems[0].connectionID;if(p.log.info("closing session: "+e),r.selection){var n=h(o);n&&o.request({type:"exec",mbean:n,operation:"closeSessionWithID(java.lang.String, java.lang.String)",arguments:[t,e]},onSuccess(i.loadTable(),{error:function(e){Core.defaultJolokiaErrorHandler("Could not close session: "+e)}}))}},i.workspace=r,i.objects=[],i.totalServerItems=0,i.pagingOptions={pageSizes:[50,100,200],pageSize:100,currentPage:1};var c=!(i.sortOptions={fields:["id"],columns:["id"],directions:["asc"]});function u(e){Core.notification("error","Could not retrieve sessions list from Artemis."),p.log.error(e.error)}function d(e){i.gridOptions.selectedItems.length=0,i.showClose=!1;var t=JSON.parse(e.value);i.objects=[],angular.forEach(t.data,function(e,t){i.objects.push(e)}),angular.forEach(i.objects,function(e){e.selectConnection=i.selectConnection,e.selectConsumers=i.selectConsumers,e.selectProducers=i.selectProducers}),i.totalServerItems=t.count,1==c&&(i.gridOptions.pagingOptions.currentPage=1,c=!1),Core.$apply(i)}function h(e){var t=null,n=r.selection,i=n.folderNames;return t=i[1]?i[0]+":broker="+i[1]:i[0]+':broker="'+n.title+'"',p.log.info("broker="+t),t}i.showClose=!1,i.gridOptions={selectedItems:[],data:"objects",showFooter:!0,showFilter:!0,showColumnMenu:!0,enableCellSelection:!1,enableHighlighting:!0,enableColumnResize:!0,enableColumnReordering:!0,selectWithCheckboxOnly:!1,showSelectionCheckbox:!1,multiSelect:!1,displaySelectionCheckbox:!1,pagingOptions:i.pagingOptions,enablePaging:!0,totalServerItems:"totalServerItems",maintainColumnRatios:!1,columnDefs:[{field:"id",displayName:"ID",width:"*"},{field:"connectionID",displayName:"Connection",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectConnection(row)">{{row.entity.connectionID}}</a></div>'},{field:"user",displayName:"User",width:"*"},{field:"consumerCount",displayName:"Consumer Count",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectConsumers(row)">{{row.entity.consumerCount}}</a></div>'},{field:"producerCount",displayName:"Producer Count",width:"*",cellTemplate:'<div class="ngCellText"><a href="" ng-click="row.entity.selectProducers(row)">{{row.entity.producerCount}}</a></div>'},{field:"creationTime",displayName:"Creation Time",width:"*"}],primaryKeyFn:function(e){return e.id},enableFiltering:!0,useExternalFiltering:!0,sortInfo:i.sortOptions,useExternalSorting:!0},i.refresh=function(){c=!0,i.loadTable()},i.reset=function(){i.filter.values.field="",i.filter.values.operation="",i.filter.values.value="",i.loadTable()},i.loadTable=function(){i.filter.values.sortColumn=i.sortOptions.fields[0],i.filter.values.sortBy=i.sortOptions.directions[0],i.filter.values.sortOrder=i.sortOptions.directions[0];var e=h(o);if(e.includes("undefined"))Core.notification("error","Could not retrieve sessions list. Wrong MBean selected.");else if(e){var t=JSON.stringify(i.filter.values);console.log("Filter string: "+t),o.request({type:"exec",mbean:e,operation:"listSessions(java.lang.String, int, int)",arguments:[t,i.pagingOptions.currentPage,i.pagingOptions.pageSize]},Core.onSuccess(d,{error:u}))}},i.selectGridRow=function(){i.showClose=0<i.gridOptions.selectedItems.length},i.$watch("sortOptions",function(e,t){e!==t&&i.loadTable()},!0),i.$watch("pagingOptions",function(e,t){parseInt(e.currentPage)&&e!==t&&e.currentPage!==t.currentPage&&i.loadTable(),parseInt(e.pageSize)&&e!==t&&e.pageSize!==t.pageSize&&(i.pagingOptions.currentPage=1,i.loadTable())},!0),i.refresh()}return e.$inject=["$scope","$location","workspace","jolokia","localStorage","artemisConnection","artemisSession","artemisConsumer","artemisProducer"],p.module.controller("ARTEMIS.SessionsController",e),p}(ARTEMIS||{});angular.module("hawtio-artemis-template",[]).run(["$templateCache",function(e){e.put("plugins/artemis/html/addresses.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.AddressesController">\n\n    \x3c!-- TODO This should be templated and included --\x3e\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div-- class="row-fluid">\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>'),e.put("plugins/artemis/html/artemisLayout.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<script type="text/ng-template" id="header">\n  <div class="tree-header" ng-controller="ARTEMIS.TreeHeaderController">\n    <div class="left">\n    </div>\n    <div class="right">\n      <i class="fa fa-chevron-down clickable"\n         title="Expand all nodes"\n         ng-click="expandAll()"></i>\n      <i class="fa fa-chevron-up clickable"\n         title="Unexpand all nodes"\n         ng-click="contractAll()"></i>\n    </div>\n  </div>\n<\/script>\n<hawtio-pane position="left" width="300" header="header">\n  <div id="tree-container"\n       ng-controller="Jmx.MBeansController">\n    <div id="artemistree"\n         ng-controller="ARTEMIS.TreeController"></div>\n  </div>\n</hawtio-pane>\n<div class="row-fluid">\n  \x3c!--\n  <ul class="nav nav-tabs" ng-controller="Core.NavBarController" hawtio-auto-dropdown>\n    <li ng-repeat="nav in subLevelTabs track by $index | orderBy:index" ng-show="isValid(nav)" ng-class="{active : isActive(nav)}">\n      <a ng-href="{{nav.href()}}{{hash}}" title="{{nav.title}}"\n         data-placement="bottom" ng-bind-html-unsafe="nav.content">\n      </a>\n    </li>\n\n    <li class="pull-right">\n      <a ng-href="{{fullScreenLink()}}" title="Show this view in full screen" data-placement="bottom">\n        <i class="icon-fullscreen"></i>\n      </a>\n    </li>\n    <li class="pull-right">\n      <a ng-href="{{addToDashboardLink()}}" title="Add this view to a dashboard" data-placement="bottom">\n        <i class="icon-share"></i>\n      </a>\n    </li>\n    <li class="pull-right dropdown overflow" style="visibility: hidden;">\n      <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-chevron-down"></i></a>\n      <ul class="dropdown-menu right"></ul>\n    </li>\n--\x3e\n\n  </ul>\n\n  <div id="properties" ng-view></div>\n</div>\n'),e.put("plugins/artemis/html/brokerDiagram.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<style type="text/css">\n\n.span4.node-panel {\n  margin-top: 10px;\n  margin-left: 10px;\n  width: 33%;\n}\n.node-attributes dl {\n  margin-top: 5px;\n  margin-bottom: 10px;\n}\n.node-attributes dt {\n  width: 150px;\n}\n.node-attributes dd {\n  margin-left: 160px;\n}\n.node-attributes dd a {\n  /** lets make the destination links wrap */\n  -ms-word-break: break-all;\n  word-break: break-all;\n  -webkit-hyphens: auto;\n  -moz-hyphens: auto;\n  hyphens: auto;\n}\n\nul.viewMenu {\n  right: auto;\n}\n\nul.viewMenu li {\n  padding-left: 10px;\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n\ndiv#pop-up {\n  display: none;\n  position: absolute;\n  color: white;\n  font-size: 14px;\n  background: rgba(0, 0, 0, 0.6);\n  padding: 5px 10px 5px 10px;\n  -moz-border-radius: 8px 8px;\n  border-radius: 8px 8px;\n}\n\ndiv#pop-up-title {\n  font-size: 15px;\n  margin-bottom: 4px;\n  font-weight: bolder;\n}\n\ndiv#pop-up-content {\n  font-size: 12px;\n}\n\nrect.graphbox {\n  fill: #FFF;\n}\n\nrect.graphbox.frame {\n  stroke: #222;\n  stroke-width: 2px\n}\n\n/* only things directly related to the network graph should be here */\n\npath.link {\n  fill: none;\n  stroke: #666;\n  stroke-width: 1.5px;  b\n}\n\nmarker.broker {\n  stroke: red;\n  fill: red;\n  stroke-width: 1.5px;\n}\n\ncircle.broker {\n  fill: #0c0;\n}\n\ncircle.brokerSlave {\n  fill: #c00;\n}\n\ncircle.notActive {\n  fill: #c00;\n}\n\npath.link.group {\n  stroke: #ccc;\n}\n\nmarker#group {\n  stroke: #ccc;\n  fill: #ccc;\n}\n\ncircle.group {\n  fill: #eee;\n  stroke: #ccc;\n}\n\ncircle.destination {\n  fill: #bbb;\n  stroke: #ccc;\n}\n\ncircle.pinned {\n  stroke-width: 4.5px;\n}\n\npath.link.profile {\n  stroke-dasharray: 0, 2 1;\n  stroke: #888;\n}\n\nmarker#container {\n}\n\ncircle.container {\n  stroke-dasharray: 0, 2 1;\n  stroke: #888;\n}\n\npath.link.container {\n  stroke-dasharray: 0, 2 1;\n  stroke: #888;\n}\n\ncircle {\n  fill: #ccc;\n  stroke: #333;\n  stroke-width: 1.5px;\n  cursor: pointer;\n}\n\ncircle.closeMode {\n  cursor: crosshair;\n}\n\npath.link.destination {\n  stroke: #ccc;\n}\n\ncircle.topic {\n  fill: #c0c;\n}\n\ncircle.queue {\n  fill: #00c;\n}\n\ncircle.consumer {\n  fill: #cfc;\n}\n\ncircle.producer {\n  fill: #ccf;\n}\n\npath.link.producer {\n  stroke: #ccc;\n}\n\npath.link.consumer {\n  stroke: #ccc;\n}\n\npath.link.network {\n  stroke: #ccc;\n}\n\ncircle.selected {\n  stroke-width: 3px;\n}\n\n.selected {\n  stroke-width: 3px;\n}\n\ntext {\n  font: 10px sans-serif;\n  pointer-events: none;\n}\n\ntext.shadow {\n  stroke: #fff;\n  stroke-width: 3px;\n  stroke-opacity: .8;\n}\n</style>\n\n\n<div class="row-fluid mq-page" ng-controller="ARTEMIS.BrokerDiagramController">\n\n  <div ng-hide="inDashboard" class="span12 page-padded">\n    <div class="section-header">\n\n      <div class="section-filter">\n        <input type="text" class="search-query" placeholder="Filter..." ng-model="searchFilter">\n        <i class="fa fa-remove clickable" title="Clear filter" ng-click="searchFilter = \'\'"></i>\n      </div>\n\n      <div class="section-controls dropdown">\n        <a href="#"\n           class="dropdown-toggle"\n           data-toggle="dropdown">\n          View &nbsp;<i class="fa fa-caret-down"></i>\n        </a>\n        <ul class="dropdown-menu viewMenu">\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.consumer"> Consumers\n            </label>\n          </li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.producer"> Producers\n            </label>\n          </li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.address"> Addresses\n            </label>\n          </li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.queue"> Queues\n            </label>\n          </li>\n          <li class="divider"></li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.broker"> Brokers\n            </label>\n          </li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.slave"> Slave brokers\n            </label>\n          </li>\n          <li class="checkbox">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.network"> Networks\n            </label>\n          </li>\n          <li class="divider"></li>\n          <li class="checkbox" title="Should we show the details panel on the left">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.panel"> Details panel\n            </label>\n          </li>\n          <li class="checkbox" title="Show the summary popup as you hover over nodes">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.popup"> Hover text\n            </label>\n          </li>\n          <li class="checkbox" title="Show the labels next to nodes">\n            <label>\n              <input type="checkbox" ng-model="viewSettings.label"> Label\n            </label>\n          </li>\n        </ul>\n      </div>\n\n    </div>\n  </div>\n\n\n  <div id="pop-up">\n    <div id="pop-up-title"></div>\n    <div id="pop-up-content"></div>\n  </div>\n\n  <div class="row-fluid">\n    <div class="{{viewSettings.panel ? \'span8\' : \'span12\'}} canvas broker-canvas">\n      <div hawtio-force-graph graph="graph" selected-model="selectedNode" link-distance="150" charge="-600" nodesize="10" marker-kind="marker-end"\n           style="min-height: 800px">\n      </div>\n    </div>\n    <div ng-show="viewSettings.panel" class="span4 node-panel">\n      <div ng-show="selectedNode" class="node-attributes">\n        <dl ng-repeat="property in selectedNodeProperties" class="dl-horizontal">\n          <dt title="{{property.key}}">{{property.key}}:</dt>\n          <dd ng-bind-html="property.value"></dd>\n        </dl>\n      </div>\n    </div>\n  </div>\n\n  <div ng-include="\'app/fabric/html/connectToContainerDialog.html\'"></div>\n\n</div>\n\n\n'),e.put("plugins/artemis/html/browseQueue.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.BrowseQueueController">\n  <div class="row-fluid">\n    <div class="span6">\n      <input class="search-query span12" type="text" ng-model="gridOptions.filterOptions.filterText"\n             placeholder="Filter messages">\n    </div>\n    <div class="span6">\n      <div class="pull-right">\n        <form class="form-inline">\n          <button class="btn" ng-disabled="!gridOptions.selectedItems.length" ng-show="dlq" ng-click="retryMessages()"\n                  title="Moves the dead letter queue message back to its original destination so it can be retried" data-placement="bottom">\n            <i class="fa fa-reply"></i> Retry\n          </button>\n          <button class="btn" ng-disabled="gridOptions.selectedItems.length !== 1" ng-click="resendMessage()"\n                    title="Edit the message to resend it" data-placement="bottom">\n           <i class="fa fa-share-alt"></i> Resend\n          </button>\n\n          <button class="btn" ng-disabled="!gridOptions.selectedItems.length" ng-click="moveDialog = true"\n                  title="Move the selected messages to another destination" data-placement="bottom">\n            <i class="fa fa-share-alt"></i> Move\n          </button>\n          <button class="btn" ng-disabled="!gridOptions.selectedItems.length"\n                  ng-click="deleteDialog = true"\n                  title="Delete the selected messages">\n            <i class="fa fa-remove"></i> Delete\n          </button>\n          <button class="btn" ng-click="refresh()"\n                  title="Refreshes the list of messages">\n            <i class="fa fa-refresh"></i>\n          </button>\n        </form>\n      </div>\n    </div>\n  </div>\n\n  <div class="row-fluid">\n    <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n  </div>\n\n  <div hawtio-slideout="showMessageDetails" title="{{row.JMSMessageID}}">\n    <div class="dialog-body">\n\n      <div class="row-fluid">\n        <div class="pull-right">\n          <form class="form-horizontal no-bottom-margin">\n\n            <div class="btn-group"\n                 hawtio-pager="messages"\n                 on-index-change="selectRowIndex"\n                 row-index="rowIndex"></div>\n\n            <button class="btn" ng-disabled="!gridOptions.selectedItems.length" ng-click="moveDialog = true"\n                    title="Move the selected messages to another destination" data-placement="bottom">\n              <i class="fa fa-share-alt"></i> Move\n            </button>\n\n            <button class="btn btn-danger" ng-disabled="!gridOptions.selectedItems.length"\n                    ng-click="deleteDialog = true"\n                    title="Delete the selected messages">\n              <i class="fa fa-remove"></i> Delete\n            </button>\n\n            <button class="btn" ng-click="showMessageDetails = !showMessageDetails" title="Close this dialog">\n              <i class="fa fa-remove"></i> Close\n            </button>\n\n          </form>\n        </div>\n      </div>\n\n      <div class="row-fluid">\n        <div class="expandable closed">\n          <div title="Headers" class="title">\n            <i class="expandable-indicator"></i> Headers & Properties\n          </div>\n          <div class="expandable-body well">\n            <table class="table table-condensed table-striped">\n              <thead>\n              <tr>\n                <th>Header</th>\n                <th>Value</th>\n              </tr>\n              </thead>\n              <tbody ng-bind-html="row.headerHtml"></tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      <div class="row-fluid">\n        <div>Displaying body as <span ng-bind="row.textMode"></span></div>\n        <div hawtio-editor="row.bodyText" read-only="true" mode=\'mode\'></div>\n      </div>\n\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="deleteDialog"\n       ok-button-text="Delete"\n       cancel-button-text="Cancel"\n       on-ok="deleteMessages()">\n    <div class="dialog-body">\n      <p>You are about to delete\n        <ng-pluralize count="gridOptions.selectedItems.length"\n                      when="{\'1\': \'a message!\', \'other\': \'{} messages!\'}">\n        </ng-pluralize>\n      </p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="moveDialog"\n       ok-button-text="Move"\n       cancel-button-text="Cancel"\n       on-ok="moveMessages()">\n    <div class="dialog-body">\n      <p>Move\n        <ng-pluralize count="gridOptions.selectedItems.length"\n                      when="{\'1\': \'message\', \'other\': \'{} messages\'}"></ng-pluralize>\n        to: <input type="text" ng-model="queueName" placeholder="Queue name"\n                   typeahead="title.unescapeHTML() for title in queueNames($viewValue) | filter:$viewValue" typeahead-editable=\'true\'></p>\n      <p>\n        You cannot undo this operation.<br>\n        Though after the move you can always move the\n        <ng-pluralize count="gridOptions.selectedItems.length"\n                      when="{\'1\': \'message\', \'other\': \'messages\'}"></ng-pluralize>\n        back again.\n      </p>\n    </div>\n  </div>\n\n</div>\n\n'),e.put("plugins/artemis/html/connections.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.ConnectionsController">\n\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}</option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n\n            <div class="pull-right">\n              <form class="form-inline">\n                <button class="btn-danger" ng-show="showClose"\n                        ng-click="deleteDialog = true"\n                        title="Close the selected Connection">\n                  <i class="fa fa-remove"></i> Close\n                </button>\n                &nbsp;&nbsp;&nbsp;\n              </form>\n            </div>\n        </div>\n    </div>\n\n    <div hawtio-confirm-dialog="deleteDialog"\n           ok-button-text="Close"\n           cancel-button-text="Cancel"\n           on-ok="closeConnection()">\n        <div class="dialog-body">\n          <p>You are about to close the selected connection: {{gridOptions.selectedItems[0].connectionID}}\n          </p>\n          <p>Are you sure you want to continue.</p>\n        </div>\n    </div>\n    <div class="row-fluid">\n        \x3c!--div-- class="gridStyle" ng-grid="gridOptions" ui-grid-resize-columns ng-click="selectGridRow()"></div--\x3e\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>'),e.put("plugins/artemis/html/consumers.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.ConsumersController">\n\n    \x3c!-- TODO This should be templated and included --\x3e\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n\n            <div class="pull-right">\n              <form class="form-inline">\n                <button class="btn-danger" ng-show="showClose"\n                        ng-click="deleteDialog = true"\n                        title="Close the selected Consumer">\n                  <i class="fa fa-remove"></i> Close\n                </button>\n                &nbsp;&nbsp;&nbsp;\n              </form>\n            </div>\n        </div>\n    </div>\n\n    <div hawtio-confirm-dialog="deleteDialog"\n          ok-button-text="Close"\n          cancel-button-text="Cancel"\n          on-ok="closeConsumer()">\n       <div class="dialog-body">\n         <p>You are about to close the selected consumer: {{gridOptions.selectedItems[0].id}}\n         </p>\n         <p>Are you sure you want to continue.</p>\n       </div>\n    </div>\n\n    <div class="row-fluid">\n        \x3c!--div-- class="gridStyle" ng-grid="gridOptions" ui-grid-resize-columns ng-click="selectGridRow()"></div--\x3e\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>'),e.put("plugins/artemis/html/createAddress.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<form class="form-horizontal" ng-controller="ARTEMIS.AddressController">\n    <div class="control-group">\n        <label class="control-label" for="addressName"\n                title="The routing name of this address">Address name</label>\n        <div class="controls">\n            <input id="addressName" type="text" maxlength="300" ng-model="addressName" placeholder="Address Name"/>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label" for="routingType">Routing type</label>\n\n        <div class="controls">\n            <select id="routingType" ng-model="routingType">\n                <option value=\'0\'>Multicast</option>\n                <option value=\'1\'>Anycast</option>\n                <option value=\'2\'>Both</option>\n            </select>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <div class="controls">\n            <button type="submit" class="btn btn-info" ng-click="createAddress(addressName, routingType)" ng-disabled="!addressName">Create Address</button>\n        </div>\n    </div>\n</form>\n'),e.put("plugins/artemis/html/createQueue.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<form class="form-horizontal" ng-controller="ARTEMIS.QueueController">\n\n    <div class="control-group">\n        <label class="control-label" for="queueName"\n               title="The routing name of this address">Queue name</label>\n        <div class="controls">\n            <input id="queueName" type="text" maxlength="300" ng-model="queueName" placeholder="Queue Name"/>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label" for="routingType">Routing type</label>\n\n        <div class="controls">\n            <select id="routingType" ng-model="routingType">\n                <option value=\'0\'>Multicast</option>\n                <option value=\'1\'>Anycast</option>\n            </select>\n        </div>\n    </div>\n\n\n    <div class="control-group">\n        <label class="control-label" for="durable"\n               title="Whether the queue will be durable">Durable</label>\n        <div class="controls">\n            <input id="durable" type="checkbox" ng-model="durable" value="false">\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label" for="filter"\n               title="The user name to be used when connecting to the broker">Filter</label>\n        <div class="controls">\n            <input id="filter" type="text" maxlength="300" ng-model="filter" placeholder="Filter"/>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label" for="maxConsumers"\n               title="The maximum consumers the queue can have">Max Consumers</label>\n        <div class="controls">\n            <input id="maxConsumers" type="number" ng-model="maxConsumers" placeholder="maxConsumers"/>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <label class="control-label" for="purgeWhenNoConsumers"\n               title="Whether or not this queue should be purged (emptied and paused) when there are no consumers">Purge when no consumers</label>\n        <div class="controls">\n            <input id="purgeWhenNoConsumers" type="checkbox" ng-model="purgeWhenNoConsumers" value="false"/>\n        </div>\n    </div>\n\n    <div class="control-group">\n        <div class="controls">\n            <button type="submit" class="btn btn-info" ng-click="createQueue(queueName, routingType, durable, filter, maxConsumers, purgeWhenNoConsumers)" ng-disabled="!queueName">Create Queue</button>\n        </div>\n    </div>\n</form>\n'),e.put("plugins/artemis/html/deleteAddress.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.AddressController">\n  <div class="row-fluid">\n\n    <div class="control-group">\n      <div class="alert">\n        <button type="button" class="close" data-dismiss="alert">×</button>\n        <strong>Warning:</strong> these operations cannot be undone. Please be careful!\n      </div>\n    </div>\n  </div>\n  <div class="row-fluid">\n    <div class="span4">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="deleteDialog = true">Delete address \'{{name()}}\'</button>\n        <label>This will remove the address completely.</label>\n      </div>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="deleteDialog"\n       ok-button-text="Delete"\n       cancel-button-text="Cancel"\n       on-ok="deleteAddress()">\n    <div class="dialog-body">\n      <p>You are about to delete the <b>{{name()}}</b> address</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n\n\n</div>\n'),e.put("plugins/artemis/html/deleteQueue.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.QueueController">\n  <div class="row-fluid">\n\n    <div class="control-group">\n      <div class="alert">\n        <button type="button" class="close" data-dismiss="alert">×</button>\n        <strong>Warning:</strong> these operations cannot be undone. Please be careful!\n      </div>\n    </div>\n  </div>\n  <div class="row-fluid">\n    <div class="span4">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="deleteDialog = true">Delete queue \'{{name()}}\'</button>\n        <label>This will remove the queue completely.</label>\n      </div>\n    </div>\n    <div class="span4">\n      <div class="control-group">\n        <button type="submit" class="btn btn-warning" ng-click="purgeDialog = true">Purge queue \'{{name()}}\'</button>\n        <label>Purges all the current messages on the queue.</label>\n      </div>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="deleteDialog"\n       ok-button-text="Delete"\n       cancel-button-text="Cancel"\n       on-ok="deleteDestination(true)">\n    <div class="dialog-body">\n      <p>You are about to delete the <b>{{name()}}</b> queue</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n  <div hawtio-confirm-dialog="purgeDialog"\n       ok-button-text="Purge"\n       cancel-button-text="Cancel"\n       on-ok="purgeDestination()">\n    <div class="dialog-body">\n      <p>You are about to purge the <b>{{name()}}</b> queue</p>\n      <p>This operation cannot be undone so please be careful.</p>\n    </div>\n  </div>\n\n\n</div>\n'),e.put("plugins/artemis/html/layoutActiveMQTree.html",'<script type="text/ng-template" id="ActiveMQTreeHeader.html">\n  <div class="tree-header" ng-controller="ActiveMQ.TreeHeaderController">\n    <div class="left">\n    </div>\n    <div class="right">\n      <i class="fa fa-chevron-down clickable"\n         title="Expand all nodes"\n         ng-click="expandAll()"></i>\n      <i class="fa fa-chevron-up clickable"\n         title="Unexpand all nodes"\n         ng-click="contractAll()"></i>\n    </div>\n  </div>\n<\/script>\n\n<hawtio-pane position="left" width="300" header="ActiveMQTreeHeader.html">\n  <div id="tree-container"\n       ng-controller="Jmx.MBeansController">\n    <div id="activemqtree"\n         ng-controller="ActiveMQ.TreeController"></div>\n  </div>\n</hawtio-pane>\n<div class="row">\n  \x3c!--\n  <ng-include src="\'plugins/jmx/html/subLevelTabs.html\'"></ng-include>\n  --\x3e\n  <div id="properties" ng-view></div>\n</div>\n'),e.put("plugins/artemis/html/preferences.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.PreferencesController">\n  <form class="form-horizontal">\n\n    <div class="control-group">\n      <label class="control-label" for="artemisUserName"\n             title="The user name to be used when connecting to the broker">User name</label>\n\n      <div class="controls">\n        <input id="artemisUserName" type="text" placeholder="username" ng-model="artemisUserName" autofill/>\n      </div>\n    </div>\n    <div class="control-group">\n      <label class="control-label" for="artemisPassword" title="Password to be used when connecting to the broker">Password</label>\n\n      <div class="controls">\n        <input id="artemisPassword" type="password" placeholder="password" ng-model="artemisPassword" autofill/>\n      </div>\n    </div>\n\n    <div class="control-group">\n      <label class="control-label" for="artemisDLQ" title="The DLQ of the Broker">DLQ</label>\n\n      <div class="controls">\n        <input id="artemisDLQ" type="text" placeholder="DLQ" ng-model="artemisDLQ" autofill/>\n      </div>\n    </div>\n\n    <div class="control-group">\n      <label class="control-label" for="artemisExpiryQueue" title="The Expiry Queue of the Broker">Expiry Queue</label>\n\n      <div class="controls">\n        <input id="artemisExpiryQueue" type="text" placeholder="ExpiryQueue" ng-model="artemisExpiryQueue" autofill/>\n      </div>\n    </div>\n\n    <div class="control-group">\n      <label class="control-label" for="byteMessages">Browse byte messages</label>\n\n      <div class="controls">\n        <select id="byteMessages" ng-model="activemqBrowseBytesMessages">\n          <option value=\'99\'>Off</option>\n          <option value=\'8\'>Decimal</option>\n          <option value=\'4\'>Hex</option>\n          <option value=\'2\'>Decimal and text</option>\n          <option value=\'1\'>Hex and text</option>\n        </select>\n        <span class="help-block">Browsing byte messages should display the message body as</span>\n      </div>\n    </div>\n\n  </form>\n</div>\n'),e.put("plugins/artemis/html/producers.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.ProducersController">\n\n    \x3c!-- TODO This should be templated and included --\x3e\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="row-fluid">\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>'),e.put("plugins/artemis/html/queues.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.QueuesController">\n\n    \x3c!-- TODO This should be templated and included --\x3e\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n        </div>\n    </div>\n\n    <div class="row-fluid">\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>'),e.put("plugins/artemis/html/sendMessage.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.SendMessageController">\n\n  <div class="tabbable" ng-model="tab">\n\n    <div value="compose" class="tab-pane" title="Compose">\n      \x3c!--\n         title="Compose a new message to send"\n      --\x3e\n\n      <div class="row-fluid">\n        <span ng-show="noCredentials" class="alert">\n          No credentials set for endpoint!  Please set your username and password in the <a\n            href="" ng-click="openPrefs()">Preferences</a> page\n        </span>\n\n        <form class="form-inline pull-right">\n          <div class="row-fluid">\n            <div class="controls">\n              <label class="control-label" for="durable" title="Is this message durable">Durable: </label>\n              <input id="durable" type="checkbox" ng-model="durable" value="true">\n            </div>\n          </div>\n          <button class="btn btn-default" ng-click="addHeader()" title="Add a new message header"><i\n              class="fa fa-plus"></i> Header\n          </button>\n          <button type="submit" class="btn btn-primary" ng-click="sendMessage(durable)">Send message</button>\n        </form>\n      </div>\n\n      <form class="form-inline bottom-margin" ng-submit="addHeader()">\n        <ol class="zebra-list header-list">\n          <div class="row-fluid">\n            <li ng-repeat="header in headers">\n              <div class="span4">\n                <input type="text" style="width: 100%" class="headerName"\n                       ng-model="header.name"\n                       typeahead="completion for completion in defaultHeaderNames() | filter:$viewValue"\n                       typeahead-editable=\'true\'\n                       placeholder="Header name">\n              </div>\n              <div class="span6">\n                <input type="text" style="width: 100%" ng-model="header.value"\n                       placeholder="Value of the message header">\n              </div>\n              <div class="span2">\n                <button type="submit" class="btn btn-default" title="Add a new message header">\n                  <i class="fa fa-plus"></i>\n                </button>\n                <button type="button" ng-click="removeHeader(header)" class="btn btn-default" title="Removes this message header">\n                  <i class="fa fa-remove"></i>\n                </button>\n              </div>\n            </li>\n          </div>\n        </ol>\n      </form>\n\n      <div class="row-fluid">\n        <form class="form-inline">\n          <div class="controls">\n            <label class="control-label" for="sourceFormat" title="The text format to use for the message payload">Payload\n              format: </label>\n            <select ng-model="codeMirrorOptions.mode.name" id="sourceFormat">\n              <option value="javascript">JSON</option>\n              <option value="text" selected>Plain text</option>\n              <option value="properties">Properties</option>\n              <option value="xml">XML</option>\n            </select>\n\n            <button class="btn btn-default" ng-click="autoFormat()"\n                    title="Automatically pretty prints the message so its easier to read">Auto format\n            </button>\n          </div>\n        </form>\n      </div>\n\n      <div class="row-fluid">\n        <div hawtio-editor="message" mode="codeMirrorOptions.mode.name"></div>\n      </div>\n    </div>\n\n    <div ng-switch="showChoose">\n      <div ng-switch-when="true">\n        <div value="choose" class="tab-pane" title="Choose">\n          \x3c!--\n                   title="Choose messages to send from the available files in the Profile configuration for this container">\n          --\x3e\n          <div class="row-fluid bottom-margin">\n        <span ng-show="noCredentials" class="alert">\n          No credentials set for endpoint!  Please set your username and password in the <a\n            href="#/preferences">Preferences</a> page\n        </span>\n            <button type="submit" ng-disabled="!fileSelection().length" class="btn btn-primary pull-right"\n                    ng-click="sendSelectedFiles()">\n              <ng-pluralize count="fileSelection().length"\n                            when="{\'0\': \'No files selected\', \'1\': \'Send the file\',\'other\': \'Send {} files\'}">\n              </ng-pluralize>\n            </button>\n          </div>\n\n          <p>Choose which files to send from the profile configuration:</p>\n\n          <div class="control-group inline-block">\n            <input class="search-query" type="text" ng-model="searchText" placeholder="Filter..." autofocus>\n          </div>\n\n          <ul>\n            <li ng-repeat="fileName in profileFileNames | filter:searchText">\n              <input type="checkbox" ng-model="selectedFiles[fileName]"> {{fileName}}\n            </li>\n          </ul>\n        </div>\n      </div>\n\n    </div>\n\n  </div>\n</div>\n'),e.put("plugins/artemis/html/sessions.html",'\x3c!--\n  Licensed to the Apache Software Foundation (ASF) under one or more\n  contributor license agreements.  See the NOTICE file distributed with\n  this work for additional information regarding copyright ownership.\n  The ASF licenses this file to You under the Apache License, Version 2.0\n  (the "License"); you may not use this file except in compliance with\n  the License.  You may obtain a copy of the License at\n\n       http://www.apache.org/licenses/LICENSE-2.0\n\n  Unless required by applicable law or agreed to in writing, software\n  distributed under the License is distributed on an "AS IS" BASIS,\n  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n  See the License for the specific language governing permissions and\n  limitations under the License.\n  Architecture\n--\x3e\n<div ng-controller="ARTEMIS.SessionsController">\n\n    <div class="row-fluid">\n        <div class="span24">\n            <div class="control-group inline-block">\n                <form class="form-inline no-bottom-margin">\n                    &nbsp;<span class="label label-default">Filter</span>\n                    &nbsp;&nbsp;\n                    <select ng-model="filter.values.field" id="filter.values.field">\n                        <option ng-repeat="option in filter.fieldOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <select ng-model="filter.values.operation" id="filter.values.operation">\n                        <option ng-repeat="option in filter.operationOptions" value="{{option.id}}">{{option.name}}\n                        </option>\n                    </select>\n                    <input class="search-query" type="text" ng-model="filter.values.value" placeholder="Value">\n                    <button class="btn" ng-click="refresh()"\n                            title="Filter">\n                        <i class="fa fa-search">&nbsp;&nbsp;</i>\n                    </button>\n                    &nbsp;&nbsp;\n                    <button class="btn pull-right" ng-click="reset()"\n                            title="Reset">\n                        <i class="fa fa-refresh">&nbsp;&nbsp;Reset</i>\n                    </button>\n                </form>\n            </div>\n            <div class="pull-right">\n                <form class="form-inline">\n                    <button class="btn-danger" ng-show="showClose"\n                            ng-click="deleteDialog = true"\n                            title="Close the selected Session">\n                        <i class="fa fa-remove"></i> Close\n                    </button>\n                    &nbsp;&nbsp;&nbsp;\n                </form>\n            </div>\n        </div>\n    </div>\n    <div hawtio-confirm-dialog="deleteDialog"\n          ok-button-text="Close"\n          cancel-button-text="Cancel"\n          on-ok="closeSession()">\n       <div class="dialog-body">\n         <p>You are about to close the selected session: {{gridOptions.selectedItems[0].id}}\n         </p>\n         <p>Are you sure you want to continue.</p>\n       </div>\n    </div>\n    <div class="row-fluid">\n        <table class="table table-striped table-bordered table-hover activemq-browse-table" hawtio-simple-table="gridOptions"></table>\n    </div>\n\n</div>\n\n\n\n')}]),hawtioPluginLoader.addModule("hawtio-artemis-template"),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../fold/xml-fold")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../fold/xml-fold"],e):e(CodeMirror)}(function(v){v.defineOption("autoCloseTags",!1,function(e,t,n){if(n!=v.Init&&n&&e.removeKeyMap("autoCloseTags"),t){var i={name:"autoCloseTags"};("object"!=typeof t||t.whenClosing)&&(i["'/'"]=function(e){return(t=e).getOption("disableInput")?v.Pass:r(t,!0);var t}),("object"!=typeof t||t.whenOpening)&&(i["'>'"]=function(e){return function(e){if(e.getOption("disableInput"))return v.Pass;for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){if(!t[i].empty())return v.Pass;var r=t[i].head,o=e.getTokenAt(r),a=v.innerMode(e.getMode(),o.state),s=a.state;if("xml"!=a.mode.name||!s.tagName)return v.Pass;var l=e.getOption("autoCloseTags"),c="html"==a.mode.configuration,u="object"==typeof l&&l.dontCloseTags||c&&y,d="object"==typeof l&&l.indentTags||c&&b,h=s.tagName;o.end>r.ch&&(h=h.slice(0,h.length-o.end+r.ch));var p=h.toLowerCase();if(!h||"string"==o.type&&(o.end!=r.ch||!/[\"\']/.test(o.string.charAt(o.string.length-1))||1==o.string.length)||"tag"==o.type&&"closeTag"==s.type||o.string.indexOf("/")==o.string.length-1||u&&-1<w(u,p)||x(e,h,r,s,!0))return v.Pass;var f=d&&-1<w(d,p);n[i]={indent:f,text:">"+(f?"\n\n":"")+"</"+h+">",newPos:f?v.Pos(r.line+1,0):v.Pos(r.line,r.ch+1)}}for(var i=t.length-1;0<=i;i--){var g=n[i];e.replaceRange(g.text,t[i].head,t[i].anchor,"+insert");var m=e.listSelections().slice(0);m[i]={head:g.newPos,anchor:g.newPos},e.setSelections(m),g.indent&&(e.indentLine(g.newPos.line,null,!0),e.indentLine(g.newPos.line+1,null,!0))}}(e)}),e.addKeyMap(i)}});var y=["area","base","br","col","command","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"],b=["applet","blockquote","body","button","div","dl","fieldset","form","frameset","h1","h2","h3","h4","h5","h6","head","html","iframe","layer","legend","object","ol","p","select","table","ul"];function r(e,t){for(var n=e.listSelections(),i=[],r=t?"/":"</",o=0;o<n.length;o++){if(!n[o].empty())return v.Pass;var a,s=n[o].head,l=e.getTokenAt(s),c=v.innerMode(e.getMode(),l.state),u=c.state;if(t&&("string"==l.type||"<"!=l.string.charAt(0)||l.start!=s.ch-1))return v.Pass;if("xml"!=c.mode.name)if("htmlmixed"==e.getMode().name&&"javascript"==c.mode.name)a=r+"script";else{if("htmlmixed"!=e.getMode().name||"css"!=c.mode.name)return v.Pass;a=r+"style"}else{if(!u.context||!u.context.tagName||x(e,u.context.tagName,s,u))return v.Pass;a=r+u.context.tagName}">"!=e.getLine(s.line).charAt(l.end)&&(a+=">"),i[o]=a}e.replaceSelections(i),n=e.listSelections();for(o=0;o<n.length;o++)(o==n.length-1||n[o].head.line<n[o+1].head.line)&&e.indentLine(n[o].head.line)}function w(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,i=e.length;n<i;++n)if(e[n]==t)return n;return-1}function x(e,t,n,i,r){if(!v.scanForClosingTag)return!1;var o=Math.min(e.lastLine()+1,n.line+500),a=v.scanForClosingTag(e,n,null,o);if(!a||a.tag!=t)return!1;for(var s=i.context,l=r?1:0;s&&s.tagName==t;s=s.prev)++l;n=a.to;for(var c=1;c<l;c++){var u=v.scanForClosingTag(e,n,null,o);if(!u||u.tag!=t)return!1;n=u.to}return!0}v.commands.closeTag=function(e){return r(e)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(p){"use strict";var f=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,g=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,m=/[*+-]\s/;p.commands.newlineAndIndentContinueMarkdownList=function(e){if(e.getOption("disableInput"))return p.Pass;for(var t=e.listSelections(),n=[],i=0;i<t.length;i++){var r=t[i].head,o=e.getStateAfter(r.line),a=!1!==o.list,s=0!==o.quote,l=e.getLine(r.line),c=f.exec(l);if(!t[i].empty()||!a&&!s||!c)return void e.execCommand("newlineAndIndent");if(g.test(l))e.replaceRange("",{line:r.line,ch:0},{line:r.line,ch:r.ch+1}),n[i]="\n";else{var u=c[1],d=c[5],h=m.test(c[2])||0<=c[2].indexOf(">")?c[2]:parseInt(c[3],10)+1+c[4];n[i]="\n"+u+h+d}}e.replaceSelections(n)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(i){var u=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<8),g=i.Pos,m={"(":")>",")":"(<","[":"]>","]":"[<","{":"}>","}":"{<"};function d(e,t,n,i){var r=e.getLineHandle(t.line),o=t.ch-1,a=0<=o&&m[r.text.charAt(o)]||m[r.text.charAt(++o)];if(!a)return null;var s=">"==a.charAt(1)?1:-1;if(n&&0<s!=(o==t.ch))return null;var l=e.getTokenTypeAt(g(t.line,o+1)),c=h(e,g(t.line,o+(0<s?1:0)),s,l||null,i);return null==c?null:{from:g(t.line,o),to:c&&c.pos,match:c&&c.ch==a.charAt(0),forward:0<s}}function h(e,t,n,i,r){for(var o=r&&r.maxScanLineLength||1e4,a=r&&r.maxScanLines||1e3,s=[],l=r&&r.bracketRegex?r.bracketRegex:/[(){}[\]]/,c=0<n?Math.min(t.line+a,e.lastLine()+1):Math.max(e.firstLine()-1,t.line-a),u=t.line;u!=c;u+=n){var d=e.getLine(u);if(d){var h=0<n?0:d.length-1,p=0<n?d.length:-1;if(!(d.length>o))for(u==t.line&&(h=t.ch-(n<0?1:0));h!=p;h+=n){var f=d.charAt(h);if(l.test(f)&&(void 0===i||e.getTokenTypeAt(g(u,h+1))==i))if(">"==m[f].charAt(1)==0<n)s.push(f);else{if(!s.length)return{pos:g(u,h),ch:f};s.pop()}}}}return u-n!=(0<n?e.lastLine():e.firstLine())&&null}function t(e,t,n){for(var i=e.state.matchBrackets.maxHighlightLineLength||1e3,r=[],o=e.listSelections(),a=0;a<o.length;a++){var s=o[a].empty()&&d(e,o[a].head,!1,n);if(s&&e.getLine(s.from.line).length<=i){var l=s.match?"CodeMirror-matchingbracket":"CodeMirror-nonmatchingbracket";r.push(e.markText(s.from,g(s.from.line,s.from.ch+1),{className:l})),s.to&&e.getLine(s.to.line).length<=i&&r.push(e.markText(s.to,g(s.to.line,s.to.ch+1),{className:l}))}}if(r.length){u&&e.state.focused&&e.focus();var c=function(){e.operation(function(){for(var e=0;e<r.length;e++)r[e].clear()})};if(!t)return c;setTimeout(c,800)}}var r=null;function o(e){e.operation(function(){r&&(r(),r=null),r=t(e,!1,e.state.matchBrackets)})}i.defineOption("matchBrackets",!1,function(e,t,n){n&&n!=i.Init&&(e.off("cursorActivity",o),r&&(r(),r=null)),t&&(e.state.matchBrackets="object"==typeof t?t:{},e.on("cursorActivity",o))}),i.defineExtension("matchBrackets",function(){t(this,!0)}),i.defineExtension("findMatchingBracket",function(e,t,n){return d(this,e,t,n)}),i.defineExtension("scanForBracket",function(e,t,n,i){return h(this,e,t,n,i)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(u){"use strict";function r(r,o,e,a){if(e&&e.call){var s=e;e=null}else s=d(r,e,"rangeFinder");"number"==typeof o&&(o=u.Pos(o,0));var l=d(r,e,"minFoldSize");function t(e){var t=s(r,o);if(!t||t.to.line-t.from.line<l)return null;for(var n=r.findMarksAt(t.from),i=0;i<n.length;++i)if(n[i].__isFold&&"fold"!==a){if(!e)return null;t.cleared=!0,n[i].clear()}return t}var n=t(!0);if(d(r,e,"scanUp"))for(;!n&&o.line>r.firstLine();)o=u.Pos(o.line-1,0),n=t(!1);if(n&&!n.cleared&&"unfold"!==a){var i=function(e,t){var n=d(e,t,"widget");if("string"==typeof n){var i=document.createTextNode(n);(n=document.createElement("span")).appendChild(i),n.className="CodeMirror-foldmarker"}return n}(r,e);u.on(i,"mousedown",function(e){c.clear(),u.e_preventDefault(e)});var c=r.markText(n.from,n.to,{replacedWith:i,clearOnEnter:d(r,e,"clearOnEnter"),__isFold:!0});c.on("clear",function(e,t){u.signal(r,"unfold",r,e,t)}),u.signal(r,"fold",r,n.from,n.to)}}u.newFoldFunction=function(n,i){return function(e,t){r(e,t,{rangeFinder:n,widget:i})}},u.defineExtension("foldCode",function(e,t,n){r(this,e,t,n)}),u.defineExtension("isFolded",function(e){for(var t=this.findMarksAt(e),n=0;n<t.length;++n)if(t[n].__isFold)return!0}),u.commands.toggleFold=function(e){e.foldCode(e.getCursor())},u.commands.fold=function(e){e.foldCode(e.getCursor(),null,"fold")},u.commands.unfold=function(e){e.foldCode(e.getCursor(),null,"unfold")},u.commands.foldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++)n.foldCode(u.Pos(e,0),null,"fold")})},u.commands.unfoldAll=function(n){n.operation(function(){for(var e=n.firstLine(),t=n.lastLine();e<=t;e++)n.foldCode(u.Pos(e,0),null,"unfold")})},u.registerHelper("fold","combine",function(){var r=Array.prototype.slice.call(arguments,0);return function(e,t){for(var n=0;n<r.length;++n){var i=r[n](e,t);if(i)return i}}}),u.registerHelper("fold","auto",function(e,t){for(var n=e.getHelpers(t,"fold"),i=0;i<n.length;i++){var r=n[i](e,t);if(r)return r}});var o={rangeFinder:u.fold.auto,widget:"↔",minFoldSize:0,scanUp:!1,clearOnEnter:!0};function d(e,t,n){if(t&&void 0!==t[n])return t[n];var i=e.options.foldOptions;return i&&void 0!==i[n]?i[n]:o[n]}u.defineOption("foldOptions",null),u.defineExtension("foldOption",function(e,t){return d(this,e,t)})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(y){"use strict";y.registerHelper("fold","brace",function(r,o){var a,s=o.line,l=r.getLine(s);function e(e){for(var t=o.ch,n=0;;){var i=t<=0?-1:l.lastIndexOf(e,t-1);if(-1!=i){if(1==n&&i<o.ch)break;if(a=r.getTokenTypeAt(y.Pos(s,i+1)),!/^(comment|string)/.test(a))return i+1;t=i-1}else{if(1==n)break;n=1,t=l.length}}}var t="{",n="}",i=e("{");if(null==i&&(n="]",i=e(t="[")),null!=i){var c,u,d=1,h=r.lastLine();e:for(var p=s;p<=h;++p)for(var f=r.getLine(p),g=p==s?i:0;;){var m=f.indexOf(t,g),v=f.indexOf(n,g);if(m<0&&(m=f.length),v<0&&(v=f.length),(g=Math.min(m,v))==f.length)break;if(r.getTokenTypeAt(y.Pos(p,g+1))==a)if(g==m)++d;else if(!--d){c=p,u=g;break e}++g}if(null!=c&&(s!=c||u!=i))return{from:y.Pos(s,i),to:y.Pos(c,u)}}}),y.registerHelper("fold","import",function(o,e){function t(e){if(e<o.firstLine()||e>o.lastLine())return null;var t=o.getTokenAt(y.Pos(e,1));if(/\S/.test(t.string)||(t=o.getTokenAt(y.Pos(e,t.end+1))),"keyword"!=t.type||"import"!=t.string)return null;for(var n=e,i=Math.min(o.lastLine(),e+10);n<=i;++n){var r=o.getLine(n).indexOf(";");if(-1!=r)return{startCh:t.end,end:y.Pos(n,r)}}}var n,i=e.line,r=t(i);if(!r||t(i-1)||(n=t(i-2))&&n.end.line==i-1)return null;for(var a=r.end;;){var s=t(a.line+1);if(null==s)break;a=s.end}return{from:o.clipPos(y.Pos(i,r.startCh+1)),to:a}}),y.registerHelper("fold","include",function(n,e){function t(e){if(e<n.firstLine()||e>n.lastLine())return null;var t=n.getTokenAt(y.Pos(e,1));return/\S/.test(t.string)||(t=n.getTokenAt(y.Pos(e,t.end+1))),"meta"==t.type&&"#include"==t.string.slice(0,8)?t.start+8:void 0}var i=e.line,r=t(i);if(null==r||null!=t(i-1))return null;for(var o=i;;){if(null==t(o+1))break;++o}return{from:y.Pos(i,r+1),to:n.clipPos(y.Pos(o))}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";var u=e.Pos;var t="A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",i=new RegExp("<(/?)(["+t+"][A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD-:.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*)","g");function d(e,t,n,i){this.line=t,this.ch=n,this.cm=e,this.text=e.getLine(t),this.min=i?Math.max(i.from,e.firstLine()):e.firstLine(),this.max=i?Math.min(i.to-1,e.lastLine()):e.lastLine()}function r(e,t){var n=e.cm.getTokenTypeAt(u(e.line,t));return n&&/\btag\b/.test(n)}function o(e){if(!(e.line>=e.max))return e.ch=0,e.text=e.cm.getLine(++e.line),!0}function a(e){if(!(e.line<=e.min))return e.text=e.cm.getLine(--e.line),e.ch=e.text.length,!0}function h(e){for(;;){var t=e.text.indexOf(">",e.ch);if(-1==t){if(o(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=-1<n&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t+1}}function p(e){for(;;){var t=e.ch?e.text.lastIndexOf("<",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(r(e,t+1)){i.lastIndex=t,e.ch=t;var n=i.exec(e.text);if(n&&n.index==t)return n}else e.ch=t}}function l(e){for(;;){i.lastIndex=e.ch;var t=i.exec(e.text);if(!t){if(o(e))continue;return}if(r(e,t.index+1))return e.ch=t.index+t[0].length,t;e.ch=t.index+1}}function c(e){for(;;){var t=e.ch?e.text.lastIndexOf(">",e.ch-1):-1;if(-1==t){if(a(e))continue;return}if(r(e,t+1)){var n=e.text.lastIndexOf("/",t),i=-1<n&&!/\S/.test(e.text.slice(n+1,t));return e.ch=t+1,i?"selfClose":"regular"}e.ch=t}}function f(e,t){for(var n=[];;){var i,r=l(e),o=e.line,a=e.ch-(r?r[0].length:0);if(!r||!(i=h(e)))return;if("selfClose"!=i)if(r[1]){for(var s=n.length-1;0<=s;--s)if(n[s]==r[2]){n.length=s;break}if(s<0&&(!t||t==r[2]))return{tag:r[2],from:u(o,a),to:u(e.line,e.ch)}}else n.push(r[2])}}function g(e,t){for(var n=[];;){var i=c(e);if(!i)return;if("selfClose"!=i){var r=e.line,o=e.ch,a=p(e);if(!a)return;if(a[1])n.push(a[2]);else{for(var s=n.length-1;0<=s;--s)if(n[s]==a[2]){n.length=s;break}if(s<0&&(!t||t==a[2]))return{tag:a[2],from:u(e.line,e.ch),to:u(r,o)}}}else p(e)}}e.registerHelper("fold","xml",function(e,t){for(var n=new d(e,t.line,0);;){var i,r=l(n);if(!r||n.line!=t.line||!(i=h(n)))return;if(!r[1]&&"selfClose"!=i){var o=u(n.line,n.ch),a=f(n,r[2]);return a&&{from:o,to:a.from}}}}),e.findMatchingTag=function(e,t,n){var i=new d(e,t.line,t.ch,n);if(-1!=i.text.indexOf(">")||-1!=i.text.indexOf("<")){var r=h(i),o=r&&u(i.line,i.ch),a=r&&p(i);if(r&&a&&(l=t,!(0<((s=i).line-l.line||s.ch-l.ch)))){var s,l,c={from:u(i.line,i.ch),to:o,tag:a[2]};return"selfClose"==r?{open:c,close:null,at:"open"}:a[1]?{open:g(i,a[2]),close:c,at:"close"}:{open:c,close:f(i=new d(e,o.line,o.ch,n),a[2]),at:"open"}}}},e.findEnclosingTag=function(e,t,n){for(var i=new d(e,t.line,t.ch,n);;){var r=g(i);if(!r)break;var o=f(new d(e,t.line,t.ch,n),r.tag);if(o)return{open:r,close:o}}},e.scanForClosingTag=function(e,t,n,i){return f(new d(e,t.line,t.ch,i?{from:0,to:i}:null),n)}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(Pe){"use strict";function $e(e,t,n){return/^(?:operator|sof|keyword c|case|new|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(n||0)))}Pe.defineMode("javascript",function(e,d){var i,r,h=e.indentUnit,p=d.statementIndent,a=d.jsonld,s=d.json||a,u=d.typescript,l=d.wordCharacters||/[\w$\xa1-\uffff]/,c=function(){function e(e){return{type:e,style:"keyword"}}var t=e("keyword a"),n=e("keyword b"),i=e("keyword c"),r=e("operator"),o={type:"atom",style:"atom"},a={if:e("if"),while:t,with:t,else:n,do:n,try:n,finally:n,return:i,break:i,continue:i,new:e("new"),delete:i,throw:i,debugger:i,var:e("var"),const:e("var"),let:e("var"),function:e("function"),catch:e("catch"),for:e("for"),switch:e("switch"),case:e("case"),default:e("default"),in:r,typeof:r,instanceof:r,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:e("this"),class:e("class"),super:e("atom"),yield:i,export:e("export"),import:e("import"),extends:i,await:i,async:e("async")};if(u){var s={type:"variable",style:"variable-3"},l={interface:e("class"),implements:i,namespace:i,module:e("module"),enum:e("module"),type:e("type"),public:e("modifier"),private:e("modifier"),protected:e("modifier"),abstract:e("modifier"),as:r,string:s,number:s,boolean:s,any:s};for(var c in l)a[c]=l[c]}return a}(),f=/[+\-*&%=<>!?|~^]/,g=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function m(e,t,n){return i=e,r=n,t}function v(e,t){var r,n=e.next();if('"'==n||"'"==n)return t.tokenize=(r=n,function(e,t){var n,i=!1;if(a&&"@"==e.peek()&&e.match(g))return t.tokenize=v,m("jsonld-keyword","meta");for(;null!=(n=e.next())&&(n!=r||i);)i=!i&&"\\"==n;return i||(t.tokenize=v),m("string","string")}),t.tokenize(e,t);if("."==n&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return m("number","number");if("."==n&&e.match(".."))return m("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(n))return m(n);if("="==n&&e.eat(">"))return m("=>","operator");if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),m("number","number");if("0"==n&&e.eat(/o/i))return e.eatWhile(/[0-7]/i),m("number","number");if("0"==n&&e.eat(/b/i))return e.eatWhile(/[01]/i),m("number","number");if(/\d/.test(n))return e.match(/^\d*(?:\.\d*)?(?:[eE][+\-]?\d+)?/),m("number","number");if("/"==n)return e.eat("*")?(t.tokenize=y)(e,t):e.eat("/")?(e.skipToEnd(),m("comment","comment")):$e(e,t,1)?(function(e){for(var t,n=!1,i=!1;null!=(t=e.next());){if(!n){if("/"==t&&!i)return;"["==t?i=!0:i&&"]"==t&&(i=!1)}n=!n&&"\\"==t}}(e),e.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),m("regexp","string-2")):(e.eatWhile(f),m("operator","operator",e.current()));if("`"==n)return(t.tokenize=b)(e,t);if("#"==n)return e.skipToEnd(),m("error","error");if(f.test(n))return e.eatWhile(f),m("operator","operator",e.current());if(l.test(n)){e.eatWhile(l);var i=e.current(),o=c.propertyIsEnumerable(i)&&c[i];return o&&"."!=t.lastType?m(o.type,o.style,i):m("variable","variable",i)}}function y(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=v;break}i="*"==n}return m("comment","comment")}function b(e,t){for(var n,i=!1;null!=(n=e.next());){if(!i&&("`"==n||"$"==n&&e.eat("{"))){t.tokenize=v;break}i=!i&&"\\"==n}return m("quasi","string-2",e.current())}var w="([{}])";function o(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var n=e.string.indexOf("=>",e.start);if(!(n<0)){for(var i=0,r=!1,o=n-1;0<=o;--o){var a=e.string.charAt(o),s=w.indexOf(a);if(0<=s&&s<3){if(!i){++o;break}if(0==--i){"("==a&&(r=!0);break}}else if(3<=s&&s<6)++i;else if(l.test(a))r=!0;else{if(/["'\/]/.test(a))return;if(r&&!i){++o;break}}}r&&!i&&(t.fatArrowAt=o)}}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function C(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.prev=r,this.info=o,null!=i&&(this.align=i)}function S(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return!0;for(var i=e.context;i;i=i.prev)for(n=i.vars;n;n=n.next)if(n.name==t)return!0}var k={state:null,column:null,marked:null,cc:null};function _(){for(var e=arguments.length-1;0<=e;e--)k.cc.push(arguments[e])}function T(){return _.apply(null,arguments),!0}function n(n){function e(e){for(var t=e;t;t=t.next)if(t.name==n)return!0;return!1}var t=k.state;if(k.marked="def",t.context){if(e(t.localVars))return;t.localVars={name:n,next:t.localVars}}else{if(e(t.globalVars))return;d.globalVars&&(t.globalVars={name:n,next:t.globalVars})}}var t={name:"this",next:{name:"arguments"}};function D(){k.state.context={prev:k.state.context,vars:k.state.localVars},k.state.localVars=t}function A(){k.state.localVars=k.state.context.vars,k.state.context=k.state.context.prev}function E(i,r){var e=function(){var e=k.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var n=e.lexical;n&&")"==n.type&&n.align;n=n.prev)t=n.indented;e.lexical=new C(t,k.stream.column(),i,null,e.lexical,r)};return e.lex=!0,e}function I(){var e=k.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function P(n){return function e(t){return t==n?T():";"==n?_():T(e)}}function $(e,t){return"var"==e?T(E("vardef",t.length),le,P(";"),I):"keyword a"==e?T(E("form"),N,$,I):"keyword b"==e?T(E("form"),$,I):"{"==e?T(E("}"),ee,I):";"==e?T():"if"==e?("else"==k.state.lexical.info&&k.state.cc[k.state.cc.length-1]==I&&k.state.cc.pop()(),T(E("form"),N,$,I,pe)):"function"==e?T(be):"for"==e?T(E("form"),fe,$,I):"variable"==e?T(E("stat"),G):"switch"==e?T(E("form"),N,E("}","switch"),P("{"),ee,I,I):"case"==e?T(M,P(":")):"default"==e?T(P(":")):"catch"==e?T(E("form"),D,P("("),we,P(")"),$,I,A):"class"==e?T(E("form"),xe,I):"export"==e?T(E("stat"),_e,I):"import"==e?T(E("stat"),Te,I):"module"==e?T(E("form"),ce,E("}"),P("{"),ee,I,I):"type"==e?T(ie,P("operator"),ie,P(";")):"async"==e?T($):_(E("stat"),M,P(";"),I)}function M(e){return L(e,!1)}function O(e){return L(e,!0)}function N(e){return"("!=e?_():T(E(")"),M,P(")"),I)}function L(e,t){if(k.state.fatArrowAt==k.stream.start){var n=t?U:V;if("("==e)return T(D,E(")"),Q(ce,")"),I,P("=>"),n,A);if("variable"==e)return _(D,ce,P("=>"),n,A)}var i,r=t?q:F;return x.hasOwnProperty(e)?T(r):"function"==e?T(be,r):"keyword c"==e||"async"==e?T(t?R:j):"("==e?T(E(")"),j,P(")"),I,r):"operator"==e||"spread"==e?T(t?O:M):"["==e?T(E("]"),Ie,I,r):"{"==e?Z(X,"}",null,r):"quasi"==e?_(H,r):"new"==e?T((i=t,function(e){return"."==e?T(i?W:z):_(i?O:M)})):T()}function j(e){return e.match(/[;\}\)\],]/)?_():_(M)}function R(e){return e.match(/[;\}\)\],]/)?_():_(O)}function F(e,t){return","==e?T(M):q(e,t,!1)}function q(e,t,n){var i=0==n?F:q,r=0==n?M:O;return"=>"==e?T(D,n?U:V,A):"operator"==e?/\+\+|--/.test(t)?T(i):"?"==t?T(M,P(":"),r):T(r):"quasi"==e?_(H,i):";"!=e?"("==e?Z(O,")","call",i):"."==e?T(Y,i):"["==e?T(E("]"),j,P("]"),I,i):void 0:void 0}function H(e,t){return"quasi"!=e?_():"${"!=t.slice(t.length-2)?T(H):T(M,B)}function B(e){if("}"==e)return k.marked="string-2",k.state.tokenize=b,T(H)}function V(e){return o(k.stream,k.state),_("{"==e?$:M)}function U(e){return o(k.stream,k.state),_("{"==e?$:O)}function z(e,t){if("target"==t)return k.marked="keyword",T(F)}function W(e,t){if("target"==t)return k.marked="keyword",T(q)}function G(e){return":"==e?T(I,$):_(F,P(";"),I)}function Y(e){if("variable"==e)return k.marked="property",T()}function X(e,t){return"async"==e?(k.marked="property",T(X)):"variable"==e||"keyword"==k.style?(k.marked="property",T("get"==t||"set"==t?J:K)):"number"==e||"string"==e?(k.marked=a?"property":k.style+" property",T(K)):"jsonld-keyword"==e?T(K):"modifier"==e?T(X):"["==e?T(M,P("]"),K):"spread"==e?T(M):":"==e?_(K):void 0}function J(e){return"variable"!=e?_(K):(k.marked="property",T(be))}function K(e){return":"==e?T(O):"("==e?_(be):void 0}function Q(i,r){function o(e,t){if(","!=e)return e==r||t==r?T():T(P(r));var n=k.state.lexical;return"call"==n.info&&(n.pos=(n.pos||0)+1),T(function(e,t){return e==r||t==r?_():_(i)},o)}return function(e,t){return e==r||t==r?T():_(i,o)}}function Z(e,t,n){for(var i=3;i<arguments.length;i++)k.cc.push(arguments[i]);return T(E(t,n),Q(e,t),I)}function ee(e){return"}"==e?T():_($,ee)}function te(e,t){if(u){if(":"==e)return T(ie);if("?"==t)return T(te)}}function ne(e,t){if("="==t)return T(O)}function ie(e){return"variable"==e?(k.marked="variable-3",T(se)):"{"==e?T(Q(oe,"}")):"("==e?T(Q(ae,")"),re):void 0}function re(e){if("=>"==e)return T(ie)}function oe(e){return"variable"==e||"keyword"==k.style?(k.marked="property",T(oe)):":"==e?T(ie):void 0}function ae(e){return"variable"==e?T(ae):":"==e?T(ie):void 0}function se(e,t){return"<"==t?T(Q(ie,">"),se):"["==e?T(P("]"),se):void 0}function le(){return _(ce,te,de,he)}function ce(e,t){return"modifier"==e?T(ce):"variable"==e?(n(t),T()):"spread"==e?T(ce):"["==e?Z(ce,"]"):"{"==e?Z(ue,"}"):void 0}function ue(e,t){return"variable"!=e||k.stream.match(/^\s*:/,!1)?("variable"==e&&(k.marked="property"),"spread"==e?T(ce):"}"==e?_():T(P(":"),ce,de)):(n(t),T(de))}function de(e,t){if("="==t)return T(O)}function he(e){if(","==e)return T(le)}function pe(e,t){if("keyword b"==e&&"else"==t)return T(E("form","else"),$,I)}function fe(e){if("("==e)return T(E(")"),ge,P(")"),I)}function ge(e){return"var"==e?T(le,P(";"),ve):";"==e?T(ve):"variable"==e?T(me):_(M,P(";"),ve)}function me(e,t){return"in"==t||"of"==t?(k.marked="keyword",T(M)):T(F,ve)}function ve(e,t){return";"==e?T(ye):"in"==t||"of"==t?(k.marked="keyword",T(M)):_(M,P(";"),ye)}function ye(e){")"!=e&&T(M)}function be(e,t){return"*"==t?(k.marked="keyword",T(be)):"variable"==e?(n(t),T(be)):"("==e?T(D,E(")"),Q(we,")"),I,te,$,A):void 0}function we(e){return"spread"==e?T(we):_(ce,te,ne)}function xe(e,t){if("variable"==e)return n(t),T(Ce)}function Ce(e,t){return"extends"==t?T(u?ie:M,Ce):"{"==e?T(E("}"),Se,I):void 0}function Se(e,t){return"variable"==e||"keyword"==k.style?("static"==t||"get"==t||"set"==t||u&&("public"==t||"private"==t||"protected"==t))&&k.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(k.marked="keyword",T(Se)):(k.marked="property",T(u?ke:be,Se)):"*"==t?(k.marked="keyword",T(Se)):";"==e?T(Se):"}"==e?T():void 0}function ke(e){return":"==e?T(ie):_(be)}function _e(e,t){return"*"==t?(k.marked="keyword",T(Ee,P(";"))):"default"==t?(k.marked="keyword",T(M,P(";"))):_($)}function Te(e){return"string"==e?T():_(De,Ee)}function De(e,t){return"{"==e?Z(De,"}"):("variable"==e&&n(t),"*"==t&&(k.marked="keyword"),T(Ae))}function Ae(e,t){if("as"==t)return k.marked="keyword",T(De)}function Ee(e,t){if("from"==t)return k.marked="keyword",T(M)}function Ie(e){return"]"==e?T():_(Q(O,"]"))}return I.lex=!0,{startState:function(e){var t={tokenize:v,lastType:"sof",cc:[],lexical:new C((e||0)-h,0,"block",!1),localVars:d.localVars,context:d.localVars&&{vars:d.localVars},indented:e||0};return d.globalVars&&"object"==typeof d.globalVars&&(t.globalVars=d.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),o(e,t)),t.tokenize!=y&&e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==i?n:(t.lastType="operator"!=i||"++"!=r&&"--"!=r?i:"incdec",function(e,t,n,i,r){var o=e.cc;for(k.state=e,k.stream=r,k.marked=null,k.cc=o,k.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((o.length?o.pop():s?M:$)(n,i)){for(;o.length&&o[o.length-1].lex;)o.pop()();return k.marked?k.marked:"variable"==n&&S(e,i)?"variable-2":t}}(t,n,i,r,e))},indent:function(e,t){if(e.tokenize==y)return Pe.Pass;if(e.tokenize!=v)return 0;var n,i=t&&t.charAt(0),r=e.lexical;if(!/^\s*else\b/.test(t))for(var o=e.cc.length-1;0<=o;--o){var a=e.cc[o];if(a==I)r=r.prev;else if(a!=pe)break}for(;("stat"==r.type||"form"==r.type)&&("}"==i||(n=e.cc[e.cc.length-1])&&(n==F||n==q)&&!/^[,\.=+\-*:?[\(]/.test(t));)r=r.prev;p&&")"==r.type&&"stat"==r.prev.type&&(r=r.prev);var s,l,c=r.type,u=i==c;return"vardef"==c?r.indented+("operator"==e.lastType||","==e.lastType?r.info+1:0):"form"==c&&"{"==i?r.indented:"form"==c?r.indented+h:"stat"==c?r.indented+(l=t,"operator"==(s=e).lastType||","==s.lastType||f.test(l.charAt(0))||/[,.]/.test(l.charAt(0))?p||h:0):"switch"!=r.info||u||0==d.doubleIndentSwitch?r.align?r.column+(u?0:1):r.indented+(u?0:h):r.indented+(/^(?:case|default)\b/.test(t)?h:2*h)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:a,jsonMode:s,expressionAllowed:$e,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=M&&t!=O||e.cc.pop()}}}),Pe.registerHelper("wordChars","javascript",/[\w$]/),Pe.defineMIME("text/javascript","javascript"),Pe.defineMIME("text/ecmascript","javascript"),Pe.defineMIME("application/javascript","javascript"),Pe.defineMIME("application/x-javascript","javascript"),Pe.defineMIME("application/ecmascript","javascript"),Pe.defineMIME("application/json",{name:"javascript",json:!0}),Pe.defineMIME("application/x-json",{name:"javascript",json:!0}),Pe.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Pe.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Pe.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(S){"use strict";var k={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},_={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};S.defineMode("xml",function(e,t){var a,o,s=e.indentUnit,l={},n=t.htmlMode?k:_;for(var i in n)l[i]=n[i];for(var i in t)l[i]=t[i];function c(t,n){function e(e){return(n.tokenize=e)(t,n)}var i=t.next();return"<"==i?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(r("atom","]]>")):null:t.match("--")?e(r("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function i(r){return function(e,t){for(var n;null!=(n=e.next());){if("<"==n)return t.tokenize=i(r+1),t.tokenize(e,t);if(">"==n){if(1!=r)return t.tokenize=i(r-1),t.tokenize(e,t);t.tokenize=c;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),n.tokenize=r("meta","?>"),"meta"):(a=t.eat("/")?"closeTag":"openTag",n.tokenize=u,"tag bracket"):"&"!=i?(t.eatWhile(/[^&<]/),null):(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error"}function u(e,t){var n=e.next();if(">"==n||"/"==n&&e.eat(">"))return t.tokenize=c,a=">"==n?"endTag":"selfcloseTag","tag bracket";if("="==n)return a="equals",null;if("<"!=n)return/[\'\"]/.test(n)?(t.tokenize=(i=n,(r=function(e,t){for(;!e.eol();)if(e.next()==i){t.tokenize=u;break}return"string"}).isInAttribute=!0,r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=c,t.state=f,t.tagName=t.tagStart=null;var i,r,o=t.tokenize(e,t);return o?o+" tag error":"tag error"}function r(n,i){return function(e,t){for(;!e.eol();){if(e.match(i)){t.tokenize=c;break}e.next()}return n}}function d(e,t,n){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=n,(l.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function h(e){e.context&&(e.context=e.context.prev)}function p(e,t){for(var n;;){if(!e.context)return;if(n=e.context.tagName,!l.contextGrabbers.hasOwnProperty(n)||!l.contextGrabbers[n].hasOwnProperty(t))return;h(e)}}function f(e,t,n){return"openTag"==e?(n.tagStart=t.column(),g):"closeTag"==e?m:f}function g(e,t,n){return"word"==e?(n.tagName=t.current(),o="tag",b):(o="error",g)}function m(e,t,n){if("word"!=e)return o="error",y;var i=t.current();return n.context&&n.context.tagName!=i&&l.implicitlyClosed.hasOwnProperty(n.context.tagName)&&h(n),n.context&&n.context.tagName==i||!1===l.matchClosing?(o="tag",v):(o="tag error",y)}function v(e,t,n){return"endTag"!=e?(o="error",v):(h(n),f)}function y(e,t,n){return o="error",v(e,0,n)}function b(e,t,n){if("word"==e)return o="attribute",w;if("endTag"!=e&&"selfcloseTag"!=e)return o="error",b;var i=n.tagName,r=n.tagStart;return n.tagName=n.tagStart=null,"selfcloseTag"==e||l.autoSelfClosers.hasOwnProperty(i)?p(n,i):(p(n,i),n.context=new d(n,i,r==n.indented)),f}function w(e,t,n){return"equals"==e?x:(l.allowMissing||(o="error"),b(e,0,n))}function x(e,t,n){return"string"==e?C:"word"==e&&l.allowUnquoted?(o="string",b):(o="error",b(e,0,n))}function C(e,t,n){return"string"==e?C:b(e,0,n)}return c.isInText=!0,{startState:function(e){var t={tokenize:c,state:f,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;a=null;var n=t.tokenize(e,t);return(n||a)&&"comment"!=n&&(o=null,t.state=t.state(a||n,e,t),o&&(n="error"==o?n+" error":o)),n},indent:function(e,t,n){var i=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+s;if(i&&i.noIndent)return S.Pass;if(e.tokenize!=u&&e.tokenize!=c)return n?n.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==l.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+s*(l.multilineTagIndentFactor||1);if(l.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var r=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(r&&r[1])for(;i;){if(i.tagName==r[2]){i=i.prev;break}if(!l.implicitlyClosed.hasOwnProperty(i.tagName))break;i=i.prev}else if(r)for(;i;){var o=l.contextGrabbers[i.tagName];if(!o||!o.hasOwnProperty(r[2]))break;i=i.prev}for(;i&&i.prev&&!i.startOfLine;)i=i.prev;return i?i.indent+s:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:l.htmlMode?"html":"xml",helperType:l.htmlMode?"html":"xml",skipAttribute:function(e){e.state==x&&(e.state=b)}}}),S.defineMIME("text/xml","xml"),S.defineMIME("application/xml","xml"),S.mimeModes.hasOwnProperty("text/html")||S.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(E){"use strict";function e(e){for(var t={},n=0;n<e.length;++n)t[e[n]]=!0;return t}E.defineMode("css",function(e,t){var n=t.inline;t.propertyKeywords||(t=E.resolveMode("text/css"));var i,r,o=e.indentUnit,a=t.tokenHooks,s=t.documentTypes||{},l=t.mediaTypes||{},c=t.mediaFeatures||{},u=t.mediaValueKeywords||{},d=t.propertyKeywords||{},h=t.nonStandardPropertyKeywords||{},p=t.fontProperties||{},f=t.counterDescriptors||{},g=t.colorKeywords||{},m=t.valueKeywords||{},v=t.allowNested,y=!0===t.supportsAtComponent;function b(e,t){return i=t,e}function w(r){return function(e,t){for(var n,i=!1;null!=(n=e.next());){if(n==r&&!i){")"==r&&e.backUp(1);break}i=!i&&"\\"==n}return(n==r||!i&&")"!=r)&&(t.tokenize=null),b("string","string")}}function x(e,t){return e.next(),e.match(/\s*[\"\')]/,!1)?t.tokenize=null:t.tokenize=w(")"),b(null,"(")}function C(e,t,n){this.type=e,this.indent=t,this.prev=n}function S(e,t,n,i){return e.context=new C(n,t.indentation()+(!1===i?0:o),e.context),n}function k(e){return e.context.prev&&(e.context=e.context.prev),e.context.type}function _(e,t,n){return A[n.context.type](e,t,n)}function T(e,t,n,i){for(var r=i||1;0<r;r--)n.context=n.context.prev;return _(e,t,n)}function D(e){var t=e.current().toLowerCase();r=m.hasOwnProperty(t)?"atom":g.hasOwnProperty(t)?"keyword":"variable"}var A={top:function(e,t,n){if("{"==e)return S(n,t,"block");if("}"==e&&n.context.prev)return k(n);if(y&&/@component/.test(e))return S(n,t,"atComponentBlock");if(/^@(-moz-)?document$/.test(e))return S(n,t,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/.test(e))return S(n,t,"atBlock");if(/^@(font-face|counter-style)/.test(e))return n.stateArg=e,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/.test(e))return"keyframes";if(e&&"@"==e.charAt(0))return S(n,t,"at");if("hash"==e)r="builtin";else if("word"==e)r="tag";else{if("variable-definition"==e)return"maybeprop";if("interpolation"==e)return S(n,t,"interpolation");if(":"==e)return"pseudo";if(v&&"("==e)return S(n,t,"parens")}return n.context.type},block:function(e,t,n){if("word"!=e)return"meta"==e?"block":v||"hash"!=e&&"qualifier"!=e?A.top(e,t,n):(r="error","block");var i=t.current().toLowerCase();return d.hasOwnProperty(i)?(r="property","maybeprop"):h.hasOwnProperty(i)?(r="string-2","maybeprop"):v?(r=t.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(r+=" error","maybeprop")},maybeprop:function(e,t,n){return":"==e?S(n,t,"prop"):_(e,t,n)},prop:function(e,t,n){if(";"==e)return k(n);if("{"==e&&v)return S(n,t,"propBlock");if("}"==e||"{"==e)return T(e,t,n);if("("==e)return S(n,t,"parens");if("hash"!=e||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(t.current())){if("word"==e)D(t);else if("interpolation"==e)return S(n,t,"interpolation")}else r+=" error";return"prop"},propBlock:function(e,t,n){return"}"==e?k(n):"word"==e?(r="property","maybeprop"):n.context.type},parens:function(e,t,n){return"{"==e||"}"==e?T(e,t,n):")"==e?k(n):"("==e?S(n,t,"parens"):"interpolation"==e?S(n,t,"interpolation"):("word"==e&&D(t),"parens")},pseudo:function(e,t,n){return"word"==e?(r="variable-3",n.context.type):_(e,t,n)},documentTypes:function(e,t,n){return"word"==e&&s.hasOwnProperty(t.current())?(r="tag",n.context.type):A.atBlock(e,t,n)},atBlock:function(e,t,n){if("("==e)return S(n,t,"atBlock_parens");if("}"==e||";"==e)return T(e,t,n);if("{"==e)return k(n)&&S(n,t,v?"block":"top");if("interpolation"==e)return S(n,t,"interpolation");if("word"==e){var i=t.current().toLowerCase();r="only"==i||"not"==i||"and"==i||"or"==i?"keyword":l.hasOwnProperty(i)?"attribute":c.hasOwnProperty(i)?"property":u.hasOwnProperty(i)?"keyword":d.hasOwnProperty(i)?"property":h.hasOwnProperty(i)?"string-2":m.hasOwnProperty(i)?"atom":g.hasOwnProperty(i)?"keyword":"error"}return n.context.type},atComponentBlock:function(e,t,n){return"}"==e?T(e,t,n):"{"==e?k(n)&&S(n,t,v?"block":"top",!1):("word"==e&&(r="error"),n.context.type)},atBlock_parens:function(e,t,n){return")"==e?k(n):"{"==e||"}"==e?T(e,t,n,2):A.atBlock(e,t,n)},restricted_atBlock_before:function(e,t,n){return"{"==e?S(n,t,"restricted_atBlock"):"word"==e&&"@counter-style"==n.stateArg?(r="variable","restricted_atBlock_before"):_(e,t,n)},restricted_atBlock:function(e,t,n){return"}"==e?(n.stateArg=null,k(n)):"word"==e?(r="@font-face"==n.stateArg&&!p.hasOwnProperty(t.current().toLowerCase())||"@counter-style"==n.stateArg&&!f.hasOwnProperty(t.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(e,t,n){return"word"==e?(r="variable","keyframes"):"{"==e?S(n,t,"top"):_(e,t,n)},at:function(e,t,n){return";"==e?k(n):"{"==e||"}"==e?T(e,t,n):("word"==e?r="tag":"hash"==e&&(r="builtin"),"at")},interpolation:function(e,t,n){return"}"==e?k(n):"{"==e||";"==e?T(e,t,n):("word"==e?r="variable":"variable"!=e&&"("!=e&&")"!=e&&(r="error"),"interpolation")}};return{startState:function(e){return{tokenize:null,state:n?"block":"top",stateArg:null,context:new C(n?"block":"top",e||0,null)}},token:function(e,t){if(!t.tokenize&&e.eatSpace())return null;var n=(t.tokenize||function(e,t){var n=e.next();if(a[n]){var i=a[n](e,t);if(!1!==i)return i}return"@"==n?(e.eatWhile(/[\w\\\-]/),b("def",e.current())):"="==n||("~"==n||"|"==n)&&e.eat("=")?b(null,"compare"):'"'==n||"'"==n?(t.tokenize=w(n),t.tokenize(e,t)):"#"==n?(e.eatWhile(/[\w\\\-]/),b("atom","hash")):"!"==n?(e.match(/^\s*\w*/),b("keyword","important")):/\d/.test(n)||"."==n&&e.eat(/\d/)?(e.eatWhile(/[\w.%]/),b("number","unit")):"-"!==n?/[,+>*\/]/.test(n)?b(null,"select-op"):"."==n&&e.match(/^-?[_a-z][_a-z0-9-]*/i)?b("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(n)?b(null,n):"u"==n&&e.match(/rl(-prefix)?\(/)||"d"==n&&e.match("omain(")||"r"==n&&e.match("egexp(")?(e.backUp(1),t.tokenize=x,b("property","word")):/[\w\\\-]/.test(n)?(e.eatWhile(/[\w\\\-]/),b("property","word")):b(null,null):/[\d.]/.test(e.peek())?(e.eatWhile(/[\w.%]/),b("number","unit")):e.match(/^-[\w\\\-]+/)?(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?b("variable-2","variable-definition"):b("variable-2","variable")):e.match(/^\w+-/)?b("meta","meta"):void 0})(e,t);return n&&"object"==typeof n&&(i=n[1],n=n[0]),r=n,t.state=A[t.state](i,e,t),r},indent:function(e,t){var n=e.context,i=t&&t.charAt(0),r=n.indent;return"prop"!=n.type||"}"!=i&&")"!=i||(n=n.prev),n.prev&&("}"!=i||"block"!=n.type&&"top"!=n.type&&"interpolation"!=n.type&&"restricted_atBlock"!=n.type?(")"!=i||"parens"!=n.type&&"atBlock_parens"!=n.type)&&("{"!=i||"at"!=n.type&&"atBlock"!=n.type)||(r=Math.max(0,n.indent-o),n=n.prev):r=(n=n.prev).indent),r},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",fold:"brace"}});var t=["domain","regexp","url","url-prefix"],n=e(t),i=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],r=e(i),o=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover"],a=e(o),s=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive"],l=e(s),c=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","baseline-shift","binding","bleed","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-feature-settings","font-family","font-kerning","font-language-override","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-weight","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","justify-content","left","letter-spacing","line-break","line-height","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marker-offset","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","max-height","max-width","min-height","min-width","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotation","rotation-point","ruby-align","ruby-overhang","ruby-position","ruby-span","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-outline","text-overflow","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","unicode-bidi","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","word-break","word-spacing","word-wrap","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],u=e(c),d=["scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-3d-light-color","scrollbar-track-color","shape-inside","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","zoom"],h=e(d),p=e(["font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),f=e(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),g=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],m=e(g),v=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","avoid","avoid-column","avoid-page","avoid-region","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","content-box","context-menu","continuous","copy","counter","counters","cover","crop","cross","crosshair","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","semi-condensed","semi-expanded","separate","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","spell-out","square","square-button","start","static","status-bar","stretch","stroke","sub","subpixel-antialiased","super","sw-resize","symbolic","symbols","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],y=e(v),b=t.concat(i).concat(o).concat(s).concat(c).concat(d).concat(g).concat(v);function w(e,t){for(var n,i=!1;null!=(n=e.next());){if(i&&"/"==n){t.tokenize=null;break}i="*"==n}return["comment","comment"]}E.registerHelper("hintWords","css",b),E.defineMIME("text/css",{documentTypes:n,mediaTypes:r,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,fontProperties:p,counterDescriptors:f,colorKeywords:m,valueKeywords:y,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w)(e,t)}},name:"css"}),E.defineMIME("text/x-scss",{mediaTypes:r,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:m,valueKeywords:y,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w)(e,t):["operator","operator"]},":":function(e){return!!e.match(/\s*\{/)&&[null,"{"]},$:function(e){return e.match(/^[\w-]+/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(e){return!!e.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),E.defineMIME("text/x-less",{mediaTypes:r,mediaFeatures:a,mediaValueKeywords:l,propertyKeywords:u,nonStandardPropertyKeywords:h,colorKeywords:m,valueKeywords:y,fontProperties:p,allowNested:!0,tokenHooks:{"/":function(e,t){return e.eat("/")?(e.skipToEnd(),["comment","comment"]):e.eat("*")?(t.tokenize=w)(e,t):["operator","operator"]},"@":function(e){return e.eat("{")?[null,"interpolation"]:!e.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/,!1)&&(e.eatWhile(/[\w\\\-]/),e.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),E.defineMIME("text/x-gss",{documentTypes:n,mediaTypes:r,mediaFeatures:a,propertyKeywords:u,nonStandardPropertyKeywords:h,fontProperties:p,counterDescriptors:f,colorKeywords:m,valueKeywords:y,supportsAtComponent:!0,tokenHooks:{"/":function(e,t){return!!e.eat("*")&&(t.tokenize=w)(e,t)}},name:"css",helperType:"gss"})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(f){"use strict";var r={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var o={};function g(e,t){var n,i=e.match(o[n=t]||(o[n]=new RegExp("\\s+"+n+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return i?/^\s*(.*?)\s*$/.exec(i[2])[1]:""}function m(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function a(e,t){for(var n in e)for(var i=t[n]||(t[n]=[]),r=e[n],o=r.length-1;0<=o;o--)i.unshift(r[o])}f.defineMode("htmlmixed",function(u,e){var d=f.getMode(u,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),h={},t=e&&e.tags,n=e&&e.scriptTypes;if(a(r,h),t&&a(t,h),n)for(var i=n.length-1;0<=i;i--)h.script.unshift(["type",n[i].matches,n[i].mode]);function p(e,t){var n,i=d.token(e,t.htmlState),r=/\btag\b/.test(i);if(r&&!/[<>\s\/]/.test(e.current())&&(n=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&h.hasOwnProperty(n))t.inTag=n+" ";else if(t.inTag&&r&&/>$/.test(e.current())){var o=/^([\S]+) (.*)/.exec(t.inTag);t.inTag=null;var a=">"==e.current()&&function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(!i[0]||i[1].test(g(t,i[0])))return i[2]}}(h[o[1]],o[2]),s=f.getMode(u,a),l=m(o[1],!0),c=m(o[1],!1);t.token=function(e,t){return e.match(l,!1)?(t.token=p,t.localState=t.localMode=null,null):(n=e,i=c,r=t.localMode.token(e,t.localState),o=n.current(),-1<(a=o.search(i))?n.backUp(o.length-a):o.match(/<\/?$/)&&(n.backUp(o.length),n.match(i,!1)||n.match(o)),r);var n,i,r,o,a},t.localMode=s,t.localState=f.startState(s,d.indent(t.htmlState,""))}else t.inTag&&(t.inTag+=e.current(),e.eol()&&(t.inTag+=" "));return i}return{startState:function(){return{token:p,inTag:null,localMode:null,localState:null,htmlState:f.startState(d)}},copyState:function(e){var t;return e.localState&&(t=f.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:f.copyState(d,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t){return!e.localMode||/^\s*<\//.test(t)?d.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t):f.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||d}}}},"xml","javascript","css"),f.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../meta")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../meta"],e):e(CodeMirror)}(function(P){"use strict";P.defineMode("markdown",function(s,w){var x=P.getMode(s,"text/html"),r="null"==x.name;void 0===w.highlightFormatting&&(w.highlightFormatting=!1),void 0===w.maxBlockquoteDepth&&(w.maxBlockquoteDepth=0),void 0===w.underscoresBreakWords&&(w.underscoresBreakWords=!0),void 0===w.taskLists&&(w.taskLists=!1),void 0===w.strikethrough&&(w.strikethrough=!1),void 0===w.tokenTypeOverrides&&(w.tokenTypeOverrides={});var C={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"image",imageAltText:"image-alt-text",imageMarker:"image-marker",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var e in C)C.hasOwnProperty(e)&&w.tokenTypeOverrides[e]&&(C[e]=w.tokenTypeOverrides[e]);var l=/^([*\-_])(?:\s*\1){2,}\s*$/,c=/^[*\-+]\s+/,u=/^[0-9]+([.)])\s+/,S=/^\[(x| )\](?=\s)/,d=w.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,h=/^ *(?:\={1,}|-{1,})\s*$/,n=/^[^#!\[\]*_\\<>` "'(~]+/,p=new RegExp("^("+(!0===w.fencedCodeBlocks?"~~~+|```+":w.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)");function f(e,t,n){return t.f=t.inline=n,n(e,t)}function g(e){return!e||!/\S/.test(e.string)}function o(e){return e.linkTitle=!1,e.em=!1,e.strong=!1,e.strikethrough=!1,e.quote=0,e.indentedCode=!1,r&&e.f==k&&(e.f=v,e.block=a),e.trailingSpace=0,e.trailingSpaceNewLine=!1,e.prevLine=e.thisLine,e.thisLine=null}function a(e,t){var n=e.sol(),i=!1!==t.list,r=t.indentedCode;t.indentedCode=!1,i&&(0<=t.indentationDiff?(t.indentationDiff<4&&(t.indentation-=t.indentationDiff),t.list=null):0<t.indentation?t.list=null:t.list=!1);var o=null;if(4<=t.indentationDiff)return e.skipToEnd(),r||g(t.prevLine)?(t.indentation-=4,t.indentedCode=!0,C.code):null;if(e.eatSpace())return null;if((o=e.match(d))&&o[1].length<=6)return t.header=o[1].length,w.highlightFormatting&&(t.formatting="header"),t.f=t.inline,_(t);if(!(g(t.prevLine)||t.quote||i||r)&&(o=e.match(h)))return t.header="="==o[0].charAt(0)?1:2,w.highlightFormatting&&(t.formatting="header"),t.f=t.inline,_(t);if(e.eat(">"))return t.quote=n?1:t.quote+1,w.highlightFormatting&&(t.formatting="quote"),e.eatSpace(),_(t);if("["===e.peek())return f(e,t,b);if(e.match(l,!0))return t.hr=!0,C.hr;if(!g(t.prevLine)&&!i||!e.match(c,!1)&&!e.match(u,!1))return w.fencedCodeBlocks&&(o=e.match(p,!0))?(t.fencedChars=o[1],t.localMode=function(e){if(P.findModeByName){var t=P.findModeByName(e);t&&(e=t.mime||t.mimes[0])}var n=P.getMode(s,e);return"null"==n.name?null:n}(o[2]),t.localMode&&(t.localState=P.startState(t.localMode)),t.f=t.block=m,w.highlightFormatting&&(t.formatting="code-block"),t.code=-1,_(t)):f(e,t,t.inline);var a=null;for(e.match(c,!0)?a="ul":(e.match(u,!0),a="ol"),t.indentation=e.column()+e.current().length,t.list=!0;t.listStack&&e.column()<t.listStack[t.listStack.length-1];)t.listStack.pop();return t.listStack.push(t.indentation),w.taskLists&&e.match(S,!1)&&(t.taskList=!0),t.f=t.inline,w.highlightFormatting&&(t.formatting=["list","list-"+a]),_(t)}function k(e,t){var n=x.token(e,t.htmlState);if(!r){var i=P.innerMode(x,t.htmlState);("xml"==i.mode.name&&null===i.state.tagStart&&!i.state.context&&i.state.tokenize.isInText||t.md_inside&&-1<e.current().indexOf(">"))&&(t.f=v,t.block=a,t.htmlState=null)}return n}function m(e,t){return t.fencedChars&&e.match(t.fencedChars,!1)?(t.localMode=t.localState=null,t.f=t.block=i,null):t.localMode?t.localMode.token(e,t.localState):(e.skipToEnd(),C.code)}function i(e,t){e.match(t.fencedChars),t.block=a,t.f=v,t.fencedChars=null,w.highlightFormatting&&(t.formatting="code-block"),t.code=1;var n=_(t);return t.code=0,n}function _(e){var t=[];if(e.formatting){t.push(C.formatting),"string"==typeof e.formatting&&(e.formatting=[e.formatting]);for(var n=0;n<e.formatting.length;n++)t.push(C.formatting+"-"+e.formatting[n]),"header"===e.formatting[n]&&t.push(C.formatting+"-"+e.formatting[n]+"-"+e.header),"quote"===e.formatting[n]&&(!w.maxBlockquoteDepth||w.maxBlockquoteDepth>=e.quote?t.push(C.formatting+"-"+e.formatting[n]+"-"+e.quote):t.push("error"))}if(e.taskOpen)return t.push("meta"),t.length?t.join(" "):null;if(e.taskClosed)return t.push("property"),t.length?t.join(" "):null;if(e.linkHref?t.push(C.linkHref,"url"):(e.strong&&t.push(C.strong),e.em&&t.push(C.em),e.strikethrough&&t.push(C.strikethrough),e.linkText&&t.push(C.linkText),e.code&&t.push(C.code),e.image&&t.push(C.image),e.imageAltText&&t.push(C.imageAltText,"link"),e.imageMarker&&t.push(C.imageMarker)),e.header&&t.push(C.header,C.header+"-"+e.header),e.quote&&(t.push(C.quote),!w.maxBlockquoteDepth||w.maxBlockquoteDepth>=e.quote?t.push(C.quote+"-"+e.quote):t.push(C.quote+"-"+w.maxBlockquoteDepth)),!1!==e.list){var i=(e.listStack.length-1)%3;i?1===i?t.push(C.list2):t.push(C.list3):t.push(C.list1)}return e.trailingSpaceNewLine?t.push("trailing-space-new-line"):e.trailingSpace&&t.push("trailing-space-"+(e.trailingSpace%2?"a":"b")),t.length?t.join(" "):null}function t(e,t){if(e.match(n,!0))return _(t)}function v(e,t){var n=t.text(e,t);if(void 0!==n)return n;if(t.list)return t.list=null,_(t);if(t.taskList)return"x"!==e.match(S,!0)[1]?t.taskOpen=!0:t.taskClosed=!0,w.highlightFormatting&&(t.formatting="task"),t.taskList=!1,_(t);if(t.taskOpen=!1,t.taskClosed=!1,t.header&&e.match(/^#+$/,!0))return w.highlightFormatting&&(t.formatting="header"),_(t);var i,r,o,a=e.sol(),s=e.next();if(t.linkTitle){t.linkTitle=!1;var l=s;"("===s&&(l=")");var c="^\\s*(?:[^"+(l=(l+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"))+"\\\\]+|\\\\\\\\|\\\\.)"+l;if(e.match(new RegExp(c),!0))return C.linkHref}if("`"===s){var u=t.formatting;w.highlightFormatting&&(t.formatting="code"),e.eatWhile("`");var d=e.current().length;if(0==t.code)return t.code=d,_(t);if(d!=t.code)return t.formatting=u,_(t);var h=_(t);return t.code=0,h}if(t.code)return _(t);if("\\"===s&&(e.next(),w.highlightFormatting)){var p=_(t),f=C.formatting+"-escape";return p?p+" "+f:f}if("!"===s&&e.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return t.imageMarker=!0,t.image=!0,w.highlightFormatting&&(t.formatting="image"),_(t);if("["===s&&t.imageMarker)return t.imageMarker=!1,t.imageAltText=!0,w.highlightFormatting&&(t.formatting="image"),_(t);if("]"===s&&t.imageAltText){w.highlightFormatting&&(t.formatting="image");var p=_(t);return t.imageAltText=!1,t.image=!1,t.inline=t.f=D,p}if("["===s&&e.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1)&&!t.image)return t.linkText=!0,w.highlightFormatting&&(t.formatting="link"),_(t);if("]"===s&&t.linkText&&e.match(/\(.*?\)| ?\[.*?\]/,!1)){w.highlightFormatting&&(t.formatting="link");var p=_(t);return t.linkText=!1,t.inline=t.f=D,p}if("<"===s&&e.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1))return t.f=t.inline=T,w.highlightFormatting&&(t.formatting="link"),(p=_(t))?p+=" ":p="",p+C.linkInline;if("<"===s&&e.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1))return t.f=t.inline=T,w.highlightFormatting&&(t.formatting="link"),(p=_(t))?p+=" ":p="",p+C.linkEmail;if("<"===s&&e.match(/^(!--|\w)/,!1)){var g=e.string.indexOf(">",e.pos);if(-1!=g){var m=e.string.substring(e.start,g);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(m)&&(t.md_inside=!0)}return e.backUp(1),t.htmlState=P.startState(x),i=e,o=k,(r=t).f=r.block=o,o(i,r)}if("<"===s&&e.match(/^\/\w*?>/))return t.md_inside=!1,"tag";var v=!1;if(!w.underscoresBreakWords&&"_"===s&&"_"!==e.peek()&&e.match(/(\w)/,!1)){var y=e.pos-2;if(0<=y){var b=e.string.charAt(y);"_"!==b&&b.match(/(\w)/,!1)&&(v=!0)}}if("*"===s||"_"===s&&!v)if(a&&" "===e.peek());else{if(t.strong===s&&e.eat(s)){w.highlightFormatting&&(t.formatting="strong");h=_(t);return t.strong=!1,h}if(!t.strong&&e.eat(s))return t.strong=s,w.highlightFormatting&&(t.formatting="strong"),_(t);if(t.em===s){w.highlightFormatting&&(t.formatting="em");h=_(t);return t.em=!1,h}if(!t.em)return t.em=s,w.highlightFormatting&&(t.formatting="em"),_(t)}else if(" "===s&&(e.eat("*")||e.eat("_"))){if(" "===e.peek())return _(t);e.backUp(1)}if(w.strikethrough)if("~"===s&&e.eatWhile(s)){if(t.strikethrough){w.highlightFormatting&&(t.formatting="strikethrough");h=_(t);return t.strikethrough=!1,h}if(e.match(/^[^\s]/,!1))return t.strikethrough=!0,w.highlightFormatting&&(t.formatting="strikethrough"),_(t)}else if(" "===s&&e.match(/^~~/,!0)){if(" "===e.peek())return _(t);e.backUp(2)}return" "===s&&(e.match(/ +$/,!1)?t.trailingSpace++:t.trailingSpace&&(t.trailingSpaceNewLine=!0)),_(t)}function T(e,t){if(">"!==e.next())return e.match(/^[^>]+/,!0),C.linkInline;t.f=t.inline=v,w.highlightFormatting&&(t.formatting="link");var n=_(t);return n?n+=" ":n="",n+C.linkInline}function D(e,t){if(e.eatSpace())return null;var r,n=e.next();return"("===n||"["===n?(t.f=t.inline=(r="("===n?")":"]",function(e,t){var n=e.next();if(n!==r)return e.match(y[r]),t.linkHref=!0,_(t);t.f=t.inline=v,w.highlightFormatting&&(t.formatting="link-string");var i=_(t);return t.linkHref=!1,i}),w.highlightFormatting&&(t.formatting="link-string"),t.linkHref=!0,_(t)):"error"}var y={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/};function b(e,t){return e.match(/^([^\]\\]|\\.)*\]:/,!1)?(t.f=A,e.next(),w.highlightFormatting&&(t.formatting="link"),t.linkText=!0,_(t)):f(e,t,v)}function A(e,t){if(e.match(/^\]:/,!0)){t.f=t.inline=E,w.highlightFormatting&&(t.formatting="link");var n=_(t);return t.linkText=!1,n}return e.match(/^([^\]\\]|\\.)+/,!0),C.linkText}function E(e,t){return e.eatSpace()?null:(e.match(/^[^\s]+/,!0),void 0===e.peek()?t.linkTitle=!0:e.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),t.f=t.inline=v,C.linkHref+" url")}var I={startState:function(){return{f:a,prevLine:null,thisLine:null,block:a,htmlState:null,indentation:0,inline:v,text:t,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(e){return{f:e.f,prevLine:e.prevLine,thisLine:e.thisLine,block:e.block,htmlState:e.htmlState&&P.copyState(x,e.htmlState),indentation:e.indentation,localMode:e.localMode,localState:e.localMode?P.copyState(e.localMode,e.localState):null,inline:e.inline,text:e.text,formatting:!1,linkTitle:e.linkTitle,code:e.code,em:e.em,strong:e.strong,strikethrough:e.strikethrough,header:e.header,hr:e.hr,taskList:e.taskList,list:e.list,listStack:e.listStack.slice(0),quote:e.quote,indentedCode:e.indentedCode,trailingSpace:e.trailingSpace,trailingSpaceNewLine:e.trailingSpaceNewLine,md_inside:e.md_inside,fencedChars:e.fencedChars}},token:function(e,t){if(t.formatting=!1,e!=t.thisLine){var n=t.header||t.hr;if(t.header=0,t.hr=!1,e.match(/^\s*$/,!0)||n){if(o(t),!n)return null;t.prevLine=null}t.prevLine=t.thisLine,t.thisLine=e,t.taskList=!1,t.trailingSpace=0,t.trailingSpaceNewLine=!1,t.f=t.block;var i=e.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(t.indentationDiff=Math.min(i-t.indentation,4),t.indentation=t.indentation+t.indentationDiff,0<i)return null}return t.f(e,t)},innerMode:function(e){return e.block==k?{state:e.htmlState,mode:x}:e.localState?{state:e.localState,mode:e.localMode}:{state:e,mode:I}},blankLine:o,getType:_,fold:"markdown"};return I},"xml"),P.defineMIME("text/x-markdown","markdown")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("diff",function(){var i={"+":"positive","-":"negative","@":"meta"};return{token:function(e){var t=e.string.search(/[\t ]+?$/);if(!e.sol()||0===t)return e.skipToEnd(),("error "+(i[e.string.charAt(0)]||"")).replace(/ $/,"");var n=i[e.peek()]||e.skipToEnd();return-1===t?e.skipToEnd():e.pos=t,n}}}),e.defineMIME("text/x-diff","diff")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("properties",function(){return{token:function(e,t){var n=e.sol()||t.afterSection,i=e.eol();if(t.afterSection=!1,n&&(t.nextMultiline?(t.inMultiline=!0,t.nextMultiline=!1):t.position="def"),i&&!t.nextMultiline&&(t.inMultiline=!1,t.position="def"),n)for(;e.eatSpace(););var r=e.next();return!n||"#"!==r&&"!"!==r&&";"!==r?n&&"["===r?(t.afterSection=!0,e.skipTo("]"),e.eat("]"),"header"):"="===r||":"===r?(t.position="quote",null):("\\"===r&&"quote"===t.position&&e.eol()&&(t.nextMultiline=!0),t.position):(t.position="comment",e.skipToEnd(),"comment")},startState:function(){return{position:"def",nextMultiline:!1,inMultiline:!1,afterSection:!1}}}}),e.defineMIME("text/x-properties","properties"),e.defineMIME("text/x-ini","properties")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(E){"use strict";function I(e,t,n,i,r,o){this.indented=e,this.column=t,this.type=n,this.info=i,this.align=r,this.prev=o}function P(e,t,n,i){var r=e.indented;return e.context&&"statement"!=e.context.type&&"statement"!=n&&(r=e.context.indented),e.context=new I(r,t,n,i,null,e.context)}function $(e){var t=e.context.type;return")"!=t&&"]"!=t&&"}"!=t||(e.indented=e.context.indented),e.context=e.context.prev}function M(e,t,n){return"variable"==t.prevToken||"variable-3"==t.prevToken||(!!/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,n))||(!(!t.typeAtEndOfLine||e.column()!=e.indentation())||void 0))}function O(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.info)return!1;e=e.prev}}function e(e){for(var t={},n=e.split(" "),i=0;i<n.length;++i)t[n[i]]=!0;return t}function N(e,t){return"function"==typeof e?e(t):e.propertyIsEnumerable(t)}E.defineMode("clike",function(e,s){var a,l,c=e.indentUnit,u=s.statementIndentUnit||c,d=s.dontAlignCalls,h=s.keywords||{},p=s.types||{},f=s.builtin||{},g=s.blockKeywords||{},m=s.defKeywords||{},v=s.atoms||{},y=s.hooks||{},b=s.multiLineStrings,o=!1!==s.indentStatements,t=!1!==s.indentSwitch,w=s.namespaceSeparator,x=s.isPunctuationChar||/[\[\]{}\(\),;\:\.]/,C=s.numberStart||/[\d\.]/,S=s.number||/^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i,k=s.isOperatorChar||/[+\-*&%=<>!?|\/]/,_=s.endStatement||/^[;:,]$/;function T(e,t){var o,n=e.next();if(y[n]){var i=y[n](e,t);if(!1!==i)return i}if('"'==n||"'"==n)return t.tokenize=(o=n,function(e,t){for(var n,i=!1,r=!1;null!=(n=e.next());){if(n==o&&!i){r=!0;break}i=!i&&"\\"==n}return(r||!i&&!b)&&(t.tokenize=null),"string"}),t.tokenize(e,t);if(x.test(n))return a=n,null;if(C.test(n)){if(e.backUp(1),e.match(S))return"number";e.next()}if("/"==n){if(e.eat("*"))return(t.tokenize=D)(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(k.test(n)){for(;!e.match(/^\/[\/*]/,!1)&&e.eat(k););return"operator"}if(e.eatWhile(/[\w\$_\xa1-\uffff]/),w)for(;e.match(w);)e.eatWhile(/[\w\$_\xa1-\uffff]/);var r=e.current();return N(h,r)?(N(g,r)&&(a="newstatement"),N(m,r)&&(l=!0),"keyword"):N(p,r)?"variable-3":N(f,r)?(N(g,r)&&(a="newstatement"),"builtin"):N(v,r)?"atom":"variable"}function D(e,t){for(var n,i=!1;n=e.next();){if("/"==n&&i){t.tokenize=null;break}i="*"==n}return"comment"}function A(e,t){s.typeFirstDefinitions&&e.eol()&&O(t.context)&&(t.typeAtEndOfLine=M(e,t,e.pos))}return{startState:function(e){return{tokenize:null,context:new I((e||0)-c,0,"top",null,!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var n=t.context;if(e.sol()&&(null==n.align&&(n.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return A(e,t),null;a=l=null;var i=(t.tokenize||T)(e,t);if("comment"==i||"meta"==i)return i;if(null==n.align&&(n.align=!0),_.test(a))for(;"statement"==t.context.type;)$(t);else if("{"==a)P(t,e.column(),"}");else if("["==a)P(t,e.column(),"]");else if("("==a)P(t,e.column(),")");else if("}"==a){for(;"statement"==n.type;)n=$(t);for("}"==n.type&&(n=$(t));"statement"==n.type;)n=$(t)}else a==n.type?$(t):o&&(("}"==n.type||"top"==n.type)&&";"!=a||"statement"==n.type&&"newstatement"==a)&&P(t,e.column(),"statement",e.current());if("variable"==i&&("def"==t.prevToken||s.typeFirstDefinitions&&M(e,t,e.start)&&O(t.context)&&e.match(/^\s*\(/,!1))&&(i="def"),y.token){var r=y.token(e,t,i);void 0!==r&&(i=r)}return"def"==i&&!1===s.styleDefs&&(i="variable"),t.startOfLine=!1,t.prevToken=l?"def":i||a,A(e,t),i},indent:function(e,t){if(e.tokenize!=T&&null!=e.tokenize||e.typeAtEndOfLine)return E.Pass;var n=e.context,i=t&&t.charAt(0);if("statement"==n.type&&"}"==i&&(n=n.prev),s.dontIndentStatements)for(;"statement"==n.type&&s.dontIndentStatements.test(n.info);)n=n.prev;if(y.indent){var r=y.indent(e,n,t);if("number"==typeof r)return r}var o=i==n.type,a=n.prev&&"switch"==n.prev.info;if(s.allmanIndentation&&/[{(]/.test(i)){for(;"top"!=n.type&&"}"!=n.type;)n=n.prev;return n.indented}return"statement"==n.type?n.indented+("{"==i?0:u):!n.align||d&&")"==n.type?")"!=n.type||o?n.indented+(o?0:c)+(o||!a||/^(?:case|default)\b/.test(t)?0:c):n.indented+u:n.column+(o?0:1)},electricInput:t?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var t="auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile",n="int long char short double float unsigned signed void size_t ptrdiff_t";function r(e,t){if(!t.startOfLine)return!1;for(var n,i=null;n=e.peek();){if("\\"==n&&e.match(/^.$/)){i=r;break}if("/"==n&&e.match(/^\/[\/\*]/,!1))break;e.next()}return t.tokenize=i,"meta"}function i(e,t){return"variable-3"==t.prevToken&&"variable-3"}function o(e){return e.eatWhile(/[\w\.']/),"number"}function a(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return!!n&&(t.cpp11RawStringDelim=n[1],(t.tokenize=l)(e,t))}return e.match(/(u8|u|U|L)/)?!!e.match(/["']/,!1)&&"string":(e.next(),!1)}function s(e,t){for(var n;null!=(n=e.next());)if('"'==n&&!e.eat('"')){t.tokenize=null;break}return"string"}function l(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&");return e.match(new RegExp(".*?\\)"+n+'"'))?t.tokenize=null:e.skipToEnd(),"string"}function c(e,t){"string"==typeof e&&(e=[e]);var n=[];function i(e){if(e)for(var t in e)e.hasOwnProperty(t)&&n.push(t)}i(t.keywords),i(t.types),i(t.builtin),i(t.atoms),n.length&&(t.helperType=e[0],E.registerHelper("hintWords",e[0],n));for(var r=0;r<e.length;++r)E.defineMIME(e[r],t)}function u(e,t){for(var n=!1;!e.eol();){if(!n&&e.match('"""')){t.tokenize=null;break}n="\\"==e.next()&&!n}return"string"}c(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:e(t),types:e(n+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:e("case do else for if switch while struct"),defKeywords:e("struct"),typeFirstDefinitions:!0,atoms:e("null true false"),hooks:{"#":r,"*":i},modeProps:{fold:["brace","include"]}}),c(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:e(t+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:e(n+" bool wchar_t"),blockKeywords:e("catch class do else finally for if struct switch try while"),defKeywords:e("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:e("true false null"),dontIndentStatements:/^template$/,hooks:{"#":r,"*":i,u:a,U:a,L:a,R:a,0:o,1:o,2:o,3:o,4:o,5:o,6:o,7:o,8:o,9:o,token:function(e,t,n){if("variable"==n&&"("==e.peek()&&(";"==t.prevToken||null==t.prevToken||"}"==t.prevToken)&&(i=e.current(),(r=/(\w+)::(\w+)$/.exec(i))&&r[1]==r[2]))return"def";var i,r}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}}),c("text/x-java",{name:"clike",keywords:e("abstract assert break case catch class const continue default do else enum extends final finally float for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while"),types:e("byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),blockKeywords:e("catch class do else finally for if switch try while"),defKeywords:e("class interface package enum"),typeFirstDefinitions:!0,atoms:e("true false null"),endStatement:/^[;:]$/,number:/^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"}},modeProps:{fold:["brace","import"]}}),c("text/x-csharp",{name:"clike",keywords:e("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in interface internal is lock namespace new operator out override params private protected public readonly ref return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),types:e("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),blockKeywords:e("catch class do else finally for foreach if struct switch try while"),defKeywords:e("class interface namespace struct var"),typeFirstDefinitions:!0,atoms:e("true false null"),hooks:{"@":function(e,t){return e.eat('"')?(t.tokenize=s)(e,t):(e.eatWhile(/[\w\$_]/),"meta")}}}),c("text/x-scala",{name:"clike",keywords:e("abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ : = => <- <: <% >: # @ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble :: #:: "),types:e("AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),multiLineStrings:!0,blockKeywords:e("catch class do else finally for forSome if match switch try while"),defKeywords:e("class def object package trait type val var"),atoms:e("true false null"),indentStatements:!1,indentSwitch:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return!!e.match('""')&&(t.tokenize=u,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},"=":function(e,t){var n=t.context;return!("}"!=n.type||!n.align||!e.eat(">"))&&(t.context=new I(n.indented,n.column,n.type,n.info,null,n.prev),"operator")}},modeProps:{closeBrackets:{triples:'"'}}}),c("text/x-kotlin",{name:"clike",keywords:e("package as typealias class interface this super val var fun for is in This throw return break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix"),types:e("Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"),intendSwitch:!1,indentStatements:!1,multiLineStrings:!0,blockKeywords:e("catch class do else finally for if where try while enum"),defKeywords:e("class val var object package interface fun"),atoms:e("true false null this"),hooks:{'"':function(e,t){var o;return t.tokenize=(o=e.match('""'),function(e,t){for(var n,i=!1,r=!1;!e.eol();){if(!o&&!i&&e.match('"')){r=!0;break}if(o&&e.match('"""')){r=!0;break}n=e.next(),!i&&"$"==n&&e.match("{")&&e.skipTo("}"),i=!i&&"\\"==n&&!o}return!r&&o||(t.tokenize=null),"string"}),t.tokenize(e,t)}},modeProps:{closeBrackets:{triples:'"'}}}),c(["x-shader/x-vertex","x-shader/x-fragment"],{name:"clike",keywords:e("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),types:e("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),blockKeywords:e("for while do if else struct"),builtin:e("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),atoms:e("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TexureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),indentSwitch:!1,hooks:{"#":r},modeProps:{fold:["brace","include"]}}),c("text/x-nesc",{name:"clike",keywords:e(t+"as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),types:e(n),blockKeywords:e("case do else for if switch while struct"),atoms:e("null true false"),hooks:{"#":r},modeProps:{fold:["brace","include"]}}),c("text/x-objectivec",{name:"clike",keywords:e(t+"inline restrict _Bool _Complex _Imaginary BOOL Class bycopy byref id IMP in inout nil oneway out Protocol SEL self super atomic nonatomic retain copy readwrite readonly"),types:e(n),atoms:e("YES NO NULL NILL ON OFF true false"),hooks:{"@":function(e){return e.eatWhile(/[\w\$]/),"keyword"},"#":r,indent:function(e,t,n){if("statement"==t.type&&/^@\w/.test(n))return t.indented}},modeProps:{fold:"brace"}}),c("text/x-squirrel",{name:"clike",keywords:e("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),types:e(n),blockKeywords:e("case catch class else for foreach if switch try while"),defKeywords:e("function local class"),typeFirstDefinitions:!0,atoms:e("true false null"),hooks:{"#":r},modeProps:{fold:["brace","include"]}});var d=null;c("text/x-ceylon",{name:"clike",keywords:e("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),types:function(e){var t=e.charAt(0);return t===t.toUpperCase()&&t!==t.toLowerCase()},blockKeywords:e("case catch class dynamic else finally for function if interface module new object switch try while"),defKeywords:e("class dynamic function interface module object package value"),builtin:e("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),isPunctuationChar:/[\[\]{}\(\),;\:\.`]/,isOperatorChar:/[+\-*&%=<>!?|^~:\/]/,numberStart:/[\d#$]/,number:/^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,multiLineStrings:!0,typeFirstDefinitions:!0,atoms:e("true false null larger smaller equal empty finished"),indentSwitch:!1,styleDefs:!1,hooks:{"@":function(e){return e.eatWhile(/[\w\$_]/),"meta"},'"':function(e,t){return t.tokenize=function o(a){return function(e,t){for(var n,i=!1,r=!1;!e.eol();){if(!i&&e.match('"')&&("single"==a||e.match('""'))){r=!0;break}if(!i&&e.match("``")){d=o(a),r=!0;break}n=e.next(),i="single"==a&&!i&&"\\"==n}return r&&(t.tokenize=null),"string"}}(e.match('""')?"triple":"single"),t.tokenize(e,t)},"`":function(e,t){return!(!d||!e.match("`"))&&(t.tokenize=d,d=null,t.tokenize(e,t))},"'":function(e){return e.eatWhile(/[\w\$_\xa1-\uffff]/),"atom"},token:function(e,t,n){if(("variable"==n||"variable-3"==n)&&"."==t.prevToken)return"variable-2"}},modeProps:{fold:["brace","import"],closeBrackets:{triples:'"'}}})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("yaml",function(){var r=new RegExp("\\b(("+["true","false","on","off","yes","no"].join(")|(")+"))$","i");return{token:function(e,t){var n=e.peek(),i=t.escaped;if(t.escaped=!1,"#"==n&&(0==e.pos||/\s/.test(e.string.charAt(e.pos-1))))return e.skipToEnd(),"comment";if(e.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))return"string";if(t.literal&&e.indentation()>t.keyCol)return e.skipToEnd(),"string";if(t.literal&&(t.literal=!1),e.sol()){if(t.keyCol=0,t.pair=!1,t.pairStart=!1,e.match(/---/))return"def";if(e.match(/\.\.\./))return"def";if(e.match(/\s*-\s+/))return"meta"}if(e.match(/^(\{|\}|\[|\])/))return"{"==n?t.inlinePairs++:"}"==n?t.inlinePairs--:"["==n?t.inlineList++:t.inlineList--,"meta";if(0<t.inlineList&&!i&&","==n)return e.next(),"meta";if(0<t.inlinePairs&&!i&&","==n)return t.keyCol=0,t.pair=!1,t.pairStart=!1,e.next(),"meta";if(t.pairStart){if(e.match(/^\s*(\||\>)\s*/))return t.literal=!0,"meta";if(e.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i))return"variable-2";if(0==t.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?$/))return"number";if(0<t.inlinePairs&&e.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/))return"number";if(e.match(r))return"keyword"}return!t.pair&&e.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)?(t.pair=!0,t.keyCol=e.indentation(),"atom"):t.pair&&e.match(/^:\s*/)?(t.pairStart=!0,"meta"):(t.pairStart=!1,t.escaped="\\"==n,e.next(),null)},startState:function(){return{pair:!1,pairStart:!1,keyCol:0,inlinePairs:0,inlineList:0,literal:!1,escaped:!1}}}}),e.defineMIME("text/x-yaml","yaml")});